const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-Bbf3ZyxA.js","assets/html-B8pBdPMQ.js","assets/javascript-BMMyXqK5.js","assets/css-DPfMkruS.js","assets/angular-ts-C26w9mnW.js","assets/scss-OYdSNvt2.js","assets/apl-e980N3t4.js","assets/xml-sdJ4AIDG.js","assets/java-CylS5w8V.js","assets/json-Cp-IABpG.js","assets/astro-CjFzhNUq.js","assets/typescript-DlfHMoPT.js","assets/postcss-CXtECtnM.js","assets/tsx-COt5Ahok.js","assets/blade-DGJDb2eD.js","assets/html-derivative-ZQ8onl8Z.js","assets/sql-B9xm8XSJ.js","assets/bsl-BO_Y6i37.js","assets/sdbl-DVxCFoDh.js","assets/cairo-KRGpt6FW.js","assets/python-B6aJPvgy.js","assets/cobol-CCPHrsME.js","assets/coffee-JUOWOZUj.js","assets/cpp-ChttZZSa.js","assets/regexp-CDVJQ6XC.js","assets/glsl-DplSGwfg.js","assets/c-BIGW1oBm.js","assets/crystal-CfkhwHAQ.js","assets/shellscript-Yzrsuije.js","assets/edge-CKszZCnI.js","assets/elixir-Cc7HHYVZ.js","assets/elm-DbKCFpqz.js","assets/erb-D3EuUlpm.js","assets/ruby-C5MNRm7z.js","assets/haml-AZXGPtNI.js","assets/graphql-Caa12_AY.js","assets/jsx-g9-lgVsj.js","assets/lua-BbnMAYS6.js","assets/yaml-Buea-lGh.js","assets/fortran-fixed-form-BZjJHVRy.js","assets/fortran-free-form-D22FLkUw.js","assets/fsharp-DQy8In2x.js","assets/markdown-RrBGtqGR.js","assets/gdresource-BSDf9Pz1.js","assets/gdshader-DkwncUOv.js","assets/gdscript-Bty6elJm.js","assets/git-commit-F4YmCXRG.js","assets/diff-D97Zzqfu.js","assets/git-rebase-r7XF79zn.js","assets/glimmer-js-Dz9X99Cm.js","assets/glimmer-ts-aQ3p29eY.js","assets/hack-C1oSbnf3.js","assets/handlebars-YebKLiTq.js","assets/http-C38VWM-o.js","assets/hxml-B2Z6b3nn.js","assets/haxe-BP3HzMA6.js","assets/jinja-BJmZiE_F.js","assets/jison-BCRtk9Os.js","assets/julia-Dn4fBTUU.js","assets/r-DyVeJk2s.js","assets/latex-DoYF_zFQ.js","assets/tex-BTEcxGmc.js","assets/liquid-DFk8BABL.js","assets/marko-C0z8HR23.js","assets/less-B1dDrJ26.js","assets/mdc-02rxpBA4.js","assets/nginx-DknmC5AR.js","assets/nim-ANgMEeb1.js","assets/perl-EWVMYlR0.js","assets/php-9PMsNEzE.js","assets/pug-Ch9lOoSd.js","assets/qml-CHzV51_b.js","assets/razor-CNXmhs1n.js","assets/csharp-CHadp7IV.js","assets/rst-DHpKpUMA.js","assets/cmake-D1j8_8rp.js","assets/sas-Dlf3BogE.js","assets/shaderlab-Dg9Lc6iA.js","assets/hlsl-D3lLCCz7.js","assets/shellsession-BADoaaVG.js","assets/soy-B_7ge1HE.js","assets/sparql-rVzFXLq3.js","assets/turtle-BsS91CYL.js","assets/stata-C5TGba-T.js","assets/svelte-Dt5jNKfG.js","assets/templ-DN2Co29m.js","assets/go-ByKsyG03.js","assets/ts-tags-CHnADXob.js","assets/twig-febACT8g.js","assets/vue-CqZX_ekU.js","assets/vue-html-DJL_i-Ck.js","assets/xsl-CtQFsRM5.js","assets/dagre-FFZHY6LT-uaKLeTY0.js","assets/graph-dERFMJa1.js","assets/_baseUniq-1trwEpOE.js","assets/layout-D0l6uzUF.js","assets/_basePickBy-B4U6jfE7.js","assets/clone-Dzbvtbmk.js","assets/c4Diagram-6F6E4RAY-DMRJzWzG.js","assets/chunk-67H74DCK-Bys80bxV.js","assets/flowDiagram-PKI6S5ZS-gHzBip7Z.js","assets/chunk-E2GYISFI-Cex_6QCy.js","assets/chunk-BFAMUDN2-C7QmVVGz.js","assets/chunk-SKB7J2MH-DAST6MQT.js","assets/channel-D4Tl8XtI.js","assets/erDiagram-R3QVA2FD-CYl36Jmz.js","assets/gitGraphDiagram-GW3U2K7C-BNizPoKb.js","assets/chunk-353BL4L5-BD-O6XZ9.js","assets/chunk-AACKK3MU-DExsiPj8.js","assets/treemap-FKARHQ26-DvujwFgf.js","assets/ganttDiagram-EK5VF46D-DsdYXSZv.js","assets/linear-DyEAv-K0.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-RLU2ROGC-CyN_kS_U.js","assets/pieDiagram-NIOCPIFQ-DSxjnQqK.js","assets/arc-CezYnmPo.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-2OG54O6I-_dBhgpsj.js","assets/xychartDiagram-H2YORKM3-CmCIPnNh.js","assets/requirementDiagram-SO3GGRV7-DIvCl4Al.js","assets/sequenceDiagram-ZIKVLSP4-CWjKkc12.js","assets/classDiagram-BGRH5UQR-CFeGVbmb.js","assets/chunk-QEP2MXWD-CAMPrBBG.js","assets/classDiagram-v2-O24JOBDK-CFeGVbmb.js","assets/stateDiagram-XX37X6EN-CBafzAKa.js","assets/chunk-6OLS64BW-DENu_tlQ.js","assets/stateDiagram-v2-GD6S3NHB-CRUwY8hx.js","assets/journeyDiagram-EWQZEKCU-BpHYQnV9.js","assets/timeline-definition-RI47OAVP-CAXLuuiv.js","assets/mindmap-definition-CZNETY7S-DJVoGMG3.js","assets/cytoscape.esm-F8uH5KkN.js","assets/kanban-definition-ILFWEQ3N-DJ6R8D3P.js","assets/sankeyDiagram-4UZDY2LN-CFnphS-o.js","assets/diagram-5UYTHUR4-DeP8RViG.js","assets/diagram-ZTM2IBQH-ImG0xLWM.js","assets/blockDiagram-PHRCVELO-C6vLHyrE.js","assets/architectureDiagram-NQ2NVSRB-zvemkbzl.js","assets/diagram-3EMPZRKU-BkjuvQHq.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=i(s);fetch(s.href,a)}})();function hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PT={exports:{}},yy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yL;function p$(){if(yL)return yy;yL=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,s,a){var o=null;if(a!==void 0&&(o=""+a),s.key!==void 0&&(o=""+s.key),"key"in s){a={};for(var l in s)l!=="key"&&(a[l]=s[l])}else a=s;return s=a.ref,{$$typeof:t,type:r,key:o,ref:s!==void 0?s:null,props:a}}return yy.Fragment=e,yy.jsx=i,yy.jsxs=i,yy}var vL;function m$(){return vL||(vL=1,PT.exports=p$()),PT.exports}var n=m$(),OT={exports:{}},Rn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _L;function g$(){if(_L)return Rn;_L=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.iterator;function v(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,T={};function C(W,re,de){this.props=W,this.context=re,this.refs=T,this.updater=de||_}C.prototype.isReactComponent={},C.prototype.setState=function(W,re){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,re,"setState")},C.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function w(){}w.prototype=C.prototype;function A(W,re,de){this.props=W,this.context=re,this.refs=T,this.updater=de||_}var L=A.prototype=new w;L.constructor=A,j(L,C.prototype),L.isPureReactComponent=!0;var k=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},z=Object.prototype.hasOwnProperty;function U(W,re,de,fe,ae,pe){return de=pe.ref,{$$typeof:t,type:W,key:re,ref:de!==void 0?de:null,props:pe}}function H(W,re){return U(W.type,re,void 0,void 0,void 0,W.props)}function P(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function N(W){var re={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(de){return re[de]})}var G=/\/+/g;function te(W,re){return typeof W=="object"&&W!==null&&W.key!=null?N(""+W.key):re.toString(36)}function Q(){}function K(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(Q,Q):(W.status="pending",W.then(function(re){W.status==="pending"&&(W.status="fulfilled",W.value=re)},function(re){W.status==="pending"&&(W.status="rejected",W.reason=re)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function ee(W,re,de,fe,ae){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var De=!1;if(W===null)De=!0;else switch(pe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(W.$$typeof){case t:case e:De=!0;break;case p:return De=W._init,ee(De(W._payload),re,de,fe,ae)}}if(De)return ae=ae(W),De=fe===""?"."+te(W,0):fe,k(ae)?(de="",De!=null&&(de=De.replace(G,"$&/")+"/"),ee(ae,re,de,"",function(Ze){return Ze})):ae!=null&&(P(ae)&&(ae=H(ae,de+(ae.key==null||W&&W.key===ae.key?"":(""+ae.key).replace(G,"$&/")+"/")+De)),re.push(ae)),1;De=0;var Be=fe===""?".":fe+":";if(k(W))for(var Ue=0;Ue<W.length;Ue++)fe=W[Ue],pe=Be+te(fe,Ue),De+=ee(fe,re,de,pe,ae);else if(Ue=v(W),typeof Ue=="function")for(W=Ue.call(W),Ue=0;!(fe=W.next()).done;)fe=fe.value,pe=Be+te(fe,Ue++),De+=ee(fe,re,de,pe,ae);else if(pe==="object"){if(typeof W.then=="function")return ee(K(W),re,de,fe,ae);throw re=String(W),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return De}function O(W,re,de){if(W==null)return W;var fe=[],ae=0;return ee(W,fe,"","",function(pe){return re.call(de,pe,ae++)}),fe}function q(W){if(W._status===-1){var re=W._result;re=re(),re.then(function(de){(W._status===0||W._status===-1)&&(W._status=1,W._result=de)},function(de){(W._status===0||W._status===-1)&&(W._status=2,W._result=de)}),W._status===-1&&(W._status=0,W._result=re)}if(W._status===1)return W._result.default;throw W._result}var V=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)};function le(){}return Rn.Children={map:O,forEach:function(W,re,de){O(W,function(){re.apply(this,arguments)},de)},count:function(W){var re=0;return O(W,function(){re++}),re},toArray:function(W){return O(W,function(re){return re})||[]},only:function(W){if(!P(W))throw Error("React.Children.only expected to receive a single React element child.");return W}},Rn.Component=C,Rn.Fragment=i,Rn.Profiler=s,Rn.PureComponent=A,Rn.StrictMode=r,Rn.Suspense=h,Rn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Rn.__COMPILER_RUNTIME={__proto__:null,c:function(W){return I.H.useMemoCache(W)}},Rn.cache=function(W){return function(){return W.apply(null,arguments)}},Rn.cloneElement=function(W,re,de){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var fe=j({},W.props),ae=W.key,pe=void 0;if(re!=null)for(De in re.ref!==void 0&&(pe=void 0),re.key!==void 0&&(ae=""+re.key),re)!z.call(re,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&re.ref===void 0||(fe[De]=re[De]);var De=arguments.length-2;if(De===1)fe.children=de;else if(1<De){for(var Be=Array(De),Ue=0;Ue<De;Ue++)Be[Ue]=arguments[Ue+2];fe.children=Be}return U(W.type,ae,void 0,void 0,pe,fe)},Rn.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:a,_context:W},W},Rn.createElement=function(W,re,de){var fe,ae={},pe=null;if(re!=null)for(fe in re.key!==void 0&&(pe=""+re.key),re)z.call(re,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ae[fe]=re[fe]);var De=arguments.length-2;if(De===1)ae.children=de;else if(1<De){for(var Be=Array(De),Ue=0;Ue<De;Ue++)Be[Ue]=arguments[Ue+2];ae.children=Be}if(W&&W.defaultProps)for(fe in De=W.defaultProps,De)ae[fe]===void 0&&(ae[fe]=De[fe]);return U(W,pe,void 0,void 0,null,ae)},Rn.createRef=function(){return{current:null}},Rn.forwardRef=function(W){return{$$typeof:l,render:W}},Rn.isValidElement=P,Rn.lazy=function(W){return{$$typeof:p,_payload:{_status:-1,_result:W},_init:q}},Rn.memo=function(W,re){return{$$typeof:d,type:W,compare:re===void 0?null:re}},Rn.startTransition=function(W){var re=I.T,de={};I.T=de;try{var fe=W(),ae=I.S;ae!==null&&ae(de,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(le,V)}catch(pe){V(pe)}finally{I.T=re}},Rn.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Rn.use=function(W){return I.H.use(W)},Rn.useActionState=function(W,re,de){return I.H.useActionState(W,re,de)},Rn.useCallback=function(W,re){return I.H.useCallback(W,re)},Rn.useContext=function(W){return I.H.useContext(W)},Rn.useDebugValue=function(){},Rn.useDeferredValue=function(W,re){return I.H.useDeferredValue(W,re)},Rn.useEffect=function(W,re,de){var fe=I.H;if(typeof de=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return fe.useEffect(W,re)},Rn.useId=function(){return I.H.useId()},Rn.useImperativeHandle=function(W,re,de){return I.H.useImperativeHandle(W,re,de)},Rn.useInsertionEffect=function(W,re){return I.H.useInsertionEffect(W,re)},Rn.useLayoutEffect=function(W,re){return I.H.useLayoutEffect(W,re)},Rn.useMemo=function(W,re){return I.H.useMemo(W,re)},Rn.useOptimistic=function(W,re){return I.H.useOptimistic(W,re)},Rn.useReducer=function(W,re,de){return I.H.useReducer(W,re,de)},Rn.useRef=function(W){return I.H.useRef(W)},Rn.useState=function(W){return I.H.useState(W)},Rn.useSyncExternalStore=function(W,re,de){return I.H.useSyncExternalStore(W,re,de)},Rn.useTransition=function(){return I.H.useTransition()},Rn.version="19.1.0",Rn}var bL;function Ug(){return bL||(bL=1,OT.exports=g$()),OT.exports}var ze=Ug();const mg=hv(ze);var BT={exports:{}},vy={},IT={exports:{}},FT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jL;function x$(){return jL||(jL=1,function(t){function e(O,q){var V=O.length;O.push(q);e:for(;0<V;){var le=V-1>>>1,W=O[le];if(0<s(W,q))O[le]=q,O[V]=W,V=le;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var q=O[0],V=O.pop();if(V!==q){O[0]=V;e:for(var le=0,W=O.length,re=W>>>1;le<re;){var de=2*(le+1)-1,fe=O[de],ae=de+1,pe=O[ae];if(0>s(fe,V))ae<W&&0>s(pe,fe)?(O[le]=pe,O[ae]=V,le=ae):(O[le]=fe,O[de]=V,le=de);else if(ae<W&&0>s(pe,V))O[le]=pe,O[ae]=V,le=ae;else break e}}return q}function s(O,q){var V=O.sortIndex-q.sortIndex;return V!==0?V:O.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var h=[],d=[],p=1,g=null,v=3,_=!1,j=!1,T=!1,C=!1,w=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function k(O){for(var q=i(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=O)r(d),q.sortIndex=q.expirationTime,e(h,q);else break;q=i(d)}}function I(O){if(T=!1,k(O),!j)if(i(h)!==null)j=!0,z||(z=!0,te());else{var q=i(d);q!==null&&ee(I,q.startTime-O)}}var z=!1,U=-1,H=5,P=-1;function N(){return C?!0:!(t.unstable_now()-P<H)}function G(){if(C=!1,z){var O=t.unstable_now();P=O;var q=!0;try{e:{j=!1,T&&(T=!1,A(U),U=-1),_=!0;var V=v;try{t:{for(k(O),g=i(h);g!==null&&!(g.expirationTime>O&&N());){var le=g.callback;if(typeof le=="function"){g.callback=null,v=g.priorityLevel;var W=le(g.expirationTime<=O);if(O=t.unstable_now(),typeof W=="function"){g.callback=W,k(O),q=!0;break t}g===i(h)&&r(h),k(O)}else r(h);g=i(h)}if(g!==null)q=!0;else{var re=i(d);re!==null&&ee(I,re.startTime-O),q=!1}}break e}finally{g=null,v=V,_=!1}q=void 0}}finally{q?te():z=!1}}}var te;if(typeof L=="function")te=function(){L(G)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,K=Q.port2;Q.port1.onmessage=G,te=function(){K.postMessage(null)}}else te=function(){w(G,0)};function ee(O,q){U=w(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var V=v;v=q;try{return O()}finally{v=V}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=v;v=O;try{return q()}finally{v=V}},t.unstable_scheduleCallback=function(O,q,V){var le=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?le+V:le):V=le,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,O={id:p++,callback:q,priorityLevel:O,startTime:V,expirationTime:W,sortIndex:-1},V>le?(O.sortIndex=V,e(d,O),i(h)===null&&O===i(d)&&(T?(A(U),U=-1):T=!0,ee(I,V-le))):(O.sortIndex=W,e(h,O),j||_||(j=!0,z||(z=!0,te()))),O},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(O){var q=v;return function(){var V=v;v=q;try{return O.apply(this,arguments)}finally{v=V}}}}(FT)),FT}var SL;function y$(){return SL||(SL=1,IT.exports=x$()),IT.exports}var UT={exports:{}},Ls={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wL;function v$(){if(wL)return Ls;wL=1;var t=Ug();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");function a(h,d,p){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:h,containerInfo:d,implementation:p}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ls.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ls.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return a(h,d,null,p)},Ls.flushSync=function(h){var d=o.T,p=r.p;try{if(o.T=null,r.p=2,h)return h()}finally{o.T=d,r.p=p,r.d.f()}},Ls.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},Ls.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ls.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,_=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:_}):p==="script"&&r.d.X(h,{crossOrigin:g,integrity:v,fetchPriority:_,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ls.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=l(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},Ls.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,g=l(p,d.crossOrigin);r.d.L(h,p,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ls.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=l(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},Ls.requestFormReset=function(h){r.d.r(h)},Ls.unstable_batchedUpdates=function(h,d){return h(d)},Ls.useFormState=function(h,d,p){return o.H.useFormState(h,d,p)},Ls.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ls.version="19.1.0",Ls}var TL;function TI(){if(TL)return UT.exports;TL=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),UT.exports=v$(),UT.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CL;function _$(){if(CL)return vy;CL=1;var t=y$(),e=Ug(),i=TI();function r(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var u=c,x=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(x=u.return),c=u.return;while(c)}return u.tag===3?x:null}function o(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function l(c){if(a(c)!==c)throw Error(r(188))}function h(c){var u=c.alternate;if(!u){if(u=a(c),u===null)throw Error(r(188));return u!==c?null:c}for(var x=c,b=u;;){var M=x.return;if(M===null)break;var R=M.alternate;if(R===null){if(b=M.return,b!==null){x=b;continue}break}if(M.child===R.child){for(R=M.child;R;){if(R===x)return l(M),c;if(R===b)return l(M),u;R=R.sibling}throw Error(r(188))}if(x.return!==b.return)x=M,b=R;else{for(var $=!1,Z=M.child;Z;){if(Z===x){$=!0,x=M,b=R;break}if(Z===b){$=!0,b=M,x=R;break}Z=Z.sibling}if(!$){for(Z=R.child;Z;){if(Z===x){$=!0,x=R,b=M;break}if(Z===b){$=!0,b=R,x=M;break}Z=Z.sibling}if(!$)throw Error(r(189))}}if(x.alternate!==b)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?c:u}function d(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c;for(c=c.child;c!==null;){if(u=d(c),u!==null)return u;c=c.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),L=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function te(c){return c===null||typeof c!="object"?null:(c=G&&c[G]||c["@@iterator"],typeof c=="function"?c:null)}var Q=Symbol.for("react.client.reference");function K(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Q?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case j:return"Fragment";case C:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case z:return"SuspenseList";case P:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case _:return"Portal";case L:return(c.displayName||"Context")+".Provider";case A:return(c._context.displayName||"Context")+".Consumer";case k:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case U:return u=c.displayName||null,u!==null?u:K(c.type)||"Memo";case H:u=c._payload,c=c._init;try{return K(c(u))}catch{}}return null}var ee=Array.isArray,O=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},le=[],W=-1;function re(c){return{current:c}}function de(c){0>W||(c.current=le[W],le[W]=null,W--)}function fe(c,u){W++,le[W]=c.current,c.current=u}var ae=re(null),pe=re(null),De=re(null),Be=re(null);function Ue(c,u){switch(fe(De,u),fe(pe,c),fe(ae,null),u.nodeType){case 9:case 11:c=(c=u.documentElement)&&(c=c.namespaceURI)?qR(c):0;break;default:if(c=u.tagName,u=u.namespaceURI)u=qR(u),c=WR(u,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}de(ae),fe(ae,c)}function Ze(){de(ae),de(pe),de(De)}function Je(c){c.memoizedState!==null&&fe(Be,c);var u=ae.current,x=WR(u,c.type);u!==x&&(fe(pe,c),fe(ae,x))}function Nt(c){pe.current===c&&(de(ae),de(pe)),Be.current===c&&(de(Be),fy._currentValue=V)}var Et=Object.prototype.hasOwnProperty,At=t.unstable_scheduleCallback,ne=t.unstable_cancelCallback,rt=t.unstable_shouldYield,qe=t.unstable_requestPaint,We=t.unstable_now,He=t.unstable_getCurrentPriorityLevel,vt=t.unstable_ImmediatePriority,tt=t.unstable_UserBlockingPriority,xt=t.unstable_NormalPriority,Ct=t.unstable_LowPriority,se=t.unstable_IdlePriority,Y=t.log,Ce=t.unstable_setDisableYieldValue,Ie=null,Ve=null;function Fe(c){if(typeof Y=="function"&&Ce(c),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(Ie,c)}catch{}}var _t=Math.clz32?Math.clz32:Lt,gt=Math.log,Rt=Math.LN2;function Lt(c){return c>>>=0,c===0?32:31-(gt(c)/Rt|0)|0}var Xe=256,ft=4194304;function kt(c){var u=c&42;if(u!==0)return u;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function zt(c,u,x){var b=c.pendingLanes;if(b===0)return 0;var M=0,R=c.suspendedLanes,$=c.pingedLanes;c=c.warmLanes;var Z=b&134217727;return Z!==0?(b=Z&~R,b!==0?M=kt(b):($&=Z,$!==0?M=kt($):x||(x=Z&~c,x!==0&&(M=kt(x))))):(Z=b&~R,Z!==0?M=kt(Z):$!==0?M=kt($):x||(x=b&~c,x!==0&&(M=kt(x)))),M===0?0:u!==0&&u!==M&&(u&R)===0&&(R=M&-M,x=u&-u,R>=x||R===32&&(x&4194048)!==0)?u:M}function ct(c,u){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&u)===0}function rn(c,u){switch(c){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var c=Xe;return Xe<<=1,(Xe&4194048)===0&&(Xe=256),c}function yt(){var c=ft;return ft<<=1,(ft&62914560)===0&&(ft=4194304),c}function st(c){for(var u=[],x=0;31>x;x++)u.push(c);return u}function jt(c,u){c.pendingLanes|=u,u!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ot(c,u,x,b,M,R){var $=c.pendingLanes;c.pendingLanes=x,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=x,c.entangledLanes&=x,c.errorRecoveryDisabledLanes&=x,c.shellSuspendCounter=0;var Z=c.entanglements,ce=c.expirationTimes,Le=c.hiddenUpdates;for(x=$&~x;0<x;){var $e=31-_t(x),et=1<<$e;Z[$e]=0,ce[$e]=-1;var Ne=Le[$e];if(Ne!==null)for(Le[$e]=null,$e=0;$e<Ne.length;$e++){var Pe=Ne[$e];Pe!==null&&(Pe.lane&=-536870913)}x&=~et}b!==0&&Ke(c,b,0),R!==0&&M===0&&c.tag!==0&&(c.suspendedLanes|=R&~($&~u))}function Ke(c,u,x){c.pendingLanes|=u,c.suspendedLanes&=~u;var b=31-_t(u);c.entangledLanes|=u,c.entanglements[b]=c.entanglements[b]|1073741824|x&4194090}function mt(c,u){var x=c.entangledLanes|=u;for(c=c.entanglements;x;){var b=31-_t(x),M=1<<b;M&u|c[b]&u&&(c[b]|=u),x&=~M}}function qt(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Un(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Dn(){var c=q.p;return c!==0?c:(c=window.event,c===void 0?32:dL(c.type))}function mr(c,u){var x=q.p;try{return q.p=c,u()}finally{q.p=x}}var Bi=Math.random().toString(36).slice(2),Di="__reactFiber$"+Bi,qi="__reactProps$"+Bi,pi="__reactContainer$"+Bi,Wi="__reactEvents$"+Bi,Nl="__reactListeners$"+Bi,vs="__reactHandles$"+Bi,ar="__reactResources$"+Bi,_s="__reactMarker$"+Bi;function kn(c){delete c[Di],delete c[qi],delete c[Wi],delete c[Nl],delete c[vs]}function bs(c){var u=c[Di];if(u)return u;for(var x=c.parentNode;x;){if(u=x[pi]||x[Di]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(c=ZR(c);c!==null;){if(x=c[Di])return x;c=ZR(c)}return u}c=x,x=c.parentNode}return null}function js(c){if(c=c[Di]||c[pi]){var u=c.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return c}return null}function qa(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c.stateNode;throw Error(r(33))}function va(c){var u=c[ar];return u||(u=c[ar]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Ii(c){c[_s]=!0}var Pt=new Set,xe={};function at(c,u){X(c,u),X(c+"Capture",u)}function X(c,u){for(xe[c]=u,c=0;c<u.length;c++)Pt.add(u[c])}var ue=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ee={},Ae={};function be(c){return Et.call(Ae,c)?!0:Et.call(Ee,c)?!1:ue.test(c)?Ae[c]=!0:(Ee[c]=!0,!1)}function Qe(c,u,x){if(be(u))if(x===null)c.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":c.removeAttribute(u);return;case"boolean":var b=u.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(u);return}}c.setAttribute(u,""+x)}}function pt(c,u,x){if(x===null)c.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(u);return}c.setAttribute(u,""+x)}}function bt(c,u,x,b){if(b===null)c.removeAttribute(x);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(x);return}c.setAttributeNS(u,x,""+b)}}var dt,Jt;function Wt(c){if(dt===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);dt=u&&u[1]||"",Jt=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dt+c+Jt}var Gt=!1;function jn(c,u){if(!c||Gt)return"";Gt=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(u){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(Pe){var Ne=Pe}Reflect.construct(c,[],et)}else{try{et.call()}catch(Pe){Ne=Pe}c.call(et.prototype)}}else{try{throw Error()}catch(Pe){Ne=Pe}(et=c())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(Pe){if(Pe&&Ne&&typeof Pe.stack=="string")return[Pe.stack,Ne.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var M=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");M&&M.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=b.DetermineComponentFrameRoot(),$=R[0],Z=R[1];if($&&Z){var ce=$.split(`
`),Le=Z.split(`
`);for(M=b=0;b<ce.length&&!ce[b].includes("DetermineComponentFrameRoot");)b++;for(;M<Le.length&&!Le[M].includes("DetermineComponentFrameRoot");)M++;if(b===ce.length||M===Le.length)for(b=ce.length-1,M=Le.length-1;1<=b&&0<=M&&ce[b]!==Le[M];)M--;for(;1<=b&&0<=M;b--,M--)if(ce[b]!==Le[M]){if(b!==1||M!==1)do if(b--,M--,0>M||ce[b]!==Le[M]){var $e=`
`+ce[b].replace(" at new "," at ");return c.displayName&&$e.includes("<anonymous>")&&($e=$e.replace("<anonymous>",c.displayName)),$e}while(1<=b&&0<=M);break}}}finally{Gt=!1,Error.prepareStackTrace=x}return(x=c?c.displayName||c.name:"")?Wt(x):""}function Qn(c){switch(c.tag){case 26:case 27:case 5:return Wt(c.type);case 16:return Wt("Lazy");case 13:return Wt("Suspense");case 19:return Wt("SuspenseList");case 0:case 15:return jn(c.type,!1);case 11:return jn(c.type.render,!1);case 1:return jn(c.type,!0);case 31:return Wt("Activity");default:return""}}function bi(c){try{var u="";do u+=Qn(c),c=c.return;while(c);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function Tn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Jn(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function en(c){var u=Jn(c)?"checked":"value",x=Object.getOwnPropertyDescriptor(c.constructor.prototype,u),b=""+c[u];if(!c.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var M=x.get,R=x.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return M.call(this)},set:function($){b=""+$,R.call(this,$)}}),Object.defineProperty(c,u,{enumerable:x.enumerable}),{getValue:function(){return b},setValue:function($){b=""+$},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function oi(c){c._valueTracker||(c._valueTracker=en(c))}function Bn(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var x=u.getValue(),b="";return c&&(b=Jn(c)?c.checked?"true":"false":c.value),c=b,c!==x?(u.setValue(c),!0):!1}function or(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var mo=/[\n"\\]/g;function mi(c){return c.replace(mo,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function go(c,u,x,b,M,R,$,Z){c.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?c.type=$:c.removeAttribute("type"),u!=null?$==="number"?(u===0&&c.value===""||c.value!=u)&&(c.value=""+Tn(u)):c.value!==""+Tn(u)&&(c.value=""+Tn(u)):$!=="submit"&&$!=="reset"||c.removeAttribute("value"),u!=null?Er(c,$,Tn(u)):x!=null?Er(c,$,Tn(x)):b!=null&&c.removeAttribute("value"),M==null&&R!=null&&(c.defaultChecked=!!R),M!=null&&(c.checked=M&&typeof M!="function"&&typeof M!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?c.name=""+Tn(Z):c.removeAttribute("name")}function hi(c,u,x,b,M,R,$,Z){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(c.type=R),u!=null||x!=null){if(!(R!=="submit"&&R!=="reset"||u!=null))return;x=x!=null?""+Tn(x):"",u=u!=null?""+Tn(u):x,Z||u===c.value||(c.value=u),c.defaultValue=u}b=b??M,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=Z?c.checked:!!b,c.defaultChecked=!!b,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(c.name=$)}function Er(c,u,x){u==="number"&&or(c.ownerDocument)===c||c.defaultValue===""+x||(c.defaultValue=""+x)}function er(c,u,x,b){if(c=c.options,u){u={};for(var M=0;M<x.length;M++)u["$"+x[M]]=!0;for(x=0;x<c.length;x++)M=u.hasOwnProperty("$"+c[x].value),c[x].selected!==M&&(c[x].selected=M),M&&b&&(c[x].defaultSelected=!0)}else{for(x=""+Tn(x),u=null,M=0;M<c.length;M++){if(c[M].value===x){c[M].selected=!0,b&&(c[M].defaultSelected=!0);return}u!==null||c[M].disabled||(u=c[M])}u!==null&&(u.selected=!0)}}function gr(c,u,x){if(u!=null&&(u=""+Tn(u),u!==c.value&&(c.value=u),x==null)){c.defaultValue!==u&&(c.defaultValue=u);return}c.defaultValue=x!=null?""+Tn(x):""}function xr(c,u,x,b){if(u==null){if(b!=null){if(x!=null)throw Error(r(92));if(ee(b)){if(1<b.length)throw Error(r(93));b=b[0]}x=b}x==null&&(x=""),u=x}x=Tn(u),c.defaultValue=x,b=c.textContent,b===x&&b!==""&&b!==null&&(c.value=b)}function ts(c,u){if(u){var x=c.firstChild;if(x&&x===c.lastChild&&x.nodeType===3){x.nodeValue=u;return}}c.textContent=u}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xd(c,u,x){var b=u.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?b?c.setProperty(u,""):u==="float"?c.cssFloat="":c[u]="":b?c.setProperty(u,x):typeof x!="number"||x===0||xo.has(u)?u==="float"?c.cssFloat=x:c[u]=(""+x).trim():c[u]=x+"px"}function yd(c,u,x){if(u!=null&&typeof u!="object")throw Error(r(62));if(c=c.style,x!=null){for(var b in x)!x.hasOwnProperty(b)||u!=null&&u.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var M in u)b=u[M],u.hasOwnProperty(M)&&x[M]!==b&&xd(c,M,b)}else for(var R in u)u.hasOwnProperty(R)&&xd(c,R,u[R])}function gp(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ov=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vd(c){return Ov.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var xp=null;function yp(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Pl=null,zc=null;function ax(c){var u=js(c);if(u&&(c=u.stateNode)){var x=c[qi]||null;e:switch(c=u.stateNode,u.type){case"input":if(go(c,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),u=x.name,x.type==="radio"&&u!=null){for(x=c;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+mi(""+u)+'"][type="radio"]'),u=0;u<x.length;u++){var b=x[u];if(b!==c&&b.form===c.form){var M=b[qi]||null;if(!M)throw Error(r(90));go(b,M.value,M.defaultValue,M.defaultValue,M.checked,M.defaultChecked,M.type,M.name)}}for(u=0;u<x.length;u++)b=x[u],b.form===c.form&&Bn(b)}break e;case"textarea":gr(c,x.value,x.defaultValue);break e;case"select":u=x.value,u!=null&&er(c,!!x.multiple,u,!1)}}}var _d=!1;function ox(c,u,x){if(_d)return c(u,x);_d=!0;try{var b=c(u);return b}finally{if(_d=!1,(Pl!==null||zc!==null)&&(ko(),Pl&&(u=Pl,c=zc,zc=Pl=null,ax(u),c)))for(u=0;u<c.length;u++)ax(c[u])}}function Vh(c,u){var x=c.stateNode;if(x===null)return null;var b=x[qi]||null;if(b===null)return null;x=b[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(x&&typeof x!="function")throw Error(r(231,u,typeof x));return x}var yo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bd=!1;if(yo)try{var Gh={};Object.defineProperty(Gh,"passive",{get:function(){bd=!0}}),window.addEventListener("test",Gh,Gh),window.removeEventListener("test",Gh,Gh)}catch{bd=!1}var Ko=null,lx=null,vp=null;function cx(){if(vp)return vp;var c,u=lx,x=u.length,b,M="value"in Ko?Ko.value:Ko.textContent,R=M.length;for(c=0;c<x&&u[c]===M[c];c++);var $=x-c;for(b=1;b<=$&&u[x-b]===M[R-b];b++);return vp=M.slice(c,1<b?1-b:void 0)}function Ol(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function $h(){return!0}function jd(){return!1}function ns(c){function u(x,b,M,R,$){this._reactName=x,this._targetInst=M,this.type=b,this.nativeEvent=R,this.target=$,this.currentTarget=null;for(var Z in c)c.hasOwnProperty(Z)&&(x=c[Z],this[Z]=x?x(R):R[Z]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?$h:jd,this.isPropagationStopped=jd,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=$h)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=$h)},persist:function(){},isPersistent:$h}),u}var Bl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qh=ns(Bl),Wh=p({},Bl,{view:0,detail:0}),Bv=ns(Wh),Zo,Xh,Yh,Kh=p({},Wh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Yh&&(Yh&&c.type==="mousemove"?(Zo=c.screenX-Yh.screenX,Xh=c.screenY-Yh.screenY):Xh=Zo=0,Yh=c),Zo)},movementY:function(c){return"movementY"in c?c.movementY:Xh}}),hx=ns(Kh),Iv=p({},Kh,{dataTransfer:0}),Jw=ns(Iv),Ar=p({},Wh,{relatedTarget:0}),_p=ns(Ar),Fv=p({},Bl,{animationName:0,elapsedTime:0,pseudoElement:0}),Uv=ns(Fv),zv=p({},Bl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Hv=ns(zv),Sd=p({},Bl,{data:0}),bp=ns(Sd),Vv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ux(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=$v[c])?!!u[c]:!1}function wd(){return ux}var qv=p({},Wh,{key:function(c){if(c.key){var u=Vv[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=Ol(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Gv[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wd,charCode:function(c){return c.type==="keypress"?Ol(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ol(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),dx=ns(qv),fx=p({},Kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jp=ns(fx),Wv=p({},Wh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wd}),px=ns(Wv),Xv=p({},Bl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qo=ns(Xv),mx=p({},Kh,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),eT=ns(mx),Yv=p({},Bl,{newState:0,oldState:0}),Il=ns(Yv),Jo=[9,13,27,32],Td=yo&&"CompositionEvent"in window,Hc=null;yo&&"documentMode"in document&&(Hc=document.documentMode);var Cd=yo&&"TextEvent"in window&&!Hc,Md=yo&&(!Td||Hc&&8<Hc&&11>=Hc),Fl=" ",Rr=!1;function Ed(c,u){switch(c){case"keyup":return Jo.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gx(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Ul=!1;function Ad(c,u){switch(c){case"compositionend":return gx(u);case"keypress":return u.which!==32?null:(Rr=!0,Fl);case"textInput":return c=u.data,c===Fl&&Rr?null:c;default:return null}}function xx(c,u){if(Ul)return c==="compositionend"||!Td&&Ed(c,u)?(c=cx(),vp=lx=Ko=null,Ul=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Md&&u.locale!=="ko"?null:u.data;default:return null}}var Sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yx(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Sp[c.type]:u==="textarea"}function Ss(c,u,x,b){Pl?zc?zc.push(b):zc=[b]:Pl=b,u=X_(u,"onChange"),0<u.length&&(x=new qh("onChange","change",null,x,b),c.push({event:x,listeners:u}))}var Zh=null,Vc=null;function Kv(c){zR(c,0)}function Rd(c){var u=qa(c);if(Bn(u))return c}function wp(c,u){if(c==="change")return u}var Tp=!1;if(yo){var Cp;if(yo){var Qh="oninput"in document;if(!Qh){var Jh=document.createElement("div");Jh.setAttribute("oninput","return;"),Qh=typeof Jh.oninput=="function"}Cp=Qh}else Cp=!1;Tp=Cp&&(!document.documentMode||9<document.documentMode)}function Ri(){Zh&&(Zh.detachEvent("onpropertychange",Zv),Vc=Zh=null)}function Zv(c){if(c.propertyName==="value"&&Rd(Vc)){var u=[];Ss(u,Vc,c,yp(c)),ox(Kv,u)}}function tT(c,u,x){c==="focusin"?(Ri(),Zh=u,Vc=x,Zh.attachEvent("onpropertychange",Zv)):c==="focusout"&&Ri()}function Qv(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Rd(Vc)}function Ld(c,u){if(c==="click")return Rd(u)}function zl(c,u){if(c==="input"||c==="change")return Rd(u)}function Jv(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var ws=typeof Object.is=="function"?Object.is:Jv;function Wa(c,u){if(ws(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var x=Object.keys(c),b=Object.keys(u);if(x.length!==b.length)return!1;for(b=0;b<x.length;b++){var M=x[b];if(!Et.call(u,M)||!ws(c[M],u[M]))return!1}return!0}function Ts(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function vx(c,u){var x=Ts(c);c=0;for(var b;x;){if(x.nodeType===3){if(b=c+x.textContent.length,c<=u&&b>=u)return{node:x,offset:u-c};c=b}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Ts(x)}}function _x(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?_x(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function bx(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var u=or(c.document);u instanceof c.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)c=u.contentWindow;else break;u=or(c.document)}return u}function Dd(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}var jx=yo&&"documentMode"in document&&11>=document.documentMode,el=null,Mp=null,kd=null,Ep=!1;function Sx(c,u,x){var b=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ep||el==null||el!==or(b)||(b=el,"selectionStart"in b&&Dd(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),kd&&Wa(kd,b)||(kd=b,b=X_(Mp,"onSelect"),0<b.length&&(u=new qh("onSelect","select",null,u,x),c.push({event:u,listeners:b}),u.target=el)))}function Lr(c,u){var x={};return x[c.toLowerCase()]=u.toLowerCase(),x["Webkit"+c]="webkit"+u,x["Moz"+c]="moz"+u,x}var Hl={animationend:Lr("Animation","AnimationEnd"),animationiteration:Lr("Animation","AnimationIteration"),animationstart:Lr("Animation","AnimationStart"),transitionrun:Lr("Transition","TransitionRun"),transitionstart:Lr("Transition","TransitionStart"),transitioncancel:Lr("Transition","TransitionCancel"),transitionend:Lr("Transition","TransitionEnd")},Ap={},e_={};yo&&(e_=document.createElement("div").style,"AnimationEvent"in window||(delete Hl.animationend.animation,delete Hl.animationiteration.animation,delete Hl.animationstart.animation),"TransitionEvent"in window||delete Hl.transitionend.transition);function tl(c){if(Ap[c])return Ap[c];if(!Hl[c])return c;var u=Hl[c],x;for(x in u)if(u.hasOwnProperty(x)&&x in e_)return Ap[c]=u[x];return c}var is=tl("animationend"),wx=tl("animationiteration"),Cs=tl("animationstart"),t_=tl("transitionrun"),nl=tl("transitionstart"),eu=tl("transitioncancel"),il=tl("transitionend"),Rp=new Map,Nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nd.push("scrollEnd");function yr(c,u){Rp.set(c,u),at(u,[c])}var Tx=new WeakMap;function Dr(c,u){if(typeof c=="object"&&c!==null){var x=Tx.get(c);return x!==void 0?x:(u={value:c,source:u,stack:bi(u)},Tx.set(c,u),u)}return{value:c,source:u,stack:bi(u)}}var qr=[],_a=0,Lp=0;function Pd(){for(var c=_a,u=Lp=_a=0;u<c;){var x=qr[u];qr[u++]=null;var b=qr[u];qr[u++]=null;var M=qr[u];qr[u++]=null;var R=qr[u];if(qr[u++]=null,b!==null&&M!==null){var $=b.pending;$===null?M.next=M:(M.next=$.next,$.next=M),b.pending=M}R!==0&&Cx(x,M,R)}}function Vl(c,u,x,b){qr[_a++]=c,qr[_a++]=u,qr[_a++]=x,qr[_a++]=b,Lp|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function Dp(c,u,x,b){return Vl(c,u,x,b),tu(c)}function rl(c,u){return Vl(c,null,null,u),tu(c)}function Cx(c,u,x){c.lanes|=x;var b=c.alternate;b!==null&&(b.lanes|=x);for(var M=!1,R=c.return;R!==null;)R.childLanes|=x,b=R.alternate,b!==null&&(b.childLanes|=x),R.tag===22&&(c=R.stateNode,c===null||c._visibility&1||(M=!0)),c=R,R=R.return;return c.tag===3?(R=c.stateNode,M&&u!==null&&(M=31-_t(x),c=R.hiddenUpdates,b=c[M],b===null?c[M]=[u]:b.push(u),u.lane=x|536870912),R):null}function tu(c){if(50<Do)throw Do=0,oh=null,Error(r(185));for(var u=c.return;u!==null;)c=u,u=c.return;return c.tag===3?c.stateNode:null}var Gl={};function Mx(c,u,x,b){this.tag=c,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(c,u,x,b){return new Mx(c,u,x,b)}function Od(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Xi(c,u){var x=c.alternate;return x===null?(x=Ms(c.tag,u,c.key,c.mode),x.elementType=c.elementType,x.type=c.type,x.stateNode=c.stateNode,x.alternate=c,c.alternate=x):(x.pendingProps=u,x.type=c.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=c.flags&65011712,x.childLanes=c.childLanes,x.lanes=c.lanes,x.child=c.child,x.memoizedProps=c.memoizedProps,x.memoizedState=c.memoizedState,x.updateQueue=c.updateQueue,u=c.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=c.sibling,x.index=c.index,x.ref=c.ref,x.refCleanup=c.refCleanup,x}function Ex(c,u){c.flags&=65011714;var x=c.alternate;return x===null?(c.childLanes=0,c.lanes=u,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=x.childLanes,c.lanes=x.lanes,c.child=x.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=x.memoizedProps,c.memoizedState=x.memoizedState,c.updateQueue=x.updateQueue,c.type=x.type,u=x.dependencies,c.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),c}function vr(c,u,x,b,M,R){var $=0;if(b=c,typeof c=="function")Od(c)&&($=1);else if(typeof c=="string")$=t$(c,x,ae.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case P:return c=Ms(31,x,u,M),c.elementType=P,c.lanes=R,c;case j:return $l(x.children,M,R,u);case T:$=8,M|=24;break;case C:return c=Ms(12,x,u,M|2),c.elementType=C,c.lanes=R,c;case I:return c=Ms(13,x,u,M),c.elementType=I,c.lanes=R,c;case z:return c=Ms(19,x,u,M),c.elementType=z,c.lanes=R,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case w:case L:$=10;break e;case A:$=9;break e;case k:$=11;break e;case U:$=14;break e;case H:$=16,b=null;break e}$=29,x=Error(r(130,c===null?"null":typeof c,"")),b=null}return u=Ms($,x,u,M),u.elementType=c,u.type=b,u.lanes=R,u}function $l(c,u,x,b){return c=Ms(7,c,b,u),c.lanes=x,c}function Bd(c,u,x){return c=Ms(6,c,null,u),c.lanes=x,c}function kp(c,u,x){return u=Ms(4,c.children!==null?c.children:[],c.key,u),u.lanes=x,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}var nu=[],Es=0,Id=null,iu=0,kr=[],$s=0,ql=null,vo=1,_o="";function sl(c,u){nu[Es++]=iu,nu[Es++]=Id,Id=c,iu=u}function Np(c,u,x){kr[$s++]=vo,kr[$s++]=_o,kr[$s++]=ql,ql=c;var b=vo;c=_o;var M=32-_t(b)-1;b&=~(1<<M),x+=1;var R=32-_t(u)+M;if(30<R){var $=M-M%5;R=(b&(1<<$)-1).toString(32),b>>=$,M-=$,vo=1<<32-_t(u)+M|x<<M|b,_o=R+c}else vo=1<<R|x<<M|b,_o=c}function Ax(c){c.return!==null&&(sl(c,1),Np(c,1,0))}function Rx(c){for(;c===Id;)Id=nu[--Es],nu[Es]=null,iu=nu[--Es],nu[Es]=null;for(;c===ql;)ql=kr[--$s],kr[$s]=null,_o=kr[--$s],kr[$s]=null,vo=kr[--$s],kr[$s]=null}var rs=null,ki=null,Wn=!1,ba=null,qs=!1,Pp=Error(r(519));function Wl(c){var u=Error(r(418,""));throw Gc(Dr(u,c)),Pp}function n_(c){var u=c.stateNode,x=c.type,b=c.memoizedProps;switch(u[Di]=c,u[qi]=b,x){case"dialog":zn("cancel",u),zn("close",u);break;case"iframe":case"object":case"embed":zn("load",u);break;case"video":case"audio":for(x=0;x<oy.length;x++)zn(oy[x],u);break;case"source":zn("error",u);break;case"img":case"image":case"link":zn("error",u),zn("load",u);break;case"details":zn("toggle",u);break;case"input":zn("invalid",u),hi(u,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0),oi(u);break;case"select":zn("invalid",u);break;case"textarea":zn("invalid",u),xr(u,b.value,b.defaultValue,b.children),oi(u)}x=b.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||u.textContent===""+x||b.suppressHydrationWarning===!0||$R(u.textContent,x)?(b.popover!=null&&(zn("beforetoggle",u),zn("toggle",u)),b.onScroll!=null&&zn("scroll",u),b.onScrollEnd!=null&&zn("scrollend",u),b.onClick!=null&&(u.onclick=Y_),u=!0):u=!1,u||Wl(c)}function Lx(c){for(rs=c.return;rs;)switch(rs.tag){case 5:case 13:qs=!1;return;case 27:case 3:qs=!0;return;default:rs=rs.return}}function Xa(c){if(c!==rs)return!1;if(!Wn)return Lx(c),Wn=!0,!1;var u=c.tag,x;if((x=u!==3&&u!==27)&&((x=u===5)&&(x=c.type,x=!(x!=="form"&&x!=="button")||bT(c.type,c.memoizedProps)),x=!x),x&&ki&&Wl(c),Lx(c),u===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));e:{for(c=c.nextSibling,u=0;c;){if(c.nodeType===8)if(x=c.data,x==="/$"){if(u===0){ki=vl(c.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++;c=c.nextSibling}ki=null}}else u===27?(u=ki,Eu(c.type)?(c=TT,TT=null,ki=c):ki=u):ki=rs?vl(c.stateNode.nextSibling):null;return!0}function ru(){ki=rs=null,Wn=!1}function ii(){var c=ba;return c!==null&&(an===null?an=c:an.push.apply(an,c),ba=null),c}function Gc(c){ba===null?ba=[c]:ba.push(c)}var Dx=re(null),Xl=null,al=null;function Yl(c,u,x){fe(Dx,u._currentValue),u._currentValue=x}function ol(c){c._currentValue=Dx.current,de(Dx)}function kx(c,u,x){for(;c!==null;){var b=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,b!==null&&(b.childLanes|=u)):b!==null&&(b.childLanes&u)!==u&&(b.childLanes|=u),c===x)break;c=c.return}}function Fd(c,u,x,b){var M=c.child;for(M!==null&&(M.return=c);M!==null;){var R=M.dependencies;if(R!==null){var $=M.child;R=R.firstContext;e:for(;R!==null;){var Z=R;R=M;for(var ce=0;ce<u.length;ce++)if(Z.context===u[ce]){R.lanes|=x,Z=R.alternate,Z!==null&&(Z.lanes|=x),kx(R.return,x,c),b||($=null);break e}R=Z.next}}else if(M.tag===18){if($=M.return,$===null)throw Error(r(341));$.lanes|=x,R=$.alternate,R!==null&&(R.lanes|=x),kx($,x,c),$=null}else $=M.child;if($!==null)$.return=M;else for($=M;$!==null;){if($===c){$=null;break}if(M=$.sibling,M!==null){M.return=$.return,$=M;break}$=$.return}M=$}}function ja(c,u,x,b){c=null;for(var M=u,R=!1;M!==null;){if(!R){if((M.flags&524288)!==0)R=!0;else if((M.flags&262144)!==0)break}if(M.tag===10){var $=M.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var Z=M.type;ws(M.pendingProps.value,$.value)||(c!==null?c.push(Z):c=[Z])}}else if(M===Be.current){if($=M.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==M.memoizedState.memoizedState&&(c!==null?c.push(fy):c=[fy])}M=M.return}c!==null&&Fd(u,c,x,b),u.flags|=262144}function Ud(c){for(c=c.firstContext;c!==null;){if(!ws(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function bo(c){Xl=c,al=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Fi(c){return Op(Xl,c)}function zd(c,u){return Xl===null&&bo(c),Op(c,u)}function Op(c,u){var x=u._currentValue;if(u={context:u,memoizedValue:x,next:null},al===null){if(c===null)throw Error(r(308));al=u,c.dependencies={lanes:0,firstContext:u},c.flags|=524288}else al=al.next=u;return x}var Nx=typeof AbortController<"u"?AbortController:function(){var c=[],u=this.signal={aborted:!1,addEventListener:function(x,b){c.push(b)}};this.abort=function(){u.aborted=!0,c.forEach(function(x){return x()})}},nT=t.unstable_scheduleCallback,i_=t.unstable_NormalPriority,tr={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bp(){return{controller:new Nx,data:new Map,refCount:0}}function su(c){c.refCount--,c.refCount===0&&nT(i_,function(){c.controller.abort()})}var au=null,Hd=0,vn=0,ou=null;function Ws(c,u){if(au===null){var x=au=[];Hd=0,vn=dT(),ou={status:"pending",value:void 0,then:function(b){x.push(b)}}}return Hd++,u.then(Ip,Ip),u}function Ip(){if(--Hd===0&&au!==null){ou!==null&&(ou.status="fulfilled");var c=au;au=null,vn=0,ou=null;for(var u=0;u<c.length;u++)(0,c[u])()}}function iT(c,u){var x=[],b={status:"pending",value:null,reason:null,then:function(M){x.push(M)}};return c.then(function(){b.status="fulfilled",b.value=u;for(var M=0;M<x.length;M++)(0,x[M])(u)},function(M){for(b.status="rejected",b.reason=M,M=0;M<x.length;M++)(0,x[M])(void 0)}),b}var Vd=O.S;O.S=function(c,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Ws(c,u),Vd!==null&&Vd(c,u)};var Sa=re(null);function Kl(){var c=Sa.current;return c!==null?c:xn.pooledCache}function Gd(c,u){u===null?fe(Sa,Sa.current):fe(Sa,u.pool)}function Fp(){var c=Kl();return c===null?null:{parent:tr._currentValue,pool:c}}var $d=Error(r(460)),Px=Error(r(474)),Ya=Error(r(542)),qd={then:function(){}};function Up(c){return c=c.status,c==="fulfilled"||c==="rejected"}function lu(){}function zp(c,u,x){switch(x=c[x],x===void 0?c.push(u):x!==u&&(u.then(lu,lu),u=x),u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,r_(c),c;default:if(typeof u.status=="string")u.then(lu,lu);else{if(c=xn,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=u,c.status="pending",c.then(function(b){if(u.status==="pending"){var M=u;M.status="fulfilled",M.value=b}},function(b){if(u.status==="pending"){var M=u;M.status="rejected",M.reason=b}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,r_(c),c}throw wa=u,$d}}var wa=null;function Ox(){if(wa===null)throw Error(r(459));var c=wa;return wa=null,c}function r_(c){if(c===$d||c===Ya)throw Error(r(483))}var ll=!1;function Bx(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cn(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function jo(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function cl(c,u,x){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(ri&2)!==0){var M=b.pending;return M===null?u.next=u:(u.next=M.next,M.next=u),b.pending=u,u=tu(c),Cx(c,null,x),u}return Vl(c,b,u,x),tu(c)}function $c(c,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194048)!==0)){var b=u.lanes;b&=c.pendingLanes,x|=b,u.lanes=x,mt(c,x)}}function cu(c,u){var x=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,x===b)){var M=null,R=null;if(x=x.firstBaseUpdate,x!==null){do{var $={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};R===null?M=R=$:R=R.next=$,x=x.next}while(x!==null);R===null?M=R=u:R=R.next=u}else M=R=u;x={baseState:b.baseState,firstBaseUpdate:M,lastBaseUpdate:R,shared:b.shared,callbacks:b.callbacks},c.updateQueue=x;return}c=x.lastBaseUpdate,c===null?x.firstBaseUpdate=u:c.next=u,x.lastBaseUpdate=u}var Ix=!1;function Wd(){if(Ix){var c=ou;if(c!==null)throw c}}function hu(c,u,x,b){Ix=!1;var M=c.updateQueue;ll=!1;var R=M.firstBaseUpdate,$=M.lastBaseUpdate,Z=M.shared.pending;if(Z!==null){M.shared.pending=null;var ce=Z,Le=ce.next;ce.next=null,$===null?R=Le:$.next=Le,$=ce;var $e=c.alternate;$e!==null&&($e=$e.updateQueue,Z=$e.lastBaseUpdate,Z!==$&&(Z===null?$e.firstBaseUpdate=Le:Z.next=Le,$e.lastBaseUpdate=ce))}if(R!==null){var et=M.baseState;$=0,$e=Le=ce=null,Z=R;do{var Ne=Z.lane&-536870913,Pe=Ne!==Z.lane;if(Pe?(tn&Ne)===Ne:(b&Ne)===Ne){Ne!==0&&Ne===vn&&(Ix=!0),$e!==null&&($e=$e.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var pn=c,on=Z;Ne=u;var Ci=x;switch(on.tag){case 1:if(pn=on.payload,typeof pn=="function"){et=pn.call(Ci,et,Ne);break e}et=pn;break e;case 3:pn.flags=pn.flags&-65537|128;case 0:if(pn=on.payload,Ne=typeof pn=="function"?pn.call(Ci,et,Ne):pn,Ne==null)break e;et=p({},et,Ne);break e;case 2:ll=!0}}Ne=Z.callback,Ne!==null&&(c.flags|=64,Pe&&(c.flags|=8192),Pe=M.callbacks,Pe===null?M.callbacks=[Ne]:Pe.push(Ne))}else Pe={lane:Ne,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},$e===null?(Le=$e=Pe,ce=et):$e=$e.next=Pe,$|=Ne;if(Z=Z.next,Z===null){if(Z=M.shared.pending,Z===null)break;Pe=Z,Z=Pe.next,Pe.next=null,M.lastBaseUpdate=Pe,M.shared.pending=null}}while(!0);$e===null&&(ce=et),M.baseState=ce,M.firstBaseUpdate=Le,M.lastBaseUpdate=$e,R===null&&(M.shared.lanes=0),io|=$,c.lanes=$,c.memoizedState=et}}function uu(c,u){if(typeof c!="function")throw Error(r(191,c));c.call(u)}function s_(c,u){var x=c.callbacks;if(x!==null)for(c.callbacks=null,c=0;c<x.length;c++)uu(x[c],u)}var du=re(null),Hp=re(0);function a_(c,u){c=Ra,fe(Hp,c),fe(du,u),Ra=c|u.baseLanes}function Fx(){fe(Hp,Ra),fe(du,du.current)}function Xd(){Ra=Hp.current,de(du),de(Hp)}var hl=0,_n=null,li=null,nr=null,Vp=!1,Zl=!1,ss=!1,lr=0,Ta=0,Nr=null,o_=0;function Yi(){throw Error(r(321))}function Wr(c,u){if(u===null)return!1;for(var x=0;x<u.length&&x<c.length;x++)if(!ws(c[x],u[x]))return!1;return!0}function ul(c,u,x,b,M,R){return hl=R,_n=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,O.H=c===null||c.memoizedState===null?Qp:ty,ss=!1,R=x(b,M),ss=!1,Zl&&(R=c_(u,x,b,M)),l_(c),R}function l_(c){O.H=Zd;var u=li!==null&&li.next!==null;if(hl=0,nr=li=_n=null,Vp=!1,Ta=0,Nr=null,u)throw Error(r(300));c===null||_r||(c=c.dependencies,c!==null&&Ud(c)&&(_r=!0))}function c_(c,u,x,b){_n=c;var M=0;do{if(Zl&&(Nr=null),Ta=0,Zl=!1,25<=M)throw Error(r(301));if(M+=1,nr=li=null,c.updateQueue!=null){var R=c.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}O.H=P_,R=u(x,b)}while(Zl);return R}function rT(){var c=O.H,u=c.useState()[0];return u=typeof u.then=="function"?Ka(u):u,c=c.useState()[0],(li!==null?li.memoizedState:null)!==c&&(_n.flags|=1024),u}function Ux(){var c=lr!==0;return lr=0,c}function Gp(c,u,x){u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~x}function zx(c){if(Vp){for(c=c.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}Vp=!1}hl=0,nr=li=_n=null,Zl=!1,Ta=lr=0,Nr=null}function as(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?_n.memoizedState=nr=c:nr=nr.next=c,nr}function ir(){if(li===null){var c=_n.alternate;c=c!==null?c.memoizedState:null}else c=li.next;var u=nr===null?_n.memoizedState:nr.next;if(u!==null)nr=u,li=c;else{if(c===null)throw _n.alternate===null?Error(r(467)):Error(r(310));li=c,c={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},nr===null?_n.memoizedState=nr=c:nr=nr.next=c}return nr}function Ql(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ka(c){var u=Ta;return Ta+=1,Nr===null&&(Nr=[]),c=zp(Nr,c,u),u=_n,(nr===null?u.memoizedState:nr.next)===null&&(u=u.alternate,O.H=u===null||u.memoizedState===null?Qp:ty),c}function $p(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Ka(c);if(c.$$typeof===L)return Fi(c)}throw Error(r(438,String(c)))}function Hx(c){var u=null,x=_n.updateQueue;if(x!==null&&(u=x.memoCache),u==null){var b=_n.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(u={data:b.data.map(function(M){return M.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),x===null&&(x=Ql(),_n.updateQueue=x),x.memoCache=u,x=u.data[u.index],x===void 0)for(x=u.data[u.index]=Array(c),b=0;b<c;b++)x[b]=N;return u.index++,x}function dl(c,u){return typeof u=="function"?u(c):u}function Jl(c){var u=ir();return Vx(u,li,c)}function Vx(c,u,x){var b=c.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=x;var M=c.baseQueue,R=b.pending;if(R!==null){if(M!==null){var $=M.next;M.next=R.next,R.next=$}u.baseQueue=M=R,b.pending=null}if(R=c.baseState,M===null)c.memoizedState=R;else{u=M.next;var Z=$=null,ce=null,Le=u,$e=!1;do{var et=Le.lane&-536870913;if(et!==Le.lane?(tn&et)===et:(hl&et)===et){var Ne=Le.revertLane;if(Ne===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),et===vn&&($e=!0);else if((hl&Ne)===Ne){Le=Le.next,Ne===vn&&($e=!0);continue}else et={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ce===null?(Z=ce=et,$=R):ce=ce.next=et,_n.lanes|=Ne,io|=Ne;et=Le.action,ss&&x(R,et),R=Le.hasEagerState?Le.eagerState:x(R,et)}else Ne={lane:et,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},ce===null?(Z=ce=Ne,$=R):ce=ce.next=Ne,_n.lanes|=et,io|=et;Le=Le.next}while(Le!==null&&Le!==u);if(ce===null?$=R:ce.next=Z,!ws(R,c.memoizedState)&&(_r=!0,$e&&(x=ou,x!==null)))throw x;c.memoizedState=R,c.baseState=$,c.baseQueue=ce,b.lastRenderedState=R}return M===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function Gx(c){var u=ir(),x=u.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=c;var b=x.dispatch,M=x.pending,R=u.memoizedState;if(M!==null){x.pending=null;var $=M=M.next;do R=c(R,$.action),$=$.next;while($!==M);ws(R,u.memoizedState)||(_r=!0),u.memoizedState=R,u.baseQueue===null&&(u.baseState=R),x.lastRenderedState=R}return[R,b]}function h_(c,u,x){var b=_n,M=ir(),R=Wn;if(R){if(x===void 0)throw Error(r(407));x=x()}else x=u();var $=!ws((li||M).memoizedState,x);$&&(M.memoizedState=x,_r=!0),M=M.queue;var Z=d_.bind(null,b,M,c);if(mu(2048,8,Z,[c]),M.getSnapshot!==u||$||nr!==null&&nr.memoizedState.tag&1){if(b.flags|=2048,pu(9,Yd(),u_.bind(null,b,M,x,u),null),xn===null)throw Error(r(349));R||(hl&124)!==0||fu(b,u,x)}return x}function fu(c,u,x){c.flags|=16384,c={getSnapshot:u,value:x},u=_n.updateQueue,u===null?(u=Ql(),_n.updateQueue=u,u.stores=[c]):(x=u.stores,x===null?u.stores=[c]:x.push(c))}function u_(c,u,x,b){u.value=x,u.getSnapshot=b,f_(u)&&p_(c)}function d_(c,u,x){return x(function(){f_(u)&&p_(c)})}function f_(c){var u=c.getSnapshot;c=c.value;try{var x=u();return!ws(c,x)}catch{return!0}}function p_(c){var u=rl(c,2);u!==null&&cs(u,c,2)}function $x(c){var u=as();if(typeof c=="function"){var x=c;if(c=x(),ss){Fe(!0);try{x()}finally{Fe(!1)}}}return u.memoizedState=u.baseState=c,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:c},u}function m_(c,u,x,b){return c.baseState=x,Vx(c,li,typeof b=="function"?b:dl)}function sT(c,u,x,b,M){if(Zp(c))throw Error(r(485));if(c=u.action,c!==null){var R={payload:M,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){R.listeners.push($)}};O.T!==null?x(!0):R.isTransition=!1,b(R),x=u.pending,x===null?(R.next=u.pending=R,g_(u,R)):(R.next=x.next,u.pending=x.next=R)}}function g_(c,u){var x=u.action,b=u.payload,M=c.state;if(u.isTransition){var R=O.T,$={};O.T=$;try{var Z=x(M,b),ce=O.S;ce!==null&&ce($,Z),x_(c,u,Z)}catch(Le){qx(c,u,Le)}finally{O.T=R}}else try{R=x(M,b),x_(c,u,R)}catch(Le){qx(c,u,Le)}}function x_(c,u,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(b){y_(c,u,b)},function(b){return qx(c,u,b)}):y_(c,u,x)}function y_(c,u,x){u.status="fulfilled",u.value=x,v_(u),c.state=x,u=c.pending,u!==null&&(x=u.next,x===u?c.pending=null:(x=x.next,u.next=x,g_(c,x)))}function qx(c,u,x){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do u.status="rejected",u.reason=x,v_(u),u=u.next;while(u!==b)}c.action=null}function v_(c){c=c.listeners;for(var u=0;u<c.length;u++)(0,c[u])()}function Wx(c,u){return u}function __(c,u){if(Wn){var x=xn.formState;if(x!==null){e:{var b=_n;if(Wn){if(ki){t:{for(var M=ki,R=qs;M.nodeType!==8;){if(!R){M=null;break t}if(M=vl(M.nextSibling),M===null){M=null;break t}}R=M.data,M=R==="F!"||R==="F"?M:null}if(M){ki=vl(M.nextSibling),b=M.data==="F!";break e}}Wl(b)}b=!1}b&&(u=x[0])}}return x=as(),x.memoizedState=x.baseState=u,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wx,lastRenderedState:u},x.queue=b,x=k_.bind(null,_n,b),b.dispatch=x,b=$x(!1),R=Kp.bind(null,_n,!1,b.queue),b=as(),M={state:u,dispatch:null,action:c,pending:null},b.queue=M,x=sT.bind(null,_n,M,R,x),M.dispatch=x,b.memoizedState=c,[u,x,!1]}function b_(c){var u=ir();return j_(u,li,c)}function j_(c,u,x){if(u=Vx(c,u,Wx)[0],c=Jl(dl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var b=Ka(u)}catch($){throw $===$d?Ya:$}else b=u;u=ir();var M=u.queue,R=M.dispatch;return x!==u.memoizedState&&(_n.flags|=2048,pu(9,Yd(),aT.bind(null,M,x),null)),[b,R,c]}function aT(c,u){c.action=u}function S_(c){var u=ir(),x=li;if(x!==null)return j_(u,x,c);ir(),u=u.memoizedState,x=ir();var b=x.queue.dispatch;return x.memoizedState=c,[u,b,!1]}function pu(c,u,x,b){return c={tag:c,create:x,deps:b,inst:u,next:null},u=_n.updateQueue,u===null&&(u=Ql(),_n.updateQueue=u),x=u.lastEffect,x===null?u.lastEffect=c.next=c:(b=x.next,x.next=c,c.next=b,u.lastEffect=c),c}function Yd(){return{destroy:void 0,resource:void 0}}function Xx(){return ir().memoizedState}function qp(c,u,x,b){var M=as();b=b===void 0?null:b,_n.flags|=c,M.memoizedState=pu(1|u,Yd(),x,b)}function mu(c,u,x,b){var M=ir();b=b===void 0?null:b;var R=M.memoizedState.inst;li!==null&&b!==null&&Wr(b,li.memoizedState.deps)?M.memoizedState=pu(u,R,x,b):(_n.flags|=c,M.memoizedState=pu(1|u,R,x,b))}function Yx(c,u){qp(8390656,8,c,u)}function Kx(c,u){mu(2048,8,c,u)}function Wp(c,u){return mu(4,2,c,u)}function Xp(c,u){return mu(4,4,c,u)}function w_(c,u){if(typeof u=="function"){c=c();var x=u(c);return function(){typeof x=="function"?x():u(null)}}if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function T_(c,u,x){x=x!=null?x.concat([c]):null,mu(4,4,w_.bind(null,u,c),x)}function Zx(){}function C_(c,u){var x=ir();u=u===void 0?null:u;var b=x.memoizedState;return u!==null&&Wr(u,b[1])?b[0]:(x.memoizedState=[c,u],c)}function Qx(c,u){var x=ir();u=u===void 0?null:u;var b=x.memoizedState;if(u!==null&&Wr(u,b[1]))return b[0];if(b=c(),ss){Fe(!0);try{c()}finally{Fe(!1)}}return x.memoizedState=[b,u],b}function Yp(c,u,x){return x===void 0||(hl&1073741824)!==0?c.memoizedState=u:(c.memoizedState=x,c=cm(),_n.lanes|=c,io|=c,x)}function M_(c,u,x,b){return ws(x,u)?x:du.current!==null?(c=Yp(c,x,b),ws(c,u)||(_r=!0),c):(hl&42)===0?(_r=!0,c.memoizedState=x):(c=cm(),_n.lanes|=c,io|=c,u)}function E_(c,u,x,b,M){var R=q.p;q.p=R!==0&&8>R?R:8;var $=O.T,Z={};O.T=Z,Kp(c,!1,u,x);try{var ce=M(),Le=O.S;if(Le!==null&&Le(Z,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var $e=iT(ce,b);Kd(c,u,$e,Hi(c))}else Kd(c,u,b,Hi(c))}catch(et){Kd(c,u,{then:function(){},status:"rejected",reason:et},Hi())}finally{q.p=R,O.T=$}}function oT(){}function Jx(c,u,x,b){if(c.tag!==5)throw Error(r(476));var M=A_(c).queue;E_(c,M,u,V,x===null?oT:function(){return R_(c),x(b)})}function A_(c){var u=c.memoizedState;if(u!==null)return u;u={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:V},next:null};var x={};return u.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:x},next:null},c.memoizedState=u,c=c.alternate,c!==null&&(c.memoizedState=u),u}function R_(c){var u=A_(c).next.queue;Kd(c,u,{},Hi())}function ey(){return Fi(fy)}function L_(){return ir().memoizedState}function D_(){return ir().memoizedState}function lT(c){for(var u=c.return;u!==null;){switch(u.tag){case 24:case 3:var x=Hi();c=jo(x);var b=cl(u,c,x);b!==null&&(cs(b,u,x),$c(b,u,x)),u={cache:Bp()},c.payload=u;return}u=u.return}}function cT(c,u,x){var b=Hi();x={lane:b,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},Zp(c)?N_(u,x):(x=Dp(c,u,x,b),x!==null&&(cs(x,c,b),Xs(x,u,b)))}function k_(c,u,x){var b=Hi();Kd(c,u,x,b)}function Kd(c,u,x,b){var M={lane:b,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(Zp(c))N_(u,M);else{var R=c.alternate;if(c.lanes===0&&(R===null||R.lanes===0)&&(R=u.lastRenderedReducer,R!==null))try{var $=u.lastRenderedState,Z=R($,x);if(M.hasEagerState=!0,M.eagerState=Z,ws(Z,$))return Vl(c,u,M,0),xn===null&&Pd(),!1}catch{}finally{}if(x=Dp(c,u,M,b),x!==null)return cs(x,c,b),Xs(x,u,b),!0}return!1}function Kp(c,u,x,b){if(b={lane:2,revertLane:dT(),action:b,hasEagerState:!1,eagerState:null,next:null},Zp(c)){if(u)throw Error(r(479))}else u=Dp(c,x,b,2),u!==null&&cs(u,c,2)}function Zp(c){var u=c.alternate;return c===_n||u!==null&&u===_n}function N_(c,u){Zl=Vp=!0;var x=c.pending;x===null?u.next=u:(u.next=x.next,x.next=u),c.pending=u}function Xs(c,u,x){if((x&4194048)!==0){var b=u.lanes;b&=c.pendingLanes,x|=b,u.lanes=x,mt(c,x)}}var Zd={readContext:Fi,use:$p,useCallback:Yi,useContext:Yi,useEffect:Yi,useImperativeHandle:Yi,useLayoutEffect:Yi,useInsertionEffect:Yi,useMemo:Yi,useReducer:Yi,useRef:Yi,useState:Yi,useDebugValue:Yi,useDeferredValue:Yi,useTransition:Yi,useSyncExternalStore:Yi,useId:Yi,useHostTransitionStatus:Yi,useFormState:Yi,useActionState:Yi,useOptimistic:Yi,useMemoCache:Yi,useCacheRefresh:Yi},Qp={readContext:Fi,use:$p,useCallback:function(c,u){return as().memoizedState=[c,u===void 0?null:u],c},useContext:Fi,useEffect:Yx,useImperativeHandle:function(c,u,x){x=x!=null?x.concat([c]):null,qp(4194308,4,w_.bind(null,u,c),x)},useLayoutEffect:function(c,u){return qp(4194308,4,c,u)},useInsertionEffect:function(c,u){qp(4,2,c,u)},useMemo:function(c,u){var x=as();u=u===void 0?null:u;var b=c();if(ss){Fe(!0);try{c()}finally{Fe(!1)}}return x.memoizedState=[b,u],b},useReducer:function(c,u,x){var b=as();if(x!==void 0){var M=x(u);if(ss){Fe(!0);try{x(u)}finally{Fe(!1)}}}else M=u;return b.memoizedState=b.baseState=M,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:M},b.queue=c,c=c.dispatch=cT.bind(null,_n,c),[b.memoizedState,c]},useRef:function(c){var u=as();return c={current:c},u.memoizedState=c},useState:function(c){c=$x(c);var u=c.queue,x=k_.bind(null,_n,u);return u.dispatch=x,[c.memoizedState,x]},useDebugValue:Zx,useDeferredValue:function(c,u){var x=as();return Yp(x,c,u)},useTransition:function(){var c=$x(!1);return c=E_.bind(null,_n,c.queue,!0,!1),as().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,u,x){var b=_n,M=as();if(Wn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=u(),xn===null)throw Error(r(349));(tn&124)!==0||fu(b,u,x)}M.memoizedState=x;var R={value:x,getSnapshot:u};return M.queue=R,Yx(d_.bind(null,b,R,c),[c]),b.flags|=2048,pu(9,Yd(),u_.bind(null,b,R,x,u),null),x},useId:function(){var c=as(),u=xn.identifierPrefix;if(Wn){var x=_o,b=vo;x=(b&~(1<<32-_t(b)-1)).toString(32)+x,u="«"+u+"R"+x,x=lr++,0<x&&(u+="H"+x.toString(32)),u+="»"}else x=o_++,u="«"+u+"r"+x.toString(32)+"»";return c.memoizedState=u},useHostTransitionStatus:ey,useFormState:__,useActionState:__,useOptimistic:function(c){var u=as();u.memoizedState=u.baseState=c;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=x,u=Kp.bind(null,_n,!0,x),x.dispatch=u,[c,u]},useMemoCache:Hx,useCacheRefresh:function(){return as().memoizedState=lT.bind(null,_n)}},ty={readContext:Fi,use:$p,useCallback:C_,useContext:Fi,useEffect:Kx,useImperativeHandle:T_,useInsertionEffect:Wp,useLayoutEffect:Xp,useMemo:Qx,useReducer:Jl,useRef:Xx,useState:function(){return Jl(dl)},useDebugValue:Zx,useDeferredValue:function(c,u){var x=ir();return M_(x,li.memoizedState,c,u)},useTransition:function(){var c=Jl(dl)[0],u=ir().memoizedState;return[typeof c=="boolean"?c:Ka(c),u]},useSyncExternalStore:h_,useId:L_,useHostTransitionStatus:ey,useFormState:b_,useActionState:b_,useOptimistic:function(c,u){var x=ir();return m_(x,li,c,u)},useMemoCache:Hx,useCacheRefresh:D_},P_={readContext:Fi,use:$p,useCallback:C_,useContext:Fi,useEffect:Kx,useImperativeHandle:T_,useInsertionEffect:Wp,useLayoutEffect:Xp,useMemo:Qx,useReducer:Gx,useRef:Xx,useState:function(){return Gx(dl)},useDebugValue:Zx,useDeferredValue:function(c,u){var x=ir();return li===null?Yp(x,c,u):M_(x,li.memoizedState,c,u)},useTransition:function(){var c=Gx(dl)[0],u=ir().memoizedState;return[typeof c=="boolean"?c:Ka(c),u]},useSyncExternalStore:h_,useId:L_,useHostTransitionStatus:ey,useFormState:S_,useActionState:S_,useOptimistic:function(c,u){var x=ir();return li!==null?m_(x,li,c,u):(x.baseState=c,[c,x.queue.dispatch])},useMemoCache:Hx,useCacheRefresh:D_},qc=null,Qd=0;function Jd(c){var u=Qd;return Qd+=1,qc===null&&(qc=[]),zp(qc,c,u)}function gu(c,u){u=u.props.ref,c.ref=u!==void 0?u:null}function Jp(c,u){throw u.$$typeof===g?Error(r(525)):(c=Object.prototype.toString.call(u),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c)))}function O_(c){var u=c._init;return u(c._payload)}function B_(c){function u(we,ye){if(c){var Re=we.deletions;Re===null?(we.deletions=[ye],we.flags|=16):Re.push(ye)}}function x(we,ye){if(!c)return null;for(;ye!==null;)u(we,ye),ye=ye.sibling;return null}function b(we){for(var ye=new Map;we!==null;)we.key!==null?ye.set(we.key,we):ye.set(we.index,we),we=we.sibling;return ye}function M(we,ye){return we=Xi(we,ye),we.index=0,we.sibling=null,we}function R(we,ye,Re){return we.index=Re,c?(Re=we.alternate,Re!==null?(Re=Re.index,Re<ye?(we.flags|=67108866,ye):Re):(we.flags|=67108866,ye)):(we.flags|=1048576,ye)}function $(we){return c&&we.alternate===null&&(we.flags|=67108866),we}function Z(we,ye,Re,Ye){return ye===null||ye.tag!==6?(ye=Bd(Re,we.mode,Ye),ye.return=we,ye):(ye=M(ye,Re),ye.return=we,ye)}function ce(we,ye,Re,Ye){var Ot=Re.type;return Ot===j?$e(we,ye,Re.props.children,Ye,Re.key):ye!==null&&(ye.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===H&&O_(Ot)===ye.type)?(ye=M(ye,Re.props),gu(ye,Re),ye.return=we,ye):(ye=vr(Re.type,Re.key,Re.props,null,we.mode,Ye),gu(ye,Re),ye.return=we,ye)}function Le(we,ye,Re,Ye){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Re.containerInfo||ye.stateNode.implementation!==Re.implementation?(ye=kp(Re,we.mode,Ye),ye.return=we,ye):(ye=M(ye,Re.children||[]),ye.return=we,ye)}function $e(we,ye,Re,Ye,Ot){return ye===null||ye.tag!==7?(ye=$l(Re,we.mode,Ye,Ot),ye.return=we,ye):(ye=M(ye,Re),ye.return=we,ye)}function et(we,ye,Re){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ye=Bd(""+ye,we.mode,Re),ye.return=we,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return Re=vr(ye.type,ye.key,ye.props,null,we.mode,Re),gu(Re,ye),Re.return=we,Re;case _:return ye=kp(ye,we.mode,Re),ye.return=we,ye;case H:var Ye=ye._init;return ye=Ye(ye._payload),et(we,ye,Re)}if(ee(ye)||te(ye))return ye=$l(ye,we.mode,Re,null),ye.return=we,ye;if(typeof ye.then=="function")return et(we,Jd(ye),Re);if(ye.$$typeof===L)return et(we,zd(we,ye),Re);Jp(we,ye)}return null}function Ne(we,ye,Re,Ye){var Ot=ye!==null?ye.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Ot!==null?null:Z(we,ye,""+Re,Ye);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case v:return Re.key===Ot?ce(we,ye,Re,Ye):null;case _:return Re.key===Ot?Le(we,ye,Re,Ye):null;case H:return Ot=Re._init,Re=Ot(Re._payload),Ne(we,ye,Re,Ye)}if(ee(Re)||te(Re))return Ot!==null?null:$e(we,ye,Re,Ye,null);if(typeof Re.then=="function")return Ne(we,ye,Jd(Re),Ye);if(Re.$$typeof===L)return Ne(we,ye,zd(we,Re),Ye);Jp(we,Re)}return null}function Pe(we,ye,Re,Ye,Ot){if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return we=we.get(Re)||null,Z(ye,we,""+Ye,Ot);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case v:return we=we.get(Ye.key===null?Re:Ye.key)||null,ce(ye,we,Ye,Ot);case _:return we=we.get(Ye.key===null?Re:Ye.key)||null,Le(ye,we,Ye,Ot);case H:var Fn=Ye._init;return Ye=Fn(Ye._payload),Pe(we,ye,Re,Ye,Ot)}if(ee(Ye)||te(Ye))return we=we.get(Re)||null,$e(ye,we,Ye,Ot,null);if(typeof Ye.then=="function")return Pe(we,ye,Re,Jd(Ye),Ot);if(Ye.$$typeof===L)return Pe(we,ye,Re,zd(ye,Ye),Ot);Jp(ye,Ye)}return null}function pn(we,ye,Re,Ye){for(var Ot=null,Fn=null,Zt=ye,ln=ye=0,Kr=null;Zt!==null&&ln<Re.length;ln++){Zt.index>ln?(Kr=Zt,Zt=null):Kr=Zt.sibling;var ai=Ne(we,Zt,Re[ln],Ye);if(ai===null){Zt===null&&(Zt=Kr);break}c&&Zt&&ai.alternate===null&&u(we,Zt),ye=R(ai,ye,ln),Fn===null?Ot=ai:Fn.sibling=ai,Fn=ai,Zt=Kr}if(ln===Re.length)return x(we,Zt),Wn&&sl(we,ln),Ot;if(Zt===null){for(;ln<Re.length;ln++)Zt=et(we,Re[ln],Ye),Zt!==null&&(ye=R(Zt,ye,ln),Fn===null?Ot=Zt:Fn.sibling=Zt,Fn=Zt);return Wn&&sl(we,ln),Ot}for(Zt=b(Zt);ln<Re.length;ln++)Kr=Pe(Zt,we,ln,Re[ln],Ye),Kr!==null&&(c&&Kr.alternate!==null&&Zt.delete(Kr.key===null?ln:Kr.key),ye=R(Kr,ye,ln),Fn===null?Ot=Kr:Fn.sibling=Kr,Fn=Kr);return c&&Zt.forEach(function(ku){return u(we,ku)}),Wn&&sl(we,ln),Ot}function on(we,ye,Re,Ye){if(Re==null)throw Error(r(151));for(var Ot=null,Fn=null,Zt=ye,ln=ye=0,Kr=null,ai=Re.next();Zt!==null&&!ai.done;ln++,ai=Re.next()){Zt.index>ln?(Kr=Zt,Zt=null):Kr=Zt.sibling;var ku=Ne(we,Zt,ai.value,Ye);if(ku===null){Zt===null&&(Zt=Kr);break}c&&Zt&&ku.alternate===null&&u(we,Zt),ye=R(ku,ye,ln),Fn===null?Ot=ku:Fn.sibling=ku,Fn=ku,Zt=Kr}if(ai.done)return x(we,Zt),Wn&&sl(we,ln),Ot;if(Zt===null){for(;!ai.done;ln++,ai=Re.next())ai=et(we,ai.value,Ye),ai!==null&&(ye=R(ai,ye,ln),Fn===null?Ot=ai:Fn.sibling=ai,Fn=ai);return Wn&&sl(we,ln),Ot}for(Zt=b(Zt);!ai.done;ln++,ai=Re.next())ai=Pe(Zt,we,ln,ai.value,Ye),ai!==null&&(c&&ai.alternate!==null&&Zt.delete(ai.key===null?ln:ai.key),ye=R(ai,ye,ln),Fn===null?Ot=ai:Fn.sibling=ai,Fn=ai);return c&&Zt.forEach(function(f$){return u(we,f$)}),Wn&&sl(we,ln),Ot}function Ci(we,ye,Re,Ye){if(typeof Re=="object"&&Re!==null&&Re.type===j&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case v:e:{for(var Ot=Re.key;ye!==null;){if(ye.key===Ot){if(Ot=Re.type,Ot===j){if(ye.tag===7){x(we,ye.sibling),Ye=M(ye,Re.props.children),Ye.return=we,we=Ye;break e}}else if(ye.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===H&&O_(Ot)===ye.type){x(we,ye.sibling),Ye=M(ye,Re.props),gu(Ye,Re),Ye.return=we,we=Ye;break e}x(we,ye);break}else u(we,ye);ye=ye.sibling}Re.type===j?(Ye=$l(Re.props.children,we.mode,Ye,Re.key),Ye.return=we,we=Ye):(Ye=vr(Re.type,Re.key,Re.props,null,we.mode,Ye),gu(Ye,Re),Ye.return=we,we=Ye)}return $(we);case _:e:{for(Ot=Re.key;ye!==null;){if(ye.key===Ot)if(ye.tag===4&&ye.stateNode.containerInfo===Re.containerInfo&&ye.stateNode.implementation===Re.implementation){x(we,ye.sibling),Ye=M(ye,Re.children||[]),Ye.return=we,we=Ye;break e}else{x(we,ye);break}else u(we,ye);ye=ye.sibling}Ye=kp(Re,we.mode,Ye),Ye.return=we,we=Ye}return $(we);case H:return Ot=Re._init,Re=Ot(Re._payload),Ci(we,ye,Re,Ye)}if(ee(Re))return pn(we,ye,Re,Ye);if(te(Re)){if(Ot=te(Re),typeof Ot!="function")throw Error(r(150));return Re=Ot.call(Re),on(we,ye,Re,Ye)}if(typeof Re.then=="function")return Ci(we,ye,Jd(Re),Ye);if(Re.$$typeof===L)return Ci(we,ye,zd(we,Re),Ye);Jp(we,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint"?(Re=""+Re,ye!==null&&ye.tag===6?(x(we,ye.sibling),Ye=M(ye,Re),Ye.return=we,we=Ye):(x(we,ye),Ye=Bd(Re,we.mode,Ye),Ye.return=we,we=Ye),$(we)):x(we,ye)}return function(we,ye,Re,Ye){try{Qd=0;var Ot=Ci(we,ye,Re,Ye);return qc=null,Ot}catch(Zt){if(Zt===$d||Zt===Ya)throw Zt;var Fn=Ms(29,Zt,null,we.mode);return Fn.lanes=Ye,Fn.return=we,Fn}finally{}}}var Wc=B_(!0),I_=B_(!1),gi=re(null),Za=null;function ec(c){var u=c.alternate;fe(Ki,Ki.current&1),fe(gi,c),Za===null&&(u===null||du.current!==null||u.memoizedState!==null)&&(Za=c)}function F_(c){if(c.tag===22){if(fe(Ki,Ki.current),fe(gi,c),Za===null){var u=c.alternate;u!==null&&u.memoizedState!==null&&(Za=c)}}else tc()}function tc(){fe(Ki,Ki.current),fe(gi,gi.current)}function So(c){de(gi),Za===c&&(Za=null),de(Ki)}var Ki=re(0);function fl(c){for(var u=c;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||wT(x)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function nc(c,u,x,b){u=c.memoizedState,x=x(b,u),x=x==null?u:p({},u,x),c.memoizedState=x,c.lanes===0&&(c.updateQueue.baseState=x)}var os={enqueueSetState:function(c,u,x){c=c._reactInternals;var b=Hi(),M=jo(b);M.payload=u,x!=null&&(M.callback=x),u=cl(c,M,b),u!==null&&(cs(u,c,b),$c(u,c,b))},enqueueReplaceState:function(c,u,x){c=c._reactInternals;var b=Hi(),M=jo(b);M.tag=1,M.payload=u,x!=null&&(M.callback=x),u=cl(c,M,b),u!==null&&(cs(u,c,b),$c(u,c,b))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var x=Hi(),b=jo(x);b.tag=2,u!=null&&(b.callback=u),u=cl(c,b,x),u!==null&&(cs(u,c,x),$c(u,c,x))}};function U_(c,u,x,b,M,R,$){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,R,$):u.prototype&&u.prototype.isPureReactComponent?!Wa(x,b)||!Wa(M,R):!0}function z_(c,u,x,b){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,b),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,b),u.state!==c&&os.enqueueReplaceState(u,u.state,null)}function wo(c,u){var x=u;if("ref"in u){x={};for(var b in u)b!=="ref"&&(x[b]=u[b])}if(c=c.defaultProps){x===u&&(x=p({},x));for(var M in c)x[M]===void 0&&(x[M]=c[M])}return x}var Xc=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function ef(c){Xc(c)}function em(c){console.error(c)}function H_(c){Xc(c)}function tm(c,u){try{var x=c.onUncaughtError;x(u.value,{componentStack:u.stack})}catch(b){setTimeout(function(){throw b})}}function Ca(c,u,x){try{var b=c.onCaughtError;b(x.value,{componentStack:x.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(M){setTimeout(function(){throw M})}}function nm(c,u,x){return x=jo(x),x.tag=3,x.payload={element:null},x.callback=function(){tm(c,u)},x}function V_(c){return c=jo(c),c.tag=3,c}function im(c,u,x,b){var M=x.type.getDerivedStateFromError;if(typeof M=="function"){var R=b.value;c.payload=function(){return M(R)},c.callback=function(){Ca(u,x,b)}}var $=x.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(c.callback=function(){Ca(u,x,b),typeof M!="function"&&(na===null?na=new Set([this]):na.add(this));var Z=b.stack;this.componentDidCatch(b.value,{componentStack:Z!==null?Z:""})})}function hT(c,u,x,b,M){if(x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(u=x.alternate,u!==null&&ja(u,x,M,!0),x=gi.current,x!==null){switch(x.tag){case 13:return Za===null?f():x.alternate===null&&Ei===0&&(Ei=3),x.flags&=-257,x.flags|=65536,x.lanes=M,b===qd?x.flags|=16384:(u=x.updateQueue,u===null?x.updateQueue=new Set([b]):u.add(b),Oe(c,b,M)),!1;case 22:return x.flags|=65536,b===qd?x.flags|=16384:(u=x.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([b])},x.updateQueue=u):(x=u.retryQueue,x===null?u.retryQueue=new Set([b]):x.add(b)),Oe(c,b,M)),!1}throw Error(r(435,x.tag))}return Oe(c,b,M),f(),!1}if(Wn)return u=gi.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=M,b!==Pp&&(c=Error(r(422),{cause:b}),Gc(Dr(c,x)))):(b!==Pp&&(u=Error(r(423),{cause:b}),Gc(Dr(u,x))),c=c.current.alternate,c.flags|=65536,M&=-M,c.lanes|=M,b=Dr(b,x),M=nm(c.stateNode,b,M),cu(c,M),Ei!==4&&(Ei=2)),!1;var R=Error(r(520),{cause:b});if(R=Dr(R,x),si===null?si=[R]:si.push(R),Ei!==4&&(Ei=2),u===null)return!0;b=Dr(b,x),x=u;do{switch(x.tag){case 3:return x.flags|=65536,c=M&-M,x.lanes|=c,c=nm(x.stateNode,b,c),cu(x,c),!1;case 1:if(u=x.type,R=x.stateNode,(x.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(na===null||!na.has(R))))return x.flags|=65536,M&=-M,x.lanes|=M,M=V_(M),im(M,c,x,b),cu(x,M),!1}x=x.return}while(x!==null);return!1}var G_=Error(r(461)),_r=!1;function Zi(c,u,x,b){u.child=c===null?I_(u,null,x,b):Wc(u,c.child,x,b)}function As(c,u,x,b,M){x=x.render;var R=u.ref;if("ref"in b){var $={};for(var Z in b)Z!=="ref"&&($[Z]=b[Z])}else $=b;return bo(u),b=ul(c,u,x,$,R,M),Z=Ux(),c!==null&&!_r?(Gp(c,u,M),br(c,u,M)):(Wn&&Z&&Ax(u),u.flags|=1,Zi(c,u,b,M),u.child)}function Rs(c,u,x,b,M){if(c===null){var R=x.type;return typeof R=="function"&&!Od(R)&&R.defaultProps===void 0&&x.compare===null?(u.tag=15,u.type=R,ny(c,u,R,b,M)):(c=vr(x.type,null,b,u,u.mode,M),c.ref=u.ref,c.return=u,u.child=c)}if(R=c.child,!tf(c,M)){var $=R.memoizedProps;if(x=x.compare,x=x!==null?x:Wa,x($,b)&&c.ref===u.ref)return br(c,u,M)}return u.flags|=1,c=Xi(R,b),c.ref=u.ref,c.return=u,u.child=c}function ny(c,u,x,b,M){if(c!==null){var R=c.memoizedProps;if(Wa(R,b)&&c.ref===u.ref)if(_r=!1,u.pendingProps=b=R,tf(c,M))(c.flags&131072)!==0&&(_r=!0);else return u.lanes=c.lanes,br(c,u,M)}return xu(c,u,x,b,M)}function Yc(c,u,x){var b=u.pendingProps,M=b.children,R=c!==null?c.memoizedState:null;if(b.mode==="hidden"){if((u.flags&128)!==0){if(b=R!==null?R.baseLanes|x:x,c!==null){for(M=u.child=c.child,R=0;M!==null;)R=R|M.lanes|M.childLanes,M=M.sibling;u.childLanes=R&~b}else u.childLanes=0,u.child=null;return Kc(c,u,b,x)}if((x&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},c!==null&&Gd(u,R!==null?R.cachePool:null),R!==null?a_(u,R):Fx(),F_(u);else return u.lanes=u.childLanes=536870912,Kc(c,u,R!==null?R.baseLanes|x:x,x)}else R!==null?(Gd(u,R.cachePool),a_(u,R),tc(),u.memoizedState=null):(c!==null&&Gd(u,null),Fx(),tc());return Zi(c,u,M,x),u.child}function Kc(c,u,x,b){var M=Kl();return M=M===null?null:{parent:tr._currentValue,pool:M},u.memoizedState={baseLanes:x,cachePool:M},c!==null&&Gd(u,null),Fx(),F_(u),c!==null&&ja(c,u,b,!0),null}function Zc(c,u){var x=u.ref;if(x===null)c!==null&&c.ref!==null&&(u.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(c===null||c.ref!==x)&&(u.flags|=4194816)}}function xu(c,u,x,b,M){return bo(u),x=ul(c,u,x,b,void 0,M),b=Ux(),c!==null&&!_r?(Gp(c,u,M),br(c,u,M)):(Wn&&b&&Ax(u),u.flags|=1,Zi(c,u,x,M),u.child)}function Ys(c,u,x,b,M,R){return bo(u),u.updateQueue=null,x=c_(u,b,x,M),l_(c),b=Ux(),c!==null&&!_r?(Gp(c,u,R),br(c,u,R)):(Wn&&b&&Ax(u),u.flags|=1,Zi(c,u,x,R),u.child)}function Ks(c,u,x,b,M){if(bo(u),u.stateNode===null){var R=Gl,$=x.contextType;typeof $=="object"&&$!==null&&(R=Fi($)),R=new x(b,R),u.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=os,u.stateNode=R,R._reactInternals=u,R=u.stateNode,R.props=b,R.state=u.memoizedState,R.refs={},Bx(u),$=x.contextType,R.context=typeof $=="object"&&$!==null?Fi($):Gl,R.state=u.memoizedState,$=x.getDerivedStateFromProps,typeof $=="function"&&(nc(u,x,$,b),R.state=u.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||($=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),$!==R.state&&os.enqueueReplaceState(R,R.state,null),hu(u,b,R,M),Wd(),R.state=u.memoizedState),typeof R.componentDidMount=="function"&&(u.flags|=4194308),b=!0}else if(c===null){R=u.stateNode;var Z=u.memoizedProps,ce=wo(x,Z);R.props=ce;var Le=R.context,$e=x.contextType;$=Gl,typeof $e=="object"&&$e!==null&&($=Fi($e));var et=x.getDerivedStateFromProps;$e=typeof et=="function"||typeof R.getSnapshotBeforeUpdate=="function",Z=u.pendingProps!==Z,$e||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Z||Le!==$)&&z_(u,R,b,$),ll=!1;var Ne=u.memoizedState;R.state=Ne,hu(u,b,R,M),Wd(),Le=u.memoizedState,Z||Ne!==Le||ll?(typeof et=="function"&&(nc(u,x,et,b),Le=u.memoizedState),(ce=ll||U_(u,x,ce,b,Ne,Le,$))?($e||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=b,u.memoizedState=Le),R.props=b,R.state=Le,R.context=$,b=ce):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),b=!1)}else{R=u.stateNode,cn(c,u),$=u.memoizedProps,$e=wo(x,$),R.props=$e,et=u.pendingProps,Ne=R.context,Le=x.contextType,ce=Gl,typeof Le=="object"&&Le!==null&&(ce=Fi(Le)),Z=x.getDerivedStateFromProps,(Le=typeof Z=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==et||Ne!==ce)&&z_(u,R,b,ce),ll=!1,Ne=u.memoizedState,R.state=Ne,hu(u,b,R,M),Wd();var Pe=u.memoizedState;$!==et||Ne!==Pe||ll||c!==null&&c.dependencies!==null&&Ud(c.dependencies)?(typeof Z=="function"&&(nc(u,x,Z,b),Pe=u.memoizedState),($e=ll||U_(u,x,$e,b,Ne,Pe,ce)||c!==null&&c.dependencies!==null&&Ud(c.dependencies))?(Le||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(b,Pe,ce),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(b,Pe,ce)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||$===c.memoizedProps&&Ne===c.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===c.memoizedProps&&Ne===c.memoizedState||(u.flags|=1024),u.memoizedProps=b,u.memoizedState=Pe),R.props=b,R.state=Pe,R.context=ce,b=$e):(typeof R.componentDidUpdate!="function"||$===c.memoizedProps&&Ne===c.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===c.memoizedProps&&Ne===c.memoizedState||(u.flags|=1024),b=!1)}return R=b,Zc(c,u),b=(u.flags&128)!==0,R||b?(R=u.stateNode,x=b&&typeof x.getDerivedStateFromError!="function"?null:R.render(),u.flags|=1,c!==null&&b?(u.child=Wc(u,c.child,null,M),u.child=Wc(u,null,x,M)):Zi(c,u,x,M),u.memoizedState=R.state,c=u.child):c=br(c,u,M),c}function ic(c,u,x,b){return ru(),u.flags|=256,Zi(c,u,x,b),u.child}var Qa={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ja(c){return{baseLanes:c,cachePool:Fp()}}function cr(c,u,x){return c=c!==null?c.childLanes&~x:0,u&&(c|=La),c}function yu(c,u,x){var b=u.pendingProps,M=!1,R=(u.flags&128)!==0,$;if(($=R)||($=c!==null&&c.memoizedState===null?!1:(Ki.current&2)!==0),$&&(M=!0,u.flags&=-129),$=(u.flags&32)!==0,u.flags&=-33,c===null){if(Wn){if(M?ec(u):tc(),Wn){var Z=ki,ce;if(ce=Z){e:{for(ce=Z,Z=qs;ce.nodeType!==8;){if(!Z){Z=null;break e}if(ce=vl(ce.nextSibling),ce===null){Z=null;break e}}Z=ce}Z!==null?(u.memoizedState={dehydrated:Z,treeContext:ql!==null?{id:vo,overflow:_o}:null,retryLane:536870912,hydrationErrors:null},ce=Ms(18,null,null,0),ce.stateNode=Z,ce.return=u,u.child=ce,rs=u,ki=null,ce=!0):ce=!1}ce||Wl(u)}if(Z=u.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return wT(Z)?u.lanes=32:u.lanes=536870912,null;So(u)}return Z=b.children,b=b.fallback,M?(tc(),M=u.mode,Z=Qc({mode:"hidden",children:Z},M),b=$l(b,M,x,null),Z.return=u,b.return=u,Z.sibling=b,u.child=Z,M=u.child,M.memoizedState=Ja(x),M.childLanes=cr(c,$,x),u.memoizedState=Qa,b):(ec(u),To(u,Z))}if(ce=c.memoizedState,ce!==null&&(Z=ce.dehydrated,Z!==null)){if(R)u.flags&256?(ec(u),u.flags&=-257,u=Pr(c,u,x)):u.memoizedState!==null?(tc(),u.child=c.child,u.flags|=128,u=null):(tc(),M=b.fallback,Z=u.mode,b=Qc({mode:"visible",children:b.children},Z),M=$l(M,Z,x,null),M.flags|=2,b.return=u,M.return=u,b.sibling=M,u.child=b,Wc(u,c.child,null,x),b=u.child,b.memoizedState=Ja(x),b.childLanes=cr(c,$,x),u.memoizedState=Qa,u=M);else if(ec(u),wT(Z)){if($=Z.nextSibling&&Z.nextSibling.dataset,$)var Le=$.dgst;$=Le,b=Error(r(419)),b.stack="",b.digest=$,Gc({value:b,source:null,stack:null}),u=Pr(c,u,x)}else if(_r||ja(c,u,x,!1),$=(x&c.childLanes)!==0,_r||$){if($=xn,$!==null&&(b=x&-x,b=(b&42)!==0?1:qt(b),b=(b&($.suspendedLanes|x))!==0?0:b,b!==0&&b!==ce.retryLane))throw ce.retryLane=b,rl(c,b),cs($,c,b),G_;Z.data==="$?"||f(),u=Pr(c,u,x)}else Z.data==="$?"?(u.flags|=192,u.child=c.child,u=null):(c=ce.treeContext,ki=vl(Z.nextSibling),rs=u,Wn=!0,ba=null,qs=!1,c!==null&&(kr[$s++]=vo,kr[$s++]=_o,kr[$s++]=ql,vo=c.id,_o=c.overflow,ql=u),u=To(u,b.children),u.flags|=4096);return u}return M?(tc(),M=b.fallback,Z=u.mode,ce=c.child,Le=ce.sibling,b=Xi(ce,{mode:"hidden",children:b.children}),b.subtreeFlags=ce.subtreeFlags&65011712,Le!==null?M=Xi(Le,M):(M=$l(M,Z,x,null),M.flags|=2),M.return=u,b.return=u,b.sibling=M,u.child=b,b=M,M=u.child,Z=c.child.memoizedState,Z===null?Z=Ja(x):(ce=Z.cachePool,ce!==null?(Le=tr._currentValue,ce=ce.parent!==Le?{parent:Le,pool:Le}:ce):ce=Fp(),Z={baseLanes:Z.baseLanes|x,cachePool:ce}),M.memoizedState=Z,M.childLanes=cr(c,$,x),u.memoizedState=Qa,b):(ec(u),x=c.child,c=x.sibling,x=Xi(x,{mode:"visible",children:b.children}),x.return=u,x.sibling=null,c!==null&&($=u.deletions,$===null?(u.deletions=[c],u.flags|=16):$.push(c)),u.child=x,u.memoizedState=null,x)}function To(c,u){return u=Qc({mode:"visible",children:u},c.mode),u.return=c,c.child=u}function Qc(c,u){return c=Ms(22,c,null,u),c.lanes=0,c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},c}function Pr(c,u,x){return Wc(u,c.child,null,x),c=To(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function Or(c,u,x){c.lanes|=u;var b=c.alternate;b!==null&&(b.lanes|=u),kx(c.return,u,x)}function Vn(c,u,x,b,M){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:b,tail:x,tailMode:M}:(R.isBackwards=u,R.rendering=null,R.renderingStartTime=0,R.last=b,R.tail=x,R.tailMode=M)}function Ma(c,u,x){var b=u.pendingProps,M=b.revealOrder,R=b.tail;if(Zi(c,u,b.children,x),b=Ki.current,(b&2)!==0)b=b&1|2,u.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Or(c,x,u);else if(c.tag===19)Or(c,x,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}b&=1}switch(fe(Ki,b),M){case"forwards":for(x=u.child,M=null;x!==null;)c=x.alternate,c!==null&&fl(c)===null&&(M=x),x=x.sibling;x=M,x===null?(M=u.child,u.child=null):(M=x.sibling,x.sibling=null),Vn(u,!1,M,x,R);break;case"backwards":for(x=null,M=u.child,u.child=null;M!==null;){if(c=M.alternate,c!==null&&fl(c)===null){u.child=M;break}c=M.sibling,M.sibling=x,x=M,M=c}Vn(u,!0,x,null,R);break;case"together":Vn(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function br(c,u,x){if(c!==null&&(u.dependencies=c.dependencies),io|=u.lanes,(x&u.childLanes)===0)if(c!==null){if(ja(c,u,x,!1),(x&u.childLanes)===0)return null}else return null;if(c!==null&&u.child!==c.child)throw Error(r(153));if(u.child!==null){for(c=u.child,x=Xi(c,c.pendingProps),u.child=x,x.return=u;c.sibling!==null;)c=c.sibling,x=x.sibling=Xi(c,c.pendingProps),x.return=u;x.sibling=null}return u.child}function tf(c,u){return(c.lanes&u)!==0?!0:(c=c.dependencies,!!(c!==null&&Ud(c)))}function Ea(c,u,x){switch(u.tag){case 3:Ue(u,u.stateNode.containerInfo),Yl(u,tr,c.memoizedState.cache),ru();break;case 27:case 5:Je(u);break;case 4:Ue(u,u.stateNode.containerInfo);break;case 10:Yl(u,u.type,u.memoizedProps.value);break;case 13:var b=u.memoizedState;if(b!==null)return b.dehydrated!==null?(ec(u),u.flags|=128,null):(x&u.child.childLanes)!==0?yu(c,u,x):(ec(u),c=br(c,u,x),c!==null?c.sibling:null);ec(u);break;case 19:var M=(c.flags&128)!==0;if(b=(x&u.childLanes)!==0,b||(ja(c,u,x,!1),b=(x&u.childLanes)!==0),M){if(b)return Ma(c,u,x);u.flags|=128}if(M=u.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),fe(Ki,Ki.current),b)break;return null;case 22:case 23:return u.lanes=0,Yc(c,u,x);case 24:Yl(u,tr,c.memoizedState.cache)}return br(c,u,x)}function Jc(c,u,x){if(c!==null)if(c.memoizedProps!==u.pendingProps)_r=!0;else{if(!tf(c,x)&&(u.flags&128)===0)return _r=!1,Ea(c,u,x);_r=(c.flags&131072)!==0}else _r=!1,Wn&&(u.flags&1048576)!==0&&Np(u,iu,u.index);switch(u.lanes=0,u.tag){case 16:e:{c=u.pendingProps;var b=u.elementType,M=b._init;if(b=M(b._payload),u.type=b,typeof b=="function")Od(b)?(c=wo(b,c),u.tag=1,u=Ks(null,u,b,c,x)):(u.tag=0,u=xu(null,u,b,c,x));else{if(b!=null){if(M=b.$$typeof,M===k){u.tag=11,u=As(null,u,b,c,x);break e}else if(M===U){u.tag=14,u=Rs(null,u,b,c,x);break e}}throw u=K(b)||b,Error(r(306,u,""))}}return u;case 0:return xu(c,u,u.type,u.pendingProps,x);case 1:return b=u.type,M=wo(b,u.pendingProps),Ks(c,u,b,M,x);case 3:e:{if(Ue(u,u.stateNode.containerInfo),c===null)throw Error(r(387));b=u.pendingProps;var R=u.memoizedState;M=R.element,cn(c,u),hu(u,b,null,x);var $=u.memoizedState;if(b=$.cache,Yl(u,tr,b),b!==R.cache&&Fd(u,[tr],x,!0),Wd(),b=$.element,R.isDehydrated)if(R={element:b,isDehydrated:!1,cache:$.cache},u.updateQueue.baseState=R,u.memoizedState=R,u.flags&256){u=ic(c,u,b,x);break e}else if(b!==M){M=Dr(Error(r(424)),u),Gc(M),u=ic(c,u,b,x);break e}else{switch(c=u.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(ki=vl(c.firstChild),rs=u,Wn=!0,ba=null,qs=!0,x=I_(u,null,b,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(ru(),b===M){u=br(c,u,x);break e}Zi(c,u,b,x)}u=u.child}return u;case 26:return Zc(c,u),c===null?(x=tL(u.type,null,u.pendingProps,null))?u.memoizedState=x:Wn||(x=u.type,c=u.pendingProps,b=K_(De.current).createElement(x),b[Di]=u,b[qi]=c,hs(b,x,c),Ii(b),u.stateNode=b):u.memoizedState=tL(u.type,c.memoizedProps,u.pendingProps,c.memoizedState),null;case 27:return Je(u),c===null&&Wn&&(b=u.stateNode=QR(u.type,u.pendingProps,De.current),rs=u,qs=!0,M=ki,Eu(u.type)?(TT=M,ki=vl(b.firstChild)):ki=M),Zi(c,u,u.pendingProps.children,x),Zc(c,u),c===null&&(u.flags|=4194304),u.child;case 5:return c===null&&Wn&&((M=b=ki)&&(b=HG(b,u.type,u.pendingProps,qs),b!==null?(u.stateNode=b,rs=u,ki=vl(b.firstChild),qs=!1,M=!0):M=!1),M||Wl(u)),Je(u),M=u.type,R=u.pendingProps,$=c!==null?c.memoizedProps:null,b=R.children,bT(M,R)?b=null:$!==null&&bT(M,$)&&(u.flags|=32),u.memoizedState!==null&&(M=ul(c,u,rT,null,null,x),fy._currentValue=M),Zc(c,u),Zi(c,u,b,x),u.child;case 6:return c===null&&Wn&&((c=x=ki)&&(x=VG(x,u.pendingProps,qs),x!==null?(u.stateNode=x,rs=u,ki=null,c=!0):c=!1),c||Wl(u)),null;case 13:return yu(c,u,x);case 4:return Ue(u,u.stateNode.containerInfo),b=u.pendingProps,c===null?u.child=Wc(u,null,b,x):Zi(c,u,b,x),u.child;case 11:return As(c,u,u.type,u.pendingProps,x);case 7:return Zi(c,u,u.pendingProps,x),u.child;case 8:return Zi(c,u,u.pendingProps.children,x),u.child;case 12:return Zi(c,u,u.pendingProps.children,x),u.child;case 10:return b=u.pendingProps,Yl(u,u.type,b.value),Zi(c,u,b.children,x),u.child;case 9:return M=u.type._context,b=u.pendingProps.children,bo(u),M=Fi(M),b=b(M),u.flags|=1,Zi(c,u,b,x),u.child;case 14:return Rs(c,u,u.type,u.pendingProps,x);case 15:return ny(c,u,u.type,u.pendingProps,x);case 19:return Ma(c,u,x);case 31:return b=u.pendingProps,x=u.mode,b={mode:b.mode,children:b.children},c===null?(x=Qc(b,x),x.ref=u.ref,u.child=x,x.return=u,u=x):(x=Xi(c.child,b),x.ref=u.ref,u.child=x,x.return=u,u=x),u;case 22:return Yc(c,u,x);case 24:return bo(u),b=Fi(tr),c===null?(M=Kl(),M===null&&(M=xn,R=Bp(),M.pooledCache=R,R.refCount++,R!==null&&(M.pooledCacheLanes|=x),M=R),u.memoizedState={parent:b,cache:M},Bx(u),Yl(u,tr,M)):((c.lanes&x)!==0&&(cn(c,u),hu(u,null,null,x),Wd()),M=c.memoizedState,R=u.memoizedState,M.parent!==b?(M={parent:b,cache:b},u.memoizedState=M,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=M),Yl(u,tr,b)):(b=R.cache,Yl(u,tr,b),b!==M.cache&&Fd(u,[tr],x,!0))),Zi(c,u,u.pendingProps.children,x),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function eo(c){c.flags|=4}function nf(c,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!aL(u)){if(u=gi.current,u!==null&&((tn&4194048)===tn?Za!==null:(tn&62914560)!==tn&&(tn&536870912)===0||u!==Za))throw wa=qd,Px;c.flags|=8192}}function pl(c,u){u!==null&&(c.flags|=4),c.flags&16384&&(u=c.tag!==22?yt():536870912,c.lanes|=u,$n|=u)}function eh(c,u){if(!Wn)switch(c.tailMode){case"hidden":u=c.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?c.tail=null:x.sibling=null;break;case"collapsed":x=c.tail;for(var b=null;x!==null;)x.alternate!==null&&(b=x),x=x.sibling;b===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function ji(c){var u=c.alternate!==null&&c.alternate.child===c.child,x=0,b=0;if(u)for(var M=c.child;M!==null;)x|=M.lanes|M.childLanes,b|=M.subtreeFlags&65011712,b|=M.flags&65011712,M.return=c,M=M.sibling;else for(M=c.child;M!==null;)x|=M.lanes|M.childLanes,b|=M.subtreeFlags,b|=M.flags,M.return=c,M=M.sibling;return c.subtreeFlags|=b,c.childLanes=x,u}function iy(c,u,x){var b=u.pendingProps;switch(Rx(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(u),null;case 1:return ji(u),null;case 3:return x=u.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),u.memoizedState.cache!==b&&(u.flags|=2048),ol(tr),Ze(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(c===null||c.child===null)&&(Xa(u)?eo(u):c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,ii())),ji(u),null;case 26:return x=u.memoizedState,c===null?(eo(u),x!==null?(ji(u),nf(u,x)):(ji(u),u.flags&=-16777217)):x?x!==c.memoizedState?(eo(u),ji(u),nf(u,x)):(ji(u),u.flags&=-16777217):(c.memoizedProps!==b&&eo(u),ji(u),u.flags&=-16777217),null;case 27:Nt(u),x=De.current;var M=u.type;if(c!==null&&u.stateNode!=null)c.memoizedProps!==b&&eo(u);else{if(!b){if(u.stateNode===null)throw Error(r(166));return ji(u),null}c=ae.current,Xa(u)?n_(u):(c=QR(M,b,x),u.stateNode=c,eo(u))}return ji(u),null;case 5:if(Nt(u),x=u.type,c!==null&&u.stateNode!=null)c.memoizedProps!==b&&eo(u);else{if(!b){if(u.stateNode===null)throw Error(r(166));return ji(u),null}if(c=ae.current,Xa(u))n_(u);else{switch(M=K_(De.current),c){case 1:c=M.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:c=M.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":c=M.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":c=M.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":c=M.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof b.is=="string"?M.createElement("select",{is:b.is}):M.createElement("select"),b.multiple?c.multiple=!0:b.size&&(c.size=b.size);break;default:c=typeof b.is=="string"?M.createElement(x,{is:b.is}):M.createElement(x)}}c[Di]=u,c[qi]=b;e:for(M=u.child;M!==null;){if(M.tag===5||M.tag===6)c.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===u)break e;for(;M.sibling===null;){if(M.return===null||M.return===u)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}u.stateNode=c;e:switch(hs(c,x,b),x){case"button":case"input":case"select":case"textarea":c=!!b.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&eo(u)}}return ji(u),u.flags&=-16777217,null;case 6:if(c&&u.stateNode!=null)c.memoizedProps!==b&&eo(u);else{if(typeof b!="string"&&u.stateNode===null)throw Error(r(166));if(c=De.current,Xa(u)){if(c=u.stateNode,x=u.memoizedProps,b=null,M=rs,M!==null)switch(M.tag){case 27:case 5:b=M.memoizedProps}c[Di]=u,c=!!(c.nodeValue===x||b!==null&&b.suppressHydrationWarning===!0||$R(c.nodeValue,x)),c||Wl(u)}else c=K_(c).createTextNode(b),c[Di]=u,u.stateNode=c}return ji(u),null;case 13:if(b=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(M=Xa(u),b!==null&&b.dehydrated!==null){if(c===null){if(!M)throw Error(r(318));if(M=u.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[Di]=u}else ru(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ji(u),M=!1}else M=ii(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=M),M=!0;if(!M)return u.flags&256?(So(u),u):(So(u),null)}if(So(u),(u.flags&128)!==0)return u.lanes=x,u;if(x=b!==null,c=c!==null&&c.memoizedState!==null,x){b=u.child,M=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(M=b.alternate.memoizedState.cachePool.pool);var R=null;b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(R=b.memoizedState.cachePool.pool),R!==M&&(b.flags|=2048)}return x!==c&&x&&(u.child.flags|=8192),pl(u,u.updateQueue),ji(u),null;case 4:return Ze(),c===null&&gT(u.stateNode.containerInfo),ji(u),null;case 10:return ol(u.type),ji(u),null;case 19:if(de(Ki),M=u.memoizedState,M===null)return ji(u),null;if(b=(u.flags&128)!==0,R=M.rendering,R===null)if(b)eh(M,!1);else{if(Ei!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(R=fl(c),R!==null){for(u.flags|=128,eh(M,!1),c=R.updateQueue,u.updateQueue=c,pl(u,c),u.subtreeFlags=0,c=x,x=u.child;x!==null;)Ex(x,c),x=x.sibling;return fe(Ki,Ki.current&1|2),u.child}c=c.sibling}M.tail!==null&&We()>Xr&&(u.flags|=128,b=!0,eh(M,!1),u.lanes=4194304)}else{if(!b)if(c=fl(R),c!==null){if(u.flags|=128,b=!0,c=c.updateQueue,u.updateQueue=c,pl(u,c),eh(M,!0),M.tail===null&&M.tailMode==="hidden"&&!R.alternate&&!Wn)return ji(u),null}else 2*We()-M.renderingStartTime>Xr&&x!==536870912&&(u.flags|=128,b=!0,eh(M,!1),u.lanes=4194304);M.isBackwards?(R.sibling=u.child,u.child=R):(c=M.last,c!==null?c.sibling=R:u.child=R,M.last=R)}return M.tail!==null?(u=M.tail,M.rendering=u,M.tail=u.sibling,M.renderingStartTime=We(),u.sibling=null,c=Ki.current,fe(Ki,b?c&1|2:c&1),u):(ji(u),null);case 22:case 23:return So(u),Xd(),b=u.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(u.flags|=8192):b&&(u.flags|=8192),b?(x&536870912)!==0&&(u.flags&128)===0&&(ji(u),u.subtreeFlags&6&&(u.flags|=8192)):ji(u),x=u.updateQueue,x!==null&&pl(u,x.retryQueue),x=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),b=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(b=u.memoizedState.cachePool.pool),b!==x&&(u.flags|=2048),c!==null&&de(Sa),null;case 24:return x=null,c!==null&&(x=c.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),ol(tr),ji(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function vu(c,u){switch(Rx(u),u.tag){case 1:return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return ol(tr),Ze(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 26:case 27:case 5:return Nt(u),null;case 13:if(So(u),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(r(340));ru()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return de(Ki),null;case 4:return Ze(),null;case 10:return ol(u.type),null;case 22:case 23:return So(u),Xd(),c!==null&&de(Sa),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 24:return ol(tr),null;case 25:return null;default:return null}}function _u(c,u){switch(Rx(u),u.tag){case 3:ol(tr),Ze();break;case 26:case 27:case 5:Nt(u);break;case 4:Ze();break;case 13:So(u);break;case 19:de(Ki);break;case 10:ol(u.type);break;case 22:case 23:So(u),Xd(),c!==null&&de(Sa);break;case 24:ol(tr)}}function th(c,u){try{var x=u.updateQueue,b=x!==null?x.lastEffect:null;if(b!==null){var M=b.next;x=M;do{if((x.tag&c)===c){b=void 0;var R=x.create,$=x.inst;b=R(),$.destroy=b}x=x.next}while(x!==M)}}catch(Z){ge(u,u.return,Z)}}function Zs(c,u,x){try{var b=u.updateQueue,M=b!==null?b.lastEffect:null;if(M!==null){var R=M.next;b=R;do{if((b.tag&c)===c){var $=b.inst,Z=$.destroy;if(Z!==void 0){$.destroy=void 0,M=u;var ce=x,Le=Z;try{Le()}catch($e){ge(M,ce,$e)}}}b=b.next}while(b!==R)}}catch($e){ge(u,u.return,$e)}}function nh(c){var u=c.updateQueue;if(u!==null){var x=c.stateNode;try{s_(u,x)}catch(b){ge(c,c.return,b)}}}function ml(c,u,x){x.props=wo(c.type,c.memoizedProps),x.state=c.memoizedState;try{x.componentWillUnmount()}catch(b){ge(c,u,b)}}function ih(c,u){try{var x=c.ref;if(x!==null){switch(c.tag){case 26:case 27:case 5:var b=c.stateNode;break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof x=="function"?c.refCleanup=x(b):x.current=b}}catch(M){ge(c,u,M)}}function Co(c,u){var x=c.ref,b=c.refCleanup;if(x!==null)if(typeof b=="function")try{b()}catch(M){ge(c,u,M)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(M){ge(c,u,M)}else x.current=null}function bu(c){var u=c.type,x=c.memoizedProps,b=c.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":x.autoFocus&&b.focus();break e;case"img":x.src?b.src=x.src:x.srcSet&&(b.srcset=x.srcSet)}}catch(M){ge(c,c.return,M)}}function rf(c,u,x){try{var b=c.stateNode;BG(b,c.type,x,u),b[qi]=u}catch(M){ge(c,c.return,M)}}function sf(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Eu(c.type)||c.tag===4}function rc(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||sf(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Eu(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function sc(c,u,x){var b=c.tag;if(b===5||b===6)c=c.stateNode,u?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(c,u):(u=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,u.appendChild(c),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=Y_));else if(b!==4&&(b===27&&Eu(c.type)&&(x=c.stateNode,u=null),c=c.child,c!==null))for(sc(c,u,x),c=c.sibling;c!==null;)sc(c,u,x),c=c.sibling}function ac(c,u,x){var b=c.tag;if(b===5||b===6)c=c.stateNode,u?x.insertBefore(c,u):x.appendChild(c);else if(b!==4&&(b===27&&Eu(c.type)&&(x=c.stateNode),c=c.child,c!==null))for(ac(c,u,x),c=c.sibling;c!==null;)ac(c,u,x),c=c.sibling}function oc(c){var u=c.stateNode,x=c.memoizedProps;try{for(var b=c.type,M=u.attributes;M.length;)u.removeAttributeNode(M[0]);hs(u,b,x),u[Di]=c,u[qi]=x}catch(R){ge(c,c.return,R)}}var Mo=!1,Si=!1,ju=!1,Qs=typeof WeakSet=="function"?WeakSet:Set,xi=null;function hr(c,u){if(c=c.containerInfo,vT=nb,c=bx(c),Dd(c)){if("selectionStart"in c)var x={start:c.selectionStart,end:c.selectionEnd};else e:{x=(x=c.ownerDocument)&&x.defaultView||window;var b=x.getSelection&&x.getSelection();if(b&&b.rangeCount!==0){x=b.anchorNode;var M=b.anchorOffset,R=b.focusNode;b=b.focusOffset;try{x.nodeType,R.nodeType}catch{x=null;break e}var $=0,Z=-1,ce=-1,Le=0,$e=0,et=c,Ne=null;t:for(;;){for(var Pe;et!==x||M!==0&&et.nodeType!==3||(Z=$+M),et!==R||b!==0&&et.nodeType!==3||(ce=$+b),et.nodeType===3&&($+=et.nodeValue.length),(Pe=et.firstChild)!==null;)Ne=et,et=Pe;for(;;){if(et===c)break t;if(Ne===x&&++Le===M&&(Z=$),Ne===R&&++$e===b&&(ce=$),(Pe=et.nextSibling)!==null)break;et=Ne,Ne=et.parentNode}et=Pe}x=Z===-1||ce===-1?null:{start:Z,end:ce}}else x=null}x=x||{start:0,end:0}}else x=null;for(_T={focusedElem:c,selectionRange:x},nb=!1,xi=u;xi!==null;)if(u=xi,c=u.child,(u.subtreeFlags&1024)!==0&&c!==null)c.return=u,xi=c;else for(;xi!==null;){switch(u=xi,R=u.alternate,c=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((c&1024)!==0&&R!==null){c=void 0,x=u,M=R.memoizedProps,R=R.memoizedState,b=x.stateNode;try{var pn=wo(x.type,M,x.elementType===x.type);c=b.getSnapshotBeforeUpdate(pn,R),b.__reactInternalSnapshotBeforeUpdate=c}catch(on){ge(x,x.return,on)}}break;case 3:if((c&1024)!==0){if(c=u.stateNode.containerInfo,x=c.nodeType,x===9)ST(c);else if(x===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":ST(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=u.sibling,c!==null){c.return=u.return,xi=c;break}xi=u.return}}function gl(c,u,x){var b=x.flags;switch(x.tag){case 0:case 11:case 15:ls(c,x),b&4&&th(5,x);break;case 1:if(ls(c,x),b&4)if(c=x.stateNode,u===null)try{c.componentDidMount()}catch($){ge(x,x.return,$)}else{var M=wo(x.type,u.memoizedProps);u=u.memoizedState;try{c.componentDidUpdate(M,u,c.__reactInternalSnapshotBeforeUpdate)}catch($){ge(x,x.return,$)}}b&64&&nh(x),b&512&&ih(x,x.return);break;case 3:if(ls(c,x),b&64&&(c=x.updateQueue,c!==null)){if(u=null,x.child!==null)switch(x.child.tag){case 27:case 5:u=x.child.stateNode;break;case 1:u=x.child.stateNode}try{s_(c,u)}catch($){ge(x,x.return,$)}}break;case 27:u===null&&b&4&&oc(x);case 26:case 5:ls(c,x),u===null&&b&4&&bu(x),b&512&&ih(x,x.return);break;case 12:ls(c,x);break;case 13:ls(c,x),b&4&&lc(c,x),b&64&&(c=x.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(x=Ai.bind(null,x),GG(c,x))));break;case 22:if(b=x.memoizedState!==null||Mo,!b){u=u!==null&&u.memoizedState!==null||Si,M=Mo;var R=Si;Mo=b,(Si=u)&&!R?Eo(c,x,(x.subtreeFlags&8772)!==0):ls(c,x),Mo=M,Si=R}break;case 30:break;default:ls(c,x)}}function Cn(c){var u=c.alternate;u!==null&&(c.alternate=null,Cn(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&kn(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var sn=null,Gn=!1;function Aa(c,u,x){for(x=x.child;x!==null;)rh(c,u,x),x=x.sibling}function rh(c,u,x){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(Ie,x)}catch{}switch(x.tag){case 26:Si||Co(x,u),Aa(c,u,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Si||Co(x,u);var b=sn,M=Gn;Eu(x.type)&&(sn=x.stateNode,Gn=!1),Aa(c,u,x),cy(x.stateNode),sn=b,Gn=M;break;case 5:Si||Co(x,u);case 6:if(b=sn,M=Gn,sn=null,Aa(c,u,x),sn=b,Gn=M,sn!==null)if(Gn)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(x.stateNode)}catch(R){ge(x,u,R)}else try{sn.removeChild(x.stateNode)}catch(R){ge(x,u,R)}break;case 18:sn!==null&&(Gn?(c=sn,KR(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,x.stateNode),xy(c)):KR(sn,x.stateNode));break;case 4:b=sn,M=Gn,sn=x.stateNode.containerInfo,Gn=!0,Aa(c,u,x),sn=b,Gn=M;break;case 0:case 11:case 14:case 15:Si||Zs(2,x,u),Si||Zs(4,x,u),Aa(c,u,x);break;case 1:Si||(Co(x,u),b=x.stateNode,typeof b.componentWillUnmount=="function"&&ml(x,u,b)),Aa(c,u,x);break;case 21:Aa(c,u,x);break;case 22:Si=(b=Si)||x.memoizedState!==null,Aa(c,u,x),Si=b;break;default:Aa(c,u,x)}}function lc(c,u){if(u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{xy(c)}catch(x){ge(u,u.return,x)}}function rm(c){switch(c.tag){case 13:case 19:var u=c.stateNode;return u===null&&(u=c.stateNode=new Qs),u;case 22:return c=c.stateNode,u=c._retryCache,u===null&&(u=c._retryCache=new Qs),u;default:throw Error(r(435,c.tag))}}function sh(c,u){var x=rm(c);u.forEach(function(b){var M=hn.bind(null,c,b);x.has(b)||(x.add(b),b.then(M,M))})}function jr(c,u){var x=u.deletions;if(x!==null)for(var b=0;b<x.length;b++){var M=x[b],R=c,$=u,Z=$;e:for(;Z!==null;){switch(Z.tag){case 27:if(Eu(Z.type)){sn=Z.stateNode,Gn=!1;break e}break;case 5:sn=Z.stateNode,Gn=!1;break e;case 3:case 4:sn=Z.stateNode.containerInfo,Gn=!0;break e}Z=Z.return}if(sn===null)throw Error(r(160));rh(R,$,M),sn=null,Gn=!1,R=M.alternate,R!==null&&(R.return=null),M.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)sm(u,c),u=u.sibling}var to=null;function sm(c,u){var x=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:jr(u,c),Ui(c),b&4&&(Zs(3,c,c.return),th(3,c),Zs(5,c,c.return));break;case 1:jr(u,c),Ui(c),b&512&&(Si||x===null||Co(x,x.return)),b&64&&Mo&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(x=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=x===null?b:x.concat(b))));break;case 26:var M=to;if(jr(u,c),Ui(c),b&512&&(Si||x===null||Co(x,x.return)),b&4){var R=x!==null?x.memoizedState:null;if(b=c.memoizedState,x===null)if(b===null)if(c.stateNode===null){e:{b=c.type,x=c.memoizedProps,M=M.ownerDocument||M;t:switch(b){case"title":R=M.getElementsByTagName("title")[0],(!R||R[_s]||R[Di]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=M.createElement(b),M.head.insertBefore(R,M.querySelector("head > title"))),hs(R,b,x),R[Di]=c,Ii(R),b=R;break e;case"link":var $=rL("link","href",M).get(b+(x.href||""));if($){for(var Z=0;Z<$.length;Z++)if(R=$[Z],R.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&R.getAttribute("rel")===(x.rel==null?null:x.rel)&&R.getAttribute("title")===(x.title==null?null:x.title)&&R.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){$.splice(Z,1);break t}}R=M.createElement(b),hs(R,b,x),M.head.appendChild(R);break;case"meta":if($=rL("meta","content",M).get(b+(x.content||""))){for(Z=0;Z<$.length;Z++)if(R=$[Z],R.getAttribute("content")===(x.content==null?null:""+x.content)&&R.getAttribute("name")===(x.name==null?null:x.name)&&R.getAttribute("property")===(x.property==null?null:x.property)&&R.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&R.getAttribute("charset")===(x.charSet==null?null:x.charSet)){$.splice(Z,1);break t}}R=M.createElement(b),hs(R,b,x),M.head.appendChild(R);break;default:throw Error(r(468,b))}R[Di]=c,Ii(R),b=R}c.stateNode=b}else sL(M,c.type,c.stateNode);else c.stateNode=iL(M,b,c.memoizedProps);else R!==b?(R===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):R.count--,b===null?sL(M,c.type,c.stateNode):iL(M,b,c.memoizedProps)):b===null&&c.stateNode!==null&&rf(c,c.memoizedProps,x.memoizedProps)}break;case 27:jr(u,c),Ui(c),b&512&&(Si||x===null||Co(x,x.return)),x!==null&&b&4&&rf(c,c.memoizedProps,x.memoizedProps);break;case 5:if(jr(u,c),Ui(c),b&512&&(Si||x===null||Co(x,x.return)),c.flags&32){M=c.stateNode;try{ts(M,"")}catch(Pe){ge(c,c.return,Pe)}}b&4&&c.stateNode!=null&&(M=c.memoizedProps,rf(c,M,x!==null?x.memoizedProps:M)),b&1024&&(ju=!0);break;case 6:if(jr(u,c),Ui(c),b&4){if(c.stateNode===null)throw Error(r(162));b=c.memoizedProps,x=c.stateNode;try{x.nodeValue=b}catch(Pe){ge(c,c.return,Pe)}}break;case 3:if(J_=null,M=to,to=Z_(u.containerInfo),jr(u,c),to=M,Ui(c),b&4&&x!==null&&x.memoizedState.isDehydrated)try{xy(u.containerInfo)}catch(Pe){ge(c,c.return,Pe)}ju&&(ju=!1,cc(c));break;case 4:b=to,to=Z_(c.stateNode.containerInfo),jr(u,c),Ui(c),to=b;break;case 12:jr(u,c),Ui(c);break;case 13:jr(u,c),Ui(c),c.child.flags&8192&&c.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(ui=We()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,sh(c,b)));break;case 22:M=c.memoizedState!==null;var ce=x!==null&&x.memoizedState!==null,Le=Mo,$e=Si;if(Mo=Le||M,Si=$e||ce,jr(u,c),Si=$e,Mo=Le,Ui(c),b&8192)e:for(u=c.stateNode,u._visibility=M?u._visibility&-2:u._visibility|1,M&&(x===null||ce||Mo||Si||Js(c)),x=null,u=c;;){if(u.tag===5||u.tag===26){if(x===null){ce=x=u;try{if(R=ce.stateNode,M)$=R.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{Z=ce.stateNode;var et=ce.memoizedProps.style,Ne=et!=null&&et.hasOwnProperty("display")?et.display:null;Z.style.display=Ne==null||typeof Ne=="boolean"?"":(""+Ne).trim()}}catch(Pe){ge(ce,ce.return,Pe)}}}else if(u.tag===6){if(x===null){ce=u;try{ce.stateNode.nodeValue=M?"":ce.memoizedProps}catch(Pe){ge(ce,ce.return,Pe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===c)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;x===u&&(x=null),u=u.return}x===u&&(x=null),u.sibling.return=u.return,u=u.sibling}b&4&&(b=c.updateQueue,b!==null&&(x=b.retryQueue,x!==null&&(b.retryQueue=null,sh(c,x))));break;case 19:jr(u,c),Ui(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,sh(c,b)));break;case 30:break;case 21:break;default:jr(u,c),Ui(c)}}function Ui(c){var u=c.flags;if(u&2){try{for(var x,b=c.return;b!==null;){if(sf(b)){x=b;break}b=b.return}if(x==null)throw Error(r(160));switch(x.tag){case 27:var M=x.stateNode,R=rc(c);ac(c,R,M);break;case 5:var $=x.stateNode;x.flags&32&&(ts($,""),x.flags&=-33);var Z=rc(c);ac(c,Z,$);break;case 3:case 4:var ce=x.stateNode.containerInfo,Le=rc(c);sc(c,Le,ce);break;default:throw Error(r(161))}}catch($e){ge(c,c.return,$e)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function cc(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var u=c;cc(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),c=c.sibling}}function ls(c,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)gl(c,u.alternate,u),u=u.sibling}function Js(c){for(c=c.child;c!==null;){var u=c;switch(u.tag){case 0:case 11:case 14:case 15:Zs(4,u,u.return),Js(u);break;case 1:Co(u,u.return);var x=u.stateNode;typeof x.componentWillUnmount=="function"&&ml(u,u.return,x),Js(u);break;case 27:cy(u.stateNode);case 26:case 5:Co(u,u.return),Js(u);break;case 22:u.memoizedState===null&&Js(u);break;case 30:Js(u);break;default:Js(u)}c=c.sibling}}function Eo(c,u,x){for(x=x&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var b=u.alternate,M=c,R=u,$=R.flags;switch(R.tag){case 0:case 11:case 15:Eo(M,R,x),th(4,R);break;case 1:if(Eo(M,R,x),b=R,M=b.stateNode,typeof M.componentDidMount=="function")try{M.componentDidMount()}catch(Le){ge(b,b.return,Le)}if(b=R,M=b.updateQueue,M!==null){var Z=b.stateNode;try{var ce=M.shared.hiddenCallbacks;if(ce!==null)for(M.shared.hiddenCallbacks=null,M=0;M<ce.length;M++)uu(ce[M],Z)}catch(Le){ge(b,b.return,Le)}}x&&$&64&&nh(R),ih(R,R.return);break;case 27:oc(R);case 26:case 5:Eo(M,R,x),x&&b===null&&$&4&&bu(R),ih(R,R.return);break;case 12:Eo(M,R,x);break;case 13:Eo(M,R,x),x&&$&4&&lc(M,R);break;case 22:R.memoizedState===null&&Eo(M,R,x),ih(R,R.return);break;case 30:break;default:Eo(M,R,x)}u=u.sibling}}function am(c,u){var x=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),c=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),c!==x&&(c!=null&&c.refCount++,x!=null&&su(x))}function om(c,u){c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&su(c))}function yi(c,u,x,b){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)lm(c,u,x,b),u=u.sibling}function lm(c,u,x,b){var M=u.flags;switch(u.tag){case 0:case 11:case 15:yi(c,u,x,b),M&2048&&th(9,u);break;case 1:yi(c,u,x,b);break;case 3:yi(c,u,x,b),M&2048&&(c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&su(c)));break;case 12:if(M&2048){yi(c,u,x,b),c=u.stateNode;try{var R=u.memoizedProps,$=R.id,Z=R.onPostCommit;typeof Z=="function"&&Z($,u.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ce){ge(u,u.return,ce)}}else yi(c,u,x,b);break;case 13:yi(c,u,x,b);break;case 23:break;case 22:R=u.stateNode,$=u.alternate,u.memoizedState!==null?R._visibility&2?yi(c,u,x,b):no(c,u):R._visibility&2?yi(c,u,x,b):(R._visibility|=2,xl(c,u,x,b,(u.subtreeFlags&10256)!==0)),M&2048&&am($,u);break;case 24:yi(c,u,x,b),M&2048&&om(u.alternate,u);break;default:yi(c,u,x,b)}}function xl(c,u,x,b,M){for(M=M&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var R=c,$=u,Z=x,ce=b,Le=$.flags;switch($.tag){case 0:case 11:case 15:xl(R,$,Z,ce,M),th(8,$);break;case 23:break;case 22:var $e=$.stateNode;$.memoizedState!==null?$e._visibility&2?xl(R,$,Z,ce,M):no(R,$):($e._visibility|=2,xl(R,$,Z,ce,M)),M&&Le&2048&&am($.alternate,$);break;case 24:xl(R,$,Z,ce,M),M&&Le&2048&&om($.alternate,$);break;default:xl(R,$,Z,ce,M)}u=u.sibling}}function no(c,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var x=c,b=u,M=b.flags;switch(b.tag){case 22:no(x,b),M&2048&&am(b.alternate,b);break;case 24:no(x,b),M&2048&&om(b.alternate,b);break;default:no(x,b)}u=u.sibling}}var ea=8192;function Su(c){if(c.subtreeFlags&ea)for(c=c.child;c!==null;)$_(c),c=c.sibling}function $_(c){switch(c.tag){case 26:Su(c),c.flags&ea&&c.memoizedState!==null&&i$(to,c.memoizedState,c.memoizedProps);break;case 5:Su(c);break;case 3:case 4:var u=to;to=Z_(c.stateNode.containerInfo),Su(c),to=u;break;case 22:c.memoizedState===null&&(u=c.alternate,u!==null&&u.memoizedState!==null?(u=ea,ea=16777216,Su(c),ea=u):Su(c));break;default:Su(c)}}function q_(c){var u=c.alternate;if(u!==null&&(c=u.child,c!==null)){u.child=null;do u=c.sibling,c.sibling=null,c=u;while(c!==null)}}function wi(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var b=u[x];xi=b,Ro(b,c)}q_(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ry(c),c=c.sibling}function ry(c){switch(c.tag){case 0:case 11:case 15:wi(c),c.flags&2048&&Zs(9,c,c.return);break;case 3:wi(c);break;case 12:wi(c);break;case 22:var u=c.stateNode;c.memoizedState!==null&&u._visibility&2&&(c.return===null||c.return.tag!==13)?(u._visibility&=-3,Ao(c)):wi(c);break;default:wi(c)}}function Ao(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var b=u[x];xi=b,Ro(b,c)}q_(c)}for(c=c.child;c!==null;){switch(u=c,u.tag){case 0:case 11:case 15:Zs(8,u,u.return),Ao(u);break;case 22:x=u.stateNode,x._visibility&2&&(x._visibility&=-3,Ao(u));break;default:Ao(u)}c=c.sibling}}function Ro(c,u){for(;xi!==null;){var x=xi;switch(x.tag){case 0:case 11:case 15:Zs(8,x,u);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var b=x.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:su(x.memoizedState.cache)}if(b=x.child,b!==null)b.return=x,xi=b;else e:for(x=c;xi!==null;){b=xi;var M=b.sibling,R=b.return;if(Cn(b),b===x){xi=null;break e}if(M!==null){M.return=R,xi=M;break e}xi=R}}}var zi={getCacheForType:function(c){var u=Fi(tr),x=u.data.get(c);return x===void 0&&(x=c(),u.data.set(c,x)),x}},sy=typeof WeakMap=="function"?WeakMap:Map,ri=0,xn=null,Nn=null,tn=0,Sn=0,Ni=null,ta=!1,wu=!1,Tu=!1,Ra=0,Ei=0,io=0,Lo=0,ah=0,La=0,$n=0,si=null,an=null,In=!1,ui=0,Xr=1/0,Da=null,na=null,ur=0,Yr=null,vi=null,ia=0,yl=0,af=null,ra=null,Do=0,oh=null;function Hi(){if((ri&2)!==0&&tn!==0)return tn&-tn;if(O.T!==null){var c=vn;return c!==0?c:dT()}return Dn()}function cm(){La===0&&(La=(tn&536870912)===0||Wn?me():536870912);var c=gi.current;return c!==null&&(c.flags|=32),La}function cs(c,u,x){(c===xn&&(Sn===2||Sn===9)||c.cancelPendingCommit!==null)&&(uc(c,0),ro(c,tn,La,!1)),jt(c,x),((ri&2)===0||c!==xn)&&(c===xn&&((ri&2)===0&&(Lo|=x),Ei===4&&ro(c,tn,La,!1)),pc(c))}function Cu(c,u,x){if((ri&6)!==0)throw Error(r(327));var b=!x&&(u&124)===0&&(u&c.expiredLanes)===0||ct(c,u),M=b?E(c,u):m(c,u,!0),R=b;do{if(M===0){wu&&!b&&ro(c,u,0,!1);break}else{if(x=c.current.alternate,R&&!hc(x)){M=m(c,u,!1),R=!1;continue}if(M===2){if(R=u,c.errorRecoveryDisabledLanes&R)var $=0;else $=c.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){u=$;e:{var Z=c;M=si;var ce=Z.current.memoizedState.isDehydrated;if(ce&&(uc(Z,$).flags|=256),$=m(Z,$,!1),$!==2){if(Tu&&!ce){Z.errorRecoveryDisabledLanes|=R,Lo|=R,M=4;break e}R=an,an=M,R!==null&&(an===null?an=R:an.push.apply(an,R))}M=$}if(R=!1,M!==2)continue}}if(M===1){uc(c,0),ro(c,u,0,!0);break}e:{switch(b=c,R=M,R){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:ro(b,u,La,!ta);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(M=ui+300-We(),10<M)){if(ro(b,u,La,!ta),zt(b,0,!0)!==0)break e;b.timeoutHandle=XR(of.bind(null,b,x,an,Da,In,u,La,Lo,$n,ta,R,2,-0,0),M);break e}of(b,x,an,Da,In,u,La,Lo,$n,ta,R,0,-0,0)}}break}while(!0);pc(c)}function of(c,u,x,b,M,R,$,Z,ce,Le,$e,et,Ne,Pe){if(c.timeoutHandle=-1,et=u.subtreeFlags,(et&8192||(et&16785408)===16785408)&&(dy={stylesheets:null,count:0,unsuspend:n$},$_(u),et=r$(),et!==null)){c.cancelPendingCommit=et(ht.bind(null,c,u,R,x,b,M,$,Z,ce,$e,1,Ne,Pe)),ro(c,R,$,!Le);return}ht(c,u,R,x,b,M,$,Z,ce)}function hc(c){for(var u=c;;){var x=u.tag;if((x===0||x===11||x===15)&&u.flags&16384&&(x=u.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var b=0;b<x.length;b++){var M=x[b],R=M.getSnapshot;M=M.value;try{if(!ws(R(),M))return!1}catch{return!1}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ro(c,u,x,b){u&=~ah,u&=~Lo,c.suspendedLanes|=u,c.pingedLanes&=~u,b&&(c.warmLanes|=u),b=c.expirationTimes;for(var M=u;0<M;){var R=31-_t(M),$=1<<R;b[R]=-1,M&=~$}x!==0&&Ke(c,x,u)}function ko(){return(ri&6)===0?(ay(0),!1):!0}function lh(){if(Nn!==null){if(Sn===0)var c=Nn.return;else c=Nn,al=Xl=null,zx(c),qc=null,Qd=0,c=Nn;for(;c!==null;)_u(c.alternate,c),c=c.return;Nn=null}}function uc(c,u){var x=c.timeoutHandle;x!==-1&&(c.timeoutHandle=-1,FG(x)),x=c.cancelPendingCommit,x!==null&&(c.cancelPendingCommit=null,x()),lh(),xn=c,Nn=x=Xi(c.current,null),tn=u,Sn=0,Ni=null,ta=!1,wu=ct(c,u),Tu=!1,$n=La=ah=Lo=io=Ei=0,an=si=null,In=!1,(u&8)!==0&&(u|=u&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=u;0<b;){var M=31-_t(b),R=1<<M;u|=c[M],b&=~R}return Ra=u,Pd(),x}function hm(c,u){_n=null,O.H=Zd,u===$d||u===Ya?(u=Ox(),Sn=3):u===Px?(u=Ox(),Sn=4):Sn=u===G_?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Ni=u,Nn===null&&(Ei=1,tm(c,Dr(u,c.current)))}function Mu(){var c=O.H;return O.H=Zd,c===null?Zd:c}function um(){var c=O.A;return O.A=zi,c}function f(){Ei=4,ta||(tn&4194048)!==tn&&gi.current!==null||(wu=!0),(io&134217727)===0&&(Lo&134217727)===0||xn===null||ro(xn,tn,La,!1)}function m(c,u,x){var b=ri;ri|=2;var M=Mu(),R=um();(xn!==c||tn!==u)&&(Da=null,uc(c,u)),u=!1;var $=Ei;e:do try{if(Sn!==0&&Nn!==null){var Z=Nn,ce=Ni;switch(Sn){case 8:lh(),$=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(u=!0);var Le=Sn;if(Sn=0,Ni=null,he(c,Z,ce,Le),x&&wu){$=0;break e}break;default:Le=Sn,Sn=0,Ni=null,he(c,Z,ce,Le)}}S(),$=Ei;break}catch($e){hm(c,$e)}while(!0);return u&&c.shellSuspendCounter++,al=Xl=null,ri=b,O.H=M,O.A=R,Nn===null&&(xn=null,tn=0,Pd()),$}function S(){for(;Nn!==null;)B(Nn)}function E(c,u){var x=ri;ri|=2;var b=Mu(),M=um();xn!==c||tn!==u?(Da=null,Xr=We()+500,uc(c,u)):wu=ct(c,u);e:do try{if(Sn!==0&&Nn!==null){u=Nn;var R=Ni;t:switch(Sn){case 1:Sn=0,Ni=null,he(c,u,R,1);break;case 2:case 9:if(Up(R)){Sn=0,Ni=null,J(u);break}u=function(){Sn!==2&&Sn!==9||xn!==c||(Sn=7),pc(c)},R.then(u,u);break e;case 3:Sn=7;break e;case 4:Sn=5;break e;case 7:Up(R)?(Sn=0,Ni=null,J(u)):(Sn=0,Ni=null,he(c,u,R,7));break;case 5:var $=null;switch(Nn.tag){case 26:$=Nn.memoizedState;case 5:case 27:var Z=Nn;if(!$||aL($)){Sn=0,Ni=null;var ce=Z.sibling;if(ce!==null)Nn=ce;else{var Le=Z.return;Le!==null?(Nn=Le,Te(Le)):Nn=null}break t}}Sn=0,Ni=null,he(c,u,R,5);break;case 6:Sn=0,Ni=null,he(c,u,R,6);break;case 8:lh(),Ei=6;break e;default:throw Error(r(462))}}D();break}catch($e){hm(c,$e)}while(!0);return al=Xl=null,O.H=b,O.A=M,ri=x,Nn!==null?0:(xn=null,tn=0,Pd(),Ei)}function D(){for(;Nn!==null&&!rt();)B(Nn)}function B(c){var u=Jc(c.alternate,c,Ra);c.memoizedProps=c.pendingProps,u===null?Te(c):Nn=u}function J(c){var u=c,x=u.alternate;switch(u.tag){case 15:case 0:u=Ys(x,u,u.pendingProps,u.type,void 0,tn);break;case 11:u=Ys(x,u,u.pendingProps,u.type.render,u.ref,tn);break;case 5:zx(u);default:_u(x,u),u=Nn=Ex(u,Ra),u=Jc(x,u,Ra)}c.memoizedProps=c.pendingProps,u===null?Te(c):Nn=u}function he(c,u,x,b){al=Xl=null,zx(u),qc=null,Qd=0;var M=u.return;try{if(hT(c,M,u,x,tn)){Ei=1,tm(c,Dr(x,c.current)),Nn=null;return}}catch(R){if(M!==null)throw Nn=M,R;Ei=1,tm(c,Dr(x,c.current)),Nn=null;return}u.flags&32768?(Wn||b===1?c=!0:wu||(tn&536870912)!==0?c=!1:(ta=c=!0,(b===2||b===9||b===3||b===6)&&(b=gi.current,b!==null&&b.tag===13&&(b.flags|=16384))),Ge(u,c)):Te(u)}function Te(c){var u=c;do{if((u.flags&32768)!==0){Ge(u,ta);return}c=u.return;var x=iy(u.alternate,u,Ra);if(x!==null){Nn=x;return}if(u=u.sibling,u!==null){Nn=u;return}Nn=u=c}while(u!==null);Ei===0&&(Ei=5)}function Ge(c,u){do{var x=vu(c.alternate,c);if(x!==null){x.flags&=32767,Nn=x;return}if(x=c.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!u&&(c=c.sibling,c!==null)){Nn=c;return}Nn=c=x}while(c!==null);Ei=6,Nn=null}function ht(c,u,x,b,M,R,$,Z,ce){c.cancelPendingCommit=null;do dc();while(ur!==0);if((ri&6)!==0)throw Error(r(327));if(u!==null){if(u===c.current)throw Error(r(177));if(R=u.lanes|u.childLanes,R|=Lp,ot(c,x,R,$,Z,ce),c===xn&&(Nn=xn=null,tn=0),vi=u,Yr=c,ia=x,yl=R,af=M,ra=b,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Xn(xt,function(){return fc(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||b){b=O.T,O.T=null,M=q.p,q.p=2,$=ri,ri|=4;try{hr(c,u,x)}finally{ri=$,q.p=M,O.T=b}}ur=1,wt(),Mt(),yn()}}function wt(){if(ur===1){ur=0;var c=Yr,u=vi,x=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||x){x=O.T,O.T=null;var b=q.p;q.p=2;var M=ri;ri|=4;try{sm(u,c);var R=_T,$=bx(c.containerInfo),Z=R.focusedElem,ce=R.selectionRange;if($!==Z&&Z&&Z.ownerDocument&&_x(Z.ownerDocument.documentElement,Z)){if(ce!==null&&Dd(Z)){var Le=ce.start,$e=ce.end;if($e===void 0&&($e=Le),"selectionStart"in Z)Z.selectionStart=Le,Z.selectionEnd=Math.min($e,Z.value.length);else{var et=Z.ownerDocument||document,Ne=et&&et.defaultView||window;if(Ne.getSelection){var Pe=Ne.getSelection(),pn=Z.textContent.length,on=Math.min(ce.start,pn),Ci=ce.end===void 0?on:Math.min(ce.end,pn);!Pe.extend&&on>Ci&&($=Ci,Ci=on,on=$);var we=vx(Z,on),ye=vx(Z,Ci);if(we&&ye&&(Pe.rangeCount!==1||Pe.anchorNode!==we.node||Pe.anchorOffset!==we.offset||Pe.focusNode!==ye.node||Pe.focusOffset!==ye.offset)){var Re=et.createRange();Re.setStart(we.node,we.offset),Pe.removeAllRanges(),on>Ci?(Pe.addRange(Re),Pe.extend(ye.node,ye.offset)):(Re.setEnd(ye.node,ye.offset),Pe.addRange(Re))}}}}for(et=[],Pe=Z;Pe=Pe.parentNode;)Pe.nodeType===1&&et.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<et.length;Z++){var Ye=et[Z];Ye.element.scrollLeft=Ye.left,Ye.element.scrollTop=Ye.top}}nb=!!vT,_T=vT=null}finally{ri=M,q.p=b,O.T=x}}c.current=u,ur=2}}function Mt(){if(ur===2){ur=0;var c=Yr,u=vi,x=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||x){x=O.T,O.T=null;var b=q.p;q.p=2;var M=ri;ri|=4;try{gl(c,u.alternate,u)}finally{ri=M,q.p=b,O.T=x}}ur=3}}function yn(){if(ur===4||ur===3){ur=0,qe();var c=Yr,u=vi,x=ia,b=ra;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ur=5:(ur=0,vi=Yr=null,sa(c,c.pendingLanes));var M=c.pendingLanes;if(M===0&&(na=null),Un(x),u=u.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(Ie,u,void 0,(u.current.flags&128)===128)}catch{}if(b!==null){u=O.T,M=q.p,q.p=2,O.T=null;try{for(var R=c.onRecoverableError,$=0;$<b.length;$++){var Z=b[$];R(Z.value,{componentStack:Z.stack})}}finally{O.T=u,q.p=M}}(ia&3)!==0&&dc(),pc(c),M=c.pendingLanes,(x&4194090)!==0&&(M&42)!==0?c===oh?Do++:(Do=0,oh=c):Do=0,ay(0)}}function sa(c,u){(c.pooledCacheLanes&=u)===0&&(u=c.pooledCache,u!=null&&(c.pooledCache=null,su(u)))}function dc(c){return wt(),Mt(),yn(),fc()}function fc(){if(ur!==5)return!1;var c=Yr,u=yl;yl=0;var x=Un(ia),b=O.T,M=q.p;try{q.p=32>x?32:x,O.T=null,x=af,af=null;var R=Yr,$=ia;if(ur=0,vi=Yr=null,ia=0,(ri&6)!==0)throw Error(r(331));var Z=ri;if(ri|=4,ry(R.current),lm(R,R.current,$,x),ri=Z,ay(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(Ie,R)}catch{}return!0}finally{q.p=M,O.T=b,sa(c,u)}}function ke(c,u,x){u=Dr(x,u),u=nm(c.stateNode,u,2),c=cl(c,u,2),c!==null&&(jt(c,2),pc(c))}function ge(c,u,x){if(c.tag===3)ke(c,c,x);else for(;u!==null;){if(u.tag===3){ke(u,c,x);break}else if(u.tag===1){var b=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(na===null||!na.has(b))){c=Dr(x,c),x=V_(2),b=cl(u,x,2),b!==null&&(im(x,b,u,c),jt(b,2),pc(b));break}}u=u.return}}function Oe(c,u,x){var b=c.pingCache;if(b===null){b=c.pingCache=new sy;var M=new Set;b.set(u,M)}else M=b.get(u),M===void 0&&(M=new Set,b.set(u,M));M.has(x)||(Tu=!0,M.add(x),c=lt.bind(null,c,u,x),u.then(c,c))}function lt(c,u,x){var b=c.pingCache;b!==null&&b.delete(u),c.pingedLanes|=c.suspendedLanes&x,c.warmLanes&=~x,xn===c&&(tn&x)===x&&(Ei===4||Ei===3&&(tn&62914560)===tn&&300>We()-ui?(ri&2)===0&&uc(c,0):ah|=x,$n===tn&&($n=0)),pc(c)}function Xt(c,u){u===0&&(u=yt()),c=rl(c,u),c!==null&&(jt(c,u),pc(c))}function Ai(c){var u=c.memoizedState,x=0;u!==null&&(x=u.retryLane),Xt(c,x)}function hn(c,u){var x=0;switch(c.tag){case 13:var b=c.stateNode,M=c.memoizedState;M!==null&&(x=M.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(u),Xt(c,x)}function Xn(c,u){return At(c,u)}var Qi=null,Pn=null,No=!1,dm=!1,uT=!1,lf=0;function pc(c){c!==Pn&&c.next===null&&(Pn===null?Qi=Pn=c:Pn=Pn.next=c),dm=!0,No||(No=!0,RG())}function ay(c,u){if(!uT&&dm){uT=!0;do for(var x=!1,b=Qi;b!==null;){if(c!==0){var M=b.pendingLanes;if(M===0)var R=0;else{var $=b.suspendedLanes,Z=b.pingedLanes;R=(1<<31-_t(42|c)+1)-1,R&=M&~($&~Z),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(x=!0,IR(b,R))}else R=tn,R=zt(b,b===xn?R:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(R&3)===0||ct(b,R)||(x=!0,IR(b,R));b=b.next}while(x);uT=!1}}function AG(){PR()}function PR(){dm=No=!1;var c=0;lf!==0&&(IG()&&(c=lf),lf=0);for(var u=We(),x=null,b=Qi;b!==null;){var M=b.next,R=OR(b,u);R===0?(b.next=null,x===null?Qi=M:x.next=M,M===null&&(Pn=x)):(x=b,(c!==0||(R&3)!==0)&&(dm=!0)),b=M}ay(c)}function OR(c,u){for(var x=c.suspendedLanes,b=c.pingedLanes,M=c.expirationTimes,R=c.pendingLanes&-62914561;0<R;){var $=31-_t(R),Z=1<<$,ce=M[$];ce===-1?((Z&x)===0||(Z&b)!==0)&&(M[$]=rn(Z,u)):ce<=u&&(c.expiredLanes|=Z),R&=~Z}if(u=xn,x=tn,x=zt(c,c===u?x:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b=c.callbackNode,x===0||c===u&&(Sn===2||Sn===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&ne(b),c.callbackNode=null,c.callbackPriority=0;if((x&3)===0||ct(c,x)){if(u=x&-x,u===c.callbackPriority)return u;switch(b!==null&&ne(b),Un(x)){case 2:case 8:x=tt;break;case 32:x=xt;break;case 268435456:x=se;break;default:x=xt}return b=BR.bind(null,c),x=At(x,b),c.callbackPriority=u,c.callbackNode=x,u}return b!==null&&b!==null&&ne(b),c.callbackPriority=2,c.callbackNode=null,2}function BR(c,u){if(ur!==0&&ur!==5)return c.callbackNode=null,c.callbackPriority=0,null;var x=c.callbackNode;if(dc()&&c.callbackNode!==x)return null;var b=tn;return b=zt(c,c===xn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b===0?null:(Cu(c,b,u),OR(c,We()),c.callbackNode!=null&&c.callbackNode===x?BR.bind(null,c):null)}function IR(c,u){if(dc())return null;Cu(c,u,!0)}function RG(){UG(function(){(ri&6)!==0?At(vt,AG):PR()})}function dT(){return lf===0&&(lf=me()),lf}function FR(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:vd(""+c)}function UR(c,u){var x=u.ownerDocument.createElement("input");return x.name=u.name,x.value=u.value,c.id&&x.setAttribute("form",c.id),u.parentNode.insertBefore(x,u),c=new FormData(c),x.parentNode.removeChild(x),c}function LG(c,u,x,b,M){if(u==="submit"&&x&&x.stateNode===M){var R=FR((M[qi]||null).action),$=b.submitter;$&&(u=(u=$[qi]||null)?FR(u.formAction):$.getAttribute("formAction"),u!==null&&(R=u,$=null));var Z=new qh("action","action",null,b,M);c.push({event:Z,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(lf!==0){var ce=$?UR(M,$):new FormData(M);Jx(x,{pending:!0,data:ce,method:M.method,action:R},null,ce)}}else typeof R=="function"&&(Z.preventDefault(),ce=$?UR(M,$):new FormData(M),Jx(x,{pending:!0,data:ce,method:M.method,action:R},R,ce))},currentTarget:M}]})}}for(var fT=0;fT<Nd.length;fT++){var pT=Nd[fT],DG=pT.toLowerCase(),kG=pT[0].toUpperCase()+pT.slice(1);yr(DG,"on"+kG)}yr(is,"onAnimationEnd"),yr(wx,"onAnimationIteration"),yr(Cs,"onAnimationStart"),yr("dblclick","onDoubleClick"),yr("focusin","onFocus"),yr("focusout","onBlur"),yr(t_,"onTransitionRun"),yr(nl,"onTransitionStart"),yr(eu,"onTransitionCancel"),yr(il,"onTransitionEnd"),X("onMouseEnter",["mouseout","mouseover"]),X("onMouseLeave",["mouseout","mouseover"]),X("onPointerEnter",["pointerout","pointerover"]),X("onPointerLeave",["pointerout","pointerover"]),at("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),at("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),at("onBeforeInput",["compositionend","keypress","textInput","paste"]),at("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),at("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oy));function zR(c,u){u=(u&4)!==0;for(var x=0;x<c.length;x++){var b=c[x],M=b.event;b=b.listeners;e:{var R=void 0;if(u)for(var $=b.length-1;0<=$;$--){var Z=b[$],ce=Z.instance,Le=Z.currentTarget;if(Z=Z.listener,ce!==R&&M.isPropagationStopped())break e;R=Z,M.currentTarget=Le;try{R(M)}catch($e){Xc($e)}M.currentTarget=null,R=ce}else for($=0;$<b.length;$++){if(Z=b[$],ce=Z.instance,Le=Z.currentTarget,Z=Z.listener,ce!==R&&M.isPropagationStopped())break e;R=Z,M.currentTarget=Le;try{R(M)}catch($e){Xc($e)}M.currentTarget=null,R=ce}}}}function zn(c,u){var x=u[Wi];x===void 0&&(x=u[Wi]=new Set);var b=c+"__bubble";x.has(b)||(HR(u,c,2,!1),x.add(b))}function mT(c,u,x){var b=0;u&&(b|=4),HR(x,c,b,u)}var W_="_reactListening"+Math.random().toString(36).slice(2);function gT(c){if(!c[W_]){c[W_]=!0,Pt.forEach(function(x){x!=="selectionchange"&&(NG.has(x)||mT(x,!1,c),mT(x,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[W_]||(u[W_]=!0,mT("selectionchange",!1,u))}}function HR(c,u,x,b){switch(dL(u)){case 2:var M=o$;break;case 8:M=l$;break;default:M=RT}x=M.bind(null,u,x,c),M=void 0,!bd||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(M=!0),b?M!==void 0?c.addEventListener(u,x,{capture:!0,passive:M}):c.addEventListener(u,x,!0):M!==void 0?c.addEventListener(u,x,{passive:M}):c.addEventListener(u,x,!1)}function xT(c,u,x,b,M){var R=b;if((u&1)===0&&(u&2)===0&&b!==null)e:for(;;){if(b===null)return;var $=b.tag;if($===3||$===4){var Z=b.stateNode.containerInfo;if(Z===M)break;if($===4)for($=b.return;$!==null;){var ce=$.tag;if((ce===3||ce===4)&&$.stateNode.containerInfo===M)return;$=$.return}for(;Z!==null;){if($=bs(Z),$===null)return;if(ce=$.tag,ce===5||ce===6||ce===26||ce===27){b=R=$;continue e}Z=Z.parentNode}}b=b.return}ox(function(){var Le=R,$e=yp(x),et=[];e:{var Ne=Rp.get(c);if(Ne!==void 0){var Pe=qh,pn=c;switch(c){case"keypress":if(Ol(x)===0)break e;case"keydown":case"keyup":Pe=dx;break;case"focusin":pn="focus",Pe=_p;break;case"focusout":pn="blur",Pe=_p;break;case"beforeblur":case"afterblur":Pe=_p;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=Jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=px;break;case is:case wx:case Cs:Pe=Uv;break;case il:Pe=Qo;break;case"scroll":case"scrollend":Pe=Bv;break;case"wheel":Pe=eT;break;case"copy":case"cut":case"paste":Pe=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=jp;break;case"toggle":case"beforetoggle":Pe=Il}var on=(u&4)!==0,Ci=!on&&(c==="scroll"||c==="scrollend"),we=on?Ne!==null?Ne+"Capture":null:Ne;on=[];for(var ye=Le,Re;ye!==null;){var Ye=ye;if(Re=Ye.stateNode,Ye=Ye.tag,Ye!==5&&Ye!==26&&Ye!==27||Re===null||we===null||(Ye=Vh(ye,we),Ye!=null&&on.push(ly(ye,Ye,Re))),Ci)break;ye=ye.return}0<on.length&&(Ne=new Pe(Ne,pn,null,x,$e),et.push({event:Ne,listeners:on}))}}if((u&7)===0){e:{if(Ne=c==="mouseover"||c==="pointerover",Pe=c==="mouseout"||c==="pointerout",Ne&&x!==xp&&(pn=x.relatedTarget||x.fromElement)&&(bs(pn)||pn[pi]))break e;if((Pe||Ne)&&(Ne=$e.window===$e?$e:(Ne=$e.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Pe?(pn=x.relatedTarget||x.toElement,Pe=Le,pn=pn?bs(pn):null,pn!==null&&(Ci=a(pn),on=pn.tag,pn!==Ci||on!==5&&on!==27&&on!==6)&&(pn=null)):(Pe=null,pn=Le),Pe!==pn)){if(on=hx,Ye="onMouseLeave",we="onMouseEnter",ye="mouse",(c==="pointerout"||c==="pointerover")&&(on=jp,Ye="onPointerLeave",we="onPointerEnter",ye="pointer"),Ci=Pe==null?Ne:qa(Pe),Re=pn==null?Ne:qa(pn),Ne=new on(Ye,ye+"leave",Pe,x,$e),Ne.target=Ci,Ne.relatedTarget=Re,Ye=null,bs($e)===Le&&(on=new on(we,ye+"enter",pn,x,$e),on.target=Re,on.relatedTarget=Ci,Ye=on),Ci=Ye,Pe&&pn)t:{for(on=Pe,we=pn,ye=0,Re=on;Re;Re=fm(Re))ye++;for(Re=0,Ye=we;Ye;Ye=fm(Ye))Re++;for(;0<ye-Re;)on=fm(on),ye--;for(;0<Re-ye;)we=fm(we),Re--;for(;ye--;){if(on===we||we!==null&&on===we.alternate)break t;on=fm(on),we=fm(we)}on=null}else on=null;Pe!==null&&VR(et,Ne,Pe,on,!1),pn!==null&&Ci!==null&&VR(et,Ci,pn,on,!0)}}e:{if(Ne=Le?qa(Le):window,Pe=Ne.nodeName&&Ne.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ne.type==="file")var Ot=wp;else if(yx(Ne))if(Tp)Ot=zl;else{Ot=Qv;var Fn=tT}else Pe=Ne.nodeName,!Pe||Pe.toLowerCase()!=="input"||Ne.type!=="checkbox"&&Ne.type!=="radio"?Le&&gp(Le.elementType)&&(Ot=wp):Ot=Ld;if(Ot&&(Ot=Ot(c,Le))){Ss(et,Ot,x,$e);break e}Fn&&Fn(c,Ne,Le),c==="focusout"&&Le&&Ne.type==="number"&&Le.memoizedProps.value!=null&&Er(Ne,"number",Ne.value)}switch(Fn=Le?qa(Le):window,c){case"focusin":(yx(Fn)||Fn.contentEditable==="true")&&(el=Fn,Mp=Le,kd=null);break;case"focusout":kd=Mp=el=null;break;case"mousedown":Ep=!0;break;case"contextmenu":case"mouseup":case"dragend":Ep=!1,Sx(et,x,$e);break;case"selectionchange":if(jx)break;case"keydown":case"keyup":Sx(et,x,$e)}var Zt;if(Td)e:{switch(c){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else Ul?Ed(c,x)&&(ln="onCompositionEnd"):c==="keydown"&&x.keyCode===229&&(ln="onCompositionStart");ln&&(Md&&x.locale!=="ko"&&(Ul||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&Ul&&(Zt=cx()):(Ko=$e,lx="value"in Ko?Ko.value:Ko.textContent,Ul=!0)),Fn=X_(Le,ln),0<Fn.length&&(ln=new bp(ln,c,null,x,$e),et.push({event:ln,listeners:Fn}),Zt?ln.data=Zt:(Zt=gx(x),Zt!==null&&(ln.data=Zt)))),(Zt=Cd?Ad(c,x):xx(c,x))&&(ln=X_(Le,"onBeforeInput"),0<ln.length&&(Fn=new bp("onBeforeInput","beforeinput",null,x,$e),et.push({event:Fn,listeners:ln}),Fn.data=Zt)),LG(et,c,Le,x,$e)}zR(et,u)})}function ly(c,u,x){return{instance:c,listener:u,currentTarget:x}}function X_(c,u){for(var x=u+"Capture",b=[];c!==null;){var M=c,R=M.stateNode;if(M=M.tag,M!==5&&M!==26&&M!==27||R===null||(M=Vh(c,x),M!=null&&b.unshift(ly(c,M,R)),M=Vh(c,u),M!=null&&b.push(ly(c,M,R))),c.tag===3)return b;c=c.return}return[]}function fm(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function VR(c,u,x,b,M){for(var R=u._reactName,$=[];x!==null&&x!==b;){var Z=x,ce=Z.alternate,Le=Z.stateNode;if(Z=Z.tag,ce!==null&&ce===b)break;Z!==5&&Z!==26&&Z!==27||Le===null||(ce=Le,M?(Le=Vh(x,R),Le!=null&&$.unshift(ly(x,Le,ce))):M||(Le=Vh(x,R),Le!=null&&$.push(ly(x,Le,ce)))),x=x.return}$.length!==0&&c.push({event:u,listeners:$})}var PG=/\r\n?/g,OG=/\u0000|\uFFFD/g;function GR(c){return(typeof c=="string"?c:""+c).replace(PG,`
`).replace(OG,"")}function $R(c,u){return u=GR(u),GR(c)===u}function Y_(){}function Ti(c,u,x,b,M,R){switch(x){case"children":typeof b=="string"?u==="body"||u==="textarea"&&b===""||ts(c,b):(typeof b=="number"||typeof b=="bigint")&&u!=="body"&&ts(c,""+b);break;case"className":pt(c,"class",b);break;case"tabIndex":pt(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":pt(c,x,b);break;case"style":yd(c,b,R);break;case"data":if(u!=="object"){pt(c,"data",b);break}case"src":case"href":if(b===""&&(u!=="a"||x!=="href")){c.removeAttribute(x);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(x);break}b=vd(""+b),c.setAttribute(x,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(x==="formAction"?(u!=="input"&&Ti(c,u,"name",M.name,M,null),Ti(c,u,"formEncType",M.formEncType,M,null),Ti(c,u,"formMethod",M.formMethod,M,null),Ti(c,u,"formTarget",M.formTarget,M,null)):(Ti(c,u,"encType",M.encType,M,null),Ti(c,u,"method",M.method,M,null),Ti(c,u,"target",M.target,M,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(x);break}b=vd(""+b),c.setAttribute(x,b);break;case"onClick":b!=null&&(c.onclick=Y_);break;case"onScroll":b!=null&&zn("scroll",c);break;case"onScrollEnd":b!=null&&zn("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(x=b.__html,x!=null){if(M.children!=null)throw Error(r(60));c.innerHTML=x}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}x=vd(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,""+b):c.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,""):c.removeAttribute(x);break;case"capture":case"download":b===!0?c.setAttribute(x,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(x,b):c.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(x,b):c.removeAttribute(x);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(x):c.setAttribute(x,b);break;case"popover":zn("beforetoggle",c),zn("toggle",c),Qe(c,"popover",b);break;case"xlinkActuate":bt(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":bt(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":bt(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":bt(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":bt(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":bt(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":bt(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":bt(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":bt(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Qe(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=sx.get(x)||x,Qe(c,x,b))}}function yT(c,u,x,b,M,R){switch(x){case"style":yd(c,b,R);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(x=b.__html,x!=null){if(M.children!=null)throw Error(r(60));c.innerHTML=x}}break;case"children":typeof b=="string"?ts(c,b):(typeof b=="number"||typeof b=="bigint")&&ts(c,""+b);break;case"onScroll":b!=null&&zn("scroll",c);break;case"onScrollEnd":b!=null&&zn("scrollend",c);break;case"onClick":b!=null&&(c.onclick=Y_);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xe.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(M=x.endsWith("Capture"),u=x.slice(2,M?x.length-7:void 0),R=c[qi]||null,R=R!=null?R[x]:null,typeof R=="function"&&c.removeEventListener(u,R,M),typeof b=="function")){typeof R!="function"&&R!==null&&(x in c?c[x]=null:c.hasAttribute(x)&&c.removeAttribute(x)),c.addEventListener(u,b,M);break e}x in c?c[x]=b:b===!0?c.setAttribute(x,""):Qe(c,x,b)}}}function hs(c,u,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zn("error",c),zn("load",c);var b=!1,M=!1,R;for(R in x)if(x.hasOwnProperty(R)){var $=x[R];if($!=null)switch(R){case"src":b=!0;break;case"srcSet":M=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ti(c,u,R,$,x,null)}}M&&Ti(c,u,"srcSet",x.srcSet,x,null),b&&Ti(c,u,"src",x.src,x,null);return;case"input":zn("invalid",c);var Z=R=$=M=null,ce=null,Le=null;for(b in x)if(x.hasOwnProperty(b)){var $e=x[b];if($e!=null)switch(b){case"name":M=$e;break;case"type":$=$e;break;case"checked":ce=$e;break;case"defaultChecked":Le=$e;break;case"value":R=$e;break;case"defaultValue":Z=$e;break;case"children":case"dangerouslySetInnerHTML":if($e!=null)throw Error(r(137,u));break;default:Ti(c,u,b,$e,x,null)}}hi(c,R,Z,ce,Le,$,M,!1),oi(c);return;case"select":zn("invalid",c),b=$=R=null;for(M in x)if(x.hasOwnProperty(M)&&(Z=x[M],Z!=null))switch(M){case"value":R=Z;break;case"defaultValue":$=Z;break;case"multiple":b=Z;default:Ti(c,u,M,Z,x,null)}u=R,x=$,c.multiple=!!b,u!=null?er(c,!!b,u,!1):x!=null&&er(c,!!b,x,!0);return;case"textarea":zn("invalid",c),R=M=b=null;for($ in x)if(x.hasOwnProperty($)&&(Z=x[$],Z!=null))switch($){case"value":b=Z;break;case"defaultValue":M=Z;break;case"children":R=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:Ti(c,u,$,Z,x,null)}xr(c,b,M,R),oi(c);return;case"option":for(ce in x)if(x.hasOwnProperty(ce)&&(b=x[ce],b!=null))switch(ce){case"selected":c.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Ti(c,u,ce,b,x,null)}return;case"dialog":zn("beforetoggle",c),zn("toggle",c),zn("cancel",c),zn("close",c);break;case"iframe":case"object":zn("load",c);break;case"video":case"audio":for(b=0;b<oy.length;b++)zn(oy[b],c);break;case"image":zn("error",c),zn("load",c);break;case"details":zn("toggle",c);break;case"embed":case"source":case"link":zn("error",c),zn("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in x)if(x.hasOwnProperty(Le)&&(b=x[Le],b!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Ti(c,u,Le,b,x,null)}return;default:if(gp(u)){for($e in x)x.hasOwnProperty($e)&&(b=x[$e],b!==void 0&&yT(c,u,$e,b,x,void 0));return}}for(Z in x)x.hasOwnProperty(Z)&&(b=x[Z],b!=null&&Ti(c,u,Z,b,x,null))}function BG(c,u,x,b){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var M=null,R=null,$=null,Z=null,ce=null,Le=null,$e=null;for(Pe in x){var et=x[Pe];if(x.hasOwnProperty(Pe)&&et!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":ce=et;default:b.hasOwnProperty(Pe)||Ti(c,u,Pe,null,b,et)}}for(var Ne in b){var Pe=b[Ne];if(et=x[Ne],b.hasOwnProperty(Ne)&&(Pe!=null||et!=null))switch(Ne){case"type":R=Pe;break;case"name":M=Pe;break;case"checked":Le=Pe;break;case"defaultChecked":$e=Pe;break;case"value":$=Pe;break;case"defaultValue":Z=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(r(137,u));break;default:Pe!==et&&Ti(c,u,Ne,Pe,b,et)}}go(c,$,Z,ce,Le,$e,R,M);return;case"select":Pe=$=Z=Ne=null;for(R in x)if(ce=x[R],x.hasOwnProperty(R)&&ce!=null)switch(R){case"value":break;case"multiple":Pe=ce;default:b.hasOwnProperty(R)||Ti(c,u,R,null,b,ce)}for(M in b)if(R=b[M],ce=x[M],b.hasOwnProperty(M)&&(R!=null||ce!=null))switch(M){case"value":Ne=R;break;case"defaultValue":Z=R;break;case"multiple":$=R;default:R!==ce&&Ti(c,u,M,R,b,ce)}u=Z,x=$,b=Pe,Ne!=null?er(c,!!x,Ne,!1):!!b!=!!x&&(u!=null?er(c,!!x,u,!0):er(c,!!x,x?[]:"",!1));return;case"textarea":Pe=Ne=null;for(Z in x)if(M=x[Z],x.hasOwnProperty(Z)&&M!=null&&!b.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:Ti(c,u,Z,null,b,M)}for($ in b)if(M=b[$],R=x[$],b.hasOwnProperty($)&&(M!=null||R!=null))switch($){case"value":Ne=M;break;case"defaultValue":Pe=M;break;case"children":break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:M!==R&&Ti(c,u,$,M,b,R)}gr(c,Ne,Pe);return;case"option":for(var pn in x)if(Ne=x[pn],x.hasOwnProperty(pn)&&Ne!=null&&!b.hasOwnProperty(pn))switch(pn){case"selected":c.selected=!1;break;default:Ti(c,u,pn,null,b,Ne)}for(ce in b)if(Ne=b[ce],Pe=x[ce],b.hasOwnProperty(ce)&&Ne!==Pe&&(Ne!=null||Pe!=null))switch(ce){case"selected":c.selected=Ne&&typeof Ne!="function"&&typeof Ne!="symbol";break;default:Ti(c,u,ce,Ne,b,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var on in x)Ne=x[on],x.hasOwnProperty(on)&&Ne!=null&&!b.hasOwnProperty(on)&&Ti(c,u,on,null,b,Ne);for(Le in b)if(Ne=b[Le],Pe=x[Le],b.hasOwnProperty(Le)&&Ne!==Pe&&(Ne!=null||Pe!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,u));break;default:Ti(c,u,Le,Ne,b,Pe)}return;default:if(gp(u)){for(var Ci in x)Ne=x[Ci],x.hasOwnProperty(Ci)&&Ne!==void 0&&!b.hasOwnProperty(Ci)&&yT(c,u,Ci,void 0,b,Ne);for($e in b)Ne=b[$e],Pe=x[$e],!b.hasOwnProperty($e)||Ne===Pe||Ne===void 0&&Pe===void 0||yT(c,u,$e,Ne,b,Pe);return}}for(var we in x)Ne=x[we],x.hasOwnProperty(we)&&Ne!=null&&!b.hasOwnProperty(we)&&Ti(c,u,we,null,b,Ne);for(et in b)Ne=b[et],Pe=x[et],!b.hasOwnProperty(et)||Ne===Pe||Ne==null&&Pe==null||Ti(c,u,et,Ne,b,Pe)}var vT=null,_T=null;function K_(c){return c.nodeType===9?c:c.ownerDocument}function qR(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function WR(c,u){if(c===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&u==="foreignObject"?0:c}function bT(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var jT=null;function IG(){var c=window.event;return c&&c.type==="popstate"?c===jT?!1:(jT=c,!0):(jT=null,!1)}var XR=typeof setTimeout=="function"?setTimeout:void 0,FG=typeof clearTimeout=="function"?clearTimeout:void 0,YR=typeof Promise=="function"?Promise:void 0,UG=typeof queueMicrotask=="function"?queueMicrotask:typeof YR<"u"?function(c){return YR.resolve(null).then(c).catch(zG)}:XR;function zG(c){setTimeout(function(){throw c})}function Eu(c){return c==="head"}function KR(c,u){var x=u,b=0,M=0;do{var R=x.nextSibling;if(c.removeChild(x),R&&R.nodeType===8)if(x=R.data,x==="/$"){if(0<b&&8>b){x=b;var $=c.ownerDocument;if(x&1&&cy($.documentElement),x&2&&cy($.body),x&4)for(x=$.head,cy(x),$=x.firstChild;$;){var Z=$.nextSibling,ce=$.nodeName;$[_s]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&$.rel.toLowerCase()==="stylesheet"||x.removeChild($),$=Z}}if(M===0){c.removeChild(R),xy(u);return}M--}else x==="$"||x==="$?"||x==="$!"?M++:b=x.charCodeAt(0)-48;else b=0;x=R}while(x);xy(u)}function ST(c){var u=c.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var x=u;switch(u=u.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":ST(x),kn(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}c.removeChild(x)}}function HG(c,u,x,b){for(;c.nodeType===1;){var M=x;if(c.nodeName.toLowerCase()!==u.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[_s])switch(u){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(R=c.getAttribute("rel"),R==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(R!==M.rel||c.getAttribute("href")!==(M.href==null||M.href===""?null:M.href)||c.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin)||c.getAttribute("title")!==(M.title==null?null:M.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(R=c.getAttribute("src"),(R!==(M.src==null?null:M.src)||c.getAttribute("type")!==(M.type==null?null:M.type)||c.getAttribute("crossorigin")!==(M.crossOrigin==null?null:M.crossOrigin))&&R&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(u==="input"&&c.type==="hidden"){var R=M.name==null?null:""+M.name;if(M.type==="hidden"&&c.getAttribute("name")===R)return c}else return c;if(c=vl(c.nextSibling),c===null)break}return null}function VG(c,u,x){if(u==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!x||(c=vl(c.nextSibling),c===null))return null;return c}function wT(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState==="complete"}function GG(c,u){var x=c.ownerDocument;if(c.data!=="$?"||x.readyState==="complete")u();else{var b=function(){u(),x.removeEventListener("DOMContentLoaded",b)};x.addEventListener("DOMContentLoaded",b),c._reactRetry=b}}function vl(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return c}var TT=null;function ZR(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var x=c.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return c;u--}else x==="/$"&&u++}c=c.previousSibling}return null}function QR(c,u,x){switch(u=K_(x),c){case"html":if(c=u.documentElement,!c)throw Error(r(452));return c;case"head":if(c=u.head,!c)throw Error(r(453));return c;case"body":if(c=u.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function cy(c){for(var u=c.attributes;u.length;)c.removeAttributeNode(u[0]);kn(c)}var Po=new Map,JR=new Set;function Z_(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var ch=q.d;q.d={f:$G,r:qG,D:WG,C:XG,L:YG,m:KG,X:QG,S:ZG,M:JG};function $G(){var c=ch.f(),u=ko();return c||u}function qG(c){var u=js(c);u!==null&&u.tag===5&&u.type==="form"?R_(u):ch.r(c)}var pm=typeof document>"u"?null:document;function eL(c,u,x){var b=pm;if(b&&typeof u=="string"&&u){var M=mi(u);M='link[rel="'+c+'"][href="'+M+'"]',typeof x=="string"&&(M+='[crossorigin="'+x+'"]'),JR.has(M)||(JR.add(M),c={rel:c,crossOrigin:x,href:u},b.querySelector(M)===null&&(u=b.createElement("link"),hs(u,"link",c),Ii(u),b.head.appendChild(u)))}}function WG(c){ch.D(c),eL("dns-prefetch",c,null)}function XG(c,u){ch.C(c,u),eL("preconnect",c,u)}function YG(c,u,x){ch.L(c,u,x);var b=pm;if(b&&c&&u){var M='link[rel="preload"][as="'+mi(u)+'"]';u==="image"&&x&&x.imageSrcSet?(M+='[imagesrcset="'+mi(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(M+='[imagesizes="'+mi(x.imageSizes)+'"]')):M+='[href="'+mi(c)+'"]';var R=M;switch(u){case"style":R=mm(c);break;case"script":R=gm(c)}Po.has(R)||(c=p({rel:"preload",href:u==="image"&&x&&x.imageSrcSet?void 0:c,as:u},x),Po.set(R,c),b.querySelector(M)!==null||u==="style"&&b.querySelector(hy(R))||u==="script"&&b.querySelector(uy(R))||(u=b.createElement("link"),hs(u,"link",c),Ii(u),b.head.appendChild(u)))}}function KG(c,u){ch.m(c,u);var x=pm;if(x&&c){var b=u&&typeof u.as=="string"?u.as:"script",M='link[rel="modulepreload"][as="'+mi(b)+'"][href="'+mi(c)+'"]',R=M;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=gm(c)}if(!Po.has(R)&&(c=p({rel:"modulepreload",href:c},u),Po.set(R,c),x.querySelector(M)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(uy(R)))return}b=x.createElement("link"),hs(b,"link",c),Ii(b),x.head.appendChild(b)}}}function ZG(c,u,x){ch.S(c,u,x);var b=pm;if(b&&c){var M=va(b).hoistableStyles,R=mm(c);u=u||"default";var $=M.get(R);if(!$){var Z={loading:0,preload:null};if($=b.querySelector(hy(R)))Z.loading=5;else{c=p({rel:"stylesheet",href:c,"data-precedence":u},x),(x=Po.get(R))&&CT(c,x);var ce=$=b.createElement("link");Ii(ce),hs(ce,"link",c),ce._p=new Promise(function(Le,$e){ce.onload=Le,ce.onerror=$e}),ce.addEventListener("load",function(){Z.loading|=1}),ce.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Q_($,u,b)}$={type:"stylesheet",instance:$,count:1,state:Z},M.set(R,$)}}}function QG(c,u){ch.X(c,u);var x=pm;if(x&&c){var b=va(x).hoistableScripts,M=gm(c),R=b.get(M);R||(R=x.querySelector(uy(M)),R||(c=p({src:c,async:!0},u),(u=Po.get(M))&&MT(c,u),R=x.createElement("script"),Ii(R),hs(R,"link",c),x.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},b.set(M,R))}}function JG(c,u){ch.M(c,u);var x=pm;if(x&&c){var b=va(x).hoistableScripts,M=gm(c),R=b.get(M);R||(R=x.querySelector(uy(M)),R||(c=p({src:c,async:!0,type:"module"},u),(u=Po.get(M))&&MT(c,u),R=x.createElement("script"),Ii(R),hs(R,"link",c),x.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},b.set(M,R))}}function tL(c,u,x,b){var M=(M=De.current)?Z_(M):null;if(!M)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(u=mm(x.href),x=va(M).hoistableStyles,b=x.get(u),b||(b={type:"style",instance:null,count:0,state:null},x.set(u,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){c=mm(x.href);var R=va(M).hoistableStyles,$=R.get(c);if($||(M=M.ownerDocument||M,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(c,$),(R=M.querySelector(hy(c)))&&!R._p&&($.instance=R,$.state.loading=5),Po.has(c)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Po.set(c,x),R||e$(M,c,x,$.state))),u&&b===null)throw Error(r(528,""));return $}if(u&&b!==null)throw Error(r(529,""));return null;case"script":return u=x.async,x=x.src,typeof x=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=gm(x),x=va(M).hoistableScripts,b=x.get(u),b||(b={type:"script",instance:null,count:0,state:null},x.set(u,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function mm(c){return'href="'+mi(c)+'"'}function hy(c){return'link[rel="stylesheet"]['+c+"]"}function nL(c){return p({},c,{"data-precedence":c.precedence,precedence:null})}function e$(c,u,x,b){c.querySelector('link[rel="preload"][as="style"]['+u+"]")?b.loading=1:(u=c.createElement("link"),b.preload=u,u.addEventListener("load",function(){return b.loading|=1}),u.addEventListener("error",function(){return b.loading|=2}),hs(u,"link",x),Ii(u),c.head.appendChild(u))}function gm(c){return'[src="'+mi(c)+'"]'}function uy(c){return"script[async]"+c}function iL(c,u,x){if(u.count++,u.instance===null)switch(u.type){case"style":var b=c.querySelector('style[data-href~="'+mi(x.href)+'"]');if(b)return u.instance=b,Ii(b),b;var M=p({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),Ii(b),hs(b,"style",M),Q_(b,x.precedence,c),u.instance=b;case"stylesheet":M=mm(x.href);var R=c.querySelector(hy(M));if(R)return u.state.loading|=4,u.instance=R,Ii(R),R;b=nL(x),(M=Po.get(M))&&CT(b,M),R=(c.ownerDocument||c).createElement("link"),Ii(R);var $=R;return $._p=new Promise(function(Z,ce){$.onload=Z,$.onerror=ce}),hs(R,"link",b),u.state.loading|=4,Q_(R,x.precedence,c),u.instance=R;case"script":return R=gm(x.src),(M=c.querySelector(uy(R)))?(u.instance=M,Ii(M),M):(b=x,(M=Po.get(R))&&(b=p({},x),MT(b,M)),c=c.ownerDocument||c,M=c.createElement("script"),Ii(M),hs(M,"link",b),c.head.appendChild(M),u.instance=M);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(b=u.instance,u.state.loading|=4,Q_(b,x.precedence,c));return u.instance}function Q_(c,u,x){for(var b=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),M=b.length?b[b.length-1]:null,R=M,$=0;$<b.length;$++){var Z=b[$];if(Z.dataset.precedence===u)R=Z;else if(R!==M)break}R?R.parentNode.insertBefore(c,R.nextSibling):(u=x.nodeType===9?x.head:x,u.insertBefore(c,u.firstChild))}function CT(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.title==null&&(c.title=u.title)}function MT(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.integrity==null&&(c.integrity=u.integrity)}var J_=null;function rL(c,u,x){if(J_===null){var b=new Map,M=J_=new Map;M.set(x,b)}else M=J_,b=M.get(x),b||(b=new Map,M.set(x,b));if(b.has(c))return b;for(b.set(c,null),x=x.getElementsByTagName(c),M=0;M<x.length;M++){var R=x[M];if(!(R[_s]||R[Di]||c==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var $=R.getAttribute(u)||"";$=c+$;var Z=b.get($);Z?Z.push(R):b.set($,[R])}}return b}function sL(c,u,x){c=c.ownerDocument||c,c.head.insertBefore(x,u==="title"?c.querySelector("head > title"):null)}function t$(c,u,x){if(x===1||u.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return c=u.disabled,typeof u.precedence=="string"&&c==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function aL(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}var dy=null;function n$(){}function i$(c,u,x){if(dy===null)throw Error(r(475));var b=dy;if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var M=mm(x.href),R=c.querySelector(hy(M));if(R){c=R._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(b.count++,b=eb.bind(b),c.then(b,b)),u.state.loading|=4,u.instance=R,Ii(R);return}R=c.ownerDocument||c,x=nL(x),(M=Po.get(M))&&CT(x,M),R=R.createElement("link"),Ii(R);var $=R;$._p=new Promise(function(Z,ce){$.onload=Z,$.onerror=ce}),hs(R,"link",x),u.instance=R}b.stylesheets===null&&(b.stylesheets=new Map),b.stylesheets.set(u,c),(c=u.state.preload)&&(u.state.loading&3)===0&&(b.count++,u=eb.bind(b),c.addEventListener("load",u),c.addEventListener("error",u))}}function r$(){if(dy===null)throw Error(r(475));var c=dy;return c.stylesheets&&c.count===0&&ET(c,c.stylesheets),0<c.count?function(u){var x=setTimeout(function(){if(c.stylesheets&&ET(c,c.stylesheets),c.unsuspend){var b=c.unsuspend;c.unsuspend=null,b()}},6e4);return c.unsuspend=u,function(){c.unsuspend=null,clearTimeout(x)}}:null}function eb(){if(this.count--,this.count===0){if(this.stylesheets)ET(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var tb=null;function ET(c,u){c.stylesheets=null,c.unsuspend!==null&&(c.count++,tb=new Map,u.forEach(s$,c),tb=null,eb.call(c))}function s$(c,u){if(!(u.state.loading&4)){var x=tb.get(c);if(x)var b=x.get(null);else{x=new Map,tb.set(c,x);for(var M=c.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<M.length;R++){var $=M[R];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(x.set($.dataset.precedence,$),b=$)}b&&x.set(null,b)}M=u.instance,$=M.getAttribute("data-precedence"),R=x.get($)||b,R===b&&x.set(null,M),x.set($,M),this.count++,b=eb.bind(this),M.addEventListener("load",b),M.addEventListener("error",b),R?R.parentNode.insertBefore(M,R.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(M,c.firstChild)),u.state.loading|=4}}var fy={$$typeof:L,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function a$(c,u,x,b,M,R,$,Z){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=st(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=st(0),this.hiddenUpdates=st(null),this.identifierPrefix=b,this.onUncaughtError=M,this.onCaughtError=R,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function oL(c,u,x,b,M,R,$,Z,ce,Le,$e,et){return c=new a$(c,u,x,$,Z,ce,Le,et),u=1,R===!0&&(u|=24),R=Ms(3,null,null,u),c.current=R,R.stateNode=c,u=Bp(),u.refCount++,c.pooledCache=u,u.refCount++,R.memoizedState={element:b,isDehydrated:x,cache:u},Bx(R),c}function lL(c){return c?(c=Gl,c):Gl}function cL(c,u,x,b,M,R){M=lL(M),b.context===null?b.context=M:b.pendingContext=M,b=jo(u),b.payload={element:x},R=R===void 0?null:R,R!==null&&(b.callback=R),x=cl(c,b,u),x!==null&&(cs(x,c,u),$c(x,c,u))}function hL(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var x=c.retryLane;c.retryLane=x!==0&&x<u?x:u}}function AT(c,u){hL(c,u),(c=c.alternate)&&hL(c,u)}function uL(c){if(c.tag===13){var u=rl(c,67108864);u!==null&&cs(u,c,67108864),AT(c,67108864)}}var nb=!0;function o$(c,u,x,b){var M=O.T;O.T=null;var R=q.p;try{q.p=2,RT(c,u,x,b)}finally{q.p=R,O.T=M}}function l$(c,u,x,b){var M=O.T;O.T=null;var R=q.p;try{q.p=8,RT(c,u,x,b)}finally{q.p=R,O.T=M}}function RT(c,u,x,b){if(nb){var M=LT(b);if(M===null)xT(c,u,b,ib,x),fL(c,b);else if(h$(M,c,u,x,b))b.stopPropagation();else if(fL(c,b),u&4&&-1<c$.indexOf(c)){for(;M!==null;){var R=js(M);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var $=kt(R.pendingLanes);if($!==0){var Z=R;for(Z.pendingLanes|=2,Z.entangledLanes|=2;$;){var ce=1<<31-_t($);Z.entanglements[1]|=ce,$&=~ce}pc(R),(ri&6)===0&&(Xr=We()+500,ay(0))}}break;case 13:Z=rl(R,2),Z!==null&&cs(Z,R,2),ko(),AT(R,2)}if(R=LT(b),R===null&&xT(c,u,b,ib,x),R===M)break;M=R}M!==null&&b.stopPropagation()}else xT(c,u,b,null,x)}}function LT(c){return c=yp(c),DT(c)}var ib=null;function DT(c){if(ib=null,c=bs(c),c!==null){var u=a(c);if(u===null)c=null;else{var x=u.tag;if(x===13){if(c=o(u),c!==null)return c;c=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null)}}return ib=c,null}function dL(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(He()){case vt:return 2;case tt:return 8;case xt:case Ct:return 32;case se:return 268435456;default:return 32}default:return 32}}var kT=!1,Au=null,Ru=null,Lu=null,py=new Map,my=new Map,Du=[],c$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fL(c,u){switch(c){case"focusin":case"focusout":Au=null;break;case"dragenter":case"dragleave":Ru=null;break;case"mouseover":case"mouseout":Lu=null;break;case"pointerover":case"pointerout":py.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":my.delete(u.pointerId)}}function gy(c,u,x,b,M,R){return c===null||c.nativeEvent!==R?(c={blockedOn:u,domEventName:x,eventSystemFlags:b,nativeEvent:R,targetContainers:[M]},u!==null&&(u=js(u),u!==null&&uL(u)),c):(c.eventSystemFlags|=b,u=c.targetContainers,M!==null&&u.indexOf(M)===-1&&u.push(M),c)}function h$(c,u,x,b,M){switch(u){case"focusin":return Au=gy(Au,c,u,x,b,M),!0;case"dragenter":return Ru=gy(Ru,c,u,x,b,M),!0;case"mouseover":return Lu=gy(Lu,c,u,x,b,M),!0;case"pointerover":var R=M.pointerId;return py.set(R,gy(py.get(R)||null,c,u,x,b,M)),!0;case"gotpointercapture":return R=M.pointerId,my.set(R,gy(my.get(R)||null,c,u,x,b,M)),!0}return!1}function pL(c){var u=bs(c.target);if(u!==null){var x=a(u);if(x!==null){if(u=x.tag,u===13){if(u=o(x),u!==null){c.blockedOn=u,mr(c.priority,function(){if(x.tag===13){var b=Hi();b=qt(b);var M=rl(x,b);M!==null&&cs(M,x,b),AT(x,b)}});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){c.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}c.blockedOn=null}function rb(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var x=LT(c.nativeEvent);if(x===null){x=c.nativeEvent;var b=new x.constructor(x.type,x);xp=b,x.target.dispatchEvent(b),xp=null}else return u=js(x),u!==null&&uL(u),c.blockedOn=x,!1;u.shift()}return!0}function mL(c,u,x){rb(c)&&x.delete(u)}function u$(){kT=!1,Au!==null&&rb(Au)&&(Au=null),Ru!==null&&rb(Ru)&&(Ru=null),Lu!==null&&rb(Lu)&&(Lu=null),py.forEach(mL),my.forEach(mL)}function sb(c,u){c.blockedOn===u&&(c.blockedOn=null,kT||(kT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,u$)))}var ab=null;function gL(c){ab!==c&&(ab=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ab===c&&(ab=null);for(var u=0;u<c.length;u+=3){var x=c[u],b=c[u+1],M=c[u+2];if(typeof b!="function"){if(DT(b||x)===null)continue;break}var R=js(x);R!==null&&(c.splice(u,3),u-=3,Jx(R,{pending:!0,data:M,method:x.method,action:b},b,M))}}))}function xy(c){function u(ce){return sb(ce,c)}Au!==null&&sb(Au,c),Ru!==null&&sb(Ru,c),Lu!==null&&sb(Lu,c),py.forEach(u),my.forEach(u);for(var x=0;x<Du.length;x++){var b=Du[x];b.blockedOn===c&&(b.blockedOn=null)}for(;0<Du.length&&(x=Du[0],x.blockedOn===null);)pL(x),x.blockedOn===null&&Du.shift();if(x=(c.ownerDocument||c).$$reactFormReplay,x!=null)for(b=0;b<x.length;b+=3){var M=x[b],R=x[b+1],$=M[qi]||null;if(typeof R=="function")$||gL(x);else if($){var Z=null;if(R&&R.hasAttribute("formAction")){if(M=R,$=R[qi]||null)Z=$.formAction;else if(DT(M)!==null)continue}else Z=$.action;typeof Z=="function"?x[b+1]=Z:(x.splice(b,3),b-=3),gL(x)}}}function NT(c){this._internalRoot=c}ob.prototype.render=NT.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(r(409));var x=u.current,b=Hi();cL(x,b,c,u,null,null)},ob.prototype.unmount=NT.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;cL(c.current,2,null,c,null,null),ko(),u[pi]=null}};function ob(c){this._internalRoot=c}ob.prototype.unstable_scheduleHydration=function(c){if(c){var u=Dn();c={blockedOn:null,target:c,priority:u};for(var x=0;x<Du.length&&u!==0&&u<Du[x].priority;x++);Du.splice(x,0,c),x===0&&pL(c)}};var xL=e.version;if(xL!=="19.1.0")throw Error(r(527,xL,"19.1.0"));q.findDOMNode=function(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=h(u),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var d$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lb.isDisabled&&lb.supportsFiber)try{Ie=lb.inject(d$),Ve=lb}catch{}}return vy.createRoot=function(c,u){if(!s(c))throw Error(r(299));var x=!1,b="",M=ef,R=em,$=H_,Z=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(M=u.onUncaughtError),u.onCaughtError!==void 0&&(R=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(Z=u.unstable_transitionCallbacks)),u=oL(c,1,!1,null,null,x,b,M,R,$,Z,null),c[pi]=u.current,gT(c),new NT(u)},vy.hydrateRoot=function(c,u,x){if(!s(c))throw Error(r(299));var b=!1,M="",R=ef,$=em,Z=H_,ce=null,Le=null;return x!=null&&(x.unstable_strictMode===!0&&(b=!0),x.identifierPrefix!==void 0&&(M=x.identifierPrefix),x.onUncaughtError!==void 0&&(R=x.onUncaughtError),x.onCaughtError!==void 0&&($=x.onCaughtError),x.onRecoverableError!==void 0&&(Z=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(ce=x.unstable_transitionCallbacks),x.formState!==void 0&&(Le=x.formState)),u=oL(c,1,!0,u,x??null,b,M,R,$,Z,ce,Le),u.context=lL(null),x=u.current,b=Hi(),b=qt(b),M=jo(b),M.callback=null,cl(x,M,b),x=b,u.current.lanes=x,jt(u,x),pc(u),c[pi]=u.current,gT(c),new ob(u)},vy.version="19.1.0",vy}var ML;function b$(){if(ML)return BT.exports;ML=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),BT.exports=_$(),BT.exports}var j$=b$();const S$=hv(j$);var w$="Invariant failed";function Dh(t,e){if(!t)throw new Error(w$)}const Zm=new WeakMap,_j=new WeakMap,$j={current:[]};let zT=!1,o0=0;const Xy=new Set,cb=new Map;function CI(t){const e=Array.from(t).sort((i,r)=>i instanceof Qm&&i.options.deps.includes(r)?1:r instanceof Qm&&r.options.deps.includes(i)?-1:0);for(const i of e){if($j.current.includes(i))continue;$j.current.push(i),i.recompute();const r=_j.get(i);if(r)for(const s of r){const a=Zm.get(s);a&&CI(a)}}}function T$(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function C$(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function MI(t){if(o0>0&&!cb.has(t)&&cb.set(t,t.prevState),Xy.add(t),!(o0>0)&&!zT)try{for(zT=!0;Xy.size>0;){const e=Array.from(Xy);Xy.clear();for(const i of e){const r=cb.get(i)??i.prevState;i.prevState=r,T$(i)}for(const i of e){const r=Zm.get(i);r&&($j.current.push(i),CI(r))}for(const i of e){const r=Zm.get(i);if(r)for(const s of r)C$(s)}}}finally{zT=!1,$j.current=[],cb.clear()}}function EL(t){o0++;try{t()}finally{if(o0--,o0===0){const e=Array.from(Xy)[0];e&&MI(e)}}}class NC{constructor(e,i){this.listeners=new Set,this.subscribe=r=>{var s,a;this.listeners.add(r);const o=(a=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:a.call(s,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var s,a,o;this.prevState=this.state,this.state=(s=this.options)!=null&&s.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(a=this.options)==null?void 0:a.onUpdate)==null||o.call(a),MI(this)},this.prevState=e,this.state=e,this.options=i}}class Qm{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const i=[],r=[];for(const s of this.options.deps)i.push(s.prevState),r.push(s.state);return this.lastSeenDepValues=r,{prevDepVals:i,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var i,r;this.prevState=this.state;const{prevDepVals:s,currDepVals:a,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:s,currDepVals:a,prevVal:o}),(r=(i=this.options).onUpdate)==null||r.call(i)},this.checkIfRecalculationNeededDeeply=()=>{for(const a of this.options.deps)a instanceof Qm&&a.checkIfRecalculationNeededDeeply();let i=!1;const r=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let a=0;a<s.length;a++)if(s[a]!==r[a]){i=!0;break}i&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const i of this._subscriptions)i()}),this.subscribe=i=>{var r,s;this.listeners.add(i);const a=(s=(r=this.options).onSubscribe)==null?void 0:s.call(r,i,this);return()=>{this.listeners.delete(i),a?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const i of e)if(i instanceof Qm)i.registerOnGraph(),this.registerOnGraph(i.options.deps);else if(i instanceof NC){let r=Zm.get(i);r||(r=new Set,Zm.set(i,r)),r.add(this);let s=_j.get(this);s||(s=new Set,_j.set(this,s)),s.add(i)}}unregisterFromGraph(e=this.options.deps){for(const i of e)if(i instanceof Qm)this.unregisterFromGraph(i.options.deps);else if(i instanceof NC){const r=Zm.get(i);r&&r.delete(this);const s=_j.get(this);s&&s.delete(i)}}}const ed="__TSR_index",AL="popstate",RL="beforeunload";function EI(t){let e=t.getLocation();const i=new Set,r=o=>{e=t.getLocation(),i.forEach(l=>l({location:e,action:o}))},s=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},a=async({task:o,navigateOpts:l,...h})=>{var d,p;if(l?.ignoreBlocker??!1){o();return}const v=((d=t.getBlockers)==null?void 0:d.call(t))??[],_=h.type==="PUSH"||h.type==="REPLACE";if(typeof document<"u"&&v.length&&_)for(const j of v){const T=C0(h.path,h.state);if(await j.blockerFn({currentLocation:e,nextLocation:T,action:h.type})){(p=t.onBlocked)==null||p.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:i,subscribe:o=>(i.add(o),()=>{i.delete(o)}),push:(o,l,h)=>{const d=e.state[ed];l=PC(d+1,l),a({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:h,type:"PUSH",path:o,state:l})},replace:(o,l,h)=>{const d=e.state[ed];l=PC(d,l),a({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:h,type:"REPLACE",path:o,state:l})},go:(o,l)=>{a({task:()=>{t.go(o),s({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{a({task:()=>{t.back(o?.ignoreBlocker??!1),s({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{a({task:()=>{t.forward(o?.ignoreBlocker??!1),s({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[ed]!==0,createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const h=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...h,o]),()=>{var d,p;const g=((d=t.getBlockers)==null?void 0:d.call(t))??[];(p=t.setBlockers)==null||p.call(t,g.filter(v=>v!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function PC(t,e){e||(e={});const i=TE();return{...e,key:i,__TSR_key:i,[ed]:t}}function M$(t){var e,i;const r=typeof document<"u"?window:void 0,s=r.history.pushState,a=r.history.replaceState;let o=[];const l=()=>o,h=N=>o=N,d=N=>N,p=()=>C0(`${r.location.pathname}${r.location.search}${r.location.hash}`,r.history.state);if(!((e=r.history.state)!=null&&e.__TSR_key)&&!((i=r.history.state)!=null&&i.key)){const N=TE();r.history.replaceState({[ed]:0,key:N,__TSR_key:N},"")}let g=p(),v,_=!1,j=!1,T=!1,C=!1;const w=()=>g;let A,L;const k=()=>{A&&(P._ignoreSubscribers=!0,(A.isPush?r.history.pushState:r.history.replaceState)(A.state,"",A.href),P._ignoreSubscribers=!1,A=void 0,L=void 0,v=void 0)},I=(N,G,te)=>{const Q=d(G);L||(v=g),g=C0(G,te),A={href:Q,state:te,isPush:A?.isPush||N==="push"},L||(L=Promise.resolve().then(()=>k()))},z=N=>{g=p(),P.notify({type:N})},U=async()=>{if(j){j=!1;return}const N=p(),G=N.state[ed]-g.state[ed],te=G===1,Q=G===-1,K=!te&&!Q||_;_=!1;const ee=K?"GO":Q?"BACK":"FORWARD",O=K?{type:"GO",index:G}:{type:Q?"BACK":"FORWARD"};if(T)T=!1;else{const q=l();if(typeof document<"u"&&q.length){for(const V of q)if(await V.blockerFn({currentLocation:g,nextLocation:N,action:ee})){j=!0,r.history.go(1),P.notify(O);return}}}g=p(),P.notify(O)},H=N=>{if(C){C=!1;return}let G=!1;const te=l();if(typeof document<"u"&&te.length)for(const Q of te){const K=Q.enableBeforeUnload??!0;if(K===!0){G=!0;break}if(typeof K=="function"&&K()===!0){G=!0;break}}if(G)return N.preventDefault(),N.returnValue=""},P=EI({getLocation:w,getLength:()=>r.history.length,pushState:(N,G)=>I("push",N,G),replaceState:(N,G)=>I("replace",N,G),back:N=>(N&&(T=!0),C=!0,r.history.back()),forward:N=>{N&&(T=!0),C=!0,r.history.forward()},go:N=>{_=!0,r.history.go(N)},createHref:N=>d(N),flush:k,destroy:()=>{r.history.pushState=s,r.history.replaceState=a,r.removeEventListener(RL,H,{capture:!0}),r.removeEventListener(AL,U)},onBlocked:()=>{v&&g!==v&&(g=v)},getBlockers:l,setBlockers:h,notifyOnIndexChange:!1});return r.addEventListener(RL,H,{capture:!0}),r.addEventListener(AL,U),r.history.pushState=function(...N){const G=s.apply(r.history,N);return P._ignoreSubscribers||z("PUSH"),G},r.history.replaceState=function(...N){const G=a.apply(r.history,N);return P._ignoreSubscribers||z("REPLACE"),G},P}function E$(t={initialEntries:["/"]}){const e=t.initialEntries;let i=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((a,o)=>PC(o,void 0));return EI({getLocation:()=>C0(e[i],r[i]),getLength:()=>e.length,pushState:(a,o)=>{i<e.length-1&&(e.splice(i+1),r.splice(i+1)),r.push(o),e.push(a),i=Math.max(e.length-1,0)},replaceState:(a,o)=>{r[i]=o,e[i]=a},back:()=>{i=Math.max(i-1,0)},forward:()=>{i=Math.min(i+1,e.length-1)},go:a=>{i=Math.min(Math.max(i+a,0),e.length-1)},createHref:a=>a})}function C0(t,e){const i=t.indexOf("#"),r=t.indexOf("?"),s=TE();return{href:t,pathname:t.substring(0,i>0?r>0?Math.min(i,r):i:r>0?r:t.length),hash:i>-1?t.substring(i):"",search:r>-1?t.slice(r,i===-1?void 0:i):"",state:e||{[ed]:0,key:s,__TSR_key:s}}}function TE(){return(Math.random()+1).toString(36).substring(7)}function OC(t){return t[t.length-1]}function A$(t){return typeof t=="function"}function Gf(t,e){return A$(t)?t(e):t}function qj(t,e){return e.reduce((i,r)=>(i[r]=t[r],i),{})}function Uo(t,e){if(t===e)return t;const i=e,r=kL(t)&&kL(i);if(r||LL(t)&&LL(i)){const s=r?t:Object.keys(t).concat(Object.getOwnPropertySymbols(t)),a=s.length,o=r?i:Object.keys(i).concat(Object.getOwnPropertySymbols(i)),l=o.length,h=r?[]:{};let d=0;for(let p=0;p<l;p++){const g=r?p:o[p];(!r&&s.includes(g)||r)&&t[g]===void 0&&i[g]===void 0?(h[g]=void 0,d++):(h[g]=Uo(t[g],i[g]),h[g]===t[g]&&t[g]!==void 0&&d++)}return a===l&&d===a?t:h}return i}function LL(t){return BC(t)&&Object.getOwnPropertyNames(t).length===Object.keys(t).length}function BC(t){if(!DL(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const i=e.prototype;return!(!DL(i)||!i.hasOwnProperty("isPrototypeOf"))}function DL(t){return Object.prototype.toString.call(t)==="[object Object]"}function kL(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function NL(t,e){let i=Object.keys(t);return e&&(i=i.filter(r=>t[r]!==void 0)),i}function Jm(t,e,i){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(BC(t)&&BC(e)){const r=i?.ignoreUndefined??!0,s=NL(t,r),a=NL(e,r);return!i?.partial&&s.length!==a.length?!1:a.every(o=>Jm(t[o],e[o],i))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,s)=>!Jm(r,e[s],i)):!1}function Tf(t){let e,i;const r=new Promise((s,a)=>{e=s,i=a});return r.status="pending",r.resolve=s=>{r.status="resolved",r.value=s,e(s),t?.(s)},r.reject=s=>{r.status="rejected",i(s)},r}function Rc(t){return O1(t.filter(e=>e!==void 0).join("/"))}function O1(t){return t.replace(/\/{2,}/g,"/")}function CE(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function gg(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function HT(t){return gg(CE(t))}function Wj(t,e){return t?.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function R$(t,e,i){return Wj(t,i)===Wj(e,i)}function L$({basepath:t,base:e,to:i,trailingSlash:r="never",caseSensitive:s}){var a,o;e=Xj(t,e,s),i=Xj(t,i,s);let l=xg(e);const h=xg(i);l.length>1&&((a=OC(l))==null?void 0:a.value)==="/"&&l.pop(),h.forEach((g,v)=>{g.value==="/"?v?v===h.length-1&&l.push(g):l=[g]:g.value===".."?l.pop():g.value==="."||l.push(g)}),l.length>1&&(((o=OC(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const d=l.map(g=>{if(g.type==="param"){const v=g.value.substring(1);if(g.prefixSegment&&g.suffixSegment)return`${g.prefixSegment}{$${v}}${g.suffixSegment}`;if(g.prefixSegment)return`${g.prefixSegment}{$${v}}`;if(g.suffixSegment)return`{$${v}}${g.suffixSegment}`}if(g.type==="wildcard"){if(g.prefixSegment&&g.suffixSegment)return`${g.prefixSegment}{$}${g.suffixSegment}`;if(g.prefixSegment)return`${g.prefixSegment}{$}`;if(g.suffixSegment)return`{$}${g.suffixSegment}`}return g.value}),p=Rc([t,...d]);return O1(p)}const D$=/^\$.{1,}$/,k$=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,N$=/^\$$/,P$=/^(.*?)\{\$\}(.*)$/;function xg(t){if(!t)return[];t=O1(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const i=t.split("/").filter(Boolean);return e.push(...i.map(r=>{const s=r.match(P$);if(s){const o=s[1],l=s[2];return{type:"wildcard",value:"$",prefixSegment:o||void 0,suffixSegment:l||void 0}}const a=r.match(k$);if(a){const o=a[1],l=a[2],h=a[3];return{type:"param",value:""+l,prefixSegment:o||void 0,suffixSegment:h||void 0}}return D$.test(r)?{type:"param",value:"$"+r.substring(1),prefixSegment:void 0,suffixSegment:void 0}:N$.test(r)?{type:"wildcard",value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(o=>decodeURI(o)).join("%25"):decodeURI(r)}})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function VT({path:t,params:e,leaveWildcards:i,leaveParams:r,decodeCharMap:s}){const a=xg(t);function o(p){const g=e[p],v=typeof g=="string";return["*","_splat"].includes(p)?v?encodeURI(g):g:v?O$(g,s):g}let l=!1;const h={},d=Rc(a.map(p=>{if(p.type==="wildcard"){h._splat=e._splat;const g=p.prefixSegment||"",v=p.suffixSegment||"",_=o("_splat");return i?`${g}${p.value}${_??""}${v}`:`${g}${_}${v}`}if(p.type==="param"){const g=p.value.substring(1);!l&&!(g in e)&&(l=!0),h[g]=e[g];const v=p.prefixSegment||"",_=p.suffixSegment||"";if(r){const j=o(p.value);return`${v}${p.value}${j??""}${_}`}return`${v}${o(g)??"undefined"}${_}`}return p.value}));return{usedParams:h,interpolatedPath:d,isMissingParams:l}}function O$(t,e){let i=encodeURIComponent(t);if(e)for(const[r,s]of e)i=i.replaceAll(r,s);return i}function IC(t,e,i){const r=B$(t,e,i);if(!(i.to&&!r))return r??{}}function Xj(t,e,i=!1){const r=i?t:t.toLowerCase(),s=i?e:e.toLowerCase();switch(!0){case r==="/":return e;case s===r:return"";case e.length<t.length:return e;case s[r.length]!=="/":return e;case s.startsWith(r):return e.slice(t.length);default:return e}}function B$(t,e,i){if(t!=="/"&&!e.startsWith(t))return;e=Xj(t,e,i.caseSensitive);const r=Xj(t,`${i.to??"$"}`,i.caseSensitive),s=xg(e),a=xg(r);e.startsWith("/")||s.unshift({type:"pathname",value:"/"}),r.startsWith("/")||a.unshift({type:"pathname",value:"/"});const o={};return(()=>{var h;for(let d=0;d<Math.max(s.length,a.length);d++){const p=s[d],g=a[d],v=d>=s.length-1,_=d>=a.length-1;if(g){if(g.type==="wildcard"){const j=s.slice(d);let T;if(g.prefixSegment||g.suffixSegment){if(!p)return!1;const C=g.prefixSegment||"",w=g.suffixSegment||"",A=p.value;if("prefixSegment"in g&&!A.startsWith(C)||"suffixSegment"in g&&!((h=s[s.length-1])!=null&&h.value.endsWith(w)))return!1;let L=decodeURI(Rc(j.map(k=>k.value)));C&&L.startsWith(C)&&(L=L.slice(C.length)),w&&L.endsWith(w)&&(L=L.slice(0,L.length-w.length)),T=L}else T=decodeURI(Rc(j.map(C=>C.value)));return o["*"]=T,o._splat=T,!0}if(g.type==="pathname"){if(g.value==="/"&&!p?.value)return!0;if(p){if(i.caseSensitive){if(g.value!==p.value)return!1}else if(g.value.toLowerCase()!==p.value.toLowerCase())return!1}}if(!p)return!1;if(g.type==="param"){if(p.value==="/")return!1;let j;if(g.prefixSegment||g.suffixSegment){const T=g.prefixSegment||"",C=g.suffixSegment||"",w=p.value;if(T&&!w.startsWith(T)||C&&!w.endsWith(C))return!1;let A=w;T&&A.startsWith(T)&&(A=A.slice(T.length)),C&&A.endsWith(C)&&(A=A.slice(0,A.length-C.length)),j=decodeURIComponent(A)}else j=decodeURIComponent(p.value);o[g.value.substring(1)]=j}}if(!v&&_)return o["**"]=Rc(s.slice(d+1).map(j=>j.value)),!!i.fuzzy&&g?.value!=="/"}return!0})()?o:void 0}function zo(t){return!!t?.isNotFound}function I$(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const Yj="tsr-scroll-restoration-v1_3",F$=(t,e)=>{let i;return(...r)=>{i||(i=setTimeout(()=>{t(...r),i=null},e))}};function U$(){const t=I$();if(!t)return;const e=t.getItem(Yj);let i=e?JSON.parse(e):{};return{state:i,set:r=>(i=Gf(r,i)||i,t.setItem(Yj,JSON.stringify(i)))}}const GT=U$(),FC=t=>t.state.__TSR_key||t.href;function z$(t){const e=[];let i;for(;i=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(i.children,t)+1})`),t=i;return`${e.join(" > ")}`.toLowerCase()}let Kj=!1;function AI(t,e,i,r,s){var a;let o;try{o=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(d){console.error(d);return}const l=e||((a=window.history.state)==null?void 0:a.key),h=o[l];Kj=!0,(()=>{if(r&&h){for(const p in h){const g=h[p];if(p==="window")window.scrollTo({top:g.scrollY,left:g.scrollX,behavior:i});else if(p){const v=document.querySelector(p);v&&(v.scrollLeft=g.scrollX,v.scrollTop=g.scrollY)}}return}const d=window.location.hash.split("#")[1];if(d){const p=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(p){const g=document.getElementById(d);g&&g.scrollIntoView(p)}return}["window",...s?.filter(p=>p!=="window")??[]].forEach(p=>{const g=p==="window"?window:typeof p=="function"?p():document.querySelector(p);g&&g.scrollTo({top:0,left:0,behavior:i})})})(),Kj=!1}function H$(t,e){if(GT===void 0||((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),typeof document>"u"||t.isScrollRestorationSetup))return;t.isScrollRestorationSetup=!0,Kj=!1;const r=t.options.getScrollRestorationKey||FC;window.history.scrollRestoration="manual";const s=a=>{if(Kj||!t.isScrollRestoring)return;let o="";if(a.target===document||a.target===window)o="window";else{const h=a.target.getAttribute("data-scroll-restoration-id");h?o=`[data-scroll-restoration-id="${h}"]`:o=z$(a.target)}const l=r(t.state.location);GT.set(h=>{const d=h[l]=h[l]||{},p=d[o]=d[o]||{};if(o==="window")p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(o){const g=document.querySelector(o);g&&(p.scrollX=g.scrollLeft||0,p.scrollY=g.scrollTop||0)}return h})};typeof document<"u"&&document.addEventListener("scroll",F$(s,100),!0),t.subscribe("onRendered",a=>{const o=r(a.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}AI(Yj,o,t.options.scrollRestorationBehavior||void 0,t.isScrollRestoring||void 0,t.options.scrollToTopSelectors||void 0),t.isScrollRestoring&&GT.set(l=>(l[o]=l[o]||{},l))})}function V$(t){if(typeof document<"u"&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&t.state.location.hash!==""){const i=document.getElementById(t.state.location.hash);i&&i.scrollIntoView(e)}}}function G$(t,e){const i=Object.entries(t).flatMap(([s,a])=>Array.isArray(a)?a.map(o=>[s,String(o)]):[[s,String(a)]]);return""+new URLSearchParams(i).toString()}function $T(t){return t?t==="false"?!1:t==="true"?!0:+t*0===0&&+t+""===t?+t:t:""}function $$(t,e){const i=t;return[...new URLSearchParams(i).entries()].reduce((a,[o,l])=>{const h=a[o];return h==null?a[o]=$T(l):a[o]=Array.isArray(h)?[...h,$T(l)]:[h,$T(l)],a},{})}const q$=X$(JSON.parse),W$=Y$(JSON.stringify,JSON.parse);function X$(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const i=$$(e);for(const r in i){const s=i[r];if(typeof s=="string")try{i[r]=t(s)}catch{}}return i}}function Y$(t,e){function i(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(a=>{const o=r[a];typeof o>"u"||o===void 0?delete r[a]:r[a]=i(o)});const s=G$(r).toString();return s?`?${s}`:""}}const Tl="__root__";function K$(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument)try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}const e=new Headers(t.headers||{});t.href&&e.get("Location")===null&&e.set("Location",t.href);const i=new Response(null,{status:t.statusCode,headers:e});if(i.options=t,t.throw)throw i;return i}function yc(t){return t instanceof Response&&!!t.options}function $f(t){const e=t.resolvedLocation,i=t.location,r=e?.pathname!==i.pathname,s=e?.href!==i.href,a=e?.hash!==i.hash;return{fromLocation:e,toLocation:i,pathChanged:r,hrefChanged:s,hashChanged:a}}class Z${constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=i=>i(),this.isShell=!1,this.update=i=>{var r;i.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options;this.options={...this.options,...i},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(a=>[encodeURIComponent(a),a])):void 0,(!this.basepath||i.basepath&&i.basepath!==s.basepath)&&(i.basepath===void 0||i.basepath===""||i.basepath==="/"?this.basepath="/":this.basepath=`/${HT(i.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?E$({initialEntries:[this.basepath||"/"]}):M$()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new NC(J$(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(a=>!["redirected"].includes(a.status))}}}),H$(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)")),this.latestLocation.search.__TSS_SHELL&&(this.isShell=!0)},this.buildRouteTree=()=>{const{routesById:i,routesByPath:r,flatRoutes:s}=e9({routeTree:this.routeTree,initRoute:(o,l)=>{o.init({originalIndex:l})}});this.routesById=i,this.routesByPath=r,this.flatRoutes=s;const a=this.options.notFoundRoute;a&&(a.init({originalIndex:99999999999}),this.routesById[a.id]=a)},this.subscribe=(i,r)=>{const s={eventType:i,fn:r};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=i=>{this.subscribers.forEach(r=>{r.eventType===i.type&&r.fn(i)})},this.parseLocation=(i,r)=>{const s=({pathname:h,search:d,hash:p,state:g})=>{const v=this.options.parseSearch(d),_=this.options.stringifySearch(v);return{pathname:h,searchStr:_,search:Uo(i?.search,v),hash:p.split("#").reverse()[0]??"",href:`${h}${_}${p}`,state:Uo(i?.state,g)}},a=s(r??this.history.location),{__tempLocation:o,__tempKey:l}=a.state;if(o&&(!l||l===this.tempLocationKey)){const h=s(o);return h.state.key=a.state.key,h.state.__TSR_key=a.state.__TSR_key,delete h.state.__tempLocation,{...h,maskedLocation:a}}return a},this.resolvePathWithBase=(i,r)=>L$({basepath:this.basepath,base:i,to:O1(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(i,r,s)=>typeof i=="string"?this.matchRoutesInternal({pathname:i,search:r},s):this.matchRoutesInternal(i,r),this.getMatchedRoutes=(i,r)=>t9({pathname:i,routePathname:r,basepath:this.basepath,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes}),this.cancelMatch=i=>{const r=this.getMatch(i);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var i;(i=this.state.pendingMatches)==null||i.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=i=>{const r=(a={})=>{var o;const l=a._fromLocation||this.latestLocation,h=this.matchRoutes(l,{_buildLocation:!0}),d=OC(h);let p=d.fullPath;const g=!!a.to&&a.to!==p&&this.resolvePathWithBase(p,`${a.to}`)!==p;a.unsafeRelative==="path"?p=l.pathname:g&&a.from&&(p=a.from,[...h].reverse().find(H=>H.fullPath===p||H.fullPath===Rc([p,"/"]))||console.warn(`Could not find match for from: ${a.from}`));const v=d.search,_={...d.params},j=a.to?this.resolvePathWithBase(p,`${a.to}`):this.resolvePathWithBase(p,".");let T=(a.params??!0)===!0?_:{..._,...Gf(a.params,_)};const C=this.matchRoutes(j,{},{_buildLocation:!0}).map(U=>this.looseRoutesById[U.routeId]);Object.keys(T).length>0&&C.map(U=>{var H;return((H=U.options.params)==null?void 0:H.stringify)??U.options.stringifyParams}).filter(Boolean).forEach(U=>{T={...T,...U(T)}});const w=VT({path:j,params:T??{},leaveWildcards:!1,leaveParams:i.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let A=v;if(i._includeValidateSearch&&((o=this.options.search)!=null&&o.strict)){let U={};C.forEach(H=>{try{H.options.validateSearch&&(U={...U,...UC(H.options.validateSearch,{...U,...A})??{}})}catch{}}),A=U}A=n9({search:A,dest:a,destRoutes:C,_includeValidateSearch:i._includeValidateSearch}),A=Uo(v,A);const L=this.options.stringifySearch(A),k=a.hash===!0?l.hash:a.hash?Gf(a.hash,l.hash):void 0,I=k?`#${k}`:"";let z=a.state===!0?l.state:a.state?Gf(a.state,l.state):{};return z=Uo(l.state,z),{pathname:w,search:A,searchStr:L,state:z,hash:k??"",href:`${w}${L}${I}`,unmaskOnReload:a.unmaskOnReload}},s=(a={},o)=>{var l;const h=r(a);let d=o?r(o):void 0;if(!d){let p={};const g=(l=this.options.routeMasks)==null?void 0:l.find(v=>{const _=IC(this.basepath,h.pathname,{to:v.from,caseSensitive:!1,fuzzy:!1});return _?(p=_,!0):!1});if(g){const{from:v,..._}=g;o={...qj(i,["from"]),..._,params:p},d=r(o)}}if(d){const p=r(o);h.maskedLocation=p}return h};return i.mask?s(i,{...qj(i,["from"]),...i.mask}):s(i)},this.commitLocation=({viewTransition:i,ignoreBlocker:r,...s})=>{const a=()=>{const h=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];h.forEach(p=>{s.state[p]=this.latestLocation.state[p]});const d=Jm(s.state,this.latestLocation.state);return h.forEach(p=>{delete s.state[p]}),d},o=this.latestLocation.href===s.href,l=this.commitLocationPromise;if(this.commitLocationPromise=Tf(()=>{l?.resolve()}),o&&a())this.load();else{let{maskedLocation:h,hashScrollIntoView:d,...p}=s;h&&(p={...h,state:{...h.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=i,this.history[s.replace?"replace":"push"](p.href,p.state,{ignoreBlocker:r})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:i,resetScroll:r,hashScrollIntoView:s,viewTransition:a,ignoreBlocker:o,href:l,...h}={})=>{if(l){const p=this.history.location.state.__TSR_index,g=C0(l,{__TSR_index:i?p:p+1});h.to=g.pathname,h.search=this.options.parseSearch(g.search),h.hash=g.hash.slice(1)}const d=this.buildLocation({...h,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:a,replace:i,resetScroll:r,hashScrollIntoView:s,ignoreBlocker:o})},this.navigate=({to:i,reloadDocument:r,href:s,...a})=>{if(!r&&s)try{new URL(`${s}`),r=!0}catch{}if(r){if(!s){const o=this.buildLocation({to:i,...a});s=this.history.createHref(o.href)}a.replace?window.location.replace(s):window.location.href=s;return}return this.buildAndCommitLocation({...a,href:s,to:i})},this.beforeLoad=()=>{if(this.cancelMatches(),this.latestLocation=this.parseLocation(this.latestLocation),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(HT(this.latestLocation.href)!==HT(r.href))throw K$({href:r.href})}let i=this.matchRoutes(this.latestLocation);this.isShell&&(i=i.slice(0,1)),this.__store.setState(r=>({...r,status:"pending",isLoading:!0,location:this.latestLocation,pendingMatches:i,cachedMatches:r.cachedMatches.filter(s=>!i.find(a=>a.id===s.id))}))},this.load=async i=>{let r,s,a;for(a=new Promise(o=>{this.startTransition(async()=>{var l;try{this.beforeLoad();const h=this.latestLocation,d=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...$f({resolvedLocation:d,location:h})}),this.emit({type:"onBeforeLoad",...$f({resolvedLocation:d,location:h})}),await this.loadMatches({sync:i?.sync,matches:this.state.pendingMatches,location:h,onReady:async()=>{this.startViewTransition(async()=>{let p,g,v;EL(()=>{this.__store.setState(_=>{const j=_.matches,T=_.pendingMatches||_.matches;return p=j.filter(C=>!T.find(w=>w.id===C.id)),g=T.filter(C=>!j.find(w=>w.id===C.id)),v=j.filter(C=>T.find(w=>w.id===C.id)),{..._,isLoading:!1,loadedAt:Date.now(),matches:T,pendingMatches:void 0,cachedMatches:[..._.cachedMatches,...p.filter(C=>C.status!=="error")]}}),this.clearExpiredCache()}),[[p,"onLeave"],[g,"onEnter"],[v,"onStay"]].forEach(([_,j])=>{_.forEach(T=>{var C,w;(w=(C=this.looseRoutesById[T.routeId].options)[j])==null||w.call(C,T)})})})}})}catch(h){yc(h)?(r=h,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):zo(h)&&(s=h),this.__store.setState(d=>({...d,statusCode:r?r.status:s?404:d.matches.some(p=>p.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===a&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=a,await a;this.latestLoadPromise&&a!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=i=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const a=this.latestLocation,o=this.state.resolvedLocation,l=typeof r.types=="function"?r.types($f({resolvedLocation:o,location:a})):r.types;s={update:i,types:l}}else s=i;document.startViewTransition(s)}else i()},this.updateMatch=(i,r)=>{var s;let a;const o=(s=this.state.pendingMatches)==null?void 0:s.find(p=>p.id===i),l=this.state.matches.find(p=>p.id===i),h=this.state.cachedMatches.find(p=>p.id===i),d=o?"pendingMatches":l?"matches":h?"cachedMatches":"";return d&&this.__store.setState(p=>{var g;return{...p,[d]:(g=p[d])==null?void 0:g.map(v=>v.id===i?a=r(v):v)}}),a},this.getMatch=i=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===i),this.loadMatches=async({location:i,matches:r,preload:s,onReady:a,updateMatch:o=this.updateMatch,sync:l})=>{let h,d=!1;const p=async()=>{d||(d=!0,!s&&!this.isServer&&r.forEach(j=>{const{id:T,routeId:C,_forcePending:w,minPendingPromise:A}=j,k=this.looseRoutesById[C].options.pendingMinMs??this.options.defaultPendingMinMs;if(w&&k&&!A){const I=Tf();o(T,z=>({...z,minPendingPromise:I})),setTimeout(()=>{I.resolve(),o(T,z=>({...z,minPendingPromise:void 0}))},k)}}),await a?.())},g=j=>!!(s&&!this.state.matches.find(T=>T.id===j));!this.isServer&&this.state.matches.find(j=>j._forcePending)&&p();const v=(j,T)=>{var C,w,A,L;if(yc(T)||zo(T)){if(yc(T)&&T.redirectHandled&&!T.options.reloadDocument)throw T;if((C=j.beforeLoadPromise)==null||C.resolve(),(w=j.loaderPromise)==null||w.resolve(),o(j.id,k=>({...k,status:yc(T)?"redirected":zo(T)?"notFound":"error",isFetching:!1,error:T,beforeLoadPromise:void 0,loaderPromise:void 0})),T.routeId||(T.routeId=j.routeId),(A=j.loadPromise)==null||A.resolve(),yc(T))throw d=!0,T.options._fromLocation=i,T.redirectHandled=!0,T=this.resolveRedirect(T),T;if(zo(T))throw this._handleNotFound(r,T,{updateMatch:o}),(L=this.serverSsr)==null||L.onMatchSettled({router:this,match:this.getMatch(j.id)}),T}},_=j=>{const T=this.getMatch(j);return!!(!this.isServer&&T._dehydrated||this.isServer&&T.ssr===!1)};try{await new Promise((j,T)=>{(async()=>{var C,w,A,L;try{const k=(U,H,P)=>{var N,G;const{id:te,routeId:Q}=r[U],K=this.looseRoutesById[Q];if(H instanceof Promise)throw H;H.routerCode=P,h=h??U,v(this.getMatch(te),H);try{(G=(N=K.options).onError)==null||G.call(N,H)}catch(ee){H=ee,v(this.getMatch(te),H)}o(te,ee=>{var O,q;return(O=ee.beforeLoadPromise)==null||O.resolve(),(q=ee.loadPromise)==null||q.resolve(),{...ee,error:H,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[U,{id:H,routeId:P}]of r.entries()){const N=this.getMatch(H),G=(C=r[U-1])==null?void 0:C.id,te=G?this.getMatch(G):void 0,Q=this.looseRoutesById[P],K=Q.options.pendingMs??this.options.defaultPendingMs;if(this.isServer){const q=this.options.defaultSsr??!0;let V;if(te?.ssr===!1)V=!1;else{let le;if(Q.options.ssr===void 0)le=q;else if(typeof Q.options.ssr=="function"){let W=function(ae,pe){return pe?{status:"error",error:pe}:{status:"success",value:ae}};const{search:re,params:de}=this.getMatch(H),fe={search:W(re,N.searchError),params:W(de,N.paramsError),location:i,matches:r.map(ae=>({index:ae.index,pathname:ae.pathname,fullPath:ae.fullPath,staticData:ae.staticData,id:ae.id,routeId:ae.routeId,search:W(ae.search,ae.searchError),params:W(ae.params,ae.paramsError),ssr:ae.ssr}))};le=await Q.options.ssr(fe)??q}else le=Q.options.ssr;le===!0&&te?.ssr==="data-only"?V="data-only":V=le}o(H,le=>({...le,ssr:V}))}if(_(H))continue;const ee=!!(a&&!this.isServer&&!g(H)&&(Q.options.loader||Q.options.beforeLoad||PL(Q))&&typeof K=="number"&&K!==1/0&&(Q.options.pendingComponent??((w=this.options)==null?void 0:w.defaultPendingComponent)));let O=!0;if(N.beforeLoadPromise||N.loaderPromise){ee&&setTimeout(()=>{try{p()}catch{}},K),await N.beforeLoadPromise;const q=this.getMatch(H);q.status==="error"?O=!0:q.preload&&(q.status==="redirected"||q.status==="notFound")&&v(q,q.error)}if(O){try{o(H,Ze=>{const Je=Ze.loadPromise;return{...Ze,loadPromise:Tf(()=>{Je?.resolve()}),beforeLoadPromise:Tf()}});const q=new AbortController;let V;ee&&(V=setTimeout(()=>{try{p()}catch{}},K));const{paramsError:le,searchError:W}=this.getMatch(H);le&&k(U,le,"PARSE_PARAMS"),W&&k(U,W,"VALIDATE_SEARCH");const re=te?.context??this.options.context??{};o(H,Ze=>({...Ze,isFetching:"beforeLoad",fetchCount:Ze.fetchCount+1,abortController:q,pendingTimeout:V,context:{...re,...Ze.__routeContext}}));const{search:de,params:fe,context:ae,cause:pe}=this.getMatch(H),De=g(H),Be={search:de,abortController:q,params:fe,preload:De,context:ae,location:i,navigate:Ze=>this.navigate({...Ze,_fromLocation:i}),buildLocation:this.buildLocation,cause:De?"preload":pe,matches:r},Ue=await((L=(A=Q.options).beforeLoad)==null?void 0:L.call(A,Be))??{};(yc(Ue)||zo(Ue))&&k(U,Ue,"BEFORE_LOAD"),o(H,Ze=>({...Ze,__beforeLoadContext:Ue,context:{...re,...Ze.__routeContext,...Ue},abortController:q}))}catch(q){k(U,q,"BEFORE_LOAD")}o(H,q=>{var V;return(V=q.beforeLoadPromise)==null||V.resolve(),{...q,beforeLoadPromise:void 0,isFetching:!1}})}}const I=r.slice(0,h),z=[];I.forEach(({id:U,routeId:H},P)=>{z.push((async()=>{var N,G;let te=!1,Q=!1;const K=this.looseRoutesById[H],ee=async()=>{var V,le,W,re,de,fe;const ae=this.getMatch(U);if(!ae)return;const pe={matches:r,match:ae,params:ae.params,loaderData:ae.loaderData},De=await((le=(V=K.options).head)==null?void 0:le.call(V,pe)),Be=De?.meta,Ue=De?.links,Ze=De?.scripts,Je=De?.styles,Nt=await((re=(W=K.options).scripts)==null?void 0:re.call(W,pe)),Et=await((fe=(de=K.options).headers)==null?void 0:fe.call(de,pe));return{meta:Be,links:Ue,headScripts:Ze,headers:Et,scripts:Nt,styles:Je}},O=async()=>{const V=this.getMatch(U);V.minPendingPromise&&await V.minPendingPromise},q=this.getMatch(U);if(_(U))if(this.isServer){const V=await ee();return o(U,le=>({...le,...V})),(N=this.serverSsr)==null||N.onMatchSettled({router:this,match:this.getMatch(U)}),this.getMatch(U)}else await O();else if(q.loaderPromise){if(q.status==="success"&&!l&&!q.preload)return this.getMatch(U);await q.loaderPromise;const V=this.getMatch(U);V.error&&v(V,V.error)}else{const V=z[P-1],le=()=>{const{params:Ze,loaderDeps:Je,abortController:Nt,context:Et,cause:At}=this.getMatch(U),ne=g(U);return{params:Ze,deps:Je,preload:!!ne,parentMatchPromise:V,abortController:Nt,context:Et,location:i,navigate:rt=>this.navigate({...rt,_fromLocation:i}),cause:ne?"preload":At,route:K}},W=Date.now()-this.getMatch(U).updatedAt,re=g(U),de=re?K.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:K.options.staleTime??this.options.defaultStaleTime??0,fe=K.options.shouldReload,ae=typeof fe=="function"?fe(le()):fe;o(U,Ze=>({...Ze,loaderPromise:Tf(),preload:!!re&&!this.state.matches.find(Je=>Je.id===U)}));const pe=async()=>{var Ze,Je,Nt,Et,At;try{try{(!this.isServer||this.isServer&&this.getMatch(U).ssr===!0)&&this.loadRouteChunk(K),o(U,qe=>({...qe,isFetching:"loader"}));const ne=await((Je=(Ze=K.options).loader)==null?void 0:Je.call(Ze,le()));v(this.getMatch(U),ne),o(U,qe=>({...qe,loaderData:ne})),await K._lazyPromise;const rt=await ee();await O(),await K._componentsPromise,o(U,qe=>({...qe,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...rt}))}catch(ne){let rt=ne;await O(),v(this.getMatch(U),ne);try{(Et=(Nt=K.options).onError)==null||Et.call(Nt,ne)}catch(We){rt=We,v(this.getMatch(U),We)}const qe=await ee();o(U,We=>({...We,error:rt,status:"error",isFetching:!1,...qe}))}(At=this.serverSsr)==null||At.onMatchSettled({router:this,match:this.getMatch(U)})}catch(ne){const rt=await ee();o(U,qe=>({...qe,loaderPromise:void 0,...rt})),v(this.getMatch(U),ne)}},{status:De,invalid:Be,_forcePending:Ue}=this.getMatch(U);if(te=De==="success"&&(Be||(ae??W>de)),!(re&&K.options.preload===!1))if(te&&!l&&!Ue)Q=!0,(async()=>{try{await pe();const{loaderPromise:Ze,loadPromise:Je}=this.getMatch(U);Ze?.resolve(),Je?.resolve(),o(U,Nt=>({...Nt,loaderPromise:void 0}))}catch(Ze){yc(Ze)&&await this.navigate(Ze.options)}})();else if(De!=="success"||te&&l)await pe();else{Ue&&await O();const Ze=await ee();o(U,Je=>({...Je,...Ze})),(G=this.serverSsr)==null||G.onMatchSettled({router:this,match:this.getMatch(U)})}}if(!Q){const{loaderPromise:V,loadPromise:le}=this.getMatch(U);V?.resolve(),le?.resolve()}return o(U,V=>({...V,isFetching:Q?V.isFetching:!1,loaderPromise:Q?V.loaderPromise:void 0,invalid:!1,_dehydrated:void 0,_forcePending:void 0})),this.getMatch(U)})())}),await Promise.all(z),j()}catch(k){T(k)}})()}),await p()}catch(j){if(yc(j)||zo(j))throw zo(j)&&!s&&await p(),j}return r},this.invalidate=i=>{const r=s=>{var a;return((a=i?.filter)==null?void 0:a.call(i,s))??!0?{...s,invalid:!0,...i?.forcePending||s.status==="error"?{status:"pending",error:void 0}:{}}:s};return this.__store.setState(s=>{var a;return{...s,matches:s.matches.map(r),cachedMatches:s.cachedMatches.map(r),pendingMatches:(a=s.pendingMatches)==null?void 0:a.map(r)}}),this.shouldViewTransition=!1,this.load({sync:i?.sync})},this.resolveRedirect=i=>(i.options.href||(i.options.href=this.buildLocation(i.options).href,i.headers.set("Location",i.options.href)),i.headers.get("Location")||i.headers.set("Location",i.options.href),i),this.clearCache=i=>{const r=i?.filter;r!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(a=>!r(a))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const i=r=>{const s=this.looseRoutesById[r.routeId];if(!s.options.loader)return!0;const a=(r.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<a)};this.clearCache({filter:i})},this.loadRouteChunk=i=>(i._lazyPromise===void 0&&(i.lazyFn?i._lazyPromise=i.lazyFn().then(r=>{const{id:s,...a}=r.options;Object.assign(i.options,a)}):i._lazyPromise=Promise.resolve()),i._componentsPromise===void 0&&(i._componentsPromise=i._lazyPromise.then(()=>Promise.all(RI.map(async r=>{const s=i.options[r];s?.preload&&await s.preload()})))),i._componentsPromise),this.preloadRoute=async i=>{const r=this.buildLocation(i);let s=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:i});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...a,...this.state.cachedMatches.map(l=>l.id)]);EL(()=>{s.forEach(l=>{o.has(l.id)||this.__store.setState(h=>({...h,cachedMatches:[...h.cachedMatches,l]}))})});try{return s=await this.loadMatches({matches:s,location:r,preload:!0,updateMatch:(l,h)=>{a.has(l)?s=s.map(d=>d.id===l?h(d):d):this.updateMatch(l,h)}}),s}catch(l){if(yc(l))return l.options.reloadDocument?void 0:await this.preloadRoute({...l.options,_fromLocation:r});zo(l)||console.error(l);return}},this.matchRoute=(i,r)=>{const s={...i,to:i.to?this.resolvePathWithBase(i.from||"",i.to):void 0,params:i.params||{},leaveParams:!0},a=this.buildLocation(s);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,h=IC(this.basepath,l.pathname,{...r,to:a.pathname});return!h||i.params&&!Jm(h,i.params,{partial:!0})?!1:h&&(r?.includeSearch??!0)?Jm(l.search,a.search,{partial:!0})?h:!1:h},this._handleNotFound=(i,r,{updateMatch:s=this.updateMatch}={})=>{var a;const o=this.routesById[r.routeId??""]??this.routeTree,l={};for(const d of i)l[d.routeId]=d;!o.options.notFoundComponent&&((a=this.options)!=null&&a.defaultNotFoundComponent)&&(o.options.notFoundComponent=this.options.defaultNotFoundComponent),Dh(o.options.notFoundComponent);const h=l[o.id];Dh(h,"Could not find match for route: "+o.id),s(h.id,d=>({...d,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(i,r,{updateMatch:s}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(i=>i.status==="notFound"||i.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??W$,parseSearch:e.parseSearch??q$}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(e,i){var r;const{foundRoute:s,matchedRoutes:a,routeParams:o}=this.getMatchedRoutes(e.pathname,(r=i?.dest)==null?void 0:r.to);let l=!1;(s?s.path!=="/"&&o["**"]:gg(e.pathname))&&(this.options.notFoundRoute?a.push(this.options.notFoundRoute):l=!0);const h=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let v=a.length-1;v>=0;v--){const _=a[v];if(_.children)return _.id}return Tl}})(),d=a.map(v=>{var _;let j;const T=((_=v.options.params)==null?void 0:_.parse)??v.options.parseParams;if(T)try{const C=T(o);Object.assign(o,C)}catch(C){if(j=new Q$(C.message,{cause:C}),i?.throwOnError)throw j;return j}}),p=[],g=v=>v?.id?v.context??this.options.context??{}:this.options.context??{};return a.forEach((v,_)=>{var j,T;const C=p[_-1],[w,A,L]=(()=>{const K=C?.search??e.search,ee=C?._strictSearch??{};try{const O=UC(v.options.validateSearch,{...K})??{};return[{...K,...O},{...ee,...O},void 0]}catch(O){let q=O;if(O instanceof Zj||(q=new Zj(O.message,{cause:O})),i?.throwOnError)throw q;return[K,{},q]}})(),k=((T=(j=v.options).loaderDeps)==null?void 0:T.call(j,{search:w}))??"",I=k?JSON.stringify(k):"",{usedParams:z,interpolatedPath:U}=VT({path:v.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),H=VT({path:v.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+I,P=this.getMatch(H),N=this.state.matches.find(K=>K.routeId===v.id),G=N?"stay":"enter";let te;if(P)te={...P,cause:G,params:N?Uo(N.params,o):o,_strictParams:z,search:Uo(N?N.search:P.search,w),_strictSearch:A};else{const K=v.options.loader||v.options.beforeLoad||v.lazyFn||PL(v)?"pending":"success";te={id:H,index:_,routeId:v.id,params:N?Uo(N.params,o):o,_strictParams:z,pathname:Rc([this.basepath,U]),updatedAt:Date.now(),search:N?Uo(N.search,w):w,_strictSearch:A,searchError:void 0,status:K,isFetching:!1,error:void 0,paramsError:d[_],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:G,loaderDeps:N?Uo(N.loaderDeps,k):k,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:v.options.staticData||{},loadPromise:Tf(),fullPath:v.fullPath}}i?.preload||(te.globalNotFound=h===v.id),te.searchError=L;const Q=g(C);te.context={...Q,...te.__routeContext,...te.__beforeLoadContext},p.push(te)}),p.forEach((v,_)=>{var j,T;const C=this.looseRoutesById[v.routeId];if(!this.getMatch(v.id)&&i?._buildLocation!==!0){const A=p[_-1],L=g(A),k={deps:v.loaderDeps,params:v.params,context:L,location:e,navigate:I=>this.navigate({...I,_fromLocation:e}),buildLocation:this.buildLocation,cause:v.cause,abortController:v.abortController,preload:!!v.preload,matches:p};v.__routeContext=((T=(j=C.options).context)==null?void 0:T.call(j,k))??{},v.context={...L,...v.__routeContext,...v.__beforeLoadContext}}}),p}}class Zj extends Error{}class Q$ extends Error{}function J$(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function UC(t,e){if(t==null)return{};if("~standard"in t){const i=t["~standard"].validate(e);if(i instanceof Promise)throw new Zj("Async validation not supported");if(i.issues)throw new Zj(JSON.stringify(i.issues,void 0,2),{cause:i});return i.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}const RI=["component","errorComponent","pendingComponent","notFoundComponent"];function PL(t){var e;for(const i of RI)if((e=t.options[i])!=null&&e.preload)return!0;return!1}function e9({routeTree:t,initRoute:e}){const i={},r={},s=h=>{h.forEach((d,p)=>{e?.(d,p);const g=i[d.id];if(Dh(!g,`Duplicate routes found with id: ${String(d.id)}`),i[d.id]=d,!d.isRoot&&d.path){const _=gg(d.fullPath);(!r[_]||d.fullPath.endsWith("/"))&&(r[_]=d)}const v=d.children;v?.length&&s(v)})};s([t]);const a=[];Object.values(i).forEach((h,d)=>{var p;if(h.isRoot||!h.path)return;const g=CE(h.fullPath),v=xg(g);for(;v.length>1&&((p=v[0])==null?void 0:p.value)==="/";)v.shift();const _=v.map(j=>j.value==="/"?.75:j.type==="param"&&j.prefixSegment&&j.suffixSegment?.55:j.type==="param"&&j.prefixSegment?.52:j.type==="param"&&j.suffixSegment?.51:j.type==="param"?.5:j.type==="wildcard"&&j.prefixSegment&&j.suffixSegment?.3:j.type==="wildcard"&&j.prefixSegment?.27:j.type==="wildcard"&&j.suffixSegment?.26:j.type==="wildcard"?.25:1);a.push({child:h,trimmed:g,parsed:v,index:d,scores:_})});const l=a.sort((h,d)=>{const p=Math.min(h.scores.length,d.scores.length);for(let g=0;g<p;g++)if(h.scores[g]!==d.scores[g])return d.scores[g]-h.scores[g];if(h.scores.length!==d.scores.length)return d.scores.length-h.scores.length;for(let g=0;g<p;g++)if(h.parsed[g].value!==d.parsed[g].value)return h.parsed[g].value>d.parsed[g].value?1:-1;return h.index-d.index}).map((h,d)=>(h.child.rank=d,h.child));return{routesById:i,routesByPath:r,flatRoutes:l}}function t9({pathname:t,routePathname:e,basepath:i,caseSensitive:r,routesByPath:s,routesById:a,flatRoutes:o}){let l={};const h=gg(t),d=_=>{var j;return IC(i,h,{to:_.fullPath,caseSensitive:((j=_.options)==null?void 0:j.caseSensitive)??r,fuzzy:!0})};let p=e!==void 0?s[e]:void 0;p?l=d(p):p=o.find(_=>{const j=d(_);return j?(l=j,!0):!1});let g=p||a[Tl];const v=[g];for(;g.parentRoute;)g=g.parentRoute,v.unshift(g);return{matchedRoutes:v,routeParams:l,foundRoute:p}}function n9({search:t,dest:e,destRoutes:i,_includeValidateSearch:r}){const s=i.reduce((l,h)=>{var d;const p=[];if("search"in h.options)(d=h.options.search)!=null&&d.middlewares&&p.push(...h.options.search.middlewares);else if(h.options.preSearchFilters||h.options.postSearchFilters){const g=({search:v,next:_})=>{let j=v;"preSearchFilters"in h.options&&h.options.preSearchFilters&&(j=h.options.preSearchFilters.reduce((C,w)=>w(C),v));const T=_(j);return"postSearchFilters"in h.options&&h.options.postSearchFilters?h.options.postSearchFilters.reduce((C,w)=>w(C),T):T};p.push(g)}if(r&&h.options.validateSearch){const g=({search:v,next:_})=>{const j=_(v);try{return{...j,...UC(h.options.validateSearch,j)??{}}}catch{return j}};p.push(g)}return l.concat(p)},[])??[],a=({search:l})=>e.search?e.search===!0?l:Gf(e.search,l):{};s.push(a);const o=(l,h)=>{if(l>=s.length)return h;const d=s[l];return d({search:h,next:g=>o(l+1,g)})};return o(0,t)}const i9="Error preloading route! ☝️";class LI{constructor(e){if(this.init=i=>{var r,s;this.originalIndex=i.originalIndex;const a=this.options,o=!a?.path&&!a?.id;this.parentRoute=(s=(r=this.options).getParentRoute)==null?void 0:s.call(r),o?this._path=Tl:this.parentRoute||Dh(!1);let l=o?Tl:a?.path;l&&l!=="/"&&(l=CE(l));const h=a?.id||l;let d=o?Tl:Rc([this.parentRoute.id===Tl?"":this.parentRoute.id,h]);l===Tl&&(l="/"),d!==Tl&&(d=Rc(["/",d]));const p=d===Tl?"/":Rc([this.parentRoute.fullPath,l]);this._path=l,this._id=d,this._fullPath=p,this._to=p},this.clone=i=>{this._path=i._path,this._id=i._id,this._fullPath=i._fullPath,this._to=i._to,this.options.getParentRoute=i.options.getParentRoute,this.children=i.children},this.addChildren=i=>this._addFileChildren(i),this._addFileChildren=i=>(Array.isArray(i)&&(this.children=i),typeof i=="object"&&i!==null&&(this.children=Object.values(i)),this),this._addFileTypes=()=>this,this.updateLoader=i=>(Object.assign(this.options,i),this),this.update=i=>(Object.assign(this.options,i),this),this.lazy=i=>(this.lazyFn=i,this),this.options=e||{},this.isRoot=!e?.getParentRoute,e?.id&&e?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class r9 extends LI{constructor(e){super(e)}}function ME(t){const e=t.errorComponent??B1;return n.jsx(s9,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:i,reset:r})=>i?ze.createElement(e,{error:i,reset:r}):t.children})}class s9 extends ze.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,i){i.error&&i.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,i){this.props.onCatch&&this.props.onCatch(e,i)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function B1({error:t}){const[e,i]=ze.useState(!1);return n.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[n.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),n.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>i(r=>!r),children:e?"Hide Error":"Show Error"})]}),n.jsx("div",{style:{height:".25rem"}}),e?n.jsx("div",{children:n.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?n.jsx("code",{children:t.message}):null})}):null]})}function a9({children:t,fallback:e=null}){return o9()?n.jsx(mg.Fragment,{children:t}):n.jsx(mg.Fragment,{children:e})}function o9(){return mg.useSyncExternalStore(l9,()=>!0,()=>!1)}function l9(){return()=>{}}var qT={exports:{}},WT={},XT={exports:{}},YT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OL;function c9(){if(OL)return YT;OL=1;var t=Ug();function e(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var i=typeof Object.is=="function"?Object.is:e,r=t.useState,s=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(g,v){var _=v(),j=r({inst:{value:_,getSnapshot:v}}),T=j[0].inst,C=j[1];return a(function(){T.value=_,T.getSnapshot=v,h(T)&&C({inst:T})},[g,_,v]),s(function(){return h(T)&&C({inst:T}),g(function(){h(T)&&C({inst:T})})},[g]),o(_),_}function h(g){var v=g.getSnapshot;g=g.value;try{var _=v();return!i(g,_)}catch{return!0}}function d(g,v){return v()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return YT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,YT}var BL;function h9(){return BL||(BL=1,XT.exports=c9()),XT.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IL;function u9(){if(IL)return WT;IL=1;var t=Ug(),e=h9();function i(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:i,s=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,l=t.useMemo,h=t.useDebugValue;return WT.useSyncExternalStoreWithSelector=function(d,p,g,v,_){var j=a(null);if(j.current===null){var T={hasValue:!1,value:null};j.current=T}else T=j.current;j=l(function(){function w(z){if(!A){if(A=!0,L=z,z=v(z),_!==void 0&&T.hasValue){var U=T.value;if(_(U,z))return k=U}return k=z}if(U=k,r(L,z))return U;var H=v(z);return _!==void 0&&_(U,H)?(L=z,U):(L=z,k=H)}var A=!1,L,k,I=g===void 0?null:g;return[function(){return w(p())},I===null?void 0:function(){return w(I())}]},[p,g,v,_]);var C=s(d,j[0],j[1]);return o(function(){T.hasValue=!0,T.value=C},[C]),h(C),C},WT}var FL;function d9(){return FL||(FL=1,qT.exports=u9()),qT.exports}var DI=d9();const f9=hv(DI);function p9(t,e=i=>i){return DI.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,m9)}function m9(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,s]of t)if(!e.has(r)||!Object.is(s,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!1;for(let r=0;r<i.length;r++)if(!Object.prototype.hasOwnProperty.call(e,i[r])||!Object.is(t[i[r]],e[i[r]]))return!1;return!0}const KT=ze.createContext(null);function kI(){return typeof document>"u"?KT:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=KT,KT)}function po(t){const e=ze.useContext(kI());return t?.warn,e}function fr(t){const e=po({warn:t?.router===void 0}),i=t?.router||e,r=ze.useRef(void 0);return p9(i.__store,s=>{if(t?.select){if(t.structuralSharing??i.options.defaultStructuralSharing){const a=Uo(r.current,t.select(s));return r.current=a,a}return t.select(s)}return s})}const I1=ze.createContext(void 0),g9=ze.createContext(void 0);function $o(t){const e=ze.useContext(t.from?g9:I1);return fr({select:r=>{const s=r.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(Dh(!((t.shouldThrow??!0)&&!s),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),s!==void 0)return t.select?t.select(s):s},structuralSharing:t.structuralSharing})}function EE(t){return $o({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function AE(t){const{select:e,...i}=t;return $o({...i,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function F1(t){return $o({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function RE(t){return $o({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function LE(t){const{navigate:e,state:i}=po(),r=$o({strict:!1,select:s=>s.index});return ze.useCallback(s=>{const a=s.from??t?.from??i.matches[r].fullPath;return e({...s,from:a})},[t?.from,e])}var NI=TI();const Yy=typeof window<"u"?ze.useLayoutEffect:ze.useEffect;function ZT(t){const e=ze.useRef({value:t,prev:null}),i=e.current.value;return t!==i&&(e.current={value:t,prev:i}),e.current.prev}function x9(t,e,i={},r={}){const s=ze.useRef(typeof IntersectionObserver=="function"),a=ze.useRef(null);return ze.useEffect(()=>{if(!(!t.current||!s.current||r.disabled))return a.current=new IntersectionObserver(([o])=>{e(o)},i),a.current.observe(t.current),()=>{var o;(o=a.current)==null||o.disconnect()}},[e,i,r.disabled,t]),a.current}function y9(t){const e=ze.useRef(null);return ze.useImperativeHandle(t,()=>e.current,[]),e}function v9(t,e){const i=po(),[r,s]=ze.useState(!1),a=ze.useRef(!1),o=y9(e),{activeProps:l=()=>({className:"active"}),inactiveProps:h=()=>({}),activeOptions:d,to:p,preload:g,preloadDelay:v,hashScrollIntoView:_,replace:j,startTransition:T,resetScroll:C,viewTransition:w,children:A,target:L,disabled:k,style:I,className:z,onClick:U,onFocus:H,onMouseEnter:P,onMouseLeave:N,onTouchStart:G,ignoreBlocker:te,...Q}=t,{params:K,search:ee,hash:O,state:q,mask:V,reloadDocument:le,unsafeRelative:W,...re}=Q,de=ze.useMemo(()=>{try{return new URL(`${p}`),"external"}catch{}return"internal"},[p]),fe=fr({select:Ct=>Ct.location.search,structuralSharing:!0}),ae=$o({strict:!1,select:Ct=>Ct.fullPath}),pe=t.from??ae;t={...t,from:pe};const De=ze.useMemo(()=>i.buildLocation(t),[i,t,fe]),Be=ze.useMemo(()=>t.reloadDocument?!1:g??i.options.defaultPreload,[i.options.defaultPreload,g,t.reloadDocument]),Ue=v??i.options.defaultPreloadDelay??0,Ze=fr({select:Ct=>{if(d?.exact){if(!R$(Ct.location.pathname,De.pathname,i.basepath))return!1}else{const se=Wj(Ct.location.pathname,i.basepath).split("/");if(!Wj(De.pathname,i.basepath).split("/").every((Ie,Ve)=>Ie===se[Ve]))return!1}return(d?.includeSearch??!0)&&!Jm(Ct.location.search,De.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?Ct.location.hash===De.hash:!0}}),Je=ze.useCallback(()=>{i.preloadRoute(t).catch(Ct=>{console.warn(Ct),console.warn(i9)})},[t,i]),Nt=ze.useCallback(Ct=>{Ct?.isIntersecting&&Je()},[Je]);if(x9(o,Nt,{rootMargin:"100px"},{disabled:!!k||Be!=="viewport"}),Yy(()=>{a.current||!k&&Be==="render"&&(Je(),a.current=!0)},[k,Je,Be]),de==="external")return{...re,ref:o,type:de,href:p,...A&&{children:A},...L&&{target:L},...k&&{disabled:k},...I&&{style:I},...z&&{className:z},...U&&{onClick:U},...H&&{onFocus:H},...P&&{onMouseEnter:P},...N&&{onMouseLeave:N},...G&&{onTouchStart:G}};const Et=Ct=>{if(!k&&!_9(Ct)&&!Ct.defaultPrevented&&(!L||L==="_self")&&Ct.button===0){Ct.preventDefault(),NI.flushSync(()=>{s(!0)});const se=i.subscribe("onResolved",()=>{se(),s(!1)});return i.navigate({...t,replace:j,resetScroll:C,hashScrollIntoView:_,startTransition:T,viewTransition:w,ignoreBlocker:te})}},At=Ct=>{k||Be&&Je()},ne=At,rt=Ct=>{if(k)return;const se=Ct.target||{};if(Be){if(se.preloadTimeout)return;Ue?se.preloadTimeout=setTimeout(()=>{se.preloadTimeout=null,Je()},Ue):Je()}},qe=Ct=>{if(k)return;const se=Ct.target||{};se.preloadTimeout&&(clearTimeout(se.preloadTimeout),se.preloadTimeout=null)},We=Ct=>se=>{var Y;(Y=se.persist)==null||Y.call(se),Ct.filter(Boolean).forEach(Ce=>{se.defaultPrevented||Ce(se)})},He=Ze?Gf(l,{})??{}:{},vt=Ze?{}:Gf(h,{}),tt=[z,He.className,vt.className].filter(Boolean).join(" "),xt={...I,...He.style,...vt.style};return{...re,...He,...vt,href:k?void 0:De.maskedLocation?i.history.createHref(De.maskedLocation.href):i.history.createHref(De.href),ref:o,onClick:We([U,Et]),onFocus:We([H,At]),onMouseEnter:We([P,rt]),onMouseLeave:We([N,qe]),onTouchStart:We([G,ne]),disabled:!!k,target:L,...Object.keys(xt).length&&{style:xt},...tt&&{className:tt},...k&&{role:"link","aria-disabled":!0},...Ze&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}const zg=ze.forwardRef((t,e)=>{const{_asChild:i,...r}=t,{type:s,ref:a,...o}=v9(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof i>"u"&&delete o.disabled,ze.createElement(i||"a",{...o,ref:a},l)});function _9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}let b9=class extends LI{constructor(e){super(e),this.useMatch=i=>$o({select:i?.select,from:this.id,structuralSharing:i?.structuralSharing}),this.useRouteContext=i=>$o({...i,from:this.id,select:r=>i?.select?i.select(r.context):r.context}),this.useSearch=i=>RE({select:i?.select,structuralSharing:i?.structuralSharing,from:this.id}),this.useParams=i=>F1({select:i?.select,structuralSharing:i?.structuralSharing,from:this.id}),this.useLoaderDeps=i=>AE({...i,from:this.id}),this.useLoaderData=i=>EE({...i,from:this.id}),this.useNavigate=()=>LE({from:this.fullPath}),this.Link=mg.forwardRef((i,r)=>n.jsx(zg,{ref:r,from:this.fullPath,...i})),this.$$typeof=Symbol.for("react.memo")}};function j9(t){return new b9(t)}class S9 extends r9{constructor(e){super(e),this.useMatch=i=>$o({select:i?.select,from:this.id,structuralSharing:i?.structuralSharing}),this.useRouteContext=i=>$o({...i,from:this.id,select:r=>i?.select?i.select(r.context):r.context}),this.useSearch=i=>RE({select:i?.select,structuralSharing:i?.structuralSharing,from:this.id}),this.useParams=i=>F1({select:i?.select,structuralSharing:i?.structuralSharing,from:this.id}),this.useLoaderDeps=i=>AE({...i,from:this.id}),this.useLoaderData=i=>EE({...i,from:this.id}),this.useNavigate=()=>LE({from:this.fullPath}),this.Link=mg.forwardRef((i,r)=>n.jsx(zg,{ref:r,from:this.fullPath,...i})),this.$$typeof=Symbol.for("react.memo")}}function w9(t){return new S9(t)}function ve(t){return typeof t=="object"?new UL(t,{silent:!0}).createRoute(t):new UL(t,{silent:!0}).createRoute}class UL{constructor(e,i){this.path=e,this.createRoute=r=>{this.silent;const s=j9(r);return s.isRoot=!1,s},this.silent=i?.silent}}class zL{constructor(e){this.useMatch=i=>$o({select:i?.select,from:this.options.id,structuralSharing:i?.structuralSharing}),this.useRouteContext=i=>$o({from:this.options.id,select:r=>i?.select?i.select(r.context):r.context}),this.useSearch=i=>RE({select:i?.select,structuralSharing:i?.structuralSharing,from:this.options.id}),this.useParams=i=>F1({select:i?.select,structuralSharing:i?.structuralSharing,from:this.options.id}),this.useLoaderDeps=i=>AE({...i,from:this.options.id}),this.useLoaderData=i=>EE({...i,from:this.options.id}),this.useNavigate=()=>{const i=po();return LE({from:i.routesById[this.options.id].fullPath})},this.options=e,this.$$typeof=Symbol.for("react.memo")}}function HL(t){return typeof t=="object"?new zL(t):e=>new zL({id:t,...e})}function T9(){const t=po(),e=ze.useRef({router:t,mounted:!1}),i=fr({select:({isLoading:g})=>g}),[r,s]=ze.useState(!1),a=fr({select:g=>g.matches.some(v=>v.status==="pending"),structuralSharing:!0}),o=ZT(i),l=i||r||a,h=ZT(l),d=i||a,p=ZT(d);return t.isServer||(t.startTransition=g=>{s(!0),ze.startTransition(()=>{g(),s(!1)})}),ze.useEffect(()=>{const g=t.history.subscribe(t.load),v=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return gg(t.latestLocation.href)!==gg(v.href)&&t.commitLocation({...v,replace:!0}),()=>{g()}},[t,t.history]),Yy(()=>{if(typeof window<"u"&&t.clientSsr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(v){console.error(v)}})()},[t]),Yy(()=>{o&&!i&&t.emit({type:"onLoad",...$f(t.state)})},[o,t,i]),Yy(()=>{p&&!d&&t.emit({type:"onBeforeRouteMount",...$f(t.state)})},[d,p,t]),Yy(()=>{h&&!l&&(t.emit({type:"onResolved",...$f(t.state)}),t.__store.setState(g=>({...g,status:"idle",resolvedLocation:g.location})),V$(t))},[l,h,t]),null}function C9(t){const e=fr({select:i=>`not-found-${i.location.pathname}-${i.status}`});return n.jsx(ME,{getResetKey:()=>e,onCatch:(i,r)=>{var s;if(zo(i))(s=t.onCatch)==null||s.call(t,i,r);else throw i},errorComponent:({error:i})=>{var r;if(zo(i))return(r=t.fallback)==null?void 0:r.call(t,i);throw i},children:t.children})}function M9(){return n.jsx("p",{children:"Not Found"})}function Hm(t){return n.jsx(n.Fragment,{children:t.children})}function PI(t,e,i){return e.options.notFoundComponent?n.jsx(e.options.notFoundComponent,{data:i}):t.options.defaultNotFoundComponent?n.jsx(t.options.defaultNotFoundComponent,{data:i}):n.jsx(M9,{})}var QT,VL;function E9(){if(VL)return QT;VL=1;const t={},e=t.hasOwnProperty,i=(H,P)=>{for(const N in H)e.call(H,N)&&P(N,H[N])},r=(H,P)=>(P&&i(P,(N,G)=>{H[N]=G}),H),s=(H,P)=>{const N=H.length;let G=-1;for(;++G<N;)P(H[G])},a=H=>"\\u"+("0000"+H).slice(-4),o=(H,P)=>{let N=H.toString(16);return P?N:N.toUpperCase()},l=t.toString,h=Array.isArray,d=H=>typeof Buffer=="function"&&Buffer.isBuffer(H),p=H=>l.call(H)=="[object Object]",g=H=>typeof H=="string"||l.call(H)=="[object String]",v=H=>typeof H=="number"||l.call(H)=="[object Number]",_=H=>typeof H=="bigint",j=H=>typeof H=="function",T=H=>l.call(H)=="[object Map]",C=H=>l.call(H)=="[object Set]",w={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},A=/[\\\b\f\n\r\t]/,L=/[0-9]/,k=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,I=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,z=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,U=(H,P)=>{const N=()=>{q=O,++P.indentLevel,O=P.indent.repeat(P.indentLevel)},G={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},te=P&&P.json;te&&(G.quotes="double",G.wrap=!0),P=r(G,P),P.quotes!="single"&&P.quotes!="double"&&P.quotes!="backtick"&&(P.quotes="single");const Q=P.quotes=="double"?'"':P.quotes=="backtick"?"`":"'",K=P.compact,ee=P.lowercaseHex;let O=P.indent.repeat(P.indentLevel),q="";const V=P.__inline1__,le=P.__inline2__,W=K?"":`
`;let re,de=!0;const fe=P.numbers=="binary",ae=P.numbers=="octal",pe=P.numbers=="decimal",De=P.numbers=="hexadecimal";if(te&&H&&j(H.toJSON)&&(H=H.toJSON()),!g(H)){if(T(H))return H.size==0?"new Map()":(K||(P.__inline1__=!0,P.__inline2__=!1),"new Map("+U(Array.from(H),P)+")");if(C(H))return H.size==0?"new Set()":"new Set("+U(Array.from(H),P)+")";if(d(H))return H.length==0?"Buffer.from([])":"Buffer.from("+U(Array.from(H),P)+")";if(h(H))return re=[],P.wrap=!0,V&&(P.__inline1__=!1,P.__inline2__=!0),le||N(),s(H,Ue=>{de=!1,le&&(P.__inline2__=!1),re.push((K||le?"":O)+U(Ue,P))}),de?"[]":le?"["+re.join(", ")+"]":"["+W+re.join(","+W)+W+(K?"":q)+"]";if(v(H)||_(H)){if(te)return JSON.stringify(Number(H));let Ue;if(pe)Ue=String(H);else if(De){let Ze=H.toString(16);ee||(Ze=Ze.toUpperCase()),Ue="0x"+Ze}else fe?Ue="0b"+H.toString(2):ae&&(Ue="0o"+H.toString(8));return _(H)?Ue+"n":Ue}else return _(H)?te?JSON.stringify(Number(H)):H+"n":p(H)?(re=[],P.wrap=!0,N(),i(H,(Ue,Ze)=>{de=!1,re.push((K?"":O)+U(Ue,P)+":"+(K?"":" ")+U(Ze,P))}),de?"{}":"{"+W+re.join(","+W)+W+(K?"":q)+"}"):te?JSON.stringify(H)||"null":String(H)}const Be=P.escapeEverything?I:z;return re=H.replace(Be,(Ue,Ze,Je,Nt,Et,At)=>{if(Ze){if(P.minimal)return Ze;const rt=Ze.charCodeAt(0),qe=Ze.charCodeAt(1);if(P.es6){const We=(rt-55296)*1024+qe-56320+65536;return"\\u{"+o(We,ee)+"}"}return a(o(rt,ee))+a(o(qe,ee))}if(Je)return a(o(Je.charCodeAt(0),ee));if(Ue=="\0"&&!te&&!L.test(At.charAt(Et+1)))return"\\0";if(Nt)return Nt==Q||P.escapeEverything?"\\"+Nt:Nt;if(A.test(Ue))return w[Ue];if(P.minimal&&!k.test(Ue))return Ue;const ne=o(Ue.charCodeAt(0),ee);return te||ne.length>2?a(ne):"\\x"+("00"+ne).slice(-2)}),Q=="`"&&(re=re.replace(/\$\{/g,"\\${")),P.isScriptContext&&(re=re.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,te?"\\u003C!--":"\\x3C!--")),P.wrap&&(re=Q+re+Q),re};return U.version="3.0.2",QT=U,QT}E9();function A9({children:t,log:e}){return typeof document<"u"?null:n.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[t,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}function R9(){const t=po(),i=(t.options.getScrollRestorationKey||FC)(t.latestLocation),r=i!==FC(t.latestLocation)?i:null;return!t.isScrollRestoring||!t.isServer?null:n.jsx(A9,{children:`(${AI.toString()})(${JSON.stringify(Yj)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const OI=ze.memo(function({matchId:e}){var i,r;const s=po(),a=fr({select:L=>{const k=L.matches.find(I=>I.id===e);return Dh(k),qj(k,["routeId","ssr","_displayPending"])},structuralSharing:!0}),o=s.routesById[a.routeId],l=o.options.pendingComponent??s.options.defaultPendingComponent,h=l?n.jsx(l,{}):null,d=o.options.errorComponent??s.options.defaultErrorComponent,p=o.options.onCatch??s.options.defaultOnCatch,g=o.isRoot?o.options.notFoundComponent??((i=s.options.notFoundRoute)==null?void 0:i.options.component):o.options.notFoundComponent,v=a.ssr===!1||a.ssr==="data-only",_=(!o.isRoot||o.options.wrapInSuspense||v)&&(o.options.wrapInSuspense??l??(((r=o.options.errorComponent)==null?void 0:r.preload)||v))?ze.Suspense:Hm,j=d?ME:Hm,T=g?C9:Hm,C=fr({select:L=>L.loadedAt}),w=fr({select:L=>{var k;const I=L.matches.findIndex(z=>z.id===e);return(k=L.matches[I-1])==null?void 0:k.routeId}}),A=o.isRoot?o.options.shellComponent??Hm:Hm;return n.jsxs(A,{children:[n.jsx(I1.Provider,{value:e,children:n.jsx(_,{fallback:h,children:n.jsx(j,{getResetKey:()=>C,errorComponent:d||B1,onCatch:(L,k)=>{if(zo(L))throw L;p?.(L,k)},children:n.jsx(T,{fallback:L=>{if(!g||L.routeId&&L.routeId!==a.routeId||!L.routeId&&!o.isRoot)throw L;return ze.createElement(g,L)},children:v||s.isShell||a._displayPending?n.jsx(a9,{fallback:h,children:n.jsx(GL,{matchId:e})}):n.jsx(GL,{matchId:e})})})})}),w===Tl&&s.options.scrollRestoration?n.jsxs(n.Fragment,{children:[n.jsx(L9,{}),n.jsx(R9,{})]}):null]})});function L9(){const t=po(),e=ze.useRef(void 0);return n.jsx("script",{suppressHydrationWarning:!0,ref:i=>{i&&(e.current===void 0||e.current.href!==t.latestLocation.href)&&(t.emit({type:"onRendered",...$f(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const GL=ze.memo(function({matchId:e}){var i,r,s,a;const o=po(),{match:l,key:h,routeId:d}=fr({select:v=>{const _=v.matches.findIndex(L=>L.id===e),j=v.matches[_],T=j.routeId,C=o.routesById[T].options.remountDeps??o.options.defaultRemountDeps,w=C?.({routeId:T,loaderDeps:j.loaderDeps,params:j._strictParams,search:j._strictSearch});return{key:w?JSON.stringify(w):void 0,routeId:T,match:qj(j,["id","status","error","_forcePending","_displayPending"])}},structuralSharing:!0}),p=o.routesById[d],g=ze.useMemo(()=>{const v=p.options.component??o.options.defaultComponent;return v?n.jsx(v,{},h):n.jsx(U1,{})},[h,p.options.component,o.options.defaultComponent]);if(l._displayPending)throw(i=o.getMatch(l.id))==null?void 0:i.displayPendingPromise;if(l.status==="pending"||l._forcePending){const v=p.options.pendingMinMs??o.options.defaultPendingMinMs;if(v&&!((r=o.getMatch(l.id))!=null&&r.minPendingPromise)&&!o.isServer){const _=Tf();Promise.resolve().then(()=>{o.updateMatch(l.id,j=>({...j,minPendingPromise:_}))}),setTimeout(()=>{_.resolve(),o.updateMatch(l.id,j=>({...j,minPendingPromise:void 0}))},v)}throw(s=o.getMatch(l.id))==null?void 0:s.loadPromise}if(l.status==="notFound")return Dh(zo(l.error)),PI(o,p,l.error);if(l.status==="redirected")throw Dh(yc(l.error)),(a=o.getMatch(l.id))==null?void 0:a.loadPromise;if(l.status==="error"){if(o.isServer){const v=(p.options.errorComponent??o.options.defaultErrorComponent)||B1;return n.jsx(v,{error:l.error,reset:void 0,info:{componentStack:""}})}throw l.error}return g}),U1=ze.memo(function(){const e=po(),i=ze.useContext(I1),r=fr({select:d=>{var p;return(p=d.matches.find(g=>g.id===i))==null?void 0:p.routeId}}),s=e.routesById[r],a=fr({select:d=>{const g=d.matches.find(v=>v.id===i);return Dh(g),g.globalNotFound}}),o=fr({select:d=>{var p;const g=d.matches,v=g.findIndex(_=>_.id===i);return(p=g[v+1])==null?void 0:p.id}}),l=e.options.defaultPendingComponent?n.jsx(e.options.defaultPendingComponent,{}):null;if(a)return PI(e,s,void 0);if(!o)return null;const h=n.jsx(OI,{matchId:o});return i===Tl?n.jsx(ze.Suspense,{fallback:l,children:h}):h});function D9(){const t=po(),e=t.options.defaultPendingComponent?n.jsx(t.options.defaultPendingComponent,{}):null,i=t.isServer||typeof document<"u"&&t.clientSsr?Hm:ze.Suspense,r=n.jsxs(i,{fallback:e,children:[n.jsx(T9,{}),n.jsx(k9,{})]});return t.options.InnerWrap?n.jsx(t.options.InnerWrap,{children:r}):r}function k9(){const t=fr({select:i=>{var r;return(r=i.matches[0])==null?void 0:r.id}}),e=fr({select:i=>i.loadedAt});return n.jsx(I1.Provider,{value:t,children:n.jsx(ME,{getResetKey:()=>e,errorComponent:B1,onCatch:i=>{i.message||i.toString()},children:t?n.jsx(OI,{matchId:t}):null})})}const N9=t=>new P9(t);class P9 extends Z${constructor(e){super(e)}}typeof globalThis<"u"?(globalThis.createFileRoute=ve,globalThis.createLazyFileRoute=HL):typeof window<"u"&&(window.createFileRoute=ve,window.createFileRoute=HL);function O9({router:t,children:e,...i}){Object.keys(i).length>0&&t.update({...t.options,...i,context:{...t.options.context,...i.context}});const r=kI(),s=n.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?n.jsx(t.options.Wrap,{children:s}):s}function B9({router:t,...e}){return n.jsx(O9,{router:t,...e,children:n.jsx(D9,{})})}function I9({tag:t,attrs:e,children:i}){switch(t){case"title":return n.jsx("title",{...e,suppressHydrationWarning:!0,children:i});case"meta":return n.jsx("meta",{...e,suppressHydrationWarning:!0});case"link":return n.jsx("link",{...e,suppressHydrationWarning:!0});case"style":return n.jsx("style",{...e,dangerouslySetInnerHTML:{__html:i}});case"script":return n.jsx(F9,{attrs:e,children:i});default:return null}}function F9({attrs:t,children:e}){return ze.useEffect(()=>{if(t?.src){const i=document.createElement("script");for(const[r,s]of Object.entries(t))r!=="suppressHydrationWarning"&&s!==void 0&&s!==!1&&i.setAttribute(r,typeof s=="boolean"?"":String(s));return document.head.appendChild(i),()=>{i.parentNode&&i.parentNode.removeChild(i)}}if(typeof e=="string"){const i=document.createElement("script");if(i.textContent=e,t)for(const[r,s]of Object.entries(t))r!=="suppressHydrationWarning"&&s!==void 0&&s!==!1&&i.setAttribute(r,typeof s=="boolean"?"":String(s));return document.head.appendChild(i),()=>{i.parentNode&&i.parentNode.removeChild(i)}}},[t,e]),t?.src&&typeof t.src=="string"?n.jsx("script",{...t,suppressHydrationWarning:!0}):typeof e=="string"?n.jsx("script",{...t,dangerouslySetInnerHTML:{__html:e},suppressHydrationWarning:!0}):null}const U9=()=>{const t=po(),e=fr({select:l=>l.matches.map(h=>h.meta).filter(Boolean)}),i=ze.useMemo(()=>{const l=[],h={};let d;return[...e].reverse().forEach(p=>{[...p].reverse().forEach(g=>{if(g)if(g.title)d||(d={tag:"title",children:g.title});else{const v=g.name??g.property;if(v){if(h[v])return;h[v]=!0}l.push({tag:"meta",attrs:{...g}})}})}),d&&l.push(d),l.reverse(),l},[e]),r=fr({select:l=>{var h;const d=l.matches.map(v=>v.links).filter(Boolean).flat(1).map(v=>({tag:"link",attrs:{...v}})),p=(h=t.ssr)==null?void 0:h.manifest,g=l.matches.map(v=>{var _;return((_=p?.routes[v.routeId])==null?void 0:_.assets)??[]}).filter(Boolean).flat(1).filter(v=>v.tag==="link").map(v=>({tag:"link",attrs:{...v.attrs,suppressHydrationWarning:!0}}));return[...d,...g]},structuralSharing:!0}),s=fr({select:l=>{const h=[];return l.matches.map(d=>t.looseRoutesById[d.routeId]).forEach(d=>{var p,g,v,_;return(_=(v=(g=(p=t.ssr)==null?void 0:p.manifest)==null?void 0:g.routes[d.id])==null?void 0:v.preloads)==null?void 0:_.filter(Boolean).forEach(j=>{h.push({tag:"link",attrs:{rel:"modulepreload",href:j}})})}),h},structuralSharing:!0}),a=fr({select:l=>l.matches.map(h=>h.styles).flat(1).filter(Boolean).map(({children:h,...d})=>({tag:"style",attrs:d,children:h})),structuralSharing:!0}),o=fr({select:l=>l.matches.map(h=>h.headScripts).flat(1).filter(Boolean).map(({children:h,...d})=>({tag:"script",attrs:{...d},children:h})),structuralSharing:!0});return H9([...i,...s,...r,...a,...o],l=>JSON.stringify(l))};function z9(){return U9().map(e=>ze.createElement(I9,{...e,key:`tsr-meta-${JSON.stringify(e)}`}))}function H9(t,e){const i=new Set;return t.filter(r=>{const s=e(r);return i.has(s)?!1:(i.add(s),!0)})}const V9="modulepreload",G9=function(t){return"/"+t},$L={},ie=function(e,i,r){let s=Promise.resolve();if(i&&i.length>0){let h=function(d){return Promise.all(d.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");s=h(i.map(d=>{if(d=G9(d),d in $L)return;$L[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":V9,p||(v.as="script"),v.crossOrigin="",v.href=d,l&&v.setAttribute("nonce",l),document.head.appendChild(v),p)return new Promise((_,j)=>{v.addEventListener("load",_),v.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return e().catch(a)})};function $9({show:t,wait:e}){return n.jsx("div",{className:`inline-block animate-spin px-3 transition ${t??!0?`opacity-1 duration-500 ${e??"delay-300"}`:"duration-500 opacity-0 delay-0"}`,children:"⍥"})}const q9=()=>{const t=fr({select:e=>e.status==="pending"});return n.jsx($9,{show:t})};function W9(){return NI.createPortal(n.jsx(z9,{}),document.head)}const uv=w9({head:()=>({meta:[{name:"description",content:"Gitsunmin's website | 김선민의 웹사이트"},{title:"Gitsunmin"}]}),pendingComponent:()=>n.jsx(q9,{}),component:()=>n.jsxs(n.Fragment,{children:[n.jsx(W9,{}),n.jsx(U1,{}),!1]})}),JT={darkMode:["false","true"]},X9={darkMode:"false"},e2={get:t=>{const e=localStorage.getItem(t);return e===null?X9[t]:(console.warn(`Invalid value for ${t}: ${e}. Expected one of ${JT[t].join(", ")}`),e)},set:(t,e)=>{JT[t].includes(e)?localStorage.setItem(t,e):console.warn(`Invalid value for ${t}: ${e}. Expected one of ${JT[t].join(", ")}`)}};function BI(){const[t,e]=ze.useState(()=>{const i=e2.get("darkMode");return i!==null?i==="true":window.matchMedia("(prefers-color-scheme: dark)").matches});return ze.useEffect(()=>{t?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),e2.set("darkMode",t?"true":"false")},[t]),ze.useEffect(()=>{const i=window.matchMedia("(prefers-color-scheme: dark)"),r=s=>{e2.get("darkMode")==="false"&&e(s.matches)};return i.addEventListener("change",r),()=>i.removeEventListener("change",r)},[e]),{darkMode:t,setDarkMode:e}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K9=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,r)=>r?r.toUpperCase():i.toLowerCase()),qL=t=>{const e=K9(t);return e.charAt(0).toUpperCase()+e.slice(1)},II=(...t)=>t.filter((e,i,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===i).join(" ").trim(),Z9=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Q9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=ze.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:o,...l},h)=>ze.createElement("svg",{ref:h,...Q9,width:e,height:e,stroke:t,strokeWidth:r?Number(i)*24/Number(e):i,className:II("lucide",s),...!a&&!Z9(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,p])=>ze.createElement(d,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=(t,e)=>{const i=ze.forwardRef(({className:r,...s},a)=>ze.createElement(J9,{ref:a,iconNode:e,className:II(`lucide-${Y9(qL(t))}`,`lucide-${t}`,r),...s}));return i.displayName=qL(t),i};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],FI=hd("arrow-left",e7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],n7=hd("mic",t7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],r7=hd("moon",i7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],a7=hd("pause",s7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],l7=hd("play",o7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],h7=hd("square",c7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],d7=hd("sun",u7);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],p7=hd("type",f7);function UI(t){var e,i,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(i=UI(t[e]))&&(r&&(r+=" "),r+=i)}else for(i in t)t[i]&&(r&&(r+=" "),r+=i);return r}function m7(){for(var t,e,i=0,r="",s=arguments.length;i<s;i++)(t=arguments[i])&&(e=UI(t))&&(r&&(r+=" "),r+=e);return r}const DE="-",g7=t=>{const e=y7(t),{conflictingClassGroups:i,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(DE);return l[0]===""&&l.length!==1&&l.shift(),zI(l,e)||x7(o)},getConflictingClassGroupIds:(o,l)=>{const h=i[o]||[];return l&&r[o]?[...h,...r[o]]:h}}},zI=(t,e)=>{if(t.length===0)return e.classGroupId;const i=t[0],r=e.nextPart.get(i),s=r?zI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join(DE);return e.validators.find(({validator:o})=>o(a))?.classGroupId},WL=/^\[(.+)\]$/,x7=t=>{if(WL.test(t)){const e=WL.exec(t)[1],i=e?.substring(0,e.indexOf(":"));if(i)return"arbitrary.."+i}},y7=t=>{const{theme:e,classGroups:i}=t,r={nextPart:new Map,validators:[]};for(const s in i)zC(i[s],r,s,e);return r},zC=(t,e,i,r)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:XL(e,s);a.classGroupId=i;return}if(typeof s=="function"){if(v7(s)){zC(s(r),e,i,r);return}e.validators.push({validator:s,classGroupId:i});return}Object.entries(s).forEach(([a,o])=>{zC(o,XL(e,a),i,r)})})},XL=(t,e)=>{let i=t;return e.split(DE).forEach(r=>{i.nextPart.has(r)||i.nextPart.set(r,{nextPart:new Map,validators:[]}),i=i.nextPart.get(r)}),i},v7=t=>t.isThemeGetter,_7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,i=new Map,r=new Map;const s=(a,o)=>{i.set(a,o),e++,e>t&&(e=0,r=i,i=new Map)};return{get(a){let o=i.get(a);if(o!==void 0)return o;if((o=r.get(a))!==void 0)return s(a,o),o},set(a,o){i.has(a)?i.set(a,o):s(a,o)}}},HC="!",VC=":",b7=VC.length,j7=t=>{const{prefix:e,experimentalParseClassName:i}=t;let r=s=>{const a=[];let o=0,l=0,h=0,d;for(let j=0;j<s.length;j++){let T=s[j];if(o===0&&l===0){if(T===VC){a.push(s.slice(h,j)),h=j+b7;continue}if(T==="/"){d=j;continue}}T==="["?o++:T==="]"?o--:T==="("?l++:T===")"&&l--}const p=a.length===0?s:s.substring(h),g=S7(p),v=g!==p,_=d&&d>h?d-h:void 0;return{modifiers:a,hasImportantModifier:v,baseClassName:g,maybePostfixModifierPosition:_}};if(e){const s=e+VC,a=r;r=o=>o.startsWith(s)?a(o.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(i){const s=r;r=a=>i({className:a,parseClassName:s})}return r},S7=t=>t.endsWith(HC)?t.substring(0,t.length-1):t.startsWith(HC)?t.substring(1):t,w7=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let a=[];return r.forEach(o=>{o[0]==="["||e[o]?(s.push(...a.sort(),o),a=[]):a.push(o)}),s.push(...a.sort()),s}},T7=t=>({cache:_7(t.cacheSize),parseClassName:j7(t),sortModifiers:w7(t),...g7(t)}),C7=/\s+/,M7=(t,e)=>{const{parseClassName:i,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:a}=e,o=[],l=t.trim().split(C7);let h="";for(let d=l.length-1;d>=0;d-=1){const p=l[d],{isExternal:g,modifiers:v,hasImportantModifier:_,baseClassName:j,maybePostfixModifierPosition:T}=i(p);if(g){h=p+(h.length>0?" "+h:h);continue}let C=!!T,w=r(C?j.substring(0,T):j);if(!w){if(!C){h=p+(h.length>0?" "+h:h);continue}if(w=r(j),!w){h=p+(h.length>0?" "+h:h);continue}C=!1}const A=a(v).join(":"),L=_?A+HC:A,k=L+w;if(o.includes(k))continue;o.push(k);const I=s(w,C);for(let z=0;z<I.length;++z){const U=I[z];o.push(L+U)}h=p+(h.length>0?" "+h:h)}return h};function E7(){let t=0,e,i,r="";for(;t<arguments.length;)(e=arguments[t++])&&(i=HI(e))&&(r&&(r+=" "),r+=i);return r}const HI=t=>{if(typeof t=="string")return t;let e,i="";for(let r=0;r<t.length;r++)t[r]&&(e=HI(t[r]))&&(i&&(i+=" "),i+=e);return i};function A7(t,...e){let i,r,s,a=o;function o(h){const d=e.reduce((p,g)=>g(p),t());return i=T7(d),r=i.cache.get,s=i.cache.set,a=l,l(h)}function l(h){const d=r(h);if(d)return d;const p=M7(h,i);return s(h,p),p}return function(){return a(E7.apply(null,arguments))}}const Br=t=>{const e=i=>i[t]||[];return e.isThemeGetter=!0,e},VI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,GI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,R7=/^\d+\/\d+$/,L7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,N7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,P7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xm=t=>R7.test(t),On=t=>!!t&&!Number.isNaN(Number(t)),Nu=t=>!!t&&Number.isInteger(Number(t)),t2=t=>t.endsWith("%")&&On(t.slice(0,-1)),hh=t=>L7.test(t),O7=()=>!0,B7=t=>D7.test(t)&&!k7.test(t),$I=()=>!1,I7=t=>N7.test(t),F7=t=>P7.test(t),U7=t=>!Bt(t)&&!It(t),z7=t=>Hg(t,XI,$I),Bt=t=>VI.test(t),cf=t=>Hg(t,YI,B7),n2=t=>Hg(t,q7,On),YL=t=>Hg(t,qI,$I),H7=t=>Hg(t,WI,F7),hb=t=>Hg(t,KI,I7),It=t=>GI.test(t),_y=t=>Vg(t,YI),V7=t=>Vg(t,W7),KL=t=>Vg(t,qI),G7=t=>Vg(t,XI),$7=t=>Vg(t,WI),ub=t=>Vg(t,KI,!0),Hg=(t,e,i)=>{const r=VI.exec(t);return r?r[1]?e(r[1]):i(r[2]):!1},Vg=(t,e,i=!1)=>{const r=GI.exec(t);return r?r[1]?e(r[1]):i:!1},qI=t=>t==="position"||t==="percentage",WI=t=>t==="image"||t==="url",XI=t=>t==="length"||t==="size"||t==="bg-size",YI=t=>t==="length",q7=t=>t==="number",W7=t=>t==="family-name",KI=t=>t==="shadow",X7=()=>{const t=Br("color"),e=Br("font"),i=Br("text"),r=Br("font-weight"),s=Br("tracking"),a=Br("leading"),o=Br("breakpoint"),l=Br("container"),h=Br("spacing"),d=Br("radius"),p=Br("shadow"),g=Br("inset-shadow"),v=Br("text-shadow"),_=Br("drop-shadow"),j=Br("blur"),T=Br("perspective"),C=Br("aspect"),w=Br("ease"),A=Br("animate"),L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],k=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...k(),It,Bt],z=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],H=()=>[It,Bt,h],P=()=>[xm,"full","auto",...H()],N=()=>[Nu,"none","subgrid",It,Bt],G=()=>["auto",{span:["full",Nu,It,Bt]},Nu,It,Bt],te=()=>[Nu,"auto",It,Bt],Q=()=>["auto","min","max","fr",It,Bt],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],O=()=>["auto",...H()],q=()=>[xm,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],V=()=>[t,It,Bt],le=()=>[...k(),KL,YL,{position:[It,Bt]}],W=()=>["no-repeat",{repeat:["","x","y","space","round"]}],re=()=>["auto","cover","contain",G7,z7,{size:[It,Bt]}],de=()=>[t2,_y,cf],fe=()=>["","none","full",d,It,Bt],ae=()=>["",On,_y,cf],pe=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Be=()=>[On,t2,KL,YL],Ue=()=>["","none",j,It,Bt],Ze=()=>["none",On,It,Bt],Je=()=>["none",On,It,Bt],Nt=()=>[On,It,Bt],Et=()=>[xm,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hh],breakpoint:[hh],color:[O7],container:[hh],"drop-shadow":[hh],ease:["in","out","in-out"],font:[U7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hh],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hh],shadow:[hh],spacing:["px",On],text:[hh],"text-shadow":[hh],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",xm,Bt,It,C]}],container:["container"],columns:[{columns:[On,Bt,It,l]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Nu,"auto",It,Bt]}],basis:[{basis:[xm,"full","auto",l,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[On,xm,"auto","initial","none",Bt]}],grow:[{grow:["",On,It,Bt]}],shrink:[{shrink:["",On,It,Bt]}],order:[{order:[Nu,"first","last","none",It,Bt]}],"grid-cols":[{"grid-cols":N()}],"col-start-end":[{col:G()}],"col-start":[{"col-start":te()}],"col-end":[{"col-end":te()}],"grid-rows":[{"grid-rows":N()}],"row-start-end":[{row:G()}],"row-start":[{"row-start":te()}],"row-end":[{"row-end":te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:O()}],mx:[{mx:O()}],my:[{my:O()}],ms:[{ms:O()}],me:[{me:O()}],mt:[{mt:O()}],mr:[{mr:O()}],mb:[{mb:O()}],ml:[{ml:O()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[l,"screen",...q()]}],"min-w":[{"min-w":[l,"screen","none",...q()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",i,_y,cf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,It,n2]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",t2,Bt]}],"font-family":[{font:[V7,Bt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,It,Bt]}],"line-clamp":[{"line-clamp":[On,"none",It,n2]}],leading:[{leading:[a,...H()]}],"list-image":[{"list-image":["none",It,Bt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",It,Bt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[On,"from-font","auto",It,cf]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[On,"auto",It,Bt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",It,Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",It,Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:W()}],"bg-size":[{bg:re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Nu,It,Bt],radial:["",It,Bt],conic:[Nu,It,Bt]},$7,H7]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:de()}],"gradient-via-pos":[{via:de()}],"gradient-to-pos":[{to:de()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:fe()}],"rounded-s":[{"rounded-s":fe()}],"rounded-e":[{"rounded-e":fe()}],"rounded-t":[{"rounded-t":fe()}],"rounded-r":[{"rounded-r":fe()}],"rounded-b":[{"rounded-b":fe()}],"rounded-l":[{"rounded-l":fe()}],"rounded-ss":[{"rounded-ss":fe()}],"rounded-se":[{"rounded-se":fe()}],"rounded-ee":[{"rounded-ee":fe()}],"rounded-es":[{"rounded-es":fe()}],"rounded-tl":[{"rounded-tl":fe()}],"rounded-tr":[{"rounded-tr":fe()}],"rounded-br":[{"rounded-br":fe()}],"rounded-bl":[{"rounded-bl":fe()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...pe(),"hidden","none"]}],"divide-style":[{divide:[...pe(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[On,It,Bt]}],"outline-w":[{outline:["",On,_y,cf]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",p,ub,hb]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",g,ub,hb]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[On,cf]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",v,ub,hb]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[On,It,Bt]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[On]}],"mask-image-linear-from-pos":[{"mask-linear-from":Be()}],"mask-image-linear-to-pos":[{"mask-linear-to":Be()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":Be()}],"mask-image-t-to-pos":[{"mask-t-to":Be()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":Be()}],"mask-image-r-to-pos":[{"mask-r-to":Be()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":Be()}],"mask-image-b-to-pos":[{"mask-b-to":Be()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":Be()}],"mask-image-l-to-pos":[{"mask-l-to":Be()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":Be()}],"mask-image-x-to-pos":[{"mask-x-to":Be()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":Be()}],"mask-image-y-to-pos":[{"mask-y-to":Be()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[It,Bt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Be()}],"mask-image-radial-to-pos":[{"mask-radial-to":Be()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":k()}],"mask-image-conic-pos":[{"mask-conic":[On]}],"mask-image-conic-from-pos":[{"mask-conic-from":Be()}],"mask-image-conic-to-pos":[{"mask-conic-to":Be()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:W()}],"mask-size":[{mask:re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",It,Bt]}],filter:[{filter:["","none",It,Bt]}],blur:[{blur:Ue()}],brightness:[{brightness:[On,It,Bt]}],contrast:[{contrast:[On,It,Bt]}],"drop-shadow":[{"drop-shadow":["","none",_,ub,hb]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",On,It,Bt]}],"hue-rotate":[{"hue-rotate":[On,It,Bt]}],invert:[{invert:["",On,It,Bt]}],saturate:[{saturate:[On,It,Bt]}],sepia:[{sepia:["",On,It,Bt]}],"backdrop-filter":[{"backdrop-filter":["","none",It,Bt]}],"backdrop-blur":[{"backdrop-blur":Ue()}],"backdrop-brightness":[{"backdrop-brightness":[On,It,Bt]}],"backdrop-contrast":[{"backdrop-contrast":[On,It,Bt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",On,It,Bt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[On,It,Bt]}],"backdrop-invert":[{"backdrop-invert":["",On,It,Bt]}],"backdrop-opacity":[{"backdrop-opacity":[On,It,Bt]}],"backdrop-saturate":[{"backdrop-saturate":[On,It,Bt]}],"backdrop-sepia":[{"backdrop-sepia":["",On,It,Bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",It,Bt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[On,"initial",It,Bt]}],ease:[{ease:["linear","initial",w,It,Bt]}],delay:[{delay:[On,It,Bt]}],animate:[{animate:["none",A,It,Bt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,It,Bt]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Ze()}],"rotate-x":[{"rotate-x":Ze()}],"rotate-y":[{"rotate-y":Ze()}],"rotate-z":[{"rotate-z":Ze()}],scale:[{scale:Je()}],"scale-x":[{"scale-x":Je()}],"scale-y":[{"scale-y":Je()}],"scale-z":[{"scale-z":Je()}],"scale-3d":["scale-3d"],skew:[{skew:Nt()}],"skew-x":[{"skew-x":Nt()}],"skew-y":[{"skew-y":Nt()}],transform:[{transform:[It,Bt,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Et()}],"translate-x":[{"translate-x":Et()}],"translate-y":[{"translate-y":Et()}],"translate-z":[{"translate-z":Et()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",It,Bt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",It,Bt]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[On,_y,cf,n2]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},ZI=A7(X7);function Us(...t){return ZI(m7(t))}const Th=t=>{const{className:e,variant:i,disabled:r,children:s,onClick:a}=t;return n.jsx("button",{type:"button",className:Us("cursor-pointer transition-colors duration-200 ease-in-out","disabled:cursor-not-allowed disabled:opacity-50",{"bg-primary px-4 py-2 rounded-md":i==="primary","bg-inherit outline-1 outline-primary-foreground":i==="outline","bg-transparent p-1":i==="ghost"},e),disabled:r,onClick:a,children:n.jsx("div",{className:Us({"text-primary-foreground":i==="primary","text-muted-foreground":i==="outline"},"text-center"),children:s})})},QI="/assets/gitsunmin-BHaZUK0G.webp",JI=({title:t="Gitsunmin",className:e})=>{const i=()=>{window.history.back()};return n.jsx(n.Fragment,{children:n.jsxs("header",{className:Us("px-4 py-1 md:py-2 shadow-xs dark:shadow-gray-800 backdrop-blur-md md:justify-start md:gap-4","flex items-center justify-between","fixed top-0 left-0 right-0 z-header",e),children:[n.jsx(Th,{variant:"ghost",className:"lg:hidden",onClick:i,children:n.jsx(FI,{})}),n.jsxs(zg,{to:"/",className:"flex items-center gap-2 py-1 justify-center md:justify-start",children:[n.jsx("span",{className:"hidden md:block",children:n.jsx("img",{src:QI,alt:"logo",className:"h-10 w-10 rounded-full"})}),n.jsxs("span",{children:[n.jsx("h1",{className:"text-2xl font-bold hidden md:block","aria-label":"테크스탑용 제목",children:"Gitsunmin"}),n.jsx("h1",{className:"text-2xl font-bold md:hidden","aria-label":"모바일용 제목",children:t})]})]}),n.jsx("div",{className:"size-10"})]})})};function eF(){const[t,e]=ze.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("fontSize");return s==="small"||s==="medium"||s==="large"?s:"medium"}return"medium"});ze.useEffect(()=>{if(typeof window>"u")return;localStorage.setItem("fontSize",t),document.documentElement.classList.remove("text-small","text-medium","text-large"),document.documentElement.classList.add(`text-${t}`);const s=t==="small"?"0.875":t==="large"?"1.125":"1";document.documentElement.style.setProperty("--font-size-scale",s)},[t]);const i=ze.useCallback(s=>{e(s)},[]),r=ze.useCallback(s=>{switch(s){case"heading":return t==="small"?"text-xl md:text-2xl":t==="medium"?"text-2xl md:text-3xl":"text-3xl md:text-4xl";case"body":return t==="small"?"text-sm":t==="medium"?"text-base":"text-lg";case"small-text":return t==="small"?"text-xs":t==="medium"?"text-sm":"text-base";default:return""}},[t]);return{fontSize:t,changeFontSize:i,getFontSizeClass:r}}const Y7=ve("/settings")({component:K7});function K7(){const{darkMode:t,setDarkMode:e}=BI(),{fontSize:i,changeFontSize:r}=eF();return n.jsxs(n.Fragment,{children:[n.jsx(JI,{title:"Settings"}),n.jsx("div",{className:"max-w-3xl mx-auto mt-12 px-4 py-8 w-full",children:n.jsxs("div",{className:"bg-card rounded-lg shadow-sm dark:shadow-gray-600 divide-y",children:[n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[t?n.jsx(r7,{className:"h-5 w-5 text-blue-400"}):n.jsx(d7,{className:"h-5 w-5 text-yellow-500"}),n.jsx("span",{className:"font-medium",children:"테마 모드"})]}),n.jsx("button",{type:"button",onClick:()=>e(!t),className:"flex items-center justify-center h-6 w-12 rounded-full relative bg-secondary","aria-label":t?"라이트 모드로 전환":"다크 모드로 전환",children:n.jsx("div",{className:`absolute h-5 w-5 rounded-full bg-primary transition-transform ${t?"translate-x-3":"-translate-x-3"}`})})]}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t?"다크 모드가 활성화되어 있습니다.":"라이트 모드가 활성화되어 있습니다."})]}),n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(p7,{className:"h-5 w-5 text-blue-400"}),n.jsx("span",{className:"font-medium",children:"폰트 크기"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"컨텐츠의 텍스트 크기를 조절합니다."}),n.jsx("div",{className:"flex gap-2",children:["small","medium","large"].map(s=>n.jsx("button",{type:"button",onClick:()=>r(s),className:`px-3 py-1.5 rounded-md text-sm ${i===s?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground hover:bg-secondary/80"}`,children:s==="small"?"작게":s==="medium"?"보통":"크게"},s))})]})]})})]})}const Z7=({children:t,header:e,footer:i,className:r})=>n.jsxs(n.Fragment,{children:[e,n.jsx("main",{className:Us("flex flex-col justify-center min-h-[calc(100dvh-48px)] md:min-h-[calc(100dvh-64px)] w-full",r),children:t}),i]}),Q7=ve("/_layout")({component:J7});function J7(){return n.jsx(Z7,{header:n.jsx(JI,{}),className:"pt-12 md:pt-16",children:n.jsx(U1,{})})}const eq=ve("/_books")({component:tq});function tq(){const t=()=>{window.history.back()};return n.jsxs(n.Fragment,{children:[n.jsx(Th,{variant:"ghost",className:"shadow-lg rounded-full absolute top-2 left-4 bg-background",onClick:t,children:n.jsx(FI,{})}),n.jsx(U1,{})]})}const Ba=Symbol.for("@ts-pattern/matcher"),tF=Symbol.for("@ts-pattern/isVariadic"),Qj="@ts-pattern/anonymous-select-key",GC=t=>!!(t&&typeof t=="object"),bj=t=>t&&!!t[Ba],ps=(t,e,i)=>{if(bj(t)){const r=t[Ba](),{matched:s,selections:a}=r.match(e);return s&&a&&Object.keys(a).forEach(o=>i(o,a[o])),s}if(GC(t)){if(!GC(e))return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;let r=[],s=[],a=[];for(const o of t.keys()){const l=t[o];bj(l)&&l[tF]?a.push(l):a.length?s.push(l):r.push(l)}if(a.length){if(a.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<r.length+s.length)return!1;const o=e.slice(0,r.length),l=s.length===0?[]:e.slice(-s.length),h=e.slice(r.length,s.length===0?1/0:-s.length);return r.every((d,p)=>ps(d,o[p],i))&&s.every((d,p)=>ps(d,l[p],i))&&(a.length===0||ps(a[0],h,i))}return t.length===e.length&&t.every((o,l)=>ps(o,e[l],i))}return Reflect.ownKeys(t).every(r=>{const s=t[r];return(r in e||bj(a=s)&&a[Ba]().matcherType==="optional")&&ps(s,e[r],i);var a})}return Object.is(e,t)},co=t=>{var e,i,r;return GC(t)?bj(t)?(e=(i=(r=t[Ba]()).getSelectionKeys)==null?void 0:i.call(r))!=null?e:[]:Array.isArray(t)?M0(t,co):M0(Object.values(t),co):[]},M0=(t,e)=>t.reduce((i,r)=>i.concat(e(r)),[]);function nq(...t){if(t.length===1){const[e]=t;return i=>ps(e,i,()=>{})}if(t.length===2){const[e,i]=t;return ps(e,i,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${t.length}.`)}function ms(t){return Object.assign(t,{optional:()=>kE(t),and:e=>Oi(t,e),or:e=>nF(t,e),select:e=>e===void 0?E0(t):E0(e,t)})}function $C(t){return Object.assign((e=>Object.assign(e,{[Symbol.iterator](){let i=0;const r=[{value:Object.assign(e,{[tF]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var s;return(s=r[i++])!=null?s:r.at(-1)}}}}))(t),{optional:()=>$C(kE(t)),select:e=>$C(e===void 0?E0(t):E0(e,t))})}function kE(t){return ms({[Ba]:()=>({match:e=>{let i={};const r=(s,a)=>{i[s]=a};return e===void 0?(co(t).forEach(s=>r(s,void 0)),{matched:!0,selections:i}):{matched:ps(t,e,r),selections:i}},getSelectionKeys:()=>co(t),matcherType:"optional"})})}const iq=(t,e)=>{for(const i of t)if(!e(i))return!1;return!0},rq=(t,e)=>{for(const[i,r]of t.entries())if(!e(r,i))return!1;return!0};function Oi(...t){return ms({[Ba]:()=>({match:e=>{let i={};const r=(s,a)=>{i[s]=a};return{matched:t.every(s=>ps(s,e,r)),selections:i}},getSelectionKeys:()=>M0(t,co),matcherType:"and"})})}function nF(...t){return ms({[Ba]:()=>({match:e=>{let i={};const r=(s,a)=>{i[s]=a};return M0(t,co).forEach(s=>r(s,void 0)),{matched:t.some(s=>ps(s,e,r)),selections:i}},getSelectionKeys:()=>M0(t,co),matcherType:"or"})})}function Yn(t){return{[Ba]:()=>({match:e=>({matched:!!t(e)})})}}function E0(...t){const e=typeof t[0]=="string"?t[0]:void 0,i=t.length===2?t[1]:typeof t[0]=="string"?void 0:t[0];return ms({[Ba]:()=>({match:r=>{let s={[e??Qj]:r};return{matched:i===void 0||ps(i,r,(a,o)=>{s[a]=o}),selections:s}},getSelectionKeys:()=>[e??Qj].concat(i===void 0?[]:co(i))})})}function vc(t){return typeof t=="number"}function Hu(t){return typeof t=="string"}function Vu(t){return typeof t=="bigint"}const iF=ms(Yn(function(t){return!0})),sq=iF,Gu=t=>Object.assign(ms(t),{startsWith:e=>{return Gu(Oi(t,(i=e,Yn(r=>Hu(r)&&r.startsWith(i)))));var i},endsWith:e=>{return Gu(Oi(t,(i=e,Yn(r=>Hu(r)&&r.endsWith(i)))));var i},minLength:e=>Gu(Oi(t,(i=>Yn(r=>Hu(r)&&r.length>=i))(e))),length:e=>Gu(Oi(t,(i=>Yn(r=>Hu(r)&&r.length===i))(e))),maxLength:e=>Gu(Oi(t,(i=>Yn(r=>Hu(r)&&r.length<=i))(e))),includes:e=>{return Gu(Oi(t,(i=e,Yn(r=>Hu(r)&&r.includes(i)))));var i},regex:e=>{return Gu(Oi(t,(i=e,Yn(r=>Hu(r)&&!!r.match(i)))));var i}}),aq=Gu(Yn(Hu)),_c=t=>Object.assign(ms(t),{between:(e,i)=>_c(Oi(t,((r,s)=>Yn(a=>vc(a)&&r<=a&&s>=a))(e,i))),lt:e=>_c(Oi(t,(i=>Yn(r=>vc(r)&&r<i))(e))),gt:e=>_c(Oi(t,(i=>Yn(r=>vc(r)&&r>i))(e))),lte:e=>_c(Oi(t,(i=>Yn(r=>vc(r)&&r<=i))(e))),gte:e=>_c(Oi(t,(i=>Yn(r=>vc(r)&&r>=i))(e))),int:()=>_c(Oi(t,Yn(e=>vc(e)&&Number.isInteger(e)))),finite:()=>_c(Oi(t,Yn(e=>vc(e)&&Number.isFinite(e)))),positive:()=>_c(Oi(t,Yn(e=>vc(e)&&e>0))),negative:()=>_c(Oi(t,Yn(e=>vc(e)&&e<0)))}),oq=_c(Yn(vc)),$u=t=>Object.assign(ms(t),{between:(e,i)=>$u(Oi(t,((r,s)=>Yn(a=>Vu(a)&&r<=a&&s>=a))(e,i))),lt:e=>$u(Oi(t,(i=>Yn(r=>Vu(r)&&r<i))(e))),gt:e=>$u(Oi(t,(i=>Yn(r=>Vu(r)&&r>i))(e))),lte:e=>$u(Oi(t,(i=>Yn(r=>Vu(r)&&r<=i))(e))),gte:e=>$u(Oi(t,(i=>Yn(r=>Vu(r)&&r>=i))(e))),positive:()=>$u(Oi(t,Yn(e=>Vu(e)&&e>0))),negative:()=>$u(Oi(t,Yn(e=>Vu(e)&&e<0)))}),lq=$u(Yn(Vu)),cq=ms(Yn(function(t){return typeof t=="boolean"})),hq=ms(Yn(function(t){return typeof t=="symbol"})),uq=ms(Yn(function(t){return t==null})),dq=ms(Yn(function(t){return t!=null}));var fs={__proto__:null,matcher:Ba,optional:kE,array:function(...t){return $C({[Ba]:()=>({match:e=>{if(!Array.isArray(e))return{matched:!1};if(t.length===0)return{matched:!0};const i=t[0];let r={};if(e.length===0)return co(i).forEach(a=>{r[a]=[]}),{matched:!0,selections:r};const s=(a,o)=>{r[a]=(r[a]||[]).concat([o])};return{matched:e.every(a=>ps(i,a,s)),selections:r}},getSelectionKeys:()=>t.length===0?[]:co(t[0])})})},set:function(...t){return ms({[Ba]:()=>({match:e=>{if(!(e instanceof Set))return{matched:!1};let i={};if(e.size===0)return{matched:!0,selections:i};if(t.length===0)return{matched:!0};const r=(a,o)=>{i[a]=(i[a]||[]).concat([o])},s=t[0];return{matched:iq(e,a=>ps(s,a,r)),selections:i}},getSelectionKeys:()=>t.length===0?[]:co(t[0])})})},map:function(...t){return ms({[Ba]:()=>({match:e=>{if(!(e instanceof Map))return{matched:!1};let i={};if(e.size===0)return{matched:!0,selections:i};const r=(l,h)=>{i[l]=(i[l]||[]).concat([h])};if(t.length===0)return{matched:!0};var s;if(t.length===1)throw new Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${(s=t[0])==null?void 0:s.toString()}`);const[a,o]=t;return{matched:rq(e,(l,h)=>{const d=ps(a,h,r),p=ps(o,l,r);return d&&p}),selections:i}},getSelectionKeys:()=>t.length===0?[]:[...co(t[0]),...co(t[1])]})})},intersection:Oi,union:nF,not:function(t){return ms({[Ba]:()=>({match:e=>({matched:!ps(t,e,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})})},when:Yn,select:E0,any:iF,_:sq,string:aq,number:oq,bigint:lq,boolean:cq,symbol:hq,nullish:uq,nonNullable:dq,instanceOf:function(t){return ms(Yn(function(e){return i=>i instanceof e}(t)))},shape:function(t){return ms(Yn(nq(t)))}};let fq=class extends Error{constructor(e){let i;try{i=JSON.stringify(e)}catch{i=e}super(`Pattern matching error: no pattern matches value ${i}`),this.input=void 0,this.input=e}};const qC={matched:!1,value:void 0};function Ho(t){return new pq(t,qC)}let pq=class WC{constructor(e,i){this.input=void 0,this.state=void 0,this.input=e,this.state=i}with(...e){if(this.state.matched)return this;const i=e[e.length-1],r=[e[0]];let s;e.length===3&&typeof e[1]=="function"?s=e[1]:e.length>2&&r.push(...e.slice(1,e.length-1));let a=!1,o={};const l=(d,p)=>{a=!0,o[d]=p},h=!r.some(d=>ps(d,this.input,l))||s&&!s(this.input)?qC:{matched:!0,value:i(a?Qj in o?o[Qj]:o:this.input,this.input)};return new WC(this.input,h)}when(e,i){if(this.state.matched)return this;const r=!!e(this.input);return new WC(this.input,r?{matched:!0,value:i(this.input,this.input)}:qC)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(e=mq){return this.state.matched?this.state.value:e(this.input)}run(){return this.exhaustive()}returnType(){return this}};function mq(t){throw new fq(t)}const gq=()=>{const[t,e]=ze.useState(!1),[i,r]=ze.useState(""),[s,a]=ze.useState("ENDED"),o=ze.useRef(null),l=ze.useRef([]),h=ze.useRef(null),d=ze.useRef(null),p=ze.useRef(null),g=ze.useRef(null),v=ze.useRef(null),_=ze.useRef(null),j=ze.useRef(null),T=async()=>{const z=await navigator.mediaDevices.getUserMedia({audio:!0});console.log("녹음 시작:",z),p.current||(p.current=new AudioContext);const U=p.current;g.current&&g.current.disconnect(),_.current=U.createMediaStreamSource(z),g.current=U.createAnalyser(),g.current.fftSize=2048,_.current.connect(g.current),k();const H=new MediaRecorder(z);o.current=H,l.current=[],H.ondataavailable=P=>{P.data.size>0&&l.current.push(P.data)},H.onstop=()=>{console.log("녹음 중지됨");const P=new Blob(l.current,{type:"audio/webm"}),N=URL.createObjectURL(P);r(N),e(!1),I();for(const G of z.getTracks())G.stop()},H.onstart=()=>{e(!0)},H.start()},C=()=>{o.current&&o.current.stop()};ze.useEffect(()=>{h.current&&(h.current.onplaying=()=>{a("PLAYING")},h.current.onended=()=>{a("ENDED")},h.current.onpause=()=>{a("PAUSED")})},[]);const w=()=>{Ho(h.current).with(fs.nonNullable,z=>{z.play(),p.current||(p.current=new AudioContext);const U=p.current;g.current||(g.current=U.createAnalyser(),g.current.fftSize=2048),!j.current&&z&&(j.current=U.createMediaElementSource(z),j.current.connect(g.current),g.current.connect(U.destination)),k()}).run()},A=()=>{Ho(h.current).with(fs.nonNullable,z=>{z.pause(),I()}).run()},L=()=>{Ho(h.current).with(fs.nonNullable,z=>{z.pause(),a("ENDED"),r(""),z.currentTime=0,I(),j.current&&(j.current.disconnect(),j.current=null)}).run()},k=()=>{if(!d.current||!g.current)return;const z=d.current,U=z.getContext("2d");if(!U)return;const H=g.current,P=H.frequencyBinCount,N=new Uint8Array(P),G=z.width,te=z.height,Q=()=>{if(!U)return;v.current=requestAnimationFrame(Q),H.getByteTimeDomainData(N),U.fillStyle="rgb(255, 255, 255)",U.fillRect(0,0,G,te),U.lineWidth=2,U.strokeStyle=t?"rgb(255, 99, 71)":"rgb(0, 123, 255)",U.beginPath();const K=G/P;let ee=0;for(let O=0;O<P;O++){const V=N[O]/128*te/2;O===0?U.moveTo(ee,V):U.lineTo(ee,V),ee+=K}U.lineTo(G,te/2),U.stroke()};Q()},I=()=>{if(v.current&&(cancelAnimationFrame(v.current),v.current=null),d.current){const z=d.current.getContext("2d");z&&z.clearRect(0,0,d.current.width,d.current.height)}};return n.jsxs("article",{className:"flex flex-col items-center justify-center md:max-w-(--breakpoint-md) mx-auto",children:[n.jsxs("p",{className:"text-center text-gray-700",children:[n.jsx("strong",{className:"text-lg font-semibold",children:"음성 녹음"}),n.jsx("br",{}),n.jsx("span",{children:"녹음 기능은 저장되지 않습니다."})]}),n.jsx("div",{className:"w-full mt-4 mb-2",children:n.jsx("canvas",{ref:d,className:"w-full h-24 border rounded-lg",width:600,height:100})}),n.jsxs("div",{className:"relative mt-2",children:[n.jsx("div",{className:Us("absolute inset-0 rounded-2xl border-2 transition-all duration-300 ease-in-out",{"border-red-500 scale-110 opacity-70":t,"border-transparent scale-100 opacity-0":!t})}),n.jsx("div",{className:Us("absolute inset-0 rounded-2xl border-2 transition-all duration-300 ease-in-out delay-150",{"border-red-400 scale-125 opacity-50":t,"border-transparent scale-100 opacity-0":!t})}),n.jsx(Th,{variant:"ghost",className:Us("rounded-2xl relative z-10 transition-colors duration-300",{"hover:bg-red-500 hover:text-primary-foreground":t,"hover:bg-primary hover:text-primary-foreground":!t},t?"bg-red-100 text-red-500":""),onClick:t?C:T,children:n.jsx(n7,{width:68,height:68})})]}),n.jsxs("div",{className:"mt-6 w-full flex flex-col items-center",children:[n.jsx("audio",{ref:h,src:i,className:"hidden",children:n.jsx("track",{kind:"captions",srcLang:"ko",label:"Korean captions"})}),n.jsxs("section",{className:"flex items-center justify-center gap-2",children:[n.jsx(Th,{variant:"outline",className:"rounded-full p-2 w-12 h-12 flex items-center justify-center",onClick:L,children:n.jsx(h7,{size:24})}),Ho(s).with(fs.union("ENDED","PAUSED"),()=>n.jsx(Th,{variant:"outline",className:"rounded-full p-2 w-12 h-12 flex items-center justify-center",onClick:w,disabled:s==="PLAYING"||!i,children:n.jsx(l7,{size:24})})).with("PLAYING",()=>n.jsx(Th,{variant:"outline",className:"rounded-full p-2 w-12 h-12 flex items-center justify-center",onClick:A,children:n.jsx(a7,{size:24})})).exhaustive()]}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:Ho(s).with("ENDED",()=>"오디오 재생이 끝났습니다.").with("PLAYING",()=>"오디오가 재생 중입니다.").with("PAUSED",()=>"오디오가 일시 정지되었습니다.").otherwise(()=>"")})]})]})},xq=ve("/_layout/rec-room")({component:gq}),yq=()=>{const[t,e]=ze.useState("#FFFFFF"),[i,r]=ze.useState("#000000"),s=o=>{if(!o||typeof o!="string")return"#000000";const l=o.startsWith("#")?o.slice(1):o,h=Number.parseInt(l.substring(0,2),16),d=Number.parseInt(l.substring(2,4),16),p=Number.parseInt(l.substring(4,6),16);return Number.isNaN(h)||Number.isNaN(d)||Number.isNaN(p)||(h*299+d*587+p*114)/1e3>=128?"#000000":"#FFFFFF"},a=o=>{const l=o.currentTarget.value,h=s(l);e(l),r(h)};return n.jsx("article",{className:"px-4 mt-12 pt-4 w-full md:max-w-(--breakpoint-md) mx-auto",children:n.jsxs("section",{"aria-label":"color picker",className:"relative rounded-lg",content:"max-h-40",children:[n.jsx("input",{type:"color","aria-label":"background color picker",value:t,className:"w-full h-40 rounded-lg border-2 p-0 cursor-pointer shadow-2xl [&::-webkit-color-swatch]:border-none [&::-webkit-color-swatch]:rounded [&::-webkit-color-swatch-wrapper]:p-px",onInput:a}),n.jsxs("div",{style:{color:i,borderColor:i},className:Us("absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2","border px-4 py-2 shadow-2xl rounded-lg text-center"),children:["Gitsunmin is ",n.jsx("br",{})," The Best Programer!"]})]})})},vq=()=>n.jsx(ze.Suspense,{children:n.jsx(yq,{})}),_q=ve("/_layout/loom")({component:vq}),bq=({content:t,active:e=!1,className:i=""})=>n.jsx("div",{className:Us("rounded-xl px-4 py-2 max-w-full shadow text-sm whitespace-pre-wrap break-words",{"bg-blue-500 text-white dark:bg-blue-600":e,"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-100":!e},i),children:Ho(t).with({__t:"text"},({text:r})=>n.jsx("div",{children:n.jsx("p",{children:r})})).with({__t:"link"},({label:r,url:s})=>n.jsx(zg,{href:s,className:Us("mt-2 text-xs underline",{"text-blue-200 dark:text-blue-100":e,"text-blue-500 dark:text-blue-300":!e}),to:s,children:r})).with({__t:"image"},()=>n.jsx(n.Fragment,{children:"image"})).with({__t:"headline"},()=>n.jsx(n.Fragment,{children:"headline"})).exhaustive()}),jq="data:image/webp;base64,UklGRkoPAABXRUJQVlA4ID4PAABwcwCdASrgAeABPpFInkwlpKKiIxmoMLASCWdu/Hb1ld979K3HlupdFu3E3IHmcDxQs/I74PpfPw7lJfRLP/8xH9aumf5hvNK9I/9y9Q3pW/RP6Yz90Mp32CdqMw3hxpvJ5/wmixNh2mqXVT4ywvZ1tqs+9SYjd/2gwELdjUYVGIaPRSaIn+e1b524dlxGv3NMAfYZuI2i3s7P1jN8He6cHiG4GgViKCknF8yAMW5lJcSPMH7A7dubT7WnhGm9jx1DwrqQnOwOSn18Ckj7B533Nouwtn0C0fxbgXHTvXQ8YuuRROxFKi3opIB/7ry3/sIl5++qqUT3wrfHZYPn4fDInSXz647MpFsz3B9j0gF2qOq3wVqleC7hpTLrbdHjkUCgDvO2yOAJcXJ1xzPWBWM18Zy3UZYZN8kY21CgEL303obCaG+XgoxjC5MjY/MmbK8eRFlqGAMWrAF1yJ0m96tBKe1FUjBSnPeINBwz7EOxzYa8NjrEs3varXXGoh4AcduveOULsI6JBnQgy6417gImNxnMqA3IlNPGSq1mgE07ymqVQAmLz6Of6/8bU5lFhblfJoZRIDqZiVRc74yO3m11OAcfCwJq8RrSs6NP4Bc6J7GHs+SfTkG2F/nBGbpfJ2132YvURvRYu0PSSmlULRfvb6ewP67DoDw0iD8t3J/gd3b4xRavg+BXlw1ZUAqTt+Kqa6J2fvs9YDLG+wy/rqfwcWRpPDOi5AKC5OGaBTeZLZwLepgqIPupEG3HUdBvVJaX9SzOCa79TIxd4BFrKYCIVXRsmxJIf0aZwrzcoRa/ZBUPDoAyICsSnJmR0xN8W3D8PlGn+2JpZnIvtV7cfYeC0UA/apYizYKIcrSb4zPzbjQN0qihJAtvK/CMcEOmb/AdMn6VrHWfpHJTi0c5UAu+dJQ05UWIvSdT+wqnN0ivMKmvxRx4kje7KTpoweflvFaqCZzuPz+K/kaYlqC0XFUNXA8i9SNYLyIQFT0DqXEAaQfQUL1AQDheDt6fJ25XMOWQgCd2eWSCm7hIqEI5of9sabqi8Lqfiz9QHayhg4+MXgZJMbY9I1t3Kqs6+cqA6snEycBJ6LMZYW8hg84YZNcU/rNwMg0U2bFyjhXs1XQCpsNebWmJLMrALhkiPPSfIc1d8QG1882vhaaK042le+IUbewC0Vhtt3qYYlqqUFU2qLqA+4/AuqYAGSWlyTk2RLLYG/gAVTbg7USslDdZxwRkET8lQAD+8Za//5IHmFzv5HymU2zNMw6X7op8DRlOFhygwDI8JJqu/+jifayHWbYhoCcqFlaIa/gvYXZ8H/KVN4fZXcskg5Jg4eMvMI2+VmMnrG2eC98y7jBmHpta6k6f4vipPXIqH6NspPt65o9RwCtxbBXQEWEn/VF6PzuPeK7c/xfQx69OXrhWDGIQWJ2FpzKrbfH7dVlpWZCniuYK/mXT3gvy5Y37805nm7+0qDqxx05d/bkyIc6GfI3Xhz6sheYdhP8+WQ6tlZIsf8zhuRRR4sjM8W3usZtc3uOxZfqKcF29QOkugABoJ/xvkmzTYvKdm6PhQtYenxdCRM0ycqsUi1E5DTZmT0JODBi8GB7byJO8Q7lH+pd1nWnB5UakPn0LxjTmVLGD5xZM7P+GmWUpflCdRMwtwD61UO0IYsXmBag5Jq/ayjuo8RllVhFOPb5tzQsY/V5c8uFJCS8r0TMmmuLFftUIxQ0fwg3ETy+JT8JqL9GvFcMaO6di0YA+zGxVcD5ls7QkfVcUM6qHtnoTonPha5K+mrKsf66vFRshfuC53cEiyGhVdvPIDUMrf5oIONUKNXerp1nR0zHowYTjCFmGlMtLLm01AaYqkzP0NsHogQVLB6eoToiItEhr3sgHb1rdqqfmuA2FYYSReEX2j4BF+ImjaGSUgM2Z1MD/9SVoCLL29/HFCsz+X+6q3ZP+1dNrmpT4VF1tb1GnvjLV6wpDu5LiPF7gMY6bSqGUna3DGOTOW/Zvte9pYH7L/jzU7S9YN1S9X+EeHrOpHJr6Lc4P5Hlm5Px/IZxcvPeqzvXYR+b1dvaTmraP4XugXoHZeOdsO6BAE+Kyicp1X0t691lhrCQO/R3q/94JGIo7Nsm00gI4pv5uSXHYyM0+cxiBnxEbuKuxH7//9VxolNHa45ypWfChExfvd3kaSqI830b0/j9aA5taU9nVd8I0naHL5+ZkYHtjQVfhvhLK7/A/g36R70AC1wOOwwMEJ40+MKePhYsr2WeHLSttsPU5rElzN2jmb+bkTDm/rxdgor+nzo17X+nwJYfyGhsTysWRO5ZWOzG5Y/D9gfBc9jyUefYrOa8O/PvITdI0IcLyI4IBJpBqcUiwE0taPd9VYql7P9WLBgAaEFCw46ZZtWborz0Kub31m/ZyDLW8UZZQALbz87XbIHE8fDNU2idc8/UhioWGW0MWDai1784jML8Rl39VKQNb7890MIfL6418M0jg2GnFZjIETrp8J93b01rjCgpwGbpxPf97GpdAuPgi30/5AKlUKj6vLmrT5EOSVWZBWQst4L1/AdI/vlVyhzHZCvql1xZsGTIYjU//FocPcaRVTdw5Mra03AxZSFMhBHu/vRdXfPERBC38M6UEG+3R8RIw8n6kBPyKF26hMQO1ShyXpcg6nBpTRReJCssjyUUaCDiQNvfhO9GESreXR7uuwdrLJrtU3cSbw82AIk7eyxgdR5M51EmFi3XQcrksntsFMsW8BhRvFxCKHqQ7v98ytR5fdj7K7Vjmr6dIe7dZMTl+/6uE1ledEXox7qXDlYyJtgjQA8KQ9e2Y8DZJfdoGIrbuSiJ1Ku+33111o50f9mFSYj2IB8mK+J41Cjr0SAeZt9b0CILMVXbSMGvpPDr5q6EjiS0NypgxvFOaXAgdIoqDkIg9g84KrVpI3KPcUvoJYF1nzBGkLhtkfzl/uu6ieyQnJl9Ds8vzYaQZRsPypDgRZprOyC1EosGHh3LYEpgMexf5ervk04+5OaeHfUZDzZSJPzzLRA+yfa2ZB/q7ZXoFS/6lsyO0q2UXs/sjIYFf339z9fAh1yA6wDfFegNxy4K0a/QniRrzozpM/h1itD6dzUZ/q2ZKmT04DbSa4up8xYi3hwDNz21RLUtMmuJtNRTcH4QO3hD5w3JB+h1zWWFEL07KvFr+bzn0X0186p81SsIGbMJxkKjeXbJSzz8J385WmlVoRgU5YFjtJa2lpqQrXvWAr0gCUYHbTmfEFNlrlrQveWSb0vlHuKsBnoeU+eBAA8hRwY5TmCGFXL+PfOqSoOSJD44NKi09QTLWnwEUzoZ+dtVzD5Hgw1LuVVbrojfC2tJujmeo/sJeiREjHgzj4f4sYoGAfTuqxkoYUgI9IeFqU9rKUI6ZeWbwFWWjZPYlakgXUtKcY3kbarPPAJAzEAgHHbsgyFcgDpxs0VFxu5IOZHYonGKdjvzRvqKZr0hGrL+PivpoXTUf3U7xUeRfTFS4cIKGtRUEKVC8otHsOHjuVss8yyPPrdl/NjcMqeC4Ih785TCh7uueJsxgy+6eUEu5PiDJ3tKGNVXLkAwV92vSQ2+P7Pvn12NItvcu28GxFXuwR6UpUA7vAHQGtsMkSP9V9F2vVEPTMdhQerKRxkpNAmCL7BLxpLzXeyO9alrUF+Sb/1qZ0fi2qjmSoq1SJp7z/KdzF96RzTeQvkv80owqE9X5boAoygzo7Jc3FT0t7BQxscEBX+kUmBY2wOPqSjFbu92K0wg/9PIVHPdPccyf92dhJeHUtQQwF52Zjjz4vp4Y49cJ4RZKDdx2KN2F4Z5B4cqjyFaFfCYP/FwpZoSCzhVqMMx7nK00C5rkiaTT9tJTolrpPz9/8zW1s3sX+uuMo0UxdhdET/hY7mMbGg9aOQOuYQBxkY5MurrET7sU5852V7AjEbTLaaEm7D0g5OUCfcpztfmAxsJ+QEGtfE3/K85KCcSyksQP59d9s6tXXdGE8/WXQ1F3n45jOIoECdCWj7aVFf5MsmCqbCC4iJRsc8Du/VLoLRKqtoAmEFwQrX2n2ftvknpNYRivOH6L9Uk1Q61OmG0Gpq++R3AmSdMEG/xBaw/vywaDFQfGPEm+4/O/eQxLdYSD0dtDf33FrWiz2tL1Yv82hvgEqbJ/voBPQ+lpkfZ3hCLSfbx+0M9pp/eqycO0qeyiIztQQSE79X+hMWUp9rHT5dsVB2BC9An139MCWn3KN9GKt1Ac70tyxwJ+xPWkV/5NLDAvvBQ+rkONbf+P8ekuD4tF2lxEj2RSwjyM9B+et3X695doJWK9vTqwVgq7UySUVtWZPHKVIRi32lpyFbRgZAGwBGk25HyD16JTCUUb1YIEZd1+43vbmudIq9zEru1YNcAl58ruckv7lpRJPAEVyxfpuQYzT5v1sAHHIz36GDux34ecEY5/+lBnZyMsBu4gN3LzTQprUWmf8t+bKnZ4uwE0hqbrh2jcMLCQ5EiKJw02S4M/eWOsJk4oFO2fxZSPWONf4WyL06gG0XcA6PDPjqbzrPApV3DnySTQtuVCoc5aTYxJwCh07UUOAYJwOEbrQ+iwb1mZNL22bltrjLENxSugeEy61QCnhUX/L8fD8hLwiFVESnRwuAtUhUqXI5bm79Q34psKZeRx74Oq/C/Ek97mprgp6j0pTskeNz7oXRhVnejikO3nWHkOXOhmOTvG3QysBLpmyn7O4X1YpkgjxASKqNPGzuETuhuZCHrPKiazNr80zLhJZkNvNTe2z2VU2tbqObda+D8QfHDB+hGFY+rjvdPanCYtTXey9KSuSYQBcPHjBY+DlIOZugS8DnXYOMzXaEnjlKh+8eDYue75CeGxxYRqD/BDPPqyn7VVX2vcpX3Vx+rd814FKxl9AyFBCl4mvyoUTE3TS3u111z8/y1zi9uUvGtOsotjgzM+48AAIwg8UE61Uy3LeDk9K1uIdtiVZ3jwJnL0hX4Vp8hF9Ho1RXJ9CeOo8Z55q50qy9+G1kqOSz8ZL/SjRF7Rtti3goAJkbOY96o9jghNM8u2zeHmGAAE5bC2vbZGGoEAm2MW+ZPj90jDvykuMnMeyzuVIfpAdKL2iVT2r82p2h2OXYh52Q8TZTOmczq2YnynGjaha09YhlzpVdq7PAAAVVo+veJRzc9CbR/7599xO1xbAtktwcNFNcnjAxilXKZb2aZ5QShiDhgDGwTKgq7yZ5HgAA==",Qr={id:`user-${performance.now()}`,name:{first:"James",last:"Kim"},avatar:jq,description:"Interview page에서 인터뷰를 진행하는 담당자 입니다."},Vi={id:`user-${performance.now()+1}`,name:{first:"Sunmin",last:"Kim"},avatar:QI,description:"Gitsunmin 페이지의 개발자 김선민 입니다."},ZL={banner:"이 페이지는 제가 지금까지 면접이나 주변 사람들에게 들었던 질문들과 그에 대한 답변을 기반으로 작성해 보았습니다.",chatList:[{user:Vi,content:{__t:"text",text:"안녕하세요! 제 페이지에 방문해 주셔서 감사합니다."}},{user:Vi,content:{__t:"text",text:"지금부터 제가 자주 받았던 질문들과 그에 대한 답변을 공유해 보겠습니다."}},{user:Vi,content:{__t:"text",text:"먼저, 인터뷰 진행을 담당해주실 James님을 소개해 드릴게요."}},{user:Qr,content:{__t:"text",text:"안녕하세요 ㅎㅎ"}},{user:Qr,content:{__t:"text",text:"방금 소개 받은 James입니다. 면접관 역할을 맡게 되었어요."}},{user:Qr,content:{__t:"text",text:"그럼, 시작해 볼까요?"}},{user:Qr,content:{__t:"text",text:"Gitsunmin님, 간단하게 자기 소개 부탁드리겠습니다."}},{user:Vi,content:{__t:"text",text:"아;; 넵!"}},{user:Vi,content:{__t:"text",text:"저는 2019년 부터 프론트엔드 개발을 시작해서 B2B 서비스를 주로 개발하고 있으며, 협업툴, 커머스 등 다양한 경험을 쌓고 있습니다."}},{user:Qr,content:{__t:"text",text:"아 그렇군요! 프론트엔드 개발을 시작한 지 꽤 되셨네요."}},{user:Qr,content:{__t:"text",text:"저는 Gitsunmin님이 왜 프론트엔드 개발을 시작하게 되었는지부터 이야기를 시작해 보고 싶습니다."}},{user:Qr,content:{__t:"text",text:"대학 전공은 응용물리학과인데, 어떻게 프론트엔드 개발을 시작하게 되셨나요?"}},{user:Vi,content:{__t:"text",text:'사실 대학 전공은 응용물리학과였지만, 컴퓨터에 대한 관심이 많았어요. 그러다가 "전산물리"라는 전공과목에서 Python을 배우게 되었고, 그 과정에서 프로그래밍 언어에 대한 흥미가 생겼습니다.'}},{user:Vi,content:{__t:"text",text:"혼자 공부도 하고, 해커톤도 참여하면서 점점 더 프로그래밍에 빠져들게 되었어요."}},{user:Vi,content:{__t:"text",text:'우연히 "생활코딩"이라는 플랫폼을 통해서 프론트엔드 개발을 접하게 되었고, 사용자에게 더 나은 경험을 제공하는 프론트엔드 개발에 매력을 느끼게 되었습니다.'}},{user:Vi,content:{__t:"link",label:"참고: 생활코딩",url:"https://www.opentutorials.org/course/1"}},{user:Qr,content:{__t:"text",text:"그런 이야기가 있었군요!"}},{user:Qr,content:{__t:"text",text:"전공과 다른 분야로의 전향은 쉽지 않았을 텐데, 굳은 결심이 필요했을 것 같아요."}},{user:Vi,content:{__t:"text",text:"여러가지 어려움이 있었지만, 흥미있는 일에 집중하고 싶었습니다 ㅎ"}},{user:Qr,content:{__t:"text",text:"혹시 전공자들과 함께 일하면서는 지식에 대한 격차나 기술적인 부분에서 어려움은 없었나요?"}},{user:Vi,content:{__t:"text",text:"처음에는 기술적인 부분에서 격차가 느껴졌습니다. 하지만, 그 격차를 극복하기 위해서 꾸준히 공부하고, 다양한 프로젝트에 참여하면서 경험을 쌓았습니다."}},{user:Vi,content:{__t:"text",text:"또한, 동료 개발자들과의 협업을 통해서 많은 것을 배울 수 있었습니다. 그 과정에서 기술적인 부분뿐만 아니라, 협업과 커뮤니케이션 능력도 많이 향상되었습니다."}},{user:Qr,content:{__t:"text",text:"그렇군요! 기술적인 격차를 극복하기 위해서 꾸준히 노력하셨군요."}},{user:Qr,content:{__t:"text",text:"어떤 노력들을 하셨는지 구체적으로 말씀해 주실 수 있을까요?"}},{user:Vi,content:{__t:"text",text:"1 ~ 2년차에는 주로 온라인 강의와 책을 통해서 컴퓨터 공학의 기초를 다졌습니다."}},{user:Vi,content:{__t:"text",text:"그 이후로는 개인적으로 프로젝트도 만들고, TIL(오늘의 학습)을 작성하면서 지식을 정리하는 습관을 들였습니다."}},{user:Vi,content:{__t:"link",label:"참고: TIL",url:"/til/README"}},{user:Vi,content:{__t:"link",label:"참고: 개인 프로젝트들",url:"https://github.com/gitsunmin/on-recliner"}},{user:Vi,content:{__t:"text",text:"이러한 습관들이 저의 기술적인 성장에 큰 도움이 되었습니다."}},{user:Qr,content:{__t:"text",text:"꾸준히 학습하고 정리하는 습관을 통해서 기술적인 격차를 극복하셨군요."}},{user:Qr,content:{__t:"text",text:"그렇다면, 프론트엔드 개발자로서 업무를 진행하면서 가장 기억에 남는 프로젝트나 경험이 있다면 어떤 것이 있을까요?"}},{user:Vi,content:{__t:"text",text:"특정 프로젝트가 기억에 남기 보다는"}},{user:Vi,content:{__t:"text",text:"설계 단계 부터 참여하여 기획자, 디자이너 등 다양한 직군의 사람들과 협업을 하며 하나의 소프트웨어를 만들었던 프로젝트가 가장 기억에 남습니다."}},{user:Qr,content:{__t:"text",text:"그렇군요! 다양한 직군과의 협업을 통해서 소프트웨어 개발의 전 과정을 경험하는 것이 가장 기억에 남는 경험이었군요."}},{user:Qr,content:{__t:"text",text:"그럼, 그러한 프로젝트에서 가장 어려웠던 점은 무엇이었나요?"}},{user:Vi,content:{__t:"text",text:"아무래도 요구사항을 명확하게 이해하고, 이를 바탕으로 설계하는 과정이 가장 어려웠습니다."}},{user:Vi,content:{__t:"text",text:"요구사항에서 누락하거나 개발적으로 불가능한 부분이 있을 때, 기획자와 디자이너와의 소통이 중요했습니다."}},{user:Vi,content:{__t:"text",text:"이러한 소통이 프로젝트 초기에 잘 이루어지지 않으면, 개발 과정에서 많은 어려움을 겪게 되더라고요."}},{user:Qr,content:{__t:"text",text:"그렇군요! 요구사항을 명확하게 이해하고, 소통하는 것이 프로젝트의 성공에 중요한 요소라는 것을 잘 알고 계시네요."}},{user:Vi,content:{__t:"text",text:"맞습니다. 그래서 저는 항상 요구사항을 명확하게 이해하고, 소통하는 것을 중요하게 생각합니다."}}]},Sq=({src:t,alt:e,size:i,className:r})=>n.jsx("div",{className:Us("rounded-full",r),style:{width:i,height:i},children:n.jsx("img",{src:t,alt:e,className:"object-cover rounded-full",style:{width:i,height:i},loading:"lazy",onError:s=>{s.currentTarget.onerror=null,s.currentTarget.src="https://github.com/gitsunmin.png?raw=true"}})}),wq=({interviewer:t,interviewee:e})=>n.jsxs("article",{className:"flex flex-col text-gray-900 dark:text-gray-100 px-4 w-full md:max-w-(--breakpoint-md) mx-auto pb-10",children:[n.jsx("p",{className:ZI("text-sm break-words","text-gray-500 dark:text-gray-400 border-l-2","border-gray-300 dark:border-gray-600 px-4 py-2 bg-gray-50 dark:bg-gray-800","mt-4 rounded-lg"),children:ZL.banner}),n.jsx("section",{className:"flex flex-wrap gap-y-[10px] pt-12",children:ZL.chatList.map((i,r,s)=>{const{user:a}=i,o=s[r-1]?.user.id===a.id;return n.jsxs("div",{className:Us("w-full flex gap-x-2.5 gap-y-1",{"flex-row":a.id===t.id,"flex-row-reverse":a.id===e.id}),children:[o?n.jsx("div",{className:"w-10"}):n.jsx("div",{className:"flex items-start",children:n.jsx(Sq,{src:a.avatar,alt:`${name} profile`,size:40,className:"rounded-full border border-gray-200 dark:border-gray-700"})}),n.jsxs("div",{className:"max-w-[60%] flex flex-col gap-y-1",children:[o?null:n.jsx("div",{className:Us("text-sm text-gray-700 dark:text-gray-300",{"text-left":a.id===t.id,"text-right":a.id===e.id}),children:a.name.first}),n.jsx(bq,{...i,active:a.id===e.id})]})]},`${a.id}-${r}`)})}),n.jsx("section",{className:"mt-8",children:n.jsxs("a",{href:"https://github.com/gitsunmin/gitsunmin.github.io/issues/new?template=new_interview_questions.md",target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 flex items-center justify-center text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors animate-bounce",children:[n.jsx("span",{className:"font-bold",children:"추가질문"}),"을 하고 싶다면,",n.jsx("span",{className:"font-bold pl-1",children:"클릭"}),n.jsx("span",{className:"pl-1",children:"해주세요."})]})})]}),Tq=()=>n.jsx(ze.Suspense,{children:n.jsx(wq,{interviewer:Qr,interviewee:Vi})}),Cq=ve("/_layout/interview")({component:Tq,errorComponent:void 0,notFoundComponent:void 0,pendingComponent:void 0}),Mq="/assets/book-cover-front-CaC5zkE9.webp",Eq="/assets/book-cover-back-BU6Qkwiy.webp",Aq="/assets/book-cover-spine-c6bHNmLl.webp";function QL(t){const e={a:"a",br:"br",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.p,{children:"(작성중인 컨텐츠 입니다.)"}),`
`,n.jsx(e.h2,{children:"소개"}),`
`,n.jsxs(e.p,{children:["먼저, 찾아주셔서 감사합니다.",n.jsx(e.br,{}),`
`,"아래 글에서는 제가 경험하였던 라이브러리 개발에 대한 내용을 다루고 있습니다.",n.jsx(e.br,{}),`
`,`개인적으로 라이브러리를 개발했던 경험 뿐만 아니라 회사에서 사내 전용 라이브러리 개발에 대한 간단한 팁도 공유해 보겠습니다.
최대한 특정 프로그래밍 언어, 프레임워크에 의존하지 않고, `,n.jsx(e.strong,{children:"라이브러리"}),"라는 주제에 집중하여 작성하였습니다. 공개되는 링크나 코드는 개인적인 경험을 바탕으로 작성된 것이며, 특정 회사의 정책이나 규정과는 무관합니다.",n.jsx(e.br,{}),`
`,"다시 한 번, 해당 글을 읽어주셔서 감사합니다."]}),`
`,n.jsx(e.h2,{children:"라이브러리란?"}),`
`,n.jsxs(e.p,{children:["라이브러리(library)라는 단어는 본래 ",n.jsx(e.strong,{children:"도서관"}),"이라는 뜻을 가지고 있습니다. 왜 이런 이름으로 부르게 되었을까요?"]}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/src/docs/experiencies/about-the-library/punched-card.webp",alt:"punched card"})}),`
`,n.jsx(e.p,{children:`초기 컴퓨터 프로그래밍 환경에서는 위 이미지와 같은 펀치 카드를 이용해 프로그램을 작성해야 했습니다.
이러한 환경에서는 자주 사용하는 코드 조각을 매번 새로 작성하는 것이 매우 비효율적이었습니다.`}),`
`,n.jsxs(e.p,{children:[`그래서 개발자들은 자주 사용하는 코드 조각들을 모아두고, 필요할 때마다 꺼내 쓸 수 있도록 정리하기 시작했습니다.
이렇게 모아둔 코드 조각들은 마치 책을 보관하고 꺼내 읽는 도서관과 비슷한 구조를 가지고 있었습니다.
이 도서관에서 책을 꺼내 읽듯이, 개발자들은 필요한 코드 조각을 꺼내어 사용할 수 있었습니다.
그렇게 재사용하기 위해 정리된 코드의 집합체가 바로 `,n.jsx(e.strong,{children:"라이브러리"})," 라고 불리게 된 것입니다."]}),`
`,n.jsx(e.p,{children:"라이브러리는 위와 같은 배경을 생각하면 어떻게 만들어야할지 감이 오실 겁니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"다른 코드와 쉽게 통합되며, 재사용 가능 해야한다."}),`
`,n.jsx(e.li,{children:"특정 기능을 수행하는 코드 조각들의 집합체여야 한다."}),`
`,n.jsx(e.li,{children:"문서화가 잘 되어 있어야 한다."}),`
`,n.jsx(e.li,{children:"다른 라이브러리로 교체하더라도 통합이 용이해야 한다."}),`
`]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://www.npmjs.com/package/@gitsunmin/k-number?activeTab=readme",children:"@gitsunmin/k-number"}),` 라이브러리는 숫자를 한글 수사로 변환하는 기능을 제공하는 라이브러리로서 간단하지만,
명확한 기능을 가지고 있고, 다른 비슷한 라이브러리로 교체하더라도 쉽게 통합할 수 있도록 설계되었습니다.`]}),`
`,n.jsx(e.h2,{children:"Troubleshooting"}),`
`,n.jsx(e.p,{children:"업무로서 혹은 개인적으로 라이브러리 개발을 하며 겪었던 문제들을 정리해 보았습니다."}),`
`,n.jsx(e.h3,{children:"회사의 모든 코드는 비공개입니다."}),`
`,n.jsx(e.h4,{children:"문제"}),`
`,n.jsx(e.p,{children:`사내에서 개발되며, 사내에서 사용되는 라이브러리를 개발한 경험이 있습니다. 회사의 정책 상 모든 코드는 비공개로 관리되어야 했습니다.
이러한 상황에서 라이브러리를 사용자에게 어떻게 배포해야 할지 고민이 많았습니다.`}),`
`,n.jsx(e.h4,{children:"원인 분석"}),`
`,n.jsxs(e.p,{children:[`이미 과금이 필요한 라이브러리들을 사용해왔기 때문에, 비공개라는 것 자체에는 거부감이 없었습니다.
다만, `,n.jsx(e.a,{href:"https://www.npmjs.com/",children:"npm"}),`과 같은 패키지 매니저에서 제공하는 비공개 패키지 배포 기능을 사용하기에는 회사의 정책 상 어려움이 있었습니다.
촛점을 맞추어야할 곳은 라이브러리를 배포할 수 있는 비공개 공간이 필요하다는 점이었습니다.`]}),`
`,n.jsx(e.h4,{children:"해결 방법"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"Sonatype Nexus Repository 사용하기"}),`
`]}),`
`,n.jsxs(e.p,{children:["위와같은 문제를 해결하기 위해서 일반적으로 사용되는 방법은 ",n.jsx(e.a,{href:"https://help.sonatype.com/en/sonatype-nexus-repository.html",children:"Sonatype Nexus Repository"}),`와 같은 패키지 레지스트리를 사용하는 것이었습니다.
Sonatype Nexus Repository은 다행히도 사내에서 직접 호스팅을 하여 사용할 수 있었기 때문에, 회사의 정책에 맞게 비공개 패키지를 배포할 수 있었습니다. 또한 특정 언어에 종속되지 않고, 다양한 언어의 패키지를 지원하기 때문에, PHP, JavaScript, Flutter 등 다양한 언어의 라이브러리를 관리할 수 있었습니다.`]}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsx(e.li,{children:"git submodule 사용하기"}),`
`]}),`
`,n.jsxs(e.p,{children:["git에서 제공하는 ",n.jsx(e.a,{href:"https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-%EC%84%9C%EB%B8%8C%EB%AA%A8%EB%93%88",children:"submodule"}),`이란 기능을 사용하여, 라이브러리를 내부 git 저장소로 관리하고, 이를 다른 프로젝트에서 submodule로서 clone하여 사용할 수 있었습니다.
이 방법은 git의 태그 기능을 이용하여 특정 버전을 관리할 수 있었고, git의 버전 관리 기능을 그대로 사용할 수 있었습니다. 다만, git submodule은 다른 패키지 매니저와는 달리 의존성 관리가 어렵기 때문에, 특수한 경우에 사용하는 것이 좋습니다.`]}),`
`,n.jsx(e.h4,{children:"참고사항"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Sonatype Nexus Repository를 직접 호스팅 하지는 않았지만, 호스팅된 Sonatype Nexus Repository를 사용하여 라이브러리를 배포하고 관리하는 것은 매우 유용했습니다."}),`
`,n.jsx(e.li,{children:"git submodule은 강한 의존성이 있고, 수정이 잦지 않은 코어 라이브러리에서 사용하는 것에 적합했던 경험을 가지고 있습니다."}),`
`]}),`
`,n.jsx(e.h3,{children:"PHP 에서도 사용해야하는데..."}),`
`,n.jsx(e.h4,{children:"문제"}),`
`,n.jsx(e.h4,{children:"원인 분석"}),`
`,n.jsx(e.h4,{children:"해결 방법"}),`
`,n.jsx(e.h4,{children:"참고사항"}),`
`,n.jsx(e.h3,{children:"테스트는 어떻게 해야하지?"}),`
`,n.jsx(e.h4,{children:"문제"}),`
`,n.jsx(e.h4,{children:"원인 분석"}),`
`,n.jsx(e.h4,{children:"해결 방법"}),`
`,n.jsx(e.h4,{children:"참고사항"}),`
`,n.jsx(e.h2,{children:"버전 관리"}),`
`,n.jsx(e.p,{children:`라이브러리의 버전 관리는 매우 중요합니다.
CHANGELOG.md 파일을 작성하여, 라이브러리의 변경 사항을 기록하는 것이 좋습니다.`}),`
`,n.jsx(e.h2,{children:"참고 자료"})]})}function Rq(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(QL,{...t})}):QL(t)}let Tr=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function Lq(t){return NE(t)}function NE(t){return Array.isArray(t)?Dq(t):t instanceof RegExp?t:typeof t=="object"?kq(t):t}function Dq(t){let e=[];for(let i=0,r=t.length;i<r;i++)e[i]=NE(t[i]);return e}function kq(t){let e={};for(let i in t)e[i]=NE(t[i]);return e}function rF(t,...e){return e.forEach(i=>{for(let r in i)t[r]=i[r]}),t}function sF(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?sF(t.substring(0,t.length-1)):t.substr(~e+1)}var i2=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,db=class{static hasCaptures(t){return t===null?!1:(i2.lastIndex=0,i2.test(t))}static replaceCaptures(t,e,i){return t.replace(i2,(r,s,a,o)=>{let l=i[parseInt(s||a,10)];if(l){let h=e.substring(l.start,l.end);for(;h[0]===".";)h=h.substring(1);switch(o){case"downcase":return h.toLowerCase();case"upcase":return h.toUpperCase();default:return h}}else return r})}};function aF(t,e){return t<e?-1:t>e?1:0}function oF(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let i=t.length,r=e.length;if(i===r){for(let s=0;s<i;s++){let a=aF(t[s],e[s]);if(a!==0)return a}return 0}return i-r}function JL(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function lF(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var cF=class{constructor(t){this.fn=t}cache=new Map;get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},Jj=class{constructor(e,i,r){this._colorMap=e,this._defaults=i,this._root=r}static createFromRawTheme(e,i){return this.createFromParsedTheme(Oq(e),i)}static createFromParsedTheme(e,i){return Iq(e,i)}_cachedMatchRoot=new cF(e=>this._root.match(e));getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const i=e.scopeName,s=this._cachedMatchRoot.get(i).find(a=>Nq(e.parent,a.parentScopes));return s?new hF(s.fontStyle,s.foreground,s.background):null}},r2=class jj{constructor(e,i){this.parent=e,this.scopeName=i}static push(e,i){for(const r of i)e=new jj(e,r);return e}static from(...e){let i=null;for(let r=0;r<e.length;r++)i=new jj(i,e[r]);return i}push(e){return new jj(this,e)}getSegments(){let e=this;const i=[];for(;e;)i.push(e.scopeName),e=e.parent;return i.reverse(),i}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const i=[];let r=this;for(;r&&r!==e;)i.push(r.scopeName),r=r.parent;return r===e?i.reverse():void 0}};function Nq(t,e){if(e.length===0)return!0;for(let i=0;i<e.length;i++){let r=e[i],s=!1;if(r===">"){if(i===e.length-1)return!1;r=e[++i],s=!0}for(;t&&!Pq(t.scopeName,r);){if(s)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function Pq(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var hF=class{constructor(t,e,i){this.fontStyle=t,this.foregroundId=e,this.backgroundId=i}};function Oq(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,i=[],r=0;for(let s=0,a=e.length;s<a;s++){let o=e[s];if(!o.settings)continue;let l;if(typeof o.scope=="string"){let g=o.scope;g=g.replace(/^[,]+/,""),g=g.replace(/[,]+$/,""),l=g.split(",")}else Array.isArray(o.scope)?l=o.scope:l=[""];let h=-1;if(typeof o.settings.fontStyle=="string"){h=0;let g=o.settings.fontStyle.split(" ");for(let v=0,_=g.length;v<_;v++)switch(g[v]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break;case"strikethrough":h=h|8;break}}let d=null;typeof o.settings.foreground=="string"&&JL(o.settings.foreground)&&(d=o.settings.foreground);let p=null;typeof o.settings.background=="string"&&JL(o.settings.background)&&(p=o.settings.background);for(let g=0,v=l.length;g<v;g++){let j=l[g].trim().split(" "),T=j[j.length-1],C=null;j.length>1&&(C=j.slice(0,j.length-1),C.reverse()),i[r++]=new Bq(T,C,s,h,d,p)}}return i}var Bq=class{constructor(t,e,i,r,s,a){this.scope=t,this.parentScopes=e,this.index=i,this.fontStyle=r,this.foreground=s,this.background=a}},Is=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Is||{});function Iq(t,e){t.sort((h,d)=>{let p=aF(h.scope,d.scope);return p!==0||(p=oF(h.parentScopes,d.parentScopes),p!==0)?p:h.index-d.index});let i=0,r="#000000",s="#ffffff";for(;t.length>=1&&t[0].scope==="";){let h=t.shift();h.fontStyle!==-1&&(i=h.fontStyle),h.foreground!==null&&(r=h.foreground),h.background!==null&&(s=h.background)}let a=new Fq(e),o=new hF(i,a.getId(r),a.getId(s)),l=new zq(new XC(0,null,-1,0,0),[]);for(let h=0,d=t.length;h<d;h++){let p=t[h];l.insert(0,p.scope,p.parentScopes,p.fontStyle,a.getId(p.foreground),a.getId(p.background))}return new Jj(a,o,l)}var Fq=class{_isFrozen;_lastColorId;_id2color;_color2id;constructor(t){if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,i=t.length;e<i;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},Uq=Object.freeze([]),XC=class uF{scopeDepth;parentScopes;fontStyle;foreground;background;constructor(e,i,r,s,a){this.scopeDepth=e,this.parentScopes=i||Uq,this.fontStyle=r,this.foreground=s,this.background=a}clone(){return new uF(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let i=[];for(let r=0,s=e.length;r<s;r++)i[r]=e[r].clone();return i}acceptOverwrite(e,i,r,s){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,i!==-1&&(this.fontStyle=i),r!==0&&(this.foreground=r),s!==0&&(this.background=s)}},zq=class YC{constructor(e,i=[],r={}){this._mainRule=e,this._children=r,this._rulesWithParentScopes=i}_rulesWithParentScopes;static _cmpBySpecificity(e,i){if(e.scopeDepth!==i.scopeDepth)return i.scopeDepth-e.scopeDepth;let r=0,s=0;for(;e.parentScopes[r]===">"&&r++,i.parentScopes[s]===">"&&s++,!(r>=e.parentScopes.length||s>=i.parentScopes.length);){const a=i.parentScopes[s].length-e.parentScopes[r].length;if(a!==0)return a;r++,s++}return i.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),s,a;if(r===-1?(s=e,a=""):(s=e.substring(0,r),a=e.substring(r+1)),this._children.hasOwnProperty(s))return this._children[s].match(a)}const i=this._rulesWithParentScopes.concat(this._mainRule);return i.sort(YC._cmpBySpecificity),i}insert(e,i,r,s,a,o){if(i===""){this._doInsertHere(e,r,s,a,o);return}let l=i.indexOf("."),h,d;l===-1?(h=i,d=""):(h=i.substring(0,l),d=i.substring(l+1));let p;this._children.hasOwnProperty(h)?p=this._children[h]:(p=new YC(this._mainRule.clone(),XC.cloneArr(this._rulesWithParentScopes)),this._children[h]=p),p.insert(e+1,d,r,s,a,o)}_doInsertHere(e,i,r,s,a){if(i===null){this._mainRule.acceptOverwrite(e,r,s,a);return}for(let o=0,l=this._rulesWithParentScopes.length;o<l;o++){let h=this._rulesWithParentScopes[o];if(oF(h.parentScopes,i)===0){h.acceptOverwrite(e,r,s,a);return}}r===-1&&(r=this._mainRule.fontStyle),s===0&&(s=this._mainRule.foreground),a===0&&(a=this._mainRule.background),this._rulesWithParentScopes.push(new XC(e,i,r,s,a))}},yg=class Fo{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const i=Fo.getLanguageId(e),r=Fo.getTokenType(e),s=Fo.getFontStyle(e),a=Fo.getForeground(e),o=Fo.getBackground(e);console.log({languageId:i,tokenType:r,fontStyle:s,foreground:a,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,i,r,s,a,o,l){let h=Fo.getLanguageId(e),d=Fo.getTokenType(e),p=Fo.containsBalancedBrackets(e)?1:0,g=Fo.getFontStyle(e),v=Fo.getForeground(e),_=Fo.getBackground(e);return i!==0&&(h=i),r!==8&&(d=r),s!==null&&(p=s?1:0),a!==-1&&(g=a),o!==0&&(v=o),l!==0&&(_=l),(h<<0|d<<8|p<<10|g<<11|v<<15|_<<24)>>>0}};function eS(t,e){const i=[],r=Hq(t);let s=r.next();for(;s!==null;){let h=0;if(s.length===2&&s.charAt(1)===":"){switch(s.charAt(0)){case"R":h=1;break;case"L":h=-1;break;default:console.log(`Unknown priority ${s} in scope selector`)}s=r.next()}let d=o();if(i.push({matcher:d,priority:h}),s!==",")break;s=r.next()}return i;function a(){if(s==="-"){s=r.next();const h=a();return d=>!!h&&!h(d)}if(s==="("){s=r.next();const h=l();return s===")"&&(s=r.next()),h}if(eD(s)){const h=[];do h.push(s),s=r.next();while(eD(s));return d=>e(h,d)}return null}function o(){const h=[];let d=a();for(;d;)h.push(d),d=a();return p=>h.every(g=>g(p))}function l(){const h=[];let d=o();for(;d&&(h.push(d),s==="|"||s===",");){do s=r.next();while(s==="|"||s===",");d=o()}return p=>h.some(g=>g(p))}}function eD(t){return!!t&&!!t.match(/[\w\.:]+/)}function Hq(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,i=e.exec(t);return{next:()=>{if(!i)return null;const r=i[0];return i=e.exec(t),r}}}function dF(t){typeof t.dispose=="function"&&t.dispose()}var A0=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},Vq=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Gq=class{_references=[];_seenReferenceKeys=new Set;get references(){return this._references}visitedRule=new Set;add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},$q=class{constructor(t,e){this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new A0(this.initialScopeName)]}seenFullScopeRequests=new Set;seenPartialScopeRequests=new Set;Q;processQueue(){const t=this.Q;this.Q=[];const e=new Gq;for(const i of t)qq(i,this.initialScopeName,this.repo,e);for(const i of e.references)if(i instanceof A0){if(this.seenFullScopeRequests.has(i.scopeName))continue;this.seenFullScopeRequests.add(i.scopeName),this.Q.push(i)}else{if(this.seenFullScopeRequests.has(i.scopeName)||this.seenPartialScopeRequests.has(i.toKey()))continue;this.seenPartialScopeRequests.add(i.toKey()),this.Q.push(i)}}};function qq(t,e,i,r){const s=i.lookup(t.scopeName);if(!s){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const a=i.lookup(e);t instanceof A0?Sj({baseGrammar:a,selfGrammar:s},r):KC(t.ruleName,{baseGrammar:a,selfGrammar:s,repository:s.repository},r);const o=i.injections(t.scopeName);if(o)for(const l of o)r.add(new A0(l))}function KC(t,e,i){if(e.repository&&e.repository[t]){const r=e.repository[t];tS([r],e,i)}}function Sj(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&tS(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&tS(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function tS(t,e,i){for(const r of t){if(i.visitedRule.has(r))continue;i.visitedRule.add(r);const s=r.repository?rF({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&tS(r.patterns,{...e,repository:s},i);const a=r.include;if(!a)continue;const o=fF(a);switch(o.kind){case 0:Sj({...e,selfGrammar:e.baseGrammar},i);break;case 1:Sj(e,i);break;case 2:KC(o.ruleName,{...e,repository:s},i);break;case 3:case 4:const l=o.scopeName===e.selfGrammar.scopeName?e.selfGrammar:o.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(l){const h={baseGrammar:e.baseGrammar,selfGrammar:l,repository:s};o.kind===4?KC(o.ruleName,h,i):Sj(h,i)}else o.kind===4?i.add(new Vq(o.scopeName,o.ruleName)):i.add(new A0(o.scopeName));break}}}var Wq=class{kind=0},Xq=class{kind=1},Yq=class{constructor(t){this.ruleName=t}kind=2},Kq=class{constructor(t){this.scopeName=t}kind=3},Zq=class{constructor(t,e){this.scopeName=t,this.ruleName=e}kind=4};function fF(t){if(t==="$base")return new Wq;if(t==="$self")return new Xq;const e=t.indexOf("#");if(e===-1)return new Kq(t);if(e===0)return new Yq(t.substring(1));{const i=t.substring(0,e),r=t.substring(e+1);return new Zq(i,r)}}var Qq=/\\(\d+)/,tD=/\\(\d+)/g,Jq=-1,pF=-2;var dv=class{$location;id;_nameIsCapturing;_name;_contentNameIsCapturing;_contentName;constructor(t,e,i,r){this.$location=t,this.id=e,this._name=i||null,this._nameIsCapturing=db.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=db.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${sF(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:db.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:db.replaceCaptures(this._contentName,t,e)}},eW=class extends dv{retokenizeCapturedWithRuleId;constructor(t,e,i,r,s){super(t,e,i,r),this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(t,e){throw new Error("Not supported!")}compile(t,e){throw new Error("Not supported!")}compileAG(t,e,i,r){throw new Error("Not supported!")}},tW=class extends dv{_match;captures;_cachedCompiledPatterns;constructor(t,e,i,r,s){super(t,e,i,null),this._match=new R0(r,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(t,e){e.push(this._match)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,i,r){return this._getCachedCompiledPatterns(t).compileAG(t,i,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new L0,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},nD=class extends dv{hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,i,r,s){super(t,e,i,r),this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(t,e){for(const i of this.patterns)t.getRule(i).collectPatterns(t,e)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,i,r){return this._getCachedCompiledPatterns(t).compileAG(t,i,r)}_getCachedCompiledPatterns(t){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new L0,this.collectPatterns(t,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},ZC=class extends dv{_begin;beginCaptures;_end;endHasBackReferences;endCaptures;applyEndPatternLast;hasMissingPatterns;patterns;_cachedCompiledPatterns;constructor(t,e,i,r,s,a,o,l,h,d){super(t,e,i,r),this._begin=new R0(s,this.id),this.beginCaptures=a,this._end=new R0(o||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=l,this.applyEndPatternLast=h||!1,this.patterns=d.patterns,this.hasMissingPatterns=d.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(t,e){return this._end.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t,e).compile(t)}compileAG(t,e,i,r){return this._getCachedCompiledPatterns(t,e).compileAG(t,i,r)}_getCachedCompiledPatterns(t,e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new L0;for(const i of this.patterns)t.getRule(i).collectPatterns(t,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,e):this._cachedCompiledPatterns.setSource(0,e)),this._cachedCompiledPatterns}},nS=class extends dv{_begin;beginCaptures;whileCaptures;_while;whileHasBackReferences;hasMissingPatterns;patterns;_cachedCompiledPatterns;_cachedCompiledWhilePatterns;constructor(t,e,i,r,s,a,o,l,h){super(t,e,i,r),this._begin=new R0(s,this.id),this.beginCaptures=a,this.whileCaptures=l,this._while=new R0(o,pF),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=h.patterns,this.hasMissingPatterns=h.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(t,e){return this._while.resolveBackReferences(t,e)}collectPatterns(t,e){e.push(this._begin)}compile(t,e){return this._getCachedCompiledPatterns(t).compile(t)}compileAG(t,e,i,r){return this._getCachedCompiledPatterns(t).compileAG(t,i,r)}_getCachedCompiledPatterns(t){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new L0;for(const e of this.patterns)t.getRule(e).collectPatterns(t,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(t,e){return this._getCachedCompiledWhilePatterns(t,e).compile(t)}compileWhileAG(t,e,i,r){return this._getCachedCompiledWhilePatterns(t,e).compileAG(t,i,r)}_getCachedCompiledWhilePatterns(t,e){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new L0,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,e||"￿"),this._cachedCompiledWhilePatterns}},mF=class Ps{static createCaptureRule(e,i,r,s,a){return e.registerRule(o=>new eW(i,o,r,s,a))}static getCompiledRuleId(e,i,r){return e.id||i.registerRule(s=>{if(e.id=s,e.match)return new tW(e.$vscodeTextmateLocation,e.id,e.name,e.match,Ps._compileCaptures(e.captures,i,r));if(typeof e.begin>"u"){e.repository&&(r=rF({},r,e.repository));let a=e.patterns;return typeof a>"u"&&e.include&&(a=[{include:e.include}]),new nD(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,Ps._compilePatterns(a,i,r))}return e.while?new nS(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Ps._compileCaptures(e.beginCaptures||e.captures,i,r),e.while,Ps._compileCaptures(e.whileCaptures||e.captures,i,r),Ps._compilePatterns(e.patterns,i,r)):new ZC(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,Ps._compileCaptures(e.beginCaptures||e.captures,i,r),e.end,Ps._compileCaptures(e.endCaptures||e.captures,i,r),e.applyEndPatternLast,Ps._compilePatterns(e.patterns,i,r))}),e.id}static _compileCaptures(e,i,r){let s=[];if(e){let a=0;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const l=parseInt(o,10);l>a&&(a=l)}for(let o=0;o<=a;o++)s[o]=null;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const l=parseInt(o,10);let h=0;e[o].patterns&&(h=Ps.getCompiledRuleId(e[o],i,r)),s[l]=Ps.createCaptureRule(i,e[o].$vscodeTextmateLocation,e[o].name,e[o].contentName,h)}}return s}static _compilePatterns(e,i,r){let s=[];if(e)for(let a=0,o=e.length;a<o;a++){const l=e[a];let h=-1;if(l.include){const d=fF(l.include);switch(d.kind){case 0:case 1:h=Ps.getCompiledRuleId(r[l.include],i,r);break;case 2:let p=r[d.ruleName];p&&(h=Ps.getCompiledRuleId(p,i,r));break;case 3:case 4:const g=d.scopeName,v=d.kind===4?d.ruleName:null,_=i.getExternalGrammar(g,r);if(_)if(v){let j=_.repository[v];j&&(h=Ps.getCompiledRuleId(j,i,_.repository))}else h=Ps.getCompiledRuleId(_.repository.$self,i,_.repository);break}}else h=Ps.getCompiledRuleId(l,i,r);if(h!==-1){const d=i.getRule(h);let p=!1;if((d instanceof nD||d instanceof ZC||d instanceof nS)&&d.hasMissingPatterns&&d.patterns.length===0&&(p=!0),p)continue;s.push(h)}}return{patterns:s,hasMissingPatterns:(e?e.length:0)!==s.length}}},R0=class gF{source;ruleId;hasAnchor;hasBackReferences;_anchorCache;constructor(e,i){if(e&&typeof e=="string"){const r=e.length;let s=0,a=[],o=!1;for(let l=0;l<r;l++)if(e.charAt(l)==="\\"&&l+1<r){const d=e.charAt(l+1);d==="z"?(a.push(e.substring(s,l)),a.push("$(?!\\n)(?<!\\n)"),s=l+2):(d==="A"||d==="G")&&(o=!0),l++}this.hasAnchor=o,s===0?this.source=e:(a.push(e.substring(s,r)),this.source=a.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=i,typeof this.source=="string"?this.hasBackReferences=Qq.test(this.source):this.hasBackReferences=!1}clone(){return new gF(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,i){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=i.map(s=>e.substring(s.start,s.end));return tD.lastIndex=0,this.source.replace(tD,(s,a)=>lF(r[parseInt(a,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],i=[],r=[],s=[],a,o,l,h;for(a=0,o=this.source.length;a<o;a++)l=this.source.charAt(a),e[a]=l,i[a]=l,r[a]=l,s[a]=l,l==="\\"&&a+1<o&&(h=this.source.charAt(a+1),h==="A"?(e[a+1]="￿",i[a+1]="￿",r[a+1]="A",s[a+1]="A"):h==="G"?(e[a+1]="￿",i[a+1]="G",r[a+1]="￿",s[a+1]="G"):(e[a+1]=h,i[a+1]=h,r[a+1]=h,s[a+1]=h),a++);return{A0_G0:e.join(""),A0_G1:i.join(""),A1_G0:r.join(""),A1_G1:s.join("")}}resolveAnchors(e,i){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?i?this._anchorCache.A1_G1:this._anchorCache.A1_G0:i?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},L0=class{_items;_hasAnchors;_cached;_anchorCache;constructor(){this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(i=>i.source);this._cached=new iD(t,e,this._items.map(i=>i.ruleId))}return this._cached}compileAG(t,e,i){return this._hasAnchors?e?i?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,i)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,i)),this._anchorCache.A1_G0):i?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,i)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,i)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,i){let r=this._items.map(s=>s.resolveAnchors(e,i));return new iD(t,r,this._items.map(s=>s.ruleId))}},iD=class{constructor(t,e,i){this.regExps=e,this.rules=i,this.scanner=t.createOnigScanner(e)}scanner;dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,i=this.rules.length;e<i;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,i){const r=this.scanner.findNextMatchSync(t,e,i);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},s2=class{constructor(t,e){this.languageId=t,this.tokenType=e}},nW=class QC{_defaultAttributes;_embeddedLanguagesMatcher;constructor(e,i){this._defaultAttributes=new s2(e,8),this._embeddedLanguagesMatcher=new iW(Object.entries(i||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?QC._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}static _NULL_SCOPE_METADATA=new s2(0,0);_getBasicScopeAttributes=new cF(e=>{const i=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new s2(i,r)});_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const i=e.match(QC.STANDARD_TOKEN_TYPE_REGEXP);if(!i)return 8;switch(i[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}static STANDARD_TOKEN_TYPE_REGEXP=/\b(comment|string|regex|meta\.embedded)\b/},iW=class{values;scopesRegExp;constructor(t){if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([i,r])=>lF(i));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},rD=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function xF(t,e,i,r,s,a,o,l){const h=e.content.length;let d=!1,p=-1;if(o){const _=rW(t,e,i,r,s,a);s=_.stack,r=_.linePos,i=_.isFirstLine,p=_.anchorPosition}const g=Date.now();for(;!d;){if(l!==0&&Date.now()-g>l)return new rD(s,!0);v()}return new rD(s,!1);function v(){const _=sW(t,e,i,r,s,p);if(!_){a.produce(s,h),d=!0;return}const j=_.captureIndices,T=_.matchedRuleId,C=j&&j.length>0?j[0].end>r:!1;if(T===Jq){const w=s.getRule(t);a.produce(s,j[0].start),s=s.withContentNameScopesList(s.nameScopesList),Ky(t,e,i,s,a,w.endCaptures,j),a.produce(s,j[0].end);const A=s;if(s=s.parent,p=A.getAnchorPos(),!C&&A.getEnterPos()===r){s=A,a.produce(s,h),d=!0;return}}else{const w=t.getRule(T);a.produce(s,j[0].start);const A=s,L=w.getName(e.content,j),k=s.contentNameScopesList.pushAttributed(L,t);if(s=s.push(T,r,p,j[0].end===h,null,k,k),w instanceof ZC){const I=w;Ky(t,e,i,s,a,I.beginCaptures,j),a.produce(s,j[0].end),p=j[0].end;const z=I.getContentName(e.content,j),U=k.pushAttributed(z,t);if(s=s.withContentNameScopesList(U),I.endHasBackReferences&&(s=s.withEndRule(I.getEndWithResolvedBackReferences(e.content,j))),!C&&A.hasSameRuleAs(s)){s=s.pop(),a.produce(s,h),d=!0;return}}else if(w instanceof nS){const I=w;Ky(t,e,i,s,a,I.beginCaptures,j),a.produce(s,j[0].end),p=j[0].end;const z=I.getContentName(e.content,j),U=k.pushAttributed(z,t);if(s=s.withContentNameScopesList(U),I.whileHasBackReferences&&(s=s.withEndRule(I.getWhileWithResolvedBackReferences(e.content,j))),!C&&A.hasSameRuleAs(s)){s=s.pop(),a.produce(s,h),d=!0;return}}else if(Ky(t,e,i,s,a,w.captures,j),a.produce(s,j[0].end),s=s.pop(),!C){s=s.safePop(),a.produce(s,h),d=!0;return}}j[0].end>r&&(r=j[0].end,i=!1)}}function rW(t,e,i,r,s,a){let o=s.beginRuleCapturedEOL?0:-1;const l=[];for(let h=s;h;h=h.pop()){const d=h.getRule(t);d instanceof nS&&l.push({rule:d,stack:h})}for(let h=l.pop();h;h=l.pop()){const{ruleScanner:d,findOptions:p}=lW(h.rule,t,h.stack.endRule,i,r===o),g=d.findNextMatchSync(e,r,p);if(g){if(g.ruleId!==pF){s=h.stack.pop();break}g.captureIndices&&g.captureIndices.length&&(a.produce(h.stack,g.captureIndices[0].start),Ky(t,e,i,h.stack,a,h.rule.whileCaptures,g.captureIndices),a.produce(h.stack,g.captureIndices[0].end),o=g.captureIndices[0].end,g.captureIndices[0].end>r&&(r=g.captureIndices[0].end,i=!1))}else{s=h.stack.pop();break}}return{stack:s,linePos:r,anchorPosition:o,isFirstLine:i}}function sW(t,e,i,r,s,a){const o=aW(t,e,i,r,s,a),l=t.getInjections();if(l.length===0)return o;const h=oW(l,t,e,i,r,s,a);if(!h)return o;if(!o)return h;const d=o.captureIndices[0].start,p=h.captureIndices[0].start;return p<d||h.priorityMatch&&p===d?h:o}function aW(t,e,i,r,s,a){const o=s.getRule(t),{ruleScanner:l,findOptions:h}=yF(o,t,s.endRule,i,r===a),d=l.findNextMatchSync(e,r,h);return d?{captureIndices:d.captureIndices,matchedRuleId:d.ruleId}:null}function oW(t,e,i,r,s,a,o){let l=Number.MAX_VALUE,h=null,d,p=0;const g=a.contentNameScopesList.getScopeNames();for(let v=0,_=t.length;v<_;v++){const j=t[v];if(!j.matcher(g))continue;const T=e.getRule(j.ruleId),{ruleScanner:C,findOptions:w}=yF(T,e,null,r,s===o),A=C.findNextMatchSync(i,s,w);if(!A)continue;const L=A.captureIndices[0].start;if(!(L>=l)&&(l=L,h=A.captureIndices,d=A.ruleId,p=j.priority,l===s))break}return h?{priorityMatch:p===-1,captureIndices:h,matchedRuleId:d}:null}function yF(t,e,i,r,s){return{ruleScanner:t.compileAG(e,i,r,s),findOptions:0}}function lW(t,e,i,r,s){return{ruleScanner:t.compileWhileAG(e,i,r,s),findOptions:0}}function Ky(t,e,i,r,s,a,o){if(a.length===0)return;const l=e.content,h=Math.min(a.length,o.length),d=[],p=o[0].end;for(let g=0;g<h;g++){const v=a[g];if(v===null)continue;const _=o[g];if(_.length===0)continue;if(_.start>p)break;for(;d.length>0&&d[d.length-1].endPos<=_.start;)s.produceFromScopes(d[d.length-1].scopes,d[d.length-1].endPos),d.pop();if(d.length>0?s.produceFromScopes(d[d.length-1].scopes,_.start):s.produce(r,_.start),v.retokenizeCapturedWithRuleId){const T=v.getName(l,o),C=r.contentNameScopesList.pushAttributed(T,t),w=v.getContentName(l,o),A=C.pushAttributed(w,t),L=r.push(v.retokenizeCapturedWithRuleId,_.start,-1,!1,null,C,A),k=t.createOnigString(l.substring(0,_.end));xF(t,k,i&&_.start===0,_.start,L,s,!1,0),dF(k);continue}const j=v.getName(l,o);if(j!==null){const C=(d.length>0?d[d.length-1].scopes:r.contentNameScopesList).pushAttributed(j,t);d.push(new cW(C,_.end))}}for(;d.length>0;)s.produceFromScopes(d[d.length-1].scopes,d[d.length-1].endPos),d.pop()}var cW=class{scopes;endPos;constructor(t,e){this.scopes=t,this.endPos=e}};function hW(t,e,i,r,s,a,o,l){return new dW(t,e,i,r,s,a,o,l)}function sD(t,e,i,r,s){const a=eS(e,iS),o=mF.getCompiledRuleId(i,r,s.repository);for(const l of a)t.push({debugSelector:e,matcher:l.matcher,ruleId:o,grammar:s,priority:l.priority})}function iS(t,e){if(e.length<t.length)return!1;let i=0;return t.every(r=>{for(let s=i;s<e.length;s++)if(uW(e[s],r))return i=s+1,!0;return!1})}function uW(t,e){if(!t)return!1;if(t===e)return!0;const i=e.length;return t.length>i&&t.substr(0,i)===e&&t[i]==="."}var dW=class{constructor(t,e,i,r,s,a,o,l){if(this._rootScopeName=t,this.balancedBracketSelectors=a,this._onigLib=l,this._basicScopeAttributesProvider=new nW(i,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=aD(e,null),this._injections=null,this._tokenTypeMatchers=[],s)for(const h of Object.keys(s)){const d=eS(h,iS);for(const p of d)this._tokenTypeMatchers.push({matcher:p.matcher,type:s[h]})}}_rootId;_lastRuleId;_ruleId2desc;_includedGrammars;_grammarRepository;_grammar;_injections;_basicScopeAttributesProvider;_tokenTypeMatchers;get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:s=>s===this._rootScopeName?this._grammar:this.getExternalGrammar(s),injections:s=>this._grammarRepository.injections(s)},e=[],i=this._rootScopeName,r=t.lookup(i);if(r){const s=r.injections;if(s)for(let o in s)sD(e,o,s[o],this,r);const a=this._grammarRepository.injections(i);a&&a.forEach(o=>{const l=this.getExternalGrammar(o);if(l){const h=l.injectionSelector;h&&sD(e,h,l,this,l)}})}return e.sort((s,a)=>s.priority-a.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,i=t(e);return this._ruleId2desc[e]=i,i}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const i=this._grammarRepository.lookup(t);if(i)return this._includedGrammars[t]=aD(i,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,i=0){const r=this._tokenize(t,e,!1,i);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,i=0){const r=this._tokenize(t,e,!0,i);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,i,r){this._rootId===-1&&(this._rootId=mF.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let s;if(!e||e===JC.NULL){s=!0;const d=this._basicScopeAttributesProvider.getDefaultAttributes(),p=this.themeProvider.getDefaults(),g=yg.set(0,d.languageId,d.tokenType,null,p.fontStyle,p.foregroundId,p.backgroundId),v=this.getRule(this._rootId).getName(null,null);let _;v?_=l0.createRootAndLookUpScopeName(v,g,this):_=l0.createRoot("unknown",g),e=new JC(null,this._rootId,-1,-1,!1,null,_,_)}else s=!1,e.reset();t=t+`
`;const a=this.createOnigString(t),o=a.content.length,l=new pW(i,t,this._tokenTypeMatchers,this.balancedBracketSelectors),h=xF(this,a,s,0,e,l,!0,r);return dF(a),{lineLength:o,lineTokens:l,ruleStack:h.stack,stoppedEarly:h.stoppedEarly}}};function aD(t,e){return t=Lq(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var l0=class bc{constructor(e,i,r){this.parent=e,this.scopePath=i,this.tokenAttributes=r}static fromExtension(e,i){let r=e,s=e?.scopePath??null;for(const a of i)s=r2.push(s,a.scopeNames),r=new bc(r,s,a.encodedTokenAttributes);return r}static createRoot(e,i){return new bc(null,new r2(null,e),i)}static createRootAndLookUpScopeName(e,i,r){const s=r.getMetadataForScope(e),a=new r2(null,e),o=r.themeProvider.themeMatch(a),l=bc.mergeAttributes(i,s,o);return new bc(null,a,l)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return bc.equals(this,e)}static equals(e,i){do{if(e===i||!e&&!i)return!0;if(!e||!i||e.scopeName!==i.scopeName||e.tokenAttributes!==i.tokenAttributes)return!1;e=e.parent,i=i.parent}while(!0)}static mergeAttributes(e,i,r){let s=-1,a=0,o=0;return r!==null&&(s=r.fontStyle,a=r.foregroundId,o=r.backgroundId),yg.set(e,i.languageId,i.tokenType,null,s,a,o)}pushAttributed(e,i){if(e===null)return this;if(e.indexOf(" ")===-1)return bc._pushAttributed(this,e,i);const r=e.split(/ /g);let s=this;for(const a of r)s=bc._pushAttributed(s,a,i);return s}static _pushAttributed(e,i,r){const s=r.getMetadataForScope(i),a=e.scopePath.push(i),o=r.themeProvider.themeMatch(a),l=bc.mergeAttributes(e.tokenAttributes,s,o);return new bc(e,a,l)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){const i=[];let r=this;for(;r&&r!==e;)i.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(r.parent?.scopePath??null)}),r=r.parent;return r===e?i.reverse():void 0}},JC=class Cf{constructor(e,i,r,s,a,o,l,h){this.parent=e,this.ruleId=i,this.beginRuleCapturedEOL=a,this.endRule=o,this.nameScopesList=l,this.contentNameScopesList=h,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=s}_stackElementBrand=void 0;static NULL=new Cf(null,0,0,0,!1,null,null,null);_enterPos;_anchorPos;depth;equals(e){return e===null?!1:Cf._equals(this,e)}static _equals(e,i){return e===i?!0:this._structuralEquals(e,i)?l0.equals(e.contentNameScopesList,i.contentNameScopesList):!1}static _structuralEquals(e,i){do{if(e===i||!e&&!i)return!0;if(!e||!i||e.depth!==i.depth||e.ruleId!==i.ruleId||e.endRule!==i.endRule)return!1;e=e.parent,i=i.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){Cf._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,i,r,s,a,o,l){return new Cf(this,e,i,r,s,a,o,l)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,i){return this.parent&&(i=this.parent._writeString(e,i)),e[i++]=`(${this.ruleId}, ${this.nameScopesList?.toString()}, ${this.contentNameScopesList?.toString()})`,i}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new Cf(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let i=this;for(;i&&i._enterPos===e._enterPos;){if(i.ruleId===e.ruleId)return!0;i=i.parent}return!1}toStateStackFrame(){return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:this.nameScopesList?.getExtensionIfDefined(this.parent?.nameScopesList??null)??[],contentNameScopesList:this.contentNameScopesList?.getExtensionIfDefined(this.nameScopesList)??[]}}static pushFrame(e,i){const r=l0.fromExtension(e?.nameScopesList??null,i.nameScopesList);return new Cf(e,i.ruleId,i.enterPos??-1,i.anchorPos??-1,i.beginRuleCapturedEOL,i.endRule,r,l0.fromExtension(r,i.contentNameScopesList))}},fW=class{balancedBracketScopes;unbalancedBracketScopes;allowAny=!1;constructor(t,e){this.balancedBracketScopes=t.flatMap(i=>i==="*"?(this.allowAny=!0,[]):eS(i,iS).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(i=>eS(i,iS).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},pW=class{constructor(t,e,i,r){this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=i,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}_emitBinaryTokens;_lineText;_tokens;_binaryTokens;_lastTokenEndIndex;_tokenTypeOverrides;produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let r=t?.tokenAttributes??0,s=!1;if(this.balancedBracketSelectors?.matchesAlways&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const a=t?.getScopeNames()??[];for(const o of this._tokenTypeOverrides)o.matcher(a)&&(r=yg.set(r,0,o.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(a))}if(s&&(r=yg.set(r,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===r){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(r),this._lastTokenEndIndex=e;return}const i=t?.getScopeNames()??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:i}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const i=new Uint32Array(this._binaryTokens.length);for(let r=0,s=this._binaryTokens.length;r<s;r++)i[r]=this._binaryTokens[r];return i}},mW=class{constructor(t,e){this._onigLib=e,this._theme=t}_grammars=new Map;_rawGrammars=new Map;_injectionGrammars=new Map;_theme;dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,i,r,s){if(!this._grammars.has(t)){let a=this._rawGrammars.get(t);if(!a)return null;this._grammars.set(t,hW(t,a,e,i,r,s,this,this._onigLib))}return this._grammars.get(t)}},gW=class{_options;_syncRegistry;_ensureGrammarCache;constructor(e){this._options=e,this._syncRegistry=new mW(Jj.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,i){this._syncRegistry.setTheme(Jj.createFromRawTheme(e,i))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,i,r){return this.loadGrammarWithConfiguration(e,i,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,i,r){return this._loadGrammar(e,i,r.embeddedLanguages,r.tokenTypes,new fW(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,i,r,s,a){const o=new $q(this._syncRegistry,e);for(;o.Q.length>0;)o.Q.map(l=>this._loadSingleGrammar(l.scopeName)),o.processQueue();return this._grammarForScopeName(e,i,r,s,a)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const i=this._options.loadGrammar(e);if(i){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(i,r)}}addGrammar(e,i=[],r=0,s=null){return this._syncRegistry.addGrammar(e,i),this._grammarForScopeName(e.scopeName,r,s)}_grammarForScopeName(e,i=0,r=null,s=null,a=null){return this._syncRegistry.grammarForScopeName(e,i,r,s,a)}},eM=JC.NULL;const xW=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class fv{constructor(e,i,r){this.normal=i,this.property=e,r&&(this.space=r)}}fv.prototype.normal={};fv.prototype.property={};fv.prototype.space=void 0;function vF(t,e){const i={},r={};for(const s of t)Object.assign(i,s.property),Object.assign(r,s.normal);return new fv(i,r,e)}function tM(t){return t.toLowerCase()}class Ga{constructor(e,i){this.attribute=i,this.property=e}}Ga.prototype.attribute="";Ga.prototype.booleanish=!1;Ga.prototype.boolean=!1;Ga.prototype.commaOrSpaceSeparated=!1;Ga.prototype.commaSeparated=!1;Ga.prototype.defined=!1;Ga.prototype.mustUseProperty=!1;Ga.prototype.number=!1;Ga.prototype.overloadedBoolean=!1;Ga.prototype.property="";Ga.prototype.spaceSeparated=!1;Ga.prototype.space=void 0;let yW=0;const Mn=op(),wr=op(),_F=op(),ut=op(),Li=op(),eg=op(),lo=op();function op(){return 2**++yW}const nM=Object.freeze(Object.defineProperty({__proto__:null,boolean:Mn,booleanish:wr,commaOrSpaceSeparated:lo,commaSeparated:eg,number:ut,overloadedBoolean:_F,spaceSeparated:Li},Symbol.toStringTag,{value:"Module"})),a2=Object.keys(nM);class PE extends Ga{constructor(e,i,r,s){let a=-1;if(super(e,i),oD(this,"space",s),typeof r=="number")for(;++a<a2.length;){const o=a2[a];oD(this,a2[a],(r&nM[o])===nM[o])}}}PE.prototype.defined=!0;function oD(t,e,i){i&&(t[e]=i)}function Gg(t){const e={},i={};for(const[r,s]of Object.entries(t.properties)){const a=new PE(r,t.transform(t.attributes||{},r),s,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,i[tM(r)]=r,i[tM(a.attribute)]=r}return new fv(e,i,t.space)}const bF=Gg({properties:{ariaActiveDescendant:null,ariaAtomic:wr,ariaAutoComplete:null,ariaBusy:wr,ariaChecked:wr,ariaColCount:ut,ariaColIndex:ut,ariaColSpan:ut,ariaControls:Li,ariaCurrent:null,ariaDescribedBy:Li,ariaDetails:null,ariaDisabled:wr,ariaDropEffect:Li,ariaErrorMessage:null,ariaExpanded:wr,ariaFlowTo:Li,ariaGrabbed:wr,ariaHasPopup:null,ariaHidden:wr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Li,ariaLevel:ut,ariaLive:null,ariaModal:wr,ariaMultiLine:wr,ariaMultiSelectable:wr,ariaOrientation:null,ariaOwns:Li,ariaPlaceholder:null,ariaPosInSet:ut,ariaPressed:wr,ariaReadOnly:wr,ariaRelevant:null,ariaRequired:wr,ariaRoleDescription:Li,ariaRowCount:ut,ariaRowIndex:ut,ariaRowSpan:ut,ariaSelected:wr,ariaSetSize:ut,ariaSort:null,ariaValueMax:ut,ariaValueMin:ut,ariaValueNow:ut,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function jF(t,e){return e in t?t[e]:e}function SF(t,e){return jF(t,e.toLowerCase())}const vW=Gg({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:eg,acceptCharset:Li,accessKey:Li,action:null,allow:null,allowFullScreen:Mn,allowPaymentRequest:Mn,allowUserMedia:Mn,alt:null,as:null,async:Mn,autoCapitalize:null,autoComplete:Li,autoFocus:Mn,autoPlay:Mn,blocking:Li,capture:null,charSet:null,checked:Mn,cite:null,className:Li,cols:ut,colSpan:null,content:null,contentEditable:wr,controls:Mn,controlsList:Li,coords:ut|eg,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Mn,defer:Mn,dir:null,dirName:null,disabled:Mn,download:_F,draggable:wr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Mn,formTarget:null,headers:Li,height:ut,hidden:Mn,high:ut,href:null,hrefLang:null,htmlFor:Li,httpEquiv:Li,id:null,imageSizes:null,imageSrcSet:null,inert:Mn,inputMode:null,integrity:null,is:null,isMap:Mn,itemId:null,itemProp:Li,itemRef:Li,itemScope:Mn,itemType:Li,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Mn,low:ut,manifest:null,max:null,maxLength:ut,media:null,method:null,min:null,minLength:ut,multiple:Mn,muted:Mn,name:null,nonce:null,noModule:Mn,noValidate:Mn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Mn,optimum:ut,pattern:null,ping:Li,placeholder:null,playsInline:Mn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Mn,referrerPolicy:null,rel:Li,required:Mn,reversed:Mn,rows:ut,rowSpan:ut,sandbox:Li,scope:null,scoped:Mn,seamless:Mn,selected:Mn,shadowRootClonable:Mn,shadowRootDelegatesFocus:Mn,shadowRootMode:null,shape:null,size:ut,sizes:null,slot:null,span:ut,spellCheck:wr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ut,step:null,style:null,tabIndex:ut,target:null,title:null,translate:null,type:null,typeMustMatch:Mn,useMap:null,value:wr,width:ut,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Li,axis:null,background:null,bgColor:null,border:ut,borderColor:null,bottomMargin:ut,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Mn,declare:Mn,event:null,face:null,frame:null,frameBorder:null,hSpace:ut,leftMargin:ut,link:null,longDesc:null,lowSrc:null,marginHeight:ut,marginWidth:ut,noResize:Mn,noHref:Mn,noShade:Mn,noWrap:Mn,object:null,profile:null,prompt:null,rev:null,rightMargin:ut,rules:null,scheme:null,scrolling:wr,standby:null,summary:null,text:null,topMargin:ut,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ut,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Mn,disableRemotePlayback:Mn,prefix:null,property:null,results:ut,security:null,unselectable:null},space:"html",transform:SF}),_W=Gg({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:lo,accentHeight:ut,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ut,amplitude:ut,arabicForm:null,ascent:ut,attributeName:null,attributeType:null,azimuth:ut,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ut,by:null,calcMode:null,capHeight:ut,className:Li,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ut,diffuseConstant:ut,direction:null,display:null,dur:null,divisor:ut,dominantBaseline:null,download:Mn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ut,enableBackground:null,end:null,event:null,exponent:ut,externalResourcesRequired:null,fill:null,fillOpacity:ut,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:eg,g2:eg,glyphName:eg,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ut,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ut,horizOriginX:ut,horizOriginY:ut,id:null,ideographic:ut,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ut,k:ut,k1:ut,k2:ut,k3:ut,k4:ut,kernelMatrix:lo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ut,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ut,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ut,overlineThickness:ut,paintOrder:null,panose1:null,path:null,pathLength:ut,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Li,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ut,pointsAtY:ut,pointsAtZ:ut,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:lo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:lo,rev:lo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:lo,requiredFeatures:lo,requiredFonts:lo,requiredFormats:lo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ut,specularExponent:ut,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ut,strikethroughThickness:ut,string:null,stroke:null,strokeDashArray:lo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ut,strokeOpacity:ut,strokeWidth:null,style:null,surfaceScale:ut,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:lo,tabIndex:ut,tableValues:null,target:null,targetX:ut,targetY:ut,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:lo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ut,underlineThickness:ut,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ut,values:null,vAlphabetic:ut,vMathematical:ut,vectorEffect:null,vHanging:ut,vIdeographic:ut,version:null,vertAdvY:ut,vertOriginX:ut,vertOriginY:ut,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ut,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:jF}),wF=Gg({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),TF=Gg({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:SF}),CF=Gg({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),bW=/[A-Z]/g,lD=/-[a-z]/g,jW=/^data[-\w.:]+$/i;function SW(t,e){const i=tM(e);let r=e,s=Ga;if(i in t.normal)return t.property[t.normal[i]];if(i.length>4&&i.slice(0,4)==="data"&&jW.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(lD,TW);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!lD.test(a)){let o=a.replace(bW,wW);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}s=PE}return new s(r,e)}function wW(t){return"-"+t.toLowerCase()}function TW(t){return t.charAt(1).toUpperCase()}const CW=vF([bF,vW,wF,TF,CF],"html"),MF=vF([bF,_W,wF,TF,CF],"svg"),cD={}.hasOwnProperty;function MW(t,e){const i=e||{};function r(s,...a){let o=r.invalid;const l=r.handlers;if(s&&cD.call(s,t)){const h=String(s[t]);o=cD.call(l,h)?l[h]:r.unknown}if(o)return o.call(this,s,...a)}return r.handlers=i.handlers||{},r.invalid=i.invalid,r.unknown=i.unknown,r}const EW=/["&'<>`]/g,AW=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,RW=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,LW=/[|\\{}()[\]^$+*?.]/g,hD=new WeakMap;function DW(t,e){if(t=t.replace(e.subset?kW(e.subset):EW,r),e.subset||e.escapeOnly)return t;return t.replace(AW,i).replace(RW,r);function i(s,a,o){return e.format((s.charCodeAt(0)-55296)*1024+s.charCodeAt(1)-56320+65536,o.charCodeAt(a+2),e)}function r(s,a,o){return e.format(s.charCodeAt(0),o.charCodeAt(a+1),e)}}function kW(t){let e=hD.get(t);return e||(e=NW(t),hD.set(t,e)),e}function NW(t){const e=[];let i=-1;for(;++i<t.length;)e.push(t[i].replace(LW,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const PW=/[\dA-Fa-f]/;function OW(t,e,i){const r="&#x"+t.toString(16).toUpperCase();return i&&e&&!PW.test(String.fromCharCode(e))?r:r+";"}const BW=/\d/;function IW(t,e,i){const r="&#"+String(t);return i&&e&&!BW.test(String.fromCharCode(e))?r:r+";"}const FW=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],o2={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},UW=["cent","copy","divide","gt","lt","not","para","times"],EF={}.hasOwnProperty,iM={};let fb;for(fb in o2)EF.call(o2,fb)&&(iM[o2[fb]]=fb);const zW=/[^\dA-Za-z]/;function HW(t,e,i,r){const s=String.fromCharCode(t);if(EF.call(iM,s)){const a=iM[s],o="&"+a;return i&&FW.includes(a)&&!UW.includes(a)&&(!r||e&&e!==61&&zW.test(String.fromCharCode(e)))?o:o+";"}return""}function VW(t,e,i){let r=OW(t,e,i.omitOptionalSemicolons),s;if((i.useNamedReferences||i.useShortestReferences)&&(s=HW(t,e,i.omitOptionalSemicolons,i.attribute)),(i.useShortestReferences||!s)&&i.useShortestReferences){const a=IW(t,e,i.omitOptionalSemicolons);a.length<r.length&&(r=a)}return s&&(!i.useShortestReferences||s.length<r.length)?s:r}function tg(t,e){return DW(t,Object.assign({format:VW},e))}const GW=/^>|^->|<!--|-->|--!>|<!-$/g,$W=[">"],qW=["<",">"];function WW(t,e,i,r){return r.settings.bogusComments?"<?"+tg(t.value,Object.assign({},r.settings.characterReferences,{subset:$W}))+">":"<!--"+t.value.replace(GW,s)+"-->";function s(a){return tg(a,Object.assign({},r.settings.characterReferences,{subset:qW}))}}function XW(t,e,i,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function uD(t,e){const i=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,s=i.indexOf(e);for(;s!==-1;)r++,s=i.indexOf(e,s+e.length);return r}function YW(t,e){const i=e||{};return(t[t.length-1]===""?[...t,""]:t).join((i.padRight?" ":"")+","+(i.padLeft===!1?"":" ")).trim()}function KW(t){return t.join(" ").trim()}const ZW=/[ \t\n\f\r]/g;function OE(t){return typeof t=="object"?t.type==="text"?dD(t.value):!1:dD(t)}function dD(t){return t.replace(ZW,"")===""}const $r=RF(1),AF=RF(-1),QW=[];function RF(t){return e;function e(i,r,s){const a=i?i.children:QW;let o=(r||0)+t,l=a[o];if(!s)for(;l&&OE(l);)o+=t,l=a[o];return l}}const JW={}.hasOwnProperty;function LF(t){return e;function e(i,r,s){return JW.call(t,i.tagName)&&t[i.tagName](i,r,s)}}const BE=LF({body:tX,caption:l2,colgroup:l2,dd:sX,dt:rX,head:l2,html:eX,li:iX,optgroup:aX,option:oX,p:nX,rp:fD,rt:fD,tbody:cX,td:pD,tfoot:hX,th:pD,thead:lX,tr:uX});function l2(t,e,i){const r=$r(i,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&OE(r.value.charAt(0)))}function eX(t,e,i){const r=$r(i,e);return!r||r.type!=="comment"}function tX(t,e,i){const r=$r(i,e);return!r||r.type!=="comment"}function nX(t,e,i){const r=$r(i,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!i||!(i.type==="element"&&(i.tagName==="a"||i.tagName==="audio"||i.tagName==="del"||i.tagName==="ins"||i.tagName==="map"||i.tagName==="noscript"||i.tagName==="video"))}function iX(t,e,i){const r=$r(i,e);return!r||r.type==="element"&&r.tagName==="li"}function rX(t,e,i){const r=$r(i,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function sX(t,e,i){const r=$r(i,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function fD(t,e,i){const r=$r(i,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function aX(t,e,i){const r=$r(i,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function oX(t,e,i){const r=$r(i,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function lX(t,e,i){const r=$r(i,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function cX(t,e,i){const r=$r(i,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function hX(t,e,i){return!$r(i,e)}function uX(t,e,i){const r=$r(i,e);return!r||r.type==="element"&&r.tagName==="tr"}function pD(t,e,i){const r=$r(i,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const dX=LF({body:mX,colgroup:gX,head:pX,html:fX,tbody:xX});function fX(t){const e=$r(t,-1);return!e||e.type!=="comment"}function pX(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const i=t.children[0];return!i||i.type==="element"}function mX(t){const e=$r(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&OE(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function gX(t,e,i){const r=AF(i,e),s=$r(t,-1,!0);return i&&r&&r.type==="element"&&r.tagName==="colgroup"&&BE(r,i.children.indexOf(r),i)?!1:!!(s&&s.type==="element"&&s.tagName==="col")}function xX(t,e,i){const r=AF(i,e),s=$r(t,-1);return i&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&BE(r,i.children.indexOf(r),i)?!1:!!(s&&s.type==="element"&&s.tagName==="tr")}const pb={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function yX(t,e,i,r){const s=r.schema,a=s.space==="svg"?!1:r.settings.omitOptionalTags;let o=s.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const l=[];let h;s.space==="html"&&t.tagName==="svg"&&(r.schema=MF);const d=vX(r,t.properties),p=r.all(s.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=s,p&&(o=!1),(d||!a||!dX(t,e,i))&&(l.push("<",t.tagName,d?" "+d:""),o&&(s.space==="svg"||r.settings.closeSelfClosing)&&(h=d.charAt(d.length-1),(!r.settings.tightSelfClosing||h==="/"||h&&h!=='"'&&h!=="'")&&l.push(" "),l.push("/")),l.push(">")),l.push(p),!o&&(!a||!BE(t,e,i))&&l.push("</"+t.tagName+">"),l.join("")}function vX(t,e){const i=[];let r=-1,s;if(e){for(s in e)if(e[s]!==null&&e[s]!==void 0){const a=_X(t,s,e[s]);a&&i.push(a)}}for(;++r<i.length;){const a=t.settings.tightAttributes?i[r].charAt(i[r].length-1):void 0;r!==i.length-1&&a!=='"'&&a!=="'"&&(i[r]+=" ")}return i.join("")}function _X(t,e,i){const r=SW(t.schema,e),s=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,a=t.settings.allowDangerousCharacters?0:1;let o=t.quote,l;if(r.overloadedBoolean&&(i===r.attribute||i==="")?i=!0:(r.boolean||r.overloadedBoolean)&&(typeof i!="string"||i===r.attribute||i==="")&&(i=!!i),i==null||i===!1||typeof i=="number"&&Number.isNaN(i))return"";const h=tg(r.attribute,Object.assign({},t.settings.characterReferences,{subset:pb.name[s][a]}));return i===!0||(i=Array.isArray(i)?(r.commaSeparated?YW:KW)(i,{padLeft:!t.settings.tightCommaSeparatedLists}):String(i),t.settings.collapseEmptyAttributes&&!i)?h:(t.settings.preferUnquoted&&(l=tg(i,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:pb.unquoted[s][a]}))),l!==i&&(t.settings.quoteSmart&&uD(i,o)>uD(i,t.alternative)&&(o=t.alternative),l=o+tg(i,Object.assign({},t.settings.characterReferences,{subset:(o==="'"?pb.single:pb.double)[s][a],attribute:!0}))+o),h+(l&&"="+l))}const bX=["<","&"];function DF(t,e,i,r){return i&&i.type==="element"&&(i.tagName==="script"||i.tagName==="style")?t.value:tg(t.value,Object.assign({},r.settings.characterReferences,{subset:bX}))}function jX(t,e,i,r){return r.settings.allowDangerousHtml?t.value:DF(t,e,i,r)}function SX(t,e,i,r){return r.all(t)}const wX=MW("type",{invalid:TX,unknown:CX,handlers:{comment:WW,doctype:XW,element:yX,raw:jX,root:SX,text:DF}});function TX(t){throw new Error("Expected node, not `"+t+"`")}function CX(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const MX={},EX={},AX=[];function RX(t,e){const i=e||MX,r=i.quote||'"',s=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:LX,all:DX,settings:{omitOptionalTags:i.omitOptionalTags||!1,allowParseErrors:i.allowParseErrors||!1,allowDangerousCharacters:i.allowDangerousCharacters||!1,quoteSmart:i.quoteSmart||!1,preferUnquoted:i.preferUnquoted||!1,tightAttributes:i.tightAttributes||!1,upperDoctype:i.upperDoctype||!1,tightDoctype:i.tightDoctype||!1,bogusComments:i.bogusComments||!1,tightCommaSeparatedLists:i.tightCommaSeparatedLists||!1,tightSelfClosing:i.tightSelfClosing||!1,collapseEmptyAttributes:i.collapseEmptyAttributes||!1,allowDangerousHtml:i.allowDangerousHtml||!1,voids:i.voids||xW,characterReferences:i.characterReferences||EX,closeSelfClosing:i.closeSelfClosing||!1,closeEmptyElements:i.closeEmptyElements||!1},schema:i.space==="svg"?MF:CW,quote:r,alternative:s}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function LX(t,e,i){return wX(t,e,i,this)}function DX(t){const e=[],i=t&&t.children||AX;let r=-1;for(;++r<i.length;)e[r]=this.one(i[r],r,t);return e.join("")}function rS(t,e){const i=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[s,a]of Object.entries(e?.colorReplacements||{}))typeof a=="string"?i[s]=a:s===r&&Object.assign(i,a);return i}function td(t,e){return t&&(e?.[t?.toLowerCase()]||t)}function kX(t){return Array.isArray(t)?t:[t]}async function kF(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function IE(t){return!t||["plaintext","txt","text","plain"].includes(t)}function NF(t){return t==="ansi"||IE(t)}function FE(t){return t==="none"}function PF(t){return FE(t)}function OF(t,e){if(!e)return t;t.properties||={},t.properties.class||=[],typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const i=Array.isArray(e)?e:e.split(/\s+/g);for(const r of i)r&&!t.properties.class.includes(r)&&t.properties.class.push(r);return t}function z1(t,e=!1){const i=t.split(/(\r?\n)/g);let r=0;const s=[];for(let a=0;a<i.length;a+=2){const o=e?i[a]+(i[a+1]||""):i[a];s.push([o,r]),r+=i[a].length,r+=i[a+1]?.length||0}return s}function NX(t){const e=z1(t,!0).map(([s])=>s);function i(s){if(s===t.length)return{line:e.length-1,character:e[e.length-1].length};let a=s,o=0;for(const l of e){if(a<l.length)break;a-=l.length,o++}return{line:o,character:a}}function r(s,a){let o=0;for(let l=0;l<s;l++)o+=e[l].length;return o+=a,o}return{lines:e,indexToPos:i,posToIndex:r}}function PX(t,e,i){const r=new Set;for(const a of t.matchAll(/lang=["']([\w-]+)["']/g))r.add(a[1]);for(const a of t.matchAll(/(?:```|~~~)([\w-]+)/g))r.add(a[1]);for(const a of t.matchAll(/\\begin\{([\w-]+)\}/g))r.add(a[1]);if(!i)return Array.from(r);const s=i.getBundledLanguages();return Array.from(r).filter(a=>a&&s[a])}const UE="light-dark()",OX=["color","background-color"];function BX(t,e){let i=0;const r=[];for(const s of e)s>i&&r.push({...t,content:t.content.slice(i,s),offset:t.offset+i}),i=s;return i<t.content.length&&r.push({...t,content:t.content.slice(i),offset:t.offset+i}),r}function IX(t,e){const i=Array.from(e instanceof Set?e:new Set(e)).sort((r,s)=>r-s);return i.length?t.map(r=>r.flatMap(s=>{const a=i.filter(o=>s.offset<o&&o<s.offset+s.content.length).map(o=>o-s.offset).sort((o,l)=>o-l);return a.length?BX(s,a):s})):t}function FX(t,e,i,r,s="css-vars"){const a={content:t.content,explanation:t.explanation,offset:t.offset},o=e.map(p=>sS(t.variants[p])),l=new Set(o.flatMap(p=>Object.keys(p))),h={},d=(p,g)=>{const v=g==="color"?"":g==="background-color"?"-bg":`-${g}`;return i+e[p]+(g==="color"?"":v)};return o.forEach((p,g)=>{for(const v of l){const _=p[v]||"inherit";if(g===0&&r&&OX.includes(v))if(r===UE&&o.length>1){const j=e.findIndex(A=>A==="light"),T=e.findIndex(A=>A==="dark");if(j===-1||T===-1)throw new Tr('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const C=o[j][v]||"inherit",w=o[T][v]||"inherit";h[v]=`light-dark(${C}, ${w})`,s==="css-vars"&&(h[d(g,v)]=_)}else h[v]=_;else s==="css-vars"&&(h[d(g,v)]=_)}}),a.htmlStyle=h,a}function sS(t){const e={};if(t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle){t.fontStyle&Is.Italic&&(e["font-style"]="italic"),t.fontStyle&Is.Bold&&(e["font-weight"]="bold");const i=[];t.fontStyle&Is.Underline&&i.push("underline"),t.fontStyle&Is.Strikethrough&&i.push("line-through"),i.length&&(e["text-decoration"]=i.join(" "))}return e}function rM(t){return typeof t=="string"?t:Object.entries(t).map(([e,i])=>`${e}:${i}`).join(";")}const BF=new WeakMap;function H1(t,e){BF.set(t,e)}function D0(t){return BF.get(t)}class $g{_stacks={};lang;get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,i){return new $g(Object.fromEntries(kX(i).map(r=>[r,eM])),e)}constructor(...e){if(e.length===2){const[i,r]=e;this.lang=r,this._stacks=i}else{const[i,r,s]=e;this.lang=r,this._stacks={[s]:i}}}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return UX(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function UX(t){const e=[],i=new Set;function r(s){if(i.has(s))return;i.add(s);const a=s?.nameScopesList?.scopeName;a&&e.push(a),s.parent&&r(s.parent)}return r(t),e}function zX(t,e){if(!(t instanceof $g))throw new Tr("Invalid grammar state");return t.getInternalStack(e)}function HX(){const t=new WeakMap;function e(i){if(!t.has(i.meta)){let r=function(o){if(typeof o=="number"){if(o<0||o>i.source.length)throw new Tr(`Invalid decoration offset: ${o}. Code length: ${i.source.length}`);return{...s.indexToPos(o),offset:o}}else{const l=s.lines[o.line];if(l===void 0)throw new Tr(`Invalid decoration position ${JSON.stringify(o)}. Lines length: ${s.lines.length}`);if(o.character<0||o.character>l.length)throw new Tr(`Invalid decoration position ${JSON.stringify(o)}. Line ${o.line} length: ${l.length}`);return{...o,offset:s.posToIndex(o.line,o.character)}}};const s=NX(i.source),a=(i.options.decorations||[]).map(o=>({...o,start:r(o.start),end:r(o.end)}));VX(a),t.set(i.meta,{decorations:a,converter:s,source:i.source})}return t.get(i.meta)}return{name:"shiki:decorations",tokens(i){if(!this.options.decorations?.length)return;const s=e(this).decorations.flatMap(o=>[o.start.offset,o.end.offset]);return IX(i,s)},code(i){if(!this.options.decorations?.length)return;const r=e(this),s=Array.from(i.children).filter(p=>p.type==="element"&&p.tagName==="span");if(s.length!==r.converter.lines.length)throw new Tr(`Number of lines in code element (${s.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function a(p,g,v,_){const j=s[p];let T="",C=-1,w=-1;if(g===0&&(C=0),v===0&&(w=0),v===Number.POSITIVE_INFINITY&&(w=j.children.length),C===-1||w===-1)for(let L=0;L<j.children.length;L++)T+=IF(j.children[L]),C===-1&&T.length===g&&(C=L+1),w===-1&&T.length===v&&(w=L+1);if(C===-1)throw new Tr(`Failed to find start index for decoration ${JSON.stringify(_.start)}`);if(w===-1)throw new Tr(`Failed to find end index for decoration ${JSON.stringify(_.end)}`);const A=j.children.slice(C,w);if(!_.alwaysWrap&&A.length===j.children.length)l(j,_,"line");else if(!_.alwaysWrap&&A.length===1&&A[0].type==="element")l(A[0],_,"token");else{const L={type:"element",tagName:"span",properties:{},children:A};l(L,_,"wrapper"),j.children.splice(C,A.length,L)}}function o(p,g){s[p]=l(s[p],g,"line")}function l(p,g,v){const _=g.properties||{},j=g.transform||(T=>T);return p.tagName=g.tagName||"span",p.properties={...p.properties,..._,class:p.properties.class},g.properties?.class&&OF(p,g.properties.class),p=j(p,v)||p,p}const h=[],d=r.decorations.sort((p,g)=>g.start.offset-p.start.offset||p.end.offset-g.end.offset);for(const p of d){const{start:g,end:v}=p;if(g.line===v.line)a(g.line,g.character,v.character,p);else if(g.line<v.line){a(g.line,g.character,Number.POSITIVE_INFINITY,p);for(let _=g.line+1;_<v.line;_++)h.unshift(()=>o(_,p));a(v.line,0,v.character,p)}}h.forEach(p=>p())}}}function VX(t){for(let e=0;e<t.length;e++){const i=t[e];if(i.start.offset>i.end.offset)throw new Tr(`Invalid decoration range: ${JSON.stringify(i.start)} - ${JSON.stringify(i.end)}`);for(let r=e+1;r<t.length;r++){const s=t[r],a=i.start.offset<=s.start.offset&&s.start.offset<i.end.offset,o=i.start.offset<s.end.offset&&s.end.offset<=i.end.offset,l=s.start.offset<=i.start.offset&&i.start.offset<s.end.offset,h=s.start.offset<i.end.offset&&i.end.offset<=s.end.offset;if(a||o||l||h){if(a&&o||l&&h)continue;throw new Tr(`Decorations ${JSON.stringify(i.start)} and ${JSON.stringify(s.start)} intersect.`)}}}}function IF(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(IF).join(""):""}const GX=[HX()];function aS(t){return[...t.transformers||[],...GX]}var Nf=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],c2={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function $X(t,e){const i=t.indexOf("\x1B",e);if(i!==-1&&t[i+1]==="["){const r=t.indexOf("m",i);if(r!==-1)return{sequence:t.substring(i+2,r).split(";"),startPosition:i,position:r+1}}return{position:t.length}}function mD(t){const e=t.shift();if(e==="2"){const i=t.splice(0,3).map(r=>Number.parseInt(r));return i.length!==3||i.some(r=>Number.isNaN(r))?void 0:{type:"rgb",rgb:i}}else if(e==="5"){const i=t.shift();if(i)return{type:"table",index:Number(i)}}}function qX(t){const e=[];for(;t.length>0;){const i=t.shift();if(!i)continue;const r=Number.parseInt(i);if(!Number.isNaN(r))if(r===0)e.push({type:"resetAll"});else if(r<=9)c2[r]&&e.push({type:"setDecoration",value:c2[r]});else if(r<=29){const s=c2[r-20];s&&(e.push({type:"resetDecoration",value:s}),s==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Nf[r-30]}});else if(r===38){const s=mD(t);s&&e.push({type:"setForegroundColor",value:s})}else if(r===39)e.push({type:"resetForegroundColor"});else if(r<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Nf[r-40]}});else if(r===48){const s=mD(t);s&&e.push({type:"setBackgroundColor",value:s})}else r===49?e.push({type:"resetBackgroundColor"}):r===53?e.push({type:"setDecoration",value:"overline"}):r===55?e.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Nf[r-90+8]}}):r>=100&&r<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Nf[r-100+8]}})}return e}function WX(){let t=null,e=null,i=new Set;return{parse(r){const s=[];let a=0;do{const o=$X(r,a),l=o.sequence?r.substring(a,o.startPosition):r.substring(a);if(l.length>0&&s.push({value:l,foreground:t,background:e,decorations:new Set(i)}),o.sequence){const h=qX(o.sequence);for(const d of h)d.type==="resetAll"?(t=null,e=null,i.clear()):d.type==="resetForegroundColor"?t=null:d.type==="resetBackgroundColor"?e=null:d.type==="resetDecoration"&&i.delete(d.value);for(const d of h)d.type==="setForegroundColor"?t=d.value:d.type==="setBackgroundColor"?e=d.value:d.type==="setDecoration"&&i.add(d.value)}a=o.position}while(a<r.length);return s}}}var XX={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function YX(t=XX){function e(l){return t[l]}function i(l){return`#${l.map(h=>Math.max(0,Math.min(h,255)).toString(16).padStart(2,"0")).join("")}`}let r;function s(){if(r)return r;r=[];for(let d=0;d<Nf.length;d++)r.push(e(Nf[d]));let l=[0,95,135,175,215,255];for(let d=0;d<6;d++)for(let p=0;p<6;p++)for(let g=0;g<6;g++)r.push(i([l[d],l[p],l[g]]));let h=8;for(let d=0;d<24;d++,h+=10)r.push(i([h,h,h]));return r}function a(l){return s()[l]}function o(l){switch(l.type){case"named":return e(l.name);case"rgb":return i(l.rgb);case"table":return a(l.index)}}return{value:o}}function KX(t,e,i){const r=rS(t,i),s=z1(e),a=YX(Object.fromEntries(Nf.map(l=>[l,t.colors?.[`terminal.ansi${l[0].toUpperCase()}${l.substring(1)}`]]))),o=WX();return s.map(l=>o.parse(l[0]).map(h=>{let d,p;h.decorations.has("reverse")?(d=h.background?a.value(h.background):t.bg,p=h.foreground?a.value(h.foreground):t.fg):(d=h.foreground?a.value(h.foreground):t.fg,p=h.background?a.value(h.background):void 0),d=td(d,r),p=td(p,r),h.decorations.has("dim")&&(d=ZX(d));let g=Is.None;return h.decorations.has("bold")&&(g|=Is.Bold),h.decorations.has("italic")&&(g|=Is.Italic),h.decorations.has("underline")&&(g|=Is.Underline),h.decorations.has("strikethrough")&&(g|=Is.Strikethrough),{content:h.value,offset:l[1],color:d,bgColor:p,fontStyle:g}}))}function ZX(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const i=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return i?`var(${i[1]}-dim)`:t}function zE(t,e,i={}){const{lang:r="text",theme:s=t.getLoadedThemes()[0]}=i;if(IE(r)||FE(s))return z1(e).map(h=>[{content:h[0],offset:h[1]}]);const{theme:a,colorMap:o}=t.setTheme(s);if(r==="ansi")return KX(a,e,i);const l=t.getLanguage(r);if(i.grammarState){if(i.grammarState.lang!==l.name)throw new Tr(`Grammar state language "${i.grammarState.lang}" does not match highlight language "${l.name}"`);if(!i.grammarState.themes.includes(a.name))throw new Tr(`Grammar state themes "${i.grammarState.themes}" do not contain highlight theme "${a.name}"`)}return JX(e,l,a,o,i)}function QX(...t){if(t.length===2)return D0(t[1]);const[e,i,r={}]=t,{lang:s="text",theme:a=e.getLoadedThemes()[0]}=r;if(IE(s)||FE(a))throw new Tr("Plain language does not have grammar state");if(s==="ansi")throw new Tr("ANSI language does not have grammar state");const{theme:o,colorMap:l}=e.setTheme(a),h=e.getLanguage(s);return new $g(oS(i,h,o,l,r).stateStack,h.name,o.name)}function JX(t,e,i,r,s){const a=oS(t,e,i,r,s),o=new $g(oS(t,e,i,r,s).stateStack,e.name,i.name);return H1(a.tokens,o),a.tokens}function oS(t,e,i,r,s){const a=rS(i,s),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:l=500}=s,h=z1(t);let d=s.grammarState?zX(s.grammarState,i.name)??eM:s.grammarContextCode!=null?oS(s.grammarContextCode,e,i,r,{...s,grammarState:void 0,grammarContextCode:void 0}).stateStack:eM,p=[];const g=[];for(let v=0,_=h.length;v<_;v++){const[j,T]=h[v];if(j===""){p=[],g.push([]);continue}if(o>0&&j.length>=o){p=[],g.push([{content:j,offset:T,color:"",fontStyle:0}]);continue}let C,w,A;s.includeExplanation&&(C=e.tokenizeLine(j,d,l),w=C.tokens,A=0);const L=e.tokenizeLine2(j,d,l),k=L.tokens.length/2;for(let I=0;I<k;I++){const z=L.tokens[2*I],U=I+1<k?L.tokens[2*I+2]:j.length;if(z===U)continue;const H=L.tokens[2*I+1],P=td(r[yg.getForeground(H)],a),N=yg.getFontStyle(H),G={content:j.substring(z,U),offset:T+z,color:P,fontStyle:N};if(s.includeExplanation){const te=[];if(s.includeExplanation!=="scopeName")for(const K of i.settings){let ee;switch(typeof K.scope){case"string":ee=K.scope.split(/,/).map(O=>O.trim());break;case"object":ee=K.scope;break;default:continue}te.push({settings:K,selectors:ee.map(O=>O.split(/ /))})}G.explanation=[];let Q=0;for(;z+Q<U;){const K=w[A],ee=j.substring(K.startIndex,K.endIndex);Q+=ee.length,G.explanation.push({content:ee,scopes:s.includeExplanation==="scopeName"?eY(K.scopes):tY(te,K.scopes)}),A+=1}}p.push(G)}g.push(p),p=[],d=L.ruleStack}return{tokens:g,stateStack:d}}function eY(t){return t.map(e=>({scopeName:e}))}function tY(t,e){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i[r]={scopeName:a,themeMatches:iY(t,a,e.slice(0,r))}}return i}function gD(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function nY(t,e,i){if(!gD(t[t.length-1],e))return!1;let r=t.length-2,s=i.length-1;for(;r>=0&&s>=0;)gD(t[r],i[s])&&(r-=1),s-=1;return r===-1}function iY(t,e,i){const r=[];for(const{selectors:s,settings:a}of t)for(const o of s)if(nY(o,e,i)){r.push(a);break}return r}function FF(t,e,i){const r=Object.entries(i.themes).filter(h=>h[1]).map(h=>({color:h[0],theme:h[1]})),s=r.map(h=>{const d=zE(t,e,{...i,theme:h.theme}),p=D0(d),g=typeof h.theme=="string"?h.theme:h.theme.name;return{tokens:d,state:p,theme:g}}),a=rY(...s.map(h=>h.tokens)),o=a[0].map((h,d)=>h.map((p,g)=>{const v={content:p.content,variants:{},offset:p.offset};return"includeExplanation"in i&&i.includeExplanation&&(v.explanation=p.explanation),a.forEach((_,j)=>{const{content:T,explanation:C,offset:w,...A}=_[d][g];v.variants[r[j].color]=A}),v})),l=s[0].state?new $g(Object.fromEntries(s.map(h=>[h.theme,h.state?.getInternalStack(h.theme)])),s[0].state.lang):void 0;return l&&H1(o,l),o}function rY(...t){const e=t.map(()=>[]),i=t.length;for(let r=0;r<t[0].length;r++){const s=t.map(h=>h[r]),a=e.map(()=>[]);e.forEach((h,d)=>h.push(a[d]));const o=s.map(()=>0),l=s.map(h=>h[0]);for(;l.every(h=>h);){const h=Math.min(...l.map(d=>d.content.length));for(let d=0;d<i;d++){const p=l[d];p.content.length===h?(a[d].push(p),o[d]+=1,l[d]=s[d][o[d]]):(a[d].push({...p,content:p.content.slice(0,h)}),l[d]={...p,content:p.content.slice(h),offset:p.offset+h})}}}return e}function lS(t,e,i){let r,s,a,o,l,h;if("themes"in i){const{defaultColor:d="light",cssVariablePrefix:p="--shiki-",colorsRendering:g="css-vars"}=i,v=Object.entries(i.themes).filter(w=>w[1]).map(w=>({color:w[0],theme:w[1]})).sort((w,A)=>w.color===d?-1:A.color===d?1:0);if(v.length===0)throw new Tr("`themes` option must not be empty");const _=FF(t,e,i);if(h=D0(_),d&&UE!==d&&!v.find(w=>w.color===d))throw new Tr(`\`themes\` option must contain the defaultColor key \`${d}\``);const j=v.map(w=>t.getTheme(w.theme)),T=v.map(w=>w.color);a=_.map(w=>w.map(A=>FX(A,T,p,d,g))),h&&H1(a,h);const C=v.map(w=>rS(w.theme,i));s=xD(v,j,C,p,d,"fg",g),r=xD(v,j,C,p,d,"bg",g),o=`shiki-themes ${j.map(w=>w.name).join(" ")}`,l=d?void 0:[s,r].join(";")}else if("theme"in i){const d=rS(i.theme,i);a=zE(t,e,i);const p=t.getTheme(i.theme);r=td(p.bg,d),s=td(p.fg,d),o=p.name,h=D0(a)}else throw new Tr("Invalid options, either `theme` or `themes` must be provided");return{tokens:a,fg:s,bg:r,themeName:o,rootStyle:l,grammarState:h}}function xD(t,e,i,r,s,a,o){return t.map((l,h)=>{const d=td(e[h][a],i[h])||"inherit",p=`${r+l.color}${a==="bg"?"-bg":""}:${d}`;if(h===0&&s){if(s===UE&&t.length>1){const g=t.findIndex(T=>T.color==="light"),v=t.findIndex(T=>T.color==="dark");if(g===-1||v===-1)throw new Tr('When using `defaultColor: "light-dark()"`, you must provide both `light` and `dark` themes');const _=td(e[g][a],i[g])||"inherit",j=td(e[v][a],i[v])||"inherit";return`light-dark(${_}, ${j});${p}`}return d}return o==="css-vars"?p:null}).filter(l=>!!l).join(";")}function cS(t,e,i,r={meta:{},options:i,codeToHast:(s,a)=>cS(t,s,a),codeToTokens:(s,a)=>lS(t,s,a)}){let s=e;for(const j of aS(i))s=j.preprocess?.call(r,s,i)||s;let{tokens:a,fg:o,bg:l,themeName:h,rootStyle:d,grammarState:p}=lS(t,s,i);const{mergeWhitespaces:g=!0,mergeSameStyleTokens:v=!1}=i;g===!0?a=aY(a):g==="never"&&(a=oY(a)),v&&(a=lY(a));const _={...r,get source(){return s}};for(const j of aS(i))a=j.tokens?.call(_,a)||a;return sY(a,{...i,fg:o,bg:l,themeName:h,rootStyle:d},_,p)}function sY(t,e,i,r=D0(t)){const s=aS(e),a=[],o={type:"root",children:[]},{structure:l="classic",tabindex:h="0"}=e;let d={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...h!==!1&&h!=null?{tabindex:h.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([j])=>!j.startsWith("_")))},children:[]},p={type:"element",tagName:"code",properties:{},children:a};const g=[],v={...i,structure:l,addClassToHast:OF,get source(){return i.source},get tokens(){return t},get options(){return e},get root(){return o},get pre(){return d},get code(){return p},get lines(){return g}};if(t.forEach((j,T)=>{T&&(l==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):l==="classic"&&a.push({type:"text",value:`
`}));let C={type:"element",tagName:"span",properties:{class:"line"},children:[]},w=0;for(const A of j){let L={type:"element",tagName:"span",properties:{...A.htmlAttrs},children:[{type:"text",value:A.content}]};const k=rM(A.htmlStyle||sS(A));k&&(L.properties.style=k);for(const I of s)L=I?.span?.call(v,L,T+1,w,C,A)||L;l==="inline"?o.children.push(L):l==="classic"&&C.children.push(L),w+=A.content.length}if(l==="classic"){for(const A of s)C=A?.line?.call(v,C,T+1)||C;g.push(C),a.push(C)}}),l==="classic"){for(const j of s)p=j?.code?.call(v,p)||p;d.children.push(p);for(const j of s)d=j?.pre?.call(v,d)||d;o.children.push(d)}let _=o;for(const j of s)_=j?.root?.call(v,_)||_;return r&&H1(_,r),_}function aY(t){return t.map(e=>{const i=[];let r="",s=0;return e.forEach((a,o)=>{const h=!(a.fontStyle&&(a.fontStyle&Is.Underline||a.fontStyle&Is.Strikethrough));h&&a.content.match(/^\s+$/)&&e[o+1]?(s||(s=a.offset),r+=a.content):r?(h?i.push({...a,offset:s,content:r+a.content}):i.push({content:r,offset:s},a),s=0,r=""):i.push(a)}),i})}function oY(t){return t.map(e=>e.flatMap(i=>{if(i.content.match(/^\s+$/))return i;const r=i.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return i;const[,s,a,o]=r;if(!s&&!o)return i;const l=[{...i,offset:i.offset+s.length,content:a}];return s&&l.unshift({content:s,offset:i.offset}),o&&l.push({content:o,offset:i.offset+s.length+a.length}),l}))}function lY(t){return t.map(e=>{const i=[];for(const r of e){if(i.length===0){i.push({...r});continue}const s=i[i.length-1],a=rM(s.htmlStyle||sS(s)),o=rM(r.htmlStyle||sS(r)),l=s.fontStyle&&(s.fontStyle&Is.Underline||s.fontStyle&Is.Strikethrough),h=r.fontStyle&&(r.fontStyle&Is.Underline||r.fontStyle&Is.Strikethrough);!l&&!h&&a===o?s.content+=r.content:i.push({...r})}return i})}const cY=RX;function hY(t,e,i){const r={meta:{},options:i,codeToHast:(a,o)=>cS(t,a,o),codeToTokens:(a,o)=>lS(t,a,o)};let s=cY(cS(t,e,i,r));for(const a of aS(i))s=a.postprocess?.call(r,s,i)||s;return s}const yD={light:"#333333",dark:"#bbbbbb"},vD={light:"#fffffe",dark:"#1e1e1e"},_D="__shiki_resolved";function HE(t){if(t?.[_D])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||="dark",e.colorReplacements={...e.colorReplacements},e.settings||=[];let{bg:i,fg:r}=e;if(!i||!r){const l=e.settings?e.settings.find(h=>!h.name&&!h.scope):void 0;l?.settings?.foreground&&(r=l.settings.foreground),l?.settings?.background&&(i=l.settings.background),!r&&e?.colors?.["editor.foreground"]&&(r=e.colors["editor.foreground"]),!i&&e?.colors?.["editor.background"]&&(i=e.colors["editor.background"]),r||(r=e.type==="light"?yD.light:yD.dark),i||(i=e.type==="light"?vD.light:vD.dark),e.fg=r,e.bg=i}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let s=0;const a=new Map;function o(l){if(a.has(l))return a.get(l);s+=1;const h=`#${s.toString(16).padStart(8,"0").toLowerCase()}`;return e.colorReplacements?.[`#${h}`]?o(l):(a.set(l,h),h)}e.settings=e.settings.map(l=>{const h=l.settings?.foreground&&!l.settings.foreground.startsWith("#"),d=l.settings?.background&&!l.settings.background.startsWith("#");if(!h&&!d)return l;const p={...l,settings:{...l.settings}};if(h){const g=o(l.settings.foreground);e.colorReplacements[g]=l.settings.foreground,p.settings.foreground=g}if(d){const g=o(l.settings.background);e.colorReplacements[g]=l.settings.background,p.settings.background=g}return p});for(const l of Object.keys(e.colors||{}))if((l==="editor.foreground"||l==="editor.background"||l.startsWith("terminal.ansi"))&&!e.colors[l]?.startsWith("#")){const h=o(e.colors[l]);e.colorReplacements[h]=e.colors[l],e.colors[l]=h}return Object.defineProperty(e,_D,{enumerable:!1,writable:!1,value:!0}),e}async function UF(t){return Array.from(new Set((await Promise.all(t.filter(e=>!NF(e)).map(async e=>await kF(e).then(i=>Array.isArray(i)?i:[i])))).flat()))}async function zF(t){return(await Promise.all(t.map(async i=>PF(i)?null:HE(await kF(i))))).filter(i=>!!i)}let uY=3;function dY(t,e=3){e>uY||console.trace(`[SHIKI DEPRECATE]: ${t}`)}let $m=class extends Error{constructor(e){super(e),this.name="ShikiError"}};class fY extends gW{constructor(e,i,r,s={}){super(e),this._resolver=e,this._themes=i,this._langs=r,this._alias=s,this._themes.map(a=>this.loadTheme(a)),this.loadLanguages(this._langs)}_resolvedThemes=new Map;_resolvedGrammars=new Map;_langMap=new Map;_langGraph=new Map;_textmateThemeCache=new WeakMap;_loadedThemesCache=null;_loadedLanguagesCache=null;getTheme(e){return typeof e=="string"?this._resolvedThemes.get(e):this.loadTheme(e)}loadTheme(e){const i=HE(e);return i.name&&(this._resolvedThemes.set(i.name,i),this._loadedThemesCache=null),i}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(e){let i=this._textmateThemeCache.get(e);i||(i=Jj.createFromRawTheme(e),this._textmateThemeCache.set(e,i)),this._syncRegistry.setTheme(i)}getGrammar(e){if(this._alias[e]){const i=new Set([e]);for(;this._alias[e];){if(e=this._alias[e],i.has(e))throw new $m(`Circular alias \`${Array.from(i).join(" -> ")} -> ${e}\``);i.add(e)}}return this._resolvedGrammars.get(e)}loadLanguage(e){if(this.getGrammar(e.name))return;const i=new Set([...this._langMap.values()].filter(a=>a.embeddedLangsLazy?.includes(e.name)));this._resolver.addLanguage(e);const r={balancedBracketSelectors:e.balancedBracketSelectors||["*"],unbalancedBracketSelectors:e.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(e.scopeName,e);const s=this.loadGrammarWithConfiguration(e.scopeName,1,r);if(s.name=e.name,this._resolvedGrammars.set(e.name,s),e.aliases&&e.aliases.forEach(a=>{this._alias[a]=e.name}),this._loadedLanguagesCache=null,i.size)for(const a of i)this._resolvedGrammars.delete(a.name),this._loadedLanguagesCache=null,this._syncRegistry?._injectionGrammars?.delete(a.scopeName),this._syncRegistry?._grammars?.delete(a.scopeName),this.loadLanguage(this._langMap.get(a.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(e){for(const s of e)this.resolveEmbeddedLanguages(s);const i=Array.from(this._langGraph.entries()),r=i.filter(([s,a])=>!a);if(r.length){const s=i.filter(([a,o])=>o&&o.embeddedLangs?.some(l=>r.map(([h])=>h).includes(l))).filter(a=>!r.includes(a));throw new $m(`Missing languages ${r.map(([a])=>`\`${a}\``).join(", ")}, required by ${s.map(([a])=>`\`${a}\``).join(", ")}`)}for(const[s,a]of i)this._resolver.addLanguage(a);for(const[s,a]of i)this.loadLanguage(a)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(e){if(this._langMap.set(e.name,e),this._langGraph.set(e.name,e),e.embeddedLangs)for(const i of e.embeddedLangs)this._langGraph.set(i,this._langMap.get(i))}}class pY{_langs=new Map;_scopeToLang=new Map;_injections=new Map;_onigLib;constructor(e,i){this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},i.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(i=>{this._langs.set(i,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(i=>{this._injections.get(i)||this._injections.set(i,[]),this._injections.get(i).push(e.scopeName)})}getInjections(e){const i=e.split(".");let r=[];for(let s=1;s<=i.length;s++){const a=i.slice(0,s).join(".");r=[...r,...this._injections.get(a)||[]]}return r}}let by=0;function mY(t){by+=1,t.warnings!==!1&&by>=10&&by%10===0&&console.warn(`[Shiki] ${by} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new $m("`engine` option is required for synchronous mode");const i=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(HE),s=new pY(t.engine,i),a=new fY(s,r,i,t.langAlias);let o;function l(A){C();const L=a.getGrammar(typeof A=="string"?A:A.name);if(!L)throw new $m(`Language \`${A}\` not found, you may need to load it first`);return L}function h(A){if(A==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};C();const L=a.getTheme(A);if(!L)throw new $m(`Theme \`${A}\` not found, you may need to load it first`);return L}function d(A){C();const L=h(A);o!==A&&(a.setTheme(L),o=A);const k=a.getColorMap();return{theme:L,colorMap:k}}function p(){return C(),a.getLoadedThemes()}function g(){return C(),a.getLoadedLanguages()}function v(...A){C(),a.loadLanguages(A.flat(1))}async function _(...A){return v(await UF(A))}function j(...A){C();for(const L of A.flat(1))a.loadTheme(L)}async function T(...A){return C(),j(await zF(A))}function C(){if(e)throw new $m("Shiki instance has been disposed")}function w(){e||(e=!0,a.dispose(),by-=1)}return{setTheme:d,getTheme:h,getLanguage:l,getLoadedThemes:p,getLoadedLanguages:g,loadLanguage:_,loadLanguageSync:v,loadTheme:T,loadThemeSync:j,dispose:w,[Symbol.dispose]:w}}async function gY(t){t.engine||dY("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,i,r]=await Promise.all([zF(t.themes||[]),UF(t.langs||[]),t.engine]);return mY({...t,themes:e,langs:i,engine:r})}async function xY(t){const e=await gY(t);return{getLastGrammarState:(...i)=>QX(e,...i),codeToTokensBase:(i,r)=>zE(e,i,r),codeToTokensWithThemes:(i,r)=>FF(e,i,r),codeToTokens:(i,r)=>lS(e,i,r),codeToHast:(i,r)=>cS(e,i,r),codeToHtml:(i,r)=>hY(e,i,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function yY(t){const e=t.langs,i=t.themes,r=t.engine;async function s(a){function o(g){if(typeof g=="string"){if(NF(g))return[];g=a.langAlias?.[g]||g;const v=e[g];if(!v)throw new Tr(`Language \`${g}\` is not included in this bundle. You may want to load it from external source.`);return v}return g}function l(g){if(PF(g))return"none";if(typeof g=="string"){const v=i[g];if(!v)throw new Tr(`Theme \`${g}\` is not included in this bundle. You may want to load it from external source.`);return v}return g}const h=(a.themes??[]).map(g=>l(g)),d=(a.langs??[]).map(g=>o(g)),p=await xY({engine:a.engine??r(),...a,themes:h,langs:d});return{...p,loadLanguage(...g){return p.loadLanguage(...g.map(o))},loadTheme(...g){return p.loadTheme(...g.map(l))},getBundledLanguages(){return e},getBundledThemes(){return i}}}return s}function vY(t){let e;async function i(r={}){if(e){const s=await e;return await Promise.all([s.loadTheme(...r.themes||[]),s.loadLanguage(...r.langs||[])]),s}else return e=t({...r,themes:r.themes||[],langs:r.langs||[]}),e}return i}function _Y(t,e){const i=vY(t);async function r(s,a){const o=await i({langs:[a.lang],themes:"theme"in a?[a.theme]:Object.values(a.themes)}),l=await e?.guessEmbeddedLanguages?.(s,a.lang,o);return l&&await o.loadLanguage(...l),o}return{getSingletonHighlighter(s){return i(s)},async codeToHtml(s,a){return(await r(s,a)).codeToHtml(s,a)},async codeToHast(s,a){return(await r(s,a)).codeToHast(s,a)},async codeToTokens(s,a){return(await r(s,a)).codeToTokens(s,a)},async codeToTokensBase(s,a){return(await r(s,a)).codeToTokensBase(s,a)},async codeToTokensWithThemes(s,a){return(await r(s,a)).codeToTokensWithThemes(s,a)},async getLastGrammarState(s,a){return(await i({langs:[a.lang],themes:[a.theme]})).getLastGrammarState(s,a)}}}const HF=[{id:"abap",name:"ABAP",import:()=>ie(()=>import("./abap-BdImnpbu.js"),[])},{id:"actionscript-3",name:"ActionScript",import:()=>ie(()=>import("./actionscript-3-CfeIJUat.js"),[])},{id:"ada",name:"Ada",import:()=>ie(()=>import("./ada-bCR0ucgS.js"),[])},{id:"angular-html",name:"Angular HTML",import:()=>ie(()=>import("./angular-html-Bbf3ZyxA.js").then(t=>t.f),__vite__mapDeps([0,1,2,3]))},{id:"angular-ts",name:"Angular TypeScript",import:()=>ie(()=>import("./angular-ts-C26w9mnW.js"),__vite__mapDeps([4,0,1,2,3,5]))},{id:"apache",name:"Apache Conf",import:()=>ie(()=>import("./apache-Pmp26Uib.js"),[])},{id:"apex",name:"Apex",import:()=>ie(()=>import("./apex-C7Pw0Ztw.js"),[])},{id:"apl",name:"APL",import:()=>ie(()=>import("./apl-e980N3t4.js"),__vite__mapDeps([6,1,2,3,7,8,9]))},{id:"applescript",name:"AppleScript",import:()=>ie(()=>import("./applescript-Co6uUVPk.js"),[])},{id:"ara",name:"Ara",import:()=>ie(()=>import("./ara-BRHolxvo.js"),[])},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>ie(()=>import("./asciidoc-CdggvHu8.js"),[])},{id:"asm",name:"Assembly",import:()=>ie(()=>import("./asm-D_Q5rh1f.js"),[])},{id:"astro",name:"Astro",import:()=>ie(()=>import("./astro-CjFzhNUq.js"),__vite__mapDeps([10,9,2,11,3,12,13]))},{id:"awk",name:"AWK",import:()=>ie(()=>import("./awk-DMzUqQB5.js"),[])},{id:"ballerina",name:"Ballerina",import:()=>ie(()=>import("./ballerina-BFfxhgS-.js"),[])},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>ie(()=>import("./bat-BkioyH1T.js"),[])},{id:"beancount",name:"Beancount",import:()=>ie(()=>import("./beancount-BoKiGodi.js"),[])},{id:"berry",name:"Berry",aliases:["be"],import:()=>ie(()=>import("./berry-D08WgyRC.js"),[])},{id:"bibtex",name:"BibTeX",import:()=>ie(()=>import("./bibtex-CHM0blh-.js"),[])},{id:"bicep",name:"Bicep",import:()=>ie(()=>import("./bicep-6nHXG8SA.js"),[])},{id:"blade",name:"Blade",import:()=>ie(()=>import("./blade-DGJDb2eD.js"),__vite__mapDeps([14,15,1,2,3,7,8,16,9]))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>ie(()=>import("./bsl-BO_Y6i37.js"),__vite__mapDeps([17,18]))},{id:"c",name:"C",import:()=>ie(()=>import("./c-BIGW1oBm.js"),[])},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>ie(()=>import("./cadence-D2CYqzqI.js"),[])},{id:"cairo",name:"Cairo",import:()=>ie(()=>import("./cairo-KRGpt6FW.js"),__vite__mapDeps([19,20]))},{id:"clarity",name:"Clarity",import:()=>ie(()=>import("./clarity-CHh-QcGE.js"),[])},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>ie(()=>import("./clojure-P80f7IUj.js"),[])},{id:"cmake",name:"CMake",import:()=>ie(()=>import("./cmake-D1j8_8rp.js"),[])},{id:"cobol",name:"COBOL",import:()=>ie(()=>import("./cobol-CCPHrsME.js"),__vite__mapDeps([21,1,2,3,8]))},{id:"codeowners",name:"CODEOWNERS",import:()=>ie(()=>import("./codeowners-Bp6g37R7.js"),[])},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>ie(()=>import("./codeql-DsOJ9woJ.js"),[])},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>ie(()=>import("./coffee-JUOWOZUj.js"),__vite__mapDeps([22,2]))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>ie(()=>import("./common-lisp-Cg-RD9OK.js"),[])},{id:"coq",name:"Coq",import:()=>ie(()=>import("./coq-DkFqJrB1.js"),[])},{id:"cpp",name:"C++",aliases:["c++"],import:()=>ie(()=>import("./cpp-ChttZZSa.js"),__vite__mapDeps([23,24,25,26,16]))},{id:"crystal",name:"Crystal",import:()=>ie(()=>import("./crystal-CfkhwHAQ.js"),__vite__mapDeps([27,1,2,3,16,26,28]))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>ie(()=>import("./csharp-CHadp7IV.js"),[])},{id:"css",name:"CSS",import:()=>ie(()=>import("./css-DPfMkruS.js"),[])},{id:"csv",name:"CSV",import:()=>ie(()=>import("./csv-fuZLfV_i.js"),[])},{id:"cue",name:"CUE",import:()=>ie(()=>import("./cue-D82EKSYY.js"),[])},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>ie(()=>import("./cypher-COkxafJQ.js"),[])},{id:"d",name:"D",import:()=>ie(()=>import("./d-85-TOEBH.js"),[])},{id:"dart",name:"Dart",import:()=>ie(()=>import("./dart-CF10PKvl.js"),[])},{id:"dax",name:"DAX",import:()=>ie(()=>import("./dax-CEL-wOlO.js"),[])},{id:"desktop",name:"Desktop",import:()=>ie(()=>import("./desktop-BmXAJ9_W.js"),[])},{id:"diff",name:"Diff",import:()=>ie(()=>import("./diff-D97Zzqfu.js"),[])},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>ie(()=>import("./docker-BcOcwvcX.js"),[])},{id:"dotenv",name:"dotEnv",import:()=>ie(()=>import("./dotenv-Da5cRb03.js"),[])},{id:"dream-maker",name:"Dream Maker",import:()=>ie(()=>import("./dream-maker-BtqSS_iP.js"),[])},{id:"edge",name:"Edge",import:()=>ie(()=>import("./edge-CKszZCnI.js"),__vite__mapDeps([29,11,1,2,3,15]))},{id:"elixir",name:"Elixir",import:()=>ie(()=>import("./elixir-Cc7HHYVZ.js"),__vite__mapDeps([30,1,2,3]))},{id:"elm",name:"Elm",import:()=>ie(()=>import("./elm-DbKCFpqz.js"),__vite__mapDeps([31,25,26]))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>ie(()=>import("./emacs-lisp-C9XAeP06.js"),[])},{id:"erb",name:"ERB",import:()=>ie(()=>import("./erb-D3EuUlpm.js"),__vite__mapDeps([32,1,2,3,33,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]))},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>ie(()=>import("./erlang-DpOm0zC4.js"),[])},{id:"fennel",name:"Fennel",import:()=>ie(()=>import("./fennel-BYunw83y.js"),[])},{id:"fish",name:"Fish",import:()=>ie(()=>import("./fish-Bl2oy6fF.js"),[])},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>ie(()=>import("./fluent-C4IJs8-o.js"),[])},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>ie(()=>import("./fortran-fixed-form-BZjJHVRy.js"),__vite__mapDeps([39,40]))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>ie(()=>import("./fortran-free-form-D22FLkUw.js"),[])},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>ie(()=>import("./fsharp-DQy8In2x.js"),__vite__mapDeps([41,42]))},{id:"gdresource",name:"GDResource",import:()=>ie(()=>import("./gdresource-BSDf9Pz1.js"),__vite__mapDeps([43,44,45]))},{id:"gdscript",name:"GDScript",import:()=>ie(()=>import("./gdscript-Bty6elJm.js"),[])},{id:"gdshader",name:"GDShader",import:()=>ie(()=>import("./gdshader-DkwncUOv.js"),[])},{id:"genie",name:"Genie",import:()=>ie(()=>import("./genie-D0YGMca9.js"),[])},{id:"gherkin",name:"Gherkin",import:()=>ie(()=>import("./gherkin-DyxjwDmM.js"),[])},{id:"git-commit",name:"Git Commit Message",import:()=>ie(()=>import("./git-commit-F4YmCXRG.js"),__vite__mapDeps([46,47]))},{id:"git-rebase",name:"Git Rebase Message",import:()=>ie(()=>import("./git-rebase-r7XF79zn.js"),__vite__mapDeps([48,28]))},{id:"gleam",name:"Gleam",import:()=>ie(()=>import("./gleam-BspZqrRM.js"),[])},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>ie(()=>import("./glimmer-js-Dz9X99Cm.js"),__vite__mapDeps([49,2,11,3,1]))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>ie(()=>import("./glimmer-ts-aQ3p29eY.js"),__vite__mapDeps([50,11,3,2,1]))},{id:"glsl",name:"GLSL",import:()=>ie(()=>import("./glsl-DplSGwfg.js"),__vite__mapDeps([25,26]))},{id:"gnuplot",name:"Gnuplot",import:()=>ie(()=>import("./gnuplot-DdkO51Og.js"),[])},{id:"go",name:"Go",import:()=>ie(()=>import("./go-ByKsyG03.js"),[])},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>ie(()=>import("./graphql-Caa12_AY.js"),__vite__mapDeps([35,2,11,36,13]))},{id:"groovy",name:"Groovy",import:()=>ie(()=>import("./groovy-gcz8RCvz.js"),[])},{id:"hack",name:"Hack",import:()=>ie(()=>import("./hack-C1oSbnf3.js"),__vite__mapDeps([51,1,2,3,16]))},{id:"haml",name:"Ruby Haml",import:()=>ie(()=>import("./haml-AZXGPtNI.js"),__vite__mapDeps([34,2,3]))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>ie(()=>import("./handlebars-YebKLiTq.js"),__vite__mapDeps([52,1,2,3,38]))},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>ie(()=>import("./haskell-Df6bDoY_.js"),[])},{id:"haxe",name:"Haxe",import:()=>ie(()=>import("./haxe-BP3HzMA6.js"),[])},{id:"hcl",name:"HashiCorp HCL",import:()=>ie(()=>import("./hcl-BWvSN4gD.js"),[])},{id:"hjson",name:"Hjson",import:()=>ie(()=>import("./hjson-D5-asLiD.js"),[])},{id:"hlsl",name:"HLSL",import:()=>ie(()=>import("./hlsl-D3lLCCz7.js"),[])},{id:"html",name:"HTML",import:()=>ie(()=>import("./html-B8pBdPMQ.js"),__vite__mapDeps([1,2,3]))},{id:"html-derivative",name:"HTML (Derivative)",import:()=>ie(()=>import("./html-derivative-ZQ8onl8Z.js"),__vite__mapDeps([15,1,2,3]))},{id:"http",name:"HTTP",import:()=>ie(()=>import("./http-C38VWM-o.js"),__vite__mapDeps([53,28,9,7,8,35,2,11,36,13]))},{id:"hxml",name:"HXML",import:()=>ie(()=>import("./hxml-B2Z6b3nn.js"),__vite__mapDeps([54,55]))},{id:"hy",name:"Hy",import:()=>ie(()=>import("./hy-DFXneXwc.js"),[])},{id:"imba",name:"Imba",import:()=>ie(()=>import("./imba-DGztddWO.js"),[])},{id:"ini",name:"INI",aliases:["properties"],import:()=>ie(()=>import("./ini-BEwlwnbL.js"),[])},{id:"java",name:"Java",import:()=>ie(()=>import("./java-CylS5w8V.js"),[])},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>ie(()=>import("./javascript-BMMyXqK5.js"),[])},{id:"jinja",name:"Jinja",import:()=>ie(()=>import("./jinja-BJmZiE_F.js"),__vite__mapDeps([56,1,2,3]))},{id:"jison",name:"Jison",import:()=>ie(()=>import("./jison-BCRtk9Os.js"),__vite__mapDeps([57,2]))},{id:"json",name:"JSON",import:()=>ie(()=>import("./json-Cp-IABpG.js"),[])},{id:"json5",name:"JSON5",import:()=>ie(()=>import("./json5-C9tS-k6U.js"),[])},{id:"jsonc",name:"JSON with Comments",import:()=>ie(()=>import("./jsonc-Des-eS-w.js"),[])},{id:"jsonl",name:"JSON Lines",import:()=>ie(()=>import("./jsonl-DcaNXYhu.js"),[])},{id:"jsonnet",name:"Jsonnet",import:()=>ie(()=>import("./jsonnet-DFQXde-d.js"),[])},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>ie(()=>import("./jssm-C2t-YnRu.js"),[])},{id:"jsx",name:"JSX",import:()=>ie(()=>import("./jsx-g9-lgVsj.js"),[])},{id:"julia",name:"Julia",aliases:["jl"],import:()=>ie(()=>import("./julia-Dn4fBTUU.js"),__vite__mapDeps([58,23,24,25,26,16,20,2,59]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>ie(()=>import("./kotlin-BdnUsdx6.js"),[])},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>ie(()=>import("./kusto-BvAqAH-y.js"),[])},{id:"latex",name:"LaTeX",import:()=>ie(()=>import("./latex-DoYF_zFQ.js"),__vite__mapDeps([60,61,59]))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>ie(()=>import("./lean-c1G5yEKj.js"),[])},{id:"less",name:"Less",import:()=>ie(()=>import("./less-B1dDrJ26.js"),[])},{id:"liquid",name:"Liquid",import:()=>ie(()=>import("./liquid-DFk8BABL.js"),__vite__mapDeps([62,1,2,3,9]))},{id:"llvm",name:"LLVM IR",import:()=>ie(()=>import("./llvm-D32k8WzR.js"),[])},{id:"log",name:"Log file",import:()=>ie(()=>import("./log-2UxHyX5q.js"),[])},{id:"logo",name:"Logo",import:()=>ie(()=>import("./logo-BtOb2qkB.js"),[])},{id:"lua",name:"Lua",import:()=>ie(()=>import("./lua-BbnMAYS6.js"),__vite__mapDeps([37,26]))},{id:"luau",name:"Luau",import:()=>ie(()=>import("./luau-irsrSlf-.js"),[])},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>ie(()=>import("./make-CHLpvVh8.js"),[])},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>ie(()=>import("./markdown-RrBGtqGR.js"),[])},{id:"marko",name:"Marko",import:()=>ie(()=>import("./marko-C0z8HR23.js"),__vite__mapDeps([63,3,64,5,2]))},{id:"matlab",name:"MATLAB",import:()=>ie(()=>import("./matlab-D7o27uSR.js"),[])},{id:"mdc",name:"MDC",import:()=>ie(()=>import("./mdc-02rxpBA4.js"),__vite__mapDeps([65,42,38,15,1,2,3]))},{id:"mdx",name:"MDX",import:()=>ie(()=>import("./mdx-Cmh6b_Ma.js"),[])},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>ie(()=>import("./mermaid-DfEE3Bzs.js"),[])},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>ie(()=>import("./mipsasm-CKIfxQSi.js"),[])},{id:"mojo",name:"Mojo",import:()=>ie(()=>import("./mojo-1DNp92w6.js"),[])},{id:"move",name:"Move",import:()=>ie(()=>import("./move-BkPM1oy1.js"),[])},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>ie(()=>import("./narrat-DRg8JJMk.js"),[])},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>ie(()=>import("./nextflow-Bk5OV074.js"),[])},{id:"nginx",name:"Nginx",import:()=>ie(()=>import("./nginx-DknmC5AR.js"),__vite__mapDeps([66,37,26]))},{id:"nim",name:"Nim",import:()=>ie(()=>import("./nim-ANgMEeb1.js"),__vite__mapDeps([67,26,1,2,3,7,8,25,42]))},{id:"nix",name:"Nix",import:()=>ie(()=>import("./nix-BepWV7mh.js"),[])},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>ie(()=>import("./nushell-I3RK9BU8.js"),[])},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>ie(()=>import("./objective-c-DXmwc3jG.js"),[])},{id:"objective-cpp",name:"Objective-C++",import:()=>ie(()=>import("./objective-cpp-CLxacb5B.js"),[])},{id:"ocaml",name:"OCaml",import:()=>ie(()=>import("./ocaml-C0hk2d4L.js"),[])},{id:"pascal",name:"Pascal",import:()=>ie(()=>import("./pascal-D93ZcfNL.js"),[])},{id:"perl",name:"Perl",import:()=>ie(()=>import("./perl-EWVMYlR0.js"),__vite__mapDeps([68,1,2,3,7,8,16]))},{id:"php",name:"PHP",import:()=>ie(()=>import("./php-9PMsNEzE.js"),__vite__mapDeps([69,1,2,3,7,8,16,9]))},{id:"plsql",name:"PL/SQL",import:()=>ie(()=>import("./plsql-ChMvpjG-.js"),[])},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>ie(()=>import("./po-BTJTHyun.js"),[])},{id:"polar",name:"Polar",import:()=>ie(()=>import("./polar-C0HS_06l.js"),[])},{id:"postcss",name:"PostCSS",import:()=>ie(()=>import("./postcss-CXtECtnM.js"),[])},{id:"powerquery",name:"PowerQuery",import:()=>ie(()=>import("./powerquery-CEu0bR-o.js"),[])},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>ie(()=>import("./powershell-Dpen1YoG.js"),[])},{id:"prisma",name:"Prisma",import:()=>ie(()=>import("./prisma-Dd19v3D-.js"),[])},{id:"prolog",name:"Prolog",import:()=>ie(()=>import("./prolog-CbFg5uaA.js"),[])},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>ie(()=>import("./proto-DyJlTyXw.js"),[])},{id:"pug",name:"Pug",aliases:["jade"],import:()=>ie(()=>import("./pug-Ch9lOoSd.js"),__vite__mapDeps([70,2,3,1]))},{id:"puppet",name:"Puppet",import:()=>ie(()=>import("./puppet-BMWR74SV.js"),[])},{id:"purescript",name:"PureScript",import:()=>ie(()=>import("./purescript-CtrldY6v.js"),[])},{id:"python",name:"Python",aliases:["py"],import:()=>ie(()=>import("./python-B6aJPvgy.js"),[])},{id:"qml",name:"QML",import:()=>ie(()=>import("./qml-CHzV51_b.js"),__vite__mapDeps([71,2]))},{id:"qmldir",name:"QML Directory",import:()=>ie(()=>import("./qmldir-C8lEn-DE.js"),[])},{id:"qss",name:"Qt Style Sheets",import:()=>ie(()=>import("./qss-IeuSbFQv.js"),[])},{id:"r",name:"R",import:()=>ie(()=>import("./r-DyVeJk2s.js"),[])},{id:"racket",name:"Racket",import:()=>ie(()=>import("./racket-BqYA7rlc.js"),[])},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>ie(()=>import("./raku-DXvB9xmW.js"),[])},{id:"razor",name:"ASP.NET Razor",import:()=>ie(()=>import("./razor-CNXmhs1n.js"),__vite__mapDeps([72,1,2,3,73]))},{id:"reg",name:"Windows Registry Script",import:()=>ie(()=>import("./reg-C-SQnVFl.js"),[])},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>ie(()=>import("./regexp-CDVJQ6XC.js"),[])},{id:"rel",name:"Rel",import:()=>ie(()=>import("./rel-C3B-1QV4.js"),[])},{id:"riscv",name:"RISC-V",import:()=>ie(()=>import("./riscv-BM1_JUlF.js"),[])},{id:"rst",name:"reStructuredText",import:()=>ie(()=>import("./rst-DHpKpUMA.js"),__vite__mapDeps([74,15,1,2,3,23,24,25,26,16,20,28,38,75,33,34,7,8,35,11,36,13,37]))},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>ie(()=>import("./ruby-C5MNRm7z.js"),__vite__mapDeps([33,1,2,3,34,7,8,16,35,11,36,13,23,24,25,26,28,37,38]))},{id:"rust",name:"Rust",aliases:["rs"],import:()=>ie(()=>import("./rust-B1yitclQ.js"),[])},{id:"sas",name:"SAS",import:()=>ie(()=>import("./sas-Dlf3BogE.js"),__vite__mapDeps([76,16]))},{id:"sass",name:"Sass",import:()=>ie(()=>import("./sass-Cj5Yp3dK.js"),[])},{id:"scala",name:"Scala",import:()=>ie(()=>import("./scala-C151Ov-r.js"),[])},{id:"scheme",name:"Scheme",import:()=>ie(()=>import("./scheme-C98Dy4si.js"),[])},{id:"scss",name:"SCSS",import:()=>ie(()=>import("./scss-OYdSNvt2.js"),__vite__mapDeps([5,3]))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>ie(()=>import("./sdbl-DVxCFoDh.js"),[])},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>ie(()=>import("./shaderlab-Dg9Lc6iA.js"),__vite__mapDeps([77,78]))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>ie(()=>import("./shellscript-Yzrsuije.js"),[])},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>ie(()=>import("./shellsession-BADoaaVG.js"),__vite__mapDeps([79,28]))},{id:"smalltalk",name:"Smalltalk",import:()=>ie(()=>import("./smalltalk-BERRCDM3.js"),[])},{id:"solidity",name:"Solidity",import:()=>ie(()=>import("./solidity-BbcW6ACK.js"),[])},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>ie(()=>import("./soy-B_7ge1HE.js"),__vite__mapDeps([80,1,2,3]))},{id:"sparql",name:"SPARQL",import:()=>ie(()=>import("./sparql-rVzFXLq3.js"),__vite__mapDeps([81,82]))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>ie(()=>import("./splunk-BtCnVYZw.js"),[])},{id:"sql",name:"SQL",import:()=>ie(()=>import("./sql-B9xm8XSJ.js"),[])},{id:"ssh-config",name:"SSH Config",import:()=>ie(()=>import("./ssh-config-_ykCGR6B.js"),[])},{id:"stata",name:"Stata",import:()=>ie(()=>import("./stata-C5TGba-T.js"),__vite__mapDeps([83,16]))},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>ie(()=>import("./stylus-BEDo0Tqx.js"),[])},{id:"svelte",name:"Svelte",import:()=>ie(()=>import("./svelte-Dt5jNKfG.js"),__vite__mapDeps([84,2,11,3,12]))},{id:"swift",name:"Swift",import:()=>ie(()=>import("./swift-fve9TYiY.js"),[])},{id:"system-verilog",name:"SystemVerilog",import:()=>ie(()=>import("./system-verilog-CnnmHF94.js"),[])},{id:"systemd",name:"Systemd Units",import:()=>ie(()=>import("./systemd-4A_iFExJ.js"),[])},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>ie(()=>import("./talonscript-CkByrt1z.js"),[])},{id:"tasl",name:"Tasl",import:()=>ie(()=>import("./tasl-QIJgUcNo.js"),[])},{id:"tcl",name:"Tcl",import:()=>ie(()=>import("./tcl-dwOrl1Do.js"),[])},{id:"templ",name:"Templ",import:()=>ie(()=>import("./templ-DN2Co29m.js"),__vite__mapDeps([85,86,2,3]))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>ie(()=>import("./terraform-BETggiCN.js"),[])},{id:"tex",name:"TeX",import:()=>ie(()=>import("./tex-BTEcxGmc.js"),__vite__mapDeps([61,59]))},{id:"toml",name:"TOML",import:()=>ie(()=>import("./toml-vGWfd6FD.js"),[])},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>ie(()=>import("./ts-tags-CHnADXob.js"),__vite__mapDeps([87,11,3,2,25,26,1,16,7,8]))},{id:"tsv",name:"TSV",import:()=>ie(()=>import("./tsv-B_m7g4N7.js"),[])},{id:"tsx",name:"TSX",import:()=>ie(()=>import("./tsx-COt5Ahok.js"),[])},{id:"turtle",name:"Turtle",import:()=>ie(()=>import("./turtle-BsS91CYL.js"),[])},{id:"twig",name:"Twig",import:()=>ie(()=>import("./twig-febACT8g.js"),__vite__mapDeps([88,3,2,5,69,1,7,8,16,9,20,33,34,35,11,36,13,23,24,25,26,28,37,38]))},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>ie(()=>import("./typescript-DlfHMoPT.js"),[])},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>ie(()=>import("./typespec-Df68jz8_.js"),[])},{id:"typst",name:"Typst",aliases:["typ"],import:()=>ie(()=>import("./typst-DHCkPAjA.js"),[])},{id:"v",name:"V",import:()=>ie(()=>import("./v-DljmTZ5-.js"),[])},{id:"vala",name:"Vala",import:()=>ie(()=>import("./vala-CsfeWuGM.js"),[])},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>ie(()=>import("./vb-D17OF-Vu.js"),[])},{id:"verilog",name:"Verilog",import:()=>ie(()=>import("./verilog-BQ8w6xss.js"),[])},{id:"vhdl",name:"VHDL",import:()=>ie(()=>import("./vhdl-CeAyd5Ju.js"),[])},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>ie(()=>import("./viml-CJc9bBzg.js"),[])},{id:"vue",name:"Vue",import:()=>ie(()=>import("./vue-CqZX_ekU.js"),__vite__mapDeps([89,3,2,11,9,15,1]))},{id:"vue-html",name:"Vue HTML",import:()=>ie(()=>import("./vue-html-DJL_i-Ck.js"),__vite__mapDeps([90,89,3,2,11,9,15,1]))},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>ie(()=>import("./vyper-CDx5xZoG.js"),[])},{id:"wasm",name:"WebAssembly",import:()=>ie(()=>import("./wasm-MzD3tlZU.js"),[])},{id:"wenyan",name:"Wenyan",aliases:["文言"],import:()=>ie(()=>import("./wenyan-BV7otONQ.js"),[])},{id:"wgsl",name:"WGSL",import:()=>ie(()=>import("./wgsl-Dx-B1_4e.js"),[])},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>ie(()=>import("./wikitext-BhOHFoWU.js"),[])},{id:"wit",name:"WebAssembly Interface Types",import:()=>ie(()=>import("./wit-5i3qLPDT.js"),[])},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>ie(()=>import("./wolfram-lXgVvXCa.js"),[])},{id:"xml",name:"XML",import:()=>ie(()=>import("./xml-sdJ4AIDG.js"),__vite__mapDeps([7,8]))},{id:"xsl",name:"XSL",import:()=>ie(()=>import("./xsl-CtQFsRM5.js"),__vite__mapDeps([91,7,8]))},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>ie(()=>import("./yaml-Buea-lGh.js"),[])},{id:"zenscript",name:"ZenScript",import:()=>ie(()=>import("./zenscript-DVFEvuxE.js"),[])},{id:"zig",name:"Zig",import:()=>ie(()=>import("./zig-CK-KhNJq.js"),[])}],bY=Object.fromEntries(HF.map(t=>[t.id,t.import])),jY=Object.fromEntries(HF.flatMap(t=>t.aliases?.map(e=>[e,t.import])||[])),SY={...bY,...jY},wY=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>ie(()=>import("./andromeeda-C3khCPGq.js"),[])},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>ie(()=>import("./aurora-x-D-2ljcwZ.js"),[])},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>ie(()=>import("./ayu-dark-Cv9koXgw.js"),[])},{id:"catppuccin-frappe",displayName:"Catppuccin Frappé",type:"dark",import:()=>ie(()=>import("./catppuccin-frappe-Btyk0a-E.js"),[])},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>ie(()=>import("./catppuccin-latte-q-j0iyEw.js"),[])},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>ie(()=>import("./catppuccin-macchiato-brDaU2vB.js"),[])},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>ie(()=>import("./catppuccin-mocha-BR7mELCv.js"),[])},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>ie(()=>import("./dark-plus-C3mMm8J8.js"),[])},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>ie(()=>import("./dracula-BzJJZx-M.js"),[])},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>ie(()=>import("./dracula-soft-BXkSAIEj.js"),[])},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>ie(()=>import("./everforest-dark-BgDCqdQA.js"),[])},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>ie(()=>import("./everforest-light-C8M2exoo.js"),[])},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>ie(()=>import("./github-dark-DHJKELXO.js"),[])},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>ie(()=>import("./github-dark-default-Cuk6v7N8.js"),[])},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>ie(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[])},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>ie(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[])},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>ie(()=>import("./github-light-DAi9KRSo.js"),[])},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>ie(()=>import("./github-light-default-D7oLnXFd.js"),[])},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>ie(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[])},{id:"gruvbox-dark-hard",displayName:"Gruvbox Dark Hard",type:"dark",import:()=>ie(()=>import("./gruvbox-dark-hard-Hhtzho9R.js"),[])},{id:"gruvbox-dark-medium",displayName:"Gruvbox Dark Medium",type:"dark",import:()=>ie(()=>import("./gruvbox-dark-medium-DFR6f4Jn.js"),[])},{id:"gruvbox-dark-soft",displayName:"Gruvbox Dark Soft",type:"dark",import:()=>ie(()=>import("./gruvbox-dark-soft-BFVdkX1U.js"),[])},{id:"gruvbox-light-hard",displayName:"Gruvbox Light Hard",type:"light",import:()=>ie(()=>import("./gruvbox-light-hard-7i6GEmcB.js"),[])},{id:"gruvbox-light-medium",displayName:"Gruvbox Light Medium",type:"light",import:()=>ie(()=>import("./gruvbox-light-medium-Dcsh5twl.js"),[])},{id:"gruvbox-light-soft",displayName:"Gruvbox Light Soft",type:"light",import:()=>ie(()=>import("./gruvbox-light-soft-leinZj1a.js"),[])},{id:"houston",displayName:"Houston",type:"dark",import:()=>ie(()=>import("./houston-DnULxvSX.js"),[])},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>ie(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[])},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>ie(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[])},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>ie(()=>import("./kanagawa-wave-DWedfzmr.js"),[])},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>ie(()=>import("./laserwave-DUszq2jm.js"),[])},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>ie(()=>import("./light-plus-B7mTdjB0.js"),[])},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>ie(()=>import("./material-theme-D5KoaKCx.js"),[])},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>ie(()=>import("./material-theme-darker-BfHTSMKl.js"),[])},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>ie(()=>import("./material-theme-lighter-B0m2ddpp.js"),[])},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>ie(()=>import("./material-theme-ocean-CyktbL80.js"),[])},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>ie(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[])},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>ie(()=>import("./min-dark-CafNBF8u.js"),[])},{id:"min-light",displayName:"Min Light",type:"light",import:()=>ie(()=>import("./min-light-CTRr51gU.js"),[])},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>ie(()=>import("./monokai-D4h5O-jR.js"),[])},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>ie(()=>import("./night-owl-C39BiMTA.js"),[])},{id:"nord",displayName:"Nord",type:"dark",import:()=>ie(()=>import("./nord-Ddv68eIx.js"),[])},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>ie(()=>import("./one-dark-pro-DVMEJ2y_.js"),[])},{id:"one-light",displayName:"One Light",type:"light",import:()=>ie(()=>import("./one-light-PoHY5YXO.js"),[])},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>ie(()=>import("./plastic-3e1v2bzS.js"),[])},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>ie(()=>import("./poimandres-CS3Unz2-.js"),[])},{id:"red",displayName:"Red",type:"dark",import:()=>ie(()=>import("./red-bN70gL4F.js"),[])},{id:"rose-pine",displayName:"Rosé Pine",type:"dark",import:()=>ie(()=>import("./rose-pine-BHrmToEH.js"),[])},{id:"rose-pine-dawn",displayName:"Rosé Pine Dawn",type:"light",import:()=>ie(()=>import("./rose-pine-dawn-CnK8MTSM.js"),[])},{id:"rose-pine-moon",displayName:"Rosé Pine Moon",type:"dark",import:()=>ie(()=>import("./rose-pine-moon-NleAzG8P.js"),[])},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>ie(()=>import("./slack-dark-BthQWCQV.js"),[])},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>ie(()=>import("./slack-ochin-DqwNpetd.js"),[])},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>ie(()=>import("./snazzy-light-Bw305WKR.js"),[])},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>ie(()=>import("./solarized-dark-DXbdFlpD.js"),[])},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>ie(()=>import("./solarized-light-L9t79GZl.js"),[])},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>ie(()=>import("./synthwave-84-CbfX1IO0.js"),[])},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>ie(()=>import("./tokyo-night-hegEt444.js"),[])},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>ie(()=>import("./vesper-DU1UobuO.js"),[])},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>ie(()=>import("./vitesse-black-Bkuqu6BP.js"),[])},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>ie(()=>import("./vitesse-dark-D0r3Knsf.js"),[])},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>ie(()=>import("./vitesse-light-CVO1_9PV.js"),[])}],TY=Object.fromEntries(wY.map(t=>[t.id,t.import]));class VE extends Error{constructor(e){super(e),this.name="ShikiError"}}function CY(){return 2147483648}function MY(){return typeof performance<"u"?performance.now():Date.now()}const EY=(t,e)=>t+(e-t%e)%e;async function AY(t){let e,i;const r={};function s(_){i=_,r.HEAPU8=new Uint8Array(_),r.HEAPU32=new Uint32Array(_)}function a(_,j,T){r.HEAPU8.copyWithin(_,j,j+T)}function o(_){try{return e.grow(_-i.byteLength+65535>>>16),s(e.buffer),1}catch{}}function l(_){const j=r.HEAPU8.length;_=_>>>0;const T=CY();if(_>T)return!1;for(let C=1;C<=4;C*=2){let w=j*(1+.2/C);w=Math.min(w,_+100663296);const A=Math.min(T,EY(Math.max(_,w),65536));if(o(A))return!0}return!1}const h=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function d(_,j,T=1024){const C=j+T;let w=j;for(;_[w]&&!(w>=C);)++w;if(w-j>16&&_.buffer&&h)return h.decode(_.subarray(j,w));let A="";for(;j<w;){let L=_[j++];if(!(L&128)){A+=String.fromCharCode(L);continue}const k=_[j++]&63;if((L&224)===192){A+=String.fromCharCode((L&31)<<6|k);continue}const I=_[j++]&63;if((L&240)===224?L=(L&15)<<12|k<<6|I:L=(L&7)<<18|k<<12|I<<6|_[j++]&63,L<65536)A+=String.fromCharCode(L);else{const z=L-65536;A+=String.fromCharCode(55296|z>>10,56320|z&1023)}}return A}function p(_,j){return _?d(r.HEAPU8,_,j):""}const g={emscripten_get_now:MY,emscripten_memcpy_big:a,emscripten_resize_heap:l,fd_write:()=>0};async function v(){const j=await t({env:g,wasi_snapshot_preview1:g});e=j.memory,s(e.buffer),Object.assign(r,j),r.UTF8ToString=p}return await v(),r}var RY=Object.defineProperty,LY=(t,e,i)=>e in t?RY(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Fr=(t,e,i)=>LY(t,typeof e!="symbol"?e+"":e,i);let Jr=null;function DY(t){throw new VE(t.UTF8ToString(t.getLastOnigError()))}class V1{constructor(e){Fr(this,"utf16Length"),Fr(this,"utf8Length"),Fr(this,"utf16Value"),Fr(this,"utf8Value"),Fr(this,"utf16OffsetToUtf8"),Fr(this,"utf8OffsetToUtf16");const i=e.length,r=V1._utf8ByteLength(e),s=r!==i,a=s?new Uint32Array(i+1):null;s&&(a[i]=r);const o=s?new Uint32Array(r+1):null;s&&(o[r]=i);const l=new Uint8Array(r);let h=0;for(let d=0;d<i;d++){const p=e.charCodeAt(d);let g=p,v=!1;if(p>=55296&&p<=56319&&d+1<i){const _=e.charCodeAt(d+1);_>=56320&&_<=57343&&(g=(p-55296<<10)+65536|_-56320,v=!0)}s&&(a[d]=h,v&&(a[d+1]=h),g<=127?o[h+0]=d:g<=2047?(o[h+0]=d,o[h+1]=d):g<=65535?(o[h+0]=d,o[h+1]=d,o[h+2]=d):(o[h+0]=d,o[h+1]=d,o[h+2]=d,o[h+3]=d)),g<=127?l[h++]=g:g<=2047?(l[h++]=192|(g&1984)>>>6,l[h++]=128|(g&63)>>>0):g<=65535?(l[h++]=224|(g&61440)>>>12,l[h++]=128|(g&4032)>>>6,l[h++]=128|(g&63)>>>0):(l[h++]=240|(g&1835008)>>>18,l[h++]=128|(g&258048)>>>12,l[h++]=128|(g&4032)>>>6,l[h++]=128|(g&63)>>>0),v&&d++}this.utf16Length=i,this.utf8Length=r,this.utf16Value=e,this.utf8Value=l,this.utf16OffsetToUtf8=a,this.utf8OffsetToUtf16=o}static _utf8ByteLength(e){let i=0;for(let r=0,s=e.length;r<s;r++){const a=e.charCodeAt(r);let o=a,l=!1;if(a>=55296&&a<=56319&&r+1<s){const h=e.charCodeAt(r+1);h>=56320&&h<=57343&&(o=(a-55296<<10)+65536|h-56320,l=!0)}o<=127?i+=1:o<=2047?i+=2:o<=65535?i+=3:i+=4,l&&r++}return i}createString(e){const i=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,i),i}}const G1=class jc{constructor(e){if(Fr(this,"id",++jc.LAST_ID),Fr(this,"_onigBinding"),Fr(this,"content"),Fr(this,"utf16Length"),Fr(this,"utf8Length"),Fr(this,"utf16OffsetToUtf8"),Fr(this,"utf8OffsetToUtf16"),Fr(this,"ptr"),!Jr)throw new VE("Must invoke loadWasm first.");this._onigBinding=Jr,this.content=e;const i=new V1(e);this.utf16Length=i.utf16Length,this.utf8Length=i.utf8Length,this.utf16OffsetToUtf8=i.utf16OffsetToUtf8,this.utf8OffsetToUtf16=i.utf8OffsetToUtf16,this.utf8Length<1e4&&!jc._sharedPtrInUse?(jc._sharedPtr||(jc._sharedPtr=Jr.omalloc(1e4)),jc._sharedPtrInUse=!0,Jr.HEAPU8.set(i.utf8Value,jc._sharedPtr),this.ptr=jc._sharedPtr):this.ptr=i.createString(Jr)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===jc._sharedPtr?jc._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};Fr(G1,"LAST_ID",0);Fr(G1,"_sharedPtr",0);Fr(G1,"_sharedPtrInUse",!1);let VF=G1;class kY{constructor(e){if(Fr(this,"_onigBinding"),Fr(this,"_ptr"),!Jr)throw new VE("Must invoke loadWasm first.");const i=[],r=[];for(let l=0,h=e.length;l<h;l++){const d=new V1(e[l]);i[l]=d.createString(Jr),r[l]=d.utf8Length}const s=Jr.omalloc(4*e.length);Jr.HEAPU32.set(i,s/4);const a=Jr.omalloc(4*e.length);Jr.HEAPU32.set(r,a/4);const o=Jr.createOnigScanner(s,a,e.length);for(let l=0,h=e.length;l<h;l++)Jr.ofree(i[l]);Jr.ofree(a),Jr.ofree(s),o===0&&DY(Jr),this._onigBinding=Jr,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,i,r){let s=0;if(typeof r=="number"&&(s=r),typeof e=="string"){e=new VF(e);const a=this._findNextMatchSync(e,i,!1,s);return e.dispose(),a}return this._findNextMatchSync(e,i,!1,s)}_findNextMatchSync(e,i,r,s){const a=this._onigBinding,o=a.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(i),s);if(o===0)return null;const l=a.HEAPU32;let h=o/4;const d=l[h++],p=l[h++],g=[];for(let v=0;v<p;v++){const _=e.convertUtf8OffsetToUtf16(l[h++]),j=e.convertUtf8OffsetToUtf16(l[h++]);g[v]={start:_,end:j,length:j-_}}return{index:d,captureIndices:g}}}function NY(t){return typeof t.instantiator=="function"}function PY(t){return typeof t.default=="function"}function OY(t){return typeof t.data<"u"}function BY(t){return typeof Response<"u"&&t instanceof Response}function IY(t){return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&Buffer.isBuffer?.(t)||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let mb;function FY(t){if(mb)return mb;async function e(){Jr=await AY(async i=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(i)),typeof r=="function"&&(r=await r(i)),NY(r)?r=await r.instantiator(i):PY(r)?r=await r.default(i):(OY(r)&&(r=r.data),BY(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await UY(r)(i):r=await zY(r)(i):IY(r)?r=await h2(r)(i):r instanceof WebAssembly.Module?r=await h2(r)(i):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await h2(r.default)(i))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return mb=e(),mb}function h2(t){return e=>WebAssembly.instantiate(t,e)}function UY(t){return e=>WebAssembly.instantiateStreaming(t,e)}function zY(t){return async e=>{const i=await t.arrayBuffer();return WebAssembly.instantiate(i,e)}}async function HY(t){return t&&await FY(t),{createScanner(e){return new kY(e.map(i=>typeof i=="string"?i:i.source))},createString(e){return new VF(e)}}}const VY=yY({langs:SY,themes:TY,engine:()=>HY(ie(()=>import("./wasm-CG6Dc4jp.js"),[]))}),{getSingletonHighlighter:GY}=_Y(VY,{guessEmbeddedLanguages:PX});var wj={exports:{}},$Y=wj.exports,bD;function qY(){return bD||(bD=1,function(t,e){(function(i,r){t.exports=r()})($Y,function(){var i=1e3,r=6e4,s=36e5,a="millisecond",o="second",l="minute",h="hour",d="day",p="week",g="month",v="quarter",_="year",j="date",T="Invalid Date",C=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,A={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(K){var ee=["th","st","nd","rd"],O=K%100;return"["+K+(ee[(O-20)%10]||ee[O]||ee[0])+"]"}},L=function(K,ee,O){var q=String(K);return!q||q.length>=ee?K:""+Array(ee+1-q.length).join(O)+K},k={s:L,z:function(K){var ee=-K.utcOffset(),O=Math.abs(ee),q=Math.floor(O/60),V=O%60;return(ee<=0?"+":"-")+L(q,2,"0")+":"+L(V,2,"0")},m:function K(ee,O){if(ee.date()<O.date())return-K(O,ee);var q=12*(O.year()-ee.year())+(O.month()-ee.month()),V=ee.clone().add(q,g),le=O-V<0,W=ee.clone().add(q+(le?-1:1),g);return+(-(q+(O-V)/(le?V-W:W-V))||0)},a:function(K){return K<0?Math.ceil(K)||0:Math.floor(K)},p:function(K){return{M:g,y:_,w:p,d,D:j,h,m:l,s:o,ms:a,Q:v}[K]||String(K||"").toLowerCase().replace(/s$/,"")},u:function(K){return K===void 0}},I="en",z={};z[I]=A;var U="$isDayjsObject",H=function(K){return K instanceof te||!(!K||!K[U])},P=function K(ee,O,q){var V;if(!ee)return I;if(typeof ee=="string"){var le=ee.toLowerCase();z[le]&&(V=le),O&&(z[le]=O,V=le);var W=ee.split("-");if(!V&&W.length>1)return K(W[0])}else{var re=ee.name;z[re]=ee,V=re}return!q&&V&&(I=V),V||!q&&I},N=function(K,ee){if(H(K))return K.clone();var O=typeof ee=="object"?ee:{};return O.date=K,O.args=arguments,new te(O)},G=k;G.l=P,G.i=H,G.w=function(K,ee){return N(K,{locale:ee.$L,utc:ee.$u,x:ee.$x,$offset:ee.$offset})};var te=function(){function K(O){this.$L=P(O.locale,null,!0),this.parse(O),this.$x=this.$x||O.x||{},this[U]=!0}var ee=K.prototype;return ee.parse=function(O){this.$d=function(q){var V=q.date,le=q.utc;if(V===null)return new Date(NaN);if(G.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var W=V.match(C);if(W){var re=W[2]-1||0,de=(W[7]||"0").substring(0,3);return le?new Date(Date.UTC(W[1],re,W[3]||1,W[4]||0,W[5]||0,W[6]||0,de)):new Date(W[1],re,W[3]||1,W[4]||0,W[5]||0,W[6]||0,de)}}return new Date(V)}(O),this.init()},ee.init=function(){var O=this.$d;this.$y=O.getFullYear(),this.$M=O.getMonth(),this.$D=O.getDate(),this.$W=O.getDay(),this.$H=O.getHours(),this.$m=O.getMinutes(),this.$s=O.getSeconds(),this.$ms=O.getMilliseconds()},ee.$utils=function(){return G},ee.isValid=function(){return this.$d.toString()!==T},ee.isSame=function(O,q){var V=N(O);return this.startOf(q)<=V&&V<=this.endOf(q)},ee.isAfter=function(O,q){return N(O)<this.startOf(q)},ee.isBefore=function(O,q){return this.endOf(q)<N(O)},ee.$g=function(O,q,V){return G.u(O)?this[q]:this.set(V,O)},ee.unix=function(){return Math.floor(this.valueOf()/1e3)},ee.valueOf=function(){return this.$d.getTime()},ee.startOf=function(O,q){var V=this,le=!!G.u(q)||q,W=G.p(O),re=function(Ze,Je){var Nt=G.w(V.$u?Date.UTC(V.$y,Je,Ze):new Date(V.$y,Je,Ze),V);return le?Nt:Nt.endOf(d)},de=function(Ze,Je){return G.w(V.toDate()[Ze].apply(V.toDate("s"),(le?[0,0,0,0]:[23,59,59,999]).slice(Je)),V)},fe=this.$W,ae=this.$M,pe=this.$D,De="set"+(this.$u?"UTC":"");switch(W){case _:return le?re(1,0):re(31,11);case g:return le?re(1,ae):re(0,ae+1);case p:var Be=this.$locale().weekStart||0,Ue=(fe<Be?fe+7:fe)-Be;return re(le?pe-Ue:pe+(6-Ue),ae);case d:case j:return de(De+"Hours",0);case h:return de(De+"Minutes",1);case l:return de(De+"Seconds",2);case o:return de(De+"Milliseconds",3);default:return this.clone()}},ee.endOf=function(O){return this.startOf(O,!1)},ee.$set=function(O,q){var V,le=G.p(O),W="set"+(this.$u?"UTC":""),re=(V={},V[d]=W+"Date",V[j]=W+"Date",V[g]=W+"Month",V[_]=W+"FullYear",V[h]=W+"Hours",V[l]=W+"Minutes",V[o]=W+"Seconds",V[a]=W+"Milliseconds",V)[le],de=le===d?this.$D+(q-this.$W):q;if(le===g||le===_){var fe=this.clone().set(j,1);fe.$d[re](de),fe.init(),this.$d=fe.set(j,Math.min(this.$D,fe.daysInMonth())).$d}else re&&this.$d[re](de);return this.init(),this},ee.set=function(O,q){return this.clone().$set(O,q)},ee.get=function(O){return this[G.p(O)]()},ee.add=function(O,q){var V,le=this;O=Number(O);var W=G.p(q),re=function(ae){var pe=N(le);return G.w(pe.date(pe.date()+Math.round(ae*O)),le)};if(W===g)return this.set(g,this.$M+O);if(W===_)return this.set(_,this.$y+O);if(W===d)return re(1);if(W===p)return re(7);var de=(V={},V[l]=r,V[h]=s,V[o]=i,V)[W]||1,fe=this.$d.getTime()+O*de;return G.w(fe,this)},ee.subtract=function(O,q){return this.add(-1*O,q)},ee.format=function(O){var q=this,V=this.$locale();if(!this.isValid())return V.invalidDate||T;var le=O||"YYYY-MM-DDTHH:mm:ssZ",W=G.z(this),re=this.$H,de=this.$m,fe=this.$M,ae=V.weekdays,pe=V.months,De=V.meridiem,Be=function(Je,Nt,Et,At){return Je&&(Je[Nt]||Je(q,le))||Et[Nt].slice(0,At)},Ue=function(Je){return G.s(re%12||12,Je,"0")},Ze=De||function(Je,Nt,Et){var At=Je<12?"AM":"PM";return Et?At.toLowerCase():At};return le.replace(w,function(Je,Nt){return Nt||function(Et){switch(Et){case"YY":return String(q.$y).slice(-2);case"YYYY":return G.s(q.$y,4,"0");case"M":return fe+1;case"MM":return G.s(fe+1,2,"0");case"MMM":return Be(V.monthsShort,fe,pe,3);case"MMMM":return Be(pe,fe);case"D":return q.$D;case"DD":return G.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return Be(V.weekdaysMin,q.$W,ae,2);case"ddd":return Be(V.weekdaysShort,q.$W,ae,3);case"dddd":return ae[q.$W];case"H":return String(re);case"HH":return G.s(re,2,"0");case"h":return Ue(1);case"hh":return Ue(2);case"a":return Ze(re,de,!0);case"A":return Ze(re,de,!1);case"m":return String(de);case"mm":return G.s(de,2,"0");case"s":return String(q.$s);case"ss":return G.s(q.$s,2,"0");case"SSS":return G.s(q.$ms,3,"0");case"Z":return W}return null}(Je)||W.replace(":","")})},ee.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ee.diff=function(O,q,V){var le,W=this,re=G.p(q),de=N(O),fe=(de.utcOffset()-this.utcOffset())*r,ae=this-de,pe=function(){return G.m(W,de)};switch(re){case _:le=pe()/12;break;case g:le=pe();break;case v:le=pe()/3;break;case p:le=(ae-fe)/6048e5;break;case d:le=(ae-fe)/864e5;break;case h:le=ae/s;break;case l:le=ae/r;break;case o:le=ae/i;break;default:le=ae}return V?le:G.a(le)},ee.daysInMonth=function(){return this.endOf(g).$D},ee.$locale=function(){return z[this.$L]},ee.locale=function(O,q){if(!O)return this.$L;var V=this.clone(),le=P(O,q,!0);return le&&(V.$L=le),V},ee.clone=function(){return G.w(this.$d,this)},ee.toDate=function(){return new Date(this.valueOf())},ee.toJSON=function(){return this.isValid()?this.toISOString():null},ee.toISOString=function(){return this.$d.toISOString()},ee.toString=function(){return this.$d.toUTCString()},K}(),Q=te.prototype;return N.prototype=Q,[["$ms",a],["$s",o],["$m",l],["$H",h],["$W",d],["$M",g],["$y",_],["$D",j]].forEach(function(K){Q[K[1]]=function(ee){return this.$g(ee,K[0],K[1])}}),N.extend=function(K,ee){return K.$i||(K(ee,te,N),K.$i=!0),N},N.locale=P,N.isDayjs=H,N.unix=function(K){return N(1e3*K)},N.en=z[I],N.Ls=z,N.p={},N})}(wj)),wj.exports}var WY=qY();const XY=hv(WY),Tj={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t),hsl2rgb:({h:t,s:e,l:i},r)=>{if(!e)return i*2.55;t/=360,e/=100,i/=100;const s=i<.5?i*(1+e):i+e-i*e,a=2*i-s;switch(r){case"r":return Tj.hue2rgb(a,s,t+1/3)*255;case"g":return Tj.hue2rgb(a,s,t)*255;case"b":return Tj.hue2rgb(a,s,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:i},r)=>{t/=255,e/=255,i/=255;const s=Math.max(t,e,i),a=Math.min(t,e,i),o=(s+a)/2;if(r==="l")return o*100;if(s===a)return 0;const l=s-a,h=o>.5?l/(2-s-a):l/(s+a);if(r==="s")return h*100;switch(s){case t:return((e-i)/l+(e<i?6:0))*60;case e:return((i-t)/l+2)*60;case i:return((t-e)/l+4)*60;default:return-1}}},YY={clamp:(t,e,i)=>e>i?Math.min(e,Math.max(i,t)):Math.min(i,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},KY={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},mn={channel:Tj,lang:YY,unit:KY},qu={};for(let t=0;t<=255;t++)qu[t]=mn.unit.dec2hex(t);const Os={ALL:0,RGB:1,HSL:2};class ZY{constructor(){this.type=Os.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Os.ALL}is(e){return this.type===e}}class QY{constructor(e,i){this.color=i,this.changed=!1,this.data=e,this.type=new ZY}set(e,i){return this.color=i,this.changed=!1,this.data=e,this.type.type=Os.ALL,this}_ensureHSL(){const e=this.data,{h:i,s:r,l:s}=e;i===void 0&&(e.h=mn.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=mn.channel.rgb2hsl(e,"s")),s===void 0&&(e.l=mn.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:i,g:r,b:s}=e;i===void 0&&(e.r=mn.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=mn.channel.hsl2rgb(e,"g")),s===void 0&&(e.b=mn.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,i=e.r;return!this.type.is(Os.HSL)&&i!==void 0?i:(this._ensureHSL(),mn.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,i=e.g;return!this.type.is(Os.HSL)&&i!==void 0?i:(this._ensureHSL(),mn.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,i=e.b;return!this.type.is(Os.HSL)&&i!==void 0?i:(this._ensureHSL(),mn.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,i=e.h;return!this.type.is(Os.RGB)&&i!==void 0?i:(this._ensureRGB(),mn.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,i=e.s;return!this.type.is(Os.RGB)&&i!==void 0?i:(this._ensureRGB(),mn.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,i=e.l;return!this.type.is(Os.RGB)&&i!==void 0?i:(this._ensureRGB(),mn.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Os.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Os.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Os.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Os.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Os.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Os.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const $1=new QY({r:0,g:0,b:0,a:0},"transparent"),ng={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(ng.re);if(!e)return;const i=e[1],r=parseInt(i,16),s=i.length,a=s%4===0,o=s>4,l=o?1:17,h=o?8:4,d=a?0:-1,p=o?255:15;return $1.set({r:(r>>h*(d+3)&p)*l,g:(r>>h*(d+2)&p)*l,b:(r>>h*(d+1)&p)*l,a:a?(r&p)*l/255:1},t)},stringify:t=>{const{r:e,g:i,b:r,a:s}=t;return s<1?`#${qu[Math.round(e)]}${qu[Math.round(i)]}${qu[Math.round(r)]}${qu[Math.round(s*255)]}`:`#${qu[Math.round(e)]}${qu[Math.round(i)]}${qu[Math.round(r)]}`}},Pf={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Pf.hueRe);if(e){const[,i,r]=e;switch(r){case"grad":return mn.channel.clamp.h(parseFloat(i)*.9);case"rad":return mn.channel.clamp.h(parseFloat(i)*180/Math.PI);case"turn":return mn.channel.clamp.h(parseFloat(i)*360)}}return mn.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const i=t.match(Pf.re);if(!i)return;const[,r,s,a,o,l]=i;return $1.set({h:Pf._hue2deg(r),s:mn.channel.clamp.s(parseFloat(s)),l:mn.channel.clamp.l(parseFloat(a)),a:o?mn.channel.clamp.a(l?parseFloat(o)/100:parseFloat(o)):1},t)},stringify:t=>{const{h:e,s:i,l:r,a:s}=t;return s<1?`hsla(${mn.lang.round(e)}, ${mn.lang.round(i)}%, ${mn.lang.round(r)}%, ${s})`:`hsl(${mn.lang.round(e)}, ${mn.lang.round(i)}%, ${mn.lang.round(r)}%)`}},c0={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=c0.colors[t];if(e)return ng.parse(e)},stringify:t=>{const e=ng.stringify(t);for(const i in c0.colors)if(c0.colors[i]===e)return i}},Zy={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const i=t.match(Zy.re);if(!i)return;const[,r,s,a,o,l,h,d,p]=i;return $1.set({r:mn.channel.clamp.r(s?parseFloat(r)*2.55:parseFloat(r)),g:mn.channel.clamp.g(o?parseFloat(a)*2.55:parseFloat(a)),b:mn.channel.clamp.b(h?parseFloat(l)*2.55:parseFloat(l)),a:d?mn.channel.clamp.a(p?parseFloat(d)/100:parseFloat(d)):1},t)},stringify:t=>{const{r:e,g:i,b:r,a:s}=t;return s<1?`rgba(${mn.lang.round(e)}, ${mn.lang.round(i)}, ${mn.lang.round(r)}, ${mn.lang.round(s)})`:`rgb(${mn.lang.round(e)}, ${mn.lang.round(i)}, ${mn.lang.round(r)})`}},Nc={format:{keyword:c0,hex:ng,rgb:Zy,rgba:Zy,hsl:Pf,hsla:Pf},parse:t=>{if(typeof t!="string")return t;const e=ng.parse(t)||Zy.parse(t)||Pf.parse(t)||c0.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Os.HSL)||t.data.r===void 0?Pf.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Zy.stringify(t):ng.stringify(t)},GF=(t,e)=>{const i=Nc.parse(t);for(const r in e)i[r]=mn.channel.clamp[r](e[r]);return Nc.stringify(i)},h0=(t,e,i=0,r=1)=>{if(typeof t!="number")return GF(t,{a:e});const s=$1.set({r:mn.channel.clamp.r(t),g:mn.channel.clamp.g(e),b:mn.channel.clamp.b(i),a:mn.channel.clamp.a(r)});return Nc.stringify(s)},JY=t=>{const{r:e,g:i,b:r}=Nc.parse(t),s=.2126*mn.channel.toLinear(e)+.7152*mn.channel.toLinear(i)+.0722*mn.channel.toLinear(r);return mn.lang.round(s)},eK=t=>JY(t)>=.5,pv=t=>!eK(t),$F=(t,e,i)=>{const r=Nc.parse(t),s=r[e],a=mn.channel.clamp[e](s+i);return s!==a&&(r[e]=a),Nc.stringify(r)},Ft=(t,e)=>$F(t,"l",e),nn=(t,e)=>$F(t,"l",-e),Me=(t,e)=>{const i=Nc.parse(t),r={};for(const s in e)e[s]&&(r[s]=i[s]+e[s]);return GF(t,r)},tK=(t,e,i=50)=>{const{r,g:s,b:a,a:o}=Nc.parse(t),{r:l,g:h,b:d,a:p}=Nc.parse(e),g=i/100,v=g*2-1,_=o-p,T=((v*_===-1?v:(v+_)/(1+v*_))+1)/2,C=1-T,w=r*T+l*C,A=s*T+h*C,L=a*T+d*C,k=o*g+p*(1-g);return h0(w,A,L,k)},St=(t,e=100)=>{const i=Nc.parse(t);return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,tK(i,t,e)};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:qF,setPrototypeOf:jD,isFrozen:nK,getPrototypeOf:iK,getOwnPropertyDescriptor:rK}=Object;let{freeze:ga,seal:qo,create:WF}=Object,{apply:sM,construct:aM}=typeof Reflect<"u"&&Reflect;ga||(ga=function(e){return e});qo||(qo=function(e){return e});sM||(sM=function(e,i,r){return e.apply(i,r)});aM||(aM=function(e,i){return new e(...i)});const gb=xa(Array.prototype.forEach),sK=xa(Array.prototype.lastIndexOf),SD=xa(Array.prototype.pop),jy=xa(Array.prototype.push),aK=xa(Array.prototype.splice),Cj=xa(String.prototype.toLowerCase),u2=xa(String.prototype.toString),wD=xa(String.prototype.match),Sy=xa(String.prototype.replace),oK=xa(String.prototype.indexOf),lK=xa(String.prototype.trim),Sl=xa(Object.prototype.hasOwnProperty),aa=xa(RegExp.prototype.test),wy=cK(TypeError);function xa(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,r=new Array(i>1?i-1:0),s=1;s<i;s++)r[s-1]=arguments[s];return sM(t,e,r)}}function cK(t){return function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return aM(t,i)}}function Hn(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Cj;jD&&jD(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const a=i(s);a!==s&&(nK(e)||(e[r]=a),s=a)}t[s]=!0}return t}function hK(t){for(let e=0;e<t.length;e++)Sl(t,e)||(t[e]=null);return t}function _h(t){const e=WF(null);for(const[i,r]of qF(t))Sl(t,i)&&(Array.isArray(r)?e[i]=hK(r):r&&typeof r=="object"&&r.constructor===Object?e[i]=_h(r):e[i]=r);return e}function Ty(t,e){for(;t!==null;){const r=rK(t,e);if(r){if(r.get)return xa(r.get);if(typeof r.value=="function")return xa(r.value)}t=iK(t)}function i(){return null}return i}const TD=ga(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),d2=ga(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),f2=ga(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),uK=ga(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),p2=ga(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),dK=ga(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),CD=ga(["#text"]),MD=ga(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),m2=ga(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ED=ga(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xb=ga(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),fK=qo(/\{\{[\w\W]*|[\w\W]*\}\}/gm),pK=qo(/<%[\w\W]*|[\w\W]*%>/gm),mK=qo(/\$\{[\w\W]*/gm),gK=qo(/^data-[\-\w.\u00B7-\uFFFF]+$/),xK=qo(/^aria-[\-\w]+$/),XF=qo(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yK=qo(/^(?:\w+script|data):/i),vK=qo(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),YF=qo(/^html$/i),_K=qo(/^[a-z][.\w]*(-[.\w]+)+$/i);var AD=Object.freeze({__proto__:null,ARIA_ATTR:xK,ATTR_WHITESPACE:vK,CUSTOM_ELEMENT:_K,DATA_ATTR:gK,DOCTYPE_NAME:YF,ERB_EXPR:pK,IS_ALLOWED_URI:XF,IS_SCRIPT_OR_DATA:yK,MUSTACHE_EXPR:fK,TMPLIT_EXPR:mK});const Cy={element:1,text:3,progressingInstruction:7,comment:8,document:9},bK=function(){return typeof window>"u"?null:window},jK=function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";i&&i.hasAttribute(s)&&(r=i.getAttribute(s));const a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},RD=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function KF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bK();const e=Pt=>KF(Pt);if(e.version="3.2.6",e.removed=[],!t||!t.document||t.document.nodeType!==Cy.document||!t.Element)return e.isSupported=!1,e;let{document:i}=t;const r=i,s=r.currentScript,{DocumentFragment:a,HTMLTemplateElement:o,Node:l,Element:h,NodeFilter:d,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:g,DOMParser:v,trustedTypes:_}=t,j=h.prototype,T=Ty(j,"cloneNode"),C=Ty(j,"remove"),w=Ty(j,"nextSibling"),A=Ty(j,"childNodes"),L=Ty(j,"parentNode");if(typeof o=="function"){const Pt=i.createElement("template");Pt.content&&Pt.content.ownerDocument&&(i=Pt.content.ownerDocument)}let k,I="";const{implementation:z,createNodeIterator:U,createDocumentFragment:H,getElementsByTagName:P}=i,{importNode:N}=r;let G=RD();e.isSupported=typeof qF=="function"&&typeof L=="function"&&z&&z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:te,ERB_EXPR:Q,TMPLIT_EXPR:K,DATA_ATTR:ee,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:q,ATTR_WHITESPACE:V,CUSTOM_ELEMENT:le}=AD;let{IS_ALLOWED_URI:W}=AD,re=null;const de=Hn({},[...TD,...d2,...f2,...p2,...CD]);let fe=null;const ae=Hn({},[...MD,...m2,...ED,...xb]);let pe=Object.seal(WF(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),De=null,Be=null,Ue=!0,Ze=!0,Je=!1,Nt=!0,Et=!1,At=!0,ne=!1,rt=!1,qe=!1,We=!1,He=!1,vt=!1,tt=!0,xt=!1;const Ct="user-content-";let se=!0,Y=!1,Ce={},Ie=null;const Ve=Hn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Fe=null;const _t=Hn({},["audio","video","img","source","image","track"]);let gt=null;const Rt=Hn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Lt="http://www.w3.org/1998/Math/MathML",Xe="http://www.w3.org/2000/svg",ft="http://www.w3.org/1999/xhtml";let kt=ft,zt=!1,ct=null;const rn=Hn({},[Lt,Xe,ft],u2);let me=Hn({},["mi","mo","mn","ms","mtext"]),yt=Hn({},["annotation-xml"]);const st=Hn({},["title","style","font","a","script"]);let jt=null;const ot=["application/xhtml+xml","text/html"],Ke="text/html";let mt=null,qt=null;const Un=i.createElement("form"),Dn=function(xe){return xe instanceof RegExp||xe instanceof Function},mr=function(){let xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(qt&&qt===xe)){if((!xe||typeof xe!="object")&&(xe={}),xe=_h(xe),jt=ot.indexOf(xe.PARSER_MEDIA_TYPE)===-1?Ke:xe.PARSER_MEDIA_TYPE,mt=jt==="application/xhtml+xml"?u2:Cj,re=Sl(xe,"ALLOWED_TAGS")?Hn({},xe.ALLOWED_TAGS,mt):de,fe=Sl(xe,"ALLOWED_ATTR")?Hn({},xe.ALLOWED_ATTR,mt):ae,ct=Sl(xe,"ALLOWED_NAMESPACES")?Hn({},xe.ALLOWED_NAMESPACES,u2):rn,gt=Sl(xe,"ADD_URI_SAFE_ATTR")?Hn(_h(Rt),xe.ADD_URI_SAFE_ATTR,mt):Rt,Fe=Sl(xe,"ADD_DATA_URI_TAGS")?Hn(_h(_t),xe.ADD_DATA_URI_TAGS,mt):_t,Ie=Sl(xe,"FORBID_CONTENTS")?Hn({},xe.FORBID_CONTENTS,mt):Ve,De=Sl(xe,"FORBID_TAGS")?Hn({},xe.FORBID_TAGS,mt):_h({}),Be=Sl(xe,"FORBID_ATTR")?Hn({},xe.FORBID_ATTR,mt):_h({}),Ce=Sl(xe,"USE_PROFILES")?xe.USE_PROFILES:!1,Ue=xe.ALLOW_ARIA_ATTR!==!1,Ze=xe.ALLOW_DATA_ATTR!==!1,Je=xe.ALLOW_UNKNOWN_PROTOCOLS||!1,Nt=xe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Et=xe.SAFE_FOR_TEMPLATES||!1,At=xe.SAFE_FOR_XML!==!1,ne=xe.WHOLE_DOCUMENT||!1,We=xe.RETURN_DOM||!1,He=xe.RETURN_DOM_FRAGMENT||!1,vt=xe.RETURN_TRUSTED_TYPE||!1,qe=xe.FORCE_BODY||!1,tt=xe.SANITIZE_DOM!==!1,xt=xe.SANITIZE_NAMED_PROPS||!1,se=xe.KEEP_CONTENT!==!1,Y=xe.IN_PLACE||!1,W=xe.ALLOWED_URI_REGEXP||XF,kt=xe.NAMESPACE||ft,me=xe.MATHML_TEXT_INTEGRATION_POINTS||me,yt=xe.HTML_INTEGRATION_POINTS||yt,pe=xe.CUSTOM_ELEMENT_HANDLING||{},xe.CUSTOM_ELEMENT_HANDLING&&Dn(xe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pe.tagNameCheck=xe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),xe.CUSTOM_ELEMENT_HANDLING&&Dn(xe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pe.attributeNameCheck=xe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),xe.CUSTOM_ELEMENT_HANDLING&&typeof xe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pe.allowCustomizedBuiltInElements=xe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Et&&(Ze=!1),He&&(We=!0),Ce&&(re=Hn({},CD),fe=[],Ce.html===!0&&(Hn(re,TD),Hn(fe,MD)),Ce.svg===!0&&(Hn(re,d2),Hn(fe,m2),Hn(fe,xb)),Ce.svgFilters===!0&&(Hn(re,f2),Hn(fe,m2),Hn(fe,xb)),Ce.mathMl===!0&&(Hn(re,p2),Hn(fe,ED),Hn(fe,xb))),xe.ADD_TAGS&&(re===de&&(re=_h(re)),Hn(re,xe.ADD_TAGS,mt)),xe.ADD_ATTR&&(fe===ae&&(fe=_h(fe)),Hn(fe,xe.ADD_ATTR,mt)),xe.ADD_URI_SAFE_ATTR&&Hn(gt,xe.ADD_URI_SAFE_ATTR,mt),xe.FORBID_CONTENTS&&(Ie===Ve&&(Ie=_h(Ie)),Hn(Ie,xe.FORBID_CONTENTS,mt)),se&&(re["#text"]=!0),ne&&Hn(re,["html","head","body"]),re.table&&(Hn(re,["tbody"]),delete De.tbody),xe.TRUSTED_TYPES_POLICY){if(typeof xe.TRUSTED_TYPES_POLICY.createHTML!="function")throw wy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof xe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw wy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=xe.TRUSTED_TYPES_POLICY,I=k.createHTML("")}else k===void 0&&(k=jK(_,s)),k!==null&&typeof I=="string"&&(I=k.createHTML(""));ga&&ga(xe),qt=xe}},Bi=Hn({},[...d2,...f2,...uK]),Di=Hn({},[...p2,...dK]),qi=function(xe){let at=L(xe);(!at||!at.tagName)&&(at={namespaceURI:kt,tagName:"template"});const X=Cj(xe.tagName),ue=Cj(at.tagName);return ct[xe.namespaceURI]?xe.namespaceURI===Xe?at.namespaceURI===ft?X==="svg":at.namespaceURI===Lt?X==="svg"&&(ue==="annotation-xml"||me[ue]):!!Bi[X]:xe.namespaceURI===Lt?at.namespaceURI===ft?X==="math":at.namespaceURI===Xe?X==="math"&&yt[ue]:!!Di[X]:xe.namespaceURI===ft?at.namespaceURI===Xe&&!yt[ue]||at.namespaceURI===Lt&&!me[ue]?!1:!Di[X]&&(st[X]||!Bi[X]):!!(jt==="application/xhtml+xml"&&ct[xe.namespaceURI]):!1},pi=function(xe){jy(e.removed,{element:xe});try{L(xe).removeChild(xe)}catch{C(xe)}},Wi=function(xe,at){try{jy(e.removed,{attribute:at.getAttributeNode(xe),from:at})}catch{jy(e.removed,{attribute:null,from:at})}if(at.removeAttribute(xe),xe==="is")if(We||He)try{pi(at)}catch{}else try{at.setAttribute(xe,"")}catch{}},Nl=function(xe){let at=null,X=null;if(qe)xe="<remove></remove>"+xe;else{const Ae=wD(xe,/^[\r\n\t ]+/);X=Ae&&Ae[0]}jt==="application/xhtml+xml"&&kt===ft&&(xe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+xe+"</body></html>");const ue=k?k.createHTML(xe):xe;if(kt===ft)try{at=new v().parseFromString(ue,jt)}catch{}if(!at||!at.documentElement){at=z.createDocument(kt,"template",null);try{at.documentElement.innerHTML=zt?I:ue}catch{}}const Ee=at.body||at.documentElement;return xe&&X&&Ee.insertBefore(i.createTextNode(X),Ee.childNodes[0]||null),kt===ft?P.call(at,ne?"html":"body")[0]:ne?at.documentElement:Ee},vs=function(xe){return U.call(xe.ownerDocument||xe,xe,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},ar=function(xe){return xe instanceof g&&(typeof xe.nodeName!="string"||typeof xe.textContent!="string"||typeof xe.removeChild!="function"||!(xe.attributes instanceof p)||typeof xe.removeAttribute!="function"||typeof xe.setAttribute!="function"||typeof xe.namespaceURI!="string"||typeof xe.insertBefore!="function"||typeof xe.hasChildNodes!="function")},_s=function(xe){return typeof l=="function"&&xe instanceof l};function kn(Pt,xe,at){gb(Pt,X=>{X.call(e,xe,at,qt)})}const bs=function(xe){let at=null;if(kn(G.beforeSanitizeElements,xe,null),ar(xe))return pi(xe),!0;const X=mt(xe.nodeName);if(kn(G.uponSanitizeElement,xe,{tagName:X,allowedTags:re}),At&&xe.hasChildNodes()&&!_s(xe.firstElementChild)&&aa(/<[/\w!]/g,xe.innerHTML)&&aa(/<[/\w!]/g,xe.textContent)||xe.nodeType===Cy.progressingInstruction||At&&xe.nodeType===Cy.comment&&aa(/<[/\w]/g,xe.data))return pi(xe),!0;if(!re[X]||De[X]){if(!De[X]&&qa(X)&&(pe.tagNameCheck instanceof RegExp&&aa(pe.tagNameCheck,X)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(X)))return!1;if(se&&!Ie[X]){const ue=L(xe)||xe.parentNode,Ee=A(xe)||xe.childNodes;if(Ee&&ue){const Ae=Ee.length;for(let be=Ae-1;be>=0;--be){const Qe=T(Ee[be],!0);Qe.__removalCount=(xe.__removalCount||0)+1,ue.insertBefore(Qe,w(xe))}}}return pi(xe),!0}return xe instanceof h&&!qi(xe)||(X==="noscript"||X==="noembed"||X==="noframes")&&aa(/<\/no(script|embed|frames)/i,xe.innerHTML)?(pi(xe),!0):(Et&&xe.nodeType===Cy.text&&(at=xe.textContent,gb([te,Q,K],ue=>{at=Sy(at,ue," ")}),xe.textContent!==at&&(jy(e.removed,{element:xe.cloneNode()}),xe.textContent=at)),kn(G.afterSanitizeElements,xe,null),!1)},js=function(xe,at,X){if(tt&&(at==="id"||at==="name")&&(X in i||X in Un))return!1;if(!(Ze&&!Be[at]&&aa(ee,at))){if(!(Ue&&aa(O,at))){if(!fe[at]||Be[at]){if(!(qa(xe)&&(pe.tagNameCheck instanceof RegExp&&aa(pe.tagNameCheck,xe)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(xe))&&(pe.attributeNameCheck instanceof RegExp&&aa(pe.attributeNameCheck,at)||pe.attributeNameCheck instanceof Function&&pe.attributeNameCheck(at))||at==="is"&&pe.allowCustomizedBuiltInElements&&(pe.tagNameCheck instanceof RegExp&&aa(pe.tagNameCheck,X)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(X))))return!1}else if(!gt[at]){if(!aa(W,Sy(X,V,""))){if(!((at==="src"||at==="xlink:href"||at==="href")&&xe!=="script"&&oK(X,"data:")===0&&Fe[xe])){if(!(Je&&!aa(q,Sy(X,V,"")))){if(X)return!1}}}}}}return!0},qa=function(xe){return xe!=="annotation-xml"&&wD(xe,le)},va=function(xe){kn(G.beforeSanitizeAttributes,xe,null);const{attributes:at}=xe;if(!at||ar(xe))return;const X={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:fe,forceKeepAttr:void 0};let ue=at.length;for(;ue--;){const Ee=at[ue],{name:Ae,namespaceURI:be,value:Qe}=Ee,pt=mt(Ae),bt=Qe;let dt=Ae==="value"?bt:lK(bt);if(X.attrName=pt,X.attrValue=dt,X.keepAttr=!0,X.forceKeepAttr=void 0,kn(G.uponSanitizeAttribute,xe,X),dt=X.attrValue,xt&&(pt==="id"||pt==="name")&&(Wi(Ae,xe),dt=Ct+dt),At&&aa(/((--!?|])>)|<\/(style|title)/i,dt)){Wi(Ae,xe);continue}if(X.forceKeepAttr)continue;if(!X.keepAttr){Wi(Ae,xe);continue}if(!Nt&&aa(/\/>/i,dt)){Wi(Ae,xe);continue}Et&&gb([te,Q,K],Wt=>{dt=Sy(dt,Wt," ")});const Jt=mt(xe.nodeName);if(!js(Jt,pt,dt)){Wi(Ae,xe);continue}if(k&&typeof _=="object"&&typeof _.getAttributeType=="function"&&!be)switch(_.getAttributeType(Jt,pt)){case"TrustedHTML":{dt=k.createHTML(dt);break}case"TrustedScriptURL":{dt=k.createScriptURL(dt);break}}if(dt!==bt)try{be?xe.setAttributeNS(be,Ae,dt):xe.setAttribute(Ae,dt),ar(xe)?pi(xe):SD(e.removed)}catch{Wi(Ae,xe)}}kn(G.afterSanitizeAttributes,xe,null)},Ii=function Pt(xe){let at=null;const X=vs(xe);for(kn(G.beforeSanitizeShadowDOM,xe,null);at=X.nextNode();)kn(G.uponSanitizeShadowNode,at,null),bs(at),va(at),at.content instanceof a&&Pt(at.content);kn(G.afterSanitizeShadowDOM,xe,null)};return e.sanitize=function(Pt){let xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},at=null,X=null,ue=null,Ee=null;if(zt=!Pt,zt&&(Pt="<!-->"),typeof Pt!="string"&&!_s(Pt))if(typeof Pt.toString=="function"){if(Pt=Pt.toString(),typeof Pt!="string")throw wy("dirty is not a string, aborting")}else throw wy("toString is not a function");if(!e.isSupported)return Pt;if(rt||mr(xe),e.removed=[],typeof Pt=="string"&&(Y=!1),Y){if(Pt.nodeName){const Qe=mt(Pt.nodeName);if(!re[Qe]||De[Qe])throw wy("root node is forbidden and cannot be sanitized in-place")}}else if(Pt instanceof l)at=Nl("<!---->"),X=at.ownerDocument.importNode(Pt,!0),X.nodeType===Cy.element&&X.nodeName==="BODY"||X.nodeName==="HTML"?at=X:at.appendChild(X);else{if(!We&&!Et&&!ne&&Pt.indexOf("<")===-1)return k&&vt?k.createHTML(Pt):Pt;if(at=Nl(Pt),!at)return We?null:vt?I:""}at&&qe&&pi(at.firstChild);const Ae=vs(Y?Pt:at);for(;ue=Ae.nextNode();)bs(ue),va(ue),ue.content instanceof a&&Ii(ue.content);if(Y)return Pt;if(We){if(He)for(Ee=H.call(at.ownerDocument);at.firstChild;)Ee.appendChild(at.firstChild);else Ee=at;return(fe.shadowroot||fe.shadowrootmode)&&(Ee=N.call(r,Ee,!0)),Ee}let be=ne?at.outerHTML:at.innerHTML;return ne&&re["!doctype"]&&at.ownerDocument&&at.ownerDocument.doctype&&at.ownerDocument.doctype.name&&aa(YF,at.ownerDocument.doctype.name)&&(be="<!DOCTYPE "+at.ownerDocument.doctype.name+`>
`+be),Et&&gb([te,Q,K],Qe=>{be=Sy(be,Qe," ")}),k&&vt?k.createHTML(be):be},e.setConfig=function(){let Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};mr(Pt),rt=!0},e.clearConfig=function(){qt=null,rt=!1},e.isValidAttribute=function(Pt,xe,at){qt||mr({});const X=mt(Pt),ue=mt(xe);return js(X,ue,at)},e.addHook=function(Pt,xe){typeof xe=="function"&&jy(G[Pt],xe)},e.removeHook=function(Pt,xe){if(xe!==void 0){const at=sK(G[Pt],xe);return at===-1?void 0:aK(G[Pt],at,1)[0]}return SD(G[Pt])},e.removeHooks=function(Pt){G[Pt]=[]},e.removeAllHooks=function(){G=RD()},e}var vg=KF(),ZF=Object.defineProperty,F=(t,e)=>ZF(t,"name",{value:e,configurable:!0}),SK=(t,e)=>{for(var i in e)ZF(t,i,{get:e[i],enumerable:!0})},uh={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},nt={trace:F((...t)=>{},"trace"),debug:F((...t)=>{},"debug"),info:F((...t)=>{},"info"),warn:F((...t)=>{},"warn"),error:F((...t)=>{},"error"),fatal:F((...t)=>{},"fatal")},GE=F(function(t="fatal"){let e=uh.fatal;typeof t=="string"?t.toLowerCase()in uh&&(e=uh[t]):typeof t=="number"&&(e=t),nt.trace=()=>{},nt.debug=()=>{},nt.info=()=>{},nt.warn=()=>{},nt.error=()=>{},nt.fatal=()=>{},e<=uh.fatal&&(nt.fatal=console.error?console.error.bind(console,Oo("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Oo("FATAL"))),e<=uh.error&&(nt.error=console.error?console.error.bind(console,Oo("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Oo("ERROR"))),e<=uh.warn&&(nt.warn=console.warn?console.warn.bind(console,Oo("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Oo("WARN"))),e<=uh.info&&(nt.info=console.info?console.info.bind(console,Oo("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Oo("INFO"))),e<=uh.debug&&(nt.debug=console.debug?console.debug.bind(console,Oo("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Oo("DEBUG"))),e<=uh.trace&&(nt.trace=console.debug?console.debug.bind(console,Oo("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Oo("TRACE")))},"setLogLevel"),Oo=F(t=>`%c${XY().format("ss.SSS")} : ${t} : `,"format"),QF=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,u0=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,wK=/\s*%%.*\n/gm,og,JF=(og=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},F(og,"UnknownDiagramError"),og),_g={},$E=F(function(t,e){t=t.replace(QF,"").replace(u0,"").replace(wK,`
`);for(const[i,{detector:r}]of Object.entries(_g))if(r(t,e))return i;throw new JF(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),oM=F((...t)=>{for(const{id:e,detector:i,loader:r}of t)eU(e,i,r)},"registerLazyLoadedDiagrams"),eU=F((t,e,i)=>{_g[t]&&nt.warn(`Detector with key ${t} already exists. Overwriting.`),_g[t]={detector:e,loader:i},nt.debug(`Detector with key ${t} added${i?" with loader":""}`)},"addDetector"),TK=F(t=>_g[t].loader,"getDiagramLoader"),lM=F((t,e,{depth:i=2,clobber:r=!1}={})=>{const s={depth:i,clobber:r};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(a=>lM(t,a,s)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(a=>{t.includes(a)||t.push(a)}),t):t===void 0||i<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(a=>{typeof e[a]=="object"&&(t[a]===void 0||typeof t[a]=="object")?(t[a]===void 0&&(t[a]=Array.isArray(e[a])?[]:{}),t[a]=lM(t[a],e[a],{depth:i-1,clobber:r})):(r||typeof t[a]!="object"&&typeof e[a]!="object")&&(t[a]=e[a])}),t)},"assignWithDepth"),gs=lM,q1="#ffffff",W1="#f2f2f2",ua=F((t,e)=>e?Me(t,{s:-40,l:10}):Me(t,{s:-40,l:-10}),"mkBorder"),lg,CK=(lg=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Me(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Me(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ua(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ua(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ua(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ua(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||St(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||St(this.tertiaryColor),this.lineColor=this.lineColor||St(this.background),this.arrowheadColor=this.arrowheadColor||St(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?nn(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||nn(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||St(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Ft(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||nn(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||nn(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Me(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Me(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Me(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Me(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Me(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Me(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Me(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Me(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Me(this.primaryColor,{h:330}),this.darkMode)for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScale"+i]=nn(this["cScale"+i],75);else for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScale"+i]=nn(this["cScale"+i],25);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleInv"+i]=this["cScaleInv"+i]||St(this["cScale"+i]);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this.darkMode?this["cScalePeer"+i]=this["cScalePeer"+i]||Ft(this["cScale"+i],10):this["cScalePeer"+i]=this["cScalePeer"+i]||nn(this["cScale"+i],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleLabel"+i]=this["cScaleLabel"+i]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let i=0;i<5;i++)this["surface"+i]=this["surface"+i]||Me(this.mainBkg,{h:180,s:-15,l:e*(5+i*3)}),this["surfacePeer"+i]=this["surfacePeer"+i]||Me(this.mainBkg,{h:180,s:-15,l:e*(8+i*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Me(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Me(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Me(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Me(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Me(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Me(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Me(this.primaryColor,{l:-10}),this.pie5=this.pie5||Me(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Me(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Me(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Me(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Me(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Me(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Me(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Me(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pv(this.quadrant1Fill)?Ft(this.quadrant1Fill):nn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?nn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Me(this.primaryColor,{h:-30}),this.git4=this.git4||Me(this.primaryColor,{h:-60}),this.git5=this.git5||Me(this.primaryColor,{h:-90}),this.git6=this.git6||Me(this.primaryColor,{h:60}),this.git7=this.git7||Me(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=nn(this.git0,25),this.git1=nn(this.git1,25),this.git2=nn(this.git2,25),this.git3=nn(this.git3,25),this.git4=nn(this.git4,25),this.git5=nn(this.git5,25),this.git6=nn(this.git6,25),this.git7=nn(this.git7,25)),this.gitInv0=this.gitInv0||St(this.git0),this.gitInv1=this.gitInv1||St(this.git1),this.gitInv2=this.gitInv2||St(this.git2),this.gitInv3=this.gitInv3||St(this.git3),this.gitInv4=this.gitInv4||St(this.git4),this.gitInv5=this.gitInv5||St(this.git5),this.gitInv6=this.gitInv6||St(this.git6),this.gitInv7=this.gitInv7||St(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||q1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||W1}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(r=>{this[r]=e[r]}),this.updateColors(),i.forEach(r=>{this[r]=e[r]})}},F(lg,"Theme"),lg),MK=F(t=>{const e=new CK;return e.calculate(t),e},"getThemeVariables"),cg,EK=(cg=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Ft(this.primaryColor,16),this.tertiaryColor=Me(this.primaryColor,{h:-160}),this.primaryBorderColor=St(this.background),this.secondaryBorderColor=ua(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ua(this.tertiaryColor,this.darkMode),this.primaryTextColor=St(this.primaryColor),this.secondaryTextColor=St(this.secondaryColor),this.tertiaryTextColor=St(this.tertiaryColor),this.lineColor=St(this.background),this.textColor=St(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Ft(St("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=h0(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=nn("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=nn(this.sectionBkgColor,10),this.taskBorderColor=h0(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=h0(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ft(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||nn(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Ft(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Ft(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Ft(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Me(this.primaryColor,{h:64}),this.fillType3=Me(this.secondaryColor,{h:64}),this.fillType4=Me(this.primaryColor,{h:-64}),this.fillType5=Me(this.secondaryColor,{h:-64}),this.fillType6=Me(this.primaryColor,{h:128}),this.fillType7=Me(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Me(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Me(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Me(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Me(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Me(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Me(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Me(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Me(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Me(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||St(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Ft(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Me(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Me(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pv(this.quadrant1Fill)?Ft(this.quadrant1Fill):nn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?nn(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ft(this.secondaryColor,20),this.git1=Ft(this.pie2||this.secondaryColor,20),this.git2=Ft(this.pie3||this.tertiaryColor,20),this.git3=Ft(this.pie4||Me(this.primaryColor,{h:-30}),20),this.git4=Ft(this.pie5||Me(this.primaryColor,{h:-60}),20),this.git5=Ft(this.pie6||Me(this.primaryColor,{h:-90}),10),this.git6=Ft(this.pie7||Me(this.primaryColor,{h:60}),10),this.git7=Ft(this.pie8||Me(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||St(this.git0),this.gitInv1=this.gitInv1||St(this.git1),this.gitInv2=this.gitInv2||St(this.git2),this.gitInv3=this.gitInv3||St(this.git3),this.gitInv4=this.gitInv4||St(this.git4),this.gitInv5=this.gitInv5||St(this.git5),this.gitInv6=this.gitInv6||St(this.git6),this.gitInv7=this.gitInv7||St(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||St(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||St(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Ft(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ft(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(r=>{this[r]=e[r]}),this.updateColors(),i.forEach(r=>{this[r]=e[r]})}},F(cg,"Theme"),cg),AK=F(t=>{const e=new EK;return e.calculate(t),e},"getThemeVariables"),hg,RK=(hg=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Me(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Me(this.primaryColor,{h:-160}),this.primaryBorderColor=ua(this.primaryColor,this.darkMode),this.secondaryBorderColor=ua(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ua(this.tertiaryColor,this.darkMode),this.primaryTextColor=St(this.primaryColor),this.secondaryTextColor=St(this.secondaryColor),this.tertiaryTextColor=St(this.tertiaryColor),this.lineColor=St(this.background),this.textColor=St(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=h0(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Me(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Me(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Me(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Me(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Me(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Me(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Me(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Me(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Me(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||nn(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||nn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=nn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||nn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Me(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Me(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Me(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||St(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||St(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ft(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Me(this.primaryColor,{h:64}),this.fillType3=Me(this.secondaryColor,{h:64}),this.fillType4=Me(this.primaryColor,{h:-64}),this.fillType5=Me(this.secondaryColor,{h:-64}),this.fillType6=Me(this.primaryColor,{h:128}),this.fillType7=Me(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Me(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Me(this.primaryColor,{l:-10}),this.pie5=this.pie5||Me(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Me(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Me(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Me(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Me(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Me(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Me(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Me(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pv(this.quadrant1Fill)?Ft(this.quadrant1Fill):nn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Me(this.primaryColor,{h:-30}),this.git4=this.git4||Me(this.primaryColor,{h:-60}),this.git5=this.git5||Me(this.primaryColor,{h:-90}),this.git6=this.git6||Me(this.primaryColor,{h:60}),this.git7=this.git7||Me(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=nn(this.git0,25),this.git1=nn(this.git1,25),this.git2=nn(this.git2,25),this.git3=nn(this.git3,25),this.git4=nn(this.git4,25),this.git5=nn(this.git5,25),this.git6=nn(this.git6,25),this.git7=nn(this.git7,25)),this.gitInv0=this.gitInv0||nn(St(this.git0),25),this.gitInv1=this.gitInv1||St(this.git1),this.gitInv2=this.gitInv2||St(this.git2),this.gitInv3=this.gitInv3||St(this.git3),this.gitInv4=this.gitInv4||St(this.git4),this.gitInv5=this.gitInv5||St(this.git5),this.gitInv6=this.gitInv6||St(this.git6),this.gitInv7=this.gitInv7||St(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||St(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||St(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||q1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||W1}calculate(e){if(Object.keys(this).forEach(r=>{this[r]==="calculated"&&(this[r]=void 0)}),typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(r=>{this[r]=e[r]}),this.updateColors(),i.forEach(r=>{this[r]=e[r]})}},F(hg,"Theme"),hg),LK=F(t=>{const e=new RK;return e.calculate(t),e},"getThemeVariables"),ug,DK=(ug=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Ft("#cde498",10),this.primaryBorderColor=ua(this.primaryColor,this.darkMode),this.secondaryBorderColor=ua(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ua(this.tertiaryColor,this.darkMode),this.primaryTextColor=St(this.primaryColor),this.secondaryTextColor=St(this.secondaryColor),this.tertiaryTextColor=St(this.primaryColor),this.lineColor=St(this.background),this.textColor=St(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=nn(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Me(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Me(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Me(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Me(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Me(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Me(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Me(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Me(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Me(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||nn(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||nn(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=nn(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||nn(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||Me(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Me(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Me(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Ft(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Me(this.primaryColor,{h:64}),this.fillType3=Me(this.secondaryColor,{h:64}),this.fillType4=Me(this.primaryColor,{h:-64}),this.fillType5=Me(this.secondaryColor,{h:-64}),this.fillType6=Me(this.primaryColor,{h:128}),this.fillType7=Me(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Me(this.primaryColor,{l:-30}),this.pie5=this.pie5||Me(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Me(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Me(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Me(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Me(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Me(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Me(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Me(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pv(this.quadrant1Fill)?Ft(this.quadrant1Fill):nn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Me(this.primaryColor,{h:-30}),this.git4=this.git4||Me(this.primaryColor,{h:-60}),this.git5=this.git5||Me(this.primaryColor,{h:-90}),this.git6=this.git6||Me(this.primaryColor,{h:60}),this.git7=this.git7||Me(this.primaryColor,{h:120}),this.darkMode?(this.git0=Ft(this.git0,25),this.git1=Ft(this.git1,25),this.git2=Ft(this.git2,25),this.git3=Ft(this.git3,25),this.git4=Ft(this.git4,25),this.git5=Ft(this.git5,25),this.git6=Ft(this.git6,25),this.git7=Ft(this.git7,25)):(this.git0=nn(this.git0,25),this.git1=nn(this.git1,25),this.git2=nn(this.git2,25),this.git3=nn(this.git3,25),this.git4=nn(this.git4,25),this.git5=nn(this.git5,25),this.git6=nn(this.git6,25),this.git7=nn(this.git7,25)),this.gitInv0=this.gitInv0||St(this.git0),this.gitInv1=this.gitInv1||St(this.git1),this.gitInv2=this.gitInv2||St(this.git2),this.gitInv3=this.gitInv3||St(this.git3),this.gitInv4=this.gitInv4||St(this.git4),this.gitInv5=this.gitInv5||St(this.git5),this.gitInv6=this.gitInv6||St(this.git6),this.gitInv7=this.gitInv7||St(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||St(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||St(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||q1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||W1}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(r=>{this[r]=e[r]}),this.updateColors(),i.forEach(r=>{this[r]=e[r]})}},F(ug,"Theme"),ug),kK=F(t=>{const e=new DK;return e.calculate(t),e},"getThemeVariables"),dg,NK=(dg=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Ft(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Me(this.primaryColor,{h:-160}),this.primaryBorderColor=ua(this.primaryColor,this.darkMode),this.secondaryBorderColor=ua(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ua(this.tertiaryColor,this.darkMode),this.primaryTextColor=St(this.primaryColor),this.secondaryTextColor=St(this.secondaryColor),this.tertiaryTextColor=St(this.tertiaryColor),this.lineColor=St(this.background),this.textColor=St(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Ft(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Ft(this.contrast,55),this.border2=this.contrast,this.actorBorder=Ft(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||St(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Ft(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||nn(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||Me(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||Me(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Ft(this.contrast,30),this.sectionBkgColor2=Ft(this.contrast,30),this.taskBorderColor=nn(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Ft(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=nn(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Me(this.primaryColor,{h:64}),this.fillType3=Me(this.secondaryColor,{h:64}),this.fillType4=Me(this.primaryColor,{h:-64}),this.fillType5=Me(this.secondaryColor,{h:-64}),this.fillType6=Me(this.primaryColor,{h:128}),this.fillType7=Me(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Me(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Me(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Me(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Me(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Me(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Me(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||pv(this.quadrant1Fill)?Ft(this.quadrant1Fill):nn(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=nn(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Me(this.primaryColor,{h:-30}),this.git4=this.pie5||Me(this.primaryColor,{h:-60}),this.git5=this.pie6||Me(this.primaryColor,{h:-90}),this.git6=this.pie7||Me(this.primaryColor,{h:60}),this.git7=this.pie8||Me(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||St(this.git0),this.gitInv1=this.gitInv1||St(this.git1),this.gitInv2=this.gitInv2||St(this.git2),this.gitInv3=this.gitInv3||St(this.git3),this.gitInv4=this.gitInv4||St(this.git4),this.gitInv5=this.gitInv5||St(this.git5),this.gitInv6=this.gitInv6||St(this.git6),this.gitInv7=this.gitInv7||St(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||q1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||W1}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(r=>{this[r]=e[r]}),this.updateColors(),i.forEach(r=>{this[r]=e[r]})}},F(dg,"Theme"),dg),PK=F(t=>{const e=new NK;return e.calculate(t),e},"getThemeVariables"),Eh={base:{getThemeVariables:MK},dark:{getThemeVariables:AK},default:{getThemeVariables:LK},forest:{getThemeVariables:kK},neutral:{getThemeVariables:PK}},mc={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},tU={...mc,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Eh.default.getThemeVariables(),sequence:{...mc.sequence,messageFont:F(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:F(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:F(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...mc.gantt,tickInterval:void 0,useWidth:void 0},c4:{...mc.c4,useWidth:void 0,personFont:F(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...mc.flowchart,inheritDir:!1},external_personFont:F(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:F(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:F(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:F(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:F(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:F(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:F(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:F(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:F(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:F(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:F(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:F(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:F(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:F(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:F(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:F(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:F(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:F(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:F(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:F(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:F(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...mc.pie,useWidth:984},xyChart:{...mc.xyChart,useWidth:void 0},requirement:{...mc.requirement,useWidth:void 0},packet:{...mc.packet},radar:{...mc.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},nU=F((t,e="")=>Object.keys(t).reduce((i,r)=>Array.isArray(t[r])?i:typeof t[r]=="object"&&t[r]!==null?[...i,e+r,...nU(t[r],"")]:[...i,e+r],[]),"keyify"),OK=new Set(nU(tU,"")),iU=tU,hS=F(t=>{if(nt.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>hS(e));return}for(const e of Object.keys(t)){if(nt.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!OK.has(e)||t[e]==null){nt.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){nt.debug("sanitizing object",e),hS(t[e]);continue}const i=["themeCSS","fontFamily","altFontFamily"];for(const r of i)e.includes(r)&&(nt.debug("sanitizing css option",e),t[e]=BK(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const i=t.themeVariables[e];i?.match&&!i.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}nt.debug("After sanitization",t)}},"sanitizeDirective"),BK=F(t=>{let e=0,i=0;for(const r of t){if(e<i)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&i++}return e!==i?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),bg=Object.freeze(iU),Oa=gs({},bg),rU,jg=[],d0=gs({},bg),X1=F((t,e)=>{let i=gs({},t),r={};for(const s of e)oU(s),r=gs(r,s);if(i=gs(i,r),r.theme&&r.theme in Eh){const s=gs({},rU),a=gs(s.themeVariables||{},r.themeVariables);i.theme&&i.theme in Eh&&(i.themeVariables=Eh[i.theme].getThemeVariables(a))}return d0=i,lU(d0),d0},"updateCurrentConfig"),IK=F(t=>(Oa=gs({},bg),Oa=gs(Oa,t),t.theme&&Eh[t.theme]&&(Oa.themeVariables=Eh[t.theme].getThemeVariables(t.themeVariables)),X1(Oa,jg),Oa),"setSiteConfig"),FK=F(t=>{rU=gs({},t)},"saveConfigFromInitialize"),UK=F(t=>(Oa=gs(Oa,t),X1(Oa,jg),Oa),"updateSiteConfig"),sU=F(()=>gs({},Oa),"getSiteConfig"),aU=F(t=>(lU(t),gs(d0,t),Ha()),"setConfig"),Ha=F(()=>gs({},d0),"getConfig"),oU=F(t=>{t&&(["secure",...Oa.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(nt.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&oU(t[e])}))},"sanitize"),zK=F(t=>{hS(t),t.fontFamily&&!t.themeVariables?.fontFamily&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),jg.push(t),X1(Oa,jg)},"addDirective"),uS=F((t=Oa)=>{jg=[],X1(t,jg)},"reset"),HK={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},LD={},VK=F(t=>{LD[t]||(nt.warn(HK[t]),LD[t]=!0)},"issueWarning"),lU=F(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&VK("LAZY_LOAD_DEPRECATED")},"checkConfig"),mv=/<br\s*\/?>/gi,GK=F(t=>t?uU(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),$K=(()=>{let t=!1;return()=>{t||(cU(),t=!0)}})();function cU(){const t="data-temp-href-target";vg.addHook("beforeSanitizeAttributes",e=>{e instanceof Element&&e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),vg.addHook("afterSanitizeAttributes",e=>{e instanceof Element&&e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}F(cU,"setupDompurifyHooks");var hU=F(t=>($K(),vg.sanitize(t)),"removeScript"),DD=F((t,e)=>{if(e.flowchart?.htmlLabels!==!1){const i=e.securityLevel;i==="antiscript"||i==="strict"?t=hU(t):i!=="loose"&&(t=uU(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=YK(t))}return t},"sanitizeMore"),Zf=F((t,e)=>t&&(e.dompurifyConfig?t=vg.sanitize(DD(t,e),e.dompurifyConfig).toString():t=vg.sanitize(DD(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),qK=F((t,e)=>typeof t=="string"?Zf(t,e):t.flat().map(i=>Zf(i,e)),"sanitizeTextOrArray"),WK=F(t=>mv.test(t),"hasBreaks"),XK=F(t=>t.split(mv),"splitBreaks"),YK=F(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),uU=F(t=>t.replace(mv,"#br#"),"breakToPlaceholder"),dU=F(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Hr=F(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),KK=F(function(...t){const e=t.filter(i=>!isNaN(i));return Math.max(...e)},"getMax"),ZK=F(function(...t){const e=t.filter(i=>!isNaN(i));return Math.min(...e)},"getMin"),kD=F(function(t){const e=t.split(/(,)/),i=[];for(let r=0;r<e.length;r++){let s=e[r];if(s===","&&r>0&&r+1<e.length){const a=e[r-1],o=e[r+1];QK(a,o)&&(s=a+","+o,r++,i.pop())}i.push(JK(s))}return i.join("")},"parseGenericTypes"),cM=F((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),QK=F((t,e)=>{const i=cM(t,"~"),r=cM(e,"~");return i===1&&r===1},"shouldCombineSets"),JK=F(t=>{const e=cM(t,"~");let i=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),i=!0);const r=[...t];let s=r.indexOf("~"),a=r.lastIndexOf("~");for(;s!==-1&&a!==-1&&s!==a;)r[s]="<",r[a]=">",s=r.indexOf("~"),a=r.lastIndexOf("~");return i&&r.unshift("~"),r.join("")},"processSet"),ND=F(()=>window.MathMLElement!==void 0,"isMathMLSupported"),hM=/\$\$(.*)\$\$/g,Sg=F(t=>(t.match(hM)?.length??0)>0,"hasKatex"),D3e=F(async(t,e)=>{t=await qE(t,e);const i=document.createElement("div");i.innerHTML=t,i.id="katex-temp",i.style.visibility="hidden",i.style.position="absolute",i.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",i);const s={width:i.clientWidth,height:i.clientHeight};return i.remove(),s},"calculateMathMLDimensions"),qE=F(async(t,e)=>{if(!Sg(t))return t;if(!(ND()||e.legacyMathML||e.forceLegacyMathML))return t.replace(hM,"MathML is unsupported in this environment.");{const{default:i}=await ie(async()=>{const{default:s}=await import("./katex-CfZphoad.js");return{default:s}},[]),r=e.forceLegacyMathML||!ND()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(mv).map(s=>Sg(s)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${s}</div>`:`<div>${s}</div>`).join("").replace(hM,(s,a)=>i.renderToString(a,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatex"),qg={getRows:GK,sanitizeText:Zf,sanitizeTextOrArray:qK,hasBreaks:WK,splitBreaks:XK,lineBreakRegex:mv,removeScript:hU,getUrl:dU,evaluate:Hr,getMax:KK,getMin:ZK},eZ=F(function(t,e){for(let i of e)t.attr(i[0],i[1])},"d3Attrs"),tZ=F(function(t,e,i){let r=new Map;return i?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},"calculateSvgSizeAttrs"),fU=F(function(t,e,i,r){const s=tZ(e,i,r);eZ(t,s)},"configureSvgSize"),nZ=F(function(t,e,i,r){const s=e.node().getBBox(),a=s.width,o=s.height;nt.info(`SVG bounds: ${a}x${o}`,s);let l=0,h=0;nt.info(`Graph bounds: ${l}x${h}`,t),l=a+i*2,h=o+i*2,nt.info(`Calculated bounds: ${l}x${h}`),fU(e,h,l,r);const d=`${s.x-i} ${s.y-i} ${s.width+2*i} ${s.height+2*i}`;e.attr("viewBox",d)},"setupGraphViewbox"),Mj={},iZ=F((t,e,i)=>{let r="";return t in Mj&&Mj[t]?r=Mj[t](i):nt.warn(`No theme found for ${t}`),` & {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
    fill: ${i.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${i.errorBkgColor};
  }
  & .error-text {
    fill: ${i.errorTextColor};
    stroke: ${i.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${i.lineColor};
    stroke: ${i.lineColor};
  }
  & .marker.cross {
    stroke: ${i.lineColor};
  }

  & svg {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${e}
`},"getStyles"),rZ=F((t,e)=>{e!==void 0&&(Mj[t]=e)},"addStylesForDiagram"),sZ=iZ,pU={};SK(pU,{clear:()=>aZ,getAccDescription:()=>hZ,getAccTitle:()=>lZ,getDiagramTitle:()=>dZ,setAccDescription:()=>cZ,setAccTitle:()=>oZ,setDiagramTitle:()=>uZ});var WE="",XE="",YE="",KE=F(t=>Zf(t,Ha()),"sanitizeText"),aZ=F(()=>{WE="",YE="",XE=""},"clear"),oZ=F(t=>{WE=KE(t).replace(/^\s+/g,"")},"setAccTitle"),lZ=F(()=>WE,"getAccTitle"),cZ=F(t=>{YE=KE(t).replace(/\n\s+/g,`
`)},"setAccDescription"),hZ=F(()=>YE,"getAccDescription"),uZ=F(t=>{XE=KE(t)},"setDiagramTitle"),dZ=F(()=>XE,"getDiagramTitle"),PD=nt,fZ=GE,ci=Ha,k3e=aU,N3e=bg,Y1=F(t=>Zf(t,ci()),"sanitizeText"),pZ=nZ,mZ=F(()=>pU,"getCommonDb"),dS={},fS=F((t,e,i)=>{dS[t]&&PD.warn(`Diagram with id ${t} already registered. Overwriting.`),dS[t]=e,i&&eU(t,i),rZ(t,e.styles),e.injectUtils?.(PD,fZ,ci,Y1,pZ,mZ(),()=>{})},"registerDiagram"),uM=F(t=>{if(t in dS)return dS[t];throw new gZ(t)},"getDiagram"),fg,gZ=(fg=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},F(fg,"DiagramNotFoundError"),fg);function ZE(t){return typeof t>"u"||t===null}F(ZE,"isNothing");function mU(t){return typeof t=="object"&&t!==null}F(mU,"isObject");function gU(t){return Array.isArray(t)?t:ZE(t)?[]:[t]}F(gU,"toArray");function xU(t,e){var i,r,s,a;if(e)for(a=Object.keys(e),i=0,r=a.length;i<r;i+=1)s=a[i],t[s]=e[s];return t}F(xU,"extend");function yU(t,e){var i="",r;for(r=0;r<e;r+=1)i+=t;return i}F(yU,"repeat");function vU(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}F(vU,"isNegativeZero");var xZ=ZE,yZ=mU,vZ=gU,_Z=yU,bZ=vU,jZ=xU,Ur={isNothing:xZ,isObject:yZ,toArray:vZ,repeat:_Z,isNegativeZero:bZ,extend:jZ};function QE(t,e){var i="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),r+" "+i):r}F(QE,"formatError");function wg(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=QE(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}F(wg,"YAMLException$1");wg.prototype=Object.create(Error.prototype);wg.prototype.constructor=wg;wg.prototype.toString=F(function(e){return this.name+": "+QE(this,e)},"toString");var Ia=wg;function Ej(t,e,i,r,s){var a="",o="",l=Math.floor(s/2)-1;return r-e>l&&(a=" ... ",e=r-l+a.length),i-r>l&&(o=" ...",i=r+l-o.length),{str:a+t.slice(e,i).replace(/\t/g,"→")+o,pos:r-e+a.length}}F(Ej,"getLine");function Aj(t,e){return Ur.repeat(" ",e-t.length)+t}F(Aj,"padStart");function _U(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,r=[0],s=[],a,o=-1;a=i.exec(t.buffer);)s.push(a.index),r.push(a.index+a[0].length),t.position<=a.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var l="",h,d,p=Math.min(t.line+e.linesAfter,s.length).toString().length,g=e.maxLength-(e.indent+p+3);for(h=1;h<=e.linesBefore&&!(o-h<0);h++)d=Ej(t.buffer,r[o-h],s[o-h],t.position-(r[o]-r[o-h]),g),l=Ur.repeat(" ",e.indent)+Aj((t.line-h+1).toString(),p)+" | "+d.str+`
`+l;for(d=Ej(t.buffer,r[o],s[o],t.position,g),l+=Ur.repeat(" ",e.indent)+Aj((t.line+1).toString(),p)+" | "+d.str+`
`,l+=Ur.repeat("-",e.indent+p+3+d.pos)+`^
`,h=1;h<=e.linesAfter&&!(o+h>=s.length);h++)d=Ej(t.buffer,r[o+h],s[o+h],t.position-(r[o]-r[o+h]),g),l+=Ur.repeat(" ",e.indent)+Aj((t.line+h+1).toString(),p)+" | "+d.str+`
`;return l.replace(/\n$/,"")}F(_U,"makeSnippet");var SZ=_U,wZ=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],TZ=["scalar","sequence","mapping"];function bU(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(r){e[String(r)]=i})}),e}F(bU,"compileStyleAliases");function jU(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(wZ.indexOf(i)===-1)throw new Ia('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=bU(e.styleAliases||null),TZ.indexOf(this.kind)===-1)throw new Ia('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}F(jU,"Type$1");var zs=jU;function dM(t,e){var i=[];return t[e].forEach(function(r){var s=i.length;i.forEach(function(a,o){a.tag===r.tag&&a.kind===r.kind&&a.multi===r.multi&&(s=o)}),i[s]=r}),i}F(dM,"compileList");function SU(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function r(s){s.multi?(t.multi[s.kind].push(s),t.multi.fallback.push(s)):t[s.kind][s.tag]=t.fallback[s.tag]=s}for(F(r,"collectType"),e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(r);return t}F(SU,"compileMap");function pS(t){return this.extend(t)}F(pS,"Schema$1");pS.prototype.extend=F(function(e){var i=[],r=[];if(e instanceof zs)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Ia("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(a){if(!(a instanceof zs))throw new Ia("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(a.loadKind&&a.loadKind!=="scalar")throw new Ia("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(a.multi)throw new Ia("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(a){if(!(a instanceof zs))throw new Ia("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(pS.prototype);return s.implicit=(this.implicit||[]).concat(i),s.explicit=(this.explicit||[]).concat(r),s.compiledImplicit=dM(s,"implicit"),s.compiledExplicit=dM(s,"explicit"),s.compiledTypeMap=SU(s.compiledImplicit,s.compiledExplicit),s},"extend");var CZ=pS,MZ=new zs("tag:yaml.org,2002:str",{kind:"scalar",construct:F(function(t){return t!==null?t:""},"construct")}),EZ=new zs("tag:yaml.org,2002:seq",{kind:"sequence",construct:F(function(t){return t!==null?t:[]},"construct")}),AZ=new zs("tag:yaml.org,2002:map",{kind:"mapping",construct:F(function(t){return t!==null?t:{}},"construct")}),RZ=new CZ({explicit:[MZ,EZ,AZ]});function wU(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}F(wU,"resolveYamlNull");function TU(){return null}F(TU,"constructYamlNull");function CU(t){return t===null}F(CU,"isNull");var LZ=new zs("tag:yaml.org,2002:null",{kind:"scalar",resolve:wU,construct:TU,predicate:CU,represent:{canonical:F(function(){return"~"},"canonical"),lowercase:F(function(){return"null"},"lowercase"),uppercase:F(function(){return"NULL"},"uppercase"),camelcase:F(function(){return"Null"},"camelcase"),empty:F(function(){return""},"empty")},defaultStyle:"lowercase"});function MU(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}F(MU,"resolveYamlBoolean");function EU(t){return t==="true"||t==="True"||t==="TRUE"}F(EU,"constructYamlBoolean");function AU(t){return Object.prototype.toString.call(t)==="[object Boolean]"}F(AU,"isBoolean");var DZ=new zs("tag:yaml.org,2002:bool",{kind:"scalar",resolve:MU,construct:EU,predicate:AU,represent:{lowercase:F(function(t){return t?"true":"false"},"lowercase"),uppercase:F(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:F(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function RU(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}F(RU,"isHexCode");function LU(t){return 48<=t&&t<=55}F(LU,"isOctCode");function DU(t){return 48<=t&&t<=57}F(DU,"isDecCode");function kU(t){if(t===null)return!1;var e=t.length,i=0,r=!1,s;if(!e)return!1;if(s=t[i],(s==="-"||s==="+")&&(s=t[++i]),s==="0"){if(i+1===e)return!0;if(s=t[++i],s==="b"){for(i++;i<e;i++)if(s=t[i],s!=="_"){if(s!=="0"&&s!=="1")return!1;r=!0}return r&&s!=="_"}if(s==="x"){for(i++;i<e;i++)if(s=t[i],s!=="_"){if(!RU(t.charCodeAt(i)))return!1;r=!0}return r&&s!=="_"}if(s==="o"){for(i++;i<e;i++)if(s=t[i],s!=="_"){if(!LU(t.charCodeAt(i)))return!1;r=!0}return r&&s!=="_"}}if(s==="_")return!1;for(;i<e;i++)if(s=t[i],s!=="_"){if(!DU(t.charCodeAt(i)))return!1;r=!0}return!(!r||s==="_")}F(kU,"resolveYamlInteger");function NU(t){var e=t,i=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(i=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}F(NU,"constructYamlInteger");function PU(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Ur.isNegativeZero(t)}F(PU,"isInteger");var kZ=new zs("tag:yaml.org,2002:int",{kind:"scalar",resolve:kU,construct:NU,predicate:PU,represent:{binary:F(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:F(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:F(function(t){return t.toString(10)},"decimal"),hexadecimal:F(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),NZ=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function OU(t){return!(t===null||!NZ.test(t)||t[t.length-1]==="_")}F(OU,"resolveYamlFloat");function BU(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}F(BU,"constructYamlFloat");var PZ=/^[-+]?[0-9]+e/;function IU(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ur.isNegativeZero(t))return"-0.0";return i=t.toString(10),PZ.test(i)?i.replace("e",".e"):i}F(IU,"representYamlFloat");function FU(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Ur.isNegativeZero(t))}F(FU,"isFloat");var OZ=new zs("tag:yaml.org,2002:float",{kind:"scalar",resolve:OU,construct:BU,predicate:FU,represent:IU,defaultStyle:"lowercase"}),UU=RZ.extend({implicit:[LZ,DZ,kZ,OZ]}),BZ=UU,zU=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),HU=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function VU(t){return t===null?!1:zU.exec(t)!==null||HU.exec(t)!==null}F(VU,"resolveYamlTimestamp");function GU(t){var e,i,r,s,a,o,l,h=0,d=null,p,g,v;if(e=zU.exec(t),e===null&&(e=HU.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],r=+e[2]-1,s=+e[3],!e[4])return new Date(Date.UTC(i,r,s));if(a=+e[4],o=+e[5],l=+e[6],e[7]){for(h=e[7].slice(0,3);h.length<3;)h+="0";h=+h}return e[9]&&(p=+e[10],g=+(e[11]||0),d=(p*60+g)*6e4,e[9]==="-"&&(d=-d)),v=new Date(Date.UTC(i,r,s,a,o,l,h)),d&&v.setTime(v.getTime()-d),v}F(GU,"constructYamlTimestamp");function $U(t){return t.toISOString()}F($U,"representYamlTimestamp");var IZ=new zs("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:VU,construct:GU,instanceOf:Date,represent:$U});function qU(t){return t==="<<"||t===null}F(qU,"resolveYamlMerge");var FZ=new zs("tag:yaml.org,2002:merge",{kind:"scalar",resolve:qU}),JE=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function WU(t){if(t===null)return!1;var e,i,r=0,s=t.length,a=JE;for(i=0;i<s;i++)if(e=a.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}F(WU,"resolveYamlBinary");function XU(t){var e,i,r=t.replace(/[\r\n=]/g,""),s=r.length,a=JE,o=0,l=[];for(e=0;e<s;e++)e%4===0&&e&&(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)),o=o<<6|a.indexOf(r.charAt(e));return i=s%4*6,i===0?(l.push(o>>16&255),l.push(o>>8&255),l.push(o&255)):i===18?(l.push(o>>10&255),l.push(o>>2&255)):i===12&&l.push(o>>4&255),new Uint8Array(l)}F(XU,"constructYamlBinary");function YU(t){var e="",i=0,r,s,a=t.length,o=JE;for(r=0;r<a;r++)r%3===0&&r&&(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]),i=(i<<8)+t[r];return s=a%3,s===0?(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]):s===2?(e+=o[i>>10&63],e+=o[i>>4&63],e+=o[i<<2&63],e+=o[64]):s===1&&(e+=o[i>>2&63],e+=o[i<<4&63],e+=o[64],e+=o[64]),e}F(YU,"representYamlBinary");function KU(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}F(KU,"isBinary");var UZ=new zs("tag:yaml.org,2002:binary",{kind:"scalar",resolve:WU,construct:XU,predicate:KU,represent:YU}),zZ=Object.prototype.hasOwnProperty,HZ=Object.prototype.toString;function ZU(t){if(t===null)return!0;var e=[],i,r,s,a,o,l=t;for(i=0,r=l.length;i<r;i+=1){if(s=l[i],o=!1,HZ.call(s)!=="[object Object]")return!1;for(a in s)if(zZ.call(s,a))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(a)===-1)e.push(a);else return!1}return!0}F(ZU,"resolveYamlOmap");function QU(t){return t!==null?t:[]}F(QU,"constructYamlOmap");var VZ=new zs("tag:yaml.org,2002:omap",{kind:"sequence",resolve:ZU,construct:QU}),GZ=Object.prototype.toString;function JU(t){if(t===null)return!0;var e,i,r,s,a,o=t;for(a=new Array(o.length),e=0,i=o.length;e<i;e+=1){if(r=o[e],GZ.call(r)!=="[object Object]"||(s=Object.keys(r),s.length!==1))return!1;a[e]=[s[0],r[s[0]]]}return!0}F(JU,"resolveYamlPairs");function e4(t){if(t===null)return[];var e,i,r,s,a,o=t;for(a=new Array(o.length),e=0,i=o.length;e<i;e+=1)r=o[e],s=Object.keys(r),a[e]=[s[0],r[s[0]]];return a}F(e4,"constructYamlPairs");var $Z=new zs("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:JU,construct:e4}),qZ=Object.prototype.hasOwnProperty;function t4(t){if(t===null)return!0;var e,i=t;for(e in i)if(qZ.call(i,e)&&i[e]!==null)return!1;return!0}F(t4,"resolveYamlSet");function n4(t){return t!==null?t:{}}F(n4,"constructYamlSet");var WZ=new zs("tag:yaml.org,2002:set",{kind:"mapping",resolve:t4,construct:n4}),i4=BZ.extend({implicit:[IZ,FZ],explicit:[UZ,VZ,$Z,WZ]}),id=Object.prototype.hasOwnProperty,mS=1,r4=2,s4=3,gS=4,g2=1,XZ=2,OD=3,YZ=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,KZ=/[\x85\u2028\u2029]/,ZZ=/[,\[\]\{\}]/,a4=/^(?:!|!!|![a-z\-]+!)$/i,o4=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function fM(t){return Object.prototype.toString.call(t)}F(fM,"_class");function Al(t){return t===10||t===13}F(Al,"is_EOL");function nd(t){return t===9||t===32}F(nd,"is_WHITE_SPACE");function da(t){return t===9||t===32||t===10||t===13}F(da,"is_WS_OR_EOL");function Of(t){return t===44||t===91||t===93||t===123||t===125}F(Of,"is_FLOW_INDICATOR");function l4(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}F(l4,"fromHexCode");function c4(t){return t===120?2:t===117?4:t===85?8:0}F(c4,"escapedHexLen");function h4(t){return 48<=t&&t<=57?t-48:-1}F(h4,"fromDecimalCode");function pM(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}F(pM,"simpleEscapeSequence");function u4(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}F(u4,"charFromCodepoint");var d4=new Array(256),f4=new Array(256);for(hf=0;hf<256;hf++)d4[hf]=pM(hf)?1:0,f4[hf]=pM(hf);var hf;function p4(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||i4,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}F(p4,"State$1");function eA(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=SZ(i),new Ia(e,i)}F(eA,"generateError");function Qt(t,e){throw eA(t,e)}F(Qt,"throwError");function k0(t,e){t.onWarning&&t.onWarning.call(null,eA(t,e))}F(k0,"throwWarning");var BD={YAML:F(function(e,i,r){var s,a,o;e.version!==null&&Qt(e,"duplication of %YAML directive"),r.length!==1&&Qt(e,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),s===null&&Qt(e,"ill-formed argument of the YAML directive"),a=parseInt(s[1],10),o=parseInt(s[2],10),a!==1&&Qt(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&k0(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:F(function(e,i,r){var s,a;r.length!==2&&Qt(e,"TAG directive accepts exactly two arguments"),s=r[0],a=r[1],a4.test(s)||Qt(e,"ill-formed tag handle (first argument) of the TAG directive"),id.call(e.tagMap,s)&&Qt(e,'there is a previously declared suffix for "'+s+'" tag handle'),o4.test(a)||Qt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{a=decodeURIComponent(a)}catch{Qt(e,"tag prefix is malformed: "+a)}e.tagMap[s]=a},"handleTagDirective")};function Ah(t,e,i,r){var s,a,o,l;if(e<i){if(l=t.input.slice(e,i),r)for(s=0,a=l.length;s<a;s+=1)o=l.charCodeAt(s),o===9||32<=o&&o<=1114111||Qt(t,"expected valid JSON character");else YZ.test(l)&&Qt(t,"the stream contains non-printable characters");t.result+=l}}F(Ah,"captureSegment");function mM(t,e,i,r){var s,a,o,l;for(Ur.isObject(i)||Qt(t,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(i),o=0,l=s.length;o<l;o+=1)a=s[o],id.call(e,a)||(e[a]=i[a],r[a]=!0)}F(mM,"mergeMappings");function Bf(t,e,i,r,s,a,o,l,h){var d,p;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),d=0,p=s.length;d<p;d+=1)Array.isArray(s[d])&&Qt(t,"nested arrays are not supported inside keys"),typeof s=="object"&&fM(s[d])==="[object Object]"&&(s[d]="[object Object]");if(typeof s=="object"&&fM(s)==="[object Object]"&&(s="[object Object]"),s=String(s),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(d=0,p=a.length;d<p;d+=1)mM(t,e,a[d],i);else mM(t,e,a,i);else!t.json&&!id.call(i,s)&&id.call(e,s)&&(t.line=o||t.line,t.lineStart=l||t.lineStart,t.position=h||t.position,Qt(t,"duplicated mapping key")),s==="__proto__"?Object.defineProperty(e,s,{configurable:!0,enumerable:!0,writable:!0,value:a}):e[s]=a,delete i[s];return e}F(Bf,"storeMappingPair");function K1(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Qt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}F(K1,"readLineBreak");function pr(t,e,i){for(var r=0,s=t.input.charCodeAt(t.position);s!==0;){for(;nd(s);)s===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),s=t.input.charCodeAt(++t.position);if(e&&s===35)do s=t.input.charCodeAt(++t.position);while(s!==10&&s!==13&&s!==0);if(Al(s))for(K1(t),s=t.input.charCodeAt(t.position),r++,t.lineIndent=0;s===32;)t.lineIndent++,s=t.input.charCodeAt(++t.position);else break}return i!==-1&&r!==0&&t.lineIndent<i&&k0(t,"deficient indentation"),r}F(pr,"skipSeparationSpace");function gv(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||da(i)))}F(gv,"testDocumentSeparator");function Z1(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ur.repeat(`
`,e-1))}F(Z1,"writeFoldedLines");function m4(t,e,i){var r,s,a,o,l,h,d,p,g=t.kind,v=t.result,_;if(_=t.input.charCodeAt(t.position),da(_)||Of(_)||_===35||_===38||_===42||_===33||_===124||_===62||_===39||_===34||_===37||_===64||_===96||(_===63||_===45)&&(s=t.input.charCodeAt(t.position+1),da(s)||i&&Of(s)))return!1;for(t.kind="scalar",t.result="",a=o=t.position,l=!1;_!==0;){if(_===58){if(s=t.input.charCodeAt(t.position+1),da(s)||i&&Of(s))break}else if(_===35){if(r=t.input.charCodeAt(t.position-1),da(r))break}else{if(t.position===t.lineStart&&gv(t)||i&&Of(_))break;if(Al(_))if(h=t.line,d=t.lineStart,p=t.lineIndent,pr(t,!1,-1),t.lineIndent>=e){l=!0,_=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=h,t.lineStart=d,t.lineIndent=p;break}}l&&(Ah(t,a,o,!1),Z1(t,t.line-h),a=o=t.position,l=!1),nd(_)||(o=t.position+1),_=t.input.charCodeAt(++t.position)}return Ah(t,a,o,!1),t.result?!0:(t.kind=g,t.result=v,!1)}F(m4,"readPlainScalar");function g4(t,e){var i,r,s;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=s=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(Ah(t,r,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)r=t.position,t.position++,s=t.position;else return!0;else Al(i)?(Ah(t,r,s,!0),Z1(t,pr(t,!1,e)),r=s=t.position):t.position===t.lineStart&&gv(t)?Qt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,s=t.position);Qt(t,"unexpected end of the stream within a single quoted scalar")}F(g4,"readSingleQuotedScalar");function x4(t,e){var i,r,s,a,o,l;if(l=t.input.charCodeAt(t.position),l!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(l=t.input.charCodeAt(t.position))!==0;){if(l===34)return Ah(t,i,t.position,!0),t.position++,!0;if(l===92){if(Ah(t,i,t.position,!0),l=t.input.charCodeAt(++t.position),Al(l))pr(t,!1,e);else if(l<256&&d4[l])t.result+=f4[l],t.position++;else if((o=c4(l))>0){for(s=o,a=0;s>0;s--)l=t.input.charCodeAt(++t.position),(o=l4(l))>=0?a=(a<<4)+o:Qt(t,"expected hexadecimal character");t.result+=u4(a),t.position++}else Qt(t,"unknown escape sequence");i=r=t.position}else Al(l)?(Ah(t,i,r,!0),Z1(t,pr(t,!1,e)),i=r=t.position):t.position===t.lineStart&&gv(t)?Qt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Qt(t,"unexpected end of the stream within a double quoted scalar")}F(x4,"readDoubleQuotedScalar");function y4(t,e){var i=!0,r,s,a,o=t.tag,l,h=t.anchor,d,p,g,v,_,j=Object.create(null),T,C,w,A;if(A=t.input.charCodeAt(t.position),A===91)p=93,_=!1,l=[];else if(A===123)p=125,_=!0,l={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),A=t.input.charCodeAt(++t.position);A!==0;){if(pr(t,!0,e),A=t.input.charCodeAt(t.position),A===p)return t.position++,t.tag=o,t.anchor=h,t.kind=_?"mapping":"sequence",t.result=l,!0;i?A===44&&Qt(t,"expected the node content, but found ','"):Qt(t,"missed comma between flow collection entries"),C=T=w=null,g=v=!1,A===63&&(d=t.input.charCodeAt(t.position+1),da(d)&&(g=v=!0,t.position++,pr(t,!0,e))),r=t.line,s=t.lineStart,a=t.position,Qf(t,e,mS,!1,!0),C=t.tag,T=t.result,pr(t,!0,e),A=t.input.charCodeAt(t.position),(v||t.line===r)&&A===58&&(g=!0,A=t.input.charCodeAt(++t.position),pr(t,!0,e),Qf(t,e,mS,!1,!0),w=t.result),_?Bf(t,l,j,C,T,w,r,s,a):g?l.push(Bf(t,null,j,C,T,w,r,s,a)):l.push(T),pr(t,!0,e),A=t.input.charCodeAt(t.position),A===44?(i=!0,A=t.input.charCodeAt(++t.position)):i=!1}Qt(t,"unexpected end of the stream within a flow collection")}F(y4,"readFlowCollection");function v4(t,e){var i,r,s=g2,a=!1,o=!1,l=e,h=0,d=!1,p,g;if(g=t.input.charCodeAt(t.position),g===124)r=!1;else if(g===62)r=!0;else return!1;for(t.kind="scalar",t.result="";g!==0;)if(g=t.input.charCodeAt(++t.position),g===43||g===45)g2===s?s=g===43?OD:XZ:Qt(t,"repeat of a chomping mode identifier");else if((p=h4(g))>=0)p===0?Qt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Qt(t,"repeat of an indentation width identifier"):(l=e+p-1,o=!0);else break;if(nd(g)){do g=t.input.charCodeAt(++t.position);while(nd(g));if(g===35)do g=t.input.charCodeAt(++t.position);while(!Al(g)&&g!==0)}for(;g!==0;){for(K1(t),t.lineIndent=0,g=t.input.charCodeAt(t.position);(!o||t.lineIndent<l)&&g===32;)t.lineIndent++,g=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>l&&(l=t.lineIndent),Al(g)){h++;continue}if(t.lineIndent<l){s===OD?t.result+=Ur.repeat(`
`,a?1+h:h):s===g2&&a&&(t.result+=`
`);break}for(r?nd(g)?(d=!0,t.result+=Ur.repeat(`
`,a?1+h:h)):d?(d=!1,t.result+=Ur.repeat(`
`,h+1)):h===0?a&&(t.result+=" "):t.result+=Ur.repeat(`
`,h):t.result+=Ur.repeat(`
`,a?1+h:h),a=!0,o=!0,h=0,i=t.position;!Al(g)&&g!==0;)g=t.input.charCodeAt(++t.position);Ah(t,i,t.position,!1)}return!0}F(v4,"readBlockScalar");function gM(t,e){var i,r=t.tag,s=t.anchor,a=[],o,l=!1,h;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),h=t.input.charCodeAt(t.position);h!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Qt(t,"tab characters must not be used in indentation")),!(h!==45||(o=t.input.charCodeAt(t.position+1),!da(o))));){if(l=!0,t.position++,pr(t,!0,-1)&&t.lineIndent<=e){a.push(null),h=t.input.charCodeAt(t.position);continue}if(i=t.line,Qf(t,e,s4,!1,!0),a.push(t.result),pr(t,!0,-1),h=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&h!==0)Qt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return l?(t.tag=r,t.anchor=s,t.kind="sequence",t.result=a,!0):!1}F(gM,"readBlockSequence");function _4(t,e,i){var r,s,a,o,l,h,d=t.tag,p=t.anchor,g={},v=Object.create(null),_=null,j=null,T=null,C=!1,w=!1,A;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=g),A=t.input.charCodeAt(t.position);A!==0;){if(!C&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Qt(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),a=t.line,(A===63||A===58)&&da(r))A===63?(C&&(Bf(t,g,v,_,j,null,o,l,h),_=j=T=null),w=!0,C=!0,s=!0):C?(C=!1,s=!0):Qt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,A=r;else{if(o=t.line,l=t.lineStart,h=t.position,!Qf(t,i,r4,!1,!0))break;if(t.line===a){for(A=t.input.charCodeAt(t.position);nd(A);)A=t.input.charCodeAt(++t.position);if(A===58)A=t.input.charCodeAt(++t.position),da(A)||Qt(t,"a whitespace character is expected after the key-value separator within a block mapping"),C&&(Bf(t,g,v,_,j,null,o,l,h),_=j=T=null),w=!0,C=!1,s=!1,_=t.tag,j=t.result;else if(w)Qt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=d,t.anchor=p,!0}else if(w)Qt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=d,t.anchor=p,!0}if((t.line===a||t.lineIndent>e)&&(C&&(o=t.line,l=t.lineStart,h=t.position),Qf(t,e,gS,!0,s)&&(C?j=t.result:T=t.result),C||(Bf(t,g,v,_,j,T,o,l,h),_=j=T=null),pr(t,!0,-1),A=t.input.charCodeAt(t.position)),(t.line===a||t.lineIndent>e)&&A!==0)Qt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return C&&Bf(t,g,v,_,j,null,o,l,h),w&&(t.tag=d,t.anchor=p,t.kind="mapping",t.result=g),w}F(_4,"readBlockMapping");function b4(t){var e,i=!1,r=!1,s,a,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&Qt(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(i=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,s="!!",o=t.input.charCodeAt(++t.position)):s="!",e=t.position,i){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(a=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Qt(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!da(o);)o===33&&(r?Qt(t,"tag suffix cannot contain exclamation marks"):(s=t.input.slice(e-1,t.position+1),a4.test(s)||Qt(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);a=t.input.slice(e,t.position),ZZ.test(a)&&Qt(t,"tag suffix cannot contain flow indicator characters")}a&&!o4.test(a)&&Qt(t,"tag name cannot contain such characters: "+a);try{a=decodeURIComponent(a)}catch{Qt(t,"tag name is malformed: "+a)}return i?t.tag=a:id.call(t.tagMap,s)?t.tag=t.tagMap[s]+a:s==="!"?t.tag="!"+a:s==="!!"?t.tag="tag:yaml.org,2002:"+a:Qt(t,'undeclared tag handle "'+s+'"'),!0}F(b4,"readTagProperty");function j4(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&Qt(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!da(i)&&!Of(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&Qt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}F(j4,"readAnchorProperty");function S4(t){var e,i,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!da(r)&&!Of(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Qt(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),id.call(t.anchorMap,i)||Qt(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],pr(t,!0,-1),!0}F(S4,"readAlias");function Qf(t,e,i,r,s){var a,o,l,h=1,d=!1,p=!1,g,v,_,j,T,C;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,a=o=l=gS===i||s4===i,r&&pr(t,!0,-1)&&(d=!0,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)),h===1)for(;b4(t)||j4(t);)pr(t,!0,-1)?(d=!0,l=a,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)):l=!1;if(l&&(l=d||s),(h===1||gS===i)&&(mS===i||r4===i?T=e:T=e+1,C=t.position-t.lineStart,h===1?l&&(gM(t,C)||_4(t,C,T))||y4(t,T)?p=!0:(o&&v4(t,T)||g4(t,T)||x4(t,T)?p=!0:S4(t)?(p=!0,(t.tag!==null||t.anchor!==null)&&Qt(t,"alias node should not have any properties")):m4(t,T,mS===i)&&(p=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):h===0&&(p=l&&gM(t,C))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Qt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),g=0,v=t.implicitTypes.length;g<v;g+=1)if(j=t.implicitTypes[g],j.resolve(t.result)){t.result=j.construct(t.result),t.tag=j.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(id.call(t.typeMap[t.kind||"fallback"],t.tag))j=t.typeMap[t.kind||"fallback"][t.tag];else for(j=null,_=t.typeMap.multi[t.kind||"fallback"],g=0,v=_.length;g<v;g+=1)if(t.tag.slice(0,_[g].tag.length)===_[g].tag){j=_[g];break}j||Qt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&j.kind!==t.kind&&Qt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+j.kind+'", not "'+t.kind+'"'),j.resolve(t.result,t.tag)?(t.result=j.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Qt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||p}F(Qf,"composeNode");function w4(t){var e=t.position,i,r,s,a=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(pr(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(a=!0,o=t.input.charCodeAt(++t.position),i=t.position;o!==0&&!da(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(i,t.position),s=[],r.length<1&&Qt(t,"directive name must not be less than one character in length");o!==0;){for(;nd(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Al(o));break}if(Al(o))break;for(i=t.position;o!==0&&!da(o);)o=t.input.charCodeAt(++t.position);s.push(t.input.slice(i,t.position))}o!==0&&K1(t),id.call(BD,r)?BD[r](t,r,s):k0(t,'unknown document directive "'+r+'"')}if(pr(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,pr(t,!0,-1)):a&&Qt(t,"directives end mark is expected"),Qf(t,t.lineIndent-1,gS,!1,!0),pr(t,!0,-1),t.checkLineBreaks&&KZ.test(t.input.slice(e,t.position))&&k0(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&gv(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,pr(t,!0,-1));return}if(t.position<t.length-1)Qt(t,"end of the stream or a document separator is expected");else return}F(w4,"readDocument");function tA(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new p4(t,e),r=t.indexOf("\0");for(r!==-1&&(i.position=r,Qt(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)w4(i);return i.documents}F(tA,"loadDocuments");function QZ(t,e,i){e!==null&&typeof e=="object"&&typeof i>"u"&&(i=e,e=null);var r=tA(t,i);if(typeof e!="function")return r;for(var s=0,a=r.length;s<a;s+=1)e(r[s])}F(QZ,"loadAll$1");function T4(t,e){var i=tA(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new Ia("expected a single document in the stream, but found more")}}F(T4,"load$1");var JZ=T4,eQ={load:JZ},C4=Object.prototype.toString,M4=Object.prototype.hasOwnProperty,nA=65279,tQ=9,N0=10,nQ=13,iQ=32,rQ=33,sQ=34,xM=35,aQ=37,oQ=38,lQ=39,cQ=42,E4=44,hQ=45,xS=58,uQ=61,dQ=62,fQ=63,pQ=64,A4=91,R4=93,mQ=96,L4=123,gQ=124,D4=125,Vs={};Vs[0]="\\0";Vs[7]="\\a";Vs[8]="\\b";Vs[9]="\\t";Vs[10]="\\n";Vs[11]="\\v";Vs[12]="\\f";Vs[13]="\\r";Vs[27]="\\e";Vs[34]='\\"';Vs[92]="\\\\";Vs[133]="\\N";Vs[160]="\\_";Vs[8232]="\\L";Vs[8233]="\\P";var xQ=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],yQ=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function k4(t,e){var i,r,s,a,o,l,h;if(e===null)return{};for(i={},r=Object.keys(e),s=0,a=r.length;s<a;s+=1)o=r[s],l=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),h=t.compiledTypeMap.fallback[o],h&&M4.call(h.styleAliases,l)&&(l=h.styleAliases[l]),i[o]=l;return i}F(k4,"compileStyleMap");function N4(t){var e,i,r;if(e=t.toString(16).toUpperCase(),t<=255)i="x",r=2;else if(t<=65535)i="u",r=4;else if(t<=4294967295)i="U",r=8;else throw new Ia("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+Ur.repeat("0",r-e.length)+e}F(N4,"encodeHex");var vQ=1,P0=2;function P4(t){this.schema=t.schema||i4,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Ur.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=k4(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?P0:vQ,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}F(P4,"State");function yM(t,e){for(var i=Ur.repeat(" ",e),r=0,s=-1,a="",o,l=t.length;r<l;)s=t.indexOf(`
`,r),s===-1?(o=t.slice(r),r=l):(o=t.slice(r,s+1),r=s+1),o.length&&o!==`
`&&(a+=i),a+=o;return a}F(yM,"indentString");function yS(t,e){return`
`+Ur.repeat(" ",t.indent*e)}F(yS,"generateNextLine");function O4(t,e){var i,r,s;for(i=0,r=t.implicitTypes.length;i<r;i+=1)if(s=t.implicitTypes[i],s.resolve(e))return!0;return!1}F(O4,"testImplicitResolving");function O0(t){return t===iQ||t===tQ}F(O0,"isWhitespace");function Tg(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==nA||65536<=t&&t<=1114111}F(Tg,"isPrintable");function vM(t){return Tg(t)&&t!==nA&&t!==nQ&&t!==N0}F(vM,"isNsCharOrWhitespace");function _M(t,e,i){var r=vM(t),s=r&&!O0(t);return(i?r:r&&t!==E4&&t!==A4&&t!==R4&&t!==L4&&t!==D4)&&t!==xM&&!(e===xS&&!s)||vM(e)&&!O0(e)&&t===xM||e===xS&&s}F(_M,"isPlainSafe");function B4(t){return Tg(t)&&t!==nA&&!O0(t)&&t!==hQ&&t!==fQ&&t!==xS&&t!==E4&&t!==A4&&t!==R4&&t!==L4&&t!==D4&&t!==xM&&t!==oQ&&t!==cQ&&t!==rQ&&t!==gQ&&t!==uQ&&t!==dQ&&t!==lQ&&t!==sQ&&t!==aQ&&t!==pQ&&t!==mQ}F(B4,"isPlainSafeFirst");function I4(t){return!O0(t)&&t!==xS}F(I4,"isPlainSafeLast");function qm(t,e){var i=t.charCodeAt(e),r;return i>=55296&&i<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(i-55296)*1024+r-56320+65536:i}F(qm,"codePointAt");function iA(t){var e=/^\n* /;return e.test(t)}F(iA,"needIndentIndicator");var F4=1,bM=2,U4=3,z4=4,Vm=5;function H4(t,e,i,r,s,a,o,l){var h,d=0,p=null,g=!1,v=!1,_=r!==-1,j=-1,T=B4(qm(t,0))&&I4(qm(t,t.length-1));if(e||o)for(h=0;h<t.length;d>=65536?h+=2:h++){if(d=qm(t,h),!Tg(d))return Vm;T=T&&_M(d,p,l),p=d}else{for(h=0;h<t.length;d>=65536?h+=2:h++){if(d=qm(t,h),d===N0)g=!0,_&&(v=v||h-j-1>r&&t[j+1]!==" ",j=h);else if(!Tg(d))return Vm;T=T&&_M(d,p,l),p=d}v=v||_&&h-j-1>r&&t[j+1]!==" "}return!g&&!v?T&&!o&&!s(t)?F4:a===P0?Vm:bM:i>9&&iA(t)?Vm:o?a===P0?Vm:bM:v?z4:U4}F(H4,"chooseScalarStyle");function V4(t,e,i,r,s){t.dump=function(){if(e.length===0)return t.quotingType===P0?'""':"''";if(!t.noCompatMode&&(xQ.indexOf(e)!==-1||yQ.test(e)))return t.quotingType===P0?'"'+e+'"':"'"+e+"'";var a=t.indent*Math.max(1,i),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-a),l=r||t.flowLevel>-1&&i>=t.flowLevel;function h(d){return O4(t,d)}switch(F(h,"testAmbiguity"),H4(e,l,t.indent,o,h,t.quotingType,t.forceQuotes&&!r,s)){case F4:return e;case bM:return"'"+e.replace(/'/g,"''")+"'";case U4:return"|"+jM(e,t.indent)+SM(yM(e,a));case z4:return">"+jM(e,t.indent)+SM(yM(G4(e,o),a));case Vm:return'"'+$4(e)+'"';default:throw new Ia("impossible error: invalid scalar style")}}()}F(V4,"writeScalar");function jM(t,e){var i=iA(t)?String(e):"",r=t[t.length-1]===`
`,s=r&&(t[t.length-2]===`
`||t===`
`),a=s?"+":r?"":"-";return i+a+`
`}F(jM,"blockHeader");function SM(t){return t[t.length-1]===`
`?t.slice(0,-1):t}F(SM,"dropEndingNewline");function G4(t,e){for(var i=/(\n+)([^\n]*)/g,r=function(){var d=t.indexOf(`
`);return d=d!==-1?d:t.length,i.lastIndex=d,wM(t.slice(0,d),e)}(),s=t[0]===`
`||t[0]===" ",a,o;o=i.exec(t);){var l=o[1],h=o[2];a=h[0]===" ",r+=l+(!s&&!a&&h!==""?`
`:"")+wM(h,e),s=a}return r}F(G4,"foldString");function wM(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,r,s=0,a,o=0,l=0,h="";r=i.exec(t);)l=r.index,l-s>e&&(a=o>s?o:l,h+=`
`+t.slice(s,a),s=a+1),o=l;return h+=`
`,t.length-s>e&&o>s?h+=t.slice(s,o)+`
`+t.slice(o+1):h+=t.slice(s),h.slice(1)}F(wM,"foldLine");function $4(t){for(var e="",i=0,r,s=0;s<t.length;i>=65536?s+=2:s++)i=qm(t,s),r=Vs[i],!r&&Tg(i)?(e+=t[s],i>=65536&&(e+=t[s+1])):e+=r||N4(i);return e}F($4,"escapeString");function q4(t,e,i){var r="",s=t.tag,a,o,l;for(a=0,o=i.length;a<o;a+=1)l=i[a],t.replacer&&(l=t.replacer.call(i,String(a),l)),(Pc(t,e,l,!1,!1)||typeof l>"u"&&Pc(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=s,t.dump="["+r+"]"}F(q4,"writeFlowSequence");function TM(t,e,i,r){var s="",a=t.tag,o,l,h;for(o=0,l=i.length;o<l;o+=1)h=i[o],t.replacer&&(h=t.replacer.call(i,String(o),h)),(Pc(t,e+1,h,!0,!0,!1,!0)||typeof h>"u"&&Pc(t,e+1,null,!0,!0,!1,!0))&&((!r||s!=="")&&(s+=yS(t,e)),t.dump&&N0===t.dump.charCodeAt(0)?s+="-":s+="- ",s+=t.dump);t.tag=a,t.dump=s||"[]"}F(TM,"writeBlockSequence");function W4(t,e,i){var r="",s=t.tag,a=Object.keys(i),o,l,h,d,p;for(o=0,l=a.length;o<l;o+=1)p="",r!==""&&(p+=", "),t.condenseFlow&&(p+='"'),h=a[o],d=i[h],t.replacer&&(d=t.replacer.call(i,h,d)),Pc(t,e,h,!1,!1)&&(t.dump.length>1024&&(p+="? "),p+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Pc(t,e,d,!1,!1)&&(p+=t.dump,r+=p));t.tag=s,t.dump="{"+r+"}"}F(W4,"writeFlowMapping");function X4(t,e,i,r){var s="",a=t.tag,o=Object.keys(i),l,h,d,p,g,v;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new Ia("sortKeys must be a boolean or a function");for(l=0,h=o.length;l<h;l+=1)v="",(!r||s!=="")&&(v+=yS(t,e)),d=o[l],p=i[d],t.replacer&&(p=t.replacer.call(i,d,p)),Pc(t,e+1,d,!0,!0,!0)&&(g=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,g&&(t.dump&&N0===t.dump.charCodeAt(0)?v+="?":v+="? "),v+=t.dump,g&&(v+=yS(t,e)),Pc(t,e+1,p,!0,g)&&(t.dump&&N0===t.dump.charCodeAt(0)?v+=":":v+=": ",v+=t.dump,s+=v));t.tag=a,t.dump=s||"{}"}F(X4,"writeBlockMapping");function CM(t,e,i){var r,s,a,o,l,h;for(s=i?t.explicitTypes:t.implicitTypes,a=0,o=s.length;a<o;a+=1)if(l=s[a],(l.instanceOf||l.predicate)&&(!l.instanceOf||typeof e=="object"&&e instanceof l.instanceOf)&&(!l.predicate||l.predicate(e))){if(i?l.multi&&l.representName?t.tag=l.representName(e):t.tag=l.tag:t.tag="?",l.represent){if(h=t.styleMap[l.tag]||l.defaultStyle,C4.call(l.represent)==="[object Function]")r=l.represent(e,h);else if(M4.call(l.represent,h))r=l.represent[h](e,h);else throw new Ia("!<"+l.tag+'> tag resolver accepts not "'+h+'" style');t.dump=r}return!0}return!1}F(CM,"detectType");function Pc(t,e,i,r,s,a,o){t.tag=null,t.dump=i,CM(t,i,!1)||CM(t,i,!0);var l=C4.call(t.dump),h=r,d;r&&(r=t.flowLevel<0||t.flowLevel>e);var p=l==="[object Object]"||l==="[object Array]",g,v;if(p&&(g=t.duplicates.indexOf(i),v=g!==-1),(t.tag!==null&&t.tag!=="?"||v||t.indent!==2&&e>0)&&(s=!1),v&&t.usedDuplicates[g])t.dump="*ref_"+g;else{if(p&&v&&!t.usedDuplicates[g]&&(t.usedDuplicates[g]=!0),l==="[object Object]")r&&Object.keys(t.dump).length!==0?(X4(t,e,t.dump,s),v&&(t.dump="&ref_"+g+t.dump)):(W4(t,e,t.dump),v&&(t.dump="&ref_"+g+" "+t.dump));else if(l==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?TM(t,e-1,t.dump,s):TM(t,e,t.dump,s),v&&(t.dump="&ref_"+g+t.dump)):(q4(t,e,t.dump),v&&(t.dump="&ref_"+g+" "+t.dump));else if(l==="[object String]")t.tag!=="?"&&V4(t,t.dump,e,a,h);else{if(l==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Ia("unacceptable kind of an object to dump "+l)}t.tag!==null&&t.tag!=="?"&&(d=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?d="!"+d:d.slice(0,18)==="tag:yaml.org,2002:"?d="!!"+d.slice(18):d="!<"+d+">",t.dump=d+" "+t.dump)}return!0}F(Pc,"writeNode");function Y4(t,e){var i=[],r=[],s,a;for(vS(t,i,r),s=0,a=r.length;s<a;s+=1)e.duplicates.push(i[r[s]]);e.usedDuplicates=new Array(a)}F(Y4,"getDuplicateReferences");function vS(t,e,i){var r,s,a;if(t!==null&&typeof t=="object")if(s=e.indexOf(t),s!==-1)i.indexOf(s)===-1&&i.push(s);else if(e.push(t),Array.isArray(t))for(s=0,a=t.length;s<a;s+=1)vS(t[s],e,i);else for(r=Object.keys(t),s=0,a=r.length;s<a;s+=1)vS(t[r[s]],e,i)}F(vS,"inspectNode");function _Q(t,e){e=e||{};var i=new P4(e);i.noRefs||Y4(t,i);var r=t;return i.replacer&&(r=i.replacer.call({"":r},"",r)),Pc(i,0,r,!0,!0)?i.dump+`
`:""}F(_Q,"dump$1");function bQ(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}F(bQ,"renamed");var jQ=UU,SQ=eQ.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var Bo={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function Qy(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Gi(t),e=Gi(e);const[i,r]=[t.x,t.y],[s,a]=[e.x,e.y],o=s-i,l=a-r;return{angle:Math.atan(l/o),deltaX:o,deltaY:l}}F(Qy,"calculateDeltaAndAngle");var Gi=F(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),wQ=F(t=>({x:F(function(e,i,r){let s=0;const a=Gi(r[0]).x<Gi(r[r.length-1]).x?"left":"right";if(i===0&&Object.hasOwn(Bo,t.arrowTypeStart)){const{angle:_,deltaX:j}=Qy(r[0],r[1]);s=Bo[t.arrowTypeStart]*Math.cos(_)*(j>=0?1:-1)}else if(i===r.length-1&&Object.hasOwn(Bo,t.arrowTypeEnd)){const{angle:_,deltaX:j}=Qy(r[r.length-1],r[r.length-2]);s=Bo[t.arrowTypeEnd]*Math.cos(_)*(j>=0?1:-1)}const o=Math.abs(Gi(e).x-Gi(r[r.length-1]).x),l=Math.abs(Gi(e).y-Gi(r[r.length-1]).y),h=Math.abs(Gi(e).x-Gi(r[0]).x),d=Math.abs(Gi(e).y-Gi(r[0]).y),p=Bo[t.arrowTypeStart],g=Bo[t.arrowTypeEnd],v=1;if(o<g&&o>0&&l<g){let _=g+v-o;_*=a==="right"?-1:1,s-=_}if(h<p&&h>0&&d<p){let _=p+v-h;_*=a==="right"?-1:1,s+=_}return Gi(e).x+s},"x"),y:F(function(e,i,r){let s=0;const a=Gi(r[0]).y<Gi(r[r.length-1]).y?"down":"up";if(i===0&&Object.hasOwn(Bo,t.arrowTypeStart)){const{angle:_,deltaY:j}=Qy(r[0],r[1]);s=Bo[t.arrowTypeStart]*Math.abs(Math.sin(_))*(j>=0?1:-1)}else if(i===r.length-1&&Object.hasOwn(Bo,t.arrowTypeEnd)){const{angle:_,deltaY:j}=Qy(r[r.length-1],r[r.length-2]);s=Bo[t.arrowTypeEnd]*Math.abs(Math.sin(_))*(j>=0?1:-1)}const o=Math.abs(Gi(e).y-Gi(r[r.length-1]).y),l=Math.abs(Gi(e).x-Gi(r[r.length-1]).x),h=Math.abs(Gi(e).y-Gi(r[0]).y),d=Math.abs(Gi(e).x-Gi(r[0]).x),p=Bo[t.arrowTypeStart],g=Bo[t.arrowTypeEnd],v=1;if(o<g&&o>0&&l<g){let _=g+v-o;_*=a==="up"?-1:1,s-=_}if(h<p&&h>0&&d<p){let _=p+v-h;_*=a==="up"?-1:1,s+=_}return Gi(e).y+s},"y")}),"getLineFunctionsWithOffset"),rA=F(({flowchart:t})=>{const e=t?.subGraphTitleMargin?.top??0,i=t?.subGraphTitleMargin?.bottom??0,r=e+i;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:i,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),TQ=F(t=>{const{handDrawnSeed:e}=ci();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),Wg=F(t=>{const e=CQ([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),CQ=F(t=>{const e=new Map;return t.forEach(i=>{const[r,s]=i.split(":");e.set(r.trim(),s?.trim())}),e},"styles2Map"),K4=F(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Kt=F(t=>{const{stylesArray:e}=Wg(t),i=[],r=[],s=[],a=[];return e.forEach(o=>{const l=o[0];K4(l)?i.push(o.join(":")+" !important"):(r.push(o.join(":")+" !important"),l.includes("stroke")&&s.push(o.join(":")+" !important"),l==="fill"&&a.push(o.join(":")+" !important"))}),{labelStyles:i.join(";"),nodeStyles:r.join(";"),stylesArray:e,borderStyles:s,backgroundStyles:a}},"styles2String"),$t=F((t,e)=>{const{themeVariables:i,handDrawnSeed:r}=ci(),{nodeBorder:s,mainBkg:a}=i,{stylesMap:o}=Wg(t);return Object.assign({roughness:.7,fill:o.get("fill")||a,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||s,seed:r,strokeWidth:o.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),My={},Ir={},ID;function MQ(){return ID||(ID=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.BLANK_URL=Ir.relativeFirstCharacters=Ir.whitespaceEscapeCharsRegex=Ir.urlSchemeRegex=Ir.ctrlCharactersRegex=Ir.htmlCtrlEntityRegex=Ir.htmlEntitiesRegex=Ir.invalidProtocolRegex=void 0,Ir.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,Ir.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,Ir.htmlCtrlEntityRegex=/&(newline|tab);/gi,Ir.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Ir.urlSchemeRegex=/^.+(:|&colon;)/gim,Ir.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,Ir.relativeFirstCharacters=[".","/"],Ir.BLANK_URL="about:blank"),Ir}var FD;function EQ(){if(FD)return My;FD=1,Object.defineProperty(My,"__esModule",{value:!0}),My.sanitizeUrl=void 0;var t=MQ();function e(o){return t.relativeFirstCharacters.indexOf(o[0])>-1}function i(o){var l=o.replace(t.ctrlCharactersRegex,"");return l.replace(t.htmlEntitiesRegex,function(h,d){return String.fromCharCode(d)})}function r(o){return URL.canParse(o)}function s(o){try{return decodeURIComponent(o)}catch{return o}}function a(o){if(!o)return t.BLANK_URL;var l,h=s(o.trim());do h=i(h).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),h=s(h),l=h.match(t.ctrlCharactersRegex)||h.match(t.htmlEntitiesRegex)||h.match(t.htmlCtrlEntityRegex)||h.match(t.whitespaceEscapeCharsRegex);while(l&&l.length>0);var d=h;if(!d)return t.BLANK_URL;if(e(d))return d;var p=d.trimStart(),g=p.match(t.urlSchemeRegex);if(!g)return d;var v=g[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(v))return t.BLANK_URL;var _=p.replace(/\\/g,"/");if(v==="mailto:"||v.includes("://"))return _;if(v==="http:"||v==="https:"){if(!r(_))return t.BLANK_URL;var j=new URL(_);return j.protocol=j.protocol.toLowerCase(),j.hostname=j.hostname.toLowerCase(),j.toString()}return _}return My.sanitizeUrl=a,My}var AQ=EQ(),RQ={value:()=>{}};function Z4(){for(var t=0,e=arguments.length,i={},r;t<e;++t){if(!(r=arguments[t]+"")||r in i||/[\s.]/.test(r))throw new Error("illegal type: "+r);i[r]=[]}return new Rj(i)}function Rj(t){this._=t}function LQ(t,e){return t.trim().split(/^|\s+/).map(function(i){var r="",s=i.indexOf(".");if(s>=0&&(r=i.slice(s+1),i=i.slice(0,s)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:r}})}Rj.prototype=Z4.prototype={constructor:Rj,on:function(t,e){var i=this._,r=LQ(t+"",i),s,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((s=(t=r[a]).type)&&(s=DQ(i[s],t.name)))return s;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(s=(t=r[a]).type)i[s]=UD(i[s],t.name,e);else if(e==null)for(s in i)i[s]=UD(i[s],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Rj(t)},call:function(t,e){if((s=arguments.length-2)>0)for(var i=new Array(s),r=0,s,a;r<s;++r)i[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,s=a.length;r<s;++r)a[r].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],s=0,a=r.length;s<a;++s)r[s].value.apply(e,i)}};function DQ(t,e){for(var i=0,r=t.length,s;i<r;++i)if((s=t[i]).name===e)return s.value}function UD(t,e,i){for(var r=0,s=t.length;r<s;++r)if(t[r].name===e){t[r]=RQ,t=t.slice(0,r).concat(t.slice(r+1));break}return i!=null&&t.push({name:e,value:i}),t}var MM="http://www.w3.org/1999/xhtml";const zD={svg:"http://www.w3.org/2000/svg",xhtml:MM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Q1(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),zD.hasOwnProperty(e)?{space:zD[e],local:t}:t}function kQ(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===MM&&e.documentElement.namespaceURI===MM?e.createElement(t):e.createElementNS(i,t)}}function NQ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Q4(t){var e=Q1(t);return(e.local?NQ:kQ)(e)}function PQ(){}function sA(t){return t==null?PQ:function(){return this.querySelector(t)}}function OQ(t){typeof t!="function"&&(t=sA(t));for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s)for(var a=e[s],o=a.length,l=r[s]=new Array(o),h,d,p=0;p<o;++p)(h=a[p])&&(d=t.call(h,h.__data__,p,a))&&("__data__"in h&&(d.__data__=h.__data__),l[p]=d);return new uo(r,this._parents)}function BQ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function IQ(){return[]}function J4(t){return t==null?IQ:function(){return this.querySelectorAll(t)}}function FQ(t){return function(){return BQ(t.apply(this,arguments))}}function UQ(t){typeof t=="function"?t=FQ(t):t=J4(t);for(var e=this._groups,i=e.length,r=[],s=[],a=0;a<i;++a)for(var o=e[a],l=o.length,h,d=0;d<l;++d)(h=o[d])&&(r.push(t.call(h,h.__data__,d,o)),s.push(h));return new uo(r,s)}function ez(t){return function(){return this.matches(t)}}function tz(t){return function(e){return e.matches(t)}}var zQ=Array.prototype.find;function HQ(t){return function(){return zQ.call(this.children,t)}}function VQ(){return this.firstElementChild}function GQ(t){return this.select(t==null?VQ:HQ(typeof t=="function"?t:tz(t)))}var $Q=Array.prototype.filter;function qQ(){return Array.from(this.children)}function WQ(t){return function(){return $Q.call(this.children,t)}}function XQ(t){return this.selectAll(t==null?qQ:WQ(typeof t=="function"?t:tz(t)))}function YQ(t){typeof t!="function"&&(t=ez(t));for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s)for(var a=e[s],o=a.length,l=r[s]=[],h,d=0;d<o;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&l.push(h);return new uo(r,this._parents)}function nz(t){return new Array(t.length)}function KQ(){return new uo(this._enter||this._groups.map(nz),this._parents)}function _S(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}_S.prototype={constructor:_S,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ZQ(t){return function(){return t}}function QQ(t,e,i,r,s,a){for(var o=0,l,h=e.length,d=a.length;o<d;++o)(l=e[o])?(l.__data__=a[o],r[o]=l):i[o]=new _S(t,a[o]);for(;o<h;++o)(l=e[o])&&(s[o]=l)}function JQ(t,e,i,r,s,a,o){var l,h,d=new Map,p=e.length,g=a.length,v=new Array(p),_;for(l=0;l<p;++l)(h=e[l])&&(v[l]=_=o.call(h,h.__data__,l,e)+"",d.has(_)?s[l]=h:d.set(_,h));for(l=0;l<g;++l)_=o.call(t,a[l],l,a)+"",(h=d.get(_))?(r[l]=h,h.__data__=a[l],d.delete(_)):i[l]=new _S(t,a[l]);for(l=0;l<p;++l)(h=e[l])&&d.get(v[l])===h&&(s[l]=h)}function eJ(t){return t.__data__}function tJ(t,e){if(!arguments.length)return Array.from(this,eJ);var i=e?JQ:QQ,r=this._parents,s=this._groups;typeof t!="function"&&(t=ZQ(t));for(var a=s.length,o=new Array(a),l=new Array(a),h=new Array(a),d=0;d<a;++d){var p=r[d],g=s[d],v=g.length,_=nJ(t.call(p,p&&p.__data__,d,r)),j=_.length,T=l[d]=new Array(j),C=o[d]=new Array(j),w=h[d]=new Array(v);i(p,g,T,C,w,_,e);for(var A=0,L=0,k,I;A<j;++A)if(k=T[A]){for(A>=L&&(L=A+1);!(I=C[L])&&++L<j;);k._next=I||null}}return o=new uo(o,r),o._enter=l,o._exit=h,o}function nJ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function iJ(){return new uo(this._exit||this._groups.map(nz),this._parents)}function rJ(t,e,i){var r=this.enter(),s=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(s=e(s),s&&(s=s.selection())),i==null?a.remove():i(a),r&&s?r.merge(s).order():s}function sJ(t){for(var e=t.selection?t.selection():t,i=this._groups,r=e._groups,s=i.length,a=r.length,o=Math.min(s,a),l=new Array(s),h=0;h<o;++h)for(var d=i[h],p=r[h],g=d.length,v=l[h]=new Array(g),_,j=0;j<g;++j)(_=d[j]||p[j])&&(v[j]=_);for(;h<s;++h)l[h]=i[h];return new uo(l,this._parents)}function aJ(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var r=t[e],s=r.length-1,a=r[s],o;--s>=0;)(o=r[s])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function oJ(t){t||(t=lJ);function e(g,v){return g&&v?t(g.__data__,v.__data__):!g-!v}for(var i=this._groups,r=i.length,s=new Array(r),a=0;a<r;++a){for(var o=i[a],l=o.length,h=s[a]=new Array(l),d,p=0;p<l;++p)(d=o[p])&&(h[p]=d);h.sort(e)}return new uo(s,this._parents).order()}function lJ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function cJ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function hJ(){return Array.from(this)}function uJ(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],s=0,a=r.length;s<a;++s){var o=r[s];if(o)return o}return null}function dJ(){let t=0;for(const e of this)++t;return t}function fJ(){return!this.node()}function pJ(t){for(var e=this._groups,i=0,r=e.length;i<r;++i)for(var s=e[i],a=0,o=s.length,l;a<o;++a)(l=s[a])&&t.call(l,l.__data__,a,s);return this}function mJ(t){return function(){this.removeAttribute(t)}}function gJ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xJ(t,e){return function(){this.setAttribute(t,e)}}function yJ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vJ(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function _J(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function bJ(t,e){var i=Q1(t);if(arguments.length<2){var r=this.node();return i.local?r.getAttributeNS(i.space,i.local):r.getAttribute(i)}return this.each((e==null?i.local?gJ:mJ:typeof e=="function"?i.local?_J:vJ:i.local?yJ:xJ)(i,e))}function iz(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function jJ(t){return function(){this.style.removeProperty(t)}}function SJ(t,e,i){return function(){this.style.setProperty(t,e,i)}}function wJ(t,e,i){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,i)}}function TJ(t,e,i){return arguments.length>1?this.each((e==null?jJ:typeof e=="function"?wJ:SJ)(t,e,i??"")):Cg(this.node(),t)}function Cg(t,e){return t.style.getPropertyValue(e)||iz(t).getComputedStyle(t,null).getPropertyValue(e)}function CJ(t){return function(){delete this[t]}}function MJ(t,e){return function(){this[t]=e}}function EJ(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function AJ(t,e){return arguments.length>1?this.each((e==null?CJ:typeof e=="function"?EJ:MJ)(t,e)):this.node()[t]}function rz(t){return t.trim().split(/^|\s+/)}function aA(t){return t.classList||new sz(t)}function sz(t){this._node=t,this._names=rz(t.getAttribute("class")||"")}sz.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function az(t,e){for(var i=aA(t),r=-1,s=e.length;++r<s;)i.add(e[r])}function oz(t,e){for(var i=aA(t),r=-1,s=e.length;++r<s;)i.remove(e[r])}function RJ(t){return function(){az(this,t)}}function LJ(t){return function(){oz(this,t)}}function DJ(t,e){return function(){(e.apply(this,arguments)?az:oz)(this,t)}}function kJ(t,e){var i=rz(t+"");if(arguments.length<2){for(var r=aA(this.node()),s=-1,a=i.length;++s<a;)if(!r.contains(i[s]))return!1;return!0}return this.each((typeof e=="function"?DJ:e?RJ:LJ)(i,e))}function NJ(){this.textContent=""}function PJ(t){return function(){this.textContent=t}}function OJ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function BJ(t){return arguments.length?this.each(t==null?NJ:(typeof t=="function"?OJ:PJ)(t)):this.node().textContent}function IJ(){this.innerHTML=""}function FJ(t){return function(){this.innerHTML=t}}function UJ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function zJ(t){return arguments.length?this.each(t==null?IJ:(typeof t=="function"?UJ:FJ)(t)):this.node().innerHTML}function HJ(){this.nextSibling&&this.parentNode.appendChild(this)}function VJ(){return this.each(HJ)}function GJ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $J(){return this.each(GJ)}function qJ(t){var e=typeof t=="function"?t:Q4(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function WJ(){return null}function XJ(t,e){var i=typeof t=="function"?t:Q4(t),r=e==null?WJ:typeof e=="function"?e:sA(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),r.apply(this,arguments)||null)})}function YJ(){var t=this.parentNode;t&&t.removeChild(this)}function KJ(){return this.each(YJ)}function ZJ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function QJ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function JJ(t){return this.select(t?QJ:ZJ)}function eee(t){return arguments.length?this.property("__data__",t):this.node().__data__}function tee(t){return function(e){t.call(this,e,this.__data__)}}function nee(t){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");return r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),{type:e,name:i}})}function iee(t){return function(){var e=this.__on;if(e){for(var i=0,r=-1,s=e.length,a;i<s;++i)a=e[i],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function ree(t,e,i){return function(){var r=this.__on,s,a=tee(e);if(r){for(var o=0,l=r.length;o<l;++o)if((s=r[o]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=a,s.options=i),s.value=e;return}}this.addEventListener(t.type,a,i),s={type:t.type,name:t.name,value:e,listener:a,options:i},r?r.push(s):this.__on=[s]}}function see(t,e,i){var r=nee(t+""),s,a=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var h=0,d=l.length,p;h<d;++h)for(s=0,p=l[h];s<a;++s)if((o=r[s]).type===p.type&&o.name===p.name)return p.value}return}for(l=e?ree:iee,s=0;s<a;++s)this.each(l(r[s],e,i));return this}function lz(t,e,i){var r=iz(t),s=r.CustomEvent;typeof s=="function"?s=new s(e,i):(s=r.document.createEvent("Event"),i?(s.initEvent(e,i.bubbles,i.cancelable),s.detail=i.detail):s.initEvent(e,!1,!1)),t.dispatchEvent(s)}function aee(t,e){return function(){return lz(this,t,e)}}function oee(t,e){return function(){return lz(this,t,e.apply(this,arguments))}}function lee(t,e){return this.each((typeof e=="function"?oee:aee)(t,e))}function*cee(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var r=t[e],s=0,a=r.length,o;s<a;++s)(o=r[s])&&(yield o)}var cz=[null];function uo(t,e){this._groups=t,this._parents=e}function xv(){return new uo([[document.documentElement]],cz)}function hee(){return this}uo.prototype=xv.prototype={constructor:uo,select:OQ,selectAll:UQ,selectChild:GQ,selectChildren:XQ,filter:YQ,data:tJ,enter:KQ,exit:iJ,join:rJ,merge:sJ,selection:hee,order:aJ,sort:oJ,call:cJ,nodes:hJ,node:uJ,size:dJ,empty:fJ,each:pJ,attr:bJ,style:TJ,property:AJ,classed:kJ,text:BJ,html:zJ,raise:VJ,lower:$J,append:qJ,insert:XJ,remove:KJ,clone:JJ,datum:eee,on:see,dispatch:lee,[Symbol.iterator]:cee};function Kn(t){return typeof t=="string"?new uo([[document.querySelector(t)]],[document.documentElement]):new uo([[t]],cz)}function oA(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function hz(t,e){var i=Object.create(t.prototype);for(var r in e)i[r]=e[r];return i}function yv(){}var B0=.7,bS=1/B0,ig="\\s*([+-]?\\d+)\\s*",I0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",uee=/^#([0-9a-f]{3,8})$/,dee=new RegExp(`^rgb\\(${ig},${ig},${ig}\\)$`),fee=new RegExp(`^rgb\\(${Lc},${Lc},${Lc}\\)$`),pee=new RegExp(`^rgba\\(${ig},${ig},${ig},${I0}\\)$`),mee=new RegExp(`^rgba\\(${Lc},${Lc},${Lc},${I0}\\)$`),gee=new RegExp(`^hsl\\(${I0},${Lc},${Lc}\\)$`),xee=new RegExp(`^hsla\\(${I0},${Lc},${Lc},${I0}\\)$`),HD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oA(yv,F0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VD,formatHex:VD,formatHex8:yee,formatHsl:vee,formatRgb:GD,toString:GD});function VD(){return this.rgb().formatHex()}function yee(){return this.rgb().formatHex8()}function vee(){return uz(this).formatHsl()}function GD(){return this.rgb().formatRgb()}function F0(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=uee.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?$D(e):i===3?new Ua(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?yb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?yb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=dee.exec(t))?new Ua(e[1],e[2],e[3],1):(e=fee.exec(t))?new Ua(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=pee.exec(t))?yb(e[1],e[2],e[3],e[4]):(e=mee.exec(t))?yb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=gee.exec(t))?XD(e[1],e[2]/100,e[3]/100,1):(e=xee.exec(t))?XD(e[1],e[2]/100,e[3]/100,e[4]):HD.hasOwnProperty(t)?$D(HD[t]):t==="transparent"?new Ua(NaN,NaN,NaN,0):null}function $D(t){return new Ua(t>>16&255,t>>8&255,t&255,1)}function yb(t,e,i,r){return r<=0&&(t=e=i=NaN),new Ua(t,e,i,r)}function _ee(t){return t instanceof yv||(t=F0(t)),t?(t=t.rgb(),new Ua(t.r,t.g,t.b,t.opacity)):new Ua}function EM(t,e,i,r){return arguments.length===1?_ee(t):new Ua(t,e,i,r??1)}function Ua(t,e,i,r){this.r=+t,this.g=+e,this.b=+i,this.opacity=+r}oA(Ua,EM,hz(yv,{brighter(t){return t=t==null?bS:Math.pow(bS,t),new Ua(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?B0:Math.pow(B0,t),new Ua(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ua(qf(this.r),qf(this.g),qf(this.b),jS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qD,formatHex:qD,formatHex8:bee,formatRgb:WD,toString:WD}));function qD(){return`#${If(this.r)}${If(this.g)}${If(this.b)}`}function bee(){return`#${If(this.r)}${If(this.g)}${If(this.b)}${If((isNaN(this.opacity)?1:this.opacity)*255)}`}function WD(){const t=jS(this.opacity);return`${t===1?"rgb(":"rgba("}${qf(this.r)}, ${qf(this.g)}, ${qf(this.b)}${t===1?")":`, ${t})`}`}function jS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function qf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function If(t){return t=qf(t),(t<16?"0":"")+t.toString(16)}function XD(t,e,i,r){return r<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Ml(t,e,i,r)}function uz(t){if(t instanceof Ml)return new Ml(t.h,t.s,t.l,t.opacity);if(t instanceof yv||(t=F0(t)),!t)return new Ml;if(t instanceof Ml)return t;t=t.rgb();var e=t.r/255,i=t.g/255,r=t.b/255,s=Math.min(e,i,r),a=Math.max(e,i,r),o=NaN,l=a-s,h=(a+s)/2;return l?(e===a?o=(i-r)/l+(i<r)*6:i===a?o=(r-e)/l+2:o=(e-i)/l+4,l/=h<.5?a+s:2-a-s,o*=60):l=h>0&&h<1?0:o,new Ml(o,l,h,t.opacity)}function jee(t,e,i,r){return arguments.length===1?uz(t):new Ml(t,e,i,r??1)}function Ml(t,e,i,r){this.h=+t,this.s=+e,this.l=+i,this.opacity=+r}oA(Ml,jee,hz(yv,{brighter(t){return t=t==null?bS:Math.pow(bS,t),new Ml(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?B0:Math.pow(B0,t),new Ml(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,r=i+(i<.5?i:1-i)*e,s=2*i-r;return new Ua(x2(t>=240?t-240:t+120,s,r),x2(t,s,r),x2(t<120?t+240:t-120,s,r),this.opacity)},clamp(){return new Ml(YD(this.h),vb(this.s),vb(this.l),jS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=jS(this.opacity);return`${t===1?"hsl(":"hsla("}${YD(this.h)}, ${vb(this.s)*100}%, ${vb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YD(t){return t=(t||0)%360,t<0?t+360:t}function vb(t){return Math.max(0,Math.min(1,t||0))}function x2(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const lA=t=>()=>t;function dz(t,e){return function(i){return t+i*e}}function See(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(r){return Math.pow(t+r*e,i)}}function P3e(t,e){var i=e-t;return i?dz(t,i>180||i<-180?i-360*Math.round(i/360):i):lA(isNaN(t)?e:t)}function wee(t){return(t=+t)==1?fz:function(e,i){return i-e?See(e,i,t):lA(isNaN(e)?i:e)}}function fz(t,e){var i=e-t;return i?dz(t,i):lA(isNaN(t)?e:t)}const KD=function t(e){var i=wee(e);function r(s,a){var o=i((s=EM(s)).r,(a=EM(a)).r),l=i(s.g,a.g),h=i(s.b,a.b),d=fz(s.opacity,a.opacity);return function(p){return s.r=o(p),s.g=l(p),s.b=h(p),s.opacity=d(p),s+""}}return r.gamma=t,r}(1);function Wu(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var AM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,y2=new RegExp(AM.source,"g");function Tee(t){return function(){return t}}function Cee(t){return function(e){return t(e)+""}}function Mee(t,e){var i=AM.lastIndex=y2.lastIndex=0,r,s,a,o=-1,l=[],h=[];for(t=t+"",e=e+"";(r=AM.exec(t))&&(s=y2.exec(e));)(a=s.index)>i&&(a=e.slice(i,a),l[o]?l[o]+=a:l[++o]=a),(r=r[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,h.push({i:o,x:Wu(r,s)})),i=y2.lastIndex;return i<e.length&&(a=e.slice(i),l[o]?l[o]+=a:l[++o]=a),l.length<2?h[0]?Cee(h[0].x):Tee(e):(e=h.length,function(d){for(var p=0,g;p<e;++p)l[(g=h[p]).i]=g.x(d);return l.join("")})}var ZD=180/Math.PI,RM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pz(t,e,i,r,s,a){var o,l,h;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(h=t*i+e*r)&&(i-=t*h,r-=e*h),(l=Math.sqrt(i*i+r*r))&&(i/=l,r/=l,h/=l),t*r<e*i&&(t=-t,e=-e,h=-h,o=-o),{translateX:s,translateY:a,rotate:Math.atan2(e,t)*ZD,skewX:Math.atan(h)*ZD,scaleX:o,scaleY:l}}var _b;function Eee(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?RM:pz(e.a,e.b,e.c,e.d,e.e,e.f)}function Aee(t){return t==null||(_b||(_b=document.createElementNS("http://www.w3.org/2000/svg","g")),_b.setAttribute("transform",t),!(t=_b.transform.baseVal.consolidate()))?RM:(t=t.matrix,pz(t.a,t.b,t.c,t.d,t.e,t.f))}function mz(t,e,i,r){function s(d){return d.length?d.pop()+" ":""}function a(d,p,g,v,_,j){if(d!==g||p!==v){var T=_.push("translate(",null,e,null,i);j.push({i:T-4,x:Wu(d,g)},{i:T-2,x:Wu(p,v)})}else(g||v)&&_.push("translate("+g+e+v+i)}function o(d,p,g,v){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),v.push({i:g.push(s(g)+"rotate(",null,r)-2,x:Wu(d,p)})):p&&g.push(s(g)+"rotate("+p+r)}function l(d,p,g,v){d!==p?v.push({i:g.push(s(g)+"skewX(",null,r)-2,x:Wu(d,p)}):p&&g.push(s(g)+"skewX("+p+r)}function h(d,p,g,v,_,j){if(d!==g||p!==v){var T=_.push(s(_)+"scale(",null,",",null,")");j.push({i:T-4,x:Wu(d,g)},{i:T-2,x:Wu(p,v)})}else(g!==1||v!==1)&&_.push(s(_)+"scale("+g+","+v+")")}return function(d,p){var g=[],v=[];return d=t(d),p=t(p),a(d.translateX,d.translateY,p.translateX,p.translateY,g,v),o(d.rotate,p.rotate,g,v),l(d.skewX,p.skewX,g,v),h(d.scaleX,d.scaleY,p.scaleX,p.scaleY,g,v),d=p=null,function(_){for(var j=-1,T=v.length,C;++j<T;)g[(C=v[j]).i]=C.x(_);return g.join("")}}}var Ree=mz(Eee,"px, ","px)","deg)"),Lee=mz(Aee,", ",")",")"),Mg=0,Jy=0,Ey=0,gz=1e3,SS,e0,wS=0,Jf=0,J1=0,U0=typeof performance=="object"&&performance.now?performance:Date,xz=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function cA(){return Jf||(xz(Dee),Jf=U0.now()+J1)}function Dee(){Jf=0}function TS(){this._call=this._time=this._next=null}TS.prototype=yz.prototype={constructor:TS,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?cA():+i)+(e==null?0:+e),!this._next&&e0!==this&&(e0?e0._next=this:SS=this,e0=this),this._call=t,this._time=i,LM()},stop:function(){this._call&&(this._call=null,this._time=1/0,LM())}};function yz(t,e,i){var r=new TS;return r.restart(t,e,i),r}function kee(){cA(),++Mg;for(var t=SS,e;t;)(e=Jf-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Mg}function QD(){Jf=(wS=U0.now())+J1,Mg=Jy=0;try{kee()}finally{Mg=0,Pee(),Jf=0}}function Nee(){var t=U0.now(),e=t-wS;e>gz&&(J1-=e,wS=t)}function Pee(){for(var t,e=SS,i,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:SS=i);e0=t,LM(r)}function LM(t){if(!Mg){Jy&&(Jy=clearTimeout(Jy));var e=t-Jf;e>24?(t<1/0&&(Jy=setTimeout(QD,t-U0.now()-J1)),Ey&&(Ey=clearInterval(Ey))):(Ey||(wS=U0.now(),Ey=setInterval(Nee,gz)),Mg=1,xz(QD))}}function JD(t,e,i){var r=new TS;return e=e==null?0:+e,r.restart(s=>{r.stop(),t(s+e)},e,i),r}var Oee=Z4("start","end","cancel","interrupt"),Bee=[],vz=0,ek=1,DM=2,Lj=3,tk=4,kM=5,Dj=6;function ew(t,e,i,r,s,a){var o=t.__transition;if(!o)t.__transition={};else if(i in o)return;Iee(t,i,{name:e,index:r,group:s,on:Oee,tween:Bee,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:vz})}function hA(t,e){var i=Dl(t,e);if(i.state>vz)throw new Error("too late; already scheduled");return i}function Bc(t,e){var i=Dl(t,e);if(i.state>Lj)throw new Error("too late; already running");return i}function Dl(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function Iee(t,e,i){var r=t.__transition,s;r[e]=i,i.timer=yz(a,0,i.time);function a(d){i.state=ek,i.timer.restart(o,i.delay,i.time),i.delay<=d&&o(d-i.delay)}function o(d){var p,g,v,_;if(i.state!==ek)return h();for(p in r)if(_=r[p],_.name===i.name){if(_.state===Lj)return JD(o);_.state===tk?(_.state=Dj,_.timer.stop(),_.on.call("interrupt",t,t.__data__,_.index,_.group),delete r[p]):+p<e&&(_.state=Dj,_.timer.stop(),_.on.call("cancel",t,t.__data__,_.index,_.group),delete r[p])}if(JD(function(){i.state===Lj&&(i.state=tk,i.timer.restart(l,i.delay,i.time),l(d))}),i.state=DM,i.on.call("start",t,t.__data__,i.index,i.group),i.state===DM){for(i.state=Lj,s=new Array(v=i.tween.length),p=0,g=-1;p<v;++p)(_=i.tween[p].value.call(t,t.__data__,i.index,i.group))&&(s[++g]=_);s.length=g+1}}function l(d){for(var p=d<i.duration?i.ease.call(null,d/i.duration):(i.timer.restart(h),i.state=kM,1),g=-1,v=s.length;++g<v;)s[g].call(t,p);i.state===kM&&(i.on.call("end",t,t.__data__,i.index,i.group),h())}function h(){i.state=Dj,i.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function Fee(t,e){var i=t.__transition,r,s,a=!0,o;if(i){e=e==null?null:e+"";for(o in i){if((r=i[o]).name!==e){a=!1;continue}s=r.state>DM&&r.state<kM,r.state=Dj,r.timer.stop(),r.on.call(s?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete i[o]}a&&delete t.__transition}}function Uee(t){return this.each(function(){Fee(this,t)})}function zee(t,e){var i,r;return function(){var s=Bc(this,t),a=s.tween;if(a!==i){r=i=a;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function Hee(t,e,i){var r,s;if(typeof i!="function")throw new Error;return function(){var a=Bc(this,t),o=a.tween;if(o!==r){s=(r=o).slice();for(var l={name:e,value:i},h=0,d=s.length;h<d;++h)if(s[h].name===e){s[h]=l;break}h===d&&s.push(l)}a.tween=s}}function Vee(t,e){var i=this._id;if(t+="",arguments.length<2){for(var r=Dl(this.node(),i).tween,s=0,a=r.length,o;s<a;++s)if((o=r[s]).name===t)return o.value;return null}return this.each((e==null?zee:Hee)(i,t,e))}function uA(t,e,i){var r=t._id;return t.each(function(){var s=Bc(this,r);(s.value||(s.value={}))[e]=i.apply(this,arguments)}),function(s){return Dl(s,r).value[e]}}function _z(t,e){var i;return(typeof e=="number"?Wu:e instanceof F0?KD:(i=F0(e))?(e=i,KD):Mee)(t,e)}function Gee(t){return function(){this.removeAttribute(t)}}function $ee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qee(t,e,i){var r,s=i+"",a;return function(){var o=this.getAttribute(t);return o===s?null:o===r?a:a=e(r=o,i)}}function Wee(t,e,i){var r,s=i+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===s?null:o===r?a:a=e(r=o,i)}}function Xee(t,e,i){var r,s,a;return function(){var o,l=i(this),h;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),h=l+"",o===h?null:o===r&&h===s?a:(s=h,a=e(r=o,l)))}}function Yee(t,e,i){var r,s,a;return function(){var o,l=i(this),h;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),h=l+"",o===h?null:o===r&&h===s?a:(s=h,a=e(r=o,l)))}}function Kee(t,e){var i=Q1(t),r=i==="transform"?Lee:_z;return this.attrTween(t,typeof e=="function"?(i.local?Yee:Xee)(i,r,uA(this,"attr."+t,e)):e==null?(i.local?$ee:Gee)(i):(i.local?Wee:qee)(i,r,e))}function Zee(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function Qee(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function Jee(t,e){var i,r;function s(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&Qee(t,a)),i}return s._value=e,s}function ete(t,e){var i,r;function s(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&Zee(t,a)),i}return s._value=e,s}function tte(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var r=Q1(t);return this.tween(i,(r.local?Jee:ete)(r,e))}function nte(t,e){return function(){hA(this,t).delay=+e.apply(this,arguments)}}function ite(t,e){return e=+e,function(){hA(this,t).delay=e}}function rte(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?nte:ite)(e,t)):Dl(this.node(),e).delay}function ste(t,e){return function(){Bc(this,t).duration=+e.apply(this,arguments)}}function ate(t,e){return e=+e,function(){Bc(this,t).duration=e}}function ote(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ste:ate)(e,t)):Dl(this.node(),e).duration}function lte(t,e){if(typeof e!="function")throw new Error;return function(){Bc(this,t).ease=e}}function cte(t){var e=this._id;return arguments.length?this.each(lte(e,t)):Dl(this.node(),e).ease}function hte(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;Bc(this,t).ease=i}}function ute(t){if(typeof t!="function")throw new Error;return this.each(hte(this._id,t))}function dte(t){typeof t!="function"&&(t=ez(t));for(var e=this._groups,i=e.length,r=new Array(i),s=0;s<i;++s)for(var a=e[s],o=a.length,l=r[s]=[],h,d=0;d<o;++d)(h=a[d])&&t.call(h,h.__data__,d,a)&&l.push(h);return new kh(r,this._parents,this._name,this._id)}function fte(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,r=e.length,s=i.length,a=Math.min(r,s),o=new Array(r),l=0;l<a;++l)for(var h=e[l],d=i[l],p=h.length,g=o[l]=new Array(p),v,_=0;_<p;++_)(v=h[_]||d[_])&&(g[_]=v);for(;l<r;++l)o[l]=e[l];return new kh(o,this._parents,this._name,this._id)}function pte(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function mte(t,e,i){var r,s,a=pte(e)?hA:Bc;return function(){var o=a(this,t),l=o.on;l!==r&&(s=(r=l).copy()).on(e,i),o.on=s}}function gte(t,e){var i=this._id;return arguments.length<2?Dl(this.node(),i).on.on(t):this.each(mte(i,t,e))}function xte(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function yte(){return this.on("end.remove",xte(this._id))}function vte(t){var e=this._name,i=this._id;typeof t!="function"&&(t=sA(t));for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o)for(var l=r[o],h=l.length,d=a[o]=new Array(h),p,g,v=0;v<h;++v)(p=l[v])&&(g=t.call(p,p.__data__,v,l))&&("__data__"in p&&(g.__data__=p.__data__),d[v]=g,ew(d[v],e,i,v,d,Dl(p,i)));return new kh(a,this._parents,e,i)}function _te(t){var e=this._name,i=this._id;typeof t!="function"&&(t=J4(t));for(var r=this._groups,s=r.length,a=[],o=[],l=0;l<s;++l)for(var h=r[l],d=h.length,p,g=0;g<d;++g)if(p=h[g]){for(var v=t.call(p,p.__data__,g,h),_,j=Dl(p,i),T=0,C=v.length;T<C;++T)(_=v[T])&&ew(_,e,i,T,v,j);a.push(v),o.push(p)}return new kh(a,o,e,i)}var bte=xv.prototype.constructor;function jte(){return new bte(this._groups,this._parents)}function Ste(t,e){var i,r,s;return function(){var a=Cg(this,t),o=(this.style.removeProperty(t),Cg(this,t));return a===o?null:a===i&&o===r?s:s=e(i=a,r=o)}}function bz(t){return function(){this.style.removeProperty(t)}}function wte(t,e,i){var r,s=i+"",a;return function(){var o=Cg(this,t);return o===s?null:o===r?a:a=e(r=o,i)}}function Tte(t,e,i){var r,s,a;return function(){var o=Cg(this,t),l=i(this),h=l+"";return l==null&&(h=l=(this.style.removeProperty(t),Cg(this,t))),o===h?null:o===r&&h===s?a:(s=h,a=e(r=o,l))}}function Cte(t,e){var i,r,s,a="style."+e,o="end."+a,l;return function(){var h=Bc(this,t),d=h.on,p=h.value[a]==null?l||(l=bz(e)):void 0;(d!==i||s!==p)&&(r=(i=d).copy()).on(o,s=p),h.on=r}}function Mte(t,e,i){var r=(t+="")=="transform"?Ree:_z;return e==null?this.styleTween(t,Ste(t,r)).on("end.style."+t,bz(t)):typeof e=="function"?this.styleTween(t,Tte(t,r,uA(this,"style."+t,e))).each(Cte(this._id,t)):this.styleTween(t,wte(t,r,e),i).on("end.style."+t,null)}function Ete(t,e,i){return function(r){this.style.setProperty(t,e.call(this,r),i)}}function Ate(t,e,i){var r,s;function a(){var o=e.apply(this,arguments);return o!==s&&(r=(s=o)&&Ete(t,o,i)),r}return a._value=e,a}function Rte(t,e,i){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Ate(t,e,i??""))}function Lte(t){return function(){this.textContent=t}}function Dte(t){return function(){var e=t(this);this.textContent=e??""}}function kte(t){return this.tween("text",typeof t=="function"?Dte(uA(this,"text",t)):Lte(t==null?"":t+""))}function Nte(t){return function(e){this.textContent=t.call(this,e)}}function Pte(t){var e,i;function r(){var s=t.apply(this,arguments);return s!==i&&(e=(i=s)&&Nte(s)),e}return r._value=t,r}function Ote(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Pte(t))}function Bte(){for(var t=this._name,e=this._id,i=jz(),r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,h,d=0;d<l;++d)if(h=o[d]){var p=Dl(h,e);ew(h,t,i,d,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new kh(r,this._parents,t,i)}function Ite(){var t,e,i=this,r=i._id,s=i.size();return new Promise(function(a,o){var l={value:o},h={value:function(){--s===0&&a()}};i.each(function(){var d=Bc(this,r),p=d.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(h)),d.on=e}),s===0&&a()})}var Fte=0;function kh(t,e,i,r){this._groups=t,this._parents=e,this._name=i,this._id=r}function jz(){return++Fte}var dh=xv.prototype;kh.prototype={constructor:kh,select:vte,selectAll:_te,selectChild:dh.selectChild,selectChildren:dh.selectChildren,filter:dte,merge:fte,selection:jte,transition:Bte,call:dh.call,nodes:dh.nodes,node:dh.node,size:dh.size,empty:dh.empty,each:dh.each,on:gte,attr:Kee,attrTween:tte,style:Mte,styleTween:Rte,text:kte,textTween:Ote,remove:yte,tween:Vee,delay:rte,duration:ote,ease:cte,easeVarying:ute,end:Ite,[Symbol.iterator]:dh[Symbol.iterator]};function Ute(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var zte={time:null,delay:0,duration:250,ease:Ute};function Hte(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function Vte(t){var e,i;t instanceof kh?(e=t._id,t=t._name):(e=jz(),(i=zte).time=cA(),t=t==null?null:t+"");for(var r=this._groups,s=r.length,a=0;a<s;++a)for(var o=r[a],l=o.length,h,d=0;d<l;++d)(h=o[d])&&ew(h,t,e,d,o,i||Hte(h,e));return new kh(r,this._parents,t,e)}xv.prototype.interrupt=Uee;xv.prototype.transition=Vte;const NM=Math.PI,PM=2*NM,Mf=1e-6,Gte=PM-Mf;function Sz(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function $te(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Sz;const i=10**e;return function(r){this._+=r[0];for(let s=1,a=r.length;s<a;++s)this._+=Math.round(arguments[s]*i)/i+r[s]}}let qte=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Sz:$te(e)}moveTo(e,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,i){this._append`L${this._x1=+e},${this._y1=+i}`}quadraticCurveTo(e,i,r,s){this._append`Q${+e},${+i},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(e,i,r,s,a,o){this._append`C${+e},${+i},${+r},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(e,i,r,s,a){if(e=+e,i=+i,r=+r,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,h=r-e,d=s-i,p=o-e,g=l-i,v=p*p+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=i}`;else if(v>Mf)if(!(Math.abs(g*h-d*p)>Mf)||!a)this._append`L${this._x1=e},${this._y1=i}`;else{let _=r-o,j=s-l,T=h*h+d*d,C=_*_+j*j,w=Math.sqrt(T),A=Math.sqrt(v),L=a*Math.tan((NM-Math.acos((T+v-C)/(2*w*A)))/2),k=L/A,I=L/w;Math.abs(k-1)>Mf&&this._append`L${e+k*p},${i+k*g}`,this._append`A${a},${a},0,0,${+(g*_>p*j)},${this._x1=e+I*h},${this._y1=i+I*d}`}}arc(e,i,r,s,a,o){if(e=+e,i=+i,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(s),h=r*Math.sin(s),d=e+l,p=i+h,g=1^o,v=o?s-a:a-s;this._x1===null?this._append`M${d},${p}`:(Math.abs(this._x1-d)>Mf||Math.abs(this._y1-p)>Mf)&&this._append`L${d},${p}`,r&&(v<0&&(v=v%PM+PM),v>Gte?this._append`A${r},${r},0,1,${g},${e-l},${i-h}A${r},${r},0,1,${g},${this._x1=d},${this._y1=p}`:v>Mf&&this._append`A${r},${r},0,${+(v>=NM)},${g},${this._x1=e+r*Math.cos(a)},${this._y1=i+r*Math.sin(a)}`)}rect(e,i,r,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}};function ym(t){return function(){return t}}const B3e=Math.abs,I3e=Math.atan2,F3e=Math.cos,U3e=Math.max,z3e=Math.min,H3e=Math.sin,V3e=Math.sqrt,nk=1e-12,dA=Math.PI,ik=dA/2,G3e=2*dA;function $3e(t){return t>1?0:t<-1?dA:Math.acos(t)}function q3e(t){return t>=1?ik:t<=-1?-ik:Math.asin(t)}function Wte(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(i==null)e=null;else{const r=Math.floor(i);if(!(r>=0))throw new RangeError(`invalid digits: ${i}`);e=r}return t},()=>new qte(e)}function Xte(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wz(t){this._context=t}wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function CS(t){return new wz(t)}function Yte(t){return t[0]}function Kte(t){return t[1]}function Zte(t,e){var i=ym(!0),r=null,s=CS,a=null,o=Wte(l);t=typeof t=="function"?t:t===void 0?Yte:ym(t),e=typeof e=="function"?e:e===void 0?Kte:ym(e);function l(h){var d,p=(h=Xte(h)).length,g,v=!1,_;for(r==null&&(a=s(_=o())),d=0;d<=p;++d)!(d<p&&i(g=h[d],d,h))===v&&((v=!v)?a.lineStart():a.lineEnd()),v&&a.point(+t(g,d,h),+e(g,d,h));if(_)return a=null,_+""||null}return l.x=function(h){return arguments.length?(t=typeof h=="function"?h:ym(+h),l):t},l.y=function(h){return arguments.length?(e=typeof h=="function"?h:ym(+h),l):e},l.defined=function(h){return arguments.length?(i=typeof h=="function"?h:ym(!!h),l):i},l.curve=function(h){return arguments.length?(s=h,r!=null&&(a=s(r)),l):s},l.context=function(h){return arguments.length?(h==null?r=a=null:a=s(r=h),l):r},l}class Tz{constructor(e,i){this._context=e,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,i){switch(e=+e,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,i,e,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,e,this._y0,e,i);break}}this._x0=e,this._y0=i}}function Cz(t){return new Tz(t,!0)}function Mz(t){return new Tz(t,!1)}function rd(){}function MS(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function tw(t){this._context=t}tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:MS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:MS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kj(t){return new tw(t)}function Ez(t){this._context=t}Ez.prototype={areaStart:rd,areaEnd:rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:MS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qte(t){return new Ez(t)}function Az(t){this._context=t}Az.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,r):this._context.moveTo(i,r);break;case 3:this._point=4;default:MS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Jte(t){return new Az(t)}function Rz(t,e){this._basis=new tw(t),this._beta=e}Rz.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var r=t[0],s=e[0],a=t[i]-r,o=e[i]-s,l=-1,h;++l<=i;)h=l/i,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+h*a),this._beta*e[l]+(1-this._beta)*(s+h*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const ene=function t(e){function i(r){return e===1?new tw(r):new Rz(r,e)}return i.beta=function(r){return t(+r)},i}(.85);function ES(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function fA(t,e){this._context=t,this._k=(1-e)/6}fA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ES(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ES(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Lz=function t(e){function i(r){return new fA(r,e)}return i.tension=function(r){return t(+r)},i}(0);function pA(t,e){this._context=t,this._k=(1-e)/6}pA.prototype={areaStart:rd,areaEnd:rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ES(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const tne=function t(e){function i(r){return new pA(r,e)}return i.tension=function(r){return t(+r)},i}(0);function mA(t,e){this._context=t,this._k=(1-e)/6}mA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ES(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const nne=function t(e){function i(r){return new mA(r,e)}return i.tension=function(r){return t(+r)},i}(0);function gA(t,e,i){var r=t._x1,s=t._y1,a=t._x2,o=t._y2;if(t._l01_a>nk){var l=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,h=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*l-t._x0*t._l12_2a+t._x2*t._l01_2a)/h,s=(s*l-t._y0*t._l12_2a+t._y2*t._l01_2a)/h}if(t._l23_a>nk){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,p=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*d+t._x1*t._l23_2a-e*t._l12_2a)/p,o=(o*d+t._y1*t._l23_2a-i*t._l12_2a)/p}t._context.bezierCurveTo(r,s,a,o,t._x2,t._y2)}function Dz(t,e){this._context=t,this._alpha=e}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:gA(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const kz=function t(e){function i(r){return e?new Dz(r,e):new fA(r,0)}return i.alpha=function(r){return t(+r)},i}(.5);function Nz(t,e){this._context=t,this._alpha=e}Nz.prototype={areaStart:rd,areaEnd:rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gA(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ine=function t(e){function i(r){return e?new Nz(r,e):new pA(r,0)}return i.alpha=function(r){return t(+r)},i}(.5);function Pz(t,e){this._context=t,this._alpha=e}Pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gA(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const rne=function t(e){function i(r){return e?new Pz(r,e):new mA(r,0)}return i.alpha=function(r){return t(+r)},i}(.5);function Oz(t){this._context=t}Oz.prototype={areaStart:rd,areaEnd:rd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sne(t){return new Oz(t)}function rk(t){return t<0?-1:1}function sk(t,e,i){var r=t._x1-t._x0,s=e-t._x1,a=(t._y1-t._y0)/(r||s<0&&-0),o=(i-t._y1)/(s||r<0&&-0),l=(a*s+o*r)/(r+s);return(rk(a)+rk(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function ak(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function v2(t,e,i){var r=t._x0,s=t._y0,a=t._x1,o=t._y1,l=(a-r)/3;t._context.bezierCurveTo(r+l,s+l*e,a-l,o-l*i,a,o)}function AS(t){this._context=t}AS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v2(this,this._t0,ak(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,v2(this,ak(this,i=sk(this,t,e)),i);break;default:v2(this,this._t0,i=sk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function Bz(t){this._context=new Iz(t)}(Bz.prototype=Object.create(AS.prototype)).point=function(t,e){AS.prototype.point.call(this,e,t)};function Iz(t){this._context=t}Iz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,r,s,a){this._context.bezierCurveTo(e,t,r,i,a,s)}};function Fz(t){return new AS(t)}function Uz(t){return new Bz(t)}function zz(t){this._context=t}zz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var r=ok(t),s=ok(e),a=0,o=1;o<i;++a,++o)this._context.bezierCurveTo(r[0][a],s[0][a],r[1][a],s[1][a],t[o],e[o]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ok(t){var e,i=t.length-1,r,s=new Array(i),a=new Array(i),o=new Array(i);for(s[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)s[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[i-1]=2,a[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)r=s[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(s[i-1]=o[i-1]/a[i-1],e=i-2;e>=0;--e)s[e]=(o[e]-s[e+1])/a[e];for(a[i-1]=(t[i]+s[i-1])/2,e=0;e<i-1;++e)a[e]=2*t[e+1]-s[e+1];return[s,a]}function Hz(t){return new zz(t)}function nw(t,e){this._context=t,this._t=e}nw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function Vz(t){return new nw(t,.5)}function Gz(t){return new nw(t,0)}function $z(t){return new nw(t,1)}function t0(t,e,i){this.k=t,this.x=e,this.y=i}t0.prototype={constructor:t0,scale:function(t){return t===1?this:new t0(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new t0(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};t0.prototype;var qz=typeof global=="object"&&global&&global.Object===Object&&global,ane=typeof self=="object"&&self&&self.Object===Object&&self,Ic=qz||ane||Function("return this")(),RS=Ic.Symbol,Wz=Object.prototype,one=Wz.hasOwnProperty,lne=Wz.toString,Ay=RS?RS.toStringTag:void 0;function cne(t){var e=one.call(t,Ay),i=t[Ay];try{t[Ay]=void 0;var r=!0}catch{}var s=lne.call(t);return r&&(e?t[Ay]=i:delete t[Ay]),s}var hne=Object.prototype,une=hne.toString;function dne(t){return une.call(t)}var fne="[object Null]",pne="[object Undefined]",lk=RS?RS.toStringTag:void 0;function Xg(t){return t==null?t===void 0?pne:fne:lk&&lk in Object(t)?cne(t):dne(t)}function lp(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var mne="[object AsyncFunction]",gne="[object Function]",xne="[object GeneratorFunction]",yne="[object Proxy]";function xA(t){if(!lp(t))return!1;var e=Xg(t);return e==gne||e==xne||e==mne||e==yne}var _2=Ic["__core-js_shared__"],ck=function(){var t=/[^.]+$/.exec(_2&&_2.keys&&_2.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function vne(t){return!!ck&&ck in t}var _ne=Function.prototype,bne=_ne.toString;function cp(t){if(t!=null){try{return bne.call(t)}catch{}try{return t+""}catch{}}return""}var jne=/[\\^$.*+?()[\]{}|]/g,Sne=/^\[object .+?Constructor\]$/,wne=Function.prototype,Tne=Object.prototype,Cne=wne.toString,Mne=Tne.hasOwnProperty,Ene=RegExp("^"+Cne.call(Mne).replace(jne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ane(t){if(!lp(t)||vne(t))return!1;var e=xA(t)?Ene:Sne;return e.test(cp(t))}function Rne(t,e){return t?.[e]}function hp(t,e){var i=Rne(t,e);return Ane(i)?i:void 0}var z0=hp(Object,"create");function Lne(){this.__data__=z0?z0(null):{},this.size=0}function Dne(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var kne="__lodash_hash_undefined__",Nne=Object.prototype,Pne=Nne.hasOwnProperty;function One(t){var e=this.__data__;if(z0){var i=e[t];return i===kne?void 0:i}return Pne.call(e,t)?e[t]:void 0}var Bne=Object.prototype,Ine=Bne.hasOwnProperty;function Fne(t){var e=this.__data__;return z0?e[t]!==void 0:Ine.call(e,t)}var Une="__lodash_hash_undefined__";function zne(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=z0&&e===void 0?Une:e,this}function ep(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}ep.prototype.clear=Lne;ep.prototype.delete=Dne;ep.prototype.get=One;ep.prototype.has=Fne;ep.prototype.set=zne;function Hne(){this.__data__=[],this.size=0}function iw(t,e){return t===e||t!==t&&e!==e}function rw(t,e){for(var i=t.length;i--;)if(iw(t[i][0],e))return i;return-1}var Vne=Array.prototype,Gne=Vne.splice;function $ne(t){var e=this.__data__,i=rw(e,t);if(i<0)return!1;var r=e.length-1;return i==r?e.pop():Gne.call(e,i,1),--this.size,!0}function qne(t){var e=this.__data__,i=rw(e,t);return i<0?void 0:e[i][1]}function Wne(t){return rw(this.__data__,t)>-1}function Xne(t,e){var i=this.__data__,r=rw(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}function Uh(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}Uh.prototype.clear=Hne;Uh.prototype.delete=$ne;Uh.prototype.get=qne;Uh.prototype.has=Wne;Uh.prototype.set=Xne;var H0=hp(Ic,"Map");function Yne(){this.size=0,this.__data__={hash:new ep,map:new(H0||Uh),string:new ep}}function Kne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sw(t,e){var i=t.__data__;return Kne(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Zne(t){var e=sw(this,t).delete(t);return this.size-=e?1:0,e}function Qne(t){return sw(this,t).get(t)}function Jne(t){return sw(this,t).has(t)}function eie(t,e){var i=sw(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}function ud(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var r=t[e];this.set(r[0],r[1])}}ud.prototype.clear=Yne;ud.prototype.delete=Zne;ud.prototype.get=Qne;ud.prototype.has=Jne;ud.prototype.set=eie;var tie="Expected a function";function vv(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(tie);var i=function(){var r=arguments,s=e?e.apply(this,r):r[0],a=i.cache;if(a.has(s))return a.get(s);var o=t.apply(this,r);return i.cache=a.set(s,o)||a,o};return i.cache=new(vv.Cache||ud),i}vv.Cache=ud;function nie(){this.__data__=new Uh,this.size=0}function iie(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function rie(t){return this.__data__.get(t)}function sie(t){return this.__data__.has(t)}var aie=200;function oie(t,e){var i=this.__data__;if(i instanceof Uh){var r=i.__data__;if(!H0||r.length<aie-1)return r.push([t,e]),this.size=++i.size,this;i=this.__data__=new ud(r)}return i.set(t,e),this.size=i.size,this}function Yg(t){var e=this.__data__=new Uh(t);this.size=e.size}Yg.prototype.clear=nie;Yg.prototype.delete=iie;Yg.prototype.get=rie;Yg.prototype.has=sie;Yg.prototype.set=oie;var LS=function(){try{var t=hp(Object,"defineProperty");return t({},"",{}),t}catch{}}();function yA(t,e,i){e=="__proto__"&&LS?LS(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function OM(t,e,i){(i!==void 0&&!iw(t[e],i)||i===void 0&&!(e in t))&&yA(t,e,i)}function lie(t){return function(e,i,r){for(var s=-1,a=Object(e),o=r(e),l=o.length;l--;){var h=o[++s];if(i(a[h],h,a)===!1)break}return e}}var cie=lie(),Xz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hk=Xz&&typeof module=="object"&&module&&!module.nodeType&&module,hie=hk&&hk.exports===Xz,uk=hie?Ic.Buffer:void 0,dk=uk?uk.allocUnsafe:void 0;function uie(t,e){if(e)return t.slice();var i=t.length,r=dk?dk(i):new t.constructor(i);return t.copy(r),r}var fk=Ic.Uint8Array;function die(t){var e=new t.constructor(t.byteLength);return new fk(e).set(new fk(t)),e}function fie(t,e){var i=e?die(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function pie(t,e){var i=-1,r=t.length;for(e||(e=Array(r));++i<r;)e[i]=t[i];return e}var pk=Object.create,mie=function(){function t(){}return function(e){if(!lp(e))return{};if(pk)return pk(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function Yz(t,e){return function(i){return t(e(i))}}var Kz=Yz(Object.getPrototypeOf,Object),gie=Object.prototype;function aw(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||gie;return t===i}function xie(t){return typeof t.constructor=="function"&&!aw(t)?mie(Kz(t)):{}}function _v(t){return t!=null&&typeof t=="object"}var yie="[object Arguments]";function mk(t){return _v(t)&&Xg(t)==yie}var Zz=Object.prototype,vie=Zz.hasOwnProperty,_ie=Zz.propertyIsEnumerable,DS=mk(function(){return arguments}())?mk:function(t){return _v(t)&&vie.call(t,"callee")&&!_ie.call(t,"callee")},kS=Array.isArray,bie=9007199254740991;function Qz(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=bie}function ow(t){return t!=null&&Qz(t.length)&&!xA(t)}function jie(t){return _v(t)&&ow(t)}function Sie(){return!1}var Jz=typeof exports=="object"&&exports&&!exports.nodeType&&exports,gk=Jz&&typeof module=="object"&&module&&!module.nodeType&&module,wie=gk&&gk.exports===Jz,xk=wie?Ic.Buffer:void 0,Tie=xk?xk.isBuffer:void 0,vA=Tie||Sie,Cie="[object Object]",Mie=Function.prototype,Eie=Object.prototype,e5=Mie.toString,Aie=Eie.hasOwnProperty,Rie=e5.call(Object);function Lie(t){if(!_v(t)||Xg(t)!=Cie)return!1;var e=Kz(t);if(e===null)return!0;var i=Aie.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&e5.call(i)==Rie}var Die="[object Arguments]",kie="[object Array]",Nie="[object Boolean]",Pie="[object Date]",Oie="[object Error]",Bie="[object Function]",Iie="[object Map]",Fie="[object Number]",Uie="[object Object]",zie="[object RegExp]",Hie="[object Set]",Vie="[object String]",Gie="[object WeakMap]",$ie="[object ArrayBuffer]",qie="[object DataView]",Wie="[object Float32Array]",Xie="[object Float64Array]",Yie="[object Int8Array]",Kie="[object Int16Array]",Zie="[object Int32Array]",Qie="[object Uint8Array]",Jie="[object Uint8ClampedArray]",ere="[object Uint16Array]",tre="[object Uint32Array]",Pi={};Pi[Wie]=Pi[Xie]=Pi[Yie]=Pi[Kie]=Pi[Zie]=Pi[Qie]=Pi[Jie]=Pi[ere]=Pi[tre]=!0;Pi[Die]=Pi[kie]=Pi[$ie]=Pi[Nie]=Pi[qie]=Pi[Pie]=Pi[Oie]=Pi[Bie]=Pi[Iie]=Pi[Fie]=Pi[Uie]=Pi[zie]=Pi[Hie]=Pi[Vie]=Pi[Gie]=!1;function nre(t){return _v(t)&&Qz(t.length)&&!!Pi[Xg(t)]}function ire(t){return function(e){return t(e)}}var t5=typeof exports=="object"&&exports&&!exports.nodeType&&exports,f0=t5&&typeof module=="object"&&module&&!module.nodeType&&module,rre=f0&&f0.exports===t5,b2=rre&&qz.process,yk=function(){try{var t=f0&&f0.require&&f0.require("util").types;return t||b2&&b2.binding&&b2.binding("util")}catch{}}(),vk=yk&&yk.isTypedArray,_A=vk?ire(vk):nre;function BM(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var sre=Object.prototype,are=sre.hasOwnProperty;function ore(t,e,i){var r=t[e];(!(are.call(t,e)&&iw(r,i))||i===void 0&&!(e in t))&&yA(t,e,i)}function lre(t,e,i,r){var s=!i;i||(i={});for(var a=-1,o=e.length;++a<o;){var l=e[a],h=void 0;h===void 0&&(h=t[l]),s?yA(i,l,h):ore(i,l,h)}return i}function cre(t,e){for(var i=-1,r=Array(t);++i<t;)r[i]=e(i);return r}var hre=9007199254740991,ure=/^(?:0|[1-9]\d*)$/;function n5(t,e){var i=typeof t;return e=e??hre,!!e&&(i=="number"||i!="symbol"&&ure.test(t))&&t>-1&&t%1==0&&t<e}var dre=Object.prototype,fre=dre.hasOwnProperty;function pre(t,e){var i=kS(t),r=!i&&DS(t),s=!i&&!r&&vA(t),a=!i&&!r&&!s&&_A(t),o=i||r||s||a,l=o?cre(t.length,String):[],h=l.length;for(var d in t)(e||fre.call(t,d))&&!(o&&(d=="length"||s&&(d=="offset"||d=="parent")||a&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||n5(d,h)))&&l.push(d);return l}function mre(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var gre=Object.prototype,xre=gre.hasOwnProperty;function yre(t){if(!lp(t))return mre(t);var e=aw(t),i=[];for(var r in t)r=="constructor"&&(e||!xre.call(t,r))||i.push(r);return i}function i5(t){return ow(t)?pre(t,!0):yre(t)}function vre(t){return lre(t,i5(t))}function _re(t,e,i,r,s,a,o){var l=BM(t,i),h=BM(e,i),d=o.get(h);if(d){OM(t,i,d);return}var p=a?a(l,h,i+"",t,e,o):void 0,g=p===void 0;if(g){var v=kS(h),_=!v&&vA(h),j=!v&&!_&&_A(h);p=h,v||_||j?kS(l)?p=l:jie(l)?p=pie(l):_?(g=!1,p=uie(h,!0)):j?(g=!1,p=fie(h,!0)):p=[]:Lie(h)||DS(h)?(p=l,DS(l)?p=vre(l):(!lp(l)||xA(l))&&(p=xie(h))):g=!1}g&&(o.set(h,p),s(p,h,r,a,o),o.delete(h)),OM(t,i,p)}function r5(t,e,i,r,s){t!==e&&cie(e,function(a,o){if(s||(s=new Yg),lp(a))_re(t,e,o,i,r5,r,s);else{var l=r?r(BM(t,o),a,o+"",t,e,s):void 0;l===void 0&&(l=a),OM(t,o,l)}},i5)}function s5(t){return t}function bre(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var _k=Math.max;function jre(t,e,i){return e=_k(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,a=_k(r.length-e,0),o=Array(a);++s<a;)o[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=i(o),bre(t,this,l)}}function Sre(t){return function(){return t}}var wre=LS?function(t,e){return LS(t,"toString",{configurable:!0,enumerable:!1,value:Sre(e),writable:!0})}:s5,Tre=800,Cre=16,Mre=Date.now;function Ere(t){var e=0,i=0;return function(){var r=Mre(),s=Cre-(r-i);if(i=r,s>0){if(++e>=Tre)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Are=Ere(wre);function Rre(t,e){return Are(jre(t,e,s5),t+"")}function Lre(t,e,i){if(!lp(i))return!1;var r=typeof e;return(r=="number"?ow(i)&&n5(e,i.length):r=="string"&&e in i)?iw(i[e],t):!1}function Dre(t){return Rre(function(e,i){var r=-1,s=i.length,a=s>1?i[s-1]:void 0,o=s>2?i[2]:void 0;for(a=t.length>3&&typeof a=="function"?(s--,a):void 0,o&&Lre(i[0],i[1],o)&&(a=s<3?void 0:a,s=1),e=Object(e);++r<s;){var l=i[r];l&&t(e,l,r,a)}return e})}var kre=Dre(function(t,e,i){r5(t,e,i)}),Nre="​",Pre={curveBasis:kj,curveBasisClosed:Qte,curveBasisOpen:Jte,curveBumpX:Cz,curveBumpY:Mz,curveBundle:ene,curveCardinalClosed:tne,curveCardinalOpen:nne,curveCardinal:Lz,curveCatmullRomClosed:ine,curveCatmullRomOpen:rne,curveCatmullRom:kz,curveLinear:CS,curveLinearClosed:sne,curveMonotoneX:Fz,curveMonotoneY:Uz,curveNatural:Hz,curveStep:Vz,curveStepAfter:$z,curveStepBefore:Gz},Ore=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Bre=F(function(t,e){const i=a5(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(i)){const o=i.map(l=>l.args);hS(o),r=gs(r,[...o])}else r=i.args;if(!r)return;let s=$E(t,e);const a="config";return r[a]!==void 0&&(s==="flowchart-v2"&&(s="flowchart"),r[s]=r[a],delete r[a]),r},"detectInit"),a5=F(function(t,e=null){try{const i=new RegExp(`[%]{2}(?![{]${Ore.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),nt.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let r;const s=[];for(;(r=u0.exec(t))!==null;)if(r.index===u0.lastIndex&&u0.lastIndex++,r&&!e||e&&r[1]?.match(e)||e&&r[2]?.match(e)){const a=r[1]?r[1]:r[2],o=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;s.push({type:a,args:o})}return s.length===0?{type:t,args:null}:s.length===1?s[0]:s}catch(i){return nt.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Ire=F(function(t){return t.replace(u0,"")},"removeDirectives"),Fre=F(function(t,e){for(const[i,r]of e.entries())if(r.match(t))return i;return-1},"isSubstringInArray");function bA(t,e){if(!t)return e;const i=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return Pre[i]??e}F(bA,"interpolateToCurve");function o5(t,e){const i=t.trim();if(i)return e.securityLevel!=="loose"?AQ.sanitizeUrl(i):i}F(o5,"formatUrl");var Ure=F((t,...e)=>{const i=t.split("."),r=i.length-1,s=i[r];let a=window;for(let o=0;o<r;o++)if(a=a[i[o]],!a){nt.error(`Function name: ${t} not found in window`);return}a[s](...e)},"runFunc");function jA(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}F(jA,"distance");function l5(t){let e,i=0;t.forEach(s=>{i+=jA(s,e),e=s});const r=i/2;return SA(t,r)}F(l5,"traverseEdge");function c5(t){return t.length===1?t[0]:l5(t)}F(c5,"calcLabelPosition");var bk=F((t,e=2)=>{const i=Math.pow(10,e);return Math.round(t*i)/i},"roundNumber"),SA=F((t,e)=>{let i,r=e;for(const s of t){if(i){const a=jA(s,i);if(a===0)return i;if(a<r)r-=a;else{const o=r/a;if(o<=0)return i;if(o>=1)return{x:s.x,y:s.y};if(o>0&&o<1)return{x:bk((1-o)*i.x+o*s.x,5),y:bk((1-o)*i.y+o*s.y,5)}}}i=s}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),zre=F((t,e,i)=>{nt.info(`our points ${JSON.stringify(e)}`),e[0]!==i&&(e=e.reverse());const s=SA(e,25),a=t?10:5,o=Math.atan2(e[0].y-s.y,e[0].x-s.x),l={x:0,y:0};return l.x=Math.sin(o)*a+(e[0].x+s.x)/2,l.y=-Math.cos(o)*a+(e[0].y+s.y)/2,l},"calcCardinalityPosition");function h5(t,e,i){const r=structuredClone(i);nt.info("our points",r),e!=="start_left"&&e!=="start_right"&&r.reverse();const s=25+t,a=SA(r,s),o=10+t*.5,l=Math.atan2(r[0].y-a.y,r[0].x-a.x),h={x:0,y:0};return e==="start_left"?(h.x=Math.sin(l+Math.PI)*o+(r[0].x+a.x)/2,h.y=-Math.cos(l+Math.PI)*o+(r[0].y+a.y)/2):e==="end_right"?(h.x=Math.sin(l-Math.PI)*o+(r[0].x+a.x)/2-5,h.y=-Math.cos(l-Math.PI)*o+(r[0].y+a.y)/2-5):e==="end_left"?(h.x=Math.sin(l)*o+(r[0].x+a.x)/2-5,h.y=-Math.cos(l)*o+(r[0].y+a.y)/2-5):(h.x=Math.sin(l)*o+(r[0].x+a.x)/2,h.y=-Math.cos(l)*o+(r[0].y+a.y)/2),h}F(h5,"calcTerminalLabelPosition");function u5(t){let e="",i="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?i=i+r+";":e=e+r+";");return{style:e,labelStyle:i}}F(u5,"getStylesFromArray");var jk=0,Hre=F(()=>(jk++,"id-"+Math.random().toString(36).substr(2,12)+"-"+jk),"generateId");function d5(t){let e="";const i="0123456789abcdef",r=i.length;for(let s=0;s<t;s++)e+=i.charAt(Math.floor(Math.random()*r));return e}F(d5,"makeRandomHex");var Vre=F(t=>d5(t.length),"random"),Gre=F(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),$re=F(function(t,e){const i=e.text.replace(qg.lineBreakRegex," "),[,r]=lw(e.fontSize),s=t.append("text");s.attr("x",e.x),s.attr("y",e.y),s.style("text-anchor",e.anchor),s.style("font-family",e.fontFamily),s.style("font-size",r),s.style("font-weight",e.fontWeight),s.attr("fill",e.fill),e.class!==void 0&&s.attr("class",e.class);const a=s.append("tspan");return a.attr("x",e.x+e.textMargin*2),a.attr("fill",e.fill),a.text(i),s},"drawSimpleText"),qre=vv((t,e,i)=>{if(!t||(i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},i),qg.lineBreakRegex.test(t)))return t;const r=t.split(" ").filter(Boolean),s=[];let a="";return r.forEach((o,l)=>{const h=Nh(`${o} `,i),d=Nh(a,i);if(h>e){const{hyphenatedStrings:v,remainingWord:_}=Wre(o,e,"-",i);s.push(a,...v),a=_}else d+h>=e?(s.push(a),a=o):a=[a,o].filter(Boolean).join(" ");l+1===r.length&&s.push(a)}),s.filter(o=>o!=="").join(i.joinWith)},(t,e,i)=>`${t}${e}${i.fontSize}${i.fontWeight}${i.fontFamily}${i.joinWith}`),Wre=vv((t,e,i="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const s=[...t],a=[];let o="";return s.forEach((l,h)=>{const d=`${o}${l}`;if(Nh(d,r)>=e){const g=h+1,v=s.length===g,_=`${d}${i}`;a.push(v?d:_),o=""}else o=d}),{hyphenatedStrings:a,remainingWord:o}},(t,e,i="-",r)=>`${t}${e}${i}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function f5(t,e){return wA(t,e).height}F(f5,"calculateTextHeight");function Nh(t,e){return wA(t,e).width}F(Nh,"calculateTextWidth");var wA=vv((t,e)=>{const{fontSize:i=12,fontFamily:r="Arial",fontWeight:s=400}=e;if(!t)return{width:0,height:0};const[,a]=lw(i),o=["sans-serif",r],l=t.split(qg.lineBreakRegex),h=[],d=Kn("body");if(!d.remove)return{width:0,height:0,lineHeight:0};const p=d.append("svg");for(const v of o){let _=0;const j={width:0,height:0,lineHeight:0};for(const T of l){const C=Gre();C.text=T||Nre;const w=$re(p,C).style("font-size",a).style("font-weight",s).style("font-family",v),A=(w._groups||w)[0][0].getBBox();if(A.width===0&&A.height===0)throw new Error("svg element not in render tree");j.width=Math.round(Math.max(j.width,A.width)),_=Math.round(A.height),j.height+=_,j.lineHeight=Math.round(Math.max(j.lineHeight,_))}h.push(j)}p.remove();const g=isNaN(h[1].height)||isNaN(h[1].width)||isNaN(h[1].lineHeight)||h[0].height>h[1].height&&h[0].width>h[1].width&&h[0].lineHeight>h[1].lineHeight?0:1;return h[g]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),pg,Xre=(pg=class{constructor(e=!1,i){this.count=0,this.count=i?i.length:0,this.next=e?()=>this.count++:()=>Date.now()}},F(pg,"InitIDGenerator"),pg),bb,Yre=F(function(t){return bb=bb||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),bb.innerHTML=t,unescape(bb.textContent)},"entityDecode");function TA(t){return"str"in t}F(TA,"isDetailedError");var Kre=F((t,e,i,r)=>{if(!r)return;const s=t.node()?.getBBox();s&&t.append("text").text(r).attr("text-anchor","middle").attr("x",s.x+s.width/2).attr("y",-i).attr("class",e)},"insertTitle"),lw=F(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function CA(t,e){return kre({},t,e)}F(CA,"cleanAndMerge");var Cc={assignWithDepth:gs,wrapLabel:qre,calculateTextHeight:f5,calculateTextWidth:Nh,calculateTextDimensions:wA,cleanAndMerge:CA,detectInit:Bre,detectDirective:a5,isSubstringInArray:Fre,interpolateToCurve:bA,calcLabelPosition:c5,calcCardinalityPosition:zre,calcTerminalLabelPosition:h5,formatUrl:o5,getStylesFromArray:u5,generateId:Hre,random:Vre,runFunc:Ure,entityDecode:Yre,insertTitle:Kre,parseFontSize:lw,InitIDGenerator:Xre},Zre=F(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),e=e.replace(/#\w+;/g,function(i){const r=i.substring(1,i.length-1);return/^\+?\d+$/.test(r)?"ﬂ°°"+r+"¶ß":"ﬂ°"+r+"¶ß"}),e},"encodeEntities"),up=F(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),W3e=F((t,e,{counter:i=0,prefix:r,suffix:s},a)=>a||`${r?`${r}_`:""}${t}_${e}_${i}${s?`_${s}`:""}`,"getEdgeId");function pa(t){return t??null}F(pa,"handleUndefinedAttr");const Qre=Object.freeze({left:0,top:0,width:16,height:16}),NS=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),p5=Object.freeze({...Qre,...NS}),Jre=Object.freeze({...p5,body:"",hidden:!1}),ese=Object.freeze({width:null,height:null}),tse=Object.freeze({...ese,...NS}),nse=(t,e,i,r="")=>{const s=t.split(":");if(t.slice(0,1)==="@"){if(s.length<2||s.length>3)return null;r=s.shift().slice(1)}if(s.length>3||!s.length)return null;if(s.length>1){const l=s.pop(),h=s.pop(),d={provider:s.length>0?s[0]:r,prefix:h,name:l};return j2(d)?d:null}const a=s[0],o=a.split("-");if(o.length>1){const l={provider:r,prefix:o.shift(),name:o.join("-")};return j2(l)?l:null}if(i&&r===""){const l={provider:r,prefix:"",name:a};return j2(l,i)?l:null}return null},j2=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function ise(t,e){const i={};!t.hFlip!=!e.hFlip&&(i.hFlip=!0),!t.vFlip!=!e.vFlip&&(i.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(i.rotate=r),i}function Sk(t,e){const i=ise(t,e);for(const r in Jre)r in NS?r in t&&!(r in i)&&(i[r]=NS[r]):r in e?i[r]=e[r]:r in t&&(i[r]=t[r]);return i}function rse(t,e){const i=t.icons,r=t.aliases||Object.create(null),s=Object.create(null);function a(o){if(i[o])return s[o]=[];if(!(o in s)){s[o]=null;const l=r[o]&&r[o].parent,h=l&&a(l);h&&(s[o]=[l].concat(h))}return s[o]}return(e||Object.keys(i).concat(Object.keys(r))).forEach(a),s}function wk(t,e,i){const r=t.icons,s=t.aliases||Object.create(null);let a={};function o(l){a=Sk(r[l]||s[l],a)}return o(e),i.forEach(o),Sk(t,a)}function sse(t,e){if(t.icons[e])return wk(t,e,[]);const i=rse(t,[e])[e];return i?wk(t,e,i):null}const ase=/(-?[0-9.]*[0-9]+[0-9.]*)/g,ose=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function Tk(t,e,i){if(e===1)return t;if(i=i||100,typeof t=="number")return Math.ceil(t*e*i)/i;if(typeof t!="string")return t;const r=t.split(ase);if(r===null||!r.length)return t;const s=[];let a=r.shift(),o=ose.test(a);for(;;){if(o){const l=parseFloat(a);isNaN(l)?s.push(a):s.push(Math.ceil(l*e*i)/i)}else s.push(a);if(a=r.shift(),a===void 0)return s.join("");o=!o}}function lse(t,e="defs"){let i="";const r=t.indexOf("<"+e);for(;r>=0;){const s=t.indexOf(">",r),a=t.indexOf("</"+e);if(s===-1||a===-1)break;const o=t.indexOf(">",a);if(o===-1)break;i+=t.slice(s+1,a).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:i,content:t}}function cse(t,e){return t?"<defs>"+t+"</defs>"+e:e}function hse(t,e,i){const r=lse(t);return cse(r.defs,e+r.content+i)}const use=t=>t==="unset"||t==="undefined"||t==="none";function dse(t,e){const i={...p5,...t},r={...tse,...e},s={left:i.left,top:i.top,width:i.width,height:i.height};let a=i.body;[i,r].forEach(T=>{const C=[],w=T.hFlip,A=T.vFlip;let L=T.rotate;w?A?L+=2:(C.push("translate("+(s.width+s.left).toString()+" "+(0-s.top).toString()+")"),C.push("scale(-1 1)"),s.top=s.left=0):A&&(C.push("translate("+(0-s.left).toString()+" "+(s.height+s.top).toString()+")"),C.push("scale(1 -1)"),s.top=s.left=0);let k;switch(L<0&&(L-=Math.floor(L/4)*4),L=L%4,L){case 1:k=s.height/2+s.top,C.unshift("rotate(90 "+k.toString()+" "+k.toString()+")");break;case 2:C.unshift("rotate(180 "+(s.width/2+s.left).toString()+" "+(s.height/2+s.top).toString()+")");break;case 3:k=s.width/2+s.left,C.unshift("rotate(-90 "+k.toString()+" "+k.toString()+")");break}L%2===1&&(s.left!==s.top&&(k=s.left,s.left=s.top,s.top=k),s.width!==s.height&&(k=s.width,s.width=s.height,s.height=k)),C.length&&(a=hse(a,'<g transform="'+C.join(" ")+'">',"</g>"))});const o=r.width,l=r.height,h=s.width,d=s.height;let p,g;o===null?(g=l===null?"1em":l==="auto"?d:l,p=Tk(g,h/d)):(p=o==="auto"?h:o,g=l===null?Tk(p,d/h):l==="auto"?d:l);const v={},_=(T,C)=>{use(C)||(v[T]=C.toString())};_("width",p),_("height",g);const j=[s.left,s.top,h,d];return v.viewBox=j.join(" "),{attributes:v,viewBox:j,body:a}}const fse=/\sid="(\S+)"/g,pse="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let mse=0;function gse(t,e=pse){const i=[];let r;for(;r=fse.exec(t);)i.push(r[1]);if(!i.length)return t;const s="suffix"+(Math.random()*16777216|Date.now()).toString(16);return i.forEach(a=>{const o=typeof e=="function"?e(a):e+(mse++).toString(),l=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+l+')([")]|\\.[a-z])',"g"),"$1"+o+s+"$3")}),t=t.replace(new RegExp(s,"g"),""),t}function xse(t,e){let i=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)i+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+i+">"+t+"</svg>"}function MA(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var dp=MA();function m5(t){dp=t}var p0={exec:()=>null};function fi(t,e=""){let i=typeof t=="string"?t:t.source;const r={replace:(s,a)=>{let o=typeof a=="string"?a:a.source;return o=o.replace(fa.caret,"$1"),i=i.replace(s,o),r},getRegex:()=>new RegExp(i,e)};return r}var fa={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},yse=/^(?:[ \t]*(?:\n|$))+/,vse=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,_se=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,bv=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,bse=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,EA=/(?:[*+-]|\d{1,9}[.)])/,g5=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,x5=fi(g5).replace(/bull/g,EA).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),jse=fi(g5).replace(/bull/g,EA).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),AA=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Sse=/^[^\n]+/,RA=/(?!\s*\])(?:\\.|[^\[\]\\])+/,wse=fi(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",RA).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Tse=fi(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,EA).getRegex(),cw="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",LA=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Cse=fi("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",LA).replace("tag",cw).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y5=fi(AA).replace("hr",bv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cw).getRegex(),Mse=fi(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",y5).getRegex(),DA={blockquote:Mse,code:vse,def:wse,fences:_se,heading:bse,hr:bv,html:Cse,lheading:x5,list:Tse,newline:yse,paragraph:y5,table:p0,text:Sse},Ck=fi("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",bv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cw).getRegex(),Ese={...DA,lheading:jse,table:Ck,paragraph:fi(AA).replace("hr",bv).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ck).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",cw).getRegex()},Ase={...DA,html:fi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",LA).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:p0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:fi(AA).replace("hr",bv).replace("heading",` *#{1,6} *[^
]`).replace("lheading",x5).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Rse=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Lse=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,v5=/^( {2,}|\\)\n(?!\s*$)/,Dse=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,hw=/[\p{P}\p{S}]/u,kA=/[\s\p{P}\p{S}]/u,_5=/[^\s\p{P}\p{S}]/u,kse=fi(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,kA).getRegex(),b5=/(?!~)[\p{P}\p{S}]/u,Nse=/(?!~)[\s\p{P}\p{S}]/u,Pse=/(?:[^\s\p{P}\p{S}]|~)/u,Ose=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,j5=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Bse=fi(j5,"u").replace(/punct/g,hw).getRegex(),Ise=fi(j5,"u").replace(/punct/g,b5).getRegex(),S5="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Fse=fi(S5,"gu").replace(/notPunctSpace/g,_5).replace(/punctSpace/g,kA).replace(/punct/g,hw).getRegex(),Use=fi(S5,"gu").replace(/notPunctSpace/g,Pse).replace(/punctSpace/g,Nse).replace(/punct/g,b5).getRegex(),zse=fi("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_5).replace(/punctSpace/g,kA).replace(/punct/g,hw).getRegex(),Hse=fi(/\\(punct)/,"gu").replace(/punct/g,hw).getRegex(),Vse=fi(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gse=fi(LA).replace("(?:-->|$)","-->").getRegex(),$se=fi("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gse).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),PS=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,qse=fi(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",PS).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),w5=fi(/^!?\[(label)\]\[(ref)\]/).replace("label",PS).replace("ref",RA).getRegex(),T5=fi(/^!?\[(ref)\](?:\[\])?/).replace("ref",RA).getRegex(),Wse=fi("reflink|nolink(?!\\()","g").replace("reflink",w5).replace("nolink",T5).getRegex(),NA={_backpedal:p0,anyPunctuation:Hse,autolink:Vse,blockSkip:Ose,br:v5,code:Lse,del:p0,emStrongLDelim:Bse,emStrongRDelimAst:Fse,emStrongRDelimUnd:zse,escape:Rse,link:qse,nolink:T5,punctuation:kse,reflink:w5,reflinkSearch:Wse,tag:$se,text:Dse,url:p0},Xse={...NA,link:fi(/^!?\[(label)\]\((.*?)\)/).replace("label",PS).getRegex(),reflink:fi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",PS).getRegex()},IM={...NA,emStrongRDelimAst:Use,emStrongLDelim:Ise,url:fi(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Yse={...IM,br:fi(v5).replace("{2,}","*").getRegex(),text:fi(IM.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},jb={normal:DA,gfm:Ese,pedantic:Ase},Ry={normal:NA,gfm:IM,breaks:Yse,pedantic:Xse},Kse={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Mk=t=>Kse[t];function Sc(t,e){if(e){if(fa.escapeTest.test(t))return t.replace(fa.escapeReplace,Mk)}else if(fa.escapeTestNoEncode.test(t))return t.replace(fa.escapeReplaceNoEncode,Mk);return t}function Ek(t){try{t=encodeURI(t).replace(fa.percentDecode,"%")}catch{return null}return t}function Ak(t,e){const i=t.replace(fa.findPipe,(a,o,l)=>{let h=!1,d=o;for(;--d>=0&&l[d]==="\\";)h=!h;return h?"|":" |"}),r=i.split(fa.splitPipe);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(fa.slashPipe,"|");return r}function Ly(t,e,i){const r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function Zse(t,e){if(t.indexOf(e[1])===-1)return-1;let i=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])i++;else if(t[r]===e[1]&&(i--,i<0))return r;return i>0?-2:-1}function Rk(t,e,i,r,s){const a=e.href,o=e.title||null,l=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;const h={type:t[0].charAt(0)==="!"?"image":"link",raw:i,href:a,title:o,text:l,tokens:r.inlineTokens(l)};return r.state.inLink=!1,h}function Qse(t,e,i){const r=t.match(i.other.indentCodeCompensation);if(r===null)return e;const s=r[1];return e.split(`
`).map(a=>{const o=a.match(i.other.beginningSpace);if(o===null)return a;const[l]=o;return l.length>=s.length?a.slice(s.length):a}).join(`
`)}var OS=class{options;rules;lexer;constructor(t){this.options=t||dp}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const i=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Ly(i,`
`)}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const i=e[0],r=Qse(i,e[3]||"",this.rules);return{type:"code",raw:i,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let i=e[2].trim();if(this.rules.other.endingHash.test(i)){const r=Ly(i,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(i=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Ly(e[0],`
`)}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){let i=Ly(e[0],`
`).split(`
`),r="",s="";const a=[];for(;i.length>0;){let o=!1;const l=[];let h;for(h=0;h<i.length;h++)if(this.rules.other.blockquoteStart.test(i[h]))l.push(i[h]),o=!0;else if(!o)l.push(i[h]);else break;i=i.slice(h);const d=l.join(`
`),p=d.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${d}`:d,s=s?`${s}
${p}`:p;const g=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(p,a,!0),this.lexer.state.top=g,i.length===0)break;const v=a.at(-1);if(v?.type==="code")break;if(v?.type==="blockquote"){const _=v,j=_.raw+`
`+i.join(`
`),T=this.blockquote(j);a[a.length-1]=T,r=r.substring(0,r.length-_.raw.length)+T.raw,s=s.substring(0,s.length-_.text.length)+T.text;break}else if(v?.type==="list"){const _=v,j=_.raw+`
`+i.join(`
`),T=this.list(j);a[a.length-1]=T,r=r.substring(0,r.length-v.raw.length)+T.raw,s=s.substring(0,s.length-_.raw.length)+T.raw,i=j.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:a,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let i=e[1].trim();const r=i.length>1,s={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");const a=this.rules.other.listItemRegex(i);let o=!1;for(;t;){let h=!1,d="",p="";if(!(e=a.exec(t))||this.rules.block.hr.test(t))break;d=e[0],t=t.substring(d.length);let g=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,w=>" ".repeat(3*w.length)),v=t.split(`
`,1)[0],_=!g.trim(),j=0;if(this.options.pedantic?(j=2,p=g.trimStart()):_?j=e[1].length+1:(j=e[2].search(this.rules.other.nonSpaceChar),j=j>4?1:j,p=g.slice(j),j+=e[1].length),_&&this.rules.other.blankLine.test(v)&&(d+=v+`
`,t=t.substring(v.length+1),h=!0),!h){const w=this.rules.other.nextBulletRegex(j),A=this.rules.other.hrRegex(j),L=this.rules.other.fencesBeginRegex(j),k=this.rules.other.headingBeginRegex(j),I=this.rules.other.htmlBeginRegex(j);for(;t;){const z=t.split(`
`,1)[0];let U;if(v=z,this.options.pedantic?(v=v.replace(this.rules.other.listReplaceNesting,"  "),U=v):U=v.replace(this.rules.other.tabCharGlobal,"    "),L.test(v)||k.test(v)||I.test(v)||w.test(v)||A.test(v))break;if(U.search(this.rules.other.nonSpaceChar)>=j||!v.trim())p+=`
`+U.slice(j);else{if(_||g.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||L.test(g)||k.test(g)||A.test(g))break;p+=`
`+v}!_&&!v.trim()&&(_=!0),d+=z+`
`,t=t.substring(z.length+1),g=U.slice(j)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(d)&&(o=!0));let T=null,C;this.options.gfm&&(T=this.rules.other.listIsTask.exec(p),T&&(C=T[0]!=="[ ] ",p=p.replace(this.rules.other.listReplaceTask,""))),s.items.push({type:"list_item",raw:d,task:!!T,checked:C,loose:!1,text:p,tokens:[]}),s.raw+=d}const l=s.items.at(-1);if(l)l.raw=l.raw.trimEnd(),l.text=l.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let h=0;h<s.items.length;h++)if(this.lexer.state.top=!1,s.items[h].tokens=this.lexer.blockTokens(s.items[h].text,[]),!s.loose){const d=s.items[h].tokens.filter(g=>g.type==="space"),p=d.length>0&&d.some(g=>this.rules.other.anyLine.test(g.raw));s.loose=p}if(s.loose)for(let h=0;h<s.items.length;h++)s.items[h].loose=!0;return s}}html(t){const e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){const e=this.rules.block.def.exec(t);if(e){const i=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:i,raw:e[0],href:r,title:s}}}table(t){const e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;const i=Ak(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:e[0],header:[],align:[],rows:[]};if(i.length===r.length){for(const o of r)this.rules.other.tableAlignRight.test(o)?a.align.push("right"):this.rules.other.tableAlignCenter.test(o)?a.align.push("center"):this.rules.other.tableAlignLeft.test(o)?a.align.push("left"):a.align.push(null);for(let o=0;o<i.length;o++)a.header.push({text:i[o],tokens:this.lexer.inline(i[o]),header:!0,align:a.align[o]});for(const o of s)a.rows.push(Ak(o,a.header.length).map((l,h)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:a.align[h]})));return a}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const i=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:i,tokens:this.lexer.inline(i)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const i=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;const a=Ly(i.slice(0,-1),"\\");if((i.length-a.length)%2===0)return}else{const a=Zse(e[2],"()");if(a===-2)return;if(a>-1){const l=(e[0].indexOf("!")===0?5:4)+e[1].length+a;e[2]=e[2].substring(0,a),e[0]=e[0].substring(0,l).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(r);a&&(r=a[1],s=a[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?r=r.slice(1):r=r.slice(1,-1)),Rk(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){const r=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){const a=i[0].charAt(0);return{type:"text",raw:a,text:a}}return Rk(i,s,i[0],this.lexer,this.rules)}}emStrong(t,e,i=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!r||r[3]&&i.match(this.rules.other.unicodeAlphaNumeric))return;if(!(r[1]||r[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const a=[...r[0]].length-1;let o,l,h=a,d=0;const p=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(p.lastIndex=0,e=e.slice(-1*t.length+a);(r=p.exec(e))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(l=[...o].length,r[3]||r[4]){h+=l;continue}else if((r[5]||r[6])&&a%3&&!((a+l)%3)){d+=l;continue}if(h-=l,h>0)continue;l=Math.min(l,l+h+d);const g=[...r[0]][0].length,v=t.slice(0,a+r.index+g+l);if(Math.min(a,l)%2){const j=v.slice(1,-1);return{type:"em",raw:v,text:j,tokens:this.lexer.inlineTokens(j)}}const _=v.slice(2,-2);return{type:"strong",raw:v,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let i=e[2].replace(this.rules.other.newLineCharGlobal," ");const r=this.rules.other.nonSpaceChar.test(i),s=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return r&&s&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:e[0],text:i}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){const e=this.rules.inline.autolink.exec(t);if(e){let i,r;return e[2]==="@"?(i=e[1],r="mailto:"+i):(i=e[1],r=i),{type:"link",raw:e[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let i,r;if(e[2]==="@")i=e[0],r="mailto:"+i;else{let s;do s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(s!==e[0]);i=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(t){const e=this.rules.inline.text.exec(t);if(e){const i=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:i}}}},Ch=class FM{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||dp,this.options.tokenizer=this.options.tokenizer||new OS,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={other:fa,block:jb.normal,inline:Ry.normal};this.options.pedantic?(i.block=jb.pedantic,i.inline=Ry.pedantic):this.options.gfm&&(i.block=jb.gfm,this.options.breaks?i.inline=Ry.breaks:i.inline=Ry.gfm),this.tokenizer.rules=i}static get rules(){return{block:jb,inline:Ry}}static lex(e,i){return new FM(i).lex(e)}static lexInline(e,i){return new FM(i).inlineTokens(e)}lex(e){e=e.replace(fa.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const r=this.inlineQueue[i];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],r=!1){for(this.options.pedantic&&(e=e.replace(fa.tabCharGlobal,"    ").replace(fa.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},e,i))?(e=e.substring(s.raw.length),i.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);const o=i.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:i.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);const o=i.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):i.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);const o=i.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title});continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),i.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),i.push(s);continue}let a=e;if(this.options.extensions?.startBlock){let o=1/0;const l=e.slice(1);let h;this.options.extensions.startBlock.forEach(d=>{h=d.call({lexer:this},l),typeof h=="number"&&h>=0&&(o=Math.min(o,h))}),o<1/0&&o>=0&&(a=e.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(a))){const o=i.at(-1);r&&o?.type==="paragraph"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):i.push(s),r=a.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);const o=i.at(-1);o?.type==="text"?(o.raw+=`
`+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):i.push(s);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){let r=e,s=null;if(this.tokens.links){const l=Object.keys(this.tokens.links);if(l.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)l.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let a=!1,o="";for(;e;){a||(o=""),a=!1;let l;if(this.options.extensions?.inline?.some(d=>(l=d.call({lexer:this},e,i))?(e=e.substring(l.raw.length),i.push(l),!0):!1))continue;if(l=this.tokenizer.escape(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.tag(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.link(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(l.raw.length);const d=i.at(-1);l.type==="text"&&d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):i.push(l);continue}if(l=this.tokenizer.emStrong(e,r,o)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.codespan(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.br(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.del(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.autolink(e)){e=e.substring(l.raw.length),i.push(l);continue}if(!this.state.inLink&&(l=this.tokenizer.url(e))){e=e.substring(l.raw.length),i.push(l);continue}let h=e;if(this.options.extensions?.startInline){let d=1/0;const p=e.slice(1);let g;this.options.extensions.startInline.forEach(v=>{g=v.call({lexer:this},p),typeof g=="number"&&g>=0&&(d=Math.min(d,g))}),d<1/0&&d>=0&&(h=e.substring(0,d+1))}if(l=this.tokenizer.inlineText(h)){e=e.substring(l.raw.length),l.raw.slice(-1)!=="_"&&(o=l.raw.slice(-1)),a=!0;const d=i.at(-1);d?.type==="text"?(d.raw+=l.raw,d.text+=l.text):i.push(l);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return i}},BS=class{options;parser;constructor(t){this.options=t||dp}space(t){return""}code({text:t,lang:e,escaped:i}){const r=(e||"").match(fa.notSpaceStart)?.[0],s=t.replace(fa.endingNewline,"")+`
`;return r?'<pre><code class="language-'+Sc(r)+'">'+(i?s:Sc(s,!0))+`</code></pre>
`:"<pre><code>"+(i?s:Sc(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){const e=t.ordered,i=t.start;let r="";for(let o=0;o<t.items.length;o++){const l=t.items[o];r+=this.listitem(l)}const s=e?"ol":"ul",a=e&&i!==1?' start="'+i+'"':"";return"<"+s+a+`>
`+r+"</"+s+`>
`}listitem(t){let e="";if(t.task){const i=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+Sc(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):e+=i+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",i="";for(let s=0;s<t.header.length;s++)i+=this.tablecell(t.header[s]);e+=this.tablerow({text:i});let r="";for(let s=0;s<t.rows.length;s++){const a=t.rows[s];i="";for(let o=0;o<a.length;o++)i+=this.tablecell(a[o]);r+=this.tablerow({text:i})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const e=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+e+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${Sc(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:i}){const r=this.parser.parseInline(i),s=Ek(t);if(s===null)return r;t=s;let a='<a href="'+t+'"';return e&&(a+=' title="'+Sc(e)+'"'),a+=">"+r+"</a>",a}image({href:t,title:e,text:i,tokens:r}){r&&(i=this.parser.parseInline(r,this.parser.textRenderer));const s=Ek(t);if(s===null)return Sc(i);t=s;let a=`<img src="${t}" alt="${i}"`;return e&&(a+=` title="${Sc(e)}"`),a+=">",a}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:Sc(t.text)}},PA=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Mh=class UM{options;renderer;textRenderer;constructor(e){this.options=e||dp,this.options.renderer=this.options.renderer||new BS,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new PA}static parse(e,i){return new UM(i).parse(e)}static parseInline(e,i){return new UM(i).parseInline(e)}parse(e,i=!0){let r="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions?.renderers?.[a.type]){const l=a,h=this.options.extensions.renderers[l.type].call({parser:this},l);if(h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(l.type)){r+=h||"";continue}}const o=a;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let l=o,h=this.renderer.text(l);for(;s+1<e.length&&e[s+1].type==="text";)l=e[++s],h+=`
`+this.renderer.text(l);i?r+=this.renderer.paragraph({type:"paragraph",raw:h,text:h,tokens:[{type:"text",raw:h,text:h,escaped:!0}]}):r+=h;continue}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}parseInline(e,i=this.renderer){let r="";for(let s=0;s<e.length;s++){const a=e[s];if(this.options.extensions?.renderers?.[a.type]){const l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type)){r+=l||"";continue}}const o=a;switch(o.type){case"escape":{r+=i.text(o);break}case"html":{r+=i.html(o);break}case"link":{r+=i.link(o);break}case"image":{r+=i.image(o);break}case"strong":{r+=i.strong(o);break}case"em":{r+=i.em(o);break}case"codespan":{r+=i.codespan(o);break}case"br":{r+=i.br(o);break}case"del":{r+=i.del(o);break}case"text":{r+=i.text(o);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(l),"";throw new Error(l)}}}return r}},Nj=class{options;block;constructor(t){this.options=t||dp}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?Ch.lex:Ch.lexInline}provideParser(){return this.block?Mh.parse:Mh.parseInline}},Jse=class{defaults=MA();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Mh;Renderer=BS;TextRenderer=PA;Lexer=Ch;Tokenizer=OS;Hooks=Nj;constructor(...t){this.use(...t)}walkTokens(t,e){let i=[];for(const r of t)switch(i=i.concat(e.call(this,r)),r.type){case"table":{const s=r;for(const a of s.header)i=i.concat(this.walkTokens(a.tokens,e));for(const a of s.rows)for(const o of a)i=i.concat(this.walkTokens(o.tokens,e));break}case"list":{const s=r;i=i.concat(this.walkTokens(s.items,e));break}default:{const s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(a=>{const o=s[a].flat(1/0);i=i.concat(this.walkTokens(o,e))}):s.tokens&&(i=i.concat(this.walkTokens(s.tokens,e)))}}return i}use(...t){const e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{const r={...i};if(r.async=this.defaults.async||r.async||!1,i.extensions&&(i.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const a=e.renderers[s.name];a?e.renderers[s.name]=function(...o){let l=s.renderer.apply(this,o);return l===!1&&(l=a.apply(this,o)),l}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=e[s.level];a?a.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),i.renderer){const s=this.defaults.renderer||new BS(this.defaults);for(const a in i.renderer){if(!(a in s))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const o=a,l=i.renderer[o],h=s[o];s[o]=(...d)=>{let p=l.apply(s,d);return p===!1&&(p=h.apply(s,d)),p||""}}r.renderer=s}if(i.tokenizer){const s=this.defaults.tokenizer||new OS(this.defaults);for(const a in i.tokenizer){if(!(a in s))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const o=a,l=i.tokenizer[o],h=s[o];s[o]=(...d)=>{let p=l.apply(s,d);return p===!1&&(p=h.apply(s,d)),p}}r.tokenizer=s}if(i.hooks){const s=this.defaults.hooks||new Nj;for(const a in i.hooks){if(!(a in s))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const o=a,l=i.hooks[o],h=s[o];Nj.passThroughHooks.has(a)?s[o]=d=>{if(this.defaults.async)return Promise.resolve(l.call(s,d)).then(g=>h.call(s,g));const p=l.call(s,d);return h.call(s,p)}:s[o]=(...d)=>{let p=l.apply(s,d);return p===!1&&(p=h.apply(s,d)),p}}r.hooks=s}if(i.walkTokens){const s=this.defaults.walkTokens,a=i.walkTokens;r.walkTokens=function(o){let l=[];return l.push(a.call(this,o)),s&&(l=l.concat(s.call(this,o))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Ch.lex(t,e??this.defaults)}parser(t,e){return Mh.parse(t,e??this.defaults)}parseMarkdown(t){return(i,r)=>{const s={...r},a={...this.defaults,...s},o=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&s.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=t);const l=a.hooks?a.hooks.provideLexer():t?Ch.lex:Ch.lexInline,h=a.hooks?a.hooks.provideParser():t?Mh.parse:Mh.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(i):i).then(d=>l(d,a)).then(d=>a.hooks?a.hooks.processAllTokens(d):d).then(d=>a.walkTokens?Promise.all(this.walkTokens(d,a.walkTokens)).then(()=>d):d).then(d=>h(d,a)).then(d=>a.hooks?a.hooks.postprocess(d):d).catch(o);try{a.hooks&&(i=a.hooks.preprocess(i));let d=l(i,a);a.hooks&&(d=a.hooks.processAllTokens(d)),a.walkTokens&&this.walkTokens(d,a.walkTokens);let p=h(d,a);return a.hooks&&(p=a.hooks.postprocess(p)),p}catch(d){return o(d)}}}onError(t,e){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+Sc(i.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(i);throw i}}},tp=new Jse;function di(t,e){return tp.parse(t,e)}di.options=di.setOptions=function(t){return tp.setOptions(t),di.defaults=tp.defaults,m5(di.defaults),di};di.getDefaults=MA;di.defaults=dp;di.use=function(...t){return tp.use(...t),di.defaults=tp.defaults,m5(di.defaults),di};di.walkTokens=function(t,e){return tp.walkTokens(t,e)};di.parseInline=tp.parseInline;di.Parser=Mh;di.parser=Mh.parse;di.Renderer=BS;di.TextRenderer=PA;di.Lexer=Ch;di.lexer=Ch.lex;di.Tokenizer=OS;di.Hooks=Nj;di.parse=di;di.options;di.setOptions;di.use;di.walkTokens;di.parseInline;Mh.parse;Ch.lex;function C5(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var s=r.reduce(function(l,h){var d=h.match(/\n([\t ]+|(?!\s).)/g);return d?l.concat(d.map(function(p){var g,v;return(v=(g=p.match(/[\t ]/g))===null||g===void 0?void 0:g.length)!==null&&v!==void 0?v:0})):l},[]);if(s.length){var a=new RegExp(`
[	 ]{`+Math.min.apply(Math,s)+"}","g");r=r.map(function(l){return l.replace(a,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];return e.forEach(function(l,h){var d=o.match(/(?:^|\n)( *)$/),p=d?d[1]:"",g=l;typeof l=="string"&&l.includes(`
`)&&(g=String(l).split(`
`).map(function(v,_){return _===0?v:""+p+v}).join(`
`)),o+=g+r[h+1]}),o}var eae={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},zM=new Map,M5=new Map,tae=F(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(nt.debug("Registering icon pack:",e.name),"loader"in e)M5.set(e.name,e.loader);else if("icons"in e)zM.set(e.name,e.icons);else throw nt.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),E5=F(async(t,e)=>{const i=nse(t,!0,e!==void 0);if(!i)throw new Error(`Invalid icon name: ${t}`);const r=i.prefix||e;if(!r)throw new Error(`Icon name must contain a prefix: ${t}`);let s=zM.get(r);if(!s){const o=M5.get(r);if(!o)throw new Error(`Icon set not found: ${i.prefix}`);try{s={...await o(),prefix:r},zM.set(r,s)}catch(l){throw nt.error(l),new Error(`Failed to load icon set: ${i.prefix}`)}}const a=sse(s,i.name);if(!a)throw new Error(`Icon not found: ${t}`);return a},"getRegisteredIconData"),nae=F(async t=>{try{return await E5(t),!0}catch{return!1}},"isIconAvailable"),jv=F(async(t,e,i)=>{let r;try{r=await E5(t,e?.fallbackPrefix)}catch(o){nt.error(o),r=eae}const s=dse(r,e);return xse(gse(s.body),{...s.attributes,...i})},"getIconSVG");function A5(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),s=C5(r);return e===!1?s.replace(/ /g,"&nbsp;"):s}F(A5,"preprocessMarkdown");function R5(t,e={}){const i=A5(t,e),r=di.lexer(i),s=[[]];let a=0;function o(l,h="normal"){l.type==="text"?l.text.split(`
`).forEach((p,g)=>{g!==0&&(a++,s.push([])),p.split(" ").forEach(v=>{v=v.replace(/&#39;/g,"'"),v&&s[a].push({content:v,type:h})})}):l.type==="strong"||l.type==="em"?l.tokens.forEach(d=>{o(d,l.type)}):l.type==="html"&&s[a].push({content:l.text,type:"normal"})}return F(o,"processNode"),r.forEach(l=>{l.type==="paragraph"?l.tokens?.forEach(h=>{o(h)}):l.type==="html"&&s[a].push({content:l.text,type:"normal"})}),s}F(R5,"markdownToLines");function L5(t,{markdownAutoWrap:e}={}){const i=di.lexer(t);function r(s){return s.type==="text"?e===!1?s.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):s.text.replace(/\n */g,"<br/>"):s.type==="strong"?`<strong>${s.tokens?.map(r).join("")}</strong>`:s.type==="em"?`<em>${s.tokens?.map(r).join("")}</em>`:s.type==="paragraph"?`<p>${s.tokens?.map(r).join("")}</p>`:s.type==="space"?"":s.type==="html"?`${s.text}`:s.type==="escape"?s.text:`Unsupported markdown: ${s.type}`}return F(r,"output"),i.map(r).join("")}F(L5,"markdownToHTML");function D5(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}F(D5,"splitTextToChars");function k5(t,e){const i=D5(e.content);return OA(t,[],i,e.type)}F(k5,"splitWordToFitWidth");function OA(t,e,i,r){if(i.length===0)return[{content:e.join(""),type:r},{content:"",type:r}];const[s,...a]=i,o=[...e,s];return t([{content:o.join(""),type:r}])?OA(t,o,a,r):(e.length===0&&s&&(e.push(s),i.shift()),[{content:e.join(""),type:r},{content:i.join(""),type:r}])}F(OA,"splitWordToFitWidthRecursion");function N5(t,e){if(t.some(({content:i})=>i.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return IS(t,e)}F(N5,"splitLineToFitWidth");function IS(t,e,i=[],r=[]){if(t.length===0)return r.length>0&&i.push(r),i.length>0?i:[];let s="";t[0].content===" "&&(s=" ",t.shift());const a=t.shift()??{content:" ",type:"normal"},o=[...r];if(s!==""&&o.push({content:s,type:"normal"}),o.push(a),e(o))return IS(t,e,i,o);if(r.length>0)i.push(r),t.unshift(a);else if(a.content){const[l,h]=k5(e,a);i.push([l]),h.content&&t.unshift(h)}return IS(t,e,i)}F(IS,"splitLineToFitWidthRecursion");function HM(t,e){e&&t.attr("style",e)}F(HM,"applyStyle");async function P5(t,e,i,r,s=!1){const a=t.append("foreignObject");a.attr("width",`${10*i}px`),a.attr("height",`${10*i}px`);const o=a.append("xhtml:div");let l=e.label;e.label&&Sg(e.label)&&(l=await qE(e.label.replace(qg.lineBreakRegex,`
`),ci()));const h=e.isNode?"nodeLabel":"edgeLabel",d=o.append("span");d.html(l),HM(d,e.labelStyle),d.attr("class",`${h} ${r}`),HM(o,e.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",i+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),s&&o.attr("class","labelBkg");let p=o.node().getBoundingClientRect();return p.width===i&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",i+"px"),p=o.node().getBoundingClientRect()),a.node()}F(P5,"addHtmlSpan");function uw(t,e,i){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*i-.1+"em").attr("dy",i+"em")}F(uw,"createTspan");function O5(t,e,i){const r=t.append("text"),s=uw(r,1,e);dw(s,i);const a=s.node().getComputedTextLength();return r.remove(),a}F(O5,"computeWidthOfText");function iae(t,e,i){const r=t.append("text"),s=uw(r,1,e);dw(s,[{content:i,type:"normal"}]);const a=s.node()?.getBoundingClientRect();return a&&r.remove(),a}F(iae,"computeDimensionOfText");function B5(t,e,i,r=!1){const a=e.append("g"),o=a.insert("rect").attr("class","background").attr("style","stroke: none"),l=a.append("text").attr("y","-10.1");let h=0;for(const d of i){const p=F(v=>O5(a,1.1,v)<=t,"checkWidth"),g=p(d)?[d]:N5(d,p);for(const v of g){const _=uw(l,h,1.1);dw(_,v),h++}}if(r){const d=l.node().getBBox(),p=2;return o.attr("x",d.x-p).attr("y",d.y-p).attr("width",d.width+2*p).attr("height",d.height+2*p),a.node()}else return l.node()}F(B5,"createFormattedText");function dw(t,e){t.text(""),e.forEach((i,r)=>{const s=t.append("tspan").attr("font-style",i.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",i.type==="strong"?"bold":"normal");r===0?s.text(i.content):s.text(" "+i.content)})}F(dw,"updateTextContentAndStyles");async function I5(t){const e=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(r,s,a)=>(e.push((async()=>{const o=`${s}:${a}`;return await nae(o)?await jv(o,void 0,{class:"label-icon"}):`<i class='${Y1(r).replace(":"," ")}'></i>`})()),r));const i=await Promise.all(e);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>i.shift()??"")}F(I5,"replaceIconSubstring");var dd=F(async(t,e="",{style:i="",isTitle:r=!1,classes:s="",useHtmlLabels:a=!0,isNode:o=!0,width:l=200,addSvgBackground:h=!1}={},d)=>{if(nt.debug("XYZ createText",e,i,r,s,a,o,"addSvgBackground: ",h),a){const p=L5(e,d),g=await I5(up(p)),v=e.replace(/\\\\/g,"\\"),_={isNode:o,label:Sg(e)?v:g,labelStyle:i.replace("fill:","color:")};return await P5(t,_,l,s,h)}else{const p=e.replace(/<br\s*\/?>/g,"<br/>"),g=R5(p.replace("<br>","<br/>"),d),v=B5(l,t,g,e?h:!1);if(o){/stroke:/.exec(i)&&(i=i.replace("stroke:","lineColor:"));const _=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Kn(v).attr("style",_)}else{const _=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Kn(v).select("rect").attr("style",_.replace(/background:/g,"fill:"));const j=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Kn(v).select("text").attr("style",j)}return v}},"createText");function S2(t,e,i){if(t&&t.length){const[r,s]=e,a=Math.PI/180*i,o=Math.cos(a),l=Math.sin(a);for(const h of t){const[d,p]=h;h[0]=(d-r)*o-(p-s)*l+r,h[1]=(d-r)*l+(p-s)*o+s}}}function rae(t,e){return t[0]===e[0]&&t[1]===e[1]}function sae(t,e,i,r=1){const s=i,a=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,l=[0,0];if(s)for(const d of o)S2(d,l,s);const h=function(d,p,g){const v=[];for(const A of d){const L=[...A];rae(L[0],L[L.length-1])||L.push([L[0][0],L[0][1]]),L.length>2&&v.push(L)}const _=[];p=Math.max(p,.1);const j=[];for(const A of v)for(let L=0;L<A.length-1;L++){const k=A[L],I=A[L+1];if(k[1]!==I[1]){const z=Math.min(k[1],I[1]);j.push({ymin:z,ymax:Math.max(k[1],I[1]),x:z===k[1]?k[0]:I[0],islope:(I[0]-k[0])/(I[1]-k[1])})}}if(j.sort((A,L)=>A.ymin<L.ymin?-1:A.ymin>L.ymin?1:A.x<L.x?-1:A.x>L.x?1:A.ymax===L.ymax?0:(A.ymax-L.ymax)/Math.abs(A.ymax-L.ymax)),!j.length)return _;let T=[],C=j[0].ymin,w=0;for(;T.length||j.length;){if(j.length){let A=-1;for(let L=0;L<j.length&&!(j[L].ymin>C);L++)A=L;j.splice(0,A+1).forEach(L=>{T.push({s:C,edge:L})})}if(T=T.filter(A=>!(A.edge.ymax<=C)),T.sort((A,L)=>A.edge.x===L.edge.x?0:(A.edge.x-L.edge.x)/Math.abs(A.edge.x-L.edge.x)),(g!==1||w%p==0)&&T.length>1)for(let A=0;A<T.length;A+=2){const L=A+1;if(L>=T.length)break;const k=T[A].edge,I=T[L].edge;_.push([[Math.round(k.x),C],[Math.round(I.x),C]])}C+=g,T.forEach(A=>{A.edge.x=A.edge.x+g*A.edge.islope}),w++}return _}(o,a,r);if(s){for(const d of o)S2(d,l,-s);(function(d,p,g){const v=[];d.forEach(_=>v.push(..._)),S2(v,p,g)})(h,l,-s)}return h}function Sv(t,e){var i;const r=e.hachureAngle+90;let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.round(Math.max(s,.1));let a=1;return e.roughness>=1&&(((i=e.randomizer)===null||i===void 0?void 0:i.next())||Math.random())>.7&&(a=s),sae(t,s,r,a||1)}class BA{constructor(e){this.helper=e}fillPolygons(e,i){return this._fillPolygons(e,i)}_fillPolygons(e,i){const r=Sv(e,i);return{type:"fillSketch",ops:this.renderLines(r,i)}}renderLines(e,i){const r=[];for(const s of e)r.push(...this.helper.doubleLineOps(s[0][0],s[0][1],s[1][0],s[1][1],i));return r}}function fw(t){const e=t[0],i=t[1];return Math.sqrt(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2))}let aae=class extends BA{fillPolygons(e,i){let r=i.hachureGap;r<0&&(r=4*i.strokeWidth),r=Math.max(r,.1);const s=Sv(e,Object.assign({},i,{hachureGap:r})),a=Math.PI/180*i.hachureAngle,o=[],l=.5*r*Math.cos(a),h=.5*r*Math.sin(a);for(const[d,p]of s)fw([d,p])&&o.push([[d[0]-l,d[1]+h],[...p]],[[d[0]+l,d[1]-h],[...p]]);return{type:"fillSketch",ops:this.renderLines(o,i)}}};class oae extends BA{fillPolygons(e,i){const r=this._fillPolygons(e,i),s=Object.assign({},i,{hachureAngle:i.hachureAngle+90}),a=this._fillPolygons(e,s);return r.ops=r.ops.concat(a.ops),r}}let lae=class{constructor(e){this.helper=e}fillPolygons(e,i){const r=Sv(e,i=Object.assign({},i,{hachureAngle:0}));return this.dotsOnLines(r,i)}dotsOnLines(e,i){const r=[];let s=i.hachureGap;s<0&&(s=4*i.strokeWidth),s=Math.max(s,.1);let a=i.fillWeight;a<0&&(a=i.strokeWidth/2);const o=s/4;for(const l of e){const h=fw(l),d=h/s,p=Math.ceil(d)-1,g=h-p*s,v=(l[0][0]+l[1][0])/2-s/4,_=Math.min(l[0][1],l[1][1]);for(let j=0;j<p;j++){const T=_+g+j*s,C=v-o+2*Math.random()*o,w=T-o+2*Math.random()*o,A=this.helper.ellipse(C,w,a,a,i);r.push(...A.ops)}}return{type:"fillSketch",ops:r}}},cae=class{constructor(e){this.helper=e}fillPolygons(e,i){const r=Sv(e,i);return{type:"fillSketch",ops:this.dashedLine(r,i)}}dashedLine(e,i){const r=i.dashOffset<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashOffset,s=i.dashGap<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashGap,a=[];return e.forEach(o=>{const l=fw(o),h=Math.floor(l/(r+s)),d=(l+s-h*(r+s))/2;let p=o[0],g=o[1];p[0]>g[0]&&(p=o[1],g=o[0]);const v=Math.atan((g[1]-p[1])/(g[0]-p[0]));for(let _=0;_<h;_++){const j=_*(r+s),T=j+r,C=[p[0]+j*Math.cos(v)+d*Math.cos(v),p[1]+j*Math.sin(v)+d*Math.sin(v)],w=[p[0]+T*Math.cos(v)+d*Math.cos(v),p[1]+T*Math.sin(v)+d*Math.sin(v)];a.push(...this.helper.doubleLineOps(C[0],C[1],w[0],w[1],i))}}),a}},hae=class{constructor(e){this.helper=e}fillPolygons(e,i){const r=i.hachureGap<0?4*i.strokeWidth:i.hachureGap,s=i.zigzagOffset<0?r:i.zigzagOffset,a=Sv(e,i=Object.assign({},i,{hachureGap:r+s}));return{type:"fillSketch",ops:this.zigzagLines(a,s,i)}}zigzagLines(e,i,r){const s=[];return e.forEach(a=>{const o=fw(a),l=Math.round(o/(2*i));let h=a[0],d=a[1];h[0]>d[0]&&(h=a[1],d=a[0]);const p=Math.atan((d[1]-h[1])/(d[0]-h[0]));for(let g=0;g<l;g++){const v=2*g*i,_=2*(g+1)*i,j=Math.sqrt(2*Math.pow(i,2)),T=[h[0]+v*Math.cos(p),h[1]+v*Math.sin(p)],C=[h[0]+_*Math.cos(p),h[1]+_*Math.sin(p)],w=[T[0]+j*Math.cos(p+Math.PI/4),T[1]+j*Math.sin(p+Math.PI/4)];s.push(...this.helper.doubleLineOps(T[0],T[1],w[0],w[1],r),...this.helper.doubleLineOps(w[0],w[1],C[0],C[1],r))}}),s}};const ka={};let uae=class{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}};const dae=0,w2=1,Lk=2,Sb={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function T2(t,e){return t.type===e}function IA(t){const e=[],i=function(o){const l=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))l[l.length]={type:dae,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];l[l.length]={type:w2,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return l[l.length]={type:Lk,text:""},l}(t);let r="BOD",s=0,a=i[s];for(;!T2(a,Lk);){let o=0;const l=[];if(r==="BOD"){if(a.text!=="M"&&a.text!=="m")return IA("M0,0"+t);s++,o=Sb[a.text],r=a.text}else T2(a,w2)?o=Sb[r]:(s++,o=Sb[a.text],r=a.text);if(!(s+o<i.length))throw new Error("Path data ended short");for(let h=s;h<s+o;h++){const d=i[h];if(!T2(d,w2))throw new Error("Param not a number: "+r+","+d.text);l[l.length]=+d.text}if(typeof Sb[r]!="number")throw new Error("Bad segment: "+r);{const h={key:r,data:l};e.push(h),s+=o,a=i[s],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function F5(t){let e=0,i=0,r=0,s=0;const a=[];for(const{key:o,data:l}of t)switch(o){case"M":a.push({key:"M",data:[...l]}),[e,i]=l,[r,s]=l;break;case"m":e+=l[0],i+=l[1],a.push({key:"M",data:[e,i]}),r=e,s=i;break;case"L":a.push({key:"L",data:[...l]}),[e,i]=l;break;case"l":e+=l[0],i+=l[1],a.push({key:"L",data:[e,i]});break;case"C":a.push({key:"C",data:[...l]}),e=l[4],i=l[5];break;case"c":{const h=l.map((d,p)=>p%2?d+i:d+e);a.push({key:"C",data:h}),e=h[4],i=h[5];break}case"Q":a.push({key:"Q",data:[...l]}),e=l[2],i=l[3];break;case"q":{const h=l.map((d,p)=>p%2?d+i:d+e);a.push({key:"Q",data:h}),e=h[2],i=h[3];break}case"A":a.push({key:"A",data:[...l]}),e=l[5],i=l[6];break;case"a":e+=l[5],i+=l[6],a.push({key:"A",data:[l[0],l[1],l[2],l[3],l[4],e,i]});break;case"H":a.push({key:"H",data:[...l]}),e=l[0];break;case"h":e+=l[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...l]}),i=l[0];break;case"v":i+=l[0],a.push({key:"V",data:[i]});break;case"S":a.push({key:"S",data:[...l]}),e=l[2],i=l[3];break;case"s":{const h=l.map((d,p)=>p%2?d+i:d+e);a.push({key:"S",data:h}),e=h[2],i=h[3];break}case"T":a.push({key:"T",data:[...l]}),e=l[0],i=l[1];break;case"t":e+=l[0],i+=l[1],a.push({key:"T",data:[e,i]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=r,i=s}return a}function U5(t){const e=[];let i="",r=0,s=0,a=0,o=0,l=0,h=0;for(const{key:d,data:p}of t){switch(d){case"M":e.push({key:"M",data:[...p]}),[r,s]=p,[a,o]=p;break;case"C":e.push({key:"C",data:[...p]}),r=p[4],s=p[5],l=p[2],h=p[3];break;case"L":e.push({key:"L",data:[...p]}),[r,s]=p;break;case"H":r=p[0],e.push({key:"L",data:[r,s]});break;case"V":s=p[0],e.push({key:"L",data:[r,s]});break;case"S":{let g=0,v=0;i==="C"||i==="S"?(g=r+(r-l),v=s+(s-h)):(g=r,v=s),e.push({key:"C",data:[g,v,...p]}),l=p[0],h=p[1],r=p[2],s=p[3];break}case"T":{const[g,v]=p;let _=0,j=0;i==="Q"||i==="T"?(_=r+(r-l),j=s+(s-h)):(_=r,j=s);const T=r+2*(_-r)/3,C=s+2*(j-s)/3,w=g+2*(_-g)/3,A=v+2*(j-v)/3;e.push({key:"C",data:[T,C,w,A,g,v]}),l=_,h=j,r=g,s=v;break}case"Q":{const[g,v,_,j]=p,T=r+2*(g-r)/3,C=s+2*(v-s)/3,w=_+2*(g-_)/3,A=j+2*(v-j)/3;e.push({key:"C",data:[T,C,w,A,_,j]}),l=g,h=v,r=_,s=j;break}case"A":{const g=Math.abs(p[0]),v=Math.abs(p[1]),_=p[2],j=p[3],T=p[4],C=p[5],w=p[6];g===0||v===0?(e.push({key:"C",data:[r,s,C,w,C,w]}),r=C,s=w):(r!==C||s!==w)&&(z5(r,s,C,w,g,v,_,j,T).forEach(function(A){e.push({key:"C",data:A})}),r=C,s=w);break}case"Z":e.push({key:"Z",data:[]}),r=a,s=o}i=d}return e}function Dy(t,e,i){return[t*Math.cos(i)-e*Math.sin(i),t*Math.sin(i)+e*Math.cos(i)]}function z5(t,e,i,r,s,a,o,l,h,d){const p=(g=o,Math.PI*g/180);var g;let v=[],_=0,j=0,T=0,C=0;if(d)[_,j,T,C]=d;else{[t,e]=Dy(t,e,-p),[i,r]=Dy(i,r,-p);const Q=(t-i)/2,K=(e-r)/2;let ee=Q*Q/(s*s)+K*K/(a*a);ee>1&&(ee=Math.sqrt(ee),s*=ee,a*=ee);const O=s*s,q=a*a,V=O*q-O*K*K-q*Q*Q,le=O*K*K+q*Q*Q,W=(l===h?-1:1)*Math.sqrt(Math.abs(V/le));T=W*s*K/a+(t+i)/2,C=W*-a*Q/s+(e+r)/2,_=Math.asin(parseFloat(((e-C)/a).toFixed(9))),j=Math.asin(parseFloat(((r-C)/a).toFixed(9))),t<T&&(_=Math.PI-_),i<T&&(j=Math.PI-j),_<0&&(_=2*Math.PI+_),j<0&&(j=2*Math.PI+j),h&&_>j&&(_-=2*Math.PI),!h&&j>_&&(j-=2*Math.PI)}let w=j-_;if(Math.abs(w)>120*Math.PI/180){const Q=j,K=i,ee=r;j=h&&j>_?_+120*Math.PI/180*1:_+120*Math.PI/180*-1,v=z5(i=T+s*Math.cos(j),r=C+a*Math.sin(j),K,ee,s,a,o,0,h,[j,Q,T,C])}w=j-_;const A=Math.cos(_),L=Math.sin(_),k=Math.cos(j),I=Math.sin(j),z=Math.tan(w/4),U=4/3*s*z,H=4/3*a*z,P=[t,e],N=[t+U*L,e-H*A],G=[i+U*I,r-H*k],te=[i,r];if(N[0]=2*P[0]-N[0],N[1]=2*P[1]-N[1],d)return[N,G,te].concat(v);{v=[N,G,te].concat(v);const Q=[];for(let K=0;K<v.length;K+=3){const ee=Dy(v[K][0],v[K][1],p),O=Dy(v[K+1][0],v[K+1][1],p),q=Dy(v[K+2][0],v[K+2][1],p);Q.push([ee[0],ee[1],O[0],O[1],q[0],q[1]])}return Q}}const fae={randOffset:function(t,e){return un(t,e)},randOffsetWithRange:function(t,e,i){return FS(t,e,i)},ellipse:function(t,e,i,r,s){const a=V5(i,r,s);return VM(t,e,s,a).opset},doubleLineOps:function(t,e,i,r,s){return sd(t,e,i,r,s,!0)}};function H5(t,e,i,r,s){return{type:"path",ops:sd(t,e,i,r,s)}}function Pj(t,e,i){const r=(t||[]).length;if(r>2){const s=[];for(let a=0;a<r-1;a++)s.push(...sd(t[a][0],t[a][1],t[a+1][0],t[a+1][1],i));return e&&s.push(...sd(t[r-1][0],t[r-1][1],t[0][0],t[0][1],i)),{type:"path",ops:s}}return r===2?H5(t[0][0],t[0][1],t[1][0],t[1][1],i):{type:"path",ops:[]}}function pae(t,e,i,r,s){return function(a,o){return Pj(a,!0,o)}([[t,e],[t+i,e],[t+i,e+r],[t,e+r]],s)}function Dk(t,e){if(t.length){const i=typeof t[0][0]=="number"?[t]:t,r=wb(i[0],1*(1+.2*e.roughness),e),s=e.disableMultiStroke?[]:wb(i[0],1.5*(1+.22*e.roughness),Pk(e));for(let a=1;a<i.length;a++){const o=i[a];if(o.length){const l=wb(o,1*(1+.2*e.roughness),e),h=e.disableMultiStroke?[]:wb(o,1.5*(1+.22*e.roughness),Pk(e));for(const d of l)d.op!=="move"&&r.push(d);for(const d of h)d.op!=="move"&&s.push(d)}}return{type:"path",ops:r.concat(s)}}return{type:"path",ops:[]}}function V5(t,e,i){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),s=Math.ceil(Math.max(i.curveStepCount,i.curveStepCount/Math.sqrt(200)*r)),a=2*Math.PI/s;let o=Math.abs(t/2),l=Math.abs(e/2);const h=1-i.curveFitting;return o+=un(o*h,i),l+=un(l*h,i),{increment:a,rx:o,ry:l}}function VM(t,e,i,r){const[s,a]=Ok(r.increment,t,e,r.rx,r.ry,1,r.increment*FS(.1,FS(.4,1,i),i),i);let o=US(s,null,i);if(!i.disableMultiStroke&&i.roughness!==0){const[l]=Ok(r.increment,t,e,r.rx,r.ry,1.5,0,i),h=US(l,null,i);o=o.concat(h)}return{estimatedPoints:a,opset:{type:"path",ops:o}}}function kk(t,e,i,r,s,a,o,l,h){const d=t,p=e;let g=Math.abs(i/2),v=Math.abs(r/2);g+=un(.01*g,h),v+=un(.01*v,h);let _=s,j=a;for(;_<0;)_+=2*Math.PI,j+=2*Math.PI;j-_>2*Math.PI&&(_=0,j=2*Math.PI);const T=2*Math.PI/h.curveStepCount,C=Math.min(T/2,(j-_)/2),w=Bk(C,d,p,g,v,_,j,1,h);if(!h.disableMultiStroke){const A=Bk(C,d,p,g,v,_,j,1.5,h);w.push(...A)}return o&&(l?w.push(...sd(d,p,d+g*Math.cos(_),p+v*Math.sin(_),h),...sd(d,p,d+g*Math.cos(j),p+v*Math.sin(j),h)):w.push({op:"lineTo",data:[d,p]},{op:"lineTo",data:[d+g*Math.cos(_),p+v*Math.sin(_)]})),{type:"path",ops:w}}function Nk(t,e){const i=U5(F5(IA(t))),r=[];let s=[0,0],a=[0,0];for(const{key:o,data:l}of i)switch(o){case"M":a=[l[0],l[1]],s=[l[0],l[1]];break;case"L":r.push(...sd(a[0],a[1],l[0],l[1],e)),a=[l[0],l[1]];break;case"C":{const[h,d,p,g,v,_]=l;r.push(...mae(h,d,p,g,v,_,a,e)),a=[v,_];break}case"Z":r.push(...sd(a[0],a[1],s[0],s[1],e)),a=[s[0],s[1]]}return{type:"path",ops:r}}function C2(t,e){const i=[];for(const r of t)if(r.length){const s=e.maxRandomnessOffset||0,a=r.length;if(a>2){i.push({op:"move",data:[r[0][0]+un(s,e),r[0][1]+un(s,e)]});for(let o=1;o<a;o++)i.push({op:"lineTo",data:[r[o][0]+un(s,e),r[o][1]+un(s,e)]})}}return{type:"fillPath",ops:i}}function vm(t,e){return function(i,r){let s=i.fillStyle||"hachure";if(!ka[s])switch(s){case"zigzag":ka[s]||(ka[s]=new aae(r));break;case"cross-hatch":ka[s]||(ka[s]=new oae(r));break;case"dots":ka[s]||(ka[s]=new lae(r));break;case"dashed":ka[s]||(ka[s]=new cae(r));break;case"zigzag-line":ka[s]||(ka[s]=new hae(r));break;default:s="hachure",ka[s]||(ka[s]=new BA(r))}return ka[s]}(e,fae).fillPolygons(t,e)}function Pk(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function G5(t){return t.randomizer||(t.randomizer=new uae(t.seed||0)),t.randomizer.next()}function FS(t,e,i,r=1){return i.roughness*r*(G5(i)*(e-t)+t)}function un(t,e,i=1){return FS(-t,t,e,i)}function sd(t,e,i,r,s,a=!1){const o=a?s.disableMultiStrokeFill:s.disableMultiStroke,l=GM(t,e,i,r,s,!0,!1);if(o)return l;const h=GM(t,e,i,r,s,!0,!0);return l.concat(h)}function GM(t,e,i,r,s,a,o){const l=Math.pow(t-i,2)+Math.pow(e-r,2),h=Math.sqrt(l);let d=1;d=h<200?1:h>500?.4:-.0016668*h+1.233334;let p=s.maxRandomnessOffset||0;p*p*100>l&&(p=h/10);const g=p/2,v=.2+.2*G5(s);let _=s.bowing*s.maxRandomnessOffset*(r-e)/200,j=s.bowing*s.maxRandomnessOffset*(t-i)/200;_=un(_,s,d),j=un(j,s,d);const T=[],C=()=>un(g,s,d),w=()=>un(p,s,d),A=s.preserveVertices;return o?T.push({op:"move",data:[t+(A?0:C()),e+(A?0:C())]}):T.push({op:"move",data:[t+(A?0:un(p,s,d)),e+(A?0:un(p,s,d))]}),o?T.push({op:"bcurveTo",data:[_+t+(i-t)*v+C(),j+e+(r-e)*v+C(),_+t+2*(i-t)*v+C(),j+e+2*(r-e)*v+C(),i+(A?0:C()),r+(A?0:C())]}):T.push({op:"bcurveTo",data:[_+t+(i-t)*v+w(),j+e+(r-e)*v+w(),_+t+2*(i-t)*v+w(),j+e+2*(r-e)*v+w(),i+(A?0:w()),r+(A?0:w())]}),T}function wb(t,e,i){if(!t.length)return[];const r=[];r.push([t[0][0]+un(e,i),t[0][1]+un(e,i)]),r.push([t[0][0]+un(e,i),t[0][1]+un(e,i)]);for(let s=1;s<t.length;s++)r.push([t[s][0]+un(e,i),t[s][1]+un(e,i)]),s===t.length-1&&r.push([t[s][0]+un(e,i),t[s][1]+un(e,i)]);return US(r,null,i)}function US(t,e,i){const r=t.length,s=[];if(r>3){const a=[],o=1-i.curveTightness;s.push({op:"move",data:[t[1][0],t[1][1]]});for(let l=1;l+2<r;l++){const h=t[l];a[0]=[h[0],h[1]],a[1]=[h[0]+(o*t[l+1][0]-o*t[l-1][0])/6,h[1]+(o*t[l+1][1]-o*t[l-1][1])/6],a[2]=[t[l+1][0]+(o*t[l][0]-o*t[l+2][0])/6,t[l+1][1]+(o*t[l][1]-o*t[l+2][1])/6],a[3]=[t[l+1][0],t[l+1][1]],s.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}}else r===3?(s.push({op:"move",data:[t[1][0],t[1][1]]}),s.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&s.push(...GM(t[0][0],t[0][1],t[1][0],t[1][1],i,!0,!0));return s}function Ok(t,e,i,r,s,a,o,l){const h=[],d=[];if(l.roughness===0){t/=4,d.push([e+r*Math.cos(-t),i+s*Math.sin(-t)]);for(let p=0;p<=2*Math.PI;p+=t){const g=[e+r*Math.cos(p),i+s*Math.sin(p)];h.push(g),d.push(g)}d.push([e+r*Math.cos(0),i+s*Math.sin(0)]),d.push([e+r*Math.cos(t),i+s*Math.sin(t)])}else{const p=un(.5,l)-Math.PI/2;d.push([un(a,l)+e+.9*r*Math.cos(p-t),un(a,l)+i+.9*s*Math.sin(p-t)]);const g=2*Math.PI+p-.01;for(let v=p;v<g;v+=t){const _=[un(a,l)+e+r*Math.cos(v),un(a,l)+i+s*Math.sin(v)];h.push(_),d.push(_)}d.push([un(a,l)+e+r*Math.cos(p+2*Math.PI+.5*o),un(a,l)+i+s*Math.sin(p+2*Math.PI+.5*o)]),d.push([un(a,l)+e+.98*r*Math.cos(p+o),un(a,l)+i+.98*s*Math.sin(p+o)]),d.push([un(a,l)+e+.9*r*Math.cos(p+.5*o),un(a,l)+i+.9*s*Math.sin(p+.5*o)])}return[d,h]}function Bk(t,e,i,r,s,a,o,l,h){const d=a+un(.1,h),p=[];p.push([un(l,h)+e+.9*r*Math.cos(d-t),un(l,h)+i+.9*s*Math.sin(d-t)]);for(let g=d;g<=o;g+=t)p.push([un(l,h)+e+r*Math.cos(g),un(l,h)+i+s*Math.sin(g)]);return p.push([e+r*Math.cos(o),i+s*Math.sin(o)]),p.push([e+r*Math.cos(o),i+s*Math.sin(o)]),US(p,null,h)}function mae(t,e,i,r,s,a,o,l){const h=[],d=[l.maxRandomnessOffset||1,(l.maxRandomnessOffset||1)+.3];let p=[0,0];const g=l.disableMultiStroke?1:2,v=l.preserveVertices;for(let _=0;_<g;_++)_===0?h.push({op:"move",data:[o[0],o[1]]}):h.push({op:"move",data:[o[0]+(v?0:un(d[0],l)),o[1]+(v?0:un(d[0],l))]}),p=v?[s,a]:[s+un(d[_],l),a+un(d[_],l)],h.push({op:"bcurveTo",data:[t+un(d[_],l),e+un(d[_],l),i+un(d[_],l),r+un(d[_],l),p[0],p[1]]});return h}function ky(t){return[...t]}function Ik(t,e=0){const i=t.length;if(i<3)throw new Error("A curve must have at least three points.");const r=[];if(i===3)r.push(ky(t[0]),ky(t[1]),ky(t[2]),ky(t[2]));else{const s=[];s.push(t[0],t[0]);for(let l=1;l<t.length;l++)s.push(t[l]),l===t.length-1&&s.push(t[l]);const a=[],o=1-e;r.push(ky(s[0]));for(let l=1;l+2<s.length;l++){const h=s[l];a[0]=[h[0],h[1]],a[1]=[h[0]+(o*s[l+1][0]-o*s[l-1][0])/6,h[1]+(o*s[l+1][1]-o*s[l-1][1])/6],a[2]=[s[l+1][0]+(o*s[l][0]-o*s[l+2][0])/6,s[l+1][1]+(o*s[l][1]-o*s[l+2][1])/6],a[3]=[s[l+1][0],s[l+1][1]],r.push(a[1],a[2],a[3])}}return r}function Oj(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function gae(t,e,i){const r=Oj(e,i);if(r===0)return Oj(t,e);let s=((t[0]-e[0])*(i[0]-e[0])+(t[1]-e[1])*(i[1]-e[1]))/r;return s=Math.max(0,Math.min(1,s)),Oj(t,Ef(e,i,s))}function Ef(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]}function $M(t,e,i,r){const s=r||[];if(function(l,h){const d=l[h+0],p=l[h+1],g=l[h+2],v=l[h+3];let _=3*p[0]-2*d[0]-v[0];_*=_;let j=3*p[1]-2*d[1]-v[1];j*=j;let T=3*g[0]-2*v[0]-d[0];T*=T;let C=3*g[1]-2*v[1]-d[1];return C*=C,_<T&&(_=T),j<C&&(j=C),_+j}(t,e)<i){const l=t[e+0];s.length?(a=s[s.length-1],o=l,Math.sqrt(Oj(a,o))>1&&s.push(l)):s.push(l),s.push(t[e+3])}else{const h=t[e+0],d=t[e+1],p=t[e+2],g=t[e+3],v=Ef(h,d,.5),_=Ef(d,p,.5),j=Ef(p,g,.5),T=Ef(v,_,.5),C=Ef(_,j,.5),w=Ef(T,C,.5);$M([h,v,T,w],0,i,s),$M([w,C,j,g],0,i,s)}var a,o;return s}function xae(t,e){return zS(t,0,t.length,e)}function zS(t,e,i,r,s){const a=s||[],o=t[e],l=t[i-1];let h=0,d=1;for(let p=e+1;p<i-1;++p){const g=gae(t[p],o,l);g>h&&(h=g,d=p)}return Math.sqrt(h)>r?(zS(t,e,d+1,r,a),zS(t,d,i,r,a)):(a.length||a.push(o),a.push(l)),a}function M2(t,e=.15,i){const r=[],s=(t.length-1)/3;for(let a=0;a<s;a++)$M(t,3*a,e,r);return i&&i>0?zS(r,0,r.length,i):r}const so="none";class HS{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,i,r){return{shape:e,sets:i||[],options:r||this.defaultOptions}}line(e,i,r,s,a){const o=this._o(a);return this._d("line",[H5(e,i,r,s,o)],o)}rectangle(e,i,r,s,a){const o=this._o(a),l=[],h=pae(e,i,r,s,o);if(o.fill){const d=[[e,i],[e+r,i],[e+r,i+s],[e,i+s]];o.fillStyle==="solid"?l.push(C2([d],o)):l.push(vm([d],o))}return o.stroke!==so&&l.push(h),this._d("rectangle",l,o)}ellipse(e,i,r,s,a){const o=this._o(a),l=[],h=V5(r,s,o),d=VM(e,i,o,h);if(o.fill)if(o.fillStyle==="solid"){const p=VM(e,i,o,h).opset;p.type="fillPath",l.push(p)}else l.push(vm([d.estimatedPoints],o));return o.stroke!==so&&l.push(d.opset),this._d("ellipse",l,o)}circle(e,i,r,s){const a=this.ellipse(e,i,r,r,s);return a.shape="circle",a}linearPath(e,i){const r=this._o(i);return this._d("linearPath",[Pj(e,!1,r)],r)}arc(e,i,r,s,a,o,l=!1,h){const d=this._o(h),p=[],g=kk(e,i,r,s,a,o,l,!0,d);if(l&&d.fill)if(d.fillStyle==="solid"){const v=Object.assign({},d);v.disableMultiStroke=!0;const _=kk(e,i,r,s,a,o,!0,!1,v);_.type="fillPath",p.push(_)}else p.push(function(v,_,j,T,C,w,A){const L=v,k=_;let I=Math.abs(j/2),z=Math.abs(T/2);I+=un(.01*I,A),z+=un(.01*z,A);let U=C,H=w;for(;U<0;)U+=2*Math.PI,H+=2*Math.PI;H-U>2*Math.PI&&(U=0,H=2*Math.PI);const P=(H-U)/A.curveStepCount,N=[];for(let G=U;G<=H;G+=P)N.push([L+I*Math.cos(G),k+z*Math.sin(G)]);return N.push([L+I*Math.cos(H),k+z*Math.sin(H)]),N.push([L,k]),vm([N],A)}(e,i,r,s,a,o,d));return d.stroke!==so&&p.push(g),this._d("arc",p,d)}curve(e,i){const r=this._o(i),s=[],a=Dk(e,r);if(r.fill&&r.fill!==so)if(r.fillStyle==="solid"){const o=Dk(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],l=e;if(l.length){const h=typeof l[0][0]=="number"?[l]:l;for(const d of h)d.length<3?o.push(...d):d.length===3?o.push(...M2(Ik([d[0],d[0],d[1],d[2]]),10,(1+r.roughness)/2)):o.push(...M2(Ik(d),10,(1+r.roughness)/2))}o.length&&s.push(vm([o],r))}return r.stroke!==so&&s.push(a),this._d("curve",s,r)}polygon(e,i){const r=this._o(i),s=[],a=Pj(e,!0,r);return r.fill&&(r.fillStyle==="solid"?s.push(C2([e],r)):s.push(vm([e],r))),r.stroke!==so&&s.push(a),this._d("polygon",s,r)}path(e,i){const r=this._o(i),s=[];if(!e)return this._d("path",s,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const a=r.fill&&r.fill!=="transparent"&&r.fill!==so,o=r.stroke!==so,l=!!(r.simplification&&r.simplification<1),h=function(p,g,v){const _=U5(F5(IA(p))),j=[];let T=[],C=[0,0],w=[];const A=()=>{w.length>=4&&T.push(...M2(w,g)),w=[]},L=()=>{A(),T.length&&(j.push(T),T=[])};for(const{key:I,data:z}of _)switch(I){case"M":L(),C=[z[0],z[1]],T.push(C);break;case"L":A(),T.push([z[0],z[1]]);break;case"C":if(!w.length){const U=T.length?T[T.length-1]:C;w.push([U[0],U[1]])}w.push([z[0],z[1]]),w.push([z[2],z[3]]),w.push([z[4],z[5]]);break;case"Z":A(),T.push([C[0],C[1]])}if(L(),!v)return j;const k=[];for(const I of j){const z=xae(I,v);z.length&&k.push(z)}return k}(e,1,l?4-4*(r.simplification||1):(1+r.roughness)/2),d=Nk(e,r);if(a)if(r.fillStyle==="solid")if(h.length===1){const p=Nk(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));s.push({type:"fillPath",ops:this._mergedShape(p.ops)})}else s.push(C2(h,r));else s.push(vm(h,r));return o&&(l?h.forEach(p=>{s.push(Pj(p,!1,r))}):s.push(d)),this._d("path",s,r)}opsToPath(e,i){let r="";for(const s of e.ops){const a=typeof i=="number"&&i>=0?s.data.map(o=>+o.toFixed(i)):s.data;switch(s.op){case"move":r+=`M${a[0]} ${a[1]} `;break;case"bcurveTo":r+=`C${a[0]} ${a[1]}, ${a[2]} ${a[3]}, ${a[4]} ${a[5]} `;break;case"lineTo":r+=`L${a[0]} ${a[1]} `}}return r.trim()}toPaths(e){const i=e.sets||[],r=e.options||this.defaultOptions,s=[];for(const a of i){let o=null;switch(a.type){case"path":o={d:this.opsToPath(a),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:so};break;case"fillPath":o={d:this.opsToPath(a),stroke:so,strokeWidth:0,fill:r.fill||so};break;case"fillSketch":o=this.fillSketch(a,r)}o&&s.push(o)}return s}fillSketch(e,i){let r=i.fillWeight;return r<0&&(r=i.strokeWidth/2),{d:this.opsToPath(e),stroke:i.fill||so,strokeWidth:r,fill:so}}_mergedShape(e){return e.filter((i,r)=>r===0||i.op!=="move")}}class yae{constructor(e,i){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new HS(i)}draw(e){const i=e.sets||[],r=e.options||this.getDefaultOptions(),s=this.ctx,a=e.options.fixedDecimalPlaceDigits;for(const o of i)switch(o.type){case"path":s.save(),s.strokeStyle=r.stroke==="none"?"transparent":r.stroke,s.lineWidth=r.strokeWidth,r.strokeLineDash&&s.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(s.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(s,o,a),s.restore();break;case"fillPath":{s.save(),s.fillStyle=r.fill||"";const l=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(s,o,a,l),s.restore();break}case"fillSketch":this.fillSketch(s,o,r)}}fillSketch(e,i,r){let s=r.fillWeight;s<0&&(s=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=s,this._drawToContext(e,i,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,i,r,s="nonzero"){e.beginPath();for(const a of i.ops){const o=typeof r=="number"&&r>=0?a.data.map(l=>+l.toFixed(r)):a.data;switch(a.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}i.type==="fillPath"?e.fill(s):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,i,r,s,a){const o=this.gen.line(e,i,r,s,a);return this.draw(o),o}rectangle(e,i,r,s,a){const o=this.gen.rectangle(e,i,r,s,a);return this.draw(o),o}ellipse(e,i,r,s,a){const o=this.gen.ellipse(e,i,r,s,a);return this.draw(o),o}circle(e,i,r,s){const a=this.gen.circle(e,i,r,s);return this.draw(a),a}linearPath(e,i){const r=this.gen.linearPath(e,i);return this.draw(r),r}polygon(e,i){const r=this.gen.polygon(e,i);return this.draw(r),r}arc(e,i,r,s,a,o,l=!1,h){const d=this.gen.arc(e,i,r,s,a,o,l,h);return this.draw(d),d}curve(e,i){const r=this.gen.curve(e,i);return this.draw(r),r}path(e,i){const r=this.gen.path(e,i);return this.draw(r),r}}const Tb="http://www.w3.org/2000/svg";class vae{constructor(e,i){this.svg=e,this.gen=new HS(i)}draw(e){const i=e.sets||[],r=e.options||this.getDefaultOptions(),s=this.svg.ownerDocument||window.document,a=s.createElementNS(Tb,"g"),o=e.options.fixedDecimalPlaceDigits;for(const l of i){let h=null;switch(l.type){case"path":h=s.createElementNS(Tb,"path"),h.setAttribute("d",this.opsToPath(l,o)),h.setAttribute("stroke",r.stroke),h.setAttribute("stroke-width",r.strokeWidth+""),h.setAttribute("fill","none"),r.strokeLineDash&&h.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&h.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":h=s.createElementNS(Tb,"path"),h.setAttribute("d",this.opsToPath(l,o)),h.setAttribute("stroke","none"),h.setAttribute("stroke-width","0"),h.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||h.setAttribute("fill-rule","evenodd");break;case"fillSketch":h=this.fillSketch(s,l,r)}h&&a.appendChild(h)}return a}fillSketch(e,i,r){let s=r.fillWeight;s<0&&(s=r.strokeWidth/2);const a=e.createElementNS(Tb,"path");return a.setAttribute("d",this.opsToPath(i,r.fixedDecimalPlaceDigits)),a.setAttribute("stroke",r.fill||""),a.setAttribute("stroke-width",s+""),a.setAttribute("fill","none"),r.fillLineDash&&a.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&a.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),a}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,i){return this.gen.opsToPath(e,i)}line(e,i,r,s,a){const o=this.gen.line(e,i,r,s,a);return this.draw(o)}rectangle(e,i,r,s,a){const o=this.gen.rectangle(e,i,r,s,a);return this.draw(o)}ellipse(e,i,r,s,a){const o=this.gen.ellipse(e,i,r,s,a);return this.draw(o)}circle(e,i,r,s){const a=this.gen.circle(e,i,r,s);return this.draw(a)}linearPath(e,i){const r=this.gen.linearPath(e,i);return this.draw(r)}polygon(e,i){const r=this.gen.polygon(e,i);return this.draw(r)}arc(e,i,r,s,a,o,l=!1,h){const d=this.gen.arc(e,i,r,s,a,o,l,h);return this.draw(d)}curve(e,i){const r=this.gen.curve(e,i);return this.draw(r)}path(e,i){const r=this.gen.path(e,i);return this.draw(r)}}var Vt={canvas:(t,e)=>new yae(t,e),svg:(t,e)=>new vae(t,e),generator:t=>new HS(t),newSeed:()=>HS.newSeed()},gn=F(async(t,e,i)=>{let r;const s=e.useHtmlLabels||Hr(ci()?.htmlLabels);i?r=i:r="node default";const a=t.insert("g").attr("class",r).attr("id",e.domId||e.id),o=a.insert("g").attr("class","label").attr("style",pa(e.labelStyle));let l;e.label===void 0?l="":l=typeof e.label=="string"?e.label:e.label[0];const h=await dd(o,Zf(up(l),ci()),{useHtmlLabels:s,width:e.width||ci().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let d=h.getBBox();const p=(e?.padding??0)/2;if(s){const g=h.children[0],v=Kn(h),_=g.getElementsByTagName("img");if(_){const j=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([..._].map(T=>new Promise(C=>{function w(){if(T.style.display="flex",T.style.flexDirection="column",j){const A=ci().fontSize?ci().fontSize:window.getComputedStyle(document.body).fontSize,L=5,[k=iU.fontSize]=lw(A),I=k*L+"px";T.style.minWidth=I,T.style.maxWidth=I}else T.style.width="100%";C(T)}F(w,"setupImage"),setTimeout(()=>{T.complete&&w()}),T.addEventListener("error",w),T.addEventListener("load",w)})))}d=g.getBoundingClientRect(),v.attr("width",d.width),v.attr("height",d.height)}return s?o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"):o.attr("transform","translate(0, "+-d.height/2+")"),e.centerLabel&&o.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:a,bbox:d,halfPadding:p,label:o}},"labelHelper"),E2=F(async(t,e,i)=>{const r=i.useHtmlLabels||Hr(ci()?.flowchart?.htmlLabels),s=t.insert("g").attr("class","label").attr("style",i.labelStyle||""),a=await dd(s,Zf(up(e),ci()),{useHtmlLabels:r,width:i.width||ci()?.flowchart?.wrappingWidth,style:i.labelStyle,addSvgBackground:!!i.icon||!!i.img});let o=a.getBBox();const l=i.padding/2;if(Hr(ci()?.flowchart?.htmlLabels)){const h=a.children[0],d=Kn(a);o=h.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}return r?s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):s.attr("transform","translate(0, "+-o.height/2+")"),i.centerLabel&&s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),s.insert("rect",":first-child"),{shapeSvg:t,bbox:o,halfPadding:l,label:s}},"insertLabel"),Yt=F((t,e)=>{const i=e.node().getBBox();t.width=i.width,t.height=i.height},"updateNodeBounds"),fn=F((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Zn(t){const e=t.map((i,r)=>`${r===0?"M":"L"}${i.x},${i.y}`);return e.push("Z"),e.join(" ")}F(Zn,"createPathFromPoints");function ad(t,e,i,r,s,a){const o=[],h=i-t,d=r-e,p=h/a,g=2*Math.PI/p,v=e+d/2;for(let _=0;_<=50;_++){const j=_/50,T=t+j*h,C=v+s*Math.sin(g*(T-t));o.push({x:T,y:C})}return o}F(ad,"generateFullSineWavePoints");function FA(t,e,i,r,s,a){const o=[],l=s*Math.PI/180,p=(a*Math.PI/180-l)/(r-1);for(let g=0;g<r;g++){const v=l+g*p,_=t+i*Math.cos(v),j=e+i*Math.sin(v);o.push({x:-_,y:-j})}return o}F(FA,"generateCirclePoints");var _ae=F((t,e)=>{var i=t.x,r=t.y,s=e.x-i,a=e.y-r,o=t.width/2,l=t.height/2,h,d;return Math.abs(a)*o>Math.abs(s)*l?(a<0&&(l=-l),h=a===0?0:l*s/a,d=l):(s<0&&(o=-o),h=o,d=s===0?0:o*a/s),{x:i+h,y:r+d}},"intersectRect"),Kg=_ae;function $5(t,e){e&&t.attr("style",e)}F($5,"applyStyle");async function q5(t){const e=Kn(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=e.append("xhtml:div");let r=t.label;t.label&&Sg(t.label)&&(r=await qE(t.label.replace(qg.lineBreakRegex,`
`),ci()));const s=t.isNode?"nodeLabel":"edgeLabel";return i.html('<span class="'+s+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+r+"</span>"),$5(i,t.labelStyle),i.style("display","inline-block"),i.style("padding-right","1px"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}F(q5,"addHtmlLabel");var bae=F(async(t,e,i,r)=>{let s=t||"";if(typeof s=="object"&&(s=s[0]),Hr(ci().flowchart.htmlLabels)){s=s.replace(/\\n|\n/g,"<br />"),nt.info("vertexText"+s);const a={isNode:r,label:up(s).replace(/fa[blrs]?:fa-[\w-]+/g,l=>`<i class='${l.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await q5(a)}else{const a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof s=="string"?o=s.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(s)?o=s:o=[];for(const l of o){const h=document.createElementNS("http://www.w3.org/2000/svg","tspan");h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),h.setAttribute("dy","1em"),h.setAttribute("x","0"),i?h.setAttribute("class","title-row"):h.setAttribute("class","row"),h.textContent=l.trim(),a.appendChild(h)}return a}},"createLabel"),Ff=bae,zh=F((t,e,i,r,s)=>["M",t+s,e,"H",t+i-s,"A",s,s,0,0,1,t+i,e+s,"V",e+r-s,"A",s,s,0,0,1,t+i-s,e+r,"H",t+s,"A",s,s,0,0,1,t,e+r-s,"V",e+s,"A",s,s,0,0,1,t+s,e,"Z"].join(" "),"createRoundedRectPathD"),W5=F(async(t,e)=>{nt.info("Creating subgraph rect for ",e.id,e);const i=ci(),{themeVariables:r,handDrawnSeed:s}=i,{clusterBkg:a,clusterBorder:o}=r,{labelStyles:l,nodeStyles:h,borderStyles:d,backgroundStyles:p}=Kt(e),g=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),v=Hr(i.flowchart.htmlLabels),_=g.insert("g").attr("class","cluster-label "),j=await dd(_,e.label,{style:e.labelStyle,useHtmlLabels:v,isNode:!0});let T=j.getBBox();if(Hr(i.flowchart.htmlLabels)){const U=j.children[0],H=Kn(j);T=U.getBoundingClientRect(),H.attr("width",T.width),H.attr("height",T.height)}const C=e.width<=T.width+e.padding?T.width+e.padding:e.width;e.width<=T.width+e.padding?e.diff=(C-e.width)/2-e.padding:e.diff=-e.padding;const w=e.height,A=e.x-C/2,L=e.y-w/2;nt.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const U=Vt.svg(g),H=$t(e,{roughness:.7,fill:a,stroke:o,fillWeight:3,seed:s}),P=U.path(zh(A,L,C,w,0),H);k=g.insert(()=>(nt.debug("Rough node insert CXC",P),P),":first-child"),k.select("path:nth-child(2)").attr("style",d.join(";")),k.select("path").attr("style",p.join(";").replace("fill","stroke"))}else k=g.insert("rect",":first-child"),k.attr("style",h).attr("rx",e.rx).attr("ry",e.ry).attr("x",A).attr("y",L).attr("width",C).attr("height",w);const{subGraphTitleTopMargin:I}=rA(i);if(_.attr("transform",`translate(${e.x-T.width/2}, ${e.y-e.height/2+I})`),l){const U=_.select("span");U&&U.attr("style",l)}const z=k.node().getBBox();return e.offsetX=0,e.width=z.width,e.height=z.height,e.offsetY=T.height-e.padding/2,e.intersect=function(U){return Kg(e,U)},{cluster:g,labelBBox:T}},"rect"),jae=F((t,e)=>{const i=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=i.insert("rect",":first-child"),s=0*e.padding,a=s/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-a).attr("y",e.y-e.height/2-a).attr("width",e.width+s).attr("height",e.height+s).attr("fill","none");const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(l){return Kg(e,l)},{cluster:i,labelBBox:{width:0,height:0}}},"noteGroup"),Sae=F(async(t,e)=>{const i=ci(),{themeVariables:r,handDrawnSeed:s}=i,{altBackground:a,compositeBackground:o,compositeTitleBackground:l,nodeBorder:h}=r,d=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),p=d.insert("g",":first-child"),g=d.insert("g").attr("class","cluster-label");let v=d.append("rect");const _=g.node().appendChild(await Ff(e.label,e.labelStyle,void 0,!0));let j=_.getBBox();if(Hr(i.flowchart.htmlLabels)){const P=_.children[0],N=Kn(_);j=P.getBoundingClientRect(),N.attr("width",j.width),N.attr("height",j.height)}const T=0*e.padding,C=T/2,w=(e.width<=j.width+e.padding?j.width+e.padding:e.width)+T;e.width<=j.width+e.padding?e.diff=(w-e.width)/2-e.padding:e.diff=-e.padding;const A=e.height+T,L=e.height+T-j.height-6,k=e.x-w/2,I=e.y-A/2;e.width=w;const z=e.y-e.height/2-C+j.height+2;let U;if(e.look==="handDrawn"){const P=e.cssClasses.includes("statediagram-cluster-alt"),N=Vt.svg(d),G=e.rx||e.ry?N.path(zh(k,I,w,A,10),{roughness:.7,fill:l,fillStyle:"solid",stroke:h,seed:s}):N.rectangle(k,I,w,A,{seed:s});U=d.insert(()=>G,":first-child");const te=N.rectangle(k,z,w,L,{fill:P?a:o,fillStyle:P?"hachure":"solid",stroke:h,seed:s});U=d.insert(()=>G,":first-child"),v=d.insert(()=>te)}else U=p.insert("rect",":first-child"),U.attr("class","outer").attr("x",k).attr("y",I).attr("width",w).attr("height",A).attr("data-look",e.look),v.attr("class","inner").attr("x",k).attr("y",z).attr("width",w).attr("height",L);g.attr("transform",`translate(${e.x-j.width/2}, ${I+1-(Hr(i.flowchart.htmlLabels)?0:3)})`);const H=U.node().getBBox();return e.height=H.height,e.offsetX=0,e.offsetY=j.height-e.padding/2,e.labelBBox=j,e.intersect=function(P){return Kg(e,P)},{cluster:d,labelBBox:j}},"roundedWithTitle"),wae=F(async(t,e)=>{nt.info("Creating subgraph rect for ",e.id,e);const i=ci(),{themeVariables:r,handDrawnSeed:s}=i,{clusterBkg:a,clusterBorder:o}=r,{labelStyles:l,nodeStyles:h,borderStyles:d,backgroundStyles:p}=Kt(e),g=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),v=Hr(i.flowchart.htmlLabels),_=g.insert("g").attr("class","cluster-label "),j=await dd(_,e.label,{style:e.labelStyle,useHtmlLabels:v,isNode:!0,width:e.width});let T=j.getBBox();if(Hr(i.flowchart.htmlLabels)){const U=j.children[0],H=Kn(j);T=U.getBoundingClientRect(),H.attr("width",T.width),H.attr("height",T.height)}const C=e.width<=T.width+e.padding?T.width+e.padding:e.width;e.width<=T.width+e.padding?e.diff=(C-e.width)/2-e.padding:e.diff=-e.padding;const w=e.height,A=e.x-C/2,L=e.y-w/2;nt.trace("Data ",e,JSON.stringify(e));let k;if(e.look==="handDrawn"){const U=Vt.svg(g),H=$t(e,{roughness:.7,fill:a,stroke:o,fillWeight:4,seed:s}),P=U.path(zh(A,L,C,w,e.rx),H);k=g.insert(()=>(nt.debug("Rough node insert CXC",P),P),":first-child"),k.select("path:nth-child(2)").attr("style",d.join(";")),k.select("path").attr("style",p.join(";").replace("fill","stroke"))}else k=g.insert("rect",":first-child"),k.attr("style",h).attr("rx",e.rx).attr("ry",e.ry).attr("x",A).attr("y",L).attr("width",C).attr("height",w);const{subGraphTitleTopMargin:I}=rA(i);if(_.attr("transform",`translate(${e.x-T.width/2}, ${e.y-e.height/2+I})`),l){const U=_.select("span");U&&U.attr("style",l)}const z=k.node().getBBox();return e.offsetX=0,e.width=z.width,e.height=z.height,e.offsetY=T.height-e.padding/2,e.intersect=function(U){return Kg(e,U)},{cluster:g,labelBBox:T}},"kanbanSection"),Tae=F((t,e)=>{const i=ci(),{themeVariables:r,handDrawnSeed:s}=i,{nodeBorder:a}=r,o=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),l=o.insert("g",":first-child"),h=0*e.padding,d=e.width+h;e.diff=-e.padding;const p=e.height+h,g=e.x-d/2,v=e.y-p/2;e.width=d;let _;if(e.look==="handDrawn"){const C=Vt.svg(o).rectangle(g,v,d,p,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:a,seed:s});_=o.insert(()=>C,":first-child")}else _=l.insert("rect",":first-child"),_.attr("class","divider").attr("x",g).attr("y",v).attr("width",d).attr("height",p).attr("data-look",e.look);const j=_.node().getBBox();return e.height=j.height,e.offsetX=0,e.offsetY=0,e.intersect=function(T){return Kg(e,T)},{cluster:o,labelBBox:{}}},"divider"),Cae=W5,Mae={rect:W5,squareRect:Cae,roundedWithTitle:Sae,noteGroup:jae,divider:Tae,kanbanSection:wae},X5=new Map,Eae=F(async(t,e)=>{const i=e.shape||"rect",r=await Mae[i](t,e);return X5.set(e.id,r),r},"insertCluster"),J3e=F(()=>{X5=new Map},"clear");function Y5(t,e){return t.intersect(e)}F(Y5,"intersectNode");var Aae=Y5;function K5(t,e,i,r){var s=t.x,a=t.y,o=s-r.x,l=a-r.y,h=Math.sqrt(e*e*l*l+i*i*o*o),d=Math.abs(e*i*o/h);r.x<s&&(d=-d);var p=Math.abs(e*i*l/h);return r.y<a&&(p=-p),{x:s+d,y:a+p}}F(K5,"intersectEllipse");var Z5=K5;function Q5(t,e,i){return Z5(t,e,e,i)}F(Q5,"intersectCircle");var Rae=Q5;function J5(t,e,i,r){var s,a,o,l,h,d,p,g,v,_,j,T,C,w,A;if(s=e.y-t.y,o=t.x-e.x,h=e.x*t.y-t.x*e.y,v=s*i.x+o*i.y+h,_=s*r.x+o*r.y+h,!(v!==0&&_!==0&&qM(v,_))&&(a=r.y-i.y,l=i.x-r.x,d=r.x*i.y-i.x*r.y,p=a*t.x+l*t.y+d,g=a*e.x+l*e.y+d,!(p!==0&&g!==0&&qM(p,g))&&(j=s*l-a*o,j!==0)))return T=Math.abs(j/2),C=o*d-l*h,w=C<0?(C-T)/j:(C+T)/j,C=a*h-s*d,A=C<0?(C-T)/j:(C+T)/j,{x:w,y:A}}F(J5,"intersectLine");function qM(t,e){return t*e>0}F(qM,"sameSign");var Lae=J5;function eH(t,e,i){let r=t.x,s=t.y,a=[],o=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(p){o=Math.min(o,p.x),l=Math.min(l,p.y)}):(o=Math.min(o,e.x),l=Math.min(l,e.y));let h=r-t.width/2-o,d=s-t.height/2-l;for(let p=0;p<e.length;p++){let g=e[p],v=e[p<e.length-1?p+1:0],_=Lae(t,i,{x:h+g.x,y:d+g.y},{x:h+v.x,y:d+v.y});_&&a.push(_)}return a.length?(a.length>1&&a.sort(function(p,g){let v=p.x-i.x,_=p.y-i.y,j=Math.sqrt(v*v+_*_),T=g.x-i.x,C=g.y-i.y,w=Math.sqrt(T*T+C*C);return j<w?-1:j===w?0:1}),a[0]):t}F(eH,"intersectPolygon");var Dae=eH,Ht={node:Aae,circle:Rae,ellipse:Z5,polygon:Dae,rect:Kg};function tH(t,e){const{labelStyles:i}=Kt(e);e.labelStyle=i;const r=fn(e);let s=r;r||(s="anchor");const a=t.insert("g").attr("class",s).attr("id",e.domId||e.id),o=1,{cssStyles:l}=e,h=Vt.svg(a),d=$t(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(d.roughness=0);const p=h.circle(0,0,o*2,d),g=a.insert(()=>p,":first-child");return g.attr("class","anchor").attr("style",pa(l)),Yt(e,g),e.intersect=function(v){return nt.info("Circle intersect",e,o,v),Ht.circle(e,o,v)},a}F(tH,"anchor");function WM(t,e,i,r,s,a,o){const h=(t+i)/2,d=(e+r)/2,p=Math.atan2(r-e,i-t),g=(i-t)/2,v=(r-e)/2,_=g/s,j=v/a,T=Math.sqrt(_**2+j**2);if(T>1)throw new Error("The given radii are too small to create an arc between the points.");const C=Math.sqrt(1-T**2),w=h+C*a*Math.sin(p)*(o?-1:1),A=d-C*s*Math.cos(p)*(o?-1:1),L=Math.atan2((e-A)/a,(t-w)/s);let I=Math.atan2((r-A)/a,(i-w)/s)-L;o&&I<0&&(I+=2*Math.PI),!o&&I>0&&(I-=2*Math.PI);const z=[];for(let U=0;U<20;U++){const H=U/19,P=L+H*I,N=w+s*Math.cos(P),G=A+a*Math.sin(P);z.push({x:N,y:G})}return z}F(WM,"generateArcPoints");async function nH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=a.width+e.padding+20,l=a.height+e.padding,h=l/2,d=h/(2.5+l/50),{cssStyles:p}=e,g=[{x:o/2,y:-l/2},{x:-o/2,y:-l/2},...WM(-o/2,-l/2,-o/2,l/2,d,h,!1),{x:o/2,y:l/2},...WM(o/2,l/2,o/2,-l/2,d,h,!0)],v=Vt.svg(s),_=$t(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const j=Zn(g),T=v.path(j,_),C=s.insert(()=>T,":first-child");return C.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),C.attr("transform",`translate(${d/2}, 0)`),Yt(e,C),e.intersect=function(w){return Ht.polygon(e,g,w)},s}F(nH,"bowTieRect");function Hh(t,e,i,r){return t.insert("polygon",":first-child").attr("points",r.map(function(s){return s.x+","+s.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+i/2+")")}F(Hh,"insertPolygonShape");async function iH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=a.height+e.padding,l=12,h=a.width+e.padding+l,d=0,p=h,g=-o,v=0,_=[{x:d+l,y:g},{x:p,y:g},{x:p,y:v},{x:d,y:v},{x:d,y:g+l},{x:d+l,y:g}];let j;const{cssStyles:T}=e;if(e.look==="handDrawn"){const C=Vt.svg(s),w=$t(e,{}),A=Zn(_),L=C.path(A,w);j=s.insert(()=>L,":first-child").attr("transform",`translate(${-h/2}, ${o/2})`),T&&j.attr("style",T)}else j=Hh(s,h,o,_);return r&&j.attr("style",r),Yt(e,j),e.intersect=function(C){return Ht.polygon(e,_,C)},s}F(iH,"card");function rH(t,e){const{nodeStyles:i}=Kt(e);e.label="";const r=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,a=Math.max(28,e.width??0),o=[{x:0,y:a/2},{x:a/2,y:0},{x:0,y:-a/2},{x:-a/2,y:0}],l=Vt.svg(r),h=$t(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=Zn(o),p=l.path(d,h),g=r.insert(()=>p,":first-child");return s&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",s),i&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",i),e.width=28,e.height=28,e.intersect=function(v){return Ht.polygon(e,o,v)},r}F(rH,"choice");async function sH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,halfPadding:o}=await gn(t,e,fn(e)),l=a.width/2+o;let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=Vt.svg(s),g=$t(e,{}),v=p.circle(0,0,l*2,g);h=s.insert(()=>v,":first-child"),h.attr("class","basic label-container").attr("style",pa(d))}else h=s.insert("circle",":first-child").attr("class","basic label-container").attr("style",r).attr("r",l).attr("cx",0).attr("cy",0);return Yt(e,h),e.intersect=function(p){return nt.info("Circle intersect",e,l,p),Ht.circle(e,l,p)},s}F(sH,"circle");function aH(t){const e=Math.cos(Math.PI/4),i=Math.sin(Math.PI/4),r=t*2,s={x:r/2*e,y:r/2*i},a={x:-(r/2)*e,y:r/2*i},o={x:-(r/2)*e,y:-(r/2)*i},l={x:r/2*e,y:-(r/2)*i};return`M ${a.x},${a.y} L ${l.x},${l.y}
                   M ${s.x},${s.y} L ${o.x},${o.y}`}F(aH,"createLine");function oH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i,e.label="";const s=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),a=Math.max(30,e?.width??0),{cssStyles:o}=e,l=Vt.svg(s),h=$t(e,{});e.look!=="handDrawn"&&(h.roughness=0,h.fillStyle="solid");const d=l.circle(0,0,a*2,h),p=aH(a),g=l.path(p,h),v=s.insert(()=>d,":first-child");return v.insert(()=>g),o&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",o),r&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",r),Yt(e,v),e.intersect=function(_){return nt.info("crossedCircle intersect",e,{radius:a,point:_}),Ht.circle(e,a,_)},s}F(oH,"crossedCircle");function bh(t,e,i,r=100,s=0,a=180){const o=[],l=s*Math.PI/180,p=(a*Math.PI/180-l)/(r-1);for(let g=0;g<r;g++){const v=l+g*p,_=t+i*Math.cos(v),j=e+i*Math.sin(v);o.push({x:-_,y:-j})}return o}F(bh,"generateCirclePoints");async function lH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=a.width+(e.padding??0),h=a.height+(e.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=e,g=[...bh(l/2,-h/2,d,30,-90,0),{x:-l/2-d,y:d},...bh(l/2+d*2,-d,d,20,-180,-270),...bh(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:-h/2},...bh(l/2,h/2,d,20,0,90)],v=[{x:l/2,y:-h/2-d},{x:-l/2,y:-h/2-d},...bh(l/2,-h/2,d,20,-90,0),{x:-l/2-d,y:-d},...bh(l/2+l*.1,-d,d,20,-180,-270),...bh(l/2+l*.1,d,d,20,-90,-180),{x:-l/2-d,y:h/2},...bh(l/2,h/2,d,20,0,90),{x:-l/2,y:h/2+d},{x:l/2,y:h/2+d}],_=Vt.svg(s),j=$t(e,{fill:"none"});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const C=Zn(g).replace("Z",""),w=_.path(C,j),A=Zn(v),L=_.path(A,{...j}),k=s.insert("g",":first-child");return k.insert(()=>L,":first-child").attr("stroke-opacity",0),k.insert(()=>w,":first-child"),k.attr("class","text"),p&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",r),k.attr("transform",`translate(${d}, 0)`),o.attr("transform",`translate(${-l/2+d-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Yt(e,k),e.intersect=function(I){return Ht.polygon(e,v,I)},s}F(lH,"curlyBraceLeft");function jh(t,e,i,r=100,s=0,a=180){const o=[],l=s*Math.PI/180,p=(a*Math.PI/180-l)/(r-1);for(let g=0;g<r;g++){const v=l+g*p,_=t+i*Math.cos(v),j=e+i*Math.sin(v);o.push({x:_,y:j})}return o}F(jh,"generateCirclePoints");async function cH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=a.width+(e.padding??0),h=a.height+(e.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=e,g=[...jh(l/2,-h/2,d,20,-90,0),{x:l/2+d,y:-d},...jh(l/2+d*2,-d,d,20,-180,-270),...jh(l/2+d*2,d,d,20,-90,-180),{x:l/2+d,y:h/2},...jh(l/2,h/2,d,20,0,90)],v=[{x:-l/2,y:-h/2-d},{x:l/2,y:-h/2-d},...jh(l/2,-h/2,d,20,-90,0),{x:l/2+d,y:-d},...jh(l/2+d*2,-d,d,20,-180,-270),...jh(l/2+d*2,d,d,20,-90,-180),{x:l/2+d,y:h/2},...jh(l/2,h/2,d,20,0,90),{x:l/2,y:h/2+d},{x:-l/2,y:h/2+d}],_=Vt.svg(s),j=$t(e,{fill:"none"});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const C=Zn(g).replace("Z",""),w=_.path(C,j),A=Zn(v),L=_.path(A,{...j}),k=s.insert("g",":first-child");return k.insert(()=>L,":first-child").attr("stroke-opacity",0),k.insert(()=>w,":first-child"),k.attr("class","text"),p&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",r),k.attr("transform",`translate(${-d}, 0)`),o.attr("transform",`translate(${-l/2+(e.padding??0)/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Yt(e,k),e.intersect=function(I){return Ht.polygon(e,v,I)},s}F(cH,"curlyBraceRight");function us(t,e,i,r=100,s=0,a=180){const o=[],l=s*Math.PI/180,p=(a*Math.PI/180-l)/(r-1);for(let g=0;g<r;g++){const v=l+g*p,_=t+i*Math.cos(v),j=e+i*Math.sin(v);o.push({x:-_,y:-j})}return o}F(us,"generateCirclePoints");async function hH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=a.width+(e.padding??0),h=a.height+(e.padding??0),d=Math.max(5,h*.1),{cssStyles:p}=e,g=[...us(l/2,-h/2,d,30,-90,0),{x:-l/2-d,y:d},...us(l/2+d*2,-d,d,20,-180,-270),...us(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:-h/2},...us(l/2,h/2,d,20,0,90)],v=[...us(-l/2+d+d/2,-h/2,d,20,-90,-180),{x:l/2-d/2,y:d},...us(-l/2-d/2,-d,d,20,0,90),...us(-l/2-d/2,d,d,20,-90,0),{x:l/2-d/2,y:-d},...us(-l/2+d+d/2,h/2,d,30,-180,-270)],_=[{x:l/2,y:-h/2-d},{x:-l/2,y:-h/2-d},...us(l/2,-h/2,d,20,-90,0),{x:-l/2-d,y:-d},...us(l/2+d*2,-d,d,20,-180,-270),...us(l/2+d*2,d,d,20,-90,-180),{x:-l/2-d,y:h/2},...us(l/2,h/2,d,20,0,90),{x:-l/2,y:h/2+d},{x:l/2-d-d/2,y:h/2+d},...us(-l/2+d+d/2,-h/2,d,20,-90,-180),{x:l/2-d/2,y:d},...us(-l/2-d/2,-d,d,20,0,90),...us(-l/2-d/2,d,d,20,-90,0),{x:l/2-d/2,y:-d},...us(-l/2+d+d/2,h/2,d,30,-180,-270)],j=Vt.svg(s),T=$t(e,{fill:"none"});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const w=Zn(g).replace("Z",""),A=j.path(w,T),k=Zn(v).replace("Z",""),I=j.path(k,T),z=Zn(_),U=j.path(z,{...T}),H=s.insert("g",":first-child");return H.insert(()=>U,":first-child").attr("stroke-opacity",0),H.insert(()=>A,":first-child"),H.insert(()=>I,":first-child"),H.attr("class","text"),p&&e.look!=="handDrawn"&&H.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&H.selectAll("path").attr("style",r),H.attr("transform",`translate(${d-d/4}, 0)`),o.attr("transform",`translate(${-l/2+(e.padding??0)/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)/2-(a.y-(a.top??0))})`),Yt(e,H),e.intersect=function(P){return Ht.polygon(e,_,P)},s}F(hH,"curlyBraces");async function uH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=80,l=20,h=Math.max(o,(a.width+(e.padding??0)*2)*1.25,e?.width??0),d=Math.max(l,a.height+(e.padding??0)*2,e?.height??0),p=d/2,{cssStyles:g}=e,v=Vt.svg(s),_=$t(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const j=h,T=d,C=j-p,w=T/4,A=[{x:C,y:0},{x:w,y:0},{x:0,y:T/2},{x:w,y:T},{x:C,y:T},...FA(-C,-T/2,p,50,270,90)],L=Zn(A),k=v.path(L,_),I=s.insert(()=>k,":first-child");return I.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&I.selectChildren("path").attr("style",g),r&&e.look!=="handDrawn"&&I.selectChildren("path").attr("style",r),I.attr("transform",`translate(${-h/2}, ${-d/2})`),Yt(e,I),e.intersect=function(z){return Ht.polygon(e,A,z)},s}F(uH,"curvedTrapezoid");var kae=F((t,e,i,r,s,a)=>[`M${t},${e+a}`,`a${s},${a} 0,0,0 ${i},0`,`a${s},${a} 0,0,0 ${-i},0`,`l0,${r}`,`a${s},${a} 0,0,0 ${i},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),Nae=F((t,e,i,r,s,a)=>[`M${t},${e+a}`,`M${t+i},${e+a}`,`a${s},${a} 0,0,0 ${-i},0`,`l0,${r}`,`a${s},${a} 0,0,0 ${i},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),Pae=F((t,e,i,r,s,a)=>[`M${t-i/2},${-r/2}`,`a${s},${a} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function dH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+e.padding,e.width??0),h=l/2,d=h/(2.5+l/50),p=Math.max(a.height+d+e.padding,e.height??0);let g;const{cssStyles:v}=e;if(e.look==="handDrawn"){const _=Vt.svg(s),j=Nae(0,0,l,p,h,d),T=Pae(0,d,l,p,h,d),C=_.path(j,$t(e,{})),w=_.path(T,$t(e,{fill:"none"}));g=s.insert(()=>w,":first-child"),g=s.insert(()=>C,":first-child"),g.attr("class","basic label-container"),v&&g.attr("style",v)}else{const _=kae(0,0,l,p,h,d);g=s.insert("path",":first-child").attr("d",_).attr("class","basic label-container").attr("style",pa(v)).attr("style",r)}return g.attr("label-offset-y",d),g.attr("transform",`translate(${-l/2}, ${-(p/2+d)})`),Yt(e,g),o.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+(e.padding??0)/1.5-(a.y-(a.top??0))})`),e.intersect=function(_){const j=Ht.rect(e,_),T=j.x-(e.x??0);if(h!=0&&(Math.abs(T)<(e.width??0)/2||Math.abs(T)==(e.width??0)/2&&Math.abs(j.y-(e.y??0))>(e.height??0)/2-d)){let C=d*d*(1-T*T/(h*h));C>0&&(C=Math.sqrt(C)),C=d-C,_.y-(e.y??0)>0&&(C=-C),j.y+=C}return j},s}F(dH,"cylinder");async function fH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=a.width+e.padding,h=a.height+e.padding,d=h*.2,p=-l/2,g=-h/2-d/2,{cssStyles:v}=e,_=Vt.svg(s),j=$t(e,{});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const T=[{x:p,y:g+d},{x:-p,y:g+d},{x:-p,y:-g},{x:p,y:-g},{x:p,y:g},{x:-p,y:g},{x:-p,y:g+d}],C=_.polygon(T.map(A=>[A.x,A.y]),j),w=s.insert(()=>C,":first-child");return w.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",v),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),o.attr("transform",`translate(${p+(e.padding??0)/2-(a.x-(a.left??0))}, ${g+d+(e.padding??0)/2-(a.y-(a.top??0))})`),Yt(e,w),e.intersect=function(A){return Ht.rect(e,A)},s}F(fH,"dividedRectangle");async function pH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,halfPadding:o}=await gn(t,e,fn(e)),h=a.width/2+o+5,d=a.width/2+o;let p;const{cssStyles:g}=e;if(e.look==="handDrawn"){const v=Vt.svg(s),_=$t(e,{roughness:.2,strokeWidth:2.5}),j=$t(e,{roughness:.2,strokeWidth:1.5}),T=v.circle(0,0,h*2,_),C=v.circle(0,0,d*2,j);p=s.insert("g",":first-child"),p.attr("class",pa(e.cssClasses)).attr("style",pa(g)),p.node()?.appendChild(T),p.node()?.appendChild(C)}else{p=s.insert("g",":first-child");const v=p.insert("circle",":first-child"),_=p.insert("circle");p.attr("class","basic label-container").attr("style",r),v.attr("class","outer-circle").attr("style",r).attr("r",h).attr("cx",0).attr("cy",0),_.attr("class","inner-circle").attr("style",r).attr("r",d).attr("cx",0).attr("cy",0)}return Yt(e,p),e.intersect=function(v){return nt.info("DoubleCircle intersect",e,h,v),Ht.circle(e,h,v)},s}F(pH,"doublecircle");function mH(t,e,{config:{themeVariables:i}}){const{labelStyles:r,nodeStyles:s}=Kt(e);e.label="",e.labelStyle=r;const a=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),o=7,{cssStyles:l}=e,h=Vt.svg(a),{nodeBorder:d}=i,p=$t(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(p.roughness=0);const g=h.circle(0,0,o*2,p),v=a.insert(()=>g,":first-child");return v.selectAll("path").attr("style",`fill: ${d} !important;`),l&&l.length>0&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",l),s&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",s),Yt(e,v),e.intersect=function(_){return nt.info("filledCircle intersect",e,{radius:o,point:_}),Ht.circle(e,o,_)},a}F(mH,"filledCircle");async function gH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=a.width+(e.padding??0),h=l+a.height,d=l+a.height,p=[{x:0,y:-h},{x:d,y:-h},{x:d/2,y:0}],{cssStyles:g}=e,v=Vt.svg(s),_=$t(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const j=Zn(p),T=v.path(j,_),C=s.insert(()=>T,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return g&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",g),r&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",r),e.width=l,e.height=h,Yt(e,C),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${-h/2+(e.padding??0)/2+(a.y-(a.top??0))})`),e.intersect=function(w){return nt.info("Triangle intersect",e,p,w),Ht.polygon(e,p,w)},s}F(gH,"flippedTriangle");function xH(t,e,{dir:i,config:{state:r,themeVariables:s}}){const{nodeStyles:a}=Kt(e);e.label="";const o=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),{cssStyles:l}=e;let h=Math.max(70,e?.width??0),d=Math.max(10,e?.height??0);i==="LR"&&(h=Math.max(10,e?.width??0),d=Math.max(70,e?.height??0));const p=-1*h/2,g=-1*d/2,v=Vt.svg(o),_=$t(e,{stroke:s.lineColor,fill:s.lineColor});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const j=v.rectangle(p,g,h,d,_),T=o.insert(()=>j,":first-child");l&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",l),a&&e.look!=="handDrawn"&&T.selectAll("path").attr("style",a),Yt(e,T);const C=r?.padding??0;return e.width&&e.height&&(e.width+=C/2||0,e.height+=C/2||0),e.intersect=function(w){return Ht.rect(e,w)},o}F(xH,"forkJoin");async function yH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const s=80,a=50,{shapeSvg:o,bbox:l}=await gn(t,e,fn(e)),h=Math.max(s,l.width+(e.padding??0)*2,e?.width??0),d=Math.max(a,l.height+(e.padding??0)*2,e?.height??0),p=d/2,{cssStyles:g}=e,v=Vt.svg(o),_=$t(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const j=[{x:-h/2,y:-d/2},{x:h/2-p,y:-d/2},...FA(-h/2+p,0,p,50,90,270),{x:h/2-p,y:d/2},{x:-h/2,y:d/2}],T=Zn(j),C=v.path(T,_),w=o.insert(()=>C,":first-child");return w.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",g),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),Yt(e,w),e.intersect=function(A){return nt.info("Pill intersect",e,{radius:p,point:A}),Ht.polygon(e,j,A)},o}F(yH,"halfRoundedRectangle");var Oae=F((t,e,i,r,s)=>[`M${t+s},${e}`,`L${t+i-s},${e}`,`L${t+i},${e-r/2}`,`L${t+i-s},${e-r}`,`L${t+s},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createHexagonPathD");async function vH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=4,l=a.height+e.padding,h=l/o,d=a.width+2*h+e.padding,p=[{x:h,y:0},{x:d-h,y:0},{x:d,y:-l/2},{x:d-h,y:-l},{x:h,y:-l},{x:0,y:-l/2}];let g;const{cssStyles:v}=e;if(e.look==="handDrawn"){const _=Vt.svg(s),j=$t(e,{}),T=Oae(0,0,d,l,h),C=_.path(T,j);g=s.insert(()=>C,":first-child").attr("transform",`translate(${-d/2}, ${l/2})`),v&&g.attr("style",v)}else g=Hh(s,d,l,p);return r&&g.attr("style",r),e.width=d,e.height=l,Yt(e,g),e.intersect=function(_){return Ht.polygon(e,p,_)},s}F(vH,"hexagon");async function _H(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.label="",e.labelStyle=i;const{shapeSvg:s}=await gn(t,e,fn(e)),a=Math.max(30,e?.width??0),o=Math.max(30,e?.height??0),{cssStyles:l}=e,h=Vt.svg(s),d=$t(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const p=[{x:0,y:0},{x:a,y:0},{x:0,y:o},{x:a,y:o}],g=Zn(p),v=h.path(g,d),_=s.insert(()=>v,":first-child");return _.attr("class","basic label-container"),l&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",l),r&&e.look!=="handDrawn"&&_.selectChildren("path").attr("style",r),_.attr("transform",`translate(${-a/2}, ${-o/2})`),Yt(e,_),e.intersect=function(j){return nt.info("Pill intersect",e,{points:p}),Ht.polygon(e,p,j)},s}F(_H,"hourglass");async function bH(t,e,{config:{themeVariables:i,flowchart:r}}){const{labelStyles:s}=Kt(e);e.labelStyle=s;const a=e.assetHeight??48,o=e.assetWidth??48,l=Math.max(a,o),h=r?.wrappingWidth;e.width=Math.max(l,h??0);const{shapeSvg:d,bbox:p,label:g}=await gn(t,e,"icon-shape default"),v=e.pos==="t",_=l,j=l,{nodeBorder:T}=i,{stylesMap:C}=Wg(e),w=-j/2,A=-_/2,L=e.label?8:0,k=Vt.svg(d),I=$t(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(I.roughness=0,I.fillStyle="solid");const z=k.rectangle(w,A,j,_,I),U=Math.max(j,p.width),H=_+p.height+L,P=k.rectangle(-U/2,-H/2,U,H,{...I,fill:"transparent",stroke:"none"}),N=d.insert(()=>z,":first-child"),G=d.insert(()=>P);if(e.icon){const te=d.append("g");te.html(`<g>${await jv(e.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const Q=te.node().getBBox(),K=Q.width,ee=Q.height,O=Q.x,q=Q.y;te.attr("transform",`translate(${-K/2-O},${v?p.height/2+L/2-ee/2-q:-p.height/2-L/2-ee/2-q})`),te.attr("style",`color: ${C.get("stroke")??T};`)}return g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${v?-H/2:H/2-p.height})`),N.attr("transform",`translate(0,${v?p.height/2+L/2:-p.height/2-L/2})`),Yt(e,G),e.intersect=function(te){if(nt.info("iconSquare intersect",e,te),!e.label)return Ht.rect(e,te);const Q=e.x??0,K=e.y??0,ee=e.height??0;let O=[];return v?O=[{x:Q-p.width/2,y:K-ee/2},{x:Q+p.width/2,y:K-ee/2},{x:Q+p.width/2,y:K-ee/2+p.height+L},{x:Q+j/2,y:K-ee/2+p.height+L},{x:Q+j/2,y:K+ee/2},{x:Q-j/2,y:K+ee/2},{x:Q-j/2,y:K-ee/2+p.height+L},{x:Q-p.width/2,y:K-ee/2+p.height+L}]:O=[{x:Q-j/2,y:K-ee/2},{x:Q+j/2,y:K-ee/2},{x:Q+j/2,y:K-ee/2+_},{x:Q+p.width/2,y:K-ee/2+_},{x:Q+p.width/2/2,y:K+ee/2},{x:Q-p.width/2,y:K+ee/2},{x:Q-p.width/2,y:K-ee/2+_},{x:Q-j/2,y:K-ee/2+_}],Ht.polygon(e,O,te)},d}F(bH,"icon");async function jH(t,e,{config:{themeVariables:i,flowchart:r}}){const{labelStyles:s}=Kt(e);e.labelStyle=s;const a=e.assetHeight??48,o=e.assetWidth??48,l=Math.max(a,o),h=r?.wrappingWidth;e.width=Math.max(l,h??0);const{shapeSvg:d,bbox:p,label:g}=await gn(t,e,"icon-shape default"),v=20,_=e.label?8:0,j=e.pos==="t",{nodeBorder:T,mainBkg:C}=i,{stylesMap:w}=Wg(e),A=Vt.svg(d),L=$t(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const k=w.get("fill");L.stroke=k??C;const I=d.append("g");e.icon&&I.html(`<g>${await jv(e.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const z=I.node().getBBox(),U=z.width,H=z.height,P=z.x,N=z.y,G=Math.max(U,H)*Math.SQRT2+v*2,te=A.circle(0,0,G,L),Q=Math.max(G,p.width),K=G+p.height+_,ee=A.rectangle(-Q/2,-K/2,Q,K,{...L,fill:"transparent",stroke:"none"}),O=d.insert(()=>te,":first-child"),q=d.insert(()=>ee);return I.attr("transform",`translate(${-U/2-P},${j?p.height/2+_/2-H/2-N:-p.height/2-_/2-H/2-N})`),I.attr("style",`color: ${w.get("stroke")??T};`),g.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${j?-K/2:K/2-p.height})`),O.attr("transform",`translate(0,${j?p.height/2+_/2:-p.height/2-_/2})`),Yt(e,q),e.intersect=function(V){return nt.info("iconSquare intersect",e,V),Ht.rect(e,V)},d}F(jH,"iconCircle");async function SH(t,e,{config:{themeVariables:i,flowchart:r}}){const{labelStyles:s}=Kt(e);e.labelStyle=s;const a=e.assetHeight??48,o=e.assetWidth??48,l=Math.max(a,o),h=r?.wrappingWidth;e.width=Math.max(l,h??0);const{shapeSvg:d,bbox:p,halfPadding:g,label:v}=await gn(t,e,"icon-shape default"),_=e.pos==="t",j=l+g*2,T=l+g*2,{nodeBorder:C,mainBkg:w}=i,{stylesMap:A}=Wg(e),L=-T/2,k=-j/2,I=e.label?8:0,z=Vt.svg(d),U=$t(e,{});e.look!=="handDrawn"&&(U.roughness=0,U.fillStyle="solid");const H=A.get("fill");U.stroke=H??w;const P=z.path(zh(L,k,T,j,5),U),N=Math.max(T,p.width),G=j+p.height+I,te=z.rectangle(-N/2,-G/2,N,G,{...U,fill:"transparent",stroke:"none"}),Q=d.insert(()=>P,":first-child").attr("class","icon-shape2"),K=d.insert(()=>te);if(e.icon){const ee=d.append("g");ee.html(`<g>${await jv(e.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const O=ee.node().getBBox(),q=O.width,V=O.height,le=O.x,W=O.y;ee.attr("transform",`translate(${-q/2-le},${_?p.height/2+I/2-V/2-W:-p.height/2-I/2-V/2-W})`),ee.attr("style",`color: ${A.get("stroke")??C};`)}return v.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${_?-G/2:G/2-p.height})`),Q.attr("transform",`translate(0,${_?p.height/2+I/2:-p.height/2-I/2})`),Yt(e,K),e.intersect=function(ee){if(nt.info("iconSquare intersect",e,ee),!e.label)return Ht.rect(e,ee);const O=e.x??0,q=e.y??0,V=e.height??0;let le=[];return _?le=[{x:O-p.width/2,y:q-V/2},{x:O+p.width/2,y:q-V/2},{x:O+p.width/2,y:q-V/2+p.height+I},{x:O+T/2,y:q-V/2+p.height+I},{x:O+T/2,y:q+V/2},{x:O-T/2,y:q+V/2},{x:O-T/2,y:q-V/2+p.height+I},{x:O-p.width/2,y:q-V/2+p.height+I}]:le=[{x:O-T/2,y:q-V/2},{x:O+T/2,y:q-V/2},{x:O+T/2,y:q-V/2+j},{x:O+p.width/2,y:q-V/2+j},{x:O+p.width/2/2,y:q+V/2},{x:O-p.width/2,y:q+V/2},{x:O-p.width/2,y:q-V/2+j},{x:O-T/2,y:q-V/2+j}],Ht.polygon(e,le,ee)},d}F(SH,"iconRounded");async function wH(t,e,{config:{themeVariables:i,flowchart:r}}){const{labelStyles:s}=Kt(e);e.labelStyle=s;const a=e.assetHeight??48,o=e.assetWidth??48,l=Math.max(a,o),h=r?.wrappingWidth;e.width=Math.max(l,h??0);const{shapeSvg:d,bbox:p,halfPadding:g,label:v}=await gn(t,e,"icon-shape default"),_=e.pos==="t",j=l+g*2,T=l+g*2,{nodeBorder:C,mainBkg:w}=i,{stylesMap:A}=Wg(e),L=-T/2,k=-j/2,I=e.label?8:0,z=Vt.svg(d),U=$t(e,{});e.look!=="handDrawn"&&(U.roughness=0,U.fillStyle="solid");const H=A.get("fill");U.stroke=H??w;const P=z.path(zh(L,k,T,j,.1),U),N=Math.max(T,p.width),G=j+p.height+I,te=z.rectangle(-N/2,-G/2,N,G,{...U,fill:"transparent",stroke:"none"}),Q=d.insert(()=>P,":first-child"),K=d.insert(()=>te);if(e.icon){const ee=d.append("g");ee.html(`<g>${await jv(e.icon,{height:l,width:l,fallbackPrefix:""})}</g>`);const O=ee.node().getBBox(),q=O.width,V=O.height,le=O.x,W=O.y;ee.attr("transform",`translate(${-q/2-le},${_?p.height/2+I/2-V/2-W:-p.height/2-I/2-V/2-W})`),ee.attr("style",`color: ${A.get("stroke")??C};`)}return v.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${_?-G/2:G/2-p.height})`),Q.attr("transform",`translate(0,${_?p.height/2+I/2:-p.height/2-I/2})`),Yt(e,K),e.intersect=function(ee){if(nt.info("iconSquare intersect",e,ee),!e.label)return Ht.rect(e,ee);const O=e.x??0,q=e.y??0,V=e.height??0;let le=[];return _?le=[{x:O-p.width/2,y:q-V/2},{x:O+p.width/2,y:q-V/2},{x:O+p.width/2,y:q-V/2+p.height+I},{x:O+T/2,y:q-V/2+p.height+I},{x:O+T/2,y:q+V/2},{x:O-T/2,y:q+V/2},{x:O-T/2,y:q-V/2+p.height+I},{x:O-p.width/2,y:q-V/2+p.height+I}]:le=[{x:O-T/2,y:q-V/2},{x:O+T/2,y:q-V/2},{x:O+T/2,y:q-V/2+j},{x:O+p.width/2,y:q-V/2+j},{x:O+p.width/2/2,y:q+V/2},{x:O-p.width/2,y:q+V/2},{x:O-p.width/2,y:q-V/2+j},{x:O-T/2,y:q-V/2+j}],Ht.polygon(e,le,ee)},d}F(wH,"iconSquare");async function TH(t,e,{config:{flowchart:i}}){const r=new Image;r.src=e?.img??"",await r.decode();const s=Number(r.naturalWidth.toString().replace("px","")),a=Number(r.naturalHeight.toString().replace("px",""));e.imageAspectRatio=s/a;const{labelStyles:o}=Kt(e);e.labelStyle=o;const l=i?.wrappingWidth;e.defaultWidth=i?.wrappingWidth;const h=Math.max(e.label?l??0:0,e?.assetWidth??s),d=e.constraint==="on"&&e?.assetHeight?e.assetHeight*e.imageAspectRatio:h,p=e.constraint==="on"?d/e.imageAspectRatio:e?.assetHeight??a;e.width=Math.max(d,l??0);const{shapeSvg:g,bbox:v,label:_}=await gn(t,e,"image-shape default"),j=e.pos==="t",T=-d/2,C=-p/2,w=e.label?8:0,A=Vt.svg(g),L=$t(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const k=A.rectangle(T,C,d,p,L),I=Math.max(d,v.width),z=p+v.height+w,U=A.rectangle(-I/2,-z/2,I,z,{...L,fill:"none",stroke:"none"}),H=g.insert(()=>k,":first-child"),P=g.insert(()=>U);if(e.img){const N=g.append("image");N.attr("href",e.img),N.attr("width",d),N.attr("height",p),N.attr("preserveAspectRatio","none"),N.attr("transform",`translate(${-d/2},${j?z/2-p:-z/2})`)}return _.attr("transform",`translate(${-v.width/2-(v.x-(v.left??0))},${j?-p/2-v.height/2-w/2:p/2-v.height/2+w/2})`),H.attr("transform",`translate(0,${j?v.height/2+w/2:-v.height/2-w/2})`),Yt(e,P),e.intersect=function(N){if(nt.info("iconSquare intersect",e,N),!e.label)return Ht.rect(e,N);const G=e.x??0,te=e.y??0,Q=e.height??0;let K=[];return j?K=[{x:G-v.width/2,y:te-Q/2},{x:G+v.width/2,y:te-Q/2},{x:G+v.width/2,y:te-Q/2+v.height+w},{x:G+d/2,y:te-Q/2+v.height+w},{x:G+d/2,y:te+Q/2},{x:G-d/2,y:te+Q/2},{x:G-d/2,y:te-Q/2+v.height+w},{x:G-v.width/2,y:te-Q/2+v.height+w}]:K=[{x:G-d/2,y:te-Q/2},{x:G+d/2,y:te-Q/2},{x:G+d/2,y:te-Q/2+p},{x:G+v.width/2,y:te-Q/2+p},{x:G+v.width/2/2,y:te+Q/2},{x:G-v.width/2,y:te+Q/2},{x:G-v.width/2,y:te-Q/2+p},{x:G-d/2,y:te-Q/2+p}],Ht.polygon(e,K,N)},g}F(TH,"imageSquare");async function CH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),h=[{x:0,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:-3*l/6,y:-l}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const g=Vt.svg(s),v=$t(e,{}),_=Zn(h),j=g.path(_,v);d=s.insert(()=>j,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),p&&d.attr("style",p)}else d=Hh(s,o,l,h);return r&&d.attr("style",r),e.width=o,e.height=l,Yt(e,d),e.intersect=function(g){return Ht.polygon(e,h,g)},s}F(CH,"inv_trapezoid");async function wv(t,e,i){const{labelStyles:r,nodeStyles:s}=Kt(e);e.labelStyle=r;const{shapeSvg:a,bbox:o}=await gn(t,e,fn(e)),l=Math.max(o.width+i.labelPaddingX*2,e?.width||0),h=Math.max(o.height+i.labelPaddingY*2,e?.height||0),d=-l/2,p=-h/2;let g,{rx:v,ry:_}=e;const{cssStyles:j}=e;if(i?.rx&&i.ry&&(v=i.rx,_=i.ry),e.look==="handDrawn"){const T=Vt.svg(a),C=$t(e,{}),w=v||_?T.path(zh(d,p,l,h,v||0),C):T.rectangle(d,p,l,h,C);g=a.insert(()=>w,":first-child"),g.attr("class","basic label-container").attr("style",pa(j))}else g=a.insert("rect",":first-child"),g.attr("class","basic label-container").attr("style",s).attr("rx",pa(v)).attr("ry",pa(_)).attr("x",d).attr("y",p).attr("width",l).attr("height",h);return Yt(e,g),e.intersect=function(T){return Ht.rect(e,T)},a}F(wv,"drawRect");async function MH(t,e){const{shapeSvg:i,bbox:r,label:s}=await gn(t,e,"label"),a=i.insert("rect",":first-child");return a.attr("width",.1).attr("height",.1),i.attr("class","label edgeLabel"),s.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),Yt(e,a),e.intersect=function(h){return Ht.rect(e,h)},i}F(MH,"labelRect");async function EH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=Math.max(a.width+(e.padding??0),e?.width??0),l=Math.max(a.height+(e.padding??0),e?.height??0),h=[{x:0,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:-(3*l)/6,y:-l}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const g=Vt.svg(s),v=$t(e,{}),_=Zn(h),j=g.path(_,v);d=s.insert(()=>j,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),p&&d.attr("style",p)}else d=Hh(s,o,l,h);return r&&d.attr("style",r),e.width=o,e.height=l,Yt(e,d),e.intersect=function(g){return Ht.polygon(e,h,g)},s}F(EH,"lean_left");async function AH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=Math.max(a.width+(e.padding??0),e?.width??0),l=Math.max(a.height+(e.padding??0),e?.height??0),h=[{x:-3*l/6,y:0},{x:o,y:0},{x:o+3*l/6,y:-l},{x:0,y:-l}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const g=Vt.svg(s),v=$t(e,{}),_=Zn(h),j=g.path(_,v);d=s.insert(()=>j,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),p&&d.attr("style",p)}else d=Hh(s,o,l,h);return r&&d.attr("style",r),e.width=o,e.height=l,Yt(e,d),e.intersect=function(g){return Ht.polygon(e,h,g)},s}F(AH,"lean_right");function RH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.label="",e.labelStyle=i;const s=t.insert("g").attr("class",fn(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,o=Math.max(35,e?.width??0),l=Math.max(35,e?.height??0),h=7,d=[{x:o,y:0},{x:0,y:l+h/2},{x:o-2*h,y:l+h/2},{x:0,y:2*l},{x:o,y:l-h/2},{x:2*h,y:l-h/2}],p=Vt.svg(s),g=$t(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=Zn(d),_=p.path(v,g),j=s.insert(()=>_,":first-child");return a&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",a),r&&e.look!=="handDrawn"&&j.selectAll("path").attr("style",r),j.attr("transform",`translate(-${o/2},${-l})`),Yt(e,j),e.intersect=function(T){return nt.info("lightningBolt intersect",e,T),Ht.polygon(e,d,T)},s}F(RH,"lightningBolt");var Bae=F((t,e,i,r,s,a,o)=>[`M${t},${e+a}`,`a${s},${a} 0,0,0 ${i},0`,`a${s},${a} 0,0,0 ${-i},0`,`l0,${r}`,`a${s},${a} 0,0,0 ${i},0`,`l0,${-r}`,`M${t},${e+a+o}`,`a${s},${a} 0,0,0 ${i},0`].join(" "),"createCylinderPathD"),Iae=F((t,e,i,r,s,a,o)=>[`M${t},${e+a}`,`M${t+i},${e+a}`,`a${s},${a} 0,0,0 ${-i},0`,`l0,${r}`,`a${s},${a} 0,0,0 ${i},0`,`l0,${-r}`,`M${t},${e+a+o}`,`a${s},${a} 0,0,0 ${i},0`].join(" "),"createOuterCylinderPathD"),Fae=F((t,e,i,r,s,a)=>[`M${t-i/2},${-r/2}`,`a${s},${a} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function LH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0),e.width??0),h=l/2,d=h/(2.5+l/50),p=Math.max(a.height+d+(e.padding??0),e.height??0),g=p*.1;let v;const{cssStyles:_}=e;if(e.look==="handDrawn"){const j=Vt.svg(s),T=Iae(0,0,l,p,h,d,g),C=Fae(0,d,l,p,h,d),w=$t(e,{}),A=j.path(T,w),L=j.path(C,w);s.insert(()=>L,":first-child").attr("class","line"),v=s.insert(()=>A,":first-child"),v.attr("class","basic label-container"),_&&v.attr("style",_)}else{const j=Bae(0,0,l,p,h,d,g);v=s.insert("path",":first-child").attr("d",j).attr("class","basic label-container").attr("style",pa(_)).attr("style",r)}return v.attr("label-offset-y",d),v.attr("transform",`translate(${-l/2}, ${-(p/2+d)})`),Yt(e,v),o.attr("transform",`translate(${-(a.width/2)-(a.x-(a.left??0))}, ${-(a.height/2)+d-(a.y-(a.top??0))})`),e.intersect=function(j){const T=Ht.rect(e,j),C=T.x-(e.x??0);if(h!=0&&(Math.abs(C)<(e.width??0)/2||Math.abs(C)==(e.width??0)/2&&Math.abs(T.y-(e.y??0))>(e.height??0)/2-d)){let w=d*d*(1-C*C/(h*h));w>0&&(w=Math.sqrt(w)),w=d-w,j.y-(e.y??0)>0&&(w=-w),T.y+=w}return T},s}F(LH,"linedCylinder");async function DH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0)*2,e?.width??0),h=Math.max(a.height+(e.padding??0)*2,e?.height??0),d=h/4,p=h+d,{cssStyles:g}=e,v=Vt.svg(s),_=$t(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const j=[{x:-l/2-l/2*.1,y:-p/2},{x:-l/2-l/2*.1,y:p/2},...ad(-l/2-l/2*.1,p/2,l/2+l/2*.1,p/2,d,.8),{x:l/2+l/2*.1,y:-p/2},{x:-l/2-l/2*.1,y:-p/2},{x:-l/2,y:-p/2},{x:-l/2,y:p/2*1.1},{x:-l/2,y:-p/2}],T=v.polygon(j.map(w=>[w.x,w.y]),_),C=s.insert(()=>T,":first-child");return C.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",g),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),C.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(e.padding??0)+l/2*.1/2-(a.x-(a.left??0))},${-h/2+(e.padding??0)-d/2-(a.y-(a.top??0))})`),Yt(e,C),e.intersect=function(w){return Ht.polygon(e,j,w)},s}F(DH,"linedWaveEdgedRect");async function kH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0)*2,e?.width??0),h=Math.max(a.height+(e.padding??0)*2,e?.height??0),d=5,p=-l/2,g=-h/2,{cssStyles:v}=e,_=Vt.svg(s),j=$t(e,{}),T=[{x:p-d,y:g+d},{x:p-d,y:g+h+d},{x:p+l-d,y:g+h+d},{x:p+l-d,y:g+h},{x:p+l,y:g+h},{x:p+l,y:g+h-d},{x:p+l+d,y:g+h-d},{x:p+l+d,y:g-d},{x:p+d,y:g-d},{x:p+d,y:g},{x:p,y:g},{x:p,y:g+d}],C=[{x:p,y:g+d},{x:p+l-d,y:g+d},{x:p+l-d,y:g+h},{x:p+l,y:g+h},{x:p+l,y:g},{x:p,y:g}];e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const w=Zn(T),A=_.path(w,j),L=Zn(C),k=_.path(L,{...j,fill:"none"}),I=s.insert(()=>k,":first-child");return I.insert(()=>A,":first-child"),I.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",v),r&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(a.width/2)-d-(a.x-(a.left??0))}, ${-(a.height/2)+d-(a.y-(a.top??0))})`),Yt(e,I),e.intersect=function(z){return Ht.polygon(e,T,z)},s}F(kH,"multiRect");async function NH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0)*2,e?.width??0),h=Math.max(a.height+(e.padding??0)*2,e?.height??0),d=h/4,p=h+d,g=-l/2,v=-p/2,_=5,{cssStyles:j}=e,T=ad(g-_,v+p+_,g+l-_,v+p+_,d,.8),C=T?.[T.length-1],w=[{x:g-_,y:v+_},{x:g-_,y:v+p+_},...T,{x:g+l-_,y:C.y-_},{x:g+l,y:C.y-_},{x:g+l,y:C.y-2*_},{x:g+l+_,y:C.y-2*_},{x:g+l+_,y:v-_},{x:g+_,y:v-_},{x:g+_,y:v},{x:g,y:v},{x:g,y:v+_}],A=[{x:g,y:v+_},{x:g+l-_,y:v+_},{x:g+l-_,y:C.y-_},{x:g+l,y:C.y-_},{x:g+l,y:v},{x:g,y:v}],L=Vt.svg(s),k=$t(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const I=Zn(w),z=L.path(I,k),U=Zn(A),H=L.path(U,k),P=s.insert(()=>z,":first-child");return P.insert(()=>H),P.attr("class","basic label-container"),j&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",j),r&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",r),P.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-(a.width/2)-_-(a.x-(a.left??0))}, ${-(a.height/2)+_-d/2-(a.y-(a.top??0))})`),Yt(e,P),e.intersect=function(N){return Ht.polygon(e,w,N)},s}F(NH,"multiWaveEdgedRectangle");async function PH(t,e,{config:{themeVariables:i}}){const{labelStyles:r,nodeStyles:s}=Kt(e);e.labelStyle=r,e.useHtmlLabels||Ha().flowchart?.htmlLabels!==!1||(e.centerLabel=!0);const{shapeSvg:o,bbox:l}=await gn(t,e,fn(e)),h=Math.max(l.width+(e.padding??0)*2,e?.width??0),d=Math.max(l.height+(e.padding??0)*2,e?.height??0),p=-h/2,g=-d/2,{cssStyles:v}=e,_=Vt.svg(o),j=$t(e,{fill:i.noteBkgColor,stroke:i.noteBorderColor});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const T=_.rectangle(p,g,h,d,j),C=o.insert(()=>T,":first-child");return C.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",v),s&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",s),Yt(e,C),e.intersect=function(w){return Ht.rect(e,w)},o}F(PH,"note");var Uae=F((t,e,i)=>[`M${t+i/2},${e}`,`L${t+i},${e-i/2}`,`L${t+i/2},${e-i}`,`L${t},${e-i/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function OH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=a.width+e.padding,l=a.height+e.padding,h=o+l,d=[{x:h/2,y:0},{x:h,y:-h/2},{x:h/2,y:-h},{x:0,y:-h/2}];let p;const{cssStyles:g}=e;if(e.look==="handDrawn"){const v=Vt.svg(s),_=$t(e,{}),j=Uae(0,0,h),T=v.path(j,_);p=s.insert(()=>T,":first-child").attr("transform",`translate(${-h/2}, ${h/2})`),g&&p.attr("style",g)}else p=Hh(s,h,h,d);return r&&p.attr("style",r),Yt(e,p),e.intersect=function(v){return nt.debug(`APA12 Intersect called SPLIT
point:`,v,`
node:
`,e,`
res:`,Ht.polygon(e,d,v)),Ht.polygon(e,d,v)},s}F(OH,"question");async function BH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0),e?.width??0),h=Math.max(a.height+(e.padding??0),e?.height??0),d=-l/2,p=-h/2,g=p/2,v=[{x:d+g,y:p},{x:d,y:0},{x:d+g,y:-p},{x:-d,y:-p},{x:-d,y:p}],{cssStyles:_}=e,j=Vt.svg(s),T=$t(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const C=Zn(v),w=j.path(C,T),A=s.insert(()=>w,":first-child");return A.attr("class","basic label-container"),_&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",_),r&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",r),A.attr("transform",`translate(${-g/2},0)`),o.attr("transform",`translate(${-g/2-a.width/2-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Yt(e,A),e.intersect=function(L){return Ht.polygon(e,v,L)},s}F(BH,"rect_left_inv_arrow");async function IH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;let s;e.cssClasses?s="node "+e.cssClasses:s="node default";const a=t.insert("g").attr("class",s).attr("id",e.domId||e.id),o=a.insert("g"),l=a.insert("g").attr("class","label").attr("style",r),h=e.description,d=e.label,p=l.node().appendChild(await Ff(d,e.labelStyle,!0,!0));let g={width:0,height:0};if(Hr(ci()?.flowchart?.htmlLabels)){const H=p.children[0],P=Kn(p);g=H.getBoundingClientRect(),P.attr("width",g.width),P.attr("height",g.height)}nt.info("Text 2",h);const v=h||[],_=p.getBBox(),j=l.node().appendChild(await Ff(v.join?v.join("<br/>"):v,e.labelStyle,!0,!0)),T=j.children[0],C=Kn(j);g=T.getBoundingClientRect(),C.attr("width",g.width),C.attr("height",g.height);const w=(e.padding||0)/2;Kn(j).attr("transform","translate( "+(g.width>_.width?0:(_.width-g.width)/2)+", "+(_.height+w+5)+")"),Kn(p).attr("transform","translate( "+(g.width<_.width?0:-(_.width-g.width)/2)+", 0)"),g=l.node().getBBox(),l.attr("transform","translate("+-g.width/2+", "+(-g.height/2-w+3)+")");const A=g.width+(e.padding||0),L=g.height+(e.padding||0),k=-g.width/2-w,I=-g.height/2-w;let z,U;if(e.look==="handDrawn"){const H=Vt.svg(a),P=$t(e,{}),N=H.path(zh(k,I,A,L,e.rx||0),P),G=H.line(-g.width/2-w,-g.height/2-w+_.height+w,g.width/2+w,-g.height/2-w+_.height+w,P);U=a.insert(()=>(nt.debug("Rough node insert CXC",N),G),":first-child"),z=a.insert(()=>(nt.debug("Rough node insert CXC",N),N),":first-child")}else z=o.insert("rect",":first-child"),U=o.insert("line"),z.attr("class","outer title-state").attr("style",r).attr("x",-g.width/2-w).attr("y",-g.height/2-w).attr("width",g.width+(e.padding||0)).attr("height",g.height+(e.padding||0)),U.attr("class","divider").attr("x1",-g.width/2-w).attr("x2",g.width/2+w).attr("y1",-g.height/2-w+_.height+w).attr("y2",-g.height/2-w+_.height+w);return Yt(e,z),e.intersect=function(H){return Ht.rect(e,H)},a}F(IH,"rectWithTitle");async function FH(t,e){const i={rx:5,ry:5,labelPaddingX:(e?.padding||0)*1,labelPaddingY:(e?.padding||0)*1};return wv(t,e,i)}F(FH,"roundedRect");async function UH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=e?.padding??0,h=Math.max(a.width+(e.padding??0)*2,e?.width??0),d=Math.max(a.height+(e.padding??0)*2,e?.height??0),p=-a.width/2-l,g=-a.height/2-l,{cssStyles:v}=e,_=Vt.svg(s),j=$t(e,{});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const T=[{x:p,y:g},{x:p+h+8,y:g},{x:p+h+8,y:g+d},{x:p-8,y:g+d},{x:p-8,y:g},{x:p,y:g},{x:p,y:g+d}],C=_.polygon(T.map(A=>[A.x,A.y]),j),w=s.insert(()=>C,":first-child");return w.attr("class","basic label-container").attr("style",pa(v)),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),v&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),o.attr("transform",`translate(${-h/2+4+(e.padding??0)-(a.x-(a.left??0))},${-d/2+(e.padding??0)-(a.y-(a.top??0))})`),Yt(e,w),e.intersect=function(A){return Ht.rect(e,A)},s}F(UH,"shadedProcess");async function zH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0)*2,e?.width??0),h=Math.max(a.height+(e.padding??0)*2,e?.height??0),d=-l/2,p=-h/2,{cssStyles:g}=e,v=Vt.svg(s),_=$t(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const j=[{x:d,y:p},{x:d,y:p+h},{x:d+l,y:p+h},{x:d+l,y:p-h/2}],T=Zn(j),C=v.path(T,_),w=s.insert(()=>C,":first-child");return w.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",g),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),w.attr("transform",`translate(0, ${h/4})`),o.attr("transform",`translate(${-l/2+(e.padding??0)-(a.x-(a.left??0))}, ${-h/4+(e.padding??0)-(a.y-(a.top??0))})`),Yt(e,w),e.intersect=function(A){return Ht.polygon(e,j,A)},s}F(zH,"slopedRect");async function HH(t,e){const i={rx:0,ry:0,labelPaddingX:(e?.padding||0)*2,labelPaddingY:(e?.padding||0)*1};return wv(t,e,i)}F(HH,"squareRect");async function VH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=a.height+e.padding,l=a.width+o/4+e.padding;let h;const{cssStyles:d}=e;if(e.look==="handDrawn"){const p=Vt.svg(s),g=$t(e,{}),v=zh(-l/2,-o/2,l,o,o/2),_=p.path(v,g);h=s.insert(()=>_,":first-child"),h.attr("class","basic label-container").attr("style",pa(d))}else h=s.insert("rect",":first-child"),h.attr("class","basic label-container").attr("style",r).attr("rx",o/2).attr("ry",o/2).attr("x",-l/2).attr("y",-o/2).attr("width",l).attr("height",o);return Yt(e,h),e.intersect=function(p){return Ht.rect(e,p)},s}F(VH,"stadium");async function GH(t,e){return wv(t,e,{rx:5,ry:5})}F(GH,"state");function $H(t,e,{config:{themeVariables:i}}){const{labelStyles:r,nodeStyles:s}=Kt(e);e.labelStyle=r;const{cssStyles:a}=e,{lineColor:o,stateBorder:l,nodeBorder:h}=i,d=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),p=Vt.svg(d),g=$t(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const v=p.circle(0,0,14,{...g,stroke:o,strokeWidth:2}),_=l??h,j=p.circle(0,0,5,{...g,fill:_,stroke:_,strokeWidth:2,fillStyle:"solid"}),T=d.insert(()=>v,":first-child");return T.insert(()=>j),a&&T.selectAll("path").attr("style",a),s&&T.selectAll("path").attr("style",s),Yt(e,T),e.intersect=function(C){return Ht.circle(e,7,C)},d}F($H,"stateEnd");function qH(t,e,{config:{themeVariables:i}}){const{lineColor:r}=i,s=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let a;if(e.look==="handDrawn"){const l=Vt.svg(s).circle(0,0,14,TQ(r));a=s.insert(()=>l),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else a=s.insert("circle",":first-child"),a.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Yt(e,a),e.intersect=function(o){return Ht.circle(e,7,o)},s}F(qH,"stateStart");async function WH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=(e?.padding||0)/2,l=a.width+e.padding,h=a.height+e.padding,d=-a.width/2-o,p=-a.height/2-o,g=[{x:0,y:0},{x:l,y:0},{x:l,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:l+8,y:0},{x:l+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if(e.look==="handDrawn"){const v=Vt.svg(s),_=$t(e,{}),j=v.rectangle(d-8,p,l+16,h,_),T=v.line(d,p,d,p+h,_),C=v.line(d+l,p,d+l,p+h,_);s.insert(()=>T,":first-child"),s.insert(()=>C,":first-child");const w=s.insert(()=>j,":first-child"),{cssStyles:A}=e;w.attr("class","basic label-container").attr("style",pa(A)),Yt(e,w)}else{const v=Hh(s,l,h,g);r&&v.attr("style",r),Yt(e,v)}return e.intersect=function(v){return Ht.polygon(e,g,v)},s}F(WH,"subroutine");async function XH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=Math.max(a.width+(e.padding??0)*2,e?.width??0),l=Math.max(a.height+(e.padding??0)*2,e?.height??0),h=-o/2,d=-l/2,p=.2*l,g=.2*l,{cssStyles:v}=e,_=Vt.svg(s),j=$t(e,{}),T=[{x:h-p/2,y:d},{x:h+o+p/2,y:d},{x:h+o+p/2,y:d+l},{x:h-p/2,y:d+l}],C=[{x:h+o-p/2,y:d+l},{x:h+o+p/2,y:d+l},{x:h+o+p/2,y:d+l-g}];e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const w=Zn(T),A=_.path(w,j),L=Zn(C),k=_.path(L,{...j,fillStyle:"solid"}),I=s.insert(()=>k,":first-child");return I.insert(()=>A,":first-child"),I.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",v),r&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",r),Yt(e,I),e.intersect=function(z){return Ht.polygon(e,T,z)},s}F(XH,"taggedRect");async function YH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0)*2,e?.width??0),h=Math.max(a.height+(e.padding??0)*2,e?.height??0),d=h/4,p=.2*l,g=.2*h,v=h+d,{cssStyles:_}=e,j=Vt.svg(s),T=$t(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const C=[{x:-l/2-l/2*.1,y:v/2},...ad(-l/2-l/2*.1,v/2,l/2+l/2*.1,v/2,d,.8),{x:l/2+l/2*.1,y:-v/2},{x:-l/2-l/2*.1,y:-v/2}],w=-l/2+l/2*.1,A=-v/2-g*.4,L=[{x:w+l-p,y:(A+h)*1.4},{x:w+l,y:A+h-g},{x:w+l,y:(A+h)*.9},...ad(w+l,(A+h)*1.3,w+l-p,(A+h)*1.5,-h*.03,.5)],k=Zn(C),I=j.path(k,T),z=Zn(L),U=j.path(z,{...T,fillStyle:"solid"}),H=s.insert(()=>U,":first-child");return H.insert(()=>I,":first-child"),H.attr("class","basic label-container"),_&&e.look!=="handDrawn"&&H.selectAll("path").attr("style",_),r&&e.look!=="handDrawn"&&H.selectAll("path").attr("style",r),H.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(e.padding??0)-(a.x-(a.left??0))},${-h/2+(e.padding??0)-d/2-(a.y-(a.top??0))})`),Yt(e,H),e.intersect=function(P){return Ht.polygon(e,C,P)},s}F(YH,"taggedWaveEdgedRectangle");async function KH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=Math.max(a.width+e.padding,e?.width||0),l=Math.max(a.height+e.padding,e?.height||0),h=-o/2,d=-l/2,p=s.insert("rect",":first-child");return p.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",h).attr("y",d).attr("width",o).attr("height",l),Yt(e,p),e.intersect=function(g){return Ht.rect(e,g)},s}F(KH,"text");var zae=F((t,e,i,r,s,a)=>`M${t},${e}
    a${s},${a} 0,0,1 0,${-r}
    l${i},0
    a${s},${a} 0,0,1 0,${r}
    M${i},${-r}
    a${s},${a} 0,0,0 0,${r}
    l${-i},0`,"createCylinderPathD"),Hae=F((t,e,i,r,s,a)=>[`M${t},${e}`,`M${t+i},${e}`,`a${s},${a} 0,0,0 0,${-r}`,`l${-i},0`,`a${s},${a} 0,0,0 0,${r}`,`l${i},0`].join(" "),"createOuterCylinderPathD"),Vae=F((t,e,i,r,s,a)=>[`M${t+i/2},${-r/2}`,`a${s},${a} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function ZH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o,halfPadding:l}=await gn(t,e,fn(e)),h=e.look==="neo"?l*2:l,d=a.height+h,p=d/2,g=p/(2.5+d/50),v=a.width+g+h,{cssStyles:_}=e;let j;if(e.look==="handDrawn"){const T=Vt.svg(s),C=Hae(0,0,v,d,g,p),w=Vae(0,0,v,d,g,p),A=T.path(C,$t(e,{})),L=T.path(w,$t(e,{fill:"none"}));j=s.insert(()=>L,":first-child"),j=s.insert(()=>A,":first-child"),j.attr("class","basic label-container"),_&&j.attr("style",_)}else{const T=zae(0,0,v,d,g,p);j=s.insert("path",":first-child").attr("d",T).attr("class","basic label-container").attr("style",pa(_)).attr("style",r),j.attr("class","basic label-container"),_&&j.selectAll("path").attr("style",_),r&&j.selectAll("path").attr("style",r)}return j.attr("label-offset-x",g),j.attr("transform",`translate(${-v/2}, ${d/2} )`),o.attr("transform",`translate(${-(a.width/2)-g-(a.x-(a.left??0))}, ${-(a.height/2)-(a.y-(a.top??0))})`),Yt(e,j),e.intersect=function(T){const C=Ht.rect(e,T),w=C.y-(e.y??0);if(p!=0&&(Math.abs(w)<(e.height??0)/2||Math.abs(w)==(e.height??0)/2&&Math.abs(C.x-(e.x??0))>(e.width??0)/2-g)){let A=g*g*(1-w*w/(p*p));A!=0&&(A=Math.sqrt(Math.abs(A))),A=g-A,T.x-(e.x??0)>0&&(A=-A),C.x+=A}return C},s}F(ZH,"tiltedCylinder");async function QH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=a.width+e.padding,l=a.height+e.padding,h=[{x:-3*l/6,y:0},{x:o+3*l/6,y:0},{x:o,y:-l},{x:0,y:-l}];let d;const{cssStyles:p}=e;if(e.look==="handDrawn"){const g=Vt.svg(s),v=$t(e,{}),_=Zn(h),j=g.path(_,v);d=s.insert(()=>j,":first-child").attr("transform",`translate(${-o/2}, ${l/2})`),p&&d.attr("style",p)}else d=Hh(s,o,l,h);return r&&d.attr("style",r),e.width=o,e.height=l,Yt(e,d),e.intersect=function(g){return Ht.polygon(e,h,g)},s}F(QH,"trapezoid");async function JH(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=60,l=20,h=Math.max(o,a.width+(e.padding??0)*2,e?.width??0),d=Math.max(l,a.height+(e.padding??0)*2,e?.height??0),{cssStyles:p}=e,g=Vt.svg(s),v=$t(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const _=[{x:-h/2*.8,y:-d/2},{x:h/2*.8,y:-d/2},{x:h/2,y:-d/2*.6},{x:h/2,y:d/2},{x:-h/2,y:d/2},{x:-h/2,y:-d/2*.6}],j=Zn(_),T=g.path(j,v),C=s.insert(()=>T,":first-child");return C.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&C.selectChildren("path").attr("style",r),Yt(e,C),e.intersect=function(w){return Ht.polygon(e,_,w)},s}F(JH,"trapezoidalPentagon");async function e8(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Hr(ci().flowchart?.htmlLabels),h=a.width+(e.padding??0),d=h+a.height,p=h+a.height,g=[{x:0,y:0},{x:p,y:0},{x:p/2,y:-d}],{cssStyles:v}=e,_=Vt.svg(s),j=$t(e,{});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const T=Zn(g),C=_.path(T,j),w=s.insert(()=>C,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return v&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",v),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),e.width=h,e.height=d,Yt(e,w),o.attr("transform",`translate(${-a.width/2-(a.x-(a.left??0))}, ${d/2-(a.height+(e.padding??0)/(l?2:1)-(a.y-(a.top??0)))})`),e.intersect=function(A){return nt.info("Triangle intersect",e,g,A),Ht.polygon(e,g,A)},s}F(e8,"triangle");async function t8(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0)*2,e?.width??0),h=Math.max(a.height+(e.padding??0)*2,e?.height??0),d=h/8,p=h+d,{cssStyles:g}=e,_=70-l,j=_>0?_/2:0,T=Vt.svg(s),C=$t(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const w=[{x:-l/2-j,y:p/2},...ad(-l/2-j,p/2,l/2+j,p/2,d,.8),{x:l/2+j,y:-p/2},{x:-l/2-j,y:-p/2}],A=Zn(w),L=T.path(A,C),k=s.insert(()=>L,":first-child");return k.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",g),r&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",r),k.attr("transform",`translate(0,${-d/2})`),o.attr("transform",`translate(${-l/2+(e.padding??0)-(a.x-(a.left??0))},${-h/2+(e.padding??0)-d-(a.y-(a.top??0))})`),Yt(e,k),e.intersect=function(I){return Ht.polygon(e,w,I)},s}F(t8,"waveEdgedRectangle");async function n8(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a}=await gn(t,e,fn(e)),o=100,l=50,h=Math.max(a.width+(e.padding??0)*2,e?.width??0),d=Math.max(a.height+(e.padding??0)*2,e?.height??0),p=h/d;let g=h,v=d;g>v*p?v=g/p:g=v*p,g=Math.max(g,o),v=Math.max(v,l);const _=Math.min(v*.2,v/4),j=v+_*2,{cssStyles:T}=e,C=Vt.svg(s),w=$t(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const A=[{x:-g/2,y:j/2},...ad(-g/2,j/2,g/2,j/2,_,1),{x:g/2,y:-j/2},...ad(g/2,-j/2,-g/2,-j/2,_,-1)],L=Zn(A),k=C.path(L,w),I=s.insert(()=>k,":first-child");return I.attr("class","basic label-container"),T&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",T),r&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",r),Yt(e,I),e.intersect=function(z){return Ht.polygon(e,A,z)},s}F(n8,"waveRectangle");async function i8(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const{shapeSvg:s,bbox:a,label:o}=await gn(t,e,fn(e)),l=Math.max(a.width+(e.padding??0)*2,e?.width??0),h=Math.max(a.height+(e.padding??0)*2,e?.height??0),d=5,p=-l/2,g=-h/2,{cssStyles:v}=e,_=Vt.svg(s),j=$t(e,{}),T=[{x:p-d,y:g-d},{x:p-d,y:g+h},{x:p+l,y:g+h},{x:p+l,y:g-d}],C=`M${p-d},${g-d} L${p+l},${g-d} L${p+l},${g+h} L${p-d},${g+h} L${p-d},${g-d}
                M${p-d},${g} L${p+l},${g}
                M${p},${g-d} L${p},${g+h}`;e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const w=_.path(C,j),A=s.insert(()=>w,":first-child");return A.attr("transform",`translate(${d/2}, ${d/2})`),A.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",v),r&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(a.width/2)+d/2-(a.x-(a.left??0))}, ${-(a.height/2)+d/2-(a.y-(a.top??0))})`),Yt(e,A),e.intersect=function(L){return Ht.polygon(e,T,L)},s}F(i8,"windowPane");async function UA(t,e){const i=e;if(i.alias&&(e.label=i.alias),e.look==="handDrawn"){const{themeVariables:de}=Ha(),{background:fe}=de,ae={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${fe}`]};await UA(t,ae)}const r=Ha();e.useHtmlLabels=r.htmlLabels;let s=r.er?.diagramPadding??10,a=r.er?.entityPadding??6;const{cssStyles:o}=e,{labelStyles:l,nodeStyles:h}=Kt(e);if(i.attributes.length===0&&e.label){const de={rx:0,ry:0,labelPaddingX:s,labelPaddingY:s*1.5};Nh(e.label,r)+de.labelPaddingX*2<r.er.minEntityWidth&&(e.width=r.er.minEntityWidth);const fe=await wv(t,e,de);if(!Hr(r.htmlLabels)){const ae=fe.select("text"),pe=ae.node()?.getBBox();ae.attr("transform",`translate(${-pe.width/2}, 0)`)}return fe}r.htmlLabels||(s*=1.25,a*=1.25);let d=fn(e);d||(d="node default");const p=t.insert("g").attr("class",d).attr("id",e.domId||e.id),g=await Gm(p,e.label??"",r,0,0,["name"],l);g.height+=a;let v=0;const _=[],j=[];let T=0,C=0,w=0,A=0,L=!0,k=!0;for(const de of i.attributes){const fe=await Gm(p,de.type,r,0,v,["attribute-type"],l);T=Math.max(T,fe.width+s);const ae=await Gm(p,de.name,r,0,v,["attribute-name"],l);C=Math.max(C,ae.width+s);const pe=await Gm(p,de.keys.join(),r,0,v,["attribute-keys"],l);w=Math.max(w,pe.width+s);const De=await Gm(p,de.comment,r,0,v,["attribute-comment"],l);A=Math.max(A,De.width+s);const Be=Math.max(fe.height,ae.height,pe.height,De.height)+a;j.push({yOffset:v,rowHeight:Be}),v+=Be}let I=4;w<=s&&(L=!1,w=0,I--),A<=s&&(k=!1,A=0,I--);const z=p.node().getBBox();if(g.width+s*2-(T+C+w+A)>0){const de=g.width+s*2-(T+C+w+A);T+=de/I,C+=de/I,w>0&&(w+=de/I),A>0&&(A+=de/I)}const U=T+C+w+A,H=Vt.svg(p),P=$t(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");let N=0;j.length>0&&(N=j.reduce((de,fe)=>de+(fe?.rowHeight??0),0));const G=Math.max(z.width+s*2,e?.width||0,U),te=Math.max((N??0)+g.height,e?.height||0),Q=-G/2,K=-te/2;p.selectAll("g:not(:first-child)").each((de,fe,ae)=>{const pe=Kn(ae[fe]),De=pe.attr("transform");let Be=0,Ue=0;if(De){const Je=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(De);Je&&(Be=parseFloat(Je[1]),Ue=parseFloat(Je[2]),pe.attr("class").includes("attribute-name")?Be+=T:pe.attr("class").includes("attribute-keys")?Be+=T+C:pe.attr("class").includes("attribute-comment")&&(Be+=T+C+w))}pe.attr("transform",`translate(${Q+s/2+Be}, ${Ue+K+g.height+a/2})`)}),p.select(".name").attr("transform","translate("+-g.width/2+", "+(K+a/2)+")");const ee=H.rectangle(Q,K,G,te,P),O=p.insert(()=>ee,":first-child").attr("style",o.join("")),{themeVariables:q}=Ha(),{rowEven:V,rowOdd:le,nodeBorder:W}=q;_.push(0);for(const[de,fe]of j.entries()){const pe=(de+1)%2===0&&fe.yOffset!==0,De=H.rectangle(Q,g.height+K+fe?.yOffset,G,fe?.rowHeight,{...P,fill:pe?V:le,stroke:W});p.insert(()=>De,"g.label").attr("style",o.join("")).attr("class",`row-rect-${pe?"even":"odd"}`)}let re=H.line(Q,g.height+K,G+Q,g.height+K,P);p.insert(()=>re).attr("class","divider"),re=H.line(T+Q,g.height+K,T+Q,te+K,P),p.insert(()=>re).attr("class","divider"),L&&(re=H.line(T+C+Q,g.height+K,T+C+Q,te+K,P),p.insert(()=>re).attr("class","divider")),k&&(re=H.line(T+C+w+Q,g.height+K,T+C+w+Q,te+K,P),p.insert(()=>re).attr("class","divider"));for(const de of _)re=H.line(Q,g.height+K+de,G+Q,g.height+K+de,P),p.insert(()=>re).attr("class","divider");if(Yt(e,O),h&&e.look!=="handDrawn"){const fe=h.split(";")?.filter(ae=>ae.includes("stroke"))?.map(ae=>`${ae}`).join("; ");p.selectAll("path").attr("style",fe??""),p.selectAll(".row-rect-even path").attr("style",h)}return e.intersect=function(de){return Ht.rect(e,de)},p}F(UA,"erBox");async function Gm(t,e,i,r=0,s=0,a=[],o=""){const l=t.insert("g").attr("class",`label ${a.join(" ")}`).attr("transform",`translate(${r}, ${s})`).attr("style",o);e!==kD(e)&&(e=kD(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const h=l.node().appendChild(await dd(l,e,{width:Nh(e,i)+100,style:o,useHtmlLabels:i.htmlLabels},i));if(e.includes("&lt;")||e.includes("&gt;")){let p=h.children[0];for(p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");p.childNodes[0];)p=p.childNodes[0],p.textContent=p.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let d=h.getBBox();if(Hr(i.htmlLabels)){const p=h.children[0];p.style.textAlign="start";const g=Kn(h);d=p.getBoundingClientRect(),g.attr("width",d.width),g.attr("height",d.height)}return d}F(Gm,"addText");async function r8(t,e,i,r,s=i.class.padding??12){const a=r?0:3,o=t.insert("g").attr("class",fn(e)).attr("id",e.domId||e.id);let l=null,h=null,d=null,p=null,g=0,v=0,_=0;if(l=o.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const A=e.annotations[0];await n0(l,{text:`«${A}»`},0),g=l.node().getBBox().height}h=o.insert("g").attr("class","label-group text"),await n0(h,e,0,["font-weight: bolder"]);const j=h.node().getBBox();v=j.height,d=o.insert("g").attr("class","members-group text");let T=0;for(const A of e.members){const L=await n0(d,A,T,[A.parseClassifier()]);T+=L+a}_=d.node().getBBox().height,_<=0&&(_=s/2),p=o.insert("g").attr("class","methods-group text");let C=0;for(const A of e.methods){const L=await n0(p,A,C,[A.parseClassifier()]);C+=L+a}let w=o.node().getBBox();if(l!==null){const A=l.node().getBBox();l.attr("transform",`translate(${-A.width/2})`)}return h.attr("transform",`translate(${-j.width/2}, ${g})`),w=o.node().getBBox(),d.attr("transform",`translate(0, ${g+v+s*2})`),w=o.node().getBBox(),p.attr("transform",`translate(0, ${g+v+(_?_+s*4:s*2)})`),w=o.node().getBBox(),{shapeSvg:o,bbox:w}}F(r8,"textHelper");async function n0(t,e,i,r=[]){const s=t.insert("g").attr("class","label").attr("style",r.join("; ")),a=Ha();let o="useHtmlLabels"in e?e.useHtmlLabels:Hr(a.htmlLabels)??!0,l="";"text"in e?l=e.text:l=e.label,!o&&l.startsWith("\\")&&(l=l.substring(1)),Sg(l)&&(o=!0);const h=await dd(s,Y1(up(l)),{width:Nh(l,a)+50,classes:"markdown-node-label",useHtmlLabels:o},a);let d,p=1;if(o){const g=h.children[0],v=Kn(h);p=g.innerHTML.split("<br>").length,g.innerHTML.includes("</math>")&&(p+=g.innerHTML.split("<mrow>").length-1);const _=g.getElementsByTagName("img");if(_){const j=l.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([..._].map(T=>new Promise(C=>{function w(){if(T.style.display="flex",T.style.flexDirection="column",j){const A=a.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,k=parseInt(A,10)*5+"px";T.style.minWidth=k,T.style.maxWidth=k}else T.style.width="100%";C(T)}F(w,"setupImage"),setTimeout(()=>{T.complete&&w()}),T.addEventListener("error",w),T.addEventListener("load",w)})))}d=g.getBoundingClientRect(),v.attr("width",d.width),v.attr("height",d.height)}else{r.includes("font-weight: bolder")&&Kn(h).selectAll("tspan").attr("font-weight",""),p=h.children.length;const g=h.children[0];(h.textContent===""||h.textContent.includes("&gt"))&&(g.textContent=l[0]+l.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),l[1]===" "&&(g.textContent=g.textContent[0]+" "+g.textContent.substring(1))),g.textContent==="undefined"&&(g.textContent=""),d=h.getBBox()}return s.attr("transform","translate(0,"+(-d.height/(2*p)+i)+")"),d.height}F(n0,"addText");async function s8(t,e){const i=ci(),r=i.class.padding??12,s=r,a=e.useHtmlLabels??Hr(i.htmlLabels)??!0,o=e;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:l,bbox:h}=await r8(t,e,i,a,s),{labelStyles:d,nodeStyles:p}=Kt(e);e.labelStyle=d,e.cssStyles=o.styles||"";const g=o.styles?.join(";")||p||"";e.cssStyles||(e.cssStyles=g.replaceAll("!important","").split(";"));const v=o.members.length===0&&o.methods.length===0&&!i.class?.hideEmptyMembersBox,_=Vt.svg(l),j=$t(e,{});e.look!=="handDrawn"&&(j.roughness=0,j.fillStyle="solid");const T=h.width;let C=h.height;o.members.length===0&&o.methods.length===0?C+=s:o.members.length>0&&o.methods.length===0&&(C+=s*2);const w=-T/2,A=-C/2,L=_.rectangle(w-r,A-r-(v?r:o.members.length===0&&o.methods.length===0?-r/2:0),T+2*r,C+2*r+(v?r*2:o.members.length===0&&o.methods.length===0?-r:0),j),k=l.insert(()=>L,":first-child");k.attr("class","basic label-container");const I=k.node().getBBox();l.selectAll(".text").each((P,N,G)=>{const te=Kn(G[N]),Q=te.attr("transform");let K=0;if(Q){const V=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Q);V&&(K=parseFloat(V[2]))}let ee=K+A+r-(v?r:o.members.length===0&&o.methods.length===0?-r/2:0);a||(ee-=4);let O=w;(te.attr("class").includes("label-group")||te.attr("class").includes("annotation-group"))&&(O=-te.node()?.getBBox().width/2||0,l.selectAll("text").each(function(q,V,le){window.getComputedStyle(le[V]).textAnchor==="middle"&&(O=0)})),te.attr("transform",`translate(${O}, ${ee})`)});const z=l.select(".annotation-group").node().getBBox().height-(v?r/2:0)||0,U=l.select(".label-group").node().getBBox().height-(v?r/2:0)||0,H=l.select(".members-group").node().getBBox().height-(v?r/2:0)||0;if(o.members.length>0||o.methods.length>0||v){const P=_.line(I.x,z+U+A+r,I.x+I.width,z+U+A+r,j);l.insert(()=>P).attr("class","divider").attr("style",g)}if(v||o.members.length>0||o.methods.length>0){const P=_.line(I.x,z+U+H+A+s*2+r,I.x+I.width,z+U+H+A+r+s*2,j);l.insert(()=>P).attr("class","divider").attr("style",g)}if(o.look!=="handDrawn"&&l.selectAll("path").attr("style",g),k.select(":nth-child(2)").attr("style",g),l.selectAll(".divider").select("path").attr("style",g),e.labelStyle?l.selectAll("span").attr("style",e.labelStyle):l.selectAll("span").attr("style",g),!a){const P=RegExp(/color\s*:\s*([^;]*)/),N=P.exec(g);if(N){const G=N[0].replace("color","fill");l.selectAll("tspan").attr("style",G)}else if(d){const G=P.exec(d);if(G){const te=G[0].replace("color","fill");l.selectAll("tspan").attr("style",te)}}}return Yt(e,k),e.intersect=function(P){return Ht.rect(e,P)},l}F(s8,"classBox");async function a8(t,e){const{labelStyles:i,nodeStyles:r}=Kt(e);e.labelStyle=i;const s=e,a=e,o=20,l=20,h="verifyMethod"in e,d=fn(e),p=t.insert("g").attr("class",d).attr("id",e.domId??e.id);let g;h?g=await wc(p,`&lt;&lt;${s.type}&gt;&gt;`,0,e.labelStyle):g=await wc(p,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let v=g;const _=await wc(p,s.name,v,e.labelStyle+"; font-weight: bold;");if(v+=_+l,h){const z=await wc(p,`${s.requirementId?`id: ${s.requirementId}`:""}`,v,e.labelStyle);v+=z;const U=await wc(p,`${s.text?`Text: ${s.text}`:""}`,v,e.labelStyle);v+=U;const H=await wc(p,`${s.risk?`Risk: ${s.risk}`:""}`,v,e.labelStyle);v+=H,await wc(p,`${s.verifyMethod?`Verification: ${s.verifyMethod}`:""}`,v,e.labelStyle)}else{const z=await wc(p,`${a.type?`Type: ${a.type}`:""}`,v,e.labelStyle);v+=z,await wc(p,`${a.docRef?`Doc Ref: ${a.docRef}`:""}`,v,e.labelStyle)}const j=(p.node()?.getBBox().width??200)+o,T=(p.node()?.getBBox().height??200)+o,C=-j/2,w=-T/2,A=Vt.svg(p),L=$t(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const k=A.rectangle(C,w,j,T,L),I=p.insert(()=>k,":first-child");if(I.attr("class","basic label-container").attr("style",r),p.selectAll(".label").each((z,U,H)=>{const P=Kn(H[U]),N=P.attr("transform");let G=0,te=0;if(N){const O=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(N);O&&(G=parseFloat(O[1]),te=parseFloat(O[2]))}const Q=te-T/2;let K=C+o/2;(U===0||U===1)&&(K=G),P.attr("transform",`translate(${K}, ${Q+o})`)}),v>g+_+l){const z=A.line(C,w+g+_+l,C+j,w+g+_+l,L);p.insert(()=>z).attr("style",r)}return Yt(e,I),e.intersect=function(z){return Ht.rect(e,z)},p}F(a8,"requirementBox");async function wc(t,e,i,r=""){if(e==="")return 0;const s=t.insert("g").attr("class","label").attr("style",r),a=ci(),o=a.htmlLabels??!0,l=await dd(s,Y1(up(e)),{width:Nh(e,a)+50,classes:"markdown-node-label",useHtmlLabels:o,style:r},a);let h;if(o){const d=l.children[0],p=Kn(l);h=d.getBoundingClientRect(),p.attr("width",h.width),p.attr("height",h.height)}else{const d=l.children[0];for(const p of d.children)p.textContent=p.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),r&&p.setAttribute("style",r);h=l.getBBox(),h.height+=6}return s.attr("transform",`translate(${-h.width/2},${-h.height/2+i})`),h.height}F(wc,"addText");var Gae=F(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function o8(t,e,{config:i}){const{labelStyles:r,nodeStyles:s}=Kt(e);e.labelStyle=r||"";const a=10,o=e.width;e.width=(e.width??200)-10;const{shapeSvg:l,bbox:h,label:d}=await gn(t,e,fn(e)),p=e.padding||10;let g="",v;"ticket"in e&&e.ticket&&i?.kanban?.ticketBaseUrl&&(g=i?.kanban?.ticketBaseUrl.replace("#TICKET#",e.ticket),v=l.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",g).attr("target","_blank"));const _={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let j,T;v?{label:j,bbox:T}=await E2(v,"ticket"in e&&e.ticket||"",_):{label:j,bbox:T}=await E2(l,"ticket"in e&&e.ticket||"",_);const{label:C,bbox:w}=await E2(l,"assigned"in e&&e.assigned||"",_);e.width=o;const A=10,L=e?.width||0,k=Math.max(T.height,w.height)/2,I=Math.max(h.height+A*2,e?.height||0)+k,z=-L/2,U=-I/2;d.attr("transform","translate("+(p-L/2)+", "+(-k-h.height/2)+")"),j.attr("transform","translate("+(p-L/2)+", "+(-k+h.height/2)+")"),C.attr("transform","translate("+(p+L/2-w.width-2*a)+", "+(-k+h.height/2)+")");let H;const{rx:P,ry:N}=e,{cssStyles:G}=e;if(e.look==="handDrawn"){const te=Vt.svg(l),Q=$t(e,{}),K=P||N?te.path(zh(z,U,L,I,P||0),Q):te.rectangle(z,U,L,I,Q);H=l.insert(()=>K,":first-child"),H.attr("class","basic label-container").attr("style",G||null)}else{H=l.insert("rect",":first-child"),H.attr("class","basic label-container __APA__").attr("style",s).attr("rx",P??5).attr("ry",N??5).attr("x",z).attr("y",U).attr("width",L).attr("height",I);const te="priority"in e&&e.priority;if(te){const Q=l.append("line"),K=z+2,ee=U+Math.floor((P??0)/2),O=U+I-Math.floor((P??0)/2);Q.attr("x1",K).attr("y1",ee).attr("x2",K).attr("y2",O).attr("stroke-width","4").attr("stroke",Gae(te))}}return Yt(e,H),e.height=I,e.intersect=function(te){return Ht.rect(e,te)},l}F(o8,"kanbanItem");var $ae=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:HH},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:FH},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:VH},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:WH},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:dH},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:sH},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:OH},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:vH},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:AH},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:EH},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:QH},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:CH},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:pH},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:KH},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:iH},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:UH},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:qH},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:$H},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:xH},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:_H},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:lH},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:cH},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:hH},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:RH},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:t8},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:yH},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:ZH},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:LH},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:uH},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:fH},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:e8},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:i8},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:mH},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:JH},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:gH},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:zH},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:NH},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:kH},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:nH},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:oH},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:YH},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:XH},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:n8},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:BH},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:DH}],qae=F(()=>{const e=[...Object.entries({state:GH,choice:rH,note:PH,rectWithTitle:IH,labelRect:MH,iconSquare:wH,iconCircle:jH,icon:bH,iconRounded:SH,imageSquare:TH,anchor:tH,kanbanItem:o8,classBox:s8,erBox:UA,requirementBox:a8}),...$ae.flatMap(i=>[i.shortName,..."aliases"in i?i.aliases:[],..."internalAliases"in i?i.internalAliases:[]].map(s=>[s,i.handler]))];return Object.fromEntries(e)},"generateShapeMap"),l8=qae();function Wae(t){return t in l8}F(Wae,"isValidShape");var pw=new Map;async function c8(t,e,i){let r,s;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const a=e.shape?l8[e.shape]:void 0;if(!a)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let o;i.config.securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o??null),s=await a(r,e,i)}else s=await a(t,e,i),r=s;return e.tooltip&&s.attr("title",e.tooltip),pw.set(e.id,r),e.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}F(c8,"insertNode");var ePe=F((t,e)=>{pw.set(e.id,t)},"setNodeElem"),tPe=F(()=>{pw.clear()},"clear"),nPe=F(t=>{const e=pw.get(t.id);nt.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const i=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-i)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),Xae=F((t,e,i,r,s,a)=>{e.arrowTypeStart&&Fk(t,"start",e.arrowTypeStart,i,r,s,a),e.arrowTypeEnd&&Fk(t,"end",e.arrowTypeEnd,i,r,s,a)},"addEdgeMarkers"),Yae={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},Fk=F((t,e,i,r,s,a,o)=>{const l=Yae[i];if(!l){nt.warn(`Unknown arrow type: ${i}`);return}const h=l.type,p=`${s}_${a}-${h}${e==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const g=o.replace(/[^\dA-Za-z]/g,"_"),v=`${p}_${g}`;if(!document.getElementById(v)){const _=document.getElementById(p);if(_){const j=_.cloneNode(!0);j.id=v,j.querySelectorAll("path, circle, line").forEach(C=>{C.setAttribute("stroke",o),l.fill&&C.setAttribute("fill",o)}),_.parentNode?.appendChild(j)}}t.attr(`marker-${e}`,`url(${r}#${v})`)}else t.attr(`marker-${e}`,`url(${r}#${p})`)},"addEdgeMarker"),VS=new Map,ds=new Map,iPe=F(()=>{VS.clear(),ds.clear()},"clear"),Ny=F(t=>t?t.reduce((i,r)=>i+";"+r,""):"","getLabelStyles"),Kae=F(async(t,e)=>{let i=Hr(ci().flowchart.htmlLabels);const r=await dd(t,e.label,{style:Ny(e.labelStyle),useHtmlLabels:i,addSvgBackground:!0,isNode:!1});nt.info("abc82",e,e.labelType);const s=t.insert("g").attr("class","edgeLabel"),a=s.insert("g").attr("class","label");a.node().appendChild(r);let o=r.getBBox();if(i){const h=r.children[0],d=Kn(r);o=h.getBoundingClientRect(),d.attr("width",o.width),d.attr("height",o.height)}a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),VS.set(e.id,s),e.width=o.width,e.height=o.height;let l;if(e.startLabelLeft){const h=await Ff(e.startLabelLeft,Ny(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");l=p.node().appendChild(h);const g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),ds.get(e.id)||ds.set(e.id,{}),ds.get(e.id).startLeft=d,i0(l,e.startLabelLeft)}if(e.startLabelRight){const h=await Ff(e.startLabelRight,Ny(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");l=d.node().appendChild(h),p.node().appendChild(h);const g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),ds.get(e.id)||ds.set(e.id,{}),ds.get(e.id).startRight=d,i0(l,e.startLabelRight)}if(e.endLabelLeft){const h=await Ff(e.endLabelLeft,Ny(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");l=p.node().appendChild(h);const g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),ds.get(e.id)||ds.set(e.id,{}),ds.get(e.id).endLeft=d,i0(l,e.endLabelLeft)}if(e.endLabelRight){const h=await Ff(e.endLabelRight,Ny(e.labelStyle)),d=t.insert("g").attr("class","edgeTerminals"),p=d.insert("g").attr("class","inner");l=p.node().appendChild(h);const g=h.getBBox();p.attr("transform","translate("+-g.width/2+", "+-g.height/2+")"),d.node().appendChild(h),ds.get(e.id)||ds.set(e.id,{}),ds.get(e.id).endRight=d,i0(l,e.endLabelRight)}return r},"insertEdgeLabel");function i0(t,e){ci().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}F(i0,"setTerminalWidth");var Zae=F((t,e)=>{nt.debug("Moving label abc88 ",t.id,t.label,VS.get(t.id),e);let i=e.updatedPath?e.updatedPath:e.originalPath;const r=ci(),{subGraphTitleTotalMargin:s}=rA(r);if(t.label){const a=VS.get(t.id);let o=t.x,l=t.y;if(i){const h=Cc.calcLabelPosition(i);nt.debug("Moving label "+t.label+" from (",o,",",l,") to (",h.x,",",h.y,") abc88"),e.updatedPath&&(o=h.x,l=h.y)}a.attr("transform",`translate(${o}, ${l+s/2})`)}if(t.startLabelLeft){const a=ds.get(t.id).startLeft;let o=t.x,l=t.y;if(i){const h=Cc.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",i);o=h.x,l=h.y}a.attr("transform",`translate(${o}, ${l})`)}if(t.startLabelRight){const a=ds.get(t.id).startRight;let o=t.x,l=t.y;if(i){const h=Cc.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",i);o=h.x,l=h.y}a.attr("transform",`translate(${o}, ${l})`)}if(t.endLabelLeft){const a=ds.get(t.id).endLeft;let o=t.x,l=t.y;if(i){const h=Cc.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",i);o=h.x,l=h.y}a.attr("transform",`translate(${o}, ${l})`)}if(t.endLabelRight){const a=ds.get(t.id).endRight;let o=t.x,l=t.y;if(i){const h=Cc.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",i);o=h.x,l=h.y}a.attr("transform",`translate(${o}, ${l})`)}},"positionEdgeLabel"),Qae=F((t,e)=>{const i=t.x,r=t.y,s=Math.abs(e.x-i),a=Math.abs(e.y-r),o=t.width/2,l=t.height/2;return s>=o||a>=l},"outsideNode"),Jae=F((t,e,i)=>{nt.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(i)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,s=t.y,a=Math.abs(r-i.x),o=t.width/2;let l=i.x<e.x?o-a:o+a;const h=t.height/2,d=Math.abs(e.y-i.y),p=Math.abs(e.x-i.x);if(Math.abs(s-e.y)*o>Math.abs(r-e.x)*h){let g=i.y<e.y?e.y-h-s:s-h-e.y;l=p*g/d;const v={x:i.x<e.x?i.x+l:i.x-p+l,y:i.y<e.y?i.y+d-g:i.y-d+g};return l===0&&(v.x=e.x,v.y=e.y),p===0&&(v.x=e.x),d===0&&(v.y=e.y),nt.debug(`abc89 top/bottom calc, Q ${d}, q ${g}, R ${p}, r ${l}`,v),v}else{i.x<e.x?l=e.x-o-r:l=r-o-e.x;let g=d*l/p,v=i.x<e.x?i.x+p-l:i.x-p+l,_=i.y<e.y?i.y+g:i.y-g;return nt.debug(`sides calc abc89, Q ${d}, q ${g}, R ${p}, r ${l}`,{_x:v,_y:_}),l===0&&(v=e.x,_=e.y),p===0&&(v=e.x),d===0&&(_=e.y),{x:v,y:_}}},"intersection"),Uk=F((t,e)=>{nt.warn("abc88 cutPathAtIntersect",t,e);let i=[],r=t[0],s=!1;return t.forEach(a=>{if(nt.info("abc88 checking point",a,e),!Qae(e,a)&&!s){const o=Jae(e,r,a);nt.debug("abc88 inside",a,r,o),nt.debug("abc88 intersection",o,e);let l=!1;i.forEach(h=>{l=l||h.x===o.x&&h.y===o.y}),i.some(h=>h.x===o.x&&h.y===o.y)?nt.warn("abc88 no intersect",o,i):i.push(o),s=!0}else nt.warn("abc88 outside",a,r),r=a,s||i.push(a)}),nt.debug("returning points",i),i},"cutPathAtIntersect");function h8(t){const e=[],i=[];for(let r=1;r<t.length-1;r++){const s=t[r-1],a=t[r],o=t[r+1];(s.x===a.x&&a.y===o.y&&Math.abs(a.x-o.x)>5&&Math.abs(a.y-s.y)>5||s.y===a.y&&a.x===o.x&&Math.abs(a.x-s.x)>5&&Math.abs(a.y-o.y)>5)&&(e.push(a),i.push(r))}return{cornerPoints:e,cornerPointPositions:i}}F(h8,"extractCornerPoints");var zk=F(function(t,e,i){const r=e.x-t.x,s=e.y-t.y,a=Math.sqrt(r*r+s*s),o=i/a;return{x:e.x-o*r,y:e.y-o*s}},"findAdjacentPoint"),eoe=F(function(t){const{cornerPointPositions:e}=h8(t),i=[];for(let r=0;r<t.length;r++)if(e.includes(r)){const s=t[r-1],a=t[r+1],o=t[r],l=zk(s,o,5),h=zk(a,o,5),d=h.x-l.x,p=h.y-l.y;i.push(l);const g=Math.sqrt(2)*2;let v={x:o.x,y:o.y};if(Math.abs(a.x-s.x)>10&&Math.abs(a.y-s.y)>=10){nt.debug("Corner point fixing",Math.abs(a.x-s.x),Math.abs(a.y-s.y));const _=5;o.x===l.x?v={x:d<0?l.x-_+g:l.x+_-g,y:p<0?l.y-g:l.y+g}:v={x:d<0?l.x-g:l.x+g,y:p<0?l.y-_+g:l.y+_-g}}else nt.debug("Corner point skipping fixing",Math.abs(a.x-s.x),Math.abs(a.y-s.y));i.push(v,h)}else i.push(t[r]);return i},"fixCorners"),toe=F(function(t,e,i,r,s,a,o){const{handDrawnSeed:l}=ci();let h=e.points,d=!1;const p=s;var g=a;const v=[];for(const P in e.cssCompiledStyles)K4(P)||v.push(e.cssCompiledStyles[P]);g.intersect&&p.intersect&&(h=h.slice(1,e.points.length-1),h.unshift(p.intersect(h[0])),nt.debug("Last point APA12",e.start,"-->",e.end,h[h.length-1],g,g.intersect(h[h.length-1])),h.push(g.intersect(h[h.length-1]))),e.toCluster&&(nt.info("to cluster abc88",i.get(e.toCluster)),h=Uk(e.points,i.get(e.toCluster).node),d=!0),e.fromCluster&&(nt.debug("from cluster abc88",i.get(e.fromCluster),JSON.stringify(h,null,2)),h=Uk(h.reverse(),i.get(e.fromCluster).node).reverse(),d=!0);let _=h.filter(P=>!Number.isNaN(P.y));_=eoe(_);let j=kj;switch(j=CS,e.curve){case"linear":j=CS;break;case"basis":j=kj;break;case"cardinal":j=Lz;break;case"bumpX":j=Cz;break;case"bumpY":j=Mz;break;case"catmullRom":j=kz;break;case"monotoneX":j=Fz;break;case"monotoneY":j=Uz;break;case"natural":j=Hz;break;case"step":j=Vz;break;case"stepAfter":j=$z;break;case"stepBefore":j=Gz;break;default:j=kj}const{x:T,y:C}=wQ(e),w=Zte().x(T).y(C).curve(j);let A;switch(e.thickness){case"normal":A="edge-thickness-normal";break;case"thick":A="edge-thickness-thick";break;case"invisible":A="edge-thickness-invisible";break;default:A="edge-thickness-normal"}switch(e.pattern){case"solid":A+=" edge-pattern-solid";break;case"dotted":A+=" edge-pattern-dotted";break;case"dashed":A+=" edge-pattern-dashed";break;default:A+=" edge-pattern-solid"}let L,k=w(_);const I=Array.isArray(e.style)?e.style:e.style?[e.style]:[];let z=I.find(P=>P?.startsWith("stroke:"));if(e.look==="handDrawn"){const P=Vt.svg(t);Object.assign([],_);const N=P.path(k,{roughness:.3,seed:l});A+=" transition",L=Kn(N).select("path").attr("id",e.id).attr("class"," "+A+(e.classes?" "+e.classes:"")).attr("style",I?I.reduce((te,Q)=>te+";"+Q,""):"");let G=L.attr("d");L.attr("d",G),t.node().appendChild(L.node())}else{const P=v.join(";"),N=I?I.reduce((Q,K)=>Q+K+";",""):"";let G="";e.animate&&(G=" edge-animation-fast"),e.animation&&(G=" edge-animation-"+e.animation);const te=P?P+";"+N+";":N;L=t.append("path").attr("d",k).attr("id",e.id).attr("class"," "+A+(e.classes?" "+e.classes:"")+(G??"")).attr("style",te),z=te.match(/stroke:([^;]+)/)?.[1]}let U="";(ci().flowchart.arrowMarkerAbsolute||ci().state.arrowMarkerAbsolute)&&(U=dU(!0)),nt.info("arrowTypeStart",e.arrowTypeStart),nt.info("arrowTypeEnd",e.arrowTypeEnd),Xae(L,e,U,o,r,z);let H={};return d&&(H.updatedPath=h),H.originalPath=e.points,H},"insertEdge"),noe=F((t,e,i,r)=>{e.forEach(s=>{yoe[s](t,i,r)})},"insertMarkers"),ioe=F((t,e,i)=>{nt.trace("Making markers for ",i),t.append("defs").append("marker").attr("id",i+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),roe=F((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),soe=F((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),aoe=F((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),ooe=F((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",i+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),loe=F((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),coe=F((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),hoe=F((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),uoe=F((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),doe=F((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",i+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),foe=F((t,e,i)=>{const r=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),r.append("path").attr("d","M9,0 L9,18");const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),s.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),poe=F((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",i+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),moe=F((t,e,i)=>{const r=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");r.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),r.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),s.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),goe=F((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),xoe=F((t,e,i)=>{const r=t.append("defs").append("marker").attr("id",i+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");r.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),r.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),r.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),yoe={extension:ioe,composition:roe,aggregation:soe,dependency:aoe,lollipop:ooe,point:loe,circle:coe,cross:hoe,barb:uoe,only_one:doe,zero_or_one:foe,one_or_more:poe,zero_or_more:moe,requirement_arrow:goe,requirement_contains:xoe},voe=noe,_oe={common:qg,getConfig:Ha,insertCluster:Eae,insertEdge:toe,insertEdgeLabel:Kae,insertMarkers:voe,insertNode:c8,interpolateToCurve:bA,labelHelper:gn,log:nt,positionEdgeLabel:Zae},V0={},u8=F(t=>{for(const e of t)V0[e.name]=e},"registerLayoutLoaders"),boe=F(()=>{u8([{name:"dagre",loader:F(async()=>await ie(()=>import("./dagre-FFZHY6LT-uaKLeTY0.js"),__vite__mapDeps([92,93,94,95,96,97])),"loader")}])},"registerDefaultLayoutLoaders");boe();var rPe=F(async(t,e)=>{if(!(t.layoutAlgorithm in V0))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const i=V0[t.layoutAlgorithm];return(await i.loader()).render(t,e,_oe,{algorithm:i.algorithm})},"render"),sPe=F((t="",{fallback:e="dagre"}={})=>{if(t in V0)return t;if(e in V0)return nt.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),Hk={name:"mermaid",version:"11.8.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.9",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^15.0.7",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.0.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},joe=F(t=>{const{securityLevel:e}=ci();let i=Kn("body");if(e==="sandbox"){const a=Kn(`#i${t}`).node()?.contentDocument??document;i=Kn(a.body)}return i.select(`#${t}`)},"selectSvgElement"),d8="comm",f8="rule",p8="decl",Soe="@import",woe="@namespace",Toe="@keyframes",Coe="@layer",m8=Math.abs,zA=String.fromCharCode;function g8(t){return t.trim()}function Bj(t,e,i){return t.replace(e,i)}function Moe(t,e,i){return t.indexOf(e,i)}function rg(t,e){return t.charCodeAt(e)|0}function Eg(t,e,i){return t.slice(e,i)}function Tc(t){return t.length}function Eoe(t){return t.length}function Cb(t,e){return e.push(t),t}var mw=1,Ag=1,x8=0,Wo=0,Cr=0,Zg="";function HA(t,e,i,r,s,a,o,l){return{value:t,root:e,parent:i,type:r,props:s,children:a,line:mw,column:Ag,length:o,return:"",siblings:l}}function Aoe(){return Cr}function Roe(){return Cr=Wo>0?rg(Zg,--Wo):0,Ag--,Cr===10&&(Ag=1,mw--),Cr}function Rl(){return Cr=Wo<x8?rg(Zg,Wo++):0,Ag++,Cr===10&&(Ag=1,mw++),Cr}function Qu(){return rg(Zg,Wo)}function Ij(){return Wo}function gw(t,e){return Eg(Zg,t,e)}function G0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Loe(t){return mw=Ag=1,x8=Tc(Zg=t),Wo=0,[]}function Doe(t){return Zg="",t}function A2(t){return g8(gw(Wo-1,XM(t===91?t+2:t===40?t+1:t)))}function koe(t){for(;(Cr=Qu())&&Cr<33;)Rl();return G0(t)>2||G0(Cr)>3?"":" "}function Noe(t,e){for(;--e&&Rl()&&!(Cr<48||Cr>102||Cr>57&&Cr<65||Cr>70&&Cr<97););return gw(t,Ij()+(e<6&&Qu()==32&&Rl()==32))}function XM(t){for(;Rl();)switch(Cr){case t:return Wo;case 34:case 39:t!==34&&t!==39&&XM(Cr);break;case 40:t===41&&XM(t);break;case 92:Rl();break}return Wo}function Poe(t,e){for(;Rl()&&t+Cr!==57;)if(t+Cr===84&&Qu()===47)break;return"/*"+gw(e,Wo-1)+"*"+zA(t===47?t:Rl())}function Ooe(t){for(;!G0(Qu());)Rl();return gw(t,Wo)}function Boe(t){return Doe(Fj("",null,null,null,[""],t=Loe(t),0,[0],t))}function Fj(t,e,i,r,s,a,o,l,h){for(var d=0,p=0,g=o,v=0,_=0,j=0,T=1,C=1,w=1,A=0,L="",k=s,I=a,z=r,U=L;C;)switch(j=A,A=Rl()){case 40:if(j!=108&&rg(U,g-1)==58){Moe(U+=Bj(A2(A),"&","&\f"),"&\f",m8(d?l[d-1]:0))!=-1&&(w=-1);break}case 34:case 39:case 91:U+=A2(A);break;case 9:case 10:case 13:case 32:U+=koe(j);break;case 92:U+=Noe(Ij()-1,7);continue;case 47:switch(Qu()){case 42:case 47:Cb(Ioe(Poe(Rl(),Ij()),e,i,h),h),(G0(j||1)==5||G0(Qu()||1)==5)&&Tc(U)&&Eg(U,-1,void 0)!==" "&&(U+=" ");break;default:U+="/"}break;case 123*T:l[d++]=Tc(U)*w;case 125*T:case 59:case 0:switch(A){case 0:case 125:C=0;case 59+p:w==-1&&(U=Bj(U,/\f/g,"")),_>0&&(Tc(U)-g||T===0&&j===47)&&Cb(_>32?Gk(U+";",r,i,g-1,h):Gk(Bj(U," ","")+";",r,i,g-2,h),h);break;case 59:U+=";";default:if(Cb(z=Vk(U,e,i,d,p,s,l,L,k=[],I=[],g,a),a),A===123)if(p===0)Fj(U,e,z,z,k,a,g,l,I);else{switch(v){case 99:if(rg(U,3)===110)break;case 108:if(rg(U,2)===97)break;default:p=0;case 100:case 109:case 115:}p?Fj(t,z,z,r&&Cb(Vk(t,z,z,0,0,s,l,L,s,k=[],g,I),I),s,I,g,l,r?k:I):Fj(U,z,z,z,[""],I,0,l,I)}}d=p=_=0,T=w=1,L=U="",g=o;break;case 58:g=1+Tc(U),_=j;default:if(T<1){if(A==123)--T;else if(A==125&&T++==0&&Roe()==125)continue}switch(U+=zA(A),A*T){case 38:w=p>0?1:(U+="\f",-1);break;case 44:l[d++]=(Tc(U)-1)*w,w=1;break;case 64:Qu()===45&&(U+=A2(Rl())),v=Qu(),p=g=Tc(L=U+=Ooe(Ij())),A++;break;case 45:j===45&&Tc(U)==2&&(T=0)}}return a}function Vk(t,e,i,r,s,a,o,l,h,d,p,g){for(var v=s-1,_=s===0?a:[""],j=Eoe(_),T=0,C=0,w=0;T<r;++T)for(var A=0,L=Eg(t,v+1,v=m8(C=o[T])),k=t;A<j;++A)(k=g8(C>0?_[A]+" "+L:Bj(L,/&\f/g,_[A])))&&(h[w++]=k);return HA(t,e,i,s===0?f8:l,h,d,p,g)}function Ioe(t,e,i,r){return HA(t,e,i,d8,zA(Aoe()),Eg(t,2,-2),0,r)}function Gk(t,e,i,r,s){return HA(t,e,i,p8,Eg(t,0,r),Eg(t,r+1,-1),r,s)}function YM(t,e){for(var i="",r=0;r<t.length;r++)i+=e(t[r],r,t,e)||"";return i}function Foe(t,e,i,r){switch(t.type){case Coe:if(t.children.length)break;case Soe:case woe:case p8:return t.return=t.return||t.value;case d8:return"";case Toe:return t.return=t.value+"{"+YM(t.children,r)+"}";case f8:if(!Tc(t.value=t.props.join(",")))return""}return Tc(i=YM(t.children,r))?t.return=t.value+"{"+i+"}":""}var Uoe=Yz(Object.keys,Object),zoe=Object.prototype,Hoe=zoe.hasOwnProperty;function Voe(t){if(!aw(t))return Uoe(t);var e=[];for(var i in Object(t))Hoe.call(t,i)&&i!="constructor"&&e.push(i);return e}var KM=hp(Ic,"DataView"),ZM=hp(Ic,"Promise"),QM=hp(Ic,"Set"),JM=hp(Ic,"WeakMap"),$k="[object Map]",Goe="[object Object]",qk="[object Promise]",Wk="[object Set]",Xk="[object WeakMap]",Yk="[object DataView]",$oe=cp(KM),qoe=cp(H0),Woe=cp(ZM),Xoe=cp(QM),Yoe=cp(JM),Af=Xg;(KM&&Af(new KM(new ArrayBuffer(1)))!=Yk||H0&&Af(new H0)!=$k||ZM&&Af(ZM.resolve())!=qk||QM&&Af(new QM)!=Wk||JM&&Af(new JM)!=Xk)&&(Af=function(t){var e=Xg(t),i=e==Goe?t.constructor:void 0,r=i?cp(i):"";if(r)switch(r){case $oe:return Yk;case qoe:return $k;case Woe:return qk;case Xoe:return Wk;case Yoe:return Xk}return e});var Koe="[object Map]",Zoe="[object Set]",Qoe=Object.prototype,Joe=Qoe.hasOwnProperty;function Kk(t){if(t==null)return!0;if(ow(t)&&(kS(t)||typeof t=="string"||typeof t.splice=="function"||vA(t)||_A(t)||DS(t)))return!t.length;var e=Af(t);if(e==Koe||e==Zoe)return!t.size;if(aw(t))return!Voe(t).length;for(var i in t)if(Joe.call(t,i))return!1;return!0}var y8="c4",ele=F(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),tle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./c4Diagram-6F6E4RAY-DMRJzWzG.js");return{diagram:e}},__vite__mapDeps([98,99]));return{id:y8,diagram:t}},"loader"),nle={id:y8,detector:ele,loader:tle},ile=nle,v8="flowchart",rle=F((t,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(t),"detector"),sle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./flowDiagram-PKI6S5ZS-gHzBip7Z.js");return{diagram:e}},__vite__mapDeps([100,101,102,103,104]));return{id:v8,diagram:t}},"loader"),ale={id:v8,detector:rle,loader:sle},ole=ale,_8="flowchart-v2",lle=F((t,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(t)),"detector"),cle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./flowDiagram-PKI6S5ZS-gHzBip7Z.js");return{diagram:e}},__vite__mapDeps([100,101,102,103,104]));return{id:_8,diagram:t}},"loader"),hle={id:_8,detector:lle,loader:cle},ule=hle,b8="er",dle=F(t=>/^\s*erDiagram/.test(t),"detector"),fle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./erDiagram-R3QVA2FD-CYl36Jmz.js");return{diagram:e}},__vite__mapDeps([105,102,103,104]));return{id:b8,diagram:t}},"loader"),ple={id:b8,detector:dle,loader:fle},mle=ple,j8="gitGraph",gle=F(t=>/^\s*gitGraph/.test(t),"detector"),xle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./gitGraphDiagram-GW3U2K7C-BNizPoKb.js");return{diagram:e}},__vite__mapDeps([106,107,108,109,94,96,97]));return{id:j8,diagram:t}},"loader"),yle={id:j8,detector:gle,loader:xle},vle=yle,S8="gantt",_le=F(t=>/^\s*gantt/.test(t),"detector"),ble=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./ganttDiagram-EK5VF46D-DsdYXSZv.js");return{diagram:e}},__vite__mapDeps([110,111,112,113]));return{id:S8,diagram:t}},"loader"),jle={id:S8,detector:_le,loader:ble},Sle=jle,w8="info",wle=F(t=>/^\s*info/.test(t),"detector"),Tle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./infoDiagram-RLU2ROGC-CyN_kS_U.js");return{diagram:e}},__vite__mapDeps([114,109,94,96,97]));return{id:w8,diagram:t}},"loader"),Cle={id:w8,detector:wle,loader:Tle},T8="pie",Mle=F(t=>/^\s*pie/.test(t),"detector"),Ele=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./pieDiagram-NIOCPIFQ-DSxjnQqK.js");return{diagram:e}},__vite__mapDeps([115,107,109,94,96,97,116,117,112]));return{id:T8,diagram:t}},"loader"),Ale={id:T8,detector:Mle,loader:Ele},C8="quadrantChart",Rle=F(t=>/^\s*quadrantChart/.test(t),"detector"),Lle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./quadrantDiagram-2OG54O6I-_dBhgpsj.js");return{diagram:e}},__vite__mapDeps([118,111,112,113]));return{id:C8,diagram:t}},"loader"),Dle={id:C8,detector:Rle,loader:Lle},kle=Dle,M8="xychart",Nle=F(t=>/^\s*xychart-beta/.test(t),"detector"),Ple=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./xychartDiagram-H2YORKM3-CmCIPnNh.js");return{diagram:e}},__vite__mapDeps([119,112,117,111,113]));return{id:M8,diagram:t}},"loader"),Ole={id:M8,detector:Nle,loader:Ple},Ble=Ole,E8="requirement",Ile=F(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),Fle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./requirementDiagram-SO3GGRV7-DIvCl4Al.js");return{diagram:e}},__vite__mapDeps([120,102,103]));return{id:E8,diagram:t}},"loader"),Ule={id:E8,detector:Ile,loader:Fle},zle=Ule,A8="sequence",Hle=F(t=>/^\s*sequenceDiagram/.test(t),"detector"),Vle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./sequenceDiagram-ZIKVLSP4-CWjKkc12.js");return{diagram:e}},__vite__mapDeps([121,99,108]));return{id:A8,diagram:t}},"loader"),Gle={id:A8,detector:Hle,loader:Vle},$le=Gle,R8="class",qle=F((t,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t),"detector"),Wle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./classDiagram-BGRH5UQR-CFeGVbmb.js");return{diagram:e}},__vite__mapDeps([122,123,101,102,103]));return{id:R8,diagram:t}},"loader"),Xle={id:R8,detector:qle,loader:Wle},Yle=Xle,L8="classDiagram",Kle=F((t,e)=>/^\s*classDiagram/.test(t)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t),"detector"),Zle=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./classDiagram-v2-O24JOBDK-CFeGVbmb.js");return{diagram:e}},__vite__mapDeps([124,123,101,102,103]));return{id:L8,diagram:t}},"loader"),Qle={id:L8,detector:Kle,loader:Zle},Jle=Qle,D8="state",ece=F((t,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t),"detector"),tce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./stateDiagram-XX37X6EN-CBafzAKa.js");return{diagram:e}},__vite__mapDeps([125,126,102,103,93,94,95,96]));return{id:D8,diagram:t}},"loader"),nce={id:D8,detector:ece,loader:tce},ice=nce,k8="stateDiagram",rce=F((t,e)=>!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),sce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./stateDiagram-v2-GD6S3NHB-CRUwY8hx.js");return{diagram:e}},__vite__mapDeps([127,126,102,103]));return{id:k8,diagram:t}},"loader"),ace={id:k8,detector:rce,loader:sce},oce=ace,N8="journey",lce=F(t=>/^\s*journey/.test(t),"detector"),cce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./journeyDiagram-EWQZEKCU-BpHYQnV9.js");return{diagram:e}},__vite__mapDeps([128,99,101,116]));return{id:N8,diagram:t}},"loader"),hce={id:N8,detector:lce,loader:cce},uce=hce,dce=F((t,e,i)=>{nt.debug(`rendering svg for syntax error
`);const r=joe(e),s=r.append("g");r.attr("viewBox","0 0 2412 512"),fU(r,100,512,!0),s.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),s.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),s.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),s.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),s.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),s.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),s.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),s.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${i}`)},"draw"),P8={draw:dce},fce=P8,pce={db:{},renderer:P8,parser:{parse:F(()=>{},"parse")}},mce=pce,O8="flowchart-elk",gce=F((t,e={})=>/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),xce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./flowDiagram-PKI6S5ZS-gHzBip7Z.js");return{diagram:e}},__vite__mapDeps([100,101,102,103,104]));return{id:O8,diagram:t}},"loader"),yce={id:O8,detector:gce,loader:xce},vce=yce,B8="timeline",_ce=F(t=>/^\s*timeline/.test(t),"detector"),bce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./timeline-definition-RI47OAVP-CAXLuuiv.js");return{diagram:e}},__vite__mapDeps([129,116]));return{id:B8,diagram:t}},"loader"),jce={id:B8,detector:_ce,loader:bce},Sce=jce,I8="mindmap",wce=F(t=>/^\s*mindmap/.test(t),"detector"),Tce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./mindmap-definition-CZNETY7S-DJVoGMG3.js");return{diagram:e}},__vite__mapDeps([130,131]));return{id:I8,diagram:t}},"loader"),Cce={id:I8,detector:wce,loader:Tce},Mce=Cce,F8="kanban",Ece=F(t=>/^\s*kanban/.test(t),"detector"),Ace=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./kanban-definition-ILFWEQ3N-DJ6R8D3P.js");return{diagram:e}},__vite__mapDeps([132,101]));return{id:F8,diagram:t}},"loader"),Rce={id:F8,detector:Ece,loader:Ace},Lce=Rce,U8="sankey",Dce=F(t=>/^\s*sankey-beta/.test(t),"detector"),kce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./sankeyDiagram-4UZDY2LN-CFnphS-o.js");return{diagram:e}},__vite__mapDeps([133,117,112]));return{id:U8,diagram:t}},"loader"),Nce={id:U8,detector:Dce,loader:kce},Pce=Nce,z8="packet",Oce=F(t=>/^\s*packet-beta/.test(t),"detector"),Bce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./diagram-5UYTHUR4-DeP8RViG.js");return{diagram:e}},__vite__mapDeps([134,107,109,94,96,97]));return{id:z8,diagram:t}},"loader"),Ice={id:z8,detector:Oce,loader:Bce},H8="radar",Fce=F(t=>/^\s*radar-beta/.test(t),"detector"),Uce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./diagram-ZTM2IBQH-ImG0xLWM.js");return{diagram:e}},__vite__mapDeps([135,107,109,94,96,97]));return{id:H8,diagram:t}},"loader"),zce={id:H8,detector:Fce,loader:Uce},V8="block",Hce=F(t=>/^\s*block-beta/.test(t),"detector"),Vce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./blockDiagram-PHRCVELO-C6vLHyrE.js");return{diagram:e}},__vite__mapDeps([136,101,97,94,93,104]));return{id:V8,diagram:t}},"loader"),Gce={id:V8,detector:Hce,loader:Vce},$ce=Gce,G8="architecture",qce=F(t=>/^\s*architecture/.test(t),"detector"),Wce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./architectureDiagram-NQ2NVSRB-zvemkbzl.js");return{diagram:e}},__vite__mapDeps([137,107,108,109,94,96,97,131]));return{id:G8,diagram:t}},"loader"),Xce={id:G8,detector:qce,loader:Wce},Yce=Xce,$8="treemap",Kce=F(t=>/^\s*treemap/.test(t),"detector"),Zce=F(async()=>{const{diagram:t}=await ie(async()=>{const{diagram:e}=await import("./diagram-3EMPZRKU-BkjuvQHq.js");return{diagram:e}},__vite__mapDeps([138,103,107,108,109,94,96,97,113,117,112]));return{id:$8,diagram:t}},"loader"),Qce={id:$8,detector:Kce,loader:Zce},Zk=!1,xw=F(()=>{Zk||(Zk=!0,fS("error",mce,t=>t.toLowerCase().trim()==="error"),fS("---",{db:{clear:F(()=>{},"clear")},styles:{},renderer:{draw:F(()=>{},"draw")},parser:{parse:F(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:F(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),oM(vce,Mce,Yce),oM(ile,Lce,Jle,Yle,mle,Sle,Cle,Ale,zle,$le,ule,ole,Sce,vle,oce,ice,uce,kle,Pce,Ice,Ble,$ce,zce,Qce))},"addDiagrams"),Jce=F(async()=>{nt.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(_g).map(async([i,{detector:r,loader:s}])=>{if(s)try{uM(i)}catch{try{const{diagram:a,id:o}=await s();fS(o,a,r)}catch(a){throw nt.error(`Failed to load external diagram with key ${i}. Removing from detectors.`),delete _g[i],a}}}))).filter(i=>i.status==="rejected");if(e.length>0){nt.error(`Failed to load ${e.length} external diagrams`);for(const i of e)nt.error(i);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),ehe="graphics-document document";function q8(t,e){t.attr("role",ehe),e!==""&&t.attr("aria-roledescription",e)}F(q8,"setA11yDiagramInfo");function W8(t,e,i,r){if(t.insert!==void 0){if(i){const s=`chart-desc-${r}`;t.attr("aria-describedby",s),t.insert("desc",":first-child").attr("id",s).text(i)}if(e){const s=`chart-title-${r}`;t.attr("aria-labelledby",s),t.insert("title",":first-child").attr("id",s).text(e)}}}F(W8,"addSVGa11yTitleDescription");var Kf,eE=(Kf=class{constructor(e,i,r,s,a){this.type=e,this.text=i,this.db=r,this.parser=s,this.renderer=a}static async fromText(e,i={}){const r=Ha(),s=$E(e,r);e=Zre(e)+`
`;try{uM(s)}catch{const d=TK(s);if(!d)throw new JF(`Diagram ${s} not found.`);const{id:p,diagram:g}=await d();fS(p,g)}const{db:a,parser:o,renderer:l,init:h}=uM(s);return o.parser&&(o.parser.yy=a),a.clear?.(),h?.(r),i.title&&a.setDiagramTitle?.(i.title),await o.parse(e),new Kf(s,e,a,o,l)}async render(e,i){await this.renderer.draw(this.text,e,i,this)}getParser(){return this.parser}getType(){return this.type}},F(Kf,"Diagram"),Kf),Qk=[],the=F(()=>{Qk.forEach(t=>{t()}),Qk=[]},"attachFunctions"),nhe=F(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function X8(t){const e=t.match(QF);if(!e)return{text:t,metadata:{}};let i=SQ(e[1],{schema:jQ})??{};i=typeof i=="object"&&!Array.isArray(i)?i:{};const r={};return i.displayMode&&(r.displayMode=i.displayMode.toString()),i.title&&(r.title=i.title.toString()),i.config&&(r.config=i.config),{text:t.slice(e[0].length),metadata:r}}F(X8,"extractFrontMatter");var ihe=F(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,i,r)=>"<"+i+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),rhe=F(t=>{const{text:e,metadata:i}=X8(t),{displayMode:r,title:s,config:a={}}=i;return r&&(a.gantt||(a.gantt={}),a.gantt.displayMode=r),{title:s,config:a,text:e}},"processFrontmatter"),she=F(t=>{const e=Cc.detectInit(t)??{},i=Cc.detectDirective(t,"wrap");return Array.isArray(i)?e.wrap=i.some(({type:r})=>r==="wrap"):i?.type==="wrap"&&(e.wrap=!0),{text:Ire(t),directive:e}},"processDirectives");function VA(t){const e=ihe(t),i=rhe(e),r=she(i.text),s=CA(i.config,r.directive);return t=nhe(r.text),{code:t,title:i.title,config:s}}F(VA,"preprocessDiagram");function Y8(t){const e=new TextEncoder().encode(t),i=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(i)}F(Y8,"toBase64");var ahe=5e4,ohe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",lhe="sandbox",che="loose",hhe="http://www.w3.org/2000/svg",uhe="http://www.w3.org/1999/xlink",dhe="http://www.w3.org/1999/xhtml",fhe="100%",phe="100%",mhe="border:0;margin:0;",ghe="margin:0",xhe="allow-top-navigation-by-user-activation allow-popups",yhe='The "iframe" tag is not supported by your browser.',vhe=["foreignobject"],_he=["dominant-baseline"];function GA(t){const e=VA(t);return uS(),zK(e.config??{}),e}F(GA,"processAndSetConfigs");async function K8(t,e){xw();try{const{code:i,config:r}=GA(t);return{diagramType:(await Q8(i)).type,config:r}}catch(i){if(e?.suppressErrors)return!1;throw i}}F(K8,"parse");var Jk=F((t,e,i=[])=>`
.${t} ${e} { ${i.join(" !important; ")} !important; }`,"cssImportantStyles"),bhe=F((t,e=new Map)=>{let i="";if(t.themeCSS!==void 0&&(i+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const o=t.htmlLabels??t.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{Kk(l.styles)||o.forEach(h=>{i+=Jk(l.id,h,l.styles)}),Kk(l.textStyles)||(i+=Jk(l.id,"tspan",(l?.textStyles||[]).map(h=>h.replace("color","fill"))))})}return i},"createCssStyles"),jhe=F((t,e,i,r)=>{const s=bhe(t,i),a=sZ(e,s,t.themeVariables);return YM(Boe(`${r}{${a}}`),Foe)},"createUserStyles"),She=F((t="",e,i)=>{let r=t;return!i&&!e&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=up(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),whe=F((t="",e)=>{const i=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":phe,r=Y8(`<body style="${ghe}">${t}</body>`);return`<iframe style="width:${fhe};height:${i};${mhe}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${xhe}">
  ${yhe}
</iframe>`},"putIntoIFrame"),eN=F((t,e,i,r,s)=>{const a=t.append("div");a.attr("id",i),r&&a.attr("style",r);const o=a.append("svg").attr("id",e).attr("width","100%").attr("xmlns",hhe);return s&&o.attr("xmlns:xlink",s),o.append("g"),t},"appendDivSvgG");function tE(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}F(tE,"sandboxedIframe");var The=F((t,e,i,r)=>{t.getElementById(e)?.remove(),t.getElementById(i)?.remove(),t.getElementById(r)?.remove()},"removeExistingElements"),Che=F(async function(t,e,i){xw();const r=GA(e);e=r.code;const s=Ha();nt.debug(s),e.length>(s?.maxTextSize??ahe)&&(e=ohe);const a="#"+t,o="i"+t,l="#"+o,h="d"+t,d="#"+h,p=F(()=>{const Q=Kn(v?l:d).node();Q&&"remove"in Q&&Q.remove()},"removeTempElements");let g=Kn("body");const v=s.securityLevel===lhe,_=s.securityLevel===che,j=s.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),v){const te=tE(Kn(i),o);g=Kn(te.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Kn(i);eN(g,t,h,`font-family: ${j}`,uhe)}else{if(The(document,t,h,o),v){const te=tE(Kn("body"),o);g=Kn(te.nodes()[0].contentDocument.body),g.node().style.margin=0}else g=Kn("body");eN(g,t,h)}let T,C;try{T=await eE.fromText(e,{title:r.title})}catch(te){if(s.suppressErrorRendering)throw p(),te;T=await eE.fromText("error"),C=te}const w=g.select(d).node(),A=T.type,L=w.firstChild,k=L.firstChild,I=T.renderer.getClasses?.(e,T),z=jhe(s,A,I,a),U=document.createElement("style");U.innerHTML=z,L.insertBefore(U,k);try{await T.renderer.draw(e,t,Hk.version,T)}catch(te){throw s.suppressErrorRendering?p():fce.draw(e,t,Hk.version),te}const H=g.select(`${d} svg`),P=T.db.getAccTitle?.(),N=T.db.getAccDescription?.();J8(A,H,P,N),g.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",dhe);let G=g.select(d).node().innerHTML;if(nt.debug("config.arrowMarkerAbsolute",s.arrowMarkerAbsolute),G=She(G,v,Hr(s.arrowMarkerAbsolute)),v){const te=g.select(d+" svg").node();G=whe(G,te)}else _||(G=vg.sanitize(G,{ADD_TAGS:vhe,ADD_ATTR:_he,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(the(),C)throw C;return p(),{diagramType:A,svg:G,bindFunctions:T.db.bindFunctions}},"render");function Z8(t={}){const e=gs({},t);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),FK(e),e?.theme&&e.theme in Eh?e.themeVariables=Eh[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Eh.default.getThemeVariables(e.themeVariables));const i=typeof e=="object"?IK(e):sU();GE(i.logLevel),xw()}F(Z8,"initialize");var Q8=F((t,e={})=>{const{code:i}=VA(t);return eE.fromText(i,e)},"getDiagramFromText");function J8(t,e,i,r){q8(e,t),W8(e,i,r,e.attr("id"))}F(J8,"addA11yInfo");var np=Object.freeze({render:Che,parse:K8,getDiagramFromText:Q8,initialize:Z8,getConfig:Ha,setConfig:aU,getSiteConfig:sU,updateSiteConfig:UK,reset:F(()=>{uS()},"reset"),globalReset:F(()=>{uS(bg)},"globalReset"),defaultConfig:bg});GE(Ha().logLevel);uS(Ha());var Mhe=F((t,e,i)=>{nt.warn(t),TA(t)?(i&&i(t.str,t.hash),e.push({...t,message:t.str,error:t})):(i&&i(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),e6=F(async function(t={querySelector:".mermaid"}){try{await Ehe(t)}catch(e){if(TA(e)&&nt.error(e.str),Ph.parseError&&Ph.parseError(e),!t.suppressErrors)throw nt.error("Use the suppressErrors option to suppress these errors"),e}},"run"),Ehe=F(async function({postRenderCallback:t,querySelector:e,nodes:i}={querySelector:".mermaid"}){const r=np.getConfig();nt.debug(`${t?"":"No "}Callback function found`);let s;if(i)s=i;else if(e)s=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");nt.debug(`Found ${s.length} diagrams`),r?.startOnLoad!==void 0&&(nt.debug("Start On Load: "+r?.startOnLoad),np.updateSiteConfig({startOnLoad:r?.startOnLoad}));const a=new Cc.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const l=[];for(const h of Array.from(s)){if(nt.info("Rendering diagram: "+h.id),h.getAttribute("data-processed"))continue;h.setAttribute("data-processed","true");const d=`mermaid-${a.next()}`;o=h.innerHTML,o=C5(Cc.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const p=Cc.detectInit(o);p&&nt.debug("Detected early reinit: ",p);try{const{svg:g,bindFunctions:v}=await r6(d,o,h);h.innerHTML=g,t&&await t(d),v&&v(h)}catch(g){Mhe(g,l,Ph.parseError)}}if(l.length>0)throw l[0]},"runThrowsErrors"),t6=F(function(t){np.initialize(t)},"initialize"),Ahe=F(async function(t,e,i){nt.warn("mermaid.init is deprecated. Please use run instead."),t&&t6(t);const r={postRenderCallback:i,querySelector:".mermaid"};typeof e=="string"?r.querySelector=e:e&&(e instanceof HTMLElement?r.nodes=[e]:r.nodes=e),await e6(r)},"init"),Rhe=F(async(t,{lazyLoad:e=!0}={})=>{xw(),oM(...t),e===!1&&await Jce()},"registerExternalDiagrams"),n6=F(function(){if(Ph.startOnLoad){const{startOnLoad:t}=np.getConfig();t&&Ph.run().catch(e=>nt.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",n6,!1);var Lhe=F(function(t){Ph.parseError=t},"setParseErrorHandler"),GS=[],R2=!1,i6=F(async()=>{if(!R2){for(R2=!0;GS.length>0;){const t=GS.shift();if(t)try{await t()}catch(e){nt.error("Error executing queue",e)}}R2=!1}},"executeQueue"),Dhe=F(async(t,e)=>new Promise((i,r)=>{const s=F(()=>new Promise((a,o)=>{np.parse(t,e).then(l=>{a(l),i(l)},l=>{nt.error("Error parsing",l),Ph.parseError?.(l),o(l),r(l)})}),"performCall");GS.push(s),i6().catch(r)}),"parse"),r6=F((t,e,i)=>new Promise((r,s)=>{const a=F(()=>new Promise((o,l)=>{np.render(t,e,i).then(h=>{o(h),r(h)},h=>{nt.error("Error parsing",h),Ph.parseError?.(h),l(h),s(h)})}),"performCall");GS.push(a),i6().catch(s)}),"render"),Ph={startOnLoad:!0,mermaidAPI:np,parse:Dhe,render:r6,init:Ahe,run:e6,registerExternalDiagrams:Rhe,registerLayoutLoaders:u8,initialize:t6,parseError:void 0,contentLoaded:n6,setParseErrorHandler:Lhe,detectType:$E,registerIconPacks:tae},tN=Ph;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const khe=({code:t})=>(ze.useEffect(()=>{tN.initialize({startOnLoad:!0}),tN.contentLoaded()},[]),n.jsx("div",{className:"mermaid flex justify-center items-center",children:t})),Nhe=({code:t="",languege:e})=>{const[i,r]=ze.useState("");return ze.useEffect(()=>{GY({themes:["github-dark"],langs:[e]}).then(s=>{r(s.codeToHtml(t??"",{lang:e,theme:"github-dark"}))})},[t,e]),n.jsx("div",{dangerouslySetInnerHTML:{__html:i},className:"rounded-lg bg-[#24292e] p-4 overflow-auto shadow-lg shadow-gray-700"})},Phe=({code:t="",languege:e})=>{const i=async()=>{navigator.clipboard.writeText(t).then(()=>{alert("Copied!")})};return n.jsxs("div",{className:Us("relative py-4",`language-${e}`),children:[n.jsx("button",{type:"button",className:"absolute right-2 top-4 text-sm text-white py-1 px-2",onClick:i,children:"Copy"}),Ho(e).with("mermaid",()=>n.jsx(khe,{code:t})).otherwise(()=>n.jsx(Nhe,{code:t,languege:e}))]})},Ohe="/assets/no_image_available-M7sI6lTs.png",Bhe=({src:t,alt:e,...i})=>{const[r,s]=ze.useState(t),[a,o]=ze.useState(!1),l=()=>{a||(s(Ohe),o(!0))};return n.jsx("img",{...i,src:r,alt:a?"No image available":e||"Image","aria-describedby":a?"no-image-available":void 0,"data-origin-src":a?t:void 0,onError:l,className:"rounded-lg shadow-md mx-auto my-2"})},je=({components:t={}})=>({h1:e=>n.jsx("h1",{id:`h1-${e.children}`,className:"text-4xl font-bold text-foreground mb-4 w-full",...e}),h2:e=>n.jsx("h2",{id:`h2-${e.children}`,className:"text-3xl font-semibold text-foreground mt-8 mb-4 w-full",...e}),h3:e=>n.jsx("h3",{id:`h3-${e.children}`,className:"text-2xl font-medium text-foreground mt-6 mb-3 w-full",...e}),h4:e=>n.jsx("h4",{id:`h4-${e.children}`,className:"text-xl font-medium text-foreground mt-5 mb-2 w-full",...e}),h5:e=>n.jsx("h5",{id:`h5-${e.children}`,className:"text-lg font-medium text-foreground mt-4 mb-1 w-full",...e}),h6:e=>n.jsx("h6",{id:`h6-${e.children}`,className:"text-base font-medium text-foreground mt-3 mb-1 w-full",...e}),p:e=>n.jsx("p",{className:"text-foreground leading-relaxed mb-4 w-full",...e}),ul:e=>n.jsx("ul",{className:"list-disc list-inside mb-4 w-full",...e}),ol:e=>n.jsx("ol",{className:"list-decimal list-inside mb-4 w-full",...e}),li:e=>n.jsx("li",{className:"mb-2",...e}),code:e=>n.jsx("code",{className:"bg-gray-100 text-red-600 px-1 py-0.5 rounded",...e}),blockquote:e=>n.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-4 italic text-gray-600",...e}),pre:e=>{const i=e.children,{className:r,children:s}=i.props;return n.jsx(Phe,{languege:r?.split("-").slice(1).join("")??"javascript",code:s})},a:e=>Ho(e.href).with(fs.string.startsWith("/"),i=>n.jsx(zg,{...e,href:i,to:"/",className:"text-blue-400"})).otherwise(()=>n.jsx("a",{className:"text-blue-400",target:"_blank",...e})),img:e=>n.jsx(Bhe,{...e}),...t}),Ihe={id:"experience-library-development",careers:["marketboro"],name:"About The Library",content:n.jsx(Rq,{components:je({})}),book:{cover:{front:Mq,back:Eq,side:Aq}}},$0=[Ihe],Fhe="data:image/webp;base64,UklGRkIHAABXRUJQVlA4IDYHAADwKgCdASrIAMgAPpFEnkulo6KholVZ+LASCWVu4XPB/Vzj7fafzeHdXW/47NPpN24vmA8330f/8DfgPIA63vAL/6P2q/5jo1PRcnuw/90fxfDX8NMoX+G3rzlP9j77L+S9CtKPND8jf1R/4fcKFxJYmsOJ+PBkICSxNYcT8eDIQEliaw4n48GGVajcpbN8wbeaP8GktXW6Jwcm0YjpRSsB4BvjqqCFNyYmPMPMhTt3HJfceuBdBqqu8Wbp3d9ImHwNtK08xP6SVBD9Woi61nEpdOAfRT6VBOP26yEOsaxu2DRlVwNS96JCFSJsdbtdgpb6TU5kSUWbIn8iEi9p57Zk/VhXCv14Y/usEDfe+KJHh2f8Cf04e2FO9hOlmV7rk4aFiPj7DmOnsrIuGjK7DjwoxvgN5kLUM9v7lhuO4FRUYvazHsSyA5Zp7aLIvhNYcT8eDIQEliaw4n48GQgJLD0AAP7/S8AAAAGTxIQD/9WmNFh+e838NTL2wgSuI22u793ozMGD+x8++sco/T3yccs74ZdS/9MjFKfRR6AUhhDS+Kvx5nuDY29YT29COBXAUGvm34W3yaQZTzWWDf+ehP1T0RvEuZ5+4qoXFvt2zv6J879xaKEA8Sz2qImoZ9Ojup3kH7knU6seyiDXLNUcpz7RdlwitBpVM+jYV+SN3k19rH8SE/4S1d16W24693yT1OW6soxcsInCPsAq3evSAYJvN15Io8OVdekxnnDQf5Sdq0mmoiRdS/f9tqfHq6RLMJXt/zkR32jly/+DTWsvccOBKURUMJC58chkMJzUdvrDU+Ve9ncoQiedDl7i/i0xg9E1+03sNuxog+K4wYlGv2loWraO3IS3CR2eLYxVah9/7dJ6mxsIUSCkfSt1tv6x24Kbk70Y/WrmOEBIFuzdcR/jNJY3xWWgunJXllu161dnLZ7jRQ/yeF4rqShadFAjlfLG/f0AX8B1boYPIeiaLtR5mnT1gFPeZ0cpTEvrKqyZ7N43VOjiKwGQ/0BcWwBQnyZTmo5O3LDL26vk8i0M0itUXFwcLK40yd9toDLodrhEjY3duU/B7qK0DGaZLxFlPGAJ7nGStcYIMy09Xw60ueb0nsrXGCmTcSU/+JIXqTNZJoi7beT19D225WWnmOCp7EeIoaYANRRPKiVH/r581ePk5o9MMhICbc7+czJeNDRck4ly4E2ufY6veGj867hPwrisDuuESqkLH3ehKAa95VU6OTlnoTw1adp5WFwBPagHRPIapoA7P5KXaXVnAHHjq9/lKYBG/y2n0/BiOVZpkU8/wYb3y+iBG5rZ11ZPyWCTiRmCxbcwX0idsUgl6k7/Drnjysuzmf5Fa5VgNH2dl2j+MISW+MbyL+t69Ql6zAlZuYP4NIOTrx4n3a8EYzQZ46EQpoWJPLjxBAVFe3rDHhe1Rgxs0OdstvFrmSGHADor3OVI4lH9q4OFwe5IHMpJUVN4CbgQJVLQ1IApzSNyDtXoG1RW7lpsJDSgzsp6D3uLfdlELSuJif4QLi60FR0fX//8PL1cElfBNa+kBhVY1IUO7GXfZYboNk22cMY2t2eLjWlhsEm9T9kM6pem8UwpdAMV23zyq8mvIiKBCNsL9cCMHtG5PfQDXcx8WDfdT6bTXWjbzEud5dXKDfBb/sbI+8fG6LluSSD2B/I/UkLls959L2kCHHd8Qo/NVuN4orSkdTvfPO9BfpPyUPRceEV4Kv0nIB+NqIGwWe9gCVSFCu2f+7HagyQgkH/m95AdIws9MMmGz65OZC2w/JoDIvOB5BAuxlJHTlZIGOsg76jkOOgWkPzfvGBg2pDT7lPEAsEaBj9cCgf0P3fvQ/QRAHealabi2EnzDrU53EKXB4RVW/exA4lu3yUrUqkRnbY1KULgjq3pZbwKMwCZlS3KYM4oT1fB8N0IvZ9lVA2yjrRBWjeHbnPef3O7kIib22sv4lsDRset40l/0ohiafJM3PgGKznWhr9tNOyKmbONG3/pggn+m/3KlPw10vJyGYfstlIPq0dVxddyQWGQO/KLLNyCO/q3mZ/960a0aQJMNzm0FU2yZFU1OYU4Hksmln+b3B/JXiSmL2WPh2eEjvC/hzjVQXqMLApvs3nFc7g+ZG9tQhCmtEh196CgqRABWa4pfAnMcg5EL9ZHtvX/WPpb2ojoaGEbFQsLpaz1V9r6xNwm3M9ETsIr7iDqDi8W7xub3TlWIQpcqs2G/xEjlOdDyYzDCqqlq9fLx6C9GNeSo/dTnOYlVez8QgcSIwKMvEnhVxBQzljiqndBh6ITg2T/J9S/QiQWtYF/13UXRdKnF17YhIGsvUOQhwJjaC6d5khw/NnJj3KQFpYj92KTVkOTM7vD+ETfesh92eVpX/35sX30OJMS4uh8JT7QgI/Ir+Gh/hy45PWsKIB3PiKaiUgLJU+jDO2a89pIOzksn51cr69NkkUAAAAAAAAA",Uhe="data:image/webp;base64,UklGRiQOAABXRUJQVlA4IBgOAACQRQCdASo3AaIAPpFIn0slpKMhpPWpYLASCU3cLqojYlesixB4D8svZUrP90/EPsH6+ej/Mc5n/5nnG/zPsR8wD9Wv1p6w/mK/oX+F/YD3ef95+zPvE/Zj2AP6P/cetX9Az90vTX9lz+0f8b9tPai//+ccdhf+X6VL0XLaMQfc79nwl8AL8e/n27UzaeoF3Z76DVB8LewB/LuFhoBfzP/J+hzoTevfR961PoljzCBgrKfhAyE/HZUVlPwgZCfjsqKyn4QMhPx2VFZT3ksp4m2lJ+o06pGB8j9LPBVXNyGBNPs1YMxgvkDTzxZ9erb2wz+YIJlkBrRZ2OyBTHUuK3fs3czWvOe6LtIgNvMbvk19A0ArIT5Wdk5h7c0nUklfMjHdYyzMis/H+MzKsWBzoMAZlkyWBgPiz8EIbR0Yv8Ol4z0AnNGhrrZlmkiynNkhMQIOOYxR7SsrcdCaSXA/BKCNTNNLXYB9SbFjDkRDu/bzXCwGIZo7wgPqT65iaFfPv8lO7wO8Sih72bQOab4QKVHxvciWmNFnXdAxRjifaKHmzue3PIgujA/z3FO8KKGVrKW1NZhlyaHnOpA6S5pZy19wbw56OOCn6q19o9vM5lUYqMQ4NkjQoMoBN2hIFaCuj0U/hYZFI/B0ugqHqXdR2cMtsqIfyWYL2PvcIJVrm4P0mORp/S4Ce+IGE0wQZktChOKbukn47KisqPTzjXyEDBWU/CBkJ+OyorKfhAyE/HZUVlPwgY5AAP7/jnQAAC2FC7hq91ajQ8gNZ0dRJL60jDrNUjO4UyPsYpnErR5WmDquHig1oovK9NtRCtzeBlXiciE0CeEa4rp6QXp/XB//EonmoDzj1d9vlx56fE7QjZ865a/OWA0na9/nUoA9mFjQfgUvpmf5UNjscslHDSMAONfJbbaHMyjoYiu9oaablUQDDKkh2aRZlUO3TOcqT6gY8yzZwBGPg1r/7yqZXgw0dJFBQ2PVBpEHrIcbYWG4cR1EtcP6nwr2AqMLS3wjUdGe4z+Koyx/+sgBb5Dku1S/n4AImKipK3huuyTNOYZnBkQvU8A0CTV0WEL+y51/isG22ggxAPrrzQiz9Kbyw5SX2tnD/aprg2TzTvu26Yth/5DWFNoz/m2HS6EFeOassR5kWrayTNCNXR/Mr1xMlKrGLSHvh3pbpzqTMRLzvDi5kuLATOUvPZqPM9Iiii8d0hxFke6tRoeLK3RJM8QJ4Xu1Gp2WRf9djD6XiH+QwVZpmkFUcvwjXGEWaXictk3H/xKJ5qhXARzHYMVA8gPcuKEw+X/lGX6hwIy9GEh8b9HBVbYBfF01B72q/HLrkIABGdYtu+krsLzPrgqi7hGdCTtn+dTpQjUXOCq9s3jii0xHyYjPtusjHSjf6K7Z7T4kFRBWiWb1GE56n/yjP/RaSYTyy2ecLyz6Y5WZ4CVh8R69dUZS5NB86JgzRDJqU6+ftV8kfeD21BGqZ8k1YCx9JGFL5B2kd7Av1bADpKYkKF2jG7s14Pilt8vuwwpgnYV2FIC88duk5F4S6o1N9rRr/q52n82udvgjn1cUR6kq+P+jzPWH8c/B9m1HKQMUp4OgITRhPyzsbehWDFzpjFM8qqnfGjSiWX3OaCQ6Ccb4tA+chklRtUvh7f1TJFQsmhOsgIOCnxDVunH4+d26914lLFnETF/AOvddnojhpmtJSsQJ+jQfRSpoffxHntWikzjykUIwRhu4J5IeXb4WwyhtVK3pkXpSBSFj5TdOP98dH5uDcv3n6pnAIgo7kNnLhcqaOman7aeqXuE7ZFmm+6hcbK0ac+knE5ceraP0AesktMgH9yIhapd6MDSNWL0lHdpvnh+X9ka5COxx+RRfzUTNix1RSLlvnICpqXCHv3TWsKe7UeZ6Oysg0A3r0mRZ9fKXrSM0lPtuD230vCiI9Z23i9hL4yPRkqWYkipaTLIUMRFCyZf5N6RbntwvjaWeylNNKPRvftUxR1ruY0PJu6M1R+zToVPP2nUgnbPB1xrTQhP9gkjCHXmOxgyF4VLawZOhyzbyykhrwL87phYKEP0onAI0Drrq+32M2VkQ3jX+VGGcncWLKYDpQFLtELsfiWsHZopECsRGY9qWHdI2Oj0F3Ls4OhM+HercxXDOYVfMbe4qm2SLPau+FGinx5xxC0KBDO4vsJbA1skDD7rctA0SHzbqe3vDXVU3DvrINUy6vHV967vialV2ipMFW8kvRW/+v2C4kjgZqE5WrsTw3go3x+PcJd/AutnJPaWbzGptF5fB5Stp4yXDUzPMmPGYmXT6gYirJyNzpTaSukCZ/8T2WflRBX13//tnY42x/ILKbDSARqsUN74K1XpuVZnSlgPJ8On86Nqmkmr+hjJRTHFaqD+1w/kzXPj7ZgmyYuYM2ZDb3//MR7LnqiE3bD+I3N8l5bQQNnQ3eo7nMY9f2PbZ7kvtmy7qLNtOWbJHGX0J2EtMaGf2RKXw+dSalzrmZ81vxEvvolhuDMUwyakjXtYqyseSMk8xuHo8nFvfv4+p7ZNB7+QGjDhrNrcnG5e9HcVj1zdH+Ep8yMcw6adX6GdtHcQxoVqc8JiWKimLTe2Hefrix9xbzoOC3Hra/cnZ3DYumiGSK/K/KtHF9cO8iPjFNBvoE4MQR5HKCxF98YNfwgdPR+90AcwxcYMcvnceSNsSHf8igdoegbUCzyQRbTBVSZmta8vDFG3hHgvj0yZMkryTO78RlMZXIJjCnKwKH94e58g2v3Q8jyLmGtLTuAeLkU6DA1tzHVY4nmBwRrNHb/iznTMvl9nbt/62qIc6FsQijqA2XTLQN9HdF0kxlRzKur9+C2atEG4a/BPvm5JDz1DkWXf7je+0kiUaOEUpV6RkpGBrG1Dfv59uxltEZgHMiSm1aSRfnKEFUwWea/DyScE9gSGnkL5CEHPqbmFz9DXVc7/xFZv9KP9bCCVOB9eD/cygEfVtF3g46WLviGncXgKS2RR1L7exff9A/UrpBNiA8h6iBKc11saYkErT+cyICe/+2nEp+4FuvRYBYixpYpw9W/MC5RsG5YfvSDlz7us3DYLK7uM2O0+LufHeMVE/um4rhAF5R+eIjXO0soAA17E6/mzKpImJiwhebrKR5z5pPgpmiSVApot5EihSNsCqTOoE69Er6BK8I5+Hl264pF9jA/+IsuDmiy/h8b+y6smI7lJvrANdlq7yrwl73dXyh6ghCE6uObj6DLTzqTxg31dCYnJKJVVWZjxrY3Er9gQEWAVDU5NDRBW2IdpBkGxFcUfcQ3Eefxi8uOyT9s3sfYvQEVo2U/nrrVM6lROD05PmWIMHt10hiW6NnbL3+9j+20IS3AcPtSFe5kkXQMAUF6B89ryXjbIQsMbVW0qYrkjctvoHvxXY4c8CXa+c90EvNd3Bk639mh7jTpyuIMMsW7EmDOqpIjc5DINiWoLkZjDZJjWtEUPAQ5YEZV3sCBkyklyRHR7FoKtc1T2NgXqHVQSj6UL2Tscbjtz13YV57VuUyFdDz+CxnG0YTxOvYeSMtRzAK9L5kEJGgsh0tA5ax0rJroUS1y5VRD4E2zJoYgz+XLnRf/UO39C7/O4NQssTehCZ2+3SKN273qX5pMY+0CSFzAHxnZg8mR7LoL6kWELnP2n4Dnx1C1FdCzWqGBxqrXH/VAxWkrkVLEtOOvrgGCkQ3ZeZJzS6K2VI+98R+tfboT934BxZ7qwDcqv+I5rJlFMnHgJFdM7AE8Kq/BXmHwJtwafczOd9pRaMI/4mDVsz5vC+hr4zJpTT+Pd37RzpKrkrRQ8ur97NkD/zXvYugnL/1he8OHALsw6lHCaO5mbcEt43NeFyP6WGZyM5licEUw3cAM7Y+8R1Uoj0XeX3pBwL3Wyx5A0yCcVthlP4lbu28o7Own6VtruA31Zb1/ztev76FNVu9iCK+KleYz3JQ+XKonRe/JLBOFkSnpwl/2GFO5g3D/xCOZfgUlh6ZzFbU9Tb7gN0hg416Pepw1Ok30rySjWjT8DFBIcC+cTAc0N2q/7+KfIJHnc7aVtGbSbZFX6SRoGsffQP+l0ZwmVV+iboaeM8Gx845w4h8jkO1F81K4k0Pohpvf3a3asfOV7/s/VMGL3+QWFg7phH/acBg/SKBzQySO/vLG9rWJ+5fIejgcX3UVfLsmttO2g3rBJCUPoUVZBsApDeq2vla8fqtVfO+fx3cCZjdzU5Nk6eI8ebK0fVfLD+1DxJQqygYrXYkhY1juo2rXauFWrIu8Qo+B/pgGPEvkg0hQuvsZhC01x0ysDhAdyYc8309jv2VXg/B+03JQXjApyU//KmjFEn81nK9/g6GwGLfMVte/TCHbUJGQMPLdv4pKMWYt8ETuypApPgOUcFbCYjj3M6NpHwX4huTGSYSMNPWwPP+OPorEf5RWznX06/6Am3w8oup5UTUDBAO8NKTkw3H7He+k7kcRXnL1q84T1WGPInytlZAqCdMF/XKXUq2aZfBNoJrI96RlDeJ8hHHpwtcOx3x01ZGO10PlWQJgnlz0TUIUzxMoejLm6e+Cnw2KkRhCMuDb3giT/WP/iQ9DJ7+GW6GeTlLQkQAADJT8ugKKKLCDMxKbOu6iUVlPi33gDdzn4+NLyKG8SSvRV/6L4XpBKY2++dSyKkZLQvgBnuTVkSzHVzCWT/AHc1Wuzu+V675zLNEYOwGDSr4z/qNZPJEFSOhXyRh26Bhl2VBJw1HkWo9XXNaikBZYvaT/W5oLm9MV5Cna9jGFerSuxAu85S/AhRQwOLhZ3T6BEAuAs+W57N7fIS0NAGfuNNkzPvd2AAAAAAAA==",zhe=[{id:"marketboro",name:"(주) 마켓보로",logo:Fhe,introduce:`(주) 마켓보로는 B2B 식자재 유통 시장에서 중간 과정을 최소화하여 비용 절감과 효율성을 실현하는 엔터프라이즈 푸드테크 플랫폼 ‘마켓봄 프로’와 사업자를 대상으로 한 오픈 마켓 ‘식봄’을 운영하고 있습니다.
저는 프론트엔드 개발자로서 두 서비스의 개발과 운영에 적극 참여해왔으며, 특히 최근에는 PHP로 개발된 ‘식봄’을 프론트엔드와 백엔드로 분리 및 React.js와 Next.js를 활용한 전환 작업을 주도하고 있습니다.
이 과정에서 성능 최적화, 접근성 개선, 그리고 사용자 경험(UX) 향상 등 다양한 실무 경험을 쌓았으며, 최신 프론트엔드 기술 스택을 폭넓게 적용한 프로젝트를 수행하고 있습니다.`,range:"2020.10 ~ ",positoin:"프론트엔드 개발자",experiencies:$0.filter(t=>t.careers.includes("marketboro")),links:[{label:"마켓보로 웹사이트",url:"https://www.marketboro.com"},{label:"식봄",url:"https://www.foodspring.co.kr"},{label:"마켓봄 프로",url:"https://pro.marketbom.com"}]},{id:"korens",name:"(주) 코렌스",logo:Uhe,introduce:`(주) 코렌스는 자동차 부품 제조사로서, 소프트웨어 사업부를 신설하여 새로운 도전을 시작하였습니다. 
          이곳에서 프론트엔드 개발자로서의 커리어를 시작하였으며,
    Vue.js를 활용한 프론트엔드 개발뿐만 아니라 백엔드 개발과 AWS Amplify를 통한 클라우드 서비스 구축 등 다양한 역할을 수행하였습니다.
      특히, 초기 개발 환경과 프로세스 구축에 참여하여, 개발 역량뿐만 아니라 문제 해결 능력과 주도적인 업무 수행 능력을 함양하였습니다.`,positoin:"프론트엔드 개발자",range:"2019.07 ~ 2020.10",experiencies:$0.filter(t=>t.careers.includes("korens")),links:[{label:"코렌스 웹사이트",url:"http://www.korens.com"}]}],Hhe=()=>n.jsx("article",{className:"py-8 px-4 md:px-0 w-full md:max-w-(--breakpoint-md) mx-auto",children:n.jsx("ul",{className:"flex flex-col gap-8",children:zhe.map(t=>n.jsxs("li",{className:"p-6 rounded-xl border shadow-sm bg-background text-foreground flex flex-col gap-4",children:[n.jsxs("div",{className:"flex items-start justify-start gap-x-4",children:[n.jsx("img",{src:t.logo,alt:`${t.name} 로고`,className:"rounded-full size-12 border"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold",children:t.name}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-200 mt-1",children:[t.positoin," | ",t.range]})]})]}),n.jsx("section",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-sm whitespace-pre-line",children:t.introduce}),n.jsxs("section",{children:[n.jsx("h6",{className:"mt-2 font-semibold text-sm text-gray-700 dark:text-gray-300",children:"Links"}),n.jsx("ul",{className:"list-disc ml-5 text-sm mt-1 space-y-1",children:t.links.map(({label:e,url:i})=>n.jsx("li",{children:n.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline inline-flex items-center gap-1",children:[e,n.jsx("span",{children:"↗"})]})},i))})]})]},t.name))})}),Vhe=()=>n.jsx(ze.Suspense,{children:n.jsx(Hhe,{})}),Ghe=ve("/_layout/careers")({component:Vhe});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const yw="178",$he={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},qhe={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},s6=0,nE=1,a6=2,Whe=3,o6=0,vw=1,m0=2,wl=3,Oh=0,ma=1,Mc=2,Rh=0,Wf=1,iE=2,rE=3,sE=4,l6=5,Ku=100,c6=101,h6=102,u6=103,d6=104,f6=200,p6=201,m6=202,g6=203,$S=204,qS=205,x6=206,y6=207,v6=208,_6=209,b6=210,j6=211,S6=212,w6=213,T6=214,WS=0,XS=1,YS=2,ip=3,KS=4,ZS=5,QS=6,JS=7,Tv=0,C6=1,M6=2,Dc=0,E6=1,A6=2,R6=3,$A=4,L6=5,D6=6,k6=7,aE="attached",N6="detached",_w=300,Bh=301,od=302,q0=303,W0=304,Qg=306,X0=1e3,Vo=1001,Y0=1002,xs=1003,qA=1004,Xhe=1004,Wm=1005,Yhe=1005,zr=1006,g0=1007,Khe=1007,Ec=1008,Zhe=1008,Xo=1009,WA=1010,XA=1011,Rg=1012,bw=1013,Ih=1014,za=1015,Jg=1016,jw=1017,Sw=1018,Lg=1020,YA=35902,KA=1021,ZA=1022,Fs=1023,Dg=1026,kg=1027,ww=1028,Cv=1029,QA=1030,Tw=1031,Qhe=1032,Cw=1033,x0=33776,y0=33777,v0=33778,_0=33779,e1=35840,t1=35841,n1=35842,i1=35843,r1=36196,s1=37492,a1=37496,o1=37808,l1=37809,c1=37810,h1=37811,u1=37812,d1=37813,f1=37814,p1=37815,m1=37816,g1=37817,x1=37818,y1=37819,v1=37820,_1=37821,b0=36492,b1=36494,j1=36495,JA=36283,S1=36284,w1=36285,T1=36286,P6=2200,O6=2201,B6=2202,K0=2300,C1=2301,Uj=2302,Uf=2400,zf=2401,Z0=2402,Mw=2500,eR=2501,Jhe=0,eue=1,tue=2,I6=3200,F6=3201,nue=3202,iue=3203,fd=0,U6=1,Sh="",Bs="srgb",ld="srgb-linear",Q0="linear",_i="srgb",rue=0,Rf=7680,sue=7681,aue=7682,oue=7683,lue=34055,cue=34056,hue=5386,uue=512,due=513,fue=514,pue=515,mue=516,gue=517,xue=518,oE=519,z6=512,H6=513,V6=514,tR=515,G6=516,$6=517,q6=518,W6=519,J0=35044,yue=35048,vue=35040,_ue=35045,bue=35049,jue=35041,Sue=35046,wue=35050,Tue=35042,Cue="100",lE="300 es",Go=2e3,ev=2001,Mue={COMPUTE:"compute",RENDER:"render"},Eue={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},Aue={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};class Fc{addEventListener(e,i){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(i)===-1&&r[e].push(i)}hasEventListener(e,i){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(i)!==-1}removeEventListener(e,i){const r=this._listeners;if(r===void 0)return;const s=r[e];if(s!==void 0){const a=s.indexOf(i);a!==-1&&s.splice(a,1)}}dispatchEvent(e){const i=this._listeners;if(i===void 0)return;const r=i[e.type];if(r!==void 0){e.target=this;const s=r.slice(0);for(let a=0,o=s.length;a<o;a++)s[a].call(this,e);e.target=null}}}const Ds=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nN=1234567;const Xf=Math.PI/180,Ng=180/Math.PI;function ho(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ds[t&255]+Ds[t>>8&255]+Ds[t>>16&255]+Ds[t>>24&255]+"-"+Ds[e&255]+Ds[e>>8&255]+"-"+Ds[e>>16&15|64]+Ds[e>>24&255]+"-"+Ds[i&63|128]+Ds[i>>8&255]+"-"+Ds[i>>16&255]+Ds[i>>24&255]+Ds[r&255]+Ds[r>>8&255]+Ds[r>>16&255]+Ds[r>>24&255]).toLowerCase()}function bn(t,e,i){return Math.max(e,Math.min(i,t))}function nR(t,e){return(t%e+e)%e}function Rue(t,e,i,r,s){return r+(t-e)*(s-r)/(i-e)}function Lue(t,e,i){return t!==e?(i-t)/(e-t):0}function j0(t,e,i){return(1-i)*t+i*e}function Due(t,e,i,r){return j0(t,e,1-Math.exp(-i*r))}function kue(t,e=1){return e-Math.abs(nR(t,e*2)-e)}function Nue(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*(3-2*t))}function Pue(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e),t*t*t*(t*(t*6-15)+10))}function Oue(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Bue(t,e){return t+Math.random()*(e-t)}function Iue(t){return t*(.5-Math.random())}function Fue(t){t!==void 0&&(nN=t);let e=nN+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Uue(t){return t*Xf}function zue(t){return t*Ng}function Hue(t){return(t&t-1)===0&&t!==0}function Vue(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Gue(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function $ue(t,e,i,r,s){const a=Math.cos,o=Math.sin,l=a(i/2),h=o(i/2),d=a((e+r)/2),p=o((e+r)/2),g=a((e-r)/2),v=o((e-r)/2),_=a((r-e)/2),j=o((r-e)/2);switch(s){case"XYX":t.set(l*p,h*g,h*v,l*d);break;case"YZY":t.set(h*v,l*p,h*g,l*d);break;case"ZXZ":t.set(h*g,h*v,l*p,l*d);break;case"XZX":t.set(l*p,h*j,h*_,l*d);break;case"YXY":t.set(h*_,l*p,h*j,l*d);break;case"ZYZ":t.set(h*j,h*_,l*p,l*d);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+s)}}function ha(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function En(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const que={DEG2RAD:Xf,RAD2DEG:Ng,generateUUID:ho,clamp:bn,euclideanModulo:nR,mapLinear:Rue,inverseLerp:Lue,lerp:j0,damp:Due,pingpong:kue,smoothstep:Nue,smootherstep:Pue,randInt:Oue,randFloat:Bue,randFloatSpread:Iue,seededRandom:Fue,degToRad:Uue,radToDeg:zue,isPowerOfTwo:Hue,ceilPowerOfTwo:Vue,floorPowerOfTwo:Gue,setQuaternionFromProperEuler:$ue,normalize:En,denormalize:ha};class it{constructor(e=0,i=0){it.prototype.isVector2=!0,this.x=e,this.y=i}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,i){return this.x=e,this.y=i,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const i=this.x,r=this.y,s=e.elements;return this.x=s[0]*i+s[3]*r+s[6],this.y=s[1]*i+s[4]*r+s[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,i){return this.x=bn(this.x,e.x,i.x),this.y=bn(this.y,e.y,i.y),this}clampScalar(e,i){return this.x=bn(this.x,e,i),this.y=bn(this.y,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(bn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y;return i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this}rotateAround(e,i){const r=Math.cos(i),s=Math.sin(i),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*s+e.x,this.y=a*s+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Va{constructor(e=0,i=0,r=0,s=1){this.isQuaternion=!0,this._x=e,this._y=i,this._z=r,this._w=s}static slerpFlat(e,i,r,s,a,o,l){let h=r[s+0],d=r[s+1],p=r[s+2],g=r[s+3];const v=a[o+0],_=a[o+1],j=a[o+2],T=a[o+3];if(l===0){e[i+0]=h,e[i+1]=d,e[i+2]=p,e[i+3]=g;return}if(l===1){e[i+0]=v,e[i+1]=_,e[i+2]=j,e[i+3]=T;return}if(g!==T||h!==v||d!==_||p!==j){let C=1-l;const w=h*v+d*_+p*j+g*T,A=w>=0?1:-1,L=1-w*w;if(L>Number.EPSILON){const I=Math.sqrt(L),z=Math.atan2(I,w*A);C=Math.sin(C*z)/I,l=Math.sin(l*z)/I}const k=l*A;if(h=h*C+v*k,d=d*C+_*k,p=p*C+j*k,g=g*C+T*k,C===1-l){const I=1/Math.sqrt(h*h+d*d+p*p+g*g);h*=I,d*=I,p*=I,g*=I}}e[i]=h,e[i+1]=d,e[i+2]=p,e[i+3]=g}static multiplyQuaternionsFlat(e,i,r,s,a,o){const l=r[s],h=r[s+1],d=r[s+2],p=r[s+3],g=a[o],v=a[o+1],_=a[o+2],j=a[o+3];return e[i]=l*j+p*g+h*_-d*v,e[i+1]=h*j+p*v+d*g-l*_,e[i+2]=d*j+p*_+l*v-h*g,e[i+3]=p*j-l*g-h*v-d*_,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,i,r,s){return this._x=e,this._y=i,this._z=r,this._w=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,i=!0){const r=e._x,s=e._y,a=e._z,o=e._order,l=Math.cos,h=Math.sin,d=l(r/2),p=l(s/2),g=l(a/2),v=h(r/2),_=h(s/2),j=h(a/2);switch(o){case"XYZ":this._x=v*p*g+d*_*j,this._y=d*_*g-v*p*j,this._z=d*p*j+v*_*g,this._w=d*p*g-v*_*j;break;case"YXZ":this._x=v*p*g+d*_*j,this._y=d*_*g-v*p*j,this._z=d*p*j-v*_*g,this._w=d*p*g+v*_*j;break;case"ZXY":this._x=v*p*g-d*_*j,this._y=d*_*g+v*p*j,this._z=d*p*j+v*_*g,this._w=d*p*g-v*_*j;break;case"ZYX":this._x=v*p*g-d*_*j,this._y=d*_*g+v*p*j,this._z=d*p*j-v*_*g,this._w=d*p*g+v*_*j;break;case"YZX":this._x=v*p*g+d*_*j,this._y=d*_*g+v*p*j,this._z=d*p*j-v*_*g,this._w=d*p*g-v*_*j;break;case"XZY":this._x=v*p*g-d*_*j,this._y=d*_*g-v*p*j,this._z=d*p*j+v*_*g,this._w=d*p*g+v*_*j;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return i===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,i){const r=i/2,s=Math.sin(r);return this._x=e.x*s,this._y=e.y*s,this._z=e.z*s,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const i=e.elements,r=i[0],s=i[4],a=i[8],o=i[1],l=i[5],h=i[9],d=i[2],p=i[6],g=i[10],v=r+l+g;if(v>0){const _=.5/Math.sqrt(v+1);this._w=.25/_,this._x=(p-h)*_,this._y=(a-d)*_,this._z=(o-s)*_}else if(r>l&&r>g){const _=2*Math.sqrt(1+r-l-g);this._w=(p-h)/_,this._x=.25*_,this._y=(s+o)/_,this._z=(a+d)/_}else if(l>g){const _=2*Math.sqrt(1+l-r-g);this._w=(a-d)/_,this._x=(s+o)/_,this._y=.25*_,this._z=(h+p)/_}else{const _=2*Math.sqrt(1+g-r-l);this._w=(o-s)/_,this._x=(a+d)/_,this._y=(h+p)/_,this._z=.25*_}return this._onChangeCallback(),this}setFromUnitVectors(e,i){let r=e.dot(i)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*i.z-e.z*i.y,this._y=e.z*i.x-e.x*i.z,this._z=e.x*i.y-e.y*i.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(bn(this.dot(e),-1,1)))}rotateTowards(e,i){const r=this.angleTo(e);if(r===0)return this;const s=Math.min(1,i/r);return this.slerp(e,s),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,i){const r=e._x,s=e._y,a=e._z,o=e._w,l=i._x,h=i._y,d=i._z,p=i._w;return this._x=r*p+o*l+s*d-a*h,this._y=s*p+o*h+a*l-r*d,this._z=a*p+o*d+r*h-s*l,this._w=o*p-r*l-s*h-a*d,this._onChangeCallback(),this}slerp(e,i){if(i===0)return this;if(i===1)return this.copy(e);const r=this._x,s=this._y,a=this._z,o=this._w;let l=o*e._w+r*e._x+s*e._y+a*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=s,this._z=a,this;const h=1-l*l;if(h<=Number.EPSILON){const _=1-i;return this._w=_*o+i*this._w,this._x=_*r+i*this._x,this._y=_*s+i*this._y,this._z=_*a+i*this._z,this.normalize(),this}const d=Math.sqrt(h),p=Math.atan2(d,l),g=Math.sin((1-i)*p)/d,v=Math.sin(i*p)/d;return this._w=o*g+this._w*v,this._x=r*g+this._x*v,this._y=s*g+this._y*v,this._z=a*g+this._z*v,this._onChangeCallback(),this}slerpQuaternions(e,i,r){return this.copy(e).slerp(i,r)}random(){const e=2*Math.PI*Math.random(),i=2*Math.PI*Math.random(),r=Math.random(),s=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(s*Math.sin(e),s*Math.cos(e),a*Math.sin(i),a*Math.cos(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,i=0){return this._x=e[i],this._y=e[i+1],this._z=e[i+2],this._w=e[i+3],this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._w,e}fromBufferAttribute(e,i){return this._x=e.getX(i),this._y=e.getY(i),this._z=e.getZ(i),this._w=e.getW(i),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class oe{constructor(e=0,i=0,r=0){oe.prototype.isVector3=!0,this.x=e,this.y=i,this.z=r}set(e,i,r){return r===void 0&&(r=this.z),this.x=e,this.y=i,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,i){return this.x=e.x*i.x,this.y=e.y*i.y,this.z=e.z*i.z,this}applyEuler(e){return this.applyQuaternion(iN.setFromEuler(e))}applyAxisAngle(e,i){return this.applyQuaternion(iN.setFromAxisAngle(e,i))}applyMatrix3(e){const i=this.x,r=this.y,s=this.z,a=e.elements;return this.x=a[0]*i+a[3]*r+a[6]*s,this.y=a[1]*i+a[4]*r+a[7]*s,this.z=a[2]*i+a[5]*r+a[8]*s,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const i=this.x,r=this.y,s=this.z,a=e.elements,o=1/(a[3]*i+a[7]*r+a[11]*s+a[15]);return this.x=(a[0]*i+a[4]*r+a[8]*s+a[12])*o,this.y=(a[1]*i+a[5]*r+a[9]*s+a[13])*o,this.z=(a[2]*i+a[6]*r+a[10]*s+a[14])*o,this}applyQuaternion(e){const i=this.x,r=this.y,s=this.z,a=e.x,o=e.y,l=e.z,h=e.w,d=2*(o*s-l*r),p=2*(l*i-a*s),g=2*(a*r-o*i);return this.x=i+h*d+o*g-l*p,this.y=r+h*p+l*d-a*g,this.z=s+h*g+a*p-o*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const i=this.x,r=this.y,s=this.z,a=e.elements;return this.x=a[0]*i+a[4]*r+a[8]*s,this.y=a[1]*i+a[5]*r+a[9]*s,this.z=a[2]*i+a[6]*r+a[10]*s,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,i){return this.x=bn(this.x,e.x,i.x),this.y=bn(this.y,e.y,i.y),this.z=bn(this.z,e.z,i.z),this}clampScalar(e,i){return this.x=bn(this.x,e,i),this.y=bn(this.y,e,i),this.z=bn(this.z,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(bn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,i){const r=e.x,s=e.y,a=e.z,o=i.x,l=i.y,h=i.z;return this.x=s*h-a*l,this.y=a*o-r*h,this.z=r*l-s*o,this}projectOnVector(e){const i=e.lengthSq();if(i===0)return this.set(0,0,0);const r=e.dot(this)/i;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return L2.copy(this).projectOnVector(e),this.sub(L2)}reflect(e){return this.sub(L2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const i=Math.sqrt(this.lengthSq()*e.lengthSq());if(i===0)return Math.PI/2;const r=this.dot(e)/i;return Math.acos(bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const i=this.x-e.x,r=this.y-e.y,s=this.z-e.z;return i*i+r*r+s*s}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,i,r){const s=Math.sin(i)*e;return this.x=s*Math.sin(r),this.y=Math.cos(i)*e,this.z=s*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,i,r){return this.x=e*Math.sin(i),this.y=r,this.z=e*Math.cos(i),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this}setFromMatrixScale(e){const i=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),s=this.setFromMatrixColumn(e,2).length();return this.x=i,this.y=r,this.z=s,this}setFromMatrixColumn(e,i){return this.fromArray(e.elements,i*4)}setFromMatrix3Column(e,i){return this.fromArray(e.elements,i*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,i=Math.random()*2-1,r=Math.sqrt(1-i*i);return this.x=r*Math.cos(e),this.y=i,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const L2=new oe,iN=new Va;class wn{constructor(e,i,r,s,a,o,l,h,d){wn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,i,r,s,a,o,l,h,d)}set(e,i,r,s,a,o,l,h,d){const p=this.elements;return p[0]=e,p[1]=s,p[2]=l,p[3]=i,p[4]=a,p[5]=h,p[6]=r,p[7]=o,p[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],this}extractBasis(e,i,r){return e.setFromMatrix3Column(this,0),i.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const i=e.elements;return this.set(i[0],i[4],i[8],i[1],i[5],i[9],i[2],i[6],i[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,s=i.elements,a=this.elements,o=r[0],l=r[3],h=r[6],d=r[1],p=r[4],g=r[7],v=r[2],_=r[5],j=r[8],T=s[0],C=s[3],w=s[6],A=s[1],L=s[4],k=s[7],I=s[2],z=s[5],U=s[8];return a[0]=o*T+l*A+h*I,a[3]=o*C+l*L+h*z,a[6]=o*w+l*k+h*U,a[1]=d*T+p*A+g*I,a[4]=d*C+p*L+g*z,a[7]=d*w+p*k+g*U,a[2]=v*T+_*A+j*I,a[5]=v*C+_*L+j*z,a[8]=v*w+_*k+j*U,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[3]*=e,i[6]*=e,i[1]*=e,i[4]*=e,i[7]*=e,i[2]*=e,i[5]*=e,i[8]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],h=e[6],d=e[7],p=e[8];return i*o*p-i*l*d-r*a*p+r*l*h+s*a*d-s*o*h}invert(){const e=this.elements,i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],h=e[6],d=e[7],p=e[8],g=p*o-l*d,v=l*h-p*a,_=d*a-o*h,j=i*g+r*v+s*_;if(j===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/j;return e[0]=g*T,e[1]=(s*d-p*r)*T,e[2]=(l*r-s*o)*T,e[3]=v*T,e[4]=(p*i-s*h)*T,e[5]=(s*a-l*i)*T,e[6]=_*T,e[7]=(r*h-d*i)*T,e[8]=(o*i-r*a)*T,this}transpose(){let e;const i=this.elements;return e=i[1],i[1]=i[3],i[3]=e,e=i[2],i[2]=i[6],i[6]=e,e=i[5],i[5]=i[7],i[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const i=this.elements;return e[0]=i[0],e[1]=i[3],e[2]=i[6],e[3]=i[1],e[4]=i[4],e[5]=i[7],e[6]=i[2],e[7]=i[5],e[8]=i[8],this}setUvTransform(e,i,r,s,a,o,l){const h=Math.cos(a),d=Math.sin(a);return this.set(r*h,r*d,-r*(h*o+d*l)+o+e,-s*d,s*h,-s*(-d*o+h*l)+l+i,0,0,1),this}scale(e,i){return this.premultiply(D2.makeScale(e,i)),this}rotate(e){return this.premultiply(D2.makeRotation(-e)),this}translate(e,i){return this.premultiply(D2.makeTranslation(e,i)),this}makeTranslation(e,i){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,i,0,0,1),this}makeRotation(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,r,i,0,0,0,1),this}makeScale(e,i){return this.set(e,0,0,0,i,0,0,0,1),this}equals(e){const i=this.elements,r=e.elements;for(let s=0;s<9;s++)if(i[s]!==r[s])return!1;return!0}fromArray(e,i=0){for(let r=0;r<9;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const D2=new wn;function X6(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Wue={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Xm(t,e){return new Wue[t](e)}function tv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Y6(){const t=tv("canvas");return t.style.display="block",t}const rN={};function sg(t){t in rN||(rN[t]=!0,console.warn(t))}function Xue(t,e,i){return new Promise(function(r,s){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:s();break;case t.TIMEOUT_EXPIRED:setTimeout(a,i);break;default:r()}}setTimeout(a,i)})}function Yue(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function Kue(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const sN=new wn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),aN=new wn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Zue(){const t={enabled:!0,workingColorSpace:ld,spaces:{},convert:function(s,a,o){return this.enabled===!1||a===o||!a||!o||(this.spaces[a].transfer===_i&&(s.r=Lh(s.r),s.g=Lh(s.g),s.b=Lh(s.b)),this.spaces[a].primaries!==this.spaces[o].primaries&&(s.applyMatrix3(this.spaces[a].toXYZ),s.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===_i&&(s.r=ag(s.r),s.g=ag(s.g),s.b=ag(s.b))),s},workingToColorSpace:function(s,a){return this.convert(s,this.workingColorSpace,a)},colorSpaceToWorking:function(s,a){return this.convert(s,a,this.workingColorSpace)},getPrimaries:function(s){return this.spaces[s].primaries},getTransfer:function(s){return s===Sh?Q0:this.spaces[s].transfer},getLuminanceCoefficients:function(s,a=this.workingColorSpace){return s.fromArray(this.spaces[a].luminanceCoefficients)},define:function(s){Object.assign(this.spaces,s)},_getMatrix:function(s,a,o){return s.copy(this.spaces[a].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(s){return this.spaces[s].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(s=this.workingColorSpace){return this.spaces[s].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(s,a){return sg("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(s,a)},toWorkingColorSpace:function(s,a){return sg("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(s,a)}},e=[.64,.33,.3,.6,.15,.06],i=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[ld]:{primaries:e,whitePoint:r,transfer:Q0,toXYZ:sN,fromXYZ:aN,luminanceCoefficients:i,workingColorSpaceConfig:{unpackColorSpace:Bs},outputColorSpaceConfig:{drawingBufferColorSpace:Bs}},[Bs]:{primaries:e,whitePoint:r,transfer:_i,toXYZ:sN,fromXYZ:aN,luminanceCoefficients:i,outputColorSpaceConfig:{drawingBufferColorSpace:Bs}}}),t}const qn=Zue();function Lh(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ag(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let _m;class K6{static getDataURL(e,i="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{_m===void 0&&(_m=tv("canvas")),_m.width=e.width,_m.height=e.height;const s=_m.getContext("2d");e instanceof ImageData?s.putImageData(e,0,0):s.drawImage(e,0,0,e.width,e.height),r=_m}return r.toDataURL(i)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const i=tv("canvas");i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const s=r.getImageData(0,0,e.width,e.height),a=s.data;for(let o=0;o<a.length;o++)a[o]=Lh(a[o]/255)*255;return r.putImageData(s,0,0),i}else if(e.data){const i=e.data.slice(0);for(let r=0;r<i.length;r++)i instanceof Uint8Array||i instanceof Uint8ClampedArray?i[r]=Math.floor(Lh(i[r]/255)*255):i[r]=Lh(i[r]);return{data:i,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Que=0;class Ju{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Que++}),this.uuid=ho(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const i=this.data;return i instanceof HTMLVideoElement?e.set(i.videoWidth,i.videoHeight):i!==null?e.set(i.width,i.height,i.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},s=this.data;if(s!==null){let a;if(Array.isArray(s)){a=[];for(let o=0,l=s.length;o<l;o++)s[o].isDataTexture?a.push(k2(s[o].image)):a.push(k2(s[o]))}else a=k2(s);r.url=a}return i||(e.images[this.uuid]=r),r}}function k2(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?K6.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Jue=0;const N2=new oe;class sr extends Fc{constructor(e=sr.DEFAULT_IMAGE,i=sr.DEFAULT_MAPPING,r=Vo,s=Vo,a=zr,o=Ec,l=Fs,h=Xo,d=sr.DEFAULT_ANISOTROPY,p=Sh){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Jue++}),this.uuid=ho(),this.name="",this.source=new Ju(e),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=a,this.minFilter=o,this.anisotropy=d,this.format=l,this.internalFormat=null,this.type=h,this.offset=new it(0,0),this.repeat=new it(1,1),this.center=new it(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=p,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(N2).x}get height(){return this.source.getSize(N2).y}get depth(){return this.source.getSize(N2).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const i in e){const r=e[i];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${i}' has value of undefined.`);continue}const s=this[i];if(s===void 0){console.warn(`THREE.Texture.setValues(): property '${i}' does not exist.`);continue}s&&r&&s.isVector2&&r.isVector2||s&&r&&s.isVector3&&r.isVector3||s&&r&&s.isMatrix3&&r.isMatrix3?s.copy(r):this[i]=r}}toJSON(e){const i=e===void 0||typeof e=="string";if(!i&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_w)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case X0:e.x=e.x-Math.floor(e.x);break;case Vo:e.x=e.x<0?0:1;break;case Y0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case X0:e.y=e.y-Math.floor(e.y);break;case Vo:e.y=e.y<0?0:1;break;case Y0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}sr.DEFAULT_IMAGE=null;sr.DEFAULT_MAPPING=_w;sr.DEFAULT_ANISOTROPY=1;class ti{constructor(e=0,i=0,r=0,s=1){ti.prototype.isVector4=!0,this.x=e,this.y=i,this.z=r,this.w=s}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,i,r,s){return this.x=e,this.y=i,this.z=r,this.w=s,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,i){switch(e){case 0:this.x=i;break;case 1:this.y=i;break;case 2:this.z=i;break;case 3:this.w=i;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,i){return this.x=e.x+i.x,this.y=e.y+i.y,this.z=e.z+i.z,this.w=e.w+i.w,this}addScaledVector(e,i){return this.x+=e.x*i,this.y+=e.y*i,this.z+=e.z*i,this.w+=e.w*i,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,i){return this.x=e.x-i.x,this.y=e.y-i.y,this.z=e.z-i.z,this.w=e.w-i.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const i=this.x,r=this.y,s=this.z,a=this.w,o=e.elements;return this.x=o[0]*i+o[4]*r+o[8]*s+o[12]*a,this.y=o[1]*i+o[5]*r+o[9]*s+o[13]*a,this.z=o[2]*i+o[6]*r+o[10]*s+o[14]*a,this.w=o[3]*i+o[7]*r+o[11]*s+o[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const i=Math.sqrt(1-e.w*e.w);return i<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/i,this.y=e.y/i,this.z=e.z/i),this}setAxisAngleFromRotationMatrix(e){let i,r,s,a;const h=e.elements,d=h[0],p=h[4],g=h[8],v=h[1],_=h[5],j=h[9],T=h[2],C=h[6],w=h[10];if(Math.abs(p-v)<.01&&Math.abs(g-T)<.01&&Math.abs(j-C)<.01){if(Math.abs(p+v)<.1&&Math.abs(g+T)<.1&&Math.abs(j+C)<.1&&Math.abs(d+_+w-3)<.1)return this.set(1,0,0,0),this;i=Math.PI;const L=(d+1)/2,k=(_+1)/2,I=(w+1)/2,z=(p+v)/4,U=(g+T)/4,H=(j+C)/4;return L>k&&L>I?L<.01?(r=0,s=.707106781,a=.707106781):(r=Math.sqrt(L),s=z/r,a=U/r):k>I?k<.01?(r=.707106781,s=0,a=.707106781):(s=Math.sqrt(k),r=z/s,a=H/s):I<.01?(r=.707106781,s=.707106781,a=0):(a=Math.sqrt(I),r=U/a,s=H/a),this.set(r,s,a,i),this}let A=Math.sqrt((C-j)*(C-j)+(g-T)*(g-T)+(v-p)*(v-p));return Math.abs(A)<.001&&(A=1),this.x=(C-j)/A,this.y=(g-T)/A,this.z=(v-p)/A,this.w=Math.acos((d+_+w-1)/2),this}setFromMatrixPosition(e){const i=e.elements;return this.x=i[12],this.y=i[13],this.z=i[14],this.w=i[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,i){return this.x=bn(this.x,e.x,i.x),this.y=bn(this.y,e.y,i.y),this.z=bn(this.z,e.z,i.z),this.w=bn(this.w,e.w,i.w),this}clampScalar(e,i){return this.x=bn(this.x,e,i),this.y=bn(this.y,e,i),this.z=bn(this.z,e,i),this.w=bn(this.w,e,i),this}clampLength(e,i){const r=this.length();return this.divideScalar(r||1).multiplyScalar(bn(r,e,i))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,i){return this.x+=(e.x-this.x)*i,this.y+=(e.y-this.y)*i,this.z+=(e.z-this.z)*i,this.w+=(e.w-this.w)*i,this}lerpVectors(e,i,r){return this.x=e.x+(i.x-e.x)*r,this.y=e.y+(i.y-e.y)*r,this.z=e.z+(i.z-e.z)*r,this.w=e.w+(i.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,i=0){return this.x=e[i],this.y=e[i+1],this.z=e[i+2],this.w=e[i+3],this}toArray(e=[],i=0){return e[i]=this.x,e[i+1]=this.y,e[i+2]=this.z,e[i+3]=this.w,e}fromBufferAttribute(e,i){return this.x=e.getX(i),this.y=e.getY(i),this.z=e.getZ(i),this.w=e.getW(i),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class iR extends Fc{constructor(e=1,i=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:zr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=i,this.depth=r.depth,this.scissor=new ti(0,0,e,i),this.scissorTest=!1,this.viewport=new ti(0,0,e,i);const s={width:e,height:i,depth:r.depth},a=new sr(s);this.textures=[];const o=r.count;for(let l=0;l<o;l++)this.textures[l]=a.clone(),this.textures[l].isRenderTargetTexture=!0,this.textures[l].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const i={minFilter:zr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(i.mapping=e.mapping),e.wrapS!==void 0&&(i.wrapS=e.wrapS),e.wrapT!==void 0&&(i.wrapT=e.wrapT),e.wrapR!==void 0&&(i.wrapR=e.wrapR),e.magFilter!==void 0&&(i.magFilter=e.magFilter),e.minFilter!==void 0&&(i.minFilter=e.minFilter),e.format!==void 0&&(i.format=e.format),e.type!==void 0&&(i.type=e.type),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(i.colorSpace=e.colorSpace),e.flipY!==void 0&&(i.flipY=e.flipY),e.generateMipmaps!==void 0&&(i.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(i.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(i)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,i,r=1){if(this.width!==e||this.height!==i||this.depth!==r){this.width=e,this.height=i,this.depth=r;for(let s=0,a=this.textures.length;s<a;s++)this.textures[s].image.width=e,this.textures[s].image.height=i,this.textures[s].image.depth=r,this.textures[s].isArrayTexture=this.textures[s].image.depth>1;this.dispose()}this.viewport.set(0,0,e,i),this.scissor.set(0,0,e,i)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++){this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const s=Object.assign({},e.textures[i].image);this.textures[i].source=new Ju(s)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Oc extends iR{constructor(e=1,i=1,r={}){super(e,i,r),this.isWebGLRenderTarget=!0}}class Ew extends sr{constructor(e=null,i=1,r=1,s=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:i,height:r,depth:s},this.magFilter=xs,this.minFilter=xs,this.wrapR=Vo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ede extends Oc{constructor(e=1,i=1,r=1,s={}){super(e,i,s),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ew(null,e,i,r),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class Aw extends sr{constructor(e=null,i=1,r=1,s=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:i,height:r,depth:s},this.magFilter=xs,this.minFilter=xs,this.wrapR=Vo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class tde extends Oc{constructor(e=1,i=1,r=1,s={}){super(e,i,s),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new Aw(null,e,i,r),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class Hs{constructor(e=new oe(1/0,1/0,1/0),i=new oe(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=i}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromArray(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i+=3)this.expandByPoint(_l.fromArray(e,i));return this}setFromBufferAttribute(e){this.makeEmpty();for(let i=0,r=e.count;i<r;i++)this.expandByPoint(_l.fromBufferAttribute(e,i));return this}setFromPoints(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const r=_l.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,i=!1){return this.makeEmpty(),this.expandByObject(e,i)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,i=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(i===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,l=a.count;o<l;o++)e.isMesh===!0?e.getVertexPosition(o,_l):_l.fromBufferAttribute(a,o),_l.applyMatrix4(e.matrixWorld),this.expandByPoint(_l);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Mb.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Mb.copy(r.boundingBox)),Mb.applyMatrix4(e.matrixWorld),this.union(Mb)}const s=e.children;for(let a=0,o=s.length;a<o;a++)this.expandByObject(s[a],i);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,i){return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,_l),_l.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let i,r;return e.normal.x>0?(i=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(i=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(i+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(i+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(i+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(i+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),i<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Py),Eb.subVectors(this.max,Py),bm.subVectors(e.a,Py),jm.subVectors(e.b,Py),Sm.subVectors(e.c,Py),Pu.subVectors(jm,bm),Ou.subVectors(Sm,jm),uf.subVectors(bm,Sm);let i=[0,-Pu.z,Pu.y,0,-Ou.z,Ou.y,0,-uf.z,uf.y,Pu.z,0,-Pu.x,Ou.z,0,-Ou.x,uf.z,0,-uf.x,-Pu.y,Pu.x,0,-Ou.y,Ou.x,0,-uf.y,uf.x,0];return!P2(i,bm,jm,Sm,Eb)||(i=[1,0,0,0,1,0,0,0,1],!P2(i,bm,jm,Sm,Eb))?!1:(Ab.crossVectors(Pu,Ou),i=[Ab.x,Ab.y,Ab.z],P2(i,bm,jm,Sm,Eb))}clampPoint(e,i){return i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,_l).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(_l).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(fh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),fh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),fh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),fh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),fh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),fh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),fh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),fh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(fh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const fh=[new oe,new oe,new oe,new oe,new oe,new oe,new oe,new oe],_l=new oe,Mb=new Hs,bm=new oe,jm=new oe,Sm=new oe,Pu=new oe,Ou=new oe,uf=new oe,Py=new oe,Eb=new oe,Ab=new oe,df=new oe;function P2(t,e,i,r,s){for(let a=0,o=t.length-3;a<=o;a+=3){df.fromArray(t,a);const l=s.x*Math.abs(df.x)+s.y*Math.abs(df.y)+s.z*Math.abs(df.z),h=e.dot(df),d=i.dot(df),p=r.dot(df);if(Math.max(-Math.max(h,d,p),Math.min(h,d,p))>l)return!1}return!0}const nde=new Hs,Oy=new oe,O2=new oe;class ys{constructor(e=new oe,i=-1){this.isSphere=!0,this.center=e,this.radius=i}set(e,i){return this.center.copy(e),this.radius=i,this}setFromPoints(e,i){const r=this.center;i!==void 0?r.copy(i):nde.setFromPoints(e).getCenter(r);let s=0;for(let a=0,o=e.length;a<o;a++)s=Math.max(s,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(s),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const i=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=i*i}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,i){const r=this.center.distanceToSquared(e);return i.copy(e),r>this.radius*this.radius&&(i.sub(this.center).normalize(),i.multiplyScalar(this.radius).add(this.center)),i}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Oy.subVectors(e,this.center);const i=Oy.lengthSq();if(i>this.radius*this.radius){const r=Math.sqrt(i),s=(r-this.radius)*.5;this.center.addScaledVector(Oy,s/r),this.radius+=s}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(O2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Oy.copy(e.center).add(O2)),this.expandByPoint(Oy.copy(e.center).sub(O2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ph=new oe,B2=new oe,Rb=new oe,Bu=new oe,I2=new oe,Lb=new oe,F2=new oe;class ex{constructor(e=new oe,i=new oe(0,0,-1)){this.origin=e,this.direction=i}set(e,i){return this.origin.copy(e),this.direction.copy(i),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,i){return i.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ph)),this}closestPointToPoint(e,i){i.subVectors(e,this.origin);const r=i.dot(this.direction);return r<0?i.copy(this.origin):i.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const i=ph.subVectors(e,this.origin).dot(this.direction);return i<0?this.origin.distanceToSquared(e):(ph.copy(this.origin).addScaledVector(this.direction,i),ph.distanceToSquared(e))}distanceSqToSegment(e,i,r,s){B2.copy(e).add(i).multiplyScalar(.5),Rb.copy(i).sub(e).normalize(),Bu.copy(this.origin).sub(B2);const a=e.distanceTo(i)*.5,o=-this.direction.dot(Rb),l=Bu.dot(this.direction),h=-Bu.dot(Rb),d=Bu.lengthSq(),p=Math.abs(1-o*o);let g,v,_,j;if(p>0)if(g=o*h-l,v=o*l-h,j=a*p,g>=0)if(v>=-j)if(v<=j){const T=1/p;g*=T,v*=T,_=g*(g+o*v+2*l)+v*(o*g+v+2*h)+d}else v=a,g=Math.max(0,-(o*v+l)),_=-g*g+v*(v+2*h)+d;else v=-a,g=Math.max(0,-(o*v+l)),_=-g*g+v*(v+2*h)+d;else v<=-j?(g=Math.max(0,-(-o*a+l)),v=g>0?-a:Math.min(Math.max(-a,-h),a),_=-g*g+v*(v+2*h)+d):v<=j?(g=0,v=Math.min(Math.max(-a,-h),a),_=v*(v+2*h)+d):(g=Math.max(0,-(o*a+l)),v=g>0?a:Math.min(Math.max(-a,-h),a),_=-g*g+v*(v+2*h)+d);else v=o>0?-a:a,g=Math.max(0,-(o*v+l)),_=-g*g+v*(v+2*h)+d;return r&&r.copy(this.origin).addScaledVector(this.direction,g),s&&s.copy(B2).addScaledVector(Rb,v),_}intersectSphere(e,i){ph.subVectors(e.center,this.origin);const r=ph.dot(this.direction),s=ph.dot(ph)-r*r,a=e.radius*e.radius;if(s>a)return null;const o=Math.sqrt(a-s),l=r-o,h=r+o;return h<0?null:l<0?this.at(h,i):this.at(l,i)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const i=e.normal.dot(this.direction);if(i===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/i;return r>=0?r:null}intersectPlane(e,i){const r=this.distanceToPlane(e);return r===null?null:this.at(r,i)}intersectsPlane(e){const i=e.distanceToPoint(this.origin);return i===0||e.normal.dot(this.direction)*i<0}intersectBox(e,i){let r,s,a,o,l,h;const d=1/this.direction.x,p=1/this.direction.y,g=1/this.direction.z,v=this.origin;return d>=0?(r=(e.min.x-v.x)*d,s=(e.max.x-v.x)*d):(r=(e.max.x-v.x)*d,s=(e.min.x-v.x)*d),p>=0?(a=(e.min.y-v.y)*p,o=(e.max.y-v.y)*p):(a=(e.max.y-v.y)*p,o=(e.min.y-v.y)*p),r>o||a>s||((a>r||isNaN(r))&&(r=a),(o<s||isNaN(s))&&(s=o),g>=0?(l=(e.min.z-v.z)*g,h=(e.max.z-v.z)*g):(l=(e.max.z-v.z)*g,h=(e.min.z-v.z)*g),r>h||l>s)||((l>r||r!==r)&&(r=l),(h<s||s!==s)&&(s=h),s<0)?null:this.at(r>=0?r:s,i)}intersectsBox(e){return this.intersectBox(e,ph)!==null}intersectTriangle(e,i,r,s,a){I2.subVectors(i,e),Lb.subVectors(r,e),F2.crossVectors(I2,Lb);let o=this.direction.dot(F2),l;if(o>0){if(s)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Bu.subVectors(this.origin,e);const h=l*this.direction.dot(Lb.crossVectors(Bu,Lb));if(h<0)return null;const d=l*this.direction.dot(I2.cross(Bu));if(d<0||h+d>o)return null;const p=-l*Bu.dot(F2);return p<0?null:this.at(p/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class dn{constructor(e,i,r,s,a,o,l,h,d,p,g,v,_,j,T,C){dn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,i,r,s,a,o,l,h,d,p,g,v,_,j,T,C)}set(e,i,r,s,a,o,l,h,d,p,g,v,_,j,T,C){const w=this.elements;return w[0]=e,w[4]=i,w[8]=r,w[12]=s,w[1]=a,w[5]=o,w[9]=l,w[13]=h,w[2]=d,w[6]=p,w[10]=g,w[14]=v,w[3]=_,w[7]=j,w[11]=T,w[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new dn().fromArray(this.elements)}copy(e){const i=this.elements,r=e.elements;return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i[6]=r[6],i[7]=r[7],i[8]=r[8],i[9]=r[9],i[10]=r[10],i[11]=r[11],i[12]=r[12],i[13]=r[13],i[14]=r[14],i[15]=r[15],this}copyPosition(e){const i=this.elements,r=e.elements;return i[12]=r[12],i[13]=r[13],i[14]=r[14],this}setFromMatrix3(e){const i=e.elements;return this.set(i[0],i[3],i[6],0,i[1],i[4],i[7],0,i[2],i[5],i[8],0,0,0,0,1),this}extractBasis(e,i,r){return e.setFromMatrixColumn(this,0),i.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,i,r){return this.set(e.x,i.x,r.x,0,e.y,i.y,r.y,0,e.z,i.z,r.z,0,0,0,0,1),this}extractRotation(e){const i=this.elements,r=e.elements,s=1/wm.setFromMatrixColumn(e,0).length(),a=1/wm.setFromMatrixColumn(e,1).length(),o=1/wm.setFromMatrixColumn(e,2).length();return i[0]=r[0]*s,i[1]=r[1]*s,i[2]=r[2]*s,i[3]=0,i[4]=r[4]*a,i[5]=r[5]*a,i[6]=r[6]*a,i[7]=0,i[8]=r[8]*o,i[9]=r[9]*o,i[10]=r[10]*o,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromEuler(e){const i=this.elements,r=e.x,s=e.y,a=e.z,o=Math.cos(r),l=Math.sin(r),h=Math.cos(s),d=Math.sin(s),p=Math.cos(a),g=Math.sin(a);if(e.order==="XYZ"){const v=o*p,_=o*g,j=l*p,T=l*g;i[0]=h*p,i[4]=-h*g,i[8]=d,i[1]=_+j*d,i[5]=v-T*d,i[9]=-l*h,i[2]=T-v*d,i[6]=j+_*d,i[10]=o*h}else if(e.order==="YXZ"){const v=h*p,_=h*g,j=d*p,T=d*g;i[0]=v+T*l,i[4]=j*l-_,i[8]=o*d,i[1]=o*g,i[5]=o*p,i[9]=-l,i[2]=_*l-j,i[6]=T+v*l,i[10]=o*h}else if(e.order==="ZXY"){const v=h*p,_=h*g,j=d*p,T=d*g;i[0]=v-T*l,i[4]=-o*g,i[8]=j+_*l,i[1]=_+j*l,i[5]=o*p,i[9]=T-v*l,i[2]=-o*d,i[6]=l,i[10]=o*h}else if(e.order==="ZYX"){const v=o*p,_=o*g,j=l*p,T=l*g;i[0]=h*p,i[4]=j*d-_,i[8]=v*d+T,i[1]=h*g,i[5]=T*d+v,i[9]=_*d-j,i[2]=-d,i[6]=l*h,i[10]=o*h}else if(e.order==="YZX"){const v=o*h,_=o*d,j=l*h,T=l*d;i[0]=h*p,i[4]=T-v*g,i[8]=j*g+_,i[1]=g,i[5]=o*p,i[9]=-l*p,i[2]=-d*p,i[6]=_*g+j,i[10]=v-T*g}else if(e.order==="XZY"){const v=o*h,_=o*d,j=l*h,T=l*d;i[0]=h*p,i[4]=-g,i[8]=d*p,i[1]=v*g+T,i[5]=o*p,i[9]=_*g-j,i[2]=j*g-_,i[6]=l*p,i[10]=T*g+v}return i[3]=0,i[7]=0,i[11]=0,i[12]=0,i[13]=0,i[14]=0,i[15]=1,this}makeRotationFromQuaternion(e){return this.compose(ide,e,rde)}lookAt(e,i,r){const s=this.elements;return ao.subVectors(e,i),ao.lengthSq()===0&&(ao.z=1),ao.normalize(),Iu.crossVectors(r,ao),Iu.lengthSq()===0&&(Math.abs(r.z)===1?ao.x+=1e-4:ao.z+=1e-4,ao.normalize(),Iu.crossVectors(r,ao)),Iu.normalize(),Db.crossVectors(ao,Iu),s[0]=Iu.x,s[4]=Db.x,s[8]=ao.x,s[1]=Iu.y,s[5]=Db.y,s[9]=ao.y,s[2]=Iu.z,s[6]=Db.z,s[10]=ao.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,i){const r=e.elements,s=i.elements,a=this.elements,o=r[0],l=r[4],h=r[8],d=r[12],p=r[1],g=r[5],v=r[9],_=r[13],j=r[2],T=r[6],C=r[10],w=r[14],A=r[3],L=r[7],k=r[11],I=r[15],z=s[0],U=s[4],H=s[8],P=s[12],N=s[1],G=s[5],te=s[9],Q=s[13],K=s[2],ee=s[6],O=s[10],q=s[14],V=s[3],le=s[7],W=s[11],re=s[15];return a[0]=o*z+l*N+h*K+d*V,a[4]=o*U+l*G+h*ee+d*le,a[8]=o*H+l*te+h*O+d*W,a[12]=o*P+l*Q+h*q+d*re,a[1]=p*z+g*N+v*K+_*V,a[5]=p*U+g*G+v*ee+_*le,a[9]=p*H+g*te+v*O+_*W,a[13]=p*P+g*Q+v*q+_*re,a[2]=j*z+T*N+C*K+w*V,a[6]=j*U+T*G+C*ee+w*le,a[10]=j*H+T*te+C*O+w*W,a[14]=j*P+T*Q+C*q+w*re,a[3]=A*z+L*N+k*K+I*V,a[7]=A*U+L*G+k*ee+I*le,a[11]=A*H+L*te+k*O+I*W,a[15]=A*P+L*Q+k*q+I*re,this}multiplyScalar(e){const i=this.elements;return i[0]*=e,i[4]*=e,i[8]*=e,i[12]*=e,i[1]*=e,i[5]*=e,i[9]*=e,i[13]*=e,i[2]*=e,i[6]*=e,i[10]*=e,i[14]*=e,i[3]*=e,i[7]*=e,i[11]*=e,i[15]*=e,this}determinant(){const e=this.elements,i=e[0],r=e[4],s=e[8],a=e[12],o=e[1],l=e[5],h=e[9],d=e[13],p=e[2],g=e[6],v=e[10],_=e[14],j=e[3],T=e[7],C=e[11],w=e[15];return j*(+a*h*g-s*d*g-a*l*v+r*d*v+s*l*_-r*h*_)+T*(+i*h*_-i*d*v+a*o*v-s*o*_+s*d*p-a*h*p)+C*(+i*d*g-i*l*_-a*o*g+r*o*_+a*l*p-r*d*p)+w*(-s*l*p-i*h*g+i*l*v+s*o*g-r*o*v+r*h*p)}transpose(){const e=this.elements;let i;return i=e[1],e[1]=e[4],e[4]=i,i=e[2],e[2]=e[8],e[8]=i,i=e[6],e[6]=e[9],e[9]=i,i=e[3],e[3]=e[12],e[12]=i,i=e[7],e[7]=e[13],e[13]=i,i=e[11],e[11]=e[14],e[14]=i,this}setPosition(e,i,r){const s=this.elements;return e.isVector3?(s[12]=e.x,s[13]=e.y,s[14]=e.z):(s[12]=e,s[13]=i,s[14]=r),this}invert(){const e=this.elements,i=e[0],r=e[1],s=e[2],a=e[3],o=e[4],l=e[5],h=e[6],d=e[7],p=e[8],g=e[9],v=e[10],_=e[11],j=e[12],T=e[13],C=e[14],w=e[15],A=g*C*d-T*v*d+T*h*_-l*C*_-g*h*w+l*v*w,L=j*v*d-p*C*d-j*h*_+o*C*_+p*h*w-o*v*w,k=p*T*d-j*g*d+j*l*_-o*T*_-p*l*w+o*g*w,I=j*g*h-p*T*h-j*l*v+o*T*v+p*l*C-o*g*C,z=i*A+r*L+s*k+a*I;if(z===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/z;return e[0]=A*U,e[1]=(T*v*a-g*C*a-T*s*_+r*C*_+g*s*w-r*v*w)*U,e[2]=(l*C*a-T*h*a+T*s*d-r*C*d-l*s*w+r*h*w)*U,e[3]=(g*h*a-l*v*a-g*s*d+r*v*d+l*s*_-r*h*_)*U,e[4]=L*U,e[5]=(p*C*a-j*v*a+j*s*_-i*C*_-p*s*w+i*v*w)*U,e[6]=(j*h*a-o*C*a-j*s*d+i*C*d+o*s*w-i*h*w)*U,e[7]=(o*v*a-p*h*a+p*s*d-i*v*d-o*s*_+i*h*_)*U,e[8]=k*U,e[9]=(j*g*a-p*T*a-j*r*_+i*T*_+p*r*w-i*g*w)*U,e[10]=(o*T*a-j*l*a+j*r*d-i*T*d-o*r*w+i*l*w)*U,e[11]=(p*l*a-o*g*a-p*r*d+i*g*d+o*r*_-i*l*_)*U,e[12]=I*U,e[13]=(p*T*s-j*g*s+j*r*v-i*T*v-p*r*C+i*g*C)*U,e[14]=(j*l*s-o*T*s-j*r*h+i*T*h+o*r*C-i*l*C)*U,e[15]=(o*g*s-p*l*s+p*r*h-i*g*h-o*r*v+i*l*v)*U,this}scale(e){const i=this.elements,r=e.x,s=e.y,a=e.z;return i[0]*=r,i[4]*=s,i[8]*=a,i[1]*=r,i[5]*=s,i[9]*=a,i[2]*=r,i[6]*=s,i[10]*=a,i[3]*=r,i[7]*=s,i[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,i=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],s=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(i,r,s))}makeTranslation(e,i,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,i,0,0,1,r,0,0,0,1),this}makeRotationX(e){const i=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,i,-r,0,0,r,i,0,0,0,0,1),this}makeRotationY(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,0,r,0,0,1,0,0,-r,0,i,0,0,0,0,1),this}makeRotationZ(e){const i=Math.cos(e),r=Math.sin(e);return this.set(i,-r,0,0,r,i,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,i){const r=Math.cos(i),s=Math.sin(i),a=1-r,o=e.x,l=e.y,h=e.z,d=a*o,p=a*l;return this.set(d*o+r,d*l-s*h,d*h+s*l,0,d*l+s*h,p*l+r,p*h-s*o,0,d*h-s*l,p*h+s*o,a*h*h+r,0,0,0,0,1),this}makeScale(e,i,r){return this.set(e,0,0,0,0,i,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,i,r,s,a,o){return this.set(1,r,a,0,e,1,o,0,i,s,1,0,0,0,0,1),this}compose(e,i,r){const s=this.elements,a=i._x,o=i._y,l=i._z,h=i._w,d=a+a,p=o+o,g=l+l,v=a*d,_=a*p,j=a*g,T=o*p,C=o*g,w=l*g,A=h*d,L=h*p,k=h*g,I=r.x,z=r.y,U=r.z;return s[0]=(1-(T+w))*I,s[1]=(_+k)*I,s[2]=(j-L)*I,s[3]=0,s[4]=(_-k)*z,s[5]=(1-(v+w))*z,s[6]=(C+A)*z,s[7]=0,s[8]=(j+L)*U,s[9]=(C-A)*U,s[10]=(1-(v+T))*U,s[11]=0,s[12]=e.x,s[13]=e.y,s[14]=e.z,s[15]=1,this}decompose(e,i,r){const s=this.elements;let a=wm.set(s[0],s[1],s[2]).length();const o=wm.set(s[4],s[5],s[6]).length(),l=wm.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),e.x=s[12],e.y=s[13],e.z=s[14],bl.copy(this);const d=1/a,p=1/o,g=1/l;return bl.elements[0]*=d,bl.elements[1]*=d,bl.elements[2]*=d,bl.elements[4]*=p,bl.elements[5]*=p,bl.elements[6]*=p,bl.elements[8]*=g,bl.elements[9]*=g,bl.elements[10]*=g,i.setFromRotationMatrix(bl),r.x=a,r.y=o,r.z=l,this}makePerspective(e,i,r,s,a,o,l=Go){const h=this.elements,d=2*a/(i-e),p=2*a/(r-s),g=(i+e)/(i-e),v=(r+s)/(r-s);let _,j;if(l===Go)_=-(o+a)/(o-a),j=-2*o*a/(o-a);else if(l===ev)_=-o/(o-a),j=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+l);return h[0]=d,h[4]=0,h[8]=g,h[12]=0,h[1]=0,h[5]=p,h[9]=v,h[13]=0,h[2]=0,h[6]=0,h[10]=_,h[14]=j,h[3]=0,h[7]=0,h[11]=-1,h[15]=0,this}makeOrthographic(e,i,r,s,a,o,l=Go){const h=this.elements,d=1/(i-e),p=1/(r-s),g=1/(o-a),v=(i+e)*d,_=(r+s)*p;let j,T;if(l===Go)j=(o+a)*g,T=-2*g;else if(l===ev)j=a*g,T=-1*g;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+l);return h[0]=2*d,h[4]=0,h[8]=0,h[12]=-v,h[1]=0,h[5]=2*p,h[9]=0,h[13]=-_,h[2]=0,h[6]=0,h[10]=T,h[14]=-j,h[3]=0,h[7]=0,h[11]=0,h[15]=1,this}equals(e){const i=this.elements,r=e.elements;for(let s=0;s<16;s++)if(i[s]!==r[s])return!1;return!0}fromArray(e,i=0){for(let r=0;r<16;r++)this.elements[r]=e[r+i];return this}toArray(e=[],i=0){const r=this.elements;return e[i]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3],e[i+4]=r[4],e[i+5]=r[5],e[i+6]=r[6],e[i+7]=r[7],e[i+8]=r[8],e[i+9]=r[9],e[i+10]=r[10],e[i+11]=r[11],e[i+12]=r[12],e[i+13]=r[13],e[i+14]=r[14],e[i+15]=r[15],e}}const wm=new oe,bl=new dn,ide=new oe(0,0,0),rde=new oe(1,1,1),Iu=new oe,Db=new oe,ao=new oe,oN=new dn,lN=new Va;class fo{constructor(e=0,i=0,r=0,s=fo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,i,r,s=this._order){return this._x=e,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,i=this._order,r=!0){const s=e.elements,a=s[0],o=s[4],l=s[8],h=s[1],d=s[5],p=s[9],g=s[2],v=s[6],_=s[10];switch(i){case"XYZ":this._y=Math.asin(bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,_),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(v,d),this._z=0);break;case"YXZ":this._x=Math.asin(-bn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(l,_),this._z=Math.atan2(h,d)):(this._y=Math.atan2(-g,a),this._z=0);break;case"ZXY":this._x=Math.asin(bn(v,-1,1)),Math.abs(v)<.9999999?(this._y=Math.atan2(-g,_),this._z=Math.atan2(-o,d)):(this._y=0,this._z=Math.atan2(h,a));break;case"ZYX":this._y=Math.asin(-bn(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(v,_),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-o,d));break;case"YZX":this._z=Math.asin(bn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-p,d),this._y=Math.atan2(-g,a)):(this._x=0,this._y=Math.atan2(l,_));break;case"XZY":this._z=Math.asin(-bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(v,d),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-p,_),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,i,r){return oN.makeRotationFromQuaternion(e),this.setFromRotationMatrix(oN,i,r)}setFromVector3(e,i=this._order){return this.set(e.x,e.y,e.z,i)}reorder(e){return lN.setFromEuler(this),this.setFromQuaternion(lN,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],i=0){return e[i]=this._x,e[i+1]=this._y,e[i+2]=this._z,e[i+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}fo.DEFAULT_ORDER="XYZ";class Pg{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let sde=0;const cN=new oe,Tm=new Va,mh=new dn,kb=new oe,By=new oe,ade=new oe,ode=new Va,hN=new oe(1,0,0),uN=new oe(0,1,0),dN=new oe(0,0,1),fN={type:"added"},lde={type:"removed"},Cm={type:"childadded",child:null},U2={type:"childremoved",child:null};class ni extends Fc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:sde++}),this.uuid=ho(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ni.DEFAULT_UP.clone();const e=new oe,i=new fo,r=new Va,s=new oe(1,1,1);function a(){r.setFromEuler(i,!1)}function o(){i.setFromQuaternion(r,void 0,!1)}i._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new dn},normalMatrix:{value:new wn}}),this.matrix=new dn,this.matrixWorld=new dn,this.matrixAutoUpdate=ni.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=ni.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Pg,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,i){this.quaternion.setFromAxisAngle(e,i)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,i){return Tm.setFromAxisAngle(e,i),this.quaternion.multiply(Tm),this}rotateOnWorldAxis(e,i){return Tm.setFromAxisAngle(e,i),this.quaternion.premultiply(Tm),this}rotateX(e){return this.rotateOnAxis(hN,e)}rotateY(e){return this.rotateOnAxis(uN,e)}rotateZ(e){return this.rotateOnAxis(dN,e)}translateOnAxis(e,i){return cN.copy(e).applyQuaternion(this.quaternion),this.position.add(cN.multiplyScalar(i)),this}translateX(e){return this.translateOnAxis(hN,e)}translateY(e){return this.translateOnAxis(uN,e)}translateZ(e){return this.translateOnAxis(dN,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(mh.copy(this.matrixWorld).invert())}lookAt(e,i,r){e.isVector3?kb.copy(e):kb.set(e,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),By.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?mh.lookAt(By,kb,this.up):mh.lookAt(kb,By,this.up),this.quaternion.setFromRotationMatrix(mh),s&&(mh.extractRotation(s.matrixWorld),Tm.setFromRotationMatrix(mh),this.quaternion.premultiply(Tm.invert()))}add(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(fN),Cm.child=e,this.dispatchEvent(Cm),Cm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(e);return i!==-1&&(e.parent=null,this.children.splice(i,1),e.dispatchEvent(lde),U2.child=e,this.dispatchEvent(U2),U2.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),mh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),mh.multiply(e.parent.matrixWorld)),e.applyMatrix4(mh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(fN),Cm.child=e,this.dispatchEvent(Cm),Cm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,i){if(this[e]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const o=this.children[r].getObjectByProperty(e,i);if(o!==void 0)return o}}getObjectsByProperty(e,i,r=[]){this[e]===i&&r.push(this);const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].getObjectsByProperty(e,i,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(By,e,ade),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(By,ode,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return e.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(e){e(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(e)}traverseAncestors(e){const i=this.parent;i!==null&&(e(i),i.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].updateMatrixWorld(e)}updateWorldMatrix(e,i){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),i===!0){const s=this.children;for(let a=0,o=s.length;a<o;a++)s[a].updateWorldMatrix(!1,!0)}}toJSON(e){const i=e===void 0||typeof e=="string",r={};i&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const s={};s.uuid=this.uuid,s.type=this.type,this.name!==""&&(s.name=this.name),this.castShadow===!0&&(s.castShadow=!0),this.receiveShadow===!0&&(s.receiveShadow=!0),this.visible===!1&&(s.visible=!1),this.frustumCulled===!1&&(s.frustumCulled=!1),this.renderOrder!==0&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(s.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(s.type="BatchedMesh",s.perObjectFrustumCulled=this.perObjectFrustumCulled,s.sortObjects=this.sortObjects,s.drawRanges=this._drawRanges,s.reservedRanges=this._reservedRanges,s.geometryInfo=this._geometryInfo.map(l=>({...l,boundingBox:l.boundingBox?l.boundingBox.toJSON():void 0,boundingSphere:l.boundingSphere?l.boundingSphere.toJSON():void 0})),s.instanceInfo=this._instanceInfo.map(l=>({...l})),s.availableInstanceIds=this._availableInstanceIds.slice(),s.availableGeometryIds=this._availableGeometryIds.slice(),s.nextIndexStart=this._nextIndexStart,s.nextVertexStart=this._nextVertexStart,s.geometryCount=this._geometryCount,s.maxInstanceCount=this._maxInstanceCount,s.maxVertexCount=this._maxVertexCount,s.maxIndexCount=this._maxIndexCount,s.geometryInitialized=this._geometryInitialized,s.matricesTexture=this._matricesTexture.toJSON(e),s.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(s.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(s.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(s.boundingBox=this.boundingBox.toJSON()));function a(l,h){return l[h.uuid]===void 0&&(l[h.uuid]=h.toJSON(e)),h.uuid}if(this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(s.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=a(e.geometries,this.geometry);const l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){const h=l.shapes;if(Array.isArray(h))for(let d=0,p=h.length;d<p;d++){const g=h[d];a(e.shapes,g)}else a(e.shapes,h)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const l=[];for(let h=0,d=this.material.length;h<d;h++)l.push(a(e.materials,this.material[h]));s.material=l}else s.material=a(e.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++){const h=this.animations[l];s.animations.push(a(e.animations,h))}}if(i){const l=o(e.geometries),h=o(e.materials),d=o(e.textures),p=o(e.images),g=o(e.shapes),v=o(e.skeletons),_=o(e.animations),j=o(e.nodes);l.length>0&&(r.geometries=l),h.length>0&&(r.materials=h),d.length>0&&(r.textures=d),p.length>0&&(r.images=p),g.length>0&&(r.shapes=g),v.length>0&&(r.skeletons=v),_.length>0&&(r.animations=_),j.length>0&&(r.nodes=j)}return r.object=s,r;function o(l){const h=[];for(const d in l){const p=l[d];delete p.metadata,h.push(p)}return h}}clone(e){return new this.constructor().copy(this,e)}copy(e,i=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),i===!0)for(let r=0;r<e.children.length;r++){const s=e.children[r];this.add(s.clone())}return this}}ni.DEFAULT_UP=new oe(0,1,0);ni.DEFAULT_MATRIX_AUTO_UPDATE=!0;ni.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const jl=new oe,gh=new oe,z2=new oe,xh=new oe,Mm=new oe,Em=new oe,pN=new oe,H2=new oe,V2=new oe,G2=new oe,$2=new ti,q2=new ti,W2=new ti;class Fa{constructor(e=new oe,i=new oe,r=new oe){this.a=e,this.b=i,this.c=r}static getNormal(e,i,r,s){s.subVectors(r,i),jl.subVectors(e,i),s.cross(jl);const a=s.lengthSq();return a>0?s.multiplyScalar(1/Math.sqrt(a)):s.set(0,0,0)}static getBarycoord(e,i,r,s,a){jl.subVectors(s,i),gh.subVectors(r,i),z2.subVectors(e,i);const o=jl.dot(jl),l=jl.dot(gh),h=jl.dot(z2),d=gh.dot(gh),p=gh.dot(z2),g=o*d-l*l;if(g===0)return a.set(0,0,0),null;const v=1/g,_=(d*h-l*p)*v,j=(o*p-l*h)*v;return a.set(1-_-j,j,_)}static containsPoint(e,i,r,s){return this.getBarycoord(e,i,r,s,xh)===null?!1:xh.x>=0&&xh.y>=0&&xh.x+xh.y<=1}static getInterpolation(e,i,r,s,a,o,l,h){return this.getBarycoord(e,i,r,s,xh)===null?(h.x=0,h.y=0,"z"in h&&(h.z=0),"w"in h&&(h.w=0),null):(h.setScalar(0),h.addScaledVector(a,xh.x),h.addScaledVector(o,xh.y),h.addScaledVector(l,xh.z),h)}static getInterpolatedAttribute(e,i,r,s,a,o){return $2.setScalar(0),q2.setScalar(0),W2.setScalar(0),$2.fromBufferAttribute(e,i),q2.fromBufferAttribute(e,r),W2.fromBufferAttribute(e,s),o.setScalar(0),o.addScaledVector($2,a.x),o.addScaledVector(q2,a.y),o.addScaledVector(W2,a.z),o}static isFrontFacing(e,i,r,s){return jl.subVectors(r,i),gh.subVectors(e,i),jl.cross(gh).dot(s)<0}set(e,i,r){return this.a.copy(e),this.b.copy(i),this.c.copy(r),this}setFromPointsAndIndices(e,i,r,s){return this.a.copy(e[i]),this.b.copy(e[r]),this.c.copy(e[s]),this}setFromAttributeAndIndices(e,i,r,s){return this.a.fromBufferAttribute(e,i),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,s),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return jl.subVectors(this.c,this.b),gh.subVectors(this.a,this.b),jl.cross(gh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Fa.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,i){return Fa.getBarycoord(e,this.a,this.b,this.c,i)}getInterpolation(e,i,r,s,a){return Fa.getInterpolation(e,this.a,this.b,this.c,i,r,s,a)}containsPoint(e){return Fa.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Fa.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,i){const r=this.a,s=this.b,a=this.c;let o,l;Mm.subVectors(s,r),Em.subVectors(a,r),H2.subVectors(e,r);const h=Mm.dot(H2),d=Em.dot(H2);if(h<=0&&d<=0)return i.copy(r);V2.subVectors(e,s);const p=Mm.dot(V2),g=Em.dot(V2);if(p>=0&&g<=p)return i.copy(s);const v=h*g-p*d;if(v<=0&&h>=0&&p<=0)return o=h/(h-p),i.copy(r).addScaledVector(Mm,o);G2.subVectors(e,a);const _=Mm.dot(G2),j=Em.dot(G2);if(j>=0&&_<=j)return i.copy(a);const T=_*d-h*j;if(T<=0&&d>=0&&j<=0)return l=d/(d-j),i.copy(r).addScaledVector(Em,l);const C=p*j-_*g;if(C<=0&&g-p>=0&&_-j>=0)return pN.subVectors(a,s),l=(g-p)/(g-p+(_-j)),i.copy(s).addScaledVector(pN,l);const w=1/(C+T+v);return o=T*w,l=v*w,i.copy(r).addScaledVector(Mm,o).addScaledVector(Em,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Z6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fu={h:0,s:0,l:0},Nb={h:0,s:0,l:0};function X2(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*6*(2/3-i):t}class Dt{constructor(e,i,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,i,r)}set(e,i,r){if(i===void 0&&r===void 0){const s=e;s&&s.isColor?this.copy(s):typeof s=="number"?this.setHex(s):typeof s=="string"&&this.setStyle(s)}else this.setRGB(e,i,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,i=Bs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,qn.colorSpaceToWorking(this,i),this}setRGB(e,i,r,s=qn.workingColorSpace){return this.r=e,this.g=i,this.b=r,qn.colorSpaceToWorking(this,s),this}setHSL(e,i,r,s=qn.workingColorSpace){if(e=nR(e,1),i=bn(i,0,1),r=bn(r,0,1),i===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+i):r+i-r*i,o=2*r-a;this.r=X2(o,a,e+1/3),this.g=X2(o,a,e),this.b=X2(o,a,e-1/3)}return qn.colorSpaceToWorking(this,s),this}setStyle(e,i=Bs){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let s;if(s=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=s[1],l=s[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,i);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,i);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,i);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(s=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=s[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,i);if(o===6)return this.setHex(parseInt(a,16),i);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,i);return this}setColorName(e,i=Bs){const r=Z6[e.toLowerCase()];return r!==void 0?this.setHex(r,i):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Lh(e.r),this.g=Lh(e.g),this.b=Lh(e.b),this}copyLinearToSRGB(e){return this.r=ag(e.r),this.g=ag(e.g),this.b=ag(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Bs){return qn.workingToColorSpace(ks.copy(this),e),Math.round(bn(ks.r*255,0,255))*65536+Math.round(bn(ks.g*255,0,255))*256+Math.round(bn(ks.b*255,0,255))}getHexString(e=Bs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,i=qn.workingColorSpace){qn.workingToColorSpace(ks.copy(this),i);const r=ks.r,s=ks.g,a=ks.b,o=Math.max(r,s,a),l=Math.min(r,s,a);let h,d;const p=(l+o)/2;if(l===o)h=0,d=0;else{const g=o-l;switch(d=p<=.5?g/(o+l):g/(2-o-l),o){case r:h=(s-a)/g+(s<a?6:0);break;case s:h=(a-r)/g+2;break;case a:h=(r-s)/g+4;break}h/=6}return e.h=h,e.s=d,e.l=p,e}getRGB(e,i=qn.workingColorSpace){return qn.workingToColorSpace(ks.copy(this),i),e.r=ks.r,e.g=ks.g,e.b=ks.b,e}getStyle(e=Bs){qn.workingToColorSpace(ks.copy(this),e);const i=ks.r,r=ks.g,s=ks.b;return e!==Bs?`color(${e} ${i.toFixed(3)} ${r.toFixed(3)} ${s.toFixed(3)})`:`rgb(${Math.round(i*255)},${Math.round(r*255)},${Math.round(s*255)})`}offsetHSL(e,i,r){return this.getHSL(Fu),this.setHSL(Fu.h+e,Fu.s+i,Fu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,i){return this.r=e.r+i.r,this.g=e.g+i.g,this.b=e.b+i.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,i){return this.r+=(e.r-this.r)*i,this.g+=(e.g-this.g)*i,this.b+=(e.b-this.b)*i,this}lerpColors(e,i,r){return this.r=e.r+(i.r-e.r)*r,this.g=e.g+(i.g-e.g)*r,this.b=e.b+(i.b-e.b)*r,this}lerpHSL(e,i){this.getHSL(Fu),e.getHSL(Nb);const r=j0(Fu.h,Nb.h,i),s=j0(Fu.s,Nb.s,i),a=j0(Fu.l,Nb.l,i);return this.setHSL(r,s,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const i=this.r,r=this.g,s=this.b,a=e.elements;return this.r=a[0]*i+a[3]*r+a[6]*s,this.g=a[1]*i+a[4]*r+a[7]*s,this.b=a[2]*i+a[5]*r+a[8]*s,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,i=0){return this.r=e[i],this.g=e[i+1],this.b=e[i+2],this}toArray(e=[],i=0){return e[i]=this.r,e[i+1]=this.g,e[i+2]=this.b,e}fromBufferAttribute(e,i){return this.r=e.getX(i),this.g=e.getY(i),this.b=e.getZ(i),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ks=new Dt;Dt.NAMES=Z6;let cde=0;class Gs extends Fc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:cde++}),this.uuid=ho(),this.name="",this.type="Material",this.blending=Wf,this.side=Oh,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$S,this.blendDst=qS,this.blendEquation=Ku,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Dt(0,0,0),this.blendAlpha=0,this.depthFunc=ip,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=oE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Rf,this.stencilZFail=Rf,this.stencilZPass=Rf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const i in e){const r=e[i];if(r===void 0){console.warn(`THREE.Material: parameter '${i}' has value of undefined.`);continue}const s=this[i];if(s===void 0){console.warn(`THREE.Material: '${i}' is not a property of THREE.${this.type}.`);continue}s&&s.isColor?s.set(r):s&&s.isVector3&&r&&r.isVector3?s.copy(r):this[i]=r}}toJSON(e){const i=e===void 0||typeof e=="string";i&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Wf&&(r.blending=this.blending),this.side!==Oh&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==$S&&(r.blendSrc=this.blendSrc),this.blendDst!==qS&&(r.blendDst=this.blendDst),this.blendEquation!==Ku&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==ip&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==oE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Rf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Rf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Rf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function s(a){const o=[];for(const l in a){const h=a[l];delete h.metadata,o.push(h)}return o}if(i){const a=s(e.textures),o=s(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const i=e.clippingPlanes;let r=null;if(i!==null){const s=i.length;r=new Array(s);for(let a=0;a!==s;++a)r[a]=i[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class pd extends Gs{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fo,this.combine=Tv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const wh=hde();function hde(){const t=new ArrayBuffer(4),e=new Float32Array(t),i=new Uint32Array(t),r=new Uint32Array(512),s=new Uint32Array(512);for(let h=0;h<256;++h){const d=h-127;d<-27?(r[h]=0,r[h|256]=32768,s[h]=24,s[h|256]=24):d<-14?(r[h]=1024>>-d-14,r[h|256]=1024>>-d-14|32768,s[h]=-d-1,s[h|256]=-d-1):d<=15?(r[h]=d+15<<10,r[h|256]=d+15<<10|32768,s[h]=13,s[h|256]=13):d<128?(r[h]=31744,r[h|256]=64512,s[h]=24,s[h|256]=24):(r[h]=31744,r[h|256]=64512,s[h]=13,s[h|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),l=new Uint32Array(64);for(let h=1;h<1024;++h){let d=h<<13,p=0;for(;(d&8388608)===0;)d<<=1,p-=8388608;d&=-8388609,p+=947912704,a[h]=d|p}for(let h=1024;h<2048;++h)a[h]=939524096+(h-1024<<13);for(let h=1;h<31;++h)o[h]=h<<23;o[31]=1199570944,o[32]=2147483648;for(let h=33;h<63;++h)o[h]=2147483648+(h-32<<23);o[63]=3347054592;for(let h=1;h<64;++h)h!==32&&(l[h]=1024);return{floatView:e,uint32View:i,baseTable:r,shiftTable:s,mantissaTable:a,exponentTable:o,offsetTable:l}}function Pa(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=bn(t,-65504,65504),wh.floatView[0]=t;const e=wh.uint32View[0],i=e>>23&511;return wh.baseTable[i]+((e&8388607)>>wh.shiftTable[i])}function r0(t){const e=t>>10;return wh.uint32View[0]=wh.mantissaTable[wh.offsetTable[e]+(t&1023)]+wh.exponentTable[e],wh.floatView[0]}class ude{static toHalfFloat(e){return Pa(e)}static fromHalfFloat(e){return r0(e)}}const Sr=new oe,Pb=new it;let dde=0;class Mi{constructor(e,i,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:dde++}),this.name="",this.array=e,this.itemSize=i,this.count=e!==void 0?e.length/i:0,this.normalized=r,this.usage=J0,this.updateRanges=[],this.gpuType=za,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,i,r){e*=this.itemSize,r*=i.itemSize;for(let s=0,a=this.itemSize;s<a;s++)this.array[e+s]=i.array[r+s];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let i=0,r=this.count;i<r;i++)Pb.fromBufferAttribute(this,i),Pb.applyMatrix3(e),this.setXY(i,Pb.x,Pb.y);else if(this.itemSize===3)for(let i=0,r=this.count;i<r;i++)Sr.fromBufferAttribute(this,i),Sr.applyMatrix3(e),this.setXYZ(i,Sr.x,Sr.y,Sr.z);return this}applyMatrix4(e){for(let i=0,r=this.count;i<r;i++)Sr.fromBufferAttribute(this,i),Sr.applyMatrix4(e),this.setXYZ(i,Sr.x,Sr.y,Sr.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)Sr.fromBufferAttribute(this,i),Sr.applyNormalMatrix(e),this.setXYZ(i,Sr.x,Sr.y,Sr.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)Sr.fromBufferAttribute(this,i),Sr.transformDirection(e),this.setXYZ(i,Sr.x,Sr.y,Sr.z);return this}set(e,i=0){return this.array.set(e,i),this}getComponent(e,i){let r=this.array[e*this.itemSize+i];return this.normalized&&(r=ha(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=En(r,this.array)),this.array[e*this.itemSize+i]=r,this}getX(e){let i=this.array[e*this.itemSize];return this.normalized&&(i=ha(i,this.array)),i}setX(e,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize]=i,this}getY(e){let i=this.array[e*this.itemSize+1];return this.normalized&&(i=ha(i,this.array)),i}setY(e,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize+1]=i,this}getZ(e){let i=this.array[e*this.itemSize+2];return this.normalized&&(i=ha(i,this.array)),i}setZ(e,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize+2]=i,this}getW(e){let i=this.array[e*this.itemSize+3];return this.normalized&&(i=ha(i,this.array)),i}setW(e,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize+3]=i,this}setXY(e,i,r){return e*=this.itemSize,this.normalized&&(i=En(i,this.array),r=En(r,this.array)),this.array[e+0]=i,this.array[e+1]=r,this}setXYZ(e,i,r,s){return e*=this.itemSize,this.normalized&&(i=En(i,this.array),r=En(r,this.array),s=En(s,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=s,this}setXYZW(e,i,r,s,a){return e*=this.itemSize,this.normalized&&(i=En(i,this.array),r=En(r,this.array),s=En(s,this.array),a=En(a,this.array)),this.array[e+0]=i,this.array[e+1]=r,this.array[e+2]=s,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==J0&&(e.usage=this.usage),e}}class fde extends Mi{constructor(e,i,r){super(new Int8Array(e),i,r)}}class pde extends Mi{constructor(e,i,r){super(new Uint8Array(e),i,r)}}class mde extends Mi{constructor(e,i,r){super(new Uint8ClampedArray(e),i,r)}}class gde extends Mi{constructor(e,i,r){super(new Int16Array(e),i,r)}}class rR extends Mi{constructor(e,i,r){super(new Uint16Array(e),i,r)}}class xde extends Mi{constructor(e,i,r){super(new Int32Array(e),i,r)}}class sR extends Mi{constructor(e,i,r){super(new Uint32Array(e),i,r)}}class yde extends Mi{constructor(e,i,r){super(new Uint16Array(e),i,r),this.isFloat16BufferAttribute=!0}getX(e){let i=r0(this.array[e*this.itemSize]);return this.normalized&&(i=ha(i,this.array)),i}setX(e,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize]=Pa(i),this}getY(e){let i=r0(this.array[e*this.itemSize+1]);return this.normalized&&(i=ha(i,this.array)),i}setY(e,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize+1]=Pa(i),this}getZ(e){let i=r0(this.array[e*this.itemSize+2]);return this.normalized&&(i=ha(i,this.array)),i}setZ(e,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize+2]=Pa(i),this}getW(e){let i=r0(this.array[e*this.itemSize+3]);return this.normalized&&(i=ha(i,this.array)),i}setW(e,i){return this.normalized&&(i=En(i,this.array)),this.array[e*this.itemSize+3]=Pa(i),this}setXY(e,i,r){return e*=this.itemSize,this.normalized&&(i=En(i,this.array),r=En(r,this.array)),this.array[e+0]=Pa(i),this.array[e+1]=Pa(r),this}setXYZ(e,i,r,s){return e*=this.itemSize,this.normalized&&(i=En(i,this.array),r=En(r,this.array),s=En(s,this.array)),this.array[e+0]=Pa(i),this.array[e+1]=Pa(r),this.array[e+2]=Pa(s),this}setXYZW(e,i,r,s,a){return e*=this.itemSize,this.normalized&&(i=En(i,this.array),r=En(r,this.array),s=En(s,this.array),a=En(a,this.array)),this.array[e+0]=Pa(i),this.array[e+1]=Pa(r),this.array[e+2]=Pa(s),this.array[e+3]=Pa(a),this}}class Ut extends Mi{constructor(e,i,r){super(new Float32Array(e),i,r)}}let vde=0;const Io=new dn,Y2=new ni,Am=new oe,oo=new Hs,Iy=new Hs,Zr=new oe;class An extends Fc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:vde++}),this.uuid=ho(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(X6(e)?sR:rR)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,i){return this.attributes[e]=i,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,i,r=0){this.groups.push({start:e,count:i,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,i){this.drawRange.start=e,this.drawRange.count=i}applyMatrix4(e){const i=this.attributes.position;i!==void 0&&(i.applyMatrix4(e),i.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new wn().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const s=this.attributes.tangent;return s!==void 0&&(s.transformDirection(e),s.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Io.makeRotationFromQuaternion(e),this.applyMatrix4(Io),this}rotateX(e){return Io.makeRotationX(e),this.applyMatrix4(Io),this}rotateY(e){return Io.makeRotationY(e),this.applyMatrix4(Io),this}rotateZ(e){return Io.makeRotationZ(e),this.applyMatrix4(Io),this}translate(e,i,r){return Io.makeTranslation(e,i,r),this.applyMatrix4(Io),this}scale(e,i,r){return Io.makeScale(e,i,r),this.applyMatrix4(Io),this}lookAt(e){return Y2.lookAt(e),Y2.updateMatrix(),this.applyMatrix4(Y2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Am).negate(),this.translate(Am.x,Am.y,Am.z),this}setFromPoints(e){const i=this.getAttribute("position");if(i===void 0){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ut(r,3))}else{const r=Math.min(e.length,i.count);for(let s=0;s<r;s++){const a=e[s];i.setXYZ(s,a.x,a.y,a.z||0)}e.length>i.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),i.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Hs);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new oe(-1/0,-1/0,-1/0),new oe(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),i)for(let r=0,s=i.length;r<s;r++){const a=i[r];oo.setFromBufferAttribute(a),this.morphTargetsRelative?(Zr.addVectors(this.boundingBox.min,oo.min),this.boundingBox.expandByPoint(Zr),Zr.addVectors(this.boundingBox.max,oo.max),this.boundingBox.expandByPoint(Zr)):(this.boundingBox.expandByPoint(oo.min),this.boundingBox.expandByPoint(oo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ys);const e=this.attributes.position,i=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new oe,1/0);return}if(e){const r=this.boundingSphere.center;if(oo.setFromBufferAttribute(e),i)for(let a=0,o=i.length;a<o;a++){const l=i[a];Iy.setFromBufferAttribute(l),this.morphTargetsRelative?(Zr.addVectors(oo.min,Iy.min),oo.expandByPoint(Zr),Zr.addVectors(oo.max,Iy.max),oo.expandByPoint(Zr)):(oo.expandByPoint(Iy.min),oo.expandByPoint(Iy.max))}oo.getCenter(r);let s=0;for(let a=0,o=e.count;a<o;a++)Zr.fromBufferAttribute(e,a),s=Math.max(s,r.distanceToSquared(Zr));if(i)for(let a=0,o=i.length;a<o;a++){const l=i[a],h=this.morphTargetsRelative;for(let d=0,p=l.count;d<p;d++)Zr.fromBufferAttribute(l,d),h&&(Am.fromBufferAttribute(e,d),Zr.add(Am)),s=Math.max(s,r.distanceToSquared(Zr))}this.boundingSphere.radius=Math.sqrt(s),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,i=this.attributes;if(e===null||i.position===void 0||i.normal===void 0||i.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=i.position,s=i.normal,a=i.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Mi(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),l=[],h=[];for(let H=0;H<r.count;H++)l[H]=new oe,h[H]=new oe;const d=new oe,p=new oe,g=new oe,v=new it,_=new it,j=new it,T=new oe,C=new oe;function w(H,P,N){d.fromBufferAttribute(r,H),p.fromBufferAttribute(r,P),g.fromBufferAttribute(r,N),v.fromBufferAttribute(a,H),_.fromBufferAttribute(a,P),j.fromBufferAttribute(a,N),p.sub(d),g.sub(d),_.sub(v),j.sub(v);const G=1/(_.x*j.y-j.x*_.y);isFinite(G)&&(T.copy(p).multiplyScalar(j.y).addScaledVector(g,-_.y).multiplyScalar(G),C.copy(g).multiplyScalar(_.x).addScaledVector(p,-j.x).multiplyScalar(G),l[H].add(T),l[P].add(T),l[N].add(T),h[H].add(C),h[P].add(C),h[N].add(C))}let A=this.groups;A.length===0&&(A=[{start:0,count:e.count}]);for(let H=0,P=A.length;H<P;++H){const N=A[H],G=N.start,te=N.count;for(let Q=G,K=G+te;Q<K;Q+=3)w(e.getX(Q+0),e.getX(Q+1),e.getX(Q+2))}const L=new oe,k=new oe,I=new oe,z=new oe;function U(H){I.fromBufferAttribute(s,H),z.copy(I);const P=l[H];L.copy(P),L.sub(I.multiplyScalar(I.dot(P))).normalize(),k.crossVectors(z,P);const G=k.dot(h[H])<0?-1:1;o.setXYZW(H,L.x,L.y,L.z,G)}for(let H=0,P=A.length;H<P;++H){const N=A[H],G=N.start,te=N.count;for(let Q=G,K=G+te;Q<K;Q+=3)U(e.getX(Q+0)),U(e.getX(Q+1)),U(e.getX(Q+2))}}computeVertexNormals(){const e=this.index,i=this.getAttribute("position");if(i!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Mi(new Float32Array(i.count*3),3),this.setAttribute("normal",r);else for(let v=0,_=r.count;v<_;v++)r.setXYZ(v,0,0,0);const s=new oe,a=new oe,o=new oe,l=new oe,h=new oe,d=new oe,p=new oe,g=new oe;if(e)for(let v=0,_=e.count;v<_;v+=3){const j=e.getX(v+0),T=e.getX(v+1),C=e.getX(v+2);s.fromBufferAttribute(i,j),a.fromBufferAttribute(i,T),o.fromBufferAttribute(i,C),p.subVectors(o,a),g.subVectors(s,a),p.cross(g),l.fromBufferAttribute(r,j),h.fromBufferAttribute(r,T),d.fromBufferAttribute(r,C),l.add(p),h.add(p),d.add(p),r.setXYZ(j,l.x,l.y,l.z),r.setXYZ(T,h.x,h.y,h.z),r.setXYZ(C,d.x,d.y,d.z)}else for(let v=0,_=i.count;v<_;v+=3)s.fromBufferAttribute(i,v+0),a.fromBufferAttribute(i,v+1),o.fromBufferAttribute(i,v+2),p.subVectors(o,a),g.subVectors(s,a),p.cross(g),r.setXYZ(v+0,p.x,p.y,p.z),r.setXYZ(v+1,p.x,p.y,p.z),r.setXYZ(v+2,p.x,p.y,p.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let i=0,r=e.count;i<r;i++)Zr.fromBufferAttribute(e,i),Zr.normalize(),e.setXYZ(i,Zr.x,Zr.y,Zr.z)}toNonIndexed(){function e(l,h){const d=l.array,p=l.itemSize,g=l.normalized,v=new d.constructor(h.length*p);let _=0,j=0;for(let T=0,C=h.length;T<C;T++){l.isInterleavedBufferAttribute?_=h[T]*l.data.stride+l.offset:_=h[T]*p;for(let w=0;w<p;w++)v[j++]=d[_++]}return new Mi(v,p,g)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const i=new An,r=this.index.array,s=this.attributes;for(const l in s){const h=s[l],d=e(h,r);i.setAttribute(l,d)}const a=this.morphAttributes;for(const l in a){const h=[],d=a[l];for(let p=0,g=d.length;p<g;p++){const v=d[p],_=e(v,r);h.push(_)}i.morphAttributes[l]=h}i.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let l=0,h=o.length;l<h;l++){const d=o[l];i.addGroup(d.start,d.count,d.materialIndex)}return i}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const h=this.parameters;for(const d in h)h[d]!==void 0&&(e[d]=h[d]);return e}e.data={attributes:{}};const i=this.index;i!==null&&(e.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});const r=this.attributes;for(const h in r){const d=r[h];e.data.attributes[h]=d.toJSON(e.data)}const s={};let a=!1;for(const h in this.morphAttributes){const d=this.morphAttributes[h],p=[];for(let g=0,v=d.length;g<v;g++){const _=d[g];p.push(_.toJSON(e.data))}p.length>0&&(s[h]=p,a=!0)}a&&(e.data.morphAttributes=s,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const l=this.boundingSphere;return l!==null&&(e.data.boundingSphere=l.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const i={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const s=e.attributes;for(const d in s){const p=s[d];this.setAttribute(d,p.clone(i))}const a=e.morphAttributes;for(const d in a){const p=[],g=a[d];for(let v=0,_=g.length;v<_;v++)p.push(g[v].clone(i));this.morphAttributes[d]=p}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let d=0,p=o.length;d<p;d++){const g=o[d];this.addGroup(g.start,g.count,g.materialIndex)}const l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());const h=e.boundingSphere;return h!==null&&(this.boundingSphere=h.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const mN=new dn,ff=new ex,Ob=new ys,gN=new oe,Bb=new oe,Ib=new oe,Fb=new oe,K2=new oe,Ub=new oe,xN=new oe,zb=new oe;class Mr extends ni{constructor(e=new An,i=new pd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=i,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const s=i[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}getVertexPosition(e,i){const r=this.geometry,s=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;i.fromBufferAttribute(s,e);const l=this.morphTargetInfluences;if(a&&l){Ub.set(0,0,0);for(let h=0,d=a.length;h<d;h++){const p=l[h],g=a[h];p!==0&&(K2.fromBufferAttribute(g,e),o?Ub.addScaledVector(K2,p):Ub.addScaledVector(K2.sub(i),p))}i.add(Ub)}return i}raycast(e,i){const r=this.geometry,s=this.material,a=this.matrixWorld;s!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ob.copy(r.boundingSphere),Ob.applyMatrix4(a),ff.copy(e.ray).recast(e.near),!(Ob.containsPoint(ff.origin)===!1&&(ff.intersectSphere(Ob,gN)===null||ff.origin.distanceToSquared(gN)>(e.far-e.near)**2))&&(mN.copy(a).invert(),ff.copy(e.ray).applyMatrix4(mN),!(r.boundingBox!==null&&ff.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,i,ff)))}_computeIntersections(e,i,r){let s;const a=this.geometry,o=this.material,l=a.index,h=a.attributes.position,d=a.attributes.uv,p=a.attributes.uv1,g=a.attributes.normal,v=a.groups,_=a.drawRange;if(l!==null)if(Array.isArray(o))for(let j=0,T=v.length;j<T;j++){const C=v[j],w=o[C.materialIndex],A=Math.max(C.start,_.start),L=Math.min(l.count,Math.min(C.start+C.count,_.start+_.count));for(let k=A,I=L;k<I;k+=3){const z=l.getX(k),U=l.getX(k+1),H=l.getX(k+2);s=Hb(this,w,e,r,d,p,g,z,U,H),s&&(s.faceIndex=Math.floor(k/3),s.face.materialIndex=C.materialIndex,i.push(s))}}else{const j=Math.max(0,_.start),T=Math.min(l.count,_.start+_.count);for(let C=j,w=T;C<w;C+=3){const A=l.getX(C),L=l.getX(C+1),k=l.getX(C+2);s=Hb(this,o,e,r,d,p,g,A,L,k),s&&(s.faceIndex=Math.floor(C/3),i.push(s))}}else if(h!==void 0)if(Array.isArray(o))for(let j=0,T=v.length;j<T;j++){const C=v[j],w=o[C.materialIndex],A=Math.max(C.start,_.start),L=Math.min(h.count,Math.min(C.start+C.count,_.start+_.count));for(let k=A,I=L;k<I;k+=3){const z=k,U=k+1,H=k+2;s=Hb(this,w,e,r,d,p,g,z,U,H),s&&(s.faceIndex=Math.floor(k/3),s.face.materialIndex=C.materialIndex,i.push(s))}}else{const j=Math.max(0,_.start),T=Math.min(h.count,_.start+_.count);for(let C=j,w=T;C<w;C+=3){const A=C,L=C+1,k=C+2;s=Hb(this,o,e,r,d,p,g,A,L,k),s&&(s.faceIndex=Math.floor(C/3),i.push(s))}}}}function _de(t,e,i,r,s,a,o,l){let h;if(e.side===ma?h=r.intersectTriangle(o,a,s,!0,l):h=r.intersectTriangle(s,a,o,e.side===Oh,l),h===null)return null;zb.copy(l),zb.applyMatrix4(t.matrixWorld);const d=i.ray.origin.distanceTo(zb);return d<i.near||d>i.far?null:{distance:d,point:zb.clone(),object:t}}function Hb(t,e,i,r,s,a,o,l,h,d){t.getVertexPosition(l,Bb),t.getVertexPosition(h,Ib),t.getVertexPosition(d,Fb);const p=_de(t,e,i,r,Bb,Ib,Fb,xN);if(p){const g=new oe;Fa.getBarycoord(xN,Bb,Ib,Fb,g),s&&(p.uv=Fa.getInterpolatedAttribute(s,l,h,d,g,new it)),a&&(p.uv1=Fa.getInterpolatedAttribute(a,l,h,d,g,new it)),o&&(p.normal=Fa.getInterpolatedAttribute(o,l,h,d,g,new oe),p.normal.dot(r.direction)>0&&p.normal.multiplyScalar(-1));const v={a:l,b:h,c:d,normal:new oe,materialIndex:0};Fa.getNormal(Bb,Ib,Fb,v.normal),p.face=v,p.barycoord=g}return p}class fp extends An{constructor(e=1,i=1,r=1,s=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:i,depth:r,widthSegments:s,heightSegments:a,depthSegments:o};const l=this;s=Math.floor(s),a=Math.floor(a),o=Math.floor(o);const h=[],d=[],p=[],g=[];let v=0,_=0;j("z","y","x",-1,-1,r,i,e,o,a,0),j("z","y","x",1,-1,r,i,-e,o,a,1),j("x","z","y",1,1,e,r,i,s,o,2),j("x","z","y",1,-1,e,r,-i,s,o,3),j("x","y","z",1,-1,e,i,r,s,a,4),j("x","y","z",-1,-1,e,i,-r,s,a,5),this.setIndex(h),this.setAttribute("position",new Ut(d,3)),this.setAttribute("normal",new Ut(p,3)),this.setAttribute("uv",new Ut(g,2));function j(T,C,w,A,L,k,I,z,U,H,P){const N=k/U,G=I/H,te=k/2,Q=I/2,K=z/2,ee=U+1,O=H+1;let q=0,V=0;const le=new oe;for(let W=0;W<O;W++){const re=W*G-Q;for(let de=0;de<ee;de++){const fe=de*N-te;le[T]=fe*A,le[C]=re*L,le[w]=K,d.push(le.x,le.y,le.z),le[T]=0,le[C]=0,le[w]=z>0?1:-1,p.push(le.x,le.y,le.z),g.push(de/U),g.push(1-W/H),q+=1}}for(let W=0;W<H;W++)for(let re=0;re<U;re++){const de=v+re+ee*W,fe=v+re+ee*(W+1),ae=v+(re+1)+ee*(W+1),pe=v+(re+1)+ee*W;h.push(de,fe,pe),h.push(fe,ae,pe),V+=6}l.addGroup(_,V,P),_+=V,v+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Og(t){const e={};for(const i in t){e[i]={};for(const r in t[i]){const s=t[i][r];s&&(s.isColor||s.isMatrix3||s.isMatrix4||s.isVector2||s.isVector3||s.isVector4||s.isTexture||s.isQuaternion)?s.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[i][r]=null):e[i][r]=s.clone():Array.isArray(s)?e[i][r]=s.slice():e[i][r]=s}}return e}function la(t){const e={};for(let i=0;i<t.length;i++){const r=Og(t[i]);for(const s in r)e[s]=r[s]}return e}function bde(t){const e=[];for(let i=0;i<t.length;i++)e.push(t[i].clone());return e}function Q6(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:qn.workingColorSpace}const J6={clone:Og,merge:la};var jde=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Sde=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ll extends Gs{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jde,this.fragmentShader=Sde,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Og(e.uniforms),this.uniformsGroups=bde(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const i=super.toJSON(e);i.glslVersion=this.glslVersion,i.uniforms={};for(const s in this.uniforms){const o=this.uniforms[s].value;o&&o.isTexture?i.uniforms[s]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?i.uniforms[s]={type:"c",value:o.getHex()}:o&&o.isVector2?i.uniforms[s]={type:"v2",value:o.toArray()}:o&&o.isVector3?i.uniforms[s]={type:"v3",value:o.toArray()}:o&&o.isVector4?i.uniforms[s]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?i.uniforms[s]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?i.uniforms[s]={type:"m4",value:o.toArray()}:i.uniforms[s]={value:o}}Object.keys(this.defines).length>0&&(i.defines=this.defines),i.vertexShader=this.vertexShader,i.fragmentShader=this.fragmentShader,i.lights=this.lights,i.clipping=this.clipping;const r={};for(const s in this.extensions)this.extensions[s]===!0&&(r[s]=!0);return Object.keys(r).length>0&&(i.extensions=r),i}}class Rw extends ni{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new dn,this.projectionMatrix=new dn,this.projectionMatrixInverse=new dn,this.coordinateSystem=Go}copy(e,i){return super.copy(e,i),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,i){super.updateWorldMatrix(e,i),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Uu=new oe,yN=new it,vN=new it;class es extends Rw{constructor(e=50,i=1,r=.1,s=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=s,this.focus=10,this.aspect=i,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const i=.5*this.getFilmHeight()/e;this.fov=Ng*2*Math.atan(i),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Xf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Ng*2*Math.atan(Math.tan(Xf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,i,r){Uu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Uu.x,Uu.y).multiplyScalar(-e/Uu.z),Uu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Uu.x,Uu.y).multiplyScalar(-e/Uu.z)}getViewSize(e,i){return this.getViewBounds(e,yN,vN),i.subVectors(vN,yN)}setViewOffset(e,i,r,s,a,o){this.aspect=e/i,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=r,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let i=e*Math.tan(Xf*.5*this.fov)/this.zoom,r=2*i,s=this.aspect*r,a=-.5*s;const o=this.view;if(this.view!==null&&this.view.enabled){const h=o.fullWidth,d=o.fullHeight;a+=o.offsetX*s/h,i-=o.offsetY*r/d,s*=o.width/h,r*=o.height/d}const l=this.filmOffset;l!==0&&(a+=e*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+s,i,i-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const i=super.toJSON(e);return i.object.fov=this.fov,i.object.zoom=this.zoom,i.object.near=this.near,i.object.far=this.far,i.object.focus=this.focus,i.object.aspect=this.aspect,this.view!==null&&(i.object.view=Object.assign({},this.view)),i.object.filmGauge=this.filmGauge,i.object.filmOffset=this.filmOffset,i}}const Rm=-90,Lm=1;class eV extends ni{constructor(e,i,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const s=new es(Rm,Lm,e,i);s.layers=this.layers,this.add(s);const a=new es(Rm,Lm,e,i);a.layers=this.layers,this.add(a);const o=new es(Rm,Lm,e,i);o.layers=this.layers,this.add(o);const l=new es(Rm,Lm,e,i);l.layers=this.layers,this.add(l);const h=new es(Rm,Lm,e,i);h.layers=this.layers,this.add(h);const d=new es(Rm,Lm,e,i);d.layers=this.layers,this.add(d)}updateCoordinateSystem(){const e=this.coordinateSystem,i=this.children.concat(),[r,s,a,o,l,h]=i;for(const d of i)this.remove(d);if(e===Go)r.up.set(0,1,0),r.lookAt(1,0,0),s.up.set(0,1,0),s.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),l.up.set(0,1,0),l.lookAt(0,0,1),h.up.set(0,1,0),h.lookAt(0,0,-1);else if(e===ev)r.up.set(0,-1,0),r.lookAt(-1,0,0),s.up.set(0,-1,0),s.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),l.up.set(0,-1,0),l.lookAt(0,0,1),h.up.set(0,-1,0),h.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const d of i)this.add(d),d.updateMatrixWorld()}update(e,i){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:s}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,l,h,d,p]=this.children,g=e.getRenderTarget(),v=e.getActiveCubeFace(),_=e.getActiveMipmapLevel(),j=e.xr.enabled;e.xr.enabled=!1;const T=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,s),e.render(i,a),e.setRenderTarget(r,1,s),e.render(i,o),e.setRenderTarget(r,2,s),e.render(i,l),e.setRenderTarget(r,3,s),e.render(i,h),e.setRenderTarget(r,4,s),e.render(i,d),r.texture.generateMipmaps=T,e.setRenderTarget(r,5,s),e.render(i,p),e.setRenderTarget(g,v,_),e.xr.enabled=j,r.texture.needsPMREMUpdate=!0}}class Mv extends sr{constructor(e=[],i=Bh,r,s,a,o,l,h,d,p){super(e,i,r,s,a,o,l,h,d,p),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class tV extends Oc{constructor(e=1,i={}){super(e,e,i),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},s=[r,r,r,r,r,r];this.texture=new Mv(s),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,i){this.texture.type=i.type,this.texture.colorSpace=i.colorSpace,this.texture.generateMipmaps=i.generateMipmaps,this.texture.minFilter=i.minFilter,this.texture.magFilter=i.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},s=new fp(5,5,5),a=new Ll({name:"CubemapFromEquirect",uniforms:Og(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ma,blending:Rh});a.uniforms.tEquirect.value=i;const o=new Mr(s,a),l=i.minFilter;return i.minFilter===Ec&&(i.minFilter=zr),new eV(1,10,this).update(e,o),i.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,i=!0,r=!0,s=!0){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(i,r,s);e.setRenderTarget(a)}}class Ym extends ni{constructor(){super(),this.isGroup=!0,this.type="Group"}}const wde={type:"move"};class zj{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ym,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ym,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new oe,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new oe),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ym,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new oe,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new oe),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const i=this._hand;if(i)for(const r of e.hand.values())this._getHandJoint(i,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,i,r){let s=null,a=null,o=null;const l=this._targetRay,h=this._grip,d=this._hand;if(e&&i.session.visibilityState!=="visible-blurred"){if(d&&e.hand){o=!0;for(const T of e.hand.values()){const C=i.getJointPose(T,r),w=this._getHandJoint(d,T);C!==null&&(w.matrix.fromArray(C.transform.matrix),w.matrix.decompose(w.position,w.rotation,w.scale),w.matrixWorldNeedsUpdate=!0,w.jointRadius=C.radius),w.visible=C!==null}const p=d.joints["index-finger-tip"],g=d.joints["thumb-tip"],v=p.position.distanceTo(g.position),_=.02,j=.005;d.inputState.pinching&&v>_+j?(d.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!d.inputState.pinching&&v<=_-j&&(d.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else h!==null&&e.gripSpace&&(a=i.getPose(e.gripSpace,r),a!==null&&(h.matrix.fromArray(a.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,a.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(a.linearVelocity)):h.hasLinearVelocity=!1,a.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(a.angularVelocity)):h.hasAngularVelocity=!1));l!==null&&(s=i.getPose(e.targetRaySpace,r),s===null&&a!==null&&(s=a),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(wde)))}return l!==null&&(l.visible=s!==null),h!==null&&(h.visible=a!==null),d!==null&&(d.visible=o!==null),this}_getHandJoint(e,i){if(e.joints[i.jointName]===void 0){const r=new Ym;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[i.jointName]=r,e.add(r)}return e.joints[i.jointName]}}class Lw{constructor(e,i=25e-5){this.isFogExp2=!0,this.name="",this.color=new Dt(e),this.density=i}clone(){return new Lw(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Dw{constructor(e,i=1,r=1e3){this.isFog=!0,this.name="",this.color=new Dt(e),this.near=i,this.far=r}clone(){return new Dw(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class aR extends ni{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new fo,this.environmentIntensity=1,this.environmentRotation=new fo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,i){return super.copy(e,i),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const i=super.toJSON(e);return this.fog!==null&&(i.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(i.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(i.object.backgroundIntensity=this.backgroundIntensity),i.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(i.object.environmentIntensity=this.environmentIntensity),i.object.environmentRotation=this.environmentRotation.toArray(),i}}class kw{constructor(e,i){this.isInterleavedBuffer=!0,this.array=e,this.stride=i,this.count=e!==void 0?e.length/i:0,this.usage=J0,this.updateRanges=[],this.version=0,this.uuid=ho()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,i){this.updateRanges.push({start:e,count:i})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,i,r){e*=this.stride,r*=i.stride;for(let s=0,a=this.stride;s<a;s++)this.array[e+s]=i.array[r+s];return this}set(e,i=0){return this.array.set(e,i),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const i=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(i,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ho()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const oa=new oe;class rp{constructor(e,i,r,s=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=i,this.offset=r,this.normalized=s}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let i=0,r=this.data.count;i<r;i++)oa.fromBufferAttribute(this,i),oa.applyMatrix4(e),this.setXYZ(i,oa.x,oa.y,oa.z);return this}applyNormalMatrix(e){for(let i=0,r=this.count;i<r;i++)oa.fromBufferAttribute(this,i),oa.applyNormalMatrix(e),this.setXYZ(i,oa.x,oa.y,oa.z);return this}transformDirection(e){for(let i=0,r=this.count;i<r;i++)oa.fromBufferAttribute(this,i),oa.transformDirection(e),this.setXYZ(i,oa.x,oa.y,oa.z);return this}getComponent(e,i){let r=this.array[e*this.data.stride+this.offset+i];return this.normalized&&(r=ha(r,this.array)),r}setComponent(e,i,r){return this.normalized&&(r=En(r,this.array)),this.data.array[e*this.data.stride+this.offset+i]=r,this}setX(e,i){return this.normalized&&(i=En(i,this.array)),this.data.array[e*this.data.stride+this.offset]=i,this}setY(e,i){return this.normalized&&(i=En(i,this.array)),this.data.array[e*this.data.stride+this.offset+1]=i,this}setZ(e,i){return this.normalized&&(i=En(i,this.array)),this.data.array[e*this.data.stride+this.offset+2]=i,this}setW(e,i){return this.normalized&&(i=En(i,this.array)),this.data.array[e*this.data.stride+this.offset+3]=i,this}getX(e){let i=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(i=ha(i,this.array)),i}getY(e){let i=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(i=ha(i,this.array)),i}getZ(e){let i=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(i=ha(i,this.array)),i}getW(e){let i=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(i=ha(i,this.array)),i}setXY(e,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(i=En(i,this.array),r=En(r,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this}setXYZ(e,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(i=En(i,this.array),r=En(r,this.array),s=En(s,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this.data.array[e+2]=s,this}setXYZW(e,i,r,s,a){return e=e*this.data.stride+this.offset,this.normalized&&(i=En(i,this.array),r=En(r,this.array),s=En(s,this.array),a=En(a,this.array)),this.data.array[e+0]=i,this.data.array[e+1]=r,this.data.array[e+2]=s,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)i.push(this.data.array[s+a])}return new Mi(new this.array.constructor(i),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const i=[];for(let r=0;r<this.count;r++){const s=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)i.push(this.data.array[s+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:i,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class oR extends Gs{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Dt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Dm;const Fy=new oe,km=new oe,Nm=new oe,Pm=new it,Uy=new it,nV=new dn,Vb=new oe,zy=new oe,Gb=new oe,_N=new it,Z2=new it,bN=new it;class iV extends ni{constructor(e=new oR){if(super(),this.isSprite=!0,this.type="Sprite",Dm===void 0){Dm=new An;const i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new kw(i,5);Dm.setIndex([0,1,2,0,2,3]),Dm.setAttribute("position",new rp(r,3,0,!1)),Dm.setAttribute("uv",new rp(r,2,3,!1))}this.geometry=Dm,this.material=e,this.center=new it(.5,.5),this.count=1}raycast(e,i){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),km.setFromMatrixScale(this.matrixWorld),nV.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Nm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&km.multiplyScalar(-Nm.z);const r=this.material.rotation;let s,a;r!==0&&(a=Math.cos(r),s=Math.sin(r));const o=this.center;$b(Vb.set(-.5,-.5,0),Nm,o,km,s,a),$b(zy.set(.5,-.5,0),Nm,o,km,s,a),$b(Gb.set(.5,.5,0),Nm,o,km,s,a),_N.set(0,0),Z2.set(1,0),bN.set(1,1);let l=e.ray.intersectTriangle(Vb,zy,Gb,!1,Fy);if(l===null&&($b(zy.set(-.5,.5,0),Nm,o,km,s,a),Z2.set(0,1),l=e.ray.intersectTriangle(Vb,Gb,zy,!1,Fy),l===null))return;const h=e.ray.origin.distanceTo(Fy);h<e.near||h>e.far||i.push({distance:h,point:Fy.clone(),uv:Fa.getInterpolation(Fy,Vb,zy,Gb,_N,Z2,bN,new it),face:null,object:this})}copy(e,i){return super.copy(e,i),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function $b(t,e,i,r,s,a){Pm.subVectors(t,i).addScalar(.5).multiply(r),s!==void 0?(Uy.x=a*Pm.x-s*Pm.y,Uy.y=s*Pm.x+a*Pm.y):Uy.copy(Pm),t.copy(e),t.x+=Uy.x,t.y+=Uy.y,t.applyMatrix4(nV)}const qb=new oe,jN=new oe;class rV extends ni{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const i=e.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,i=0,r=0){i=Math.abs(i);const s=this.levels;let a;for(a=0;a<s.length&&!(i<s[a].distance);a++);return s.splice(a,0,{distance:i,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const i=this.levels;for(let r=0;r<i.length;r++)if(i[r].distance===e){const s=i.splice(r,1);return this.remove(s[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const i=this.levels;if(i.length>0){let r,s;for(r=1,s=i.length;r<s;r++){let a=i[r].distance;if(i[r].object.visible&&(a-=a*i[r].hysteresis),e<a)break}return i[r-1].object}return null}raycast(e,i){if(this.levels.length>0){qb.setFromMatrixPosition(this.matrixWorld);const s=e.ray.origin.distanceTo(qb);this.getObjectForDistance(s).raycast(e,i)}}update(e){const i=this.levels;if(i.length>1){qb.setFromMatrixPosition(e.matrixWorld),jN.setFromMatrixPosition(this.matrixWorld);const r=qb.distanceTo(jN)/e.zoom;i[0].object.visible=!0;let s,a;for(s=1,a=i.length;s<a;s++){let o=i[s].distance;if(i[s].object.visible&&(o-=o*i[s].hysteresis),r>=o)i[s-1].object.visible=!1,i[s].object.visible=!0;else break}for(this._currentLevel=s-1;s<a;s++)i[s].object.visible=!1}}toJSON(e){const i=super.toJSON(e);this.autoUpdate===!1&&(i.object.autoUpdate=!1),i.object.levels=[];const r=this.levels;for(let s=0,a=r.length;s<a;s++){const o=r[s];i.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return i}}const SN=new oe,wN=new ti,TN=new ti,Tde=new oe,CN=new dn,Wb=new oe,Q2=new ys,MN=new dn,J2=new ex;class sV extends Mr{constructor(e,i){super(e,i),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=aE,this.bindMatrix=new dn,this.bindMatrixInverse=new dn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Hs),this.boundingBox.makeEmpty();const i=e.getAttribute("position");for(let r=0;r<i.count;r++)this.getVertexPosition(r,Wb),this.boundingBox.expandByPoint(Wb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new ys),this.boundingSphere.makeEmpty();const i=e.getAttribute("position");for(let r=0;r<i.count;r++)this.getVertexPosition(r,Wb),this.boundingSphere.expandByPoint(Wb)}copy(e,i){return super.copy(e,i),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,i){const r=this.material,s=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Q2.copy(this.boundingSphere),Q2.applyMatrix4(s),e.ray.intersectsSphere(Q2)!==!1&&(MN.copy(s).invert(),J2.copy(e.ray).applyMatrix4(MN),!(this.boundingBox!==null&&J2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,i,J2)))}getVertexPosition(e,i){return super.getVertexPosition(e,i),this.applyBoneTransform(e,i),i}bind(e,i){this.skeleton=e,i===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),i=this.matrixWorld),this.bindMatrix.copy(i),this.bindMatrixInverse.copy(i).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ti,i=this.geometry.attributes.skinWeight;for(let r=0,s=i.count;r<s;r++){e.fromBufferAttribute(i,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),i.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===aE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===N6?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,i){const r=this.skeleton,s=this.geometry;wN.fromBufferAttribute(s.attributes.skinIndex,e),TN.fromBufferAttribute(s.attributes.skinWeight,e),SN.copy(i).applyMatrix4(this.bindMatrix),i.set(0,0,0);for(let a=0;a<4;a++){const o=TN.getComponent(a);if(o!==0){const l=wN.getComponent(a);CN.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),i.addScaledVector(Tde.copy(SN).applyMatrix4(CN),o)}}return i.applyMatrix4(this.bindMatrixInverse)}}class lR extends ni{constructor(){super(),this.isBone=!0,this.type="Bone"}}class kc extends sr{constructor(e=null,i=1,r=1,s,a,o,l,h,d=xs,p=xs,g,v){super(null,o,l,h,d,p,s,a,g,v),this.isDataTexture=!0,this.image={data:e,width:i,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const EN=new dn,Cde=new dn;class Nw{constructor(e=[],i=[]){this.uuid=ho(),this.bones=e.slice(0),this.boneInverses=i,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,i=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),i.length===0)this.calculateInverses();else if(e.length!==i.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,s=this.bones.length;r<s;r++)this.boneInverses.push(new dn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,i=this.bones.length;e<i;e++){const r=new dn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,i=this.bones.length;e<i;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,i=this.bones.length;e<i;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,i=this.boneInverses,r=this.boneMatrices,s=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const l=e[a]?e[a].matrixWorld:Cde;EN.multiplyMatrices(l,i[a]),EN.toArray(r,a*16)}s!==null&&(s.needsUpdate=!0)}clone(){return new Nw(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const i=new Float32Array(e*e*4);i.set(this.boneMatrices);const r=new kc(i,e,e,Fs,za);return r.needsUpdate=!0,this.boneMatrices=i,this.boneTexture=r,this}getBoneByName(e){for(let i=0,r=this.bones.length;i<r;i++){const s=this.bones[i];if(s.name===e)return s}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,i){this.uuid=e.uuid;for(let r=0,s=e.bones.length;r<s;r++){const a=e.bones[r];let o=i[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new lR),this.bones.push(o),this.boneInverses.push(new dn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const i=this.bones,r=this.boneInverses;for(let s=0,a=i.length;s<a;s++){const o=i[s];e.bones.push(o.uuid);const l=r[s];e.boneInverses.push(l.toArray())}return e}}class Bg extends Mi{constructor(e,i,r,s=1){super(e,i,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=s}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Om=new dn,AN=new dn,Xb=[],RN=new Hs,Mde=new dn,Hy=new Mr,Vy=new ys;class aV extends Mr{constructor(e,i,r){super(e,i),this.isInstancedMesh=!0,this.instanceMatrix=new Bg(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let s=0;s<r;s++)this.setMatrixAt(s,Mde)}computeBoundingBox(){const e=this.geometry,i=this.count;this.boundingBox===null&&(this.boundingBox=new Hs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<i;r++)this.getMatrixAt(r,Om),RN.copy(e.boundingBox).applyMatrix4(Om),this.boundingBox.union(RN)}computeBoundingSphere(){const e=this.geometry,i=this.count;this.boundingSphere===null&&(this.boundingSphere=new ys),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<i;r++)this.getMatrixAt(r,Om),Vy.copy(e.boundingSphere).applyMatrix4(Om),this.boundingSphere.union(Vy)}copy(e,i){return super.copy(e,i),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,i){i.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,i){i.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,i){const r=i.morphTargetInfluences,s=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let l=0;l<r.length;l++)r[l]=s[o+l]}raycast(e,i){const r=this.matrixWorld,s=this.count;if(Hy.geometry=this.geometry,Hy.material=this.material,Hy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Vy.copy(this.boundingSphere),Vy.applyMatrix4(r),e.ray.intersectsSphere(Vy)!==!1))for(let a=0;a<s;a++){this.getMatrixAt(a,Om),AN.multiplyMatrices(r,Om),Hy.matrixWorld=AN,Hy.raycast(e,Xb);for(let o=0,l=Xb.length;o<l;o++){const h=Xb[o];h.instanceId=a,h.object=this,i.push(h)}Xb.length=0}}setColorAt(e,i){this.instanceColor===null&&(this.instanceColor=new Bg(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),i.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,i){i.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,i){const r=i.morphTargetInfluences,s=r.length+1;this.morphTexture===null&&(this.morphTexture=new kc(new Float32Array(s*this.count),s,this.count,ww,za));const a=this.morphTexture.source.data.data;let o=0;for(let d=0;d<r.length;d++)o+=r[d];const l=this.geometry.morphTargetsRelative?1:1-o,h=s*e;a[h]=l,a.set(r,h+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const eC=new oe,Ede=new oe,Ade=new wn;class Xu{constructor(e=new oe(1,0,0),i=0){this.isPlane=!0,this.normal=e,this.constant=i}set(e,i){return this.normal.copy(e),this.constant=i,this}setComponents(e,i,r,s){return this.normal.set(e,i,r),this.constant=s,this}setFromNormalAndCoplanarPoint(e,i){return this.normal.copy(e),this.constant=-i.dot(this.normal),this}setFromCoplanarPoints(e,i,r){const s=eC.subVectors(r,i).cross(Ede.subVectors(e,i)).normalize();return this.setFromNormalAndCoplanarPoint(s,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,i){return i.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,i){const r=e.delta(eC),s=this.normal.dot(r);if(s===0)return this.distanceToPoint(e.start)===0?i.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/s;return a<0||a>1?null:i.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const i=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return i<0&&r>0||r<0&&i>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,i){const r=i||Ade.getNormalMatrix(e),s=this.coplanarPoint(eC).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-s.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pf=new ys,Rde=new it(.5,.5),Yb=new oe;class tx{constructor(e=new Xu,i=new Xu,r=new Xu,s=new Xu,a=new Xu,o=new Xu){this.planes=[e,i,r,s,a,o]}set(e,i,r,s,a,o){const l=this.planes;return l[0].copy(e),l[1].copy(i),l[2].copy(r),l[3].copy(s),l[4].copy(a),l[5].copy(o),this}copy(e){const i=this.planes;for(let r=0;r<6;r++)i[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,i=Go){const r=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],h=s[3],d=s[4],p=s[5],g=s[6],v=s[7],_=s[8],j=s[9],T=s[10],C=s[11],w=s[12],A=s[13],L=s[14],k=s[15];if(r[0].setComponents(h-a,v-d,C-_,k-w).normalize(),r[1].setComponents(h+a,v+d,C+_,k+w).normalize(),r[2].setComponents(h+o,v+p,C+j,k+A).normalize(),r[3].setComponents(h-o,v-p,C-j,k-A).normalize(),r[4].setComponents(h-l,v-g,C-T,k-L).normalize(),i===Go)r[5].setComponents(h+l,v+g,C+T,k+L).normalize();else if(i===ev)r[5].setComponents(l,g,T,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+i);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),pf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const i=e.geometry;i.boundingSphere===null&&i.computeBoundingSphere(),pf.copy(i.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pf)}intersectsSprite(e){pf.center.set(0,0,0);const i=Rde.distanceTo(e.center);return pf.radius=.7071067811865476+i,pf.applyMatrix4(e.matrixWorld),this.intersectsSphere(pf)}intersectsSphere(e){const i=this.planes,r=e.center,s=-e.radius;for(let a=0;a<6;a++)if(i[a].distanceToPoint(r)<s)return!1;return!0}intersectsBox(e){const i=this.planes;for(let r=0;r<6;r++){const s=i[r];if(Yb.x=s.normal.x>0?e.max.x:e.min.x,Yb.y=s.normal.y>0?e.max.y:e.min.y,Yb.z=s.normal.z>0?e.max.z:e.min.z,s.distanceToPoint(Yb)<0)return!1}return!0}containsPoint(e){const i=this.planes;for(let r=0;r<6;r++)if(i[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const gc=new dn,xc=new tx;class Pw{constructor(){this.coordinateSystem=Go}intersectsObject(e,i){if(!i.isArrayCamera||i.cameras.length===0)return!1;for(let r=0;r<i.cameras.length;r++){const s=i.cameras[r];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xc.setFromProjectionMatrix(gc,this.coordinateSystem),xc.intersectsObject(e))return!0}return!1}intersectsSprite(e,i){if(!i||!i.cameras||i.cameras.length===0)return!1;for(let r=0;r<i.cameras.length;r++){const s=i.cameras[r];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xc.setFromProjectionMatrix(gc,this.coordinateSystem),xc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,i){if(!i||!i.cameras||i.cameras.length===0)return!1;for(let r=0;r<i.cameras.length;r++){const s=i.cameras[r];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xc.setFromProjectionMatrix(gc,this.coordinateSystem),xc.intersectsSphere(e))return!0}return!1}intersectsBox(e,i){if(!i||!i.cameras||i.cameras.length===0)return!1;for(let r=0;r<i.cameras.length;r++){const s=i.cameras[r];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xc.setFromProjectionMatrix(gc,this.coordinateSystem),xc.intersectsBox(e))return!0}return!1}containsPoint(e,i){if(!i||!i.cameras||i.cameras.length===0)return!1;for(let r=0;r<i.cameras.length;r++){const s=i.cameras[r];if(gc.multiplyMatrices(s.projectionMatrix,s.matrixWorldInverse),xc.setFromProjectionMatrix(gc,this.coordinateSystem),xc.containsPoint(e))return!0}return!1}clone(){return new Pw}}function tC(t,e){return t-e}function Lde(t,e){return t.z-e.z}function Dde(t,e){return e.z-t.z}class kde{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,i,r,s){const a=this.pool,o=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const l=a[this.index];o.push(l),this.index++,l.start=e,l.count=i,l.z=r,l.index=s}reset(){this.list.length=0,this.index=0}}const Na=new dn,Nde=new Dt(1,1,1),LN=new tx,Pde=new Pw,Kb=new Hs,mf=new ys,Gy=new oe,DN=new oe,Ode=new oe,nC=new kde,Ns=new Mr,Zb=[];function Bde(t,e,i=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const s=t.count;for(let a=0;a<s;a++)for(let o=0;o<r;o++)e.setComponent(a+i,o,t.getComponent(a,o))}else e.array.set(t.array,i*r);e.needsUpdate=!0}function gf(t,e){if(t.constructor!==e.constructor){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++)e[r]=t[r]}else{const i=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,i))}}class oV extends Mr{constructor(e,i,r=i*2,s){super(new An,s),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=i,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const i=new Float32Array(e*e*4),r=new kc(i,e,e,Fs,za);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const i=new Uint32Array(e*e),r=new kc(i,e,e,Cv,Ih);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const i=new Float32Array(e*e*4).fill(1),r=new kc(i,e,e,Fs,za);r.colorSpace=qn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const i=this.geometry,r=this._maxVertexCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const o=e.getAttribute(a),{array:l,itemSize:h,normalized:d}=o,p=new l.constructor(r*h),g=new Mi(p,h,d);i.setAttribute(a,g)}if(e.getIndex()!==null){const a=r>65535?new Uint32Array(s):new Uint16Array(s);i.setIndex(new Mi(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const i=this.geometry;if(!!e.getIndex()!=!!i.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in i.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const s=e.getAttribute(r),a=i.getAttribute(r);if(s.itemSize!==a.itemSize||s.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const i=this._instanceInfo;if(e<0||e>=i.length||i[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const i=this._geometryInfo;if(e<0||e>=i.length||i[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Hs);const e=this.boundingBox,i=this._instanceInfo;e.makeEmpty();for(let r=0,s=i.length;r<s;r++){if(i[r].active===!1)continue;const a=i[r].geometryIndex;this.getMatrixAt(r,Na),this.getBoundingBoxAt(a,Kb).applyMatrix4(Na),e.union(Kb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new ys);const e=this.boundingSphere,i=this._instanceInfo;e.makeEmpty();for(let r=0,s=i.length;r<s;r++){if(i[r].active===!1)continue;const a=i[r].geometryIndex;this.getMatrixAt(r,Na),this.getBoundingSphereAt(a,mf).applyMatrix4(Na),e.union(mf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let s=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(tC),s=this._availableInstanceIds.shift(),this._instanceInfo[s]=r):(s=this._instanceInfo.length,this._instanceInfo.push(r));const a=this._matricesTexture;Na.identity().toArray(a.image.data,s*16),a.needsUpdate=!0;const o=this._colorsTexture;return o&&(Nde.toArray(o.image.data,s*4),o.needsUpdate=!0),this._visibilityChanged=!0,s}addGeometry(e,i=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const s={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;s.vertexStart=this._nextVertexStart,s.reservedVertexCount=i===-1?e.getAttribute("position").count:i;const o=e.getIndex();if(o!==null&&(s.indexStart=this._nextIndexStart,s.reservedIndexCount=r===-1?o.count:r),s.indexStart!==-1&&s.indexStart+s.reservedIndexCount>this._maxIndexCount||s.vertexStart+s.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let h;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(tC),h=this._availableGeometryIds.shift(),a[h]=s):(h=this._geometryCount,this._geometryCount++,a.push(s)),this.setGeometryAt(h,e),this._nextIndexStart=s.indexStart+s.reservedIndexCount,this._nextVertexStart=s.vertexStart+s.reservedVertexCount,h}setGeometryAt(e,i){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(i);const r=this.geometry,s=r.getIndex()!==null,a=r.getIndex(),o=i.getIndex(),l=this._geometryInfo[e];if(s&&o.count>l.reservedIndexCount||i.attributes.position.count>l.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const h=l.vertexStart,d=l.reservedVertexCount;l.vertexCount=i.getAttribute("position").count;for(const p in r.attributes){const g=i.getAttribute(p),v=r.getAttribute(p);Bde(g,v,h);const _=g.itemSize;for(let j=g.count,T=d;j<T;j++){const C=h+j;for(let w=0;w<_;w++)v.setComponent(C,w,0)}v.needsUpdate=!0,v.addUpdateRange(h*_,d*_)}if(s){const p=l.indexStart,g=l.reservedIndexCount;l.indexCount=i.getIndex().count;for(let v=0;v<o.count;v++)a.setX(p+v,h+o.getX(v));for(let v=o.count,_=g;v<_;v++)a.setX(p+v,h);a.needsUpdate=!0,a.addUpdateRange(p,l.reservedIndexCount)}return l.start=s?l.indexStart:l.vertexStart,l.count=s?l.indexCount:l.vertexCount,l.boundingBox=null,i.boundingBox!==null&&(l.boundingBox=i.boundingBox.clone()),l.boundingSphere=null,i.boundingSphere!==null&&(l.boundingSphere=i.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const i=this._geometryInfo;if(e>=i.length||i[e].active===!1)return this;const r=this._instanceInfo;for(let s=0,a=r.length;s<a;s++)r[s].active&&r[s].geometryIndex===e&&this.deleteInstance(s);return i[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,i=0;const r=this._geometryInfo,s=r.map((o,l)=>l).sort((o,l)=>r[o].vertexStart-r[l].vertexStart),a=this.geometry;for(let o=0,l=r.length;o<l;o++){const h=s[o],d=r[h];if(d.active!==!1){if(a.index!==null){if(d.indexStart!==i){const{indexStart:p,vertexStart:g,reservedIndexCount:v}=d,_=a.index,j=_.array,T=e-g;for(let C=p;C<p+v;C++)j[C]=j[C]+T;_.array.copyWithin(i,p,p+v),_.addUpdateRange(i,v),d.indexStart=i}i+=d.reservedIndexCount}if(d.vertexStart!==e){const{vertexStart:p,reservedVertexCount:g}=d,v=a.attributes;for(const _ in v){const j=v[_],{array:T,itemSize:C}=j;T.copyWithin(e*C,p*C,(p+g)*C),j.addUpdateRange(e*C,g*C)}d.vertexStart=e}e+=d.reservedVertexCount,d.start=a.index?d.indexStart:d.vertexStart,this._nextIndexStart=a.index?d.indexStart+d.reservedIndexCount:0,this._nextVertexStart=d.vertexStart+d.reservedVertexCount}}return this}getBoundingBoxAt(e,i){if(e>=this._geometryCount)return null;const r=this.geometry,s=this._geometryInfo[e];if(s.boundingBox===null){const a=new Hs,o=r.index,l=r.attributes.position;for(let h=s.start,d=s.start+s.count;h<d;h++){let p=h;o&&(p=o.getX(p)),a.expandByPoint(Gy.fromBufferAttribute(l,p))}s.boundingBox=a}return i.copy(s.boundingBox),i}getBoundingSphereAt(e,i){if(e>=this._geometryCount)return null;const r=this.geometry,s=this._geometryInfo[e];if(s.boundingSphere===null){const a=new ys;this.getBoundingBoxAt(e,Kb),Kb.getCenter(a.center);const o=r.index,l=r.attributes.position;let h=0;for(let d=s.start,p=s.start+s.count;d<p;d++){let g=d;o&&(g=o.getX(g)),Gy.fromBufferAttribute(l,g),h=Math.max(h,a.center.distanceToSquared(Gy))}a.radius=Math.sqrt(h),s.boundingSphere=a}return i.copy(s.boundingSphere),i}setMatrixAt(e,i){this.validateInstanceId(e);const r=this._matricesTexture,s=this._matricesTexture.image.data;return i.toArray(s,e*16),r.needsUpdate=!0,this}getMatrixAt(e,i){return this.validateInstanceId(e),i.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,i){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),i.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,i){return this.validateInstanceId(e),i.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,i){return this.validateInstanceId(e),this._instanceInfo[e].visible===i?this:(this._instanceInfo[e].visible=i,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,i){return this.validateInstanceId(e),this.validateGeometryId(i),this._instanceInfo[e].geometryIndex=i,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,i={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return i.vertexStart=r.vertexStart,i.vertexCount=r.vertexCount,i.reservedVertexCount=r.reservedVertexCount,i.indexStart=r.indexStart,i.indexCount=r.indexCount,i.reservedIndexCount=r.reservedIndexCount,i.start=r.start,i.count=r.count,i}setInstanceCount(e){const i=this._availableInstanceIds,r=this._instanceInfo;for(i.sort(tC);i[i.length-1]===r.length;)r.pop(),i.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const s=new Int32Array(e),a=new Int32Array(e);gf(this._multiDrawCounts,s),gf(this._multiDrawStarts,a),this._multiDrawCounts=s,this._multiDrawStarts=a,this._maxInstanceCount=e;const o=this._indirectTexture,l=this._matricesTexture,h=this._colorsTexture;o.dispose(),this._initIndirectTexture(),gf(o.image.data,this._indirectTexture.image.data),l.dispose(),this._initMatricesTexture(),gf(l.image.data,this._matricesTexture.image.data),h&&(h.dispose(),this._initColorsTexture(),gf(h.image.data,this._colorsTexture.image.data))}setGeometrySize(e,i){const r=[...this._geometryInfo].filter(l=>l.active);if(Math.max(...r.map(l=>l.vertexStart+l.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${i}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(h=>h.indexStart+h.reservedIndexCount))>i)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${i}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=i,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new An,this._initializeGeometry(a));const o=this.geometry;a.index&&gf(a.index.array,o.index.array);for(const l in a.attributes)gf(a.attributes[l].array,o.attributes[l].array)}raycast(e,i){const r=this._instanceInfo,s=this._geometryInfo,a=this.matrixWorld,o=this.geometry;Ns.material=this.material,Ns.geometry.index=o.index,Ns.geometry.attributes=o.attributes,Ns.geometry.boundingBox===null&&(Ns.geometry.boundingBox=new Hs),Ns.geometry.boundingSphere===null&&(Ns.geometry.boundingSphere=new ys);for(let l=0,h=r.length;l<h;l++){if(!r[l].visible||!r[l].active)continue;const d=r[l].geometryIndex,p=s[d];Ns.geometry.setDrawRange(p.start,p.count),this.getMatrixAt(l,Ns.matrixWorld).premultiply(a),this.getBoundingBoxAt(d,Ns.geometry.boundingBox),this.getBoundingSphereAt(d,Ns.geometry.boundingSphere),Ns.raycast(e,Zb);for(let g=0,v=Zb.length;g<v;g++){const _=Zb[g];_.object=this,_.batchId=l,i.push(_)}Zb.length=0}Ns.material=null,Ns.geometry.index=null,Ns.geometry.attributes={},Ns.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(i=>({...i,boundingBox:i.boundingBox!==null?i.boundingBox.clone():null,boundingSphere:i.boundingSphere!==null?i.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(i=>({...i})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,i,r,s,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=s.getIndex(),l=o===null?1:o.array.BYTES_PER_ELEMENT,h=this._instanceInfo,d=this._multiDrawStarts,p=this._multiDrawCounts,g=this._geometryInfo,v=this.perObjectFrustumCulled,_=this._indirectTexture,j=_.image.data,T=r.isArrayCamera?Pde:LN;v&&!r.isArrayCamera&&(Na.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),LN.setFromProjectionMatrix(Na,e.coordinateSystem));let C=0;if(this.sortObjects){Na.copy(this.matrixWorld).invert(),Gy.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Na),DN.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Na);for(let L=0,k=h.length;L<k;L++)if(h[L].visible&&h[L].active){const I=h[L].geometryIndex;this.getMatrixAt(L,Na),this.getBoundingSphereAt(I,mf).applyMatrix4(Na);let z=!1;if(v&&(z=!T.intersectsSphere(mf,r)),!z){const U=g[I],H=Ode.subVectors(mf.center,Gy).dot(DN);nC.push(U.start,U.count,H,L)}}const w=nC.list,A=this.customSort;A===null?w.sort(a.transparent?Dde:Lde):A.call(this,w,r);for(let L=0,k=w.length;L<k;L++){const I=w[L];d[C]=I.start*l,p[C]=I.count,j[C]=I.index,C++}nC.reset()}else for(let w=0,A=h.length;w<A;w++)if(h[w].visible&&h[w].active){const L=h[w].geometryIndex;let k=!1;if(v&&(this.getMatrixAt(w,Na),this.getBoundingSphereAt(L,mf).applyMatrix4(Na),k=!T.intersectsSphere(mf,r)),!k){const I=g[L];d[C]=I.start*l,p[C]=I.count,j[C]=w,C++}}_.needsUpdate=!0,this._multiDrawCount=C,this._visibilityChanged=!1}onBeforeShadow(e,i,r,s,a,o){this.onBeforeRender(e,null,s,a,o)}}class ya extends Gs{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Dt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const M1=new oe,E1=new oe,kN=new dn,$y=new ex,Qb=new ys,iC=new oe,NN=new oe;class cd extends ni{constructor(e=new An,i=new ya){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=i,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const i=e.attributes.position,r=[0];for(let s=1,a=i.count;s<a;s++)M1.fromBufferAttribute(i,s-1),E1.fromBufferAttribute(i,s),r[s]=r[s-1],r[s]+=M1.distanceTo(E1);e.setAttribute("lineDistance",new Ut(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,i){const r=this.geometry,s=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qb.copy(r.boundingSphere),Qb.applyMatrix4(s),Qb.radius+=a,e.ray.intersectsSphere(Qb)===!1)return;kN.copy(s).invert(),$y.copy(e.ray).applyMatrix4(kN);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,d=this.isLineSegments?2:1,p=r.index,v=r.attributes.position;if(p!==null){const _=Math.max(0,o.start),j=Math.min(p.count,o.start+o.count);for(let T=_,C=j-1;T<C;T+=d){const w=p.getX(T),A=p.getX(T+1),L=Jb(this,e,$y,h,w,A,T);L&&i.push(L)}if(this.isLineLoop){const T=p.getX(j-1),C=p.getX(_),w=Jb(this,e,$y,h,T,C,j-1);w&&i.push(w)}}else{const _=Math.max(0,o.start),j=Math.min(v.count,o.start+o.count);for(let T=_,C=j-1;T<C;T+=d){const w=Jb(this,e,$y,h,T,T+1,T);w&&i.push(w)}if(this.isLineLoop){const T=Jb(this,e,$y,h,j-1,_,j-1);T&&i.push(T)}}}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const s=i[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function Jb(t,e,i,r,s,a,o){const l=t.geometry.attributes.position;if(M1.fromBufferAttribute(l,s),E1.fromBufferAttribute(l,a),i.distanceSqToSegment(M1,E1,iC,NN)>r)return;iC.applyMatrix4(t.matrixWorld);const d=e.ray.origin.distanceTo(iC);if(!(d<e.near||d>e.far))return{distance:d,point:NN.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const PN=new oe,ON=new oe;class Uc extends cd{constructor(e,i){super(e,i),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const i=e.attributes.position,r=[];for(let s=0,a=i.count;s<a;s+=2)PN.fromBufferAttribute(i,s),ON.fromBufferAttribute(i,s+1),r[s]=s===0?0:r[s-1],r[s+1]=r[s]+PN.distanceTo(ON);e.setAttribute("lineDistance",new Ut(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class lV extends cd{constructor(e,i){super(e,i),this.isLineLoop=!0,this.type="LineLoop"}}class cR extends Gs{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Dt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const BN=new dn,cE=new ex,ej=new ys,tj=new oe;class cV extends ni{constructor(e=new An,i=new cR){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=i,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,i){return super.copy(e,i),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,i){const r=this.geometry,s=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ej.copy(r.boundingSphere),ej.applyMatrix4(s),ej.radius+=a,e.ray.intersectsSphere(ej)===!1)return;BN.copy(s).invert(),cE.copy(e.ray).applyMatrix4(BN);const l=a/((this.scale.x+this.scale.y+this.scale.z)/3),h=l*l,d=r.index,g=r.attributes.position;if(d!==null){const v=Math.max(0,o.start),_=Math.min(d.count,o.start+o.count);for(let j=v,T=_;j<T;j++){const C=d.getX(j);tj.fromBufferAttribute(g,C),IN(tj,C,h,s,e,i,this)}}else{const v=Math.max(0,o.start),_=Math.min(g.count,o.start+o.count);for(let j=v,T=_;j<T;j++)tj.fromBufferAttribute(g,j),IN(tj,j,h,s,e,i,this)}}updateMorphTargets(){const i=this.geometry.morphAttributes,r=Object.keys(i);if(r.length>0){const s=i[r[0]];if(s!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=s.length;a<o;a++){const l=s[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=a}}}}}function IN(t,e,i,r,s,a,o){const l=cE.distanceSqToPoint(t);if(l<i){const h=new oe;cE.closestPointToPoint(t,h),h.applyMatrix4(r);const d=s.ray.origin.distanceTo(h);if(d<s.near||d>s.far)return;a.push({distance:d,distanceToRay:Math.sqrt(l),point:h,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class hV extends sr{constructor(e,i,r,s,a=zr,o=zr,l,h,d){super(e,i,r,s,a,o,l,h,d),this.isVideoTexture=!0,this.generateMipmaps=!1;const p=this;function g(){p.needsUpdate=!0,e.requestVideoFrameCallback(g)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(g)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Ide extends hV{constructor(e,i,r,s,a,o,l,h){super({},e,i,r,s,a,o,l,h),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Fde extends sr{constructor(e,i){super({width:e,height:i}),this.isFramebufferTexture=!0,this.magFilter=xs,this.minFilter=xs,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ow extends sr{constructor(e,i,r,s,a,o,l,h,d,p,g,v){super(null,o,l,h,d,p,s,a,g,v),this.isCompressedTexture=!0,this.image={width:i,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Ude extends Ow{constructor(e,i,r,s,a,o){super(e,i,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=s,this.wrapR=Vo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class zde extends Ow{constructor(e,i,r){super(void 0,e[0].width,e[0].height,i,r,Bh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Hde extends sr{constructor(e,i,r,s,a,o,l,h,d){super(e,i,r,s,a,o,l,h,d),this.isCanvasTexture=!0,this.needsUpdate=!0}}class hR extends sr{constructor(e,i,r=Ih,s,a,o,l=xs,h=xs,d,p=Dg,g=1){if(p!==Dg&&p!==kg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const v={width:e,height:i,depth:g};super(v,s,a,o,l,h,p,r,d),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Ju(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const i=super.toJSON(e);return this.compareFunction!==null&&(i.compareFunction=this.compareFunction),i}}class Bw extends An{constructor(e=1,i=1,r=4,s=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:i,capSegments:r,radialSegments:s,heightSegments:a},i=Math.max(0,i),r=Math.max(1,Math.floor(r)),s=Math.max(3,Math.floor(s)),a=Math.max(1,Math.floor(a));const o=[],l=[],h=[],d=[],p=i/2,g=Math.PI/2*e,v=i,_=2*g+v,j=r*2+a,T=s+1,C=new oe,w=new oe;for(let A=0;A<=j;A++){let L=0,k=0,I=0,z=0;if(A<=r){const P=A/r,N=P*Math.PI/2;k=-p-e*Math.cos(N),I=e*Math.sin(N),z=-e*Math.cos(N),L=P*g}else if(A<=r+a){const P=(A-r)/a;k=-p+P*i,I=e,z=0,L=g+P*v}else{const P=(A-r-a)/r,N=P*Math.PI/2;k=p+e*Math.sin(N),I=e*Math.cos(N),z=e*Math.sin(N),L=g+v+P*g}const U=Math.max(0,Math.min(1,L/_));let H=0;A===0?H=.5/s:A===j&&(H=-.5/s);for(let P=0;P<=s;P++){const N=P/s,G=N*Math.PI*2,te=Math.sin(G),Q=Math.cos(G);w.x=-I*Q,w.y=k,w.z=I*te,l.push(w.x,w.y,w.z),C.set(-I*Q,z,I*te),C.normalize(),h.push(C.x,C.y,C.z),d.push(N+H,U)}if(A>0){const P=(A-1)*T;for(let N=0;N<s;N++){const G=P+N,te=P+N+1,Q=A*T+N,K=A*T+N+1;o.push(G,te,Q),o.push(te,K,Q)}}}this.setIndex(o),this.setAttribute("position",new Ut(l,3)),this.setAttribute("normal",new Ut(h,3)),this.setAttribute("uv",new Ut(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bw(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Iw extends An{constructor(e=1,i=32,r=0,s=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:i,thetaStart:r,thetaLength:s},i=Math.max(3,i);const a=[],o=[],l=[],h=[],d=new oe,p=new it;o.push(0,0,0),l.push(0,0,1),h.push(.5,.5);for(let g=0,v=3;g<=i;g++,v+=3){const _=r+g/i*s;d.x=e*Math.cos(_),d.y=e*Math.sin(_),o.push(d.x,d.y,d.z),l.push(0,0,1),p.x=(o[v]/e+1)/2,p.y=(o[v+1]/e+1)/2,h.push(p.x,p.y)}for(let g=1;g<=i;g++)a.push(g,g+1,0);this.setIndex(a),this.setAttribute("position",new Ut(o,3)),this.setAttribute("normal",new Ut(l,3)),this.setAttribute("uv",new Ut(h,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iw(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Ev extends An{constructor(e=1,i=1,r=1,s=32,a=1,o=!1,l=0,h=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:i,height:r,radialSegments:s,heightSegments:a,openEnded:o,thetaStart:l,thetaLength:h};const d=this;s=Math.floor(s),a=Math.floor(a);const p=[],g=[],v=[],_=[];let j=0;const T=[],C=r/2;let w=0;A(),o===!1&&(e>0&&L(!0),i>0&&L(!1)),this.setIndex(p),this.setAttribute("position",new Ut(g,3)),this.setAttribute("normal",new Ut(v,3)),this.setAttribute("uv",new Ut(_,2));function A(){const k=new oe,I=new oe;let z=0;const U=(i-e)/r;for(let H=0;H<=a;H++){const P=[],N=H/a,G=N*(i-e)+e;for(let te=0;te<=s;te++){const Q=te/s,K=Q*h+l,ee=Math.sin(K),O=Math.cos(K);I.x=G*ee,I.y=-N*r+C,I.z=G*O,g.push(I.x,I.y,I.z),k.set(ee,U,O).normalize(),v.push(k.x,k.y,k.z),_.push(Q,1-N),P.push(j++)}T.push(P)}for(let H=0;H<s;H++)for(let P=0;P<a;P++){const N=T[P][H],G=T[P+1][H],te=T[P+1][H+1],Q=T[P][H+1];(e>0||P!==0)&&(p.push(N,G,Q),z+=3),(i>0||P!==a-1)&&(p.push(G,te,Q),z+=3)}d.addGroup(w,z,0),w+=z}function L(k){const I=j,z=new it,U=new oe;let H=0;const P=k===!0?e:i,N=k===!0?1:-1;for(let te=1;te<=s;te++)g.push(0,C*N,0),v.push(0,N,0),_.push(.5,.5),j++;const G=j;for(let te=0;te<=s;te++){const K=te/s*h+l,ee=Math.cos(K),O=Math.sin(K);U.x=P*O,U.y=C*N,U.z=P*ee,g.push(U.x,U.y,U.z),v.push(0,N,0),z.x=ee*.5+.5,z.y=O*.5*N+.5,_.push(z.x,z.y),j++}for(let te=0;te<s;te++){const Q=I+te,K=G+te;k===!0?p.push(K,K+1,Q):p.push(K+1,K,Q),H+=3}d.addGroup(w,H,k===!0?1:2),w+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ev(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Av extends Ev{constructor(e=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(0,e,i,r,s,a,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l}}static fromJSON(e){return new Av(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class md extends An{constructor(e=[],i=[],r=1,s=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:i,radius:r,detail:s};const a=[],o=[];l(s),d(r),p(),this.setAttribute("position",new Ut(a,3)),this.setAttribute("normal",new Ut(a.slice(),3)),this.setAttribute("uv",new Ut(o,2)),s===0?this.computeVertexNormals():this.normalizeNormals();function l(A){const L=new oe,k=new oe,I=new oe;for(let z=0;z<i.length;z+=3)_(i[z+0],L),_(i[z+1],k),_(i[z+2],I),h(L,k,I,A)}function h(A,L,k,I){const z=I+1,U=[];for(let H=0;H<=z;H++){U[H]=[];const P=A.clone().lerp(k,H/z),N=L.clone().lerp(k,H/z),G=z-H;for(let te=0;te<=G;te++)te===0&&H===z?U[H][te]=P:U[H][te]=P.clone().lerp(N,te/G)}for(let H=0;H<z;H++)for(let P=0;P<2*(z-H)-1;P++){const N=Math.floor(P/2);P%2===0?(v(U[H][N+1]),v(U[H+1][N]),v(U[H][N])):(v(U[H][N+1]),v(U[H+1][N+1]),v(U[H+1][N]))}}function d(A){const L=new oe;for(let k=0;k<a.length;k+=3)L.x=a[k+0],L.y=a[k+1],L.z=a[k+2],L.normalize().multiplyScalar(A),a[k+0]=L.x,a[k+1]=L.y,a[k+2]=L.z}function p(){const A=new oe;for(let L=0;L<a.length;L+=3){A.x=a[L+0],A.y=a[L+1],A.z=a[L+2];const k=C(A)/2/Math.PI+.5,I=w(A)/Math.PI+.5;o.push(k,1-I)}j(),g()}function g(){for(let A=0;A<o.length;A+=6){const L=o[A+0],k=o[A+2],I=o[A+4],z=Math.max(L,k,I),U=Math.min(L,k,I);z>.9&&U<.1&&(L<.2&&(o[A+0]+=1),k<.2&&(o[A+2]+=1),I<.2&&(o[A+4]+=1))}}function v(A){a.push(A.x,A.y,A.z)}function _(A,L){const k=A*3;L.x=e[k+0],L.y=e[k+1],L.z=e[k+2]}function j(){const A=new oe,L=new oe,k=new oe,I=new oe,z=new it,U=new it,H=new it;for(let P=0,N=0;P<a.length;P+=9,N+=6){A.set(a[P+0],a[P+1],a[P+2]),L.set(a[P+3],a[P+4],a[P+5]),k.set(a[P+6],a[P+7],a[P+8]),z.set(o[N+0],o[N+1]),U.set(o[N+2],o[N+3]),H.set(o[N+4],o[N+5]),I.copy(A).add(L).add(k).divideScalar(3);const G=C(I);T(z,N+0,A,G),T(U,N+2,L,G),T(H,N+4,k,G)}}function T(A,L,k,I){I<0&&A.x===1&&(o[L]=A.x-1),k.x===0&&k.z===0&&(o[L]=I/2/Math.PI+.5)}function C(A){return Math.atan2(A.z,-A.x)}function w(A){return Math.atan2(-A.y,Math.sqrt(A.x*A.x+A.z*A.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new md(e.vertices,e.indices,e.radius,e.details)}}class Fw extends md{constructor(e=1,i=0){const r=(1+Math.sqrt(5))/2,s=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-r,0,-s,r,0,s,-r,0,s,r,-s,-r,0,-s,r,0,s,-r,0,s,r,0,-r,0,-s,r,0,-s,-r,0,s,r,0,s],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,i),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:i}}static fromJSON(e){return new Fw(e.radius,e.detail)}}const nj=new oe,ij=new oe,rC=new oe,rj=new Fa;class uV extends An{constructor(e=null,i=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:i},e!==null){const s=Math.pow(10,4),a=Math.cos(Xf*i),o=e.getIndex(),l=e.getAttribute("position"),h=o?o.count:l.count,d=[0,0,0],p=["a","b","c"],g=new Array(3),v={},_=[];for(let j=0;j<h;j+=3){o?(d[0]=o.getX(j),d[1]=o.getX(j+1),d[2]=o.getX(j+2)):(d[0]=j,d[1]=j+1,d[2]=j+2);const{a:T,b:C,c:w}=rj;if(T.fromBufferAttribute(l,d[0]),C.fromBufferAttribute(l,d[1]),w.fromBufferAttribute(l,d[2]),rj.getNormal(rC),g[0]=`${Math.round(T.x*s)},${Math.round(T.y*s)},${Math.round(T.z*s)}`,g[1]=`${Math.round(C.x*s)},${Math.round(C.y*s)},${Math.round(C.z*s)}`,g[2]=`${Math.round(w.x*s)},${Math.round(w.y*s)},${Math.round(w.z*s)}`,!(g[0]===g[1]||g[1]===g[2]||g[2]===g[0]))for(let A=0;A<3;A++){const L=(A+1)%3,k=g[A],I=g[L],z=rj[p[A]],U=rj[p[L]],H=`${k}_${I}`,P=`${I}_${k}`;P in v&&v[P]?(rC.dot(v[P].normal)<=a&&(_.push(z.x,z.y,z.z),_.push(U.x,U.y,U.z)),v[P]=null):H in v||(v[H]={index0:d[A],index1:d[L],normal:rC.clone()})}}for(const j in v)if(v[j]){const{index0:T,index1:C}=v[j];nj.fromBufferAttribute(l,T),ij.fromBufferAttribute(l,C),_.push(nj.x,nj.y,nj.z),_.push(ij.x,ij.y,ij.z)}this.setAttribute("position",new Ut(_,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class kl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,i){const r=this.getUtoTmapping(e);return this.getPoint(r,i)}getPoints(e=5){const i=[];for(let r=0;r<=e;r++)i.push(this.getPoint(r/e));return i}getSpacedPoints(e=5){const i=[];for(let r=0;r<=e;r++)i.push(this.getPointAt(r/e));return i}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const i=[];let r,s=this.getPoint(0),a=0;i.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(s),i.push(a),s=r;return this.cacheArcLengths=i,i}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,i=null){const r=this.getLengths();let s=0;const a=r.length;let o;i?o=i:o=e*r[a-1];let l=0,h=a-1,d;for(;l<=h;)if(s=Math.floor(l+(h-l)/2),d=r[s]-o,d<0)l=s+1;else if(d>0)h=s-1;else{h=s;break}if(s=h,r[s]===o)return s/(a-1);const p=r[s],v=r[s+1]-p,_=(o-p)/v;return(s+_)/(a-1)}getTangent(e,i){let s=e-1e-4,a=e+1e-4;s<0&&(s=0),a>1&&(a=1);const o=this.getPoint(s),l=this.getPoint(a),h=i||(o.isVector2?new it:new oe);return h.copy(l).sub(o).normalize(),h}getTangentAt(e,i){const r=this.getUtoTmapping(e);return this.getTangent(r,i)}computeFrenetFrames(e,i=!1){const r=new oe,s=[],a=[],o=[],l=new oe,h=new dn;for(let _=0;_<=e;_++){const j=_/e;s[_]=this.getTangentAt(j,new oe)}a[0]=new oe,o[0]=new oe;let d=Number.MAX_VALUE;const p=Math.abs(s[0].x),g=Math.abs(s[0].y),v=Math.abs(s[0].z);p<=d&&(d=p,r.set(1,0,0)),g<=d&&(d=g,r.set(0,1,0)),v<=d&&r.set(0,0,1),l.crossVectors(s[0],r).normalize(),a[0].crossVectors(s[0],l),o[0].crossVectors(s[0],a[0]);for(let _=1;_<=e;_++){if(a[_]=a[_-1].clone(),o[_]=o[_-1].clone(),l.crossVectors(s[_-1],s[_]),l.length()>Number.EPSILON){l.normalize();const j=Math.acos(bn(s[_-1].dot(s[_]),-1,1));a[_].applyMatrix4(h.makeRotationAxis(l,j))}o[_].crossVectors(s[_],a[_])}if(i===!0){let _=Math.acos(bn(a[0].dot(a[e]),-1,1));_/=e,s[0].dot(l.crossVectors(a[0],a[e]))>0&&(_=-_);for(let j=1;j<=e;j++)a[j].applyMatrix4(h.makeRotationAxis(s[j],_*j)),o[j].crossVectors(s[j],a[j])}return{tangents:s,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Uw extends kl{constructor(e=0,i=0,r=1,s=1,a=0,o=Math.PI*2,l=!1,h=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=i,this.xRadius=r,this.yRadius=s,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=l,this.aRotation=h}getPoint(e,i=new it){const r=i,s=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=s;for(;a>s;)a-=s;a<Number.EPSILON&&(o?a=0:a=s),this.aClockwise===!0&&!o&&(a===s?a=-s:a=a-s);const l=this.aStartAngle+e*a;let h=this.aX+this.xRadius*Math.cos(l),d=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){const p=Math.cos(this.aRotation),g=Math.sin(this.aRotation),v=h-this.aX,_=d-this.aY;h=v*p-_*g+this.aX,d=v*g+_*p+this.aY}return r.set(h,d)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class dV extends Uw{constructor(e,i,r,s,a,o){super(e,i,r,r,s,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function uR(){let t=0,e=0,i=0,r=0;function s(a,o,l,h){t=a,e=l,i=-3*a+3*o-2*l-h,r=2*a-2*o+l+h}return{initCatmullRom:function(a,o,l,h,d){s(o,l,d*(l-a),d*(h-o))},initNonuniformCatmullRom:function(a,o,l,h,d,p,g){let v=(o-a)/d-(l-a)/(d+p)+(l-o)/p,_=(l-o)/p-(h-o)/(p+g)+(h-l)/g;v*=p,_*=p,s(o,l,v,_)},calc:function(a){const o=a*a,l=o*a;return t+e*a+i*o+r*l}}}const sj=new oe,sC=new uR,aC=new uR,oC=new uR;class fV extends kl{constructor(e=[],i=!1,r="centripetal",s=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=i,this.curveType=r,this.tension=s}getPoint(e,i=new oe){const r=i,s=this.points,a=s.length,o=(a-(this.closed?0:1))*e;let l=Math.floor(o),h=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/a)+1)*a:h===0&&l===a-1&&(l=a-2,h=1);let d,p;this.closed||l>0?d=s[(l-1)%a]:(sj.subVectors(s[0],s[1]).add(s[0]),d=sj);const g=s[l%a],v=s[(l+1)%a];if(this.closed||l+2<a?p=s[(l+2)%a]:(sj.subVectors(s[a-1],s[a-2]).add(s[a-1]),p=sj),this.curveType==="centripetal"||this.curveType==="chordal"){const _=this.curveType==="chordal"?.5:.25;let j=Math.pow(d.distanceToSquared(g),_),T=Math.pow(g.distanceToSquared(v),_),C=Math.pow(v.distanceToSquared(p),_);T<1e-4&&(T=1),j<1e-4&&(j=T),C<1e-4&&(C=T),sC.initNonuniformCatmullRom(d.x,g.x,v.x,p.x,j,T,C),aC.initNonuniformCatmullRom(d.y,g.y,v.y,p.y,j,T,C),oC.initNonuniformCatmullRom(d.z,g.z,v.z,p.z,j,T,C)}else this.curveType==="catmullrom"&&(sC.initCatmullRom(d.x,g.x,v.x,p.x,this.tension),aC.initCatmullRom(d.y,g.y,v.y,p.y,this.tension),oC.initCatmullRom(d.z,g.z,v.z,p.z,this.tension));return r.set(sC.calc(h),aC.calc(h),oC.calc(h)),r}copy(e){super.copy(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const s=e.points[i];this.points.push(s.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let i=0,r=this.points.length;i<r;i++){const s=this.points[i];e.points.push(s.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const s=e.points[i];this.points.push(new oe().fromArray(s))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function FN(t,e,i,r,s){const a=(r-e)*.5,o=(s-i)*.5,l=t*t,h=t*l;return(2*i-2*r+a+o)*h+(-3*i+3*r-2*a-o)*l+a*t+i}function Vde(t,e){const i=1-t;return i*i*e}function Gde(t,e){return 2*(1-t)*t*e}function $de(t,e){return t*t*e}function S0(t,e,i,r){return Vde(t,e)+Gde(t,i)+$de(t,r)}function qde(t,e){const i=1-t;return i*i*i*e}function Wde(t,e){const i=1-t;return 3*i*i*t*e}function Xde(t,e){return 3*(1-t)*t*t*e}function Yde(t,e){return t*t*t*e}function w0(t,e,i,r,s){return qde(t,e)+Wde(t,i)+Xde(t,r)+Yde(t,s)}class dR extends kl{constructor(e=new it,i=new it,r=new it,s=new it){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=i,this.v2=r,this.v3=s}getPoint(e,i=new it){const r=i,s=this.v0,a=this.v1,o=this.v2,l=this.v3;return r.set(w0(e,s.x,a.x,o.x,l.x),w0(e,s.y,a.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class pV extends kl{constructor(e=new oe,i=new oe,r=new oe,s=new oe){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=i,this.v2=r,this.v3=s}getPoint(e,i=new oe){const r=i,s=this.v0,a=this.v1,o=this.v2,l=this.v3;return r.set(w0(e,s.x,a.x,o.x,l.x),w0(e,s.y,a.y,o.y,l.y),w0(e,s.z,a.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class fR extends kl{constructor(e=new it,i=new it){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=i}getPoint(e,i=new it){const r=i;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,i){return this.getPoint(e,i)}getTangent(e,i=new it){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,i){return this.getTangent(e,i)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mV extends kl{constructor(e=new oe,i=new oe){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=i}getPoint(e,i=new oe){const r=i;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,i){return this.getPoint(e,i)}getTangent(e,i=new oe){return i.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,i){return this.getTangent(e,i)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pR extends kl{constructor(e=new it,i=new it,r=new it){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=i,this.v2=r}getPoint(e,i=new it){const r=i,s=this.v0,a=this.v1,o=this.v2;return r.set(S0(e,s.x,a.x,o.x),S0(e,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mR extends kl{constructor(e=new oe,i=new oe,r=new oe){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=i,this.v2=r}getPoint(e,i=new oe){const r=i,s=this.v0,a=this.v1,o=this.v2;return r.set(S0(e,s.x,a.x,o.x),S0(e,s.y,a.y,o.y),S0(e,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gR extends kl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,i=new it){const r=i,s=this.points,a=(s.length-1)*e,o=Math.floor(a),l=a-o,h=s[o===0?o:o-1],d=s[o],p=s[o>s.length-2?s.length-1:o+1],g=s[o>s.length-3?s.length-1:o+2];return r.set(FN(l,h.x,d.x,p.x,g.x),FN(l,h.y,d.y,p.y,g.y)),r}copy(e){super.copy(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const s=e.points[i];this.points.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let i=0,r=this.points.length;i<r;i++){const s=this.points[i];e.points.push(s.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let i=0,r=e.points.length;i<r;i++){const s=e.points[i];this.points.push(new it().fromArray(s))}return this}}var A1=Object.freeze({__proto__:null,ArcCurve:dV,CatmullRomCurve3:fV,CubicBezierCurve:dR,CubicBezierCurve3:pV,EllipseCurve:Uw,LineCurve:fR,LineCurve3:mV,QuadraticBezierCurve:pR,QuadraticBezierCurve3:mR,SplineCurve:gR});class gV extends kl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),i=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(i)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new A1[r](i,e))}return this}getPoint(e,i){const r=e*this.getLength(),s=this.getCurveLengths();let a=0;for(;a<s.length;){if(s[a]>=r){const o=s[a]-r,l=this.curves[a],h=l.getLength(),d=h===0?0:1-o/h;return l.getPointAt(d,i)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let i=0;for(let r=0,s=this.curves.length;r<s;r++)i+=this.curves[r].getLength(),e.push(i);return this.cacheLengths=e,e}getSpacedPoints(e=40){const i=[];for(let r=0;r<=e;r++)i.push(this.getPoint(r/e));return this.autoClose&&i.push(i[0]),i}getPoints(e=12){const i=[];let r;for(let s=0,a=this.curves;s<a.length;s++){const o=a[s],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,h=o.getPoints(l);for(let d=0;d<h.length;d++){const p=h[d];r&&r.equals(p)||(i.push(p),r=p)}}return this.autoClose&&i.length>1&&!i[i.length-1].equals(i[0])&&i.push(i[0]),i}copy(e){super.copy(e),this.curves=[];for(let i=0,r=e.curves.length;i<r;i++){const s=e.curves[i];this.curves.push(s.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let i=0,r=this.curves.length;i<r;i++){const s=this.curves[i];e.curves.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let i=0,r=e.curves.length;i<r;i++){const s=e.curves[i];this.curves.push(new A1[s.type]().fromJSON(s))}return this}}class R1 extends gV{constructor(e){super(),this.type="Path",this.currentPoint=new it,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let i=1,r=e.length;i<r;i++)this.lineTo(e[i].x,e[i].y);return this}moveTo(e,i){return this.currentPoint.set(e,i),this}lineTo(e,i){const r=new fR(this.currentPoint.clone(),new it(e,i));return this.curves.push(r),this.currentPoint.set(e,i),this}quadraticCurveTo(e,i,r,s){const a=new pR(this.currentPoint.clone(),new it(e,i),new it(r,s));return this.curves.push(a),this.currentPoint.set(r,s),this}bezierCurveTo(e,i,r,s,a,o){const l=new dR(this.currentPoint.clone(),new it(e,i),new it(r,s),new it(a,o));return this.curves.push(l),this.currentPoint.set(a,o),this}splineThru(e){const i=[this.currentPoint.clone()].concat(e),r=new gR(i);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,i,r,s,a,o){const l=this.currentPoint.x,h=this.currentPoint.y;return this.absarc(e+l,i+h,r,s,a,o),this}absarc(e,i,r,s,a,o){return this.absellipse(e,i,r,r,s,a,o),this}ellipse(e,i,r,s,a,o,l,h){const d=this.currentPoint.x,p=this.currentPoint.y;return this.absellipse(e+d,i+p,r,s,a,o,l,h),this}absellipse(e,i,r,s,a,o,l,h){const d=new Uw(e,i,r,s,a,o,l,h);if(this.curves.length>0){const g=d.getPoint(0);g.equals(this.currentPoint)||this.lineTo(g.x,g.y)}this.curves.push(d);const p=d.getPoint(1);return this.currentPoint.copy(p),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Yf extends R1{constructor(e){super(e),this.uuid=ho(),this.type="Shape",this.holes=[]}getPointsHoles(e){const i=[];for(let r=0,s=this.holes.length;r<s;r++)i[r]=this.holes[r].getPoints(e);return i}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let i=0,r=e.holes.length;i<r;i++){const s=e.holes[i];this.holes.push(s.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let i=0,r=this.holes.length;i<r;i++){const s=this.holes[i];e.holes.push(s.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let i=0,r=e.holes.length;i<r;i++){const s=e.holes[i];this.holes.push(new R1().fromJSON(s))}return this}}function Kde(t,e,i=2){const r=e&&e.length,s=r?e[0]*i:t.length;let a=xV(t,0,s,i,!0);const o=[];if(!a||a.next===a.prev)return o;let l,h,d;if(r&&(a=tfe(t,e,a,i)),t.length>80*i){l=1/0,h=1/0;let p=-1/0,g=-1/0;for(let v=i;v<s;v+=i){const _=t[v],j=t[v+1];_<l&&(l=_),j<h&&(h=j),_>p&&(p=_),j>g&&(g=j)}d=Math.max(p-l,g-h),d=d!==0?32767/d:0}return nv(a,o,i,l,h,d,0),o}function xV(t,e,i,r,s){let a;if(s===dfe(t,e,i,r)>0)for(let o=e;o<i;o+=r)a=UN(o/r|0,t[o],t[o+1],a);else for(let o=i-r;o>=e;o-=r)a=UN(o/r|0,t[o],t[o+1],a);return a&&Ig(a,a.next)&&(rv(a),a=a.next),a}function sp(t,e){if(!t)return t;e||(e=t);let i=t,r;do if(r=!1,!i.steiner&&(Ig(i,i.next)||Ji(i.prev,i,i.next)===0)){if(rv(i),i=e=i.prev,i===i.next)break;r=!0}else i=i.next;while(r||i!==e);return e}function nv(t,e,i,r,s,a,o){if(!t)return;!o&&a&&afe(t,r,s,a);let l=t;for(;t.prev!==t.next;){const h=t.prev,d=t.next;if(a?Qde(t,r,s,a):Zde(t)){e.push(h.i,t.i,d.i),rv(t),t=d.next,l=d.next;continue}if(t=d,t===l){o?o===1?(t=Jde(sp(t),e),nv(t,e,i,r,s,a,2)):o===2&&efe(t,e,i,r,s,a):nv(sp(t),e,i,r,s,a,1);break}}}function Zde(t){const e=t.prev,i=t,r=t.next;if(Ji(e,i,r)>=0)return!1;const s=e.x,a=i.x,o=r.x,l=e.y,h=i.y,d=r.y,p=Math.min(s,a,o),g=Math.min(l,h,d),v=Math.max(s,a,o),_=Math.max(l,h,d);let j=r.next;for(;j!==e;){if(j.x>=p&&j.x<=v&&j.y>=g&&j.y<=_&&s0(s,l,a,h,o,d,j.x,j.y)&&Ji(j.prev,j,j.next)>=0)return!1;j=j.next}return!0}function Qde(t,e,i,r){const s=t.prev,a=t,o=t.next;if(Ji(s,a,o)>=0)return!1;const l=s.x,h=a.x,d=o.x,p=s.y,g=a.y,v=o.y,_=Math.min(l,h,d),j=Math.min(p,g,v),T=Math.max(l,h,d),C=Math.max(p,g,v),w=hE(_,j,e,i,r),A=hE(T,C,e,i,r);let L=t.prevZ,k=t.nextZ;for(;L&&L.z>=w&&k&&k.z<=A;){if(L.x>=_&&L.x<=T&&L.y>=j&&L.y<=C&&L!==s&&L!==o&&s0(l,p,h,g,d,v,L.x,L.y)&&Ji(L.prev,L,L.next)>=0||(L=L.prevZ,k.x>=_&&k.x<=T&&k.y>=j&&k.y<=C&&k!==s&&k!==o&&s0(l,p,h,g,d,v,k.x,k.y)&&Ji(k.prev,k,k.next)>=0))return!1;k=k.nextZ}for(;L&&L.z>=w;){if(L.x>=_&&L.x<=T&&L.y>=j&&L.y<=C&&L!==s&&L!==o&&s0(l,p,h,g,d,v,L.x,L.y)&&Ji(L.prev,L,L.next)>=0)return!1;L=L.prevZ}for(;k&&k.z<=A;){if(k.x>=_&&k.x<=T&&k.y>=j&&k.y<=C&&k!==s&&k!==o&&s0(l,p,h,g,d,v,k.x,k.y)&&Ji(k.prev,k,k.next)>=0)return!1;k=k.nextZ}return!0}function Jde(t,e){let i=t;do{const r=i.prev,s=i.next.next;!Ig(r,s)&&vV(r,i,i.next,s)&&iv(r,s)&&iv(s,r)&&(e.push(r.i,i.i,s.i),rv(i),rv(i.next),i=t=s),i=i.next}while(i!==t);return sp(i)}function efe(t,e,i,r,s,a){let o=t;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&cfe(o,l)){let h=_V(o,l);o=sp(o,o.next),h=sp(h,h.next),nv(o,e,i,r,s,a,0),nv(h,e,i,r,s,a,0);return}l=l.next}o=o.next}while(o!==t)}function tfe(t,e,i,r){const s=[];for(let a=0,o=e.length;a<o;a++){const l=e[a]*r,h=a<o-1?e[a+1]*r:t.length,d=xV(t,l,h,r,!1);d===d.next&&(d.steiner=!0),s.push(lfe(d))}s.sort(nfe);for(let a=0;a<s.length;a++)i=ife(s[a],i);return i}function nfe(t,e){let i=t.x-e.x;if(i===0&&(i=t.y-e.y,i===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),s=(e.next.y-e.y)/(e.next.x-e.x);i=r-s}return i}function ife(t,e){const i=rfe(t,e);if(!i)return e;const r=_V(i,t);return sp(r,r.next),sp(i,i.next)}function rfe(t,e){let i=e;const r=t.x,s=t.y;let a=-1/0,o;if(Ig(t,i))return i;do{if(Ig(t,i.next))return i.next;if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){const g=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(g<=r&&g>a&&(a=g,o=i.x<i.next.x?i:i.next,g===r))return o}i=i.next}while(i!==e);if(!o)return null;const l=o,h=o.x,d=o.y;let p=1/0;i=o;do{if(r>=i.x&&i.x>=h&&r!==i.x&&yV(s<d?r:a,s,h,d,s<d?a:r,s,i.x,i.y)){const g=Math.abs(s-i.y)/(r-i.x);iv(i,t)&&(g<p||g===p&&(i.x>o.x||i.x===o.x&&sfe(o,i)))&&(o=i,p=g)}i=i.next}while(i!==l);return o}function sfe(t,e){return Ji(t.prev,t,e.prev)<0&&Ji(e.next,t,t.next)<0}function afe(t,e,i,r){let s=t;do s.z===0&&(s.z=hE(s.x,s.y,e,i,r)),s.prevZ=s.prev,s.nextZ=s.next,s=s.next;while(s!==t);s.prevZ.nextZ=null,s.prevZ=null,ofe(s)}function ofe(t){let e,i=1;do{let r=t,s;t=null;let a=null;for(e=0;r;){e++;let o=r,l=0;for(let d=0;d<i&&(l++,o=o.nextZ,!!o);d++);let h=i;for(;l>0||h>0&&o;)l!==0&&(h===0||!o||r.z<=o.z)?(s=r,r=r.nextZ,l--):(s=o,o=o.nextZ,h--),a?a.nextZ=s:t=s,s.prevZ=a,a=s;r=o}a.nextZ=null,i*=2}while(e>1);return t}function hE(t,e,i,r,s){return t=(t-i)*s|0,e=(e-r)*s|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function lfe(t){let e=t,i=t;do(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next;while(e!==t);return i}function yV(t,e,i,r,s,a,o,l){return(s-o)*(e-l)>=(t-o)*(a-l)&&(t-o)*(r-l)>=(i-o)*(e-l)&&(i-o)*(a-l)>=(s-o)*(r-l)}function s0(t,e,i,r,s,a,o,l){return!(t===o&&e===l)&&yV(t,e,i,r,s,a,o,l)}function cfe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!hfe(t,e)&&(iv(t,e)&&iv(e,t)&&ufe(t,e)&&(Ji(t.prev,t,e.prev)||Ji(t,e.prev,e))||Ig(t,e)&&Ji(t.prev,t,t.next)>0&&Ji(e.prev,e,e.next)>0)}function Ji(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Ig(t,e){return t.x===e.x&&t.y===e.y}function vV(t,e,i,r){const s=oj(Ji(t,e,i)),a=oj(Ji(t,e,r)),o=oj(Ji(i,r,t)),l=oj(Ji(i,r,e));return!!(s!==a&&o!==l||s===0&&aj(t,i,e)||a===0&&aj(t,r,e)||o===0&&aj(i,t,r)||l===0&&aj(i,e,r))}function aj(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function oj(t){return t>0?1:t<0?-1:0}function hfe(t,e){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&vV(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function iv(t,e){return Ji(t.prev,t,t.next)<0?Ji(t,e,t.next)>=0&&Ji(t,t.prev,e)>=0:Ji(t,e,t.prev)<0||Ji(t,t.next,e)<0}function ufe(t,e){let i=t,r=!1;const s=(t.x+e.x)/2,a=(t.y+e.y)/2;do i.y>a!=i.next.y>a&&i.next.y!==i.y&&s<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(r=!r),i=i.next;while(i!==t);return r}function _V(t,e){const i=uE(t.i,t.x,t.y),r=uE(e.i,e.x,e.y),s=t.next,a=e.prev;return t.next=e,e.prev=t,i.next=s,s.prev=i,r.next=i,i.prev=r,a.next=r,r.prev=a,r}function UN(t,e,i,r){const s=uE(t,e,i);return r?(s.next=r.next,s.prev=r,r.next.prev=s,r.next=s):(s.prev=s,s.next=s),s}function rv(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function uE(t,e,i){return{i:t,x:e,y:i,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function dfe(t,e,i,r){let s=0;for(let a=e,o=i-r;a<i;a+=r)s+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return s}class ffe{static triangulate(e,i,r=2){return Kde(e,i,r)}}class El{static area(e){const i=e.length;let r=0;for(let s=i-1,a=0;a<i;s=a++)r+=e[s].x*e[a].y-e[a].x*e[s].y;return r*.5}static isClockWise(e){return El.area(e)<0}static triangulateShape(e,i){const r=[],s=[],a=[];zN(e),HN(r,e);let o=e.length;i.forEach(zN);for(let h=0;h<i.length;h++)s.push(o),o+=i[h].length,HN(r,i[h]);const l=ffe.triangulate(r,s);for(let h=0;h<l.length;h+=3)a.push(l.slice(h,h+3));return a}}function zN(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function HN(t,e){for(let i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}class zw extends An{constructor(e=new Yf([new it(.5,.5),new it(-.5,.5),new it(-.5,-.5),new it(.5,-.5)]),i={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:i},e=Array.isArray(e)?e:[e];const r=this,s=[],a=[];for(let l=0,h=e.length;l<h;l++){const d=e[l];o(d)}this.setAttribute("position",new Ut(s,3)),this.setAttribute("uv",new Ut(a,2)),this.computeVertexNormals();function o(l){const h=[],d=i.curveSegments!==void 0?i.curveSegments:12,p=i.steps!==void 0?i.steps:1,g=i.depth!==void 0?i.depth:1;let v=i.bevelEnabled!==void 0?i.bevelEnabled:!0,_=i.bevelThickness!==void 0?i.bevelThickness:.2,j=i.bevelSize!==void 0?i.bevelSize:_-.1,T=i.bevelOffset!==void 0?i.bevelOffset:0,C=i.bevelSegments!==void 0?i.bevelSegments:3;const w=i.extrudePath,A=i.UVGenerator!==void 0?i.UVGenerator:pfe;let L,k=!1,I,z,U,H;w&&(L=w.getSpacedPoints(p),k=!0,v=!1,I=w.computeFrenetFrames(p,!1),z=new oe,U=new oe,H=new oe),v||(C=0,_=0,j=0,T=0);const P=l.extractPoints(d);let N=P.shape;const G=P.holes;if(!El.isClockWise(N)){N=N.reverse();for(let ne=0,rt=G.length;ne<rt;ne++){const qe=G[ne];El.isClockWise(qe)&&(G[ne]=qe.reverse())}}function Q(ne){const qe=10000000000000001e-36;let We=ne[0];for(let He=1;He<=ne.length;He++){const vt=He%ne.length,tt=ne[vt],xt=tt.x-We.x,Ct=tt.y-We.y,se=xt*xt+Ct*Ct,Y=Math.max(Math.abs(tt.x),Math.abs(tt.y),Math.abs(We.x),Math.abs(We.y)),Ce=qe*Y*Y;if(se<=Ce){ne.splice(vt,1),He--;continue}We=tt}}Q(N),G.forEach(Q);const K=G.length,ee=N;for(let ne=0;ne<K;ne++){const rt=G[ne];N=N.concat(rt)}function O(ne,rt,qe){return rt||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().addScaledVector(rt,qe)}const q=N.length;function V(ne,rt,qe){let We,He,vt;const tt=ne.x-rt.x,xt=ne.y-rt.y,Ct=qe.x-ne.x,se=qe.y-ne.y,Y=tt*tt+xt*xt,Ce=tt*se-xt*Ct;if(Math.abs(Ce)>Number.EPSILON){const Ie=Math.sqrt(Y),Ve=Math.sqrt(Ct*Ct+se*se),Fe=rt.x-xt/Ie,_t=rt.y+tt/Ie,gt=qe.x-se/Ve,Rt=qe.y+Ct/Ve,Lt=((gt-Fe)*se-(Rt-_t)*Ct)/(tt*se-xt*Ct);We=Fe+tt*Lt-ne.x,He=_t+xt*Lt-ne.y;const Xe=We*We+He*He;if(Xe<=2)return new it(We,He);vt=Math.sqrt(Xe/2)}else{let Ie=!1;tt>Number.EPSILON?Ct>Number.EPSILON&&(Ie=!0):tt<-Number.EPSILON?Ct<-Number.EPSILON&&(Ie=!0):Math.sign(xt)===Math.sign(se)&&(Ie=!0),Ie?(We=-xt,He=tt,vt=Math.sqrt(Y)):(We=tt,He=xt,vt=Math.sqrt(Y/2))}return new it(We/vt,He/vt)}const le=[];for(let ne=0,rt=ee.length,qe=rt-1,We=ne+1;ne<rt;ne++,qe++,We++)qe===rt&&(qe=0),We===rt&&(We=0),le[ne]=V(ee[ne],ee[qe],ee[We]);const W=[];let re,de=le.concat();for(let ne=0,rt=K;ne<rt;ne++){const qe=G[ne];re=[];for(let We=0,He=qe.length,vt=He-1,tt=We+1;We<He;We++,vt++,tt++)vt===He&&(vt=0),tt===He&&(tt=0),re[We]=V(qe[We],qe[vt],qe[tt]);W.push(re),de=de.concat(re)}let fe;if(C===0)fe=El.triangulateShape(ee,G);else{const ne=[],rt=[];for(let qe=0;qe<C;qe++){const We=qe/C,He=_*Math.cos(We*Math.PI/2),vt=j*Math.sin(We*Math.PI/2)+T;for(let tt=0,xt=ee.length;tt<xt;tt++){const Ct=O(ee[tt],le[tt],vt);Ze(Ct.x,Ct.y,-He),We===0&&ne.push(Ct)}for(let tt=0,xt=K;tt<xt;tt++){const Ct=G[tt];re=W[tt];const se=[];for(let Y=0,Ce=Ct.length;Y<Ce;Y++){const Ie=O(Ct[Y],re[Y],vt);Ze(Ie.x,Ie.y,-He),We===0&&se.push(Ie)}We===0&&rt.push(se)}}fe=El.triangulateShape(ne,rt)}const ae=fe.length,pe=j+T;for(let ne=0;ne<q;ne++){const rt=v?O(N[ne],de[ne],pe):N[ne];k?(U.copy(I.normals[0]).multiplyScalar(rt.x),z.copy(I.binormals[0]).multiplyScalar(rt.y),H.copy(L[0]).add(U).add(z),Ze(H.x,H.y,H.z)):Ze(rt.x,rt.y,0)}for(let ne=1;ne<=p;ne++)for(let rt=0;rt<q;rt++){const qe=v?O(N[rt],de[rt],pe):N[rt];k?(U.copy(I.normals[ne]).multiplyScalar(qe.x),z.copy(I.binormals[ne]).multiplyScalar(qe.y),H.copy(L[ne]).add(U).add(z),Ze(H.x,H.y,H.z)):Ze(qe.x,qe.y,g/p*ne)}for(let ne=C-1;ne>=0;ne--){const rt=ne/C,qe=_*Math.cos(rt*Math.PI/2),We=j*Math.sin(rt*Math.PI/2)+T;for(let He=0,vt=ee.length;He<vt;He++){const tt=O(ee[He],le[He],We);Ze(tt.x,tt.y,g+qe)}for(let He=0,vt=G.length;He<vt;He++){const tt=G[He];re=W[He];for(let xt=0,Ct=tt.length;xt<Ct;xt++){const se=O(tt[xt],re[xt],We);k?Ze(se.x,se.y+L[p-1].y,L[p-1].x+qe):Ze(se.x,se.y,g+qe)}}}De(),Be();function De(){const ne=s.length/3;if(v){let rt=0,qe=q*rt;for(let We=0;We<ae;We++){const He=fe[We];Je(He[2]+qe,He[1]+qe,He[0]+qe)}rt=p+C*2,qe=q*rt;for(let We=0;We<ae;We++){const He=fe[We];Je(He[0]+qe,He[1]+qe,He[2]+qe)}}else{for(let rt=0;rt<ae;rt++){const qe=fe[rt];Je(qe[2],qe[1],qe[0])}for(let rt=0;rt<ae;rt++){const qe=fe[rt];Je(qe[0]+q*p,qe[1]+q*p,qe[2]+q*p)}}r.addGroup(ne,s.length/3-ne,0)}function Be(){const ne=s.length/3;let rt=0;Ue(ee,rt),rt+=ee.length;for(let qe=0,We=G.length;qe<We;qe++){const He=G[qe];Ue(He,rt),rt+=He.length}r.addGroup(ne,s.length/3-ne,1)}function Ue(ne,rt){let qe=ne.length;for(;--qe>=0;){const We=qe;let He=qe-1;He<0&&(He=ne.length-1);for(let vt=0,tt=p+C*2;vt<tt;vt++){const xt=q*vt,Ct=q*(vt+1),se=rt+We+xt,Y=rt+He+xt,Ce=rt+He+Ct,Ie=rt+We+Ct;Nt(se,Y,Ce,Ie)}}}function Ze(ne,rt,qe){h.push(ne),h.push(rt),h.push(qe)}function Je(ne,rt,qe){Et(ne),Et(rt),Et(qe);const We=s.length/3,He=A.generateTopUV(r,s,We-3,We-2,We-1);At(He[0]),At(He[1]),At(He[2])}function Nt(ne,rt,qe,We){Et(ne),Et(rt),Et(We),Et(rt),Et(qe),Et(We);const He=s.length/3,vt=A.generateSideWallUV(r,s,He-6,He-3,He-2,He-1);At(vt[0]),At(vt[1]),At(vt[3]),At(vt[1]),At(vt[2]),At(vt[3])}function Et(ne){s.push(h[ne*3+0]),s.push(h[ne*3+1]),s.push(h[ne*3+2])}function At(ne){a.push(ne.x),a.push(ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),i=this.parameters.shapes,r=this.parameters.options;return mfe(i,r,e)}static fromJSON(e,i){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const l=i[e.shapes[a]];r.push(l)}const s=e.options.extrudePath;return s!==void 0&&(e.options.extrudePath=new A1[s.type]().fromJSON(s)),new zw(r,e.options)}}const pfe={generateTopUV:function(t,e,i,r,s){const a=e[i*3],o=e[i*3+1],l=e[r*3],h=e[r*3+1],d=e[s*3],p=e[s*3+1];return[new it(a,o),new it(l,h),new it(d,p)]},generateSideWallUV:function(t,e,i,r,s,a){const o=e[i*3],l=e[i*3+1],h=e[i*3+2],d=e[r*3],p=e[r*3+1],g=e[r*3+2],v=e[s*3],_=e[s*3+1],j=e[s*3+2],T=e[a*3],C=e[a*3+1],w=e[a*3+2];return Math.abs(l-p)<Math.abs(o-d)?[new it(o,1-h),new it(d,1-g),new it(v,1-j),new it(T,1-w)]:[new it(l,1-h),new it(p,1-g),new it(_,1-j),new it(C,1-w)]}};function mfe(t,e,i){if(i.shapes=[],Array.isArray(t))for(let r=0,s=t.length;r<s;r++){const a=t[r];i.shapes.push(a.uuid)}else i.shapes.push(t.uuid);return i.options=Object.assign({},e),e.extrudePath!==void 0&&(i.options.extrudePath=e.extrudePath.toJSON()),i}class Hw extends md{constructor(e=1,i=0){const r=(1+Math.sqrt(5))/2,s=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(s,a,e,i),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:i}}static fromJSON(e){return new Hw(e.radius,e.detail)}}class Vw extends An{constructor(e=[new it(0,-.5),new it(.5,0),new it(0,.5)],i=12,r=0,s=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:i,phiStart:r,phiLength:s},i=Math.floor(i),s=bn(s,0,Math.PI*2);const a=[],o=[],l=[],h=[],d=[],p=1/i,g=new oe,v=new it,_=new oe,j=new oe,T=new oe;let C=0,w=0;for(let A=0;A<=e.length-1;A++)switch(A){case 0:C=e[A+1].x-e[A].x,w=e[A+1].y-e[A].y,_.x=w*1,_.y=-C,_.z=w*0,T.copy(_),_.normalize(),h.push(_.x,_.y,_.z);break;case e.length-1:h.push(T.x,T.y,T.z);break;default:C=e[A+1].x-e[A].x,w=e[A+1].y-e[A].y,_.x=w*1,_.y=-C,_.z=w*0,j.copy(_),_.x+=T.x,_.y+=T.y,_.z+=T.z,_.normalize(),h.push(_.x,_.y,_.z),T.copy(j)}for(let A=0;A<=i;A++){const L=r+A*p*s,k=Math.sin(L),I=Math.cos(L);for(let z=0;z<=e.length-1;z++){g.x=e[z].x*k,g.y=e[z].y,g.z=e[z].x*I,o.push(g.x,g.y,g.z),v.x=A/i,v.y=z/(e.length-1),l.push(v.x,v.y);const U=h[3*z+0]*k,H=h[3*z+1],P=h[3*z+0]*I;d.push(U,H,P)}}for(let A=0;A<i;A++)for(let L=0;L<e.length-1;L++){const k=L+A*e.length,I=k,z=k+e.length,U=k+e.length+1,H=k+1;a.push(I,z,H),a.push(U,H,z)}this.setIndex(a),this.setAttribute("position",new Ut(o,3)),this.setAttribute("uv",new Ut(l,2)),this.setAttribute("normal",new Ut(d,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vw(e.points,e.segments,e.phiStart,e.phiLength)}}class Rv extends md{constructor(e=1,i=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],s=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,s,e,i),this.type="OctahedronGeometry",this.parameters={radius:e,detail:i}}static fromJSON(e){return new Rv(e.radius,e.detail)}}class nx extends An{constructor(e=1,i=1,r=1,s=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:i,widthSegments:r,heightSegments:s};const a=e/2,o=i/2,l=Math.floor(r),h=Math.floor(s),d=l+1,p=h+1,g=e/l,v=i/h,_=[],j=[],T=[],C=[];for(let w=0;w<p;w++){const A=w*v-o;for(let L=0;L<d;L++){const k=L*g-a;j.push(k,-A,0),T.push(0,0,1),C.push(L/l),C.push(1-w/h)}}for(let w=0;w<h;w++)for(let A=0;A<l;A++){const L=A+d*w,k=A+d*(w+1),I=A+1+d*(w+1),z=A+1+d*w;_.push(L,k,z),_.push(k,I,z)}this.setIndex(_),this.setAttribute("position",new Ut(j,3)),this.setAttribute("normal",new Ut(T,3)),this.setAttribute("uv",new Ut(C,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nx(e.width,e.height,e.widthSegments,e.heightSegments)}}class Gw extends An{constructor(e=.5,i=1,r=32,s=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:i,thetaSegments:r,phiSegments:s,thetaStart:a,thetaLength:o},r=Math.max(3,r),s=Math.max(1,s);const l=[],h=[],d=[],p=[];let g=e;const v=(i-e)/s,_=new oe,j=new it;for(let T=0;T<=s;T++){for(let C=0;C<=r;C++){const w=a+C/r*o;_.x=g*Math.cos(w),_.y=g*Math.sin(w),h.push(_.x,_.y,_.z),d.push(0,0,1),j.x=(_.x/i+1)/2,j.y=(_.y/i+1)/2,p.push(j.x,j.y)}g+=v}for(let T=0;T<s;T++){const C=T*(r+1);for(let w=0;w<r;w++){const A=w+C,L=A,k=A+r+1,I=A+r+2,z=A+1;l.push(L,k,z),l.push(k,I,z)}}this.setIndex(l),this.setAttribute("position",new Ut(h,3)),this.setAttribute("normal",new Ut(d,3)),this.setAttribute("uv",new Ut(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gw(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class $w extends An{constructor(e=new Yf([new it(0,.5),new it(-.5,-.5),new it(.5,-.5)]),i=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:i};const r=[],s=[],a=[],o=[];let l=0,h=0;if(Array.isArray(e)===!1)d(e);else for(let p=0;p<e.length;p++)d(e[p]),this.addGroup(l,h,p),l+=h,h=0;this.setIndex(r),this.setAttribute("position",new Ut(s,3)),this.setAttribute("normal",new Ut(a,3)),this.setAttribute("uv",new Ut(o,2));function d(p){const g=s.length/3,v=p.extractPoints(i);let _=v.shape;const j=v.holes;El.isClockWise(_)===!1&&(_=_.reverse());for(let C=0,w=j.length;C<w;C++){const A=j[C];El.isClockWise(A)===!0&&(j[C]=A.reverse())}const T=El.triangulateShape(_,j);for(let C=0,w=j.length;C<w;C++){const A=j[C];_=_.concat(A)}for(let C=0,w=_.length;C<w;C++){const A=_[C];s.push(A.x,A.y,0),a.push(0,0,1),o.push(A.x,A.y)}for(let C=0,w=T.length;C<w;C++){const A=T[C],L=A[0]+g,k=A[1]+g,I=A[2]+g;r.push(L,k,I),h+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),i=this.parameters.shapes;return gfe(i,e)}static fromJSON(e,i){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=i[e.shapes[s]];r.push(o)}return new $w(r,e.curveSegments)}}function gfe(t,e){if(e.shapes=[],Array.isArray(t))for(let i=0,r=t.length;i<r;i++){const s=t[i];e.shapes.push(s.uuid)}else e.shapes.push(t.uuid);return e}class Lv extends An{constructor(e=1,i=32,r=16,s=0,a=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:i,heightSegments:r,phiStart:s,phiLength:a,thetaStart:o,thetaLength:l},i=Math.max(3,Math.floor(i)),r=Math.max(2,Math.floor(r));const h=Math.min(o+l,Math.PI);let d=0;const p=[],g=new oe,v=new oe,_=[],j=[],T=[],C=[];for(let w=0;w<=r;w++){const A=[],L=w/r;let k=0;w===0&&o===0?k=.5/i:w===r&&h===Math.PI&&(k=-.5/i);for(let I=0;I<=i;I++){const z=I/i;g.x=-e*Math.cos(s+z*a)*Math.sin(o+L*l),g.y=e*Math.cos(o+L*l),g.z=e*Math.sin(s+z*a)*Math.sin(o+L*l),j.push(g.x,g.y,g.z),v.copy(g).normalize(),T.push(v.x,v.y,v.z),C.push(z+k,1-L),A.push(d++)}p.push(A)}for(let w=0;w<r;w++)for(let A=0;A<i;A++){const L=p[w][A+1],k=p[w][A],I=p[w+1][A],z=p[w+1][A+1];(w!==0||o>0)&&_.push(L,k,z),(w!==r-1||h<Math.PI)&&_.push(k,I,z)}this.setIndex(_),this.setAttribute("position",new Ut(j,3)),this.setAttribute("normal",new Ut(T,3)),this.setAttribute("uv",new Ut(C,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Lv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class qw extends md{constructor(e=1,i=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],s=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,s,e,i),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:i}}static fromJSON(e){return new qw(e.radius,e.detail)}}class Ww extends An{constructor(e=1,i=.4,r=12,s=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:i,radialSegments:r,tubularSegments:s,arc:a},r=Math.floor(r),s=Math.floor(s);const o=[],l=[],h=[],d=[],p=new oe,g=new oe,v=new oe;for(let _=0;_<=r;_++)for(let j=0;j<=s;j++){const T=j/s*a,C=_/r*Math.PI*2;g.x=(e+i*Math.cos(C))*Math.cos(T),g.y=(e+i*Math.cos(C))*Math.sin(T),g.z=i*Math.sin(C),l.push(g.x,g.y,g.z),p.x=e*Math.cos(T),p.y=e*Math.sin(T),v.subVectors(g,p).normalize(),h.push(v.x,v.y,v.z),d.push(j/s),d.push(_/r)}for(let _=1;_<=r;_++)for(let j=1;j<=s;j++){const T=(s+1)*_+j-1,C=(s+1)*(_-1)+j-1,w=(s+1)*(_-1)+j,A=(s+1)*_+j;o.push(T,C,A),o.push(C,w,A)}this.setIndex(o),this.setAttribute("position",new Ut(l,3)),this.setAttribute("normal",new Ut(h,3)),this.setAttribute("uv",new Ut(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ww(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Xw extends An{constructor(e=1,i=.4,r=64,s=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:i,tubularSegments:r,radialSegments:s,p:a,q:o},r=Math.floor(r),s=Math.floor(s);const l=[],h=[],d=[],p=[],g=new oe,v=new oe,_=new oe,j=new oe,T=new oe,C=new oe,w=new oe;for(let L=0;L<=r;++L){const k=L/r*a*Math.PI*2;A(k,a,o,e,_),A(k+.01,a,o,e,j),C.subVectors(j,_),w.addVectors(j,_),T.crossVectors(C,w),w.crossVectors(T,C),T.normalize(),w.normalize();for(let I=0;I<=s;++I){const z=I/s*Math.PI*2,U=-i*Math.cos(z),H=i*Math.sin(z);g.x=_.x+(U*w.x+H*T.x),g.y=_.y+(U*w.y+H*T.y),g.z=_.z+(U*w.z+H*T.z),h.push(g.x,g.y,g.z),v.subVectors(g,_).normalize(),d.push(v.x,v.y,v.z),p.push(L/r),p.push(I/s)}}for(let L=1;L<=r;L++)for(let k=1;k<=s;k++){const I=(s+1)*(L-1)+(k-1),z=(s+1)*L+(k-1),U=(s+1)*L+k,H=(s+1)*(L-1)+k;l.push(I,z,H),l.push(z,U,H)}this.setIndex(l),this.setAttribute("position",new Ut(h,3)),this.setAttribute("normal",new Ut(d,3)),this.setAttribute("uv",new Ut(p,2));function A(L,k,I,z,U){const H=Math.cos(L),P=Math.sin(L),N=I/k*L,G=Math.cos(N);U.x=z*(2+G)*.5*H,U.y=z*(2+G)*P*.5,U.z=z*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xw(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Yw extends An{constructor(e=new mR(new oe(-1,-1,0),new oe(-1,1,0),new oe(1,1,0)),i=64,r=1,s=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:i,radius:r,radialSegments:s,closed:a};const o=e.computeFrenetFrames(i,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const l=new oe,h=new oe,d=new it;let p=new oe;const g=[],v=[],_=[],j=[];T(),this.setIndex(j),this.setAttribute("position",new Ut(g,3)),this.setAttribute("normal",new Ut(v,3)),this.setAttribute("uv",new Ut(_,2));function T(){for(let L=0;L<i;L++)C(L);C(a===!1?i:0),A(),w()}function C(L){p=e.getPointAt(L/i,p);const k=o.normals[L],I=o.binormals[L];for(let z=0;z<=s;z++){const U=z/s*Math.PI*2,H=Math.sin(U),P=-Math.cos(U);h.x=P*k.x+H*I.x,h.y=P*k.y+H*I.y,h.z=P*k.z+H*I.z,h.normalize(),v.push(h.x,h.y,h.z),l.x=p.x+r*h.x,l.y=p.y+r*h.y,l.z=p.z+r*h.z,g.push(l.x,l.y,l.z)}}function w(){for(let L=1;L<=i;L++)for(let k=1;k<=s;k++){const I=(s+1)*(L-1)+(k-1),z=(s+1)*L+(k-1),U=(s+1)*L+k,H=(s+1)*(L-1)+k;j.push(I,z,H),j.push(z,U,H)}}function A(){for(let L=0;L<=i;L++)for(let k=0;k<=s;k++)d.x=L/i,d.y=k/s,_.push(d.x,d.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Yw(new A1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class bV extends An{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const i=[],r=new Set,s=new oe,a=new oe;if(e.index!==null){const o=e.attributes.position,l=e.index;let h=e.groups;h.length===0&&(h=[{start:0,count:l.count,materialIndex:0}]);for(let d=0,p=h.length;d<p;++d){const g=h[d],v=g.start,_=g.count;for(let j=v,T=v+_;j<T;j+=3)for(let C=0;C<3;C++){const w=l.getX(j+C),A=l.getX(j+(C+1)%3);s.fromBufferAttribute(o,w),a.fromBufferAttribute(o,A),VN(s,a,r)===!0&&(i.push(s.x,s.y,s.z),i.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let l=0,h=o.count/3;l<h;l++)for(let d=0;d<3;d++){const p=3*l+d,g=3*l+(d+1)%3;s.fromBufferAttribute(o,p),a.fromBufferAttribute(o,g),VN(s,a,r)===!0&&(i.push(s.x,s.y,s.z),i.push(a.x,a.y,a.z))}}this.setAttribute("position",new Ut(i,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function VN(t,e,i){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,s=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return i.has(r)===!0||i.has(s)===!0?!1:(i.add(r),i.add(s),!0)}var GN=Object.freeze({__proto__:null,BoxGeometry:fp,CapsuleGeometry:Bw,CircleGeometry:Iw,ConeGeometry:Av,CylinderGeometry:Ev,DodecahedronGeometry:Fw,EdgesGeometry:uV,ExtrudeGeometry:zw,IcosahedronGeometry:Hw,LatheGeometry:Vw,OctahedronGeometry:Rv,PlaneGeometry:nx,PolyhedronGeometry:md,RingGeometry:Gw,ShapeGeometry:$w,SphereGeometry:Lv,TetrahedronGeometry:qw,TorusGeometry:Ww,TorusKnotGeometry:Xw,TubeGeometry:Yw,WireframeGeometry:bV});class jV extends Gs{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Dt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class SV extends Ll{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class xR extends Gs{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Dt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class wV extends xR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new it(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return bn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(i){this.ior=(1+.4*i)/(1-.4*i)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Dt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Dt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Dt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class TV extends Gs{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Dt(16777215),this.specular=new Dt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fo,this.combine=Tv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class CV extends Gs{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Dt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class MV extends Gs{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class EV extends Gs{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Dt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Dt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new fo,this.combine=Tv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yR extends Gs{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=I6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class vR extends Gs{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class AV extends Gs{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Dt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=fd,this.normalScale=new it(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class RV extends ya{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Hf(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function LV(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function DV(t){function e(s,a){return t[s]-t[a]}const i=t.length,r=new Array(i);for(let s=0;s!==i;++s)r[s]=s;return r.sort(e),r}function dE(t,e,i){const r=t.length,s=new t.constructor(r);for(let a=0,o=0;o!==r;++a){const l=i[a]*e;for(let h=0;h!==e;++h)s[o++]=t[l+h]}return s}function _R(t,e,i,r){let s=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[s++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),i.push(...o)),a=t[s++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(i,i.length)),a=t[s++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),i.push(o)),a=t[s++];while(a!==void 0)}function xfe(t,e,i,r,s=30){const a=t.clone();a.name=e;const o=[];for(let h=0;h<a.tracks.length;++h){const d=a.tracks[h],p=d.getValueSize(),g=[],v=[];for(let _=0;_<d.times.length;++_){const j=d.times[_]*s;if(!(j<i||j>=r)){g.push(d.times[_]);for(let T=0;T<p;++T)v.push(d.values[_*p+T])}}g.length!==0&&(d.times=Hf(g,d.times.constructor),d.values=Hf(v,d.values.constructor),o.push(d))}a.tracks=o;let l=1/0;for(let h=0;h<a.tracks.length;++h)l>a.tracks[h].times[0]&&(l=a.tracks[h].times[0]);for(let h=0;h<a.tracks.length;++h)a.tracks[h].shift(-1*l);return a.resetDuration(),a}function yfe(t,e=0,i=t,r=30){r<=0&&(r=30);const s=i.tracks.length,a=e/r;for(let o=0;o<s;++o){const l=i.tracks[o],h=l.ValueTypeName;if(h==="bool"||h==="string")continue;const d=t.tracks.find(function(w){return w.name===l.name&&w.ValueTypeName===h});if(d===void 0)continue;let p=0;const g=l.getValueSize();l.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);let v=0;const _=d.getValueSize();d.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(v=_/3);const j=l.times.length-1;let T;if(a<=l.times[0]){const w=p,A=g-p;T=l.values.slice(w,A)}else if(a>=l.times[j]){const w=j*g+p,A=w+g-p;T=l.values.slice(w,A)}else{const w=l.createInterpolant(),A=p,L=g-p;w.evaluate(a),T=w.resultBuffer.slice(A,L)}h==="quaternion"&&new Va().fromArray(T).normalize().conjugate().toArray(T);const C=d.times.length;for(let w=0;w<C;++w){const A=w*_+v;if(h==="quaternion")Va.multiplyQuaternionsFlat(d.values,A,T,0,d.values,A);else{const L=_-v*2;for(let k=0;k<L;++k)d.values[A+k]-=T[k]}}}return t.blendMode=eR,t}class vfe{static convertArray(e,i){return Hf(e,i)}static isTypedArray(e){return LV(e)}static getKeyframeOrder(e){return DV(e)}static sortedArray(e,i,r){return dE(e,i,r)}static flattenJSON(e,i,r,s){_R(e,i,r,s)}static subclip(e,i,r,s,a=30){return xfe(e,i,r,s,a)}static makeClipAdditive(e,i=0,r=e,s=30){return yfe(e,i,r,s)}}class Dv{constructor(e,i,r,s){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=s!==void 0?s:new i.constructor(r),this.sampleValues=i,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const i=this.parameterPositions;let r=this._cachedIndex,s=i[r],a=i[r-1];e:{t:{let o;n:{i:if(!(e<s)){for(let l=r+2;;){if(s===void 0){if(e<a)break i;return r=i.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(a=s,s=i[++r],e<s)break t}o=i.length;break n}if(!(e>=a)){const l=i[1];e<l&&(r=2,a=l);for(let h=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===h)break;if(s=a,a=i[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const l=r+o>>>1;e<i[l]?o=l:r=l+1}if(s=i[r],a=i[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(s===void 0)return r=i.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,s)}return this.interpolate_(r,a,e,s)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const i=this.resultBuffer,r=this.sampleValues,s=this.valueSize,a=e*s;for(let o=0;o!==s;++o)i[o]=r[a+o];return i}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class kV extends Dv{constructor(e,i,r,s){super(e,i,r,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Uf,endingEnd:Uf}}intervalChanged_(e,i,r){const s=this.parameterPositions;let a=e-2,o=e+1,l=s[a],h=s[o];if(l===void 0)switch(this.getSettings_().endingStart){case zf:a=e,l=2*i-r;break;case Z0:a=s.length-2,l=i+s[a]-s[a+1];break;default:a=e,l=r}if(h===void 0)switch(this.getSettings_().endingEnd){case zf:o=e,h=2*r-i;break;case Z0:o=1,h=r+s[1]-s[0];break;default:o=e-1,h=i}const d=(r-i)*.5,p=this.valueSize;this._weightPrev=d/(i-l),this._weightNext=d/(h-r),this._offsetPrev=a*p,this._offsetNext=o*p}interpolate_(e,i,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,h=e*l,d=h-l,p=this._offsetPrev,g=this._offsetNext,v=this._weightPrev,_=this._weightNext,j=(r-i)/(s-i),T=j*j,C=T*j,w=-v*C+2*v*T-v*j,A=(1+v)*C+(-1.5-2*v)*T+(-.5+v)*j+1,L=(-1-_)*C+(1.5+_)*T+.5*j,k=_*C-_*T;for(let I=0;I!==l;++I)a[I]=w*o[p+I]+A*o[d+I]+L*o[h+I]+k*o[g+I];return a}}class bR extends Dv{constructor(e,i,r,s){super(e,i,r,s)}interpolate_(e,i,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,h=e*l,d=h-l,p=(r-i)/(s-i),g=1-p;for(let v=0;v!==l;++v)a[v]=o[d+v]*g+o[h+v]*p;return a}}class NV extends Dv{constructor(e,i,r,s){super(e,i,r,s)}interpolate_(e){return this.copySampleValue_(e-1)}}class Yo{constructor(e,i,r,s){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(i===void 0||i.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Hf(i,this.TimeBufferType),this.values=Hf(r,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation)}static toJSON(e){const i=e.constructor;let r;if(i.toJSON!==this.toJSON)r=i.toJSON(e);else{r={name:e.name,times:Hf(e.times,Array),values:Hf(e.values,Array)};const s=e.getInterpolation();s!==e.DefaultInterpolation&&(r.interpolation=s)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new NV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new bR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new kV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let i;switch(e){case K0:i=this.InterpolantFactoryMethodDiscrete;break;case C1:i=this.InterpolantFactoryMethodLinear;break;case Uj:i=this.InterpolantFactoryMethodSmooth;break}if(i===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=i,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return K0;case this.InterpolantFactoryMethodLinear:return C1;case this.InterpolantFactoryMethodSmooth:return Uj}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const i=this.times;for(let r=0,s=i.length;r!==s;++r)i[r]+=e}return this}scale(e){if(e!==1){const i=this.times;for(let r=0,s=i.length;r!==s;++r)i[r]*=e}return this}trim(e,i){const r=this.times,s=r.length;let a=0,o=s-1;for(;a!==s&&r[a]<e;)++a;for(;o!==-1&&r[o]>i;)--o;if(++o,a!==0||o!==s){a>=o&&(o=Math.max(o,1),a=o-1);const l=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*l,o*l)}return this}validate(){let e=!0;const i=this.getValueSize();i-Math.floor(i)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,s=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==a;l++){const h=r[l];if(typeof h=="number"&&isNaN(h)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,h),e=!1;break}if(o!==null&&o>h){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,h,o),e=!1;break}o=h}if(s!==void 0&&LV(s))for(let l=0,h=s.length;l!==h;++l){const d=s[l];if(isNaN(d)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,d),e=!1;break}}return e}optimize(){const e=this.times.slice(),i=this.values.slice(),r=this.getValueSize(),s=this.getInterpolation()===Uj,a=e.length-1;let o=1;for(let l=1;l<a;++l){let h=!1;const d=e[l],p=e[l+1];if(d!==p&&(l!==1||d!==e[0]))if(s)h=!0;else{const g=l*r,v=g-r,_=g+r;for(let j=0;j!==r;++j){const T=i[g+j];if(T!==i[v+j]||T!==i[_+j]){h=!0;break}}}if(h){if(l!==o){e[o]=e[l];const g=l*r,v=o*r;for(let _=0;_!==r;++_)i[v+_]=i[g+_]}++o}}if(a>0){e[o]=e[a];for(let l=a*r,h=o*r,d=0;d!==r;++d)i[h+d]=i[l+d];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=i.slice(0,o*r)):(this.times=e,this.values=i),this}clone(){const e=this.times.slice(),i=this.values.slice(),r=this.constructor,s=new r(this.name,e,i);return s.createInterpolant=this.createInterpolant,s}}Yo.prototype.ValueTypeName="";Yo.prototype.TimeBufferType=Float32Array;Yo.prototype.ValueBufferType=Float32Array;Yo.prototype.DefaultInterpolation=C1;class pp extends Yo{constructor(e,i,r){super(e,i,r)}}pp.prototype.ValueTypeName="bool";pp.prototype.ValueBufferType=Array;pp.prototype.DefaultInterpolation=K0;pp.prototype.InterpolantFactoryMethodLinear=void 0;pp.prototype.InterpolantFactoryMethodSmooth=void 0;class jR extends Yo{constructor(e,i,r,s){super(e,i,r,s)}}jR.prototype.ValueTypeName="color";class sv extends Yo{constructor(e,i,r,s){super(e,i,r,s)}}sv.prototype.ValueTypeName="number";class PV extends Dv{constructor(e,i,r,s){super(e,i,r,s)}interpolate_(e,i,r,s){const a=this.resultBuffer,o=this.sampleValues,l=this.valueSize,h=(r-i)/(s-i);let d=e*l;for(let p=d+l;d!==p;d+=4)Va.slerpFlat(a,0,o,d-l,o,d,h);return a}}class kv extends Yo{constructor(e,i,r,s){super(e,i,r,s)}InterpolantFactoryMethodLinear(e){return new PV(this.times,this.values,this.getValueSize(),e)}}kv.prototype.ValueTypeName="quaternion";kv.prototype.InterpolantFactoryMethodSmooth=void 0;class mp extends Yo{constructor(e,i,r){super(e,i,r)}}mp.prototype.ValueTypeName="string";mp.prototype.ValueBufferType=Array;mp.prototype.DefaultInterpolation=K0;mp.prototype.InterpolantFactoryMethodLinear=void 0;mp.prototype.InterpolantFactoryMethodSmooth=void 0;class av extends Yo{constructor(e,i,r,s){super(e,i,r,s)}}av.prototype.ValueTypeName="vector";class ov{constructor(e="",i=-1,r=[],s=Mw){this.name=e,this.tracks=r,this.duration=i,this.blendMode=s,this.uuid=ho(),this.duration<0&&this.resetDuration()}static parse(e){const i=[],r=e.tracks,s=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)i.push(bfe(r[o]).scale(s));const a=new this(e.name,e.duration,i,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const i=[],r=e.tracks,s={name:e.name,duration:e.duration,tracks:i,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)i.push(Yo.toJSON(r[a]));return s}static CreateFromMorphTargetSequence(e,i,r,s){const a=i.length,o=[];for(let l=0;l<a;l++){let h=[],d=[];h.push((l+a-1)%a,l,(l+1)%a),d.push(0,1,0);const p=DV(h);h=dE(h,1,p),d=dE(d,1,p),!s&&h[0]===0&&(h.push(a),d.push(d[0])),o.push(new sv(".morphTargetInfluences["+i[l].name+"]",h,d).scale(1/r))}return new this(e,-1,o)}static findByName(e,i){let r=e;if(!Array.isArray(e)){const s=e;r=s.geometry&&s.geometry.animations||s.animations}for(let s=0;s<r.length;s++)if(r[s].name===i)return r[s];return null}static CreateClipsFromMorphTargetSequences(e,i,r){const s={},a=/^([\w-]*?)([\d]+)$/;for(let l=0,h=e.length;l<h;l++){const d=e[l],p=d.name.match(a);if(p&&p.length>1){const g=p[1];let v=s[g];v||(s[g]=v=[]),v.push(d)}}const o=[];for(const l in s)o.push(this.CreateFromMorphTargetSequence(l,s[l],i,r));return o}static parseAnimation(e,i){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(g,v,_,j,T){if(_.length!==0){const C=[],w=[];_R(_,C,w,j),C.length!==0&&T.push(new g(v,C,w))}},s=[],a=e.name||"default",o=e.fps||30,l=e.blendMode;let h=e.length||-1;const d=e.hierarchy||[];for(let g=0;g<d.length;g++){const v=d[g].keys;if(!(!v||v.length===0))if(v[0].morphTargets){const _={};let j;for(j=0;j<v.length;j++)if(v[j].morphTargets)for(let T=0;T<v[j].morphTargets.length;T++)_[v[j].morphTargets[T]]=-1;for(const T in _){const C=[],w=[];for(let A=0;A!==v[j].morphTargets.length;++A){const L=v[j];C.push(L.time),w.push(L.morphTarget===T?1:0)}s.push(new sv(".morphTargetInfluence["+T+"]",C,w))}h=_.length*o}else{const _=".bones["+i[g].name+"]";r(av,_+".position",v,"pos",s),r(kv,_+".quaternion",v,"rot",s),r(av,_+".scale",v,"scl",s)}}return s.length===0?null:new this(a,h,s,l)}resetDuration(){const e=this.tracks;let i=0;for(let r=0,s=e.length;r!==s;++r){const a=this.tracks[r];i=Math.max(i,a.times[a.times.length-1])}return this.duration=i,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let i=0;i<this.tracks.length;i++)e=e&&this.tracks[i].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let i=0;i<this.tracks.length;i++)e.push(this.tracks[i].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function _fe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return sv;case"vector":case"vector2":case"vector3":case"vector4":return av;case"color":return jR;case"quaternion":return kv;case"bool":case"boolean":return pp;case"string":return mp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function bfe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=_fe(t.type);if(t.times===void 0){const i=[],r=[];_R(t.keys,i,r,"value"),t.times=i,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ac={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class SR{constructor(e,i,r){const s=this;let a=!1,o=0,l=0,h;const d=[];this.onStart=void 0,this.onLoad=e,this.onProgress=i,this.onError=r,this.itemStart=function(p){l++,a===!1&&s.onStart!==void 0&&s.onStart(p,o,l),a=!0},this.itemEnd=function(p){o++,s.onProgress!==void 0&&s.onProgress(p,o,l),o===l&&(a=!1,s.onLoad!==void 0&&s.onLoad())},this.itemError=function(p){s.onError!==void 0&&s.onError(p)},this.resolveURL=function(p){return h?h(p):p},this.setURLModifier=function(p){return h=p,this},this.addHandler=function(p,g){return d.push(p,g),this},this.removeHandler=function(p){const g=d.indexOf(p);return g!==-1&&d.splice(g,2),this},this.getHandler=function(p){for(let g=0,v=d.length;g<v;g+=2){const _=d[g],j=d[g+1];if(_.global&&(_.lastIndex=0),_.test(p))return j}return null}}}const OV=new SR;class $a{constructor(e){this.manager=e!==void 0?e:OV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,i){const r=this;return new Promise(function(s,a){r.load(e,s,i,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}$a.DEFAULT_MATERIAL_NAME="__DEFAULT";const yh={};class jfe extends Error{constructor(e,i){super(e),this.response=i}}class Fh extends $a{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,i,r,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Ac.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{i&&i(a),this.manager.itemEnd(e)},0),a;if(yh[e]!==void 0){yh[e].push({onLoad:i,onProgress:r,onError:s});return}yh[e]=[],yh[e].push({onLoad:i,onProgress:r,onError:s});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,h=this.responseType;fetch(o).then(d=>{if(d.status===200||d.status===0){if(d.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||d.body===void 0||d.body.getReader===void 0)return d;const p=yh[e],g=d.body.getReader(),v=d.headers.get("X-File-Size")||d.headers.get("Content-Length"),_=v?parseInt(v):0,j=_!==0;let T=0;const C=new ReadableStream({start(w){A();function A(){g.read().then(({done:L,value:k})=>{if(L)w.close();else{T+=k.byteLength;const I=new ProgressEvent("progress",{lengthComputable:j,loaded:T,total:_});for(let z=0,U=p.length;z<U;z++){const H=p[z];H.onProgress&&H.onProgress(I)}w.enqueue(k),A()}},L=>{w.error(L)})}}});return new Response(C)}else throw new jfe(`fetch for "${d.url}" responded with ${d.status}: ${d.statusText}`,d)}).then(d=>{switch(h){case"arraybuffer":return d.arrayBuffer();case"blob":return d.blob();case"document":return d.text().then(p=>new DOMParser().parseFromString(p,l));case"json":return d.json();default:if(l==="")return d.text();{const g=/charset="?([^;"\s]*)"?/i.exec(l),v=g&&g[1]?g[1].toLowerCase():void 0,_=new TextDecoder(v);return d.arrayBuffer().then(j=>_.decode(j))}}}).then(d=>{Ac.add(`file:${e}`,d);const p=yh[e];delete yh[e];for(let g=0,v=p.length;g<v;g++){const _=p[g];_.onLoad&&_.onLoad(d)}}).catch(d=>{const p=yh[e];if(p===void 0)throw this.manager.itemError(e),d;delete yh[e];for(let g=0,v=p.length;g<v;g++){const _=p[g];_.onError&&_.onError(d)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Sfe extends $a{constructor(e){super(e)}load(e,i,r,s){const a=this,o=new Fh(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{i(a.parse(JSON.parse(l)))}catch(h){s?s(h):console.error(h),a.manager.itemError(e)}},r,s)}parse(e){const i=[];for(let r=0;r<e.length;r++){const s=ov.parse(e[r]);i.push(s)}return i}}class wfe extends $a{constructor(e){super(e)}load(e,i,r,s){const a=this,o=[],l=new Ow,h=new Fh(this.manager);h.setPath(this.path),h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setWithCredentials(a.withCredentials);let d=0;function p(g){h.load(e[g],function(v){const _=a.parse(v,!0);o[g]={width:_.width,height:_.height,format:_.format,mipmaps:_.mipmaps},d+=1,d===6&&(_.mipmapCount===1&&(l.minFilter=zr),l.image=o,l.format=_.format,l.needsUpdate=!0,i&&i(l))},r,s)}if(Array.isArray(e))for(let g=0,v=e.length;g<v;++g)p(g);else h.load(e,function(g){const v=a.parse(g,!0);if(v.isCubemap){const _=v.mipmaps.length/v.mipmapCount;for(let j=0;j<_;j++){o[j]={mipmaps:[]};for(let T=0;T<v.mipmapCount;T++)o[j].mipmaps.push(v.mipmaps[j*v.mipmapCount+T]),o[j].format=v.format,o[j].width=v.width,o[j].height=v.height}l.image=o}else l.image.width=v.width,l.image.height=v.height,l.mipmaps=v.mipmaps;v.mipmapCount===1&&(l.minFilter=zr),l.format=v.format,l.needsUpdate=!0,i&&i(l)},r,s);return l}}const Bm=new WeakMap;class lv extends $a{constructor(e){super(e)}load(e,i,r,s){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Ac.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)a.manager.itemStart(e),setTimeout(function(){i&&i(o),a.manager.itemEnd(e)},0);else{let g=Bm.get(o);g===void 0&&(g=[],Bm.set(o,g)),g.push({onLoad:i,onError:s})}return o}const l=tv("img");function h(){p(),i&&i(this);const g=Bm.get(this)||[];for(let v=0;v<g.length;v++){const _=g[v];_.onLoad&&_.onLoad(this)}Bm.delete(this),a.manager.itemEnd(e)}function d(g){p(),s&&s(g),Ac.remove(`image:${e}`);const v=Bm.get(this)||[];for(let _=0;_<v.length;_++){const j=v[_];j.onError&&j.onError(g)}Bm.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function p(){l.removeEventListener("load",h,!1),l.removeEventListener("error",d,!1)}return l.addEventListener("load",h,!1),l.addEventListener("error",d,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(l.crossOrigin=this.crossOrigin),Ac.add(`image:${e}`,l),a.manager.itemStart(e),l.src=e,l}}class Tfe extends $a{constructor(e){super(e)}load(e,i,r,s){const a=new Mv;a.colorSpace=Bs;const o=new lv(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let l=0;function h(d){o.load(e[d],function(p){a.images[d]=p,l++,l===6&&(a.needsUpdate=!0,i&&i(a))},void 0,s)}for(let d=0;d<e.length;++d)h(d);return a}}class Cfe extends $a{constructor(e){super(e)}load(e,i,r,s){const a=this,o=new kc,l=new Fh(this.manager);return l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setPath(this.path),l.setWithCredentials(a.withCredentials),l.load(e,function(h){let d;try{d=a.parse(h)}catch(p){if(s!==void 0)s(p);else{console.error(p);return}}d.image!==void 0?o.image=d.image:d.data!==void 0&&(o.image.width=d.width,o.image.height=d.height,o.image.data=d.data),o.wrapS=d.wrapS!==void 0?d.wrapS:Vo,o.wrapT=d.wrapT!==void 0?d.wrapT:Vo,o.magFilter=d.magFilter!==void 0?d.magFilter:zr,o.minFilter=d.minFilter!==void 0?d.minFilter:zr,o.anisotropy=d.anisotropy!==void 0?d.anisotropy:1,d.colorSpace!==void 0&&(o.colorSpace=d.colorSpace),d.flipY!==void 0&&(o.flipY=d.flipY),d.format!==void 0&&(o.format=d.format),d.type!==void 0&&(o.type=d.type),d.mipmaps!==void 0&&(o.mipmaps=d.mipmaps,o.minFilter=Ec),d.mipmapCount===1&&(o.minFilter=zr),d.generateMipmaps!==void 0&&(o.generateMipmaps=d.generateMipmaps),o.needsUpdate=!0,i&&i(o,d)},r,s),o}}class Lf extends $a{constructor(e){super(e)}load(e,i,r,s){const a=new sr,o=new lv(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(l){a.image=l,a.needsUpdate=!0,i!==void 0&&i(a)},r,s),a}}class gd extends ni{constructor(e,i=1){super(),this.isLight=!0,this.type="Light",this.color=new Dt(e),this.intensity=i}dispose(){}copy(e,i){return super.copy(e,i),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const i=super.toJSON(e);return i.object.color=this.color.getHex(),i.object.intensity=this.intensity,this.groundColor!==void 0&&(i.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(i.object.distance=this.distance),this.angle!==void 0&&(i.object.angle=this.angle),this.decay!==void 0&&(i.object.decay=this.decay),this.penumbra!==void 0&&(i.object.penumbra=this.penumbra),this.shadow!==void 0&&(i.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(i.object.target=this.target.uuid),i}}class BV extends gd{constructor(e,i,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(ni.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Dt(i)}copy(e,i){return super.copy(e,i),this.groundColor.copy(e.groundColor),this}}const lC=new dn,$N=new oe,qN=new oe;class wR{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new it(512,512),this.mapType=Xo,this.map=null,this.mapPass=null,this.matrix=new dn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new tx,this._frameExtents=new it(1,1),this._viewportCount=1,this._viewports=[new ti(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const i=this.camera,r=this.matrix;$N.setFromMatrixPosition(e.matrixWorld),i.position.copy($N),qN.setFromMatrixPosition(e.target.matrixWorld),i.lookAt(qN),i.updateMatrixWorld(),lC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lC),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(lC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Mfe extends wR{constructor(){super(new es(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const i=this.camera,r=Ng*2*e.angle*this.focus,s=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||i.far;(r!==i.fov||s!==i.aspect||a!==i.far)&&(i.fov=r,i.aspect=s,i.far=a,i.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class IV extends gd{constructor(e,i,r=0,s=Math.PI/3,a=0,o=2){super(e,i),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(ni.DEFAULT_UP),this.updateMatrix(),this.target=new ni,this.distance=r,this.angle=s,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new Mfe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const WN=new dn,qy=new oe,cC=new oe;class Efe extends wR{constructor(){super(new es(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new it(4,2),this._viewportCount=6,this._viewports=[new ti(2,1,1,1),new ti(0,1,1,1),new ti(3,1,1,1),new ti(1,1,1,1),new ti(3,0,1,1),new ti(1,0,1,1)],this._cubeDirections=[new oe(1,0,0),new oe(-1,0,0),new oe(0,0,1),new oe(0,0,-1),new oe(0,1,0),new oe(0,-1,0)],this._cubeUps=[new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,1,0),new oe(0,0,1),new oe(0,0,-1)]}updateMatrices(e,i=0){const r=this.camera,s=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),qy.setFromMatrixPosition(e.matrixWorld),r.position.copy(qy),cC.copy(r.position),cC.add(this._cubeDirections[i]),r.up.copy(this._cubeUps[i]),r.lookAt(cC),r.updateMatrixWorld(),s.makeTranslation(-qy.x,-qy.y,-qy.z),WN.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(WN)}}class FV extends gd{constructor(e,i,r=0,s=2){super(e,i),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=s,this.shadow=new Efe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,i){return super.copy(e,i),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Nv extends Rw{constructor(e=-1,i=1,r=1,s=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=i,this.top=r,this.bottom=s,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,i){return super.copy(e,i),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,i,r,s,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=i,this.view.offsetX=r,this.view.offsetY=s,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),i=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,s=(this.top+this.bottom)/2;let a=r-e,o=r+e,l=s+i,h=s-i;if(this.view!==null&&this.view.enabled){const d=(this.right-this.left)/this.view.fullWidth/this.zoom,p=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=d*this.view.offsetX,o=a+d*this.view.width,l-=p*this.view.offsetY,h=l-p*this.view.height}this.projectionMatrix.makeOrthographic(a,o,l,h,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const i=super.toJSON(e);return i.object.zoom=this.zoom,i.object.left=this.left,i.object.right=this.right,i.object.top=this.top,i.object.bottom=this.bottom,i.object.near=this.near,i.object.far=this.far,this.view!==null&&(i.object.view=Object.assign({},this.view)),i}}class Afe extends wR{constructor(){super(new Nv(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class UV extends gd{constructor(e,i){super(e,i),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(ni.DEFAULT_UP),this.updateMatrix(),this.target=new ni,this.shadow=new Afe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class zV extends gd{constructor(e,i){super(e,i),this.isAmbientLight=!0,this.type="AmbientLight"}}class HV extends gd{constructor(e,i,r=10,s=10){super(e,i),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=s}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const i=super.toJSON(e);return i.object.width=this.width,i.object.height=this.height,i}}class VV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new oe)}set(e){for(let i=0;i<9;i++)this.coefficients[i].copy(e[i]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,i){const r=e.x,s=e.y,a=e.z,o=this.coefficients;return i.copy(o[0]).multiplyScalar(.282095),i.addScaledVector(o[1],.488603*s),i.addScaledVector(o[2],.488603*a),i.addScaledVector(o[3],.488603*r),i.addScaledVector(o[4],1.092548*(r*s)),i.addScaledVector(o[5],1.092548*(s*a)),i.addScaledVector(o[6],.315392*(3*a*a-1)),i.addScaledVector(o[7],1.092548*(r*a)),i.addScaledVector(o[8],.546274*(r*r-s*s)),i}getIrradianceAt(e,i){const r=e.x,s=e.y,a=e.z,o=this.coefficients;return i.copy(o[0]).multiplyScalar(.886227),i.addScaledVector(o[1],2*.511664*s),i.addScaledVector(o[2],2*.511664*a),i.addScaledVector(o[3],2*.511664*r),i.addScaledVector(o[4],2*.429043*r*s),i.addScaledVector(o[5],2*.429043*s*a),i.addScaledVector(o[6],.743125*a*a-.247708),i.addScaledVector(o[7],2*.429043*r*a),i.addScaledVector(o[8],.429043*(r*r-s*s)),i}add(e){for(let i=0;i<9;i++)this.coefficients[i].add(e.coefficients[i]);return this}addScaledSH(e,i){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],i);return this}scale(e){for(let i=0;i<9;i++)this.coefficients[i].multiplyScalar(e);return this}lerp(e,i){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],i);return this}equals(e){for(let i=0;i<9;i++)if(!this.coefficients[i].equals(e.coefficients[i]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,i=0){const r=this.coefficients;for(let s=0;s<9;s++)r[s].fromArray(e,i+s*3);return this}toArray(e=[],i=0){const r=this.coefficients;for(let s=0;s<9;s++)r[s].toArray(e,i+s*3);return e}static getBasisAt(e,i){const r=e.x,s=e.y,a=e.z;i[0]=.282095,i[1]=.488603*s,i[2]=.488603*a,i[3]=.488603*r,i[4]=1.092548*r*s,i[5]=1.092548*s*a,i[6]=.315392*(3*a*a-1),i[7]=1.092548*r*a,i[8]=.546274*(r*r-s*s)}}class GV extends gd{constructor(e=new VV,i=1){super(void 0,i),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const i=super.toJSON(e);return i.object.sh=this.sh.toArray(),i}}class Kw extends $a{constructor(e){super(e),this.textures={}}load(e,i,r,s){const a=this,o=new Fh(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{i(a.parse(JSON.parse(l)))}catch(h){s?s(h):console.error(h),a.manager.itemError(e)}},r,s)}parse(e){const i=this.textures;function r(a){return i[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),i[a]}const s=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(s.uuid=e.uuid),e.name!==void 0&&(s.name=e.name),e.color!==void 0&&s.color!==void 0&&s.color.setHex(e.color),e.roughness!==void 0&&(s.roughness=e.roughness),e.metalness!==void 0&&(s.metalness=e.metalness),e.sheen!==void 0&&(s.sheen=e.sheen),e.sheenColor!==void 0&&(s.sheenColor=new Dt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(s.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&s.emissive!==void 0&&s.emissive.setHex(e.emissive),e.specular!==void 0&&s.specular!==void 0&&s.specular.setHex(e.specular),e.specularIntensity!==void 0&&(s.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&s.specularColor!==void 0&&s.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(s.shininess=e.shininess),e.clearcoat!==void 0&&(s.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(s.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(s.dispersion=e.dispersion),e.iridescence!==void 0&&(s.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(s.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(s.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(s.transmission=e.transmission),e.thickness!==void 0&&(s.thickness=e.thickness),e.attenuationDistance!==void 0&&(s.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&s.attenuationColor!==void 0&&s.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(s.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(s.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(s.fog=e.fog),e.flatShading!==void 0&&(s.flatShading=e.flatShading),e.blending!==void 0&&(s.blending=e.blending),e.combine!==void 0&&(s.combine=e.combine),e.side!==void 0&&(s.side=e.side),e.shadowSide!==void 0&&(s.shadowSide=e.shadowSide),e.opacity!==void 0&&(s.opacity=e.opacity),e.transparent!==void 0&&(s.transparent=e.transparent),e.alphaTest!==void 0&&(s.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(s.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(s.depthFunc=e.depthFunc),e.depthTest!==void 0&&(s.depthTest=e.depthTest),e.depthWrite!==void 0&&(s.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(s.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(s.blendSrc=e.blendSrc),e.blendDst!==void 0&&(s.blendDst=e.blendDst),e.blendEquation!==void 0&&(s.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(s.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(s.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(s.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&s.blendColor!==void 0&&s.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(s.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(s.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(s.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(s.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(s.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(s.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(s.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(s.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(s.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(s.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(s.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(s.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(s.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(s.rotation=e.rotation),e.linewidth!==void 0&&(s.linewidth=e.linewidth),e.dashSize!==void 0&&(s.dashSize=e.dashSize),e.gapSize!==void 0&&(s.gapSize=e.gapSize),e.scale!==void 0&&(s.scale=e.scale),e.polygonOffset!==void 0&&(s.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(s.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(s.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(s.dithering=e.dithering),e.alphaToCoverage!==void 0&&(s.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(s.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(s.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(s.visible=e.visible),e.toneMapped!==void 0&&(s.toneMapped=e.toneMapped),e.userData!==void 0&&(s.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?s.vertexColors=e.vertexColors>0:s.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(s.uniforms[a]={},o.type){case"t":s.uniforms[a].value=r(o.value);break;case"c":s.uniforms[a].value=new Dt().setHex(o.value);break;case"v2":s.uniforms[a].value=new it().fromArray(o.value);break;case"v3":s.uniforms[a].value=new oe().fromArray(o.value);break;case"v4":s.uniforms[a].value=new ti().fromArray(o.value);break;case"m3":s.uniforms[a].value=new wn().fromArray(o.value);break;case"m4":s.uniforms[a].value=new dn().fromArray(o.value);break;default:s.uniforms[a].value=o.value}}if(e.defines!==void 0&&(s.defines=e.defines),e.vertexShader!==void 0&&(s.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(s.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(s.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)s.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(s.lights=e.lights),e.clipping!==void 0&&(s.clipping=e.clipping),e.size!==void 0&&(s.size=e.size),e.sizeAttenuation!==void 0&&(s.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(s.map=r(e.map)),e.matcap!==void 0&&(s.matcap=r(e.matcap)),e.alphaMap!==void 0&&(s.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(s.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(s.bumpScale=e.bumpScale),e.normalMap!==void 0&&(s.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(s.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),s.normalScale=new it().fromArray(a)}return e.displacementMap!==void 0&&(s.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(s.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(s.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(s.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(s.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(s.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(s.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(s.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(s.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(s.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(s.envMap=r(e.envMap)),e.envMapRotation!==void 0&&s.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(s.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(s.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(s.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(s.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(s.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(s.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(s.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(s.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(s.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(s.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(s.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(s.clearcoatNormalScale=new it().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(s.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(s.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(s.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(s.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(s.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(s.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(s.sheenRoughnessMap=r(e.sheenRoughnessMap)),s}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return Kw.createMaterialFromType(e)}static createMaterialFromType(e){const i={ShadowMaterial:jV,SpriteMaterial:oR,RawShaderMaterial:SV,ShaderMaterial:Ll,PointsMaterial:cR,MeshPhysicalMaterial:wV,MeshStandardMaterial:xR,MeshPhongMaterial:TV,MeshToonMaterial:CV,MeshNormalMaterial:MV,MeshLambertMaterial:EV,MeshDepthMaterial:yR,MeshDistanceMaterial:vR,MeshBasicMaterial:pd,MeshMatcapMaterial:AV,LineDashedMaterial:RV,LineBasicMaterial:ya,Material:Gs};return new i[e]}}class fE{static extractUrlBase(e){const i=e.lastIndexOf("/");return i===-1?"./":e.slice(0,i+1)}static resolveURL(e,i){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(i)&&/^\//.test(e)&&(i=i.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:i+e)}}class $V extends An{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qV extends $a{constructor(e){super(e)}load(e,i,r,s){const a=this,o=new Fh(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(l){try{i(a.parse(JSON.parse(l)))}catch(h){s?s(h):console.error(h),a.manager.itemError(e)}},r,s)}parse(e){const i={},r={};function s(_,j){if(i[j]!==void 0)return i[j];const C=_.interleavedBuffers[j],w=a(_,C.buffer),A=Xm(C.type,w),L=new kw(A,C.stride);return L.uuid=C.uuid,i[j]=L,L}function a(_,j){if(r[j]!==void 0)return r[j];const C=_.arrayBuffers[j],w=new Uint32Array(C).buffer;return r[j]=w,w}const o=e.isInstancedBufferGeometry?new $V:new An,l=e.data.index;if(l!==void 0){const _=Xm(l.type,l.array);o.setIndex(new Mi(_,1))}const h=e.data.attributes;for(const _ in h){const j=h[_];let T;if(j.isInterleavedBufferAttribute){const C=s(e.data,j.data);T=new rp(C,j.itemSize,j.offset,j.normalized)}else{const C=Xm(j.type,j.array),w=j.isInstancedBufferAttribute?Bg:Mi;T=new w(C,j.itemSize,j.normalized)}j.name!==void 0&&(T.name=j.name),j.usage!==void 0&&T.setUsage(j.usage),o.setAttribute(_,T)}const d=e.data.morphAttributes;if(d)for(const _ in d){const j=d[_],T=[];for(let C=0,w=j.length;C<w;C++){const A=j[C];let L;if(A.isInterleavedBufferAttribute){const k=s(e.data,A.data);L=new rp(k,A.itemSize,A.offset,A.normalized)}else{const k=Xm(A.type,A.array);L=new Mi(k,A.itemSize,A.normalized)}A.name!==void 0&&(L.name=A.name),T.push(L)}o.morphAttributes[_]=T}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const g=e.data.groups||e.data.drawcalls||e.data.offsets;if(g!==void 0)for(let _=0,j=g.length;_!==j;++_){const T=g[_];o.addGroup(T.start,T.count,T.materialIndex)}const v=e.data.boundingSphere;return v!==void 0&&(o.boundingSphere=new ys().fromJSON(v)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Rfe extends $a{constructor(e){super(e)}load(e,i,r,s){const a=this,o=this.path===""?fE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const l=new Fh(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(h){let d=null;try{d=JSON.parse(h)}catch(g){s!==void 0&&s(g),console.error("THREE:ObjectLoader: Can't parse "+e+".",g.message);return}const p=d.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry"){s!==void 0&&s(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(d,i)},r,s)}async loadAsync(e,i){const r=this,s=this.path===""?fE.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||s;const a=new Fh(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,i),l=JSON.parse(o),h=l.metadata;if(h===void 0||h.type===void 0||h.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(l)}parse(e,i){const r=this.parseAnimations(e.animations),s=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,s),o=this.parseImages(e.images,function(){i!==void 0&&i(d)}),l=this.parseTextures(e.textures,o),h=this.parseMaterials(e.materials,l),d=this.parseObject(e.object,a,h,l,r),p=this.parseSkeletons(e.skeletons,d);if(this.bindSkeletons(d,p),this.bindLightTargets(d),i!==void 0){let g=!1;for(const v in o)if(o[v].data instanceof HTMLImageElement){g=!0;break}g===!1&&i(d)}return d}async parseAsync(e){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),h=this.parseObject(e.object,s,l,o,i),d=this.parseSkeletons(e.skeletons,h);return this.bindSkeletons(h,d),this.bindLightTargets(h),h}parseShapes(e){const i={};if(e!==void 0)for(let r=0,s=e.length;r<s;r++){const a=new Yf().fromJSON(e[r]);i[a.uuid]=a}return i}parseSkeletons(e,i){const r={},s={};if(i.traverse(function(a){a.isBone&&(s[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const l=new Nw().fromJSON(e[a],s);r[l.uuid]=l}return r}parseGeometries(e,i){const r={};if(e!==void 0){const s=new qV;for(let a=0,o=e.length;a<o;a++){let l;const h=e[a];switch(h.type){case"BufferGeometry":case"InstancedBufferGeometry":l=s.parse(h);break;default:h.type in GN?l=GN[h.type].fromJSON(h,i):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${h.type}"`)}l.uuid=h.uuid,h.name!==void 0&&(l.name=h.name),h.userData!==void 0&&(l.userData=h.userData),r[h.uuid]=l}}return r}parseMaterials(e,i){const r={},s={};if(e!==void 0){const a=new Kw;a.setTextures(i);for(let o=0,l=e.length;o<l;o++){const h=e[o];r[h.uuid]===void 0&&(r[h.uuid]=a.parse(h)),s[h.uuid]=r[h.uuid]}}return s}parseAnimations(e){const i={};if(e!==void 0)for(let r=0;r<e.length;r++){const s=e[r],a=ov.parse(s);i[a.uuid]=a}return i}parseImages(e,i){const r=this,s={};let a;function o(h){return r.manager.itemStart(h),a.load(h,function(){r.manager.itemEnd(h)},void 0,function(){r.manager.itemError(h),r.manager.itemEnd(h)})}function l(h){if(typeof h=="string"){const d=h,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(d)?d:r.resourcePath+d;return o(p)}else return h.data?{data:Xm(h.type,h.data),width:h.width,height:h.height}:null}if(e!==void 0&&e.length>0){const h=new SR(i);a=new lv(h),a.setCrossOrigin(this.crossOrigin);for(let d=0,p=e.length;d<p;d++){const g=e[d],v=g.url;if(Array.isArray(v)){const _=[];for(let j=0,T=v.length;j<T;j++){const C=v[j],w=l(C);w!==null&&(w instanceof HTMLImageElement?_.push(w):_.push(new kc(w.data,w.width,w.height)))}s[g.uuid]=new Ju(_)}else{const _=l(g.url);s[g.uuid]=new Ju(_)}}}return s}async parseImagesAsync(e){const i=this,r={};let s;async function a(o){if(typeof o=="string"){const l=o,h=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l)?l:i.resourcePath+l;return await s.loadAsync(h)}else return o.data?{data:Xm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){s=new lv(this.manager),s.setCrossOrigin(this.crossOrigin);for(let o=0,l=e.length;o<l;o++){const h=e[o],d=h.url;if(Array.isArray(d)){const p=[];for(let g=0,v=d.length;g<v;g++){const _=d[g],j=await a(_);j!==null&&(j instanceof HTMLImageElement?p.push(j):p.push(new kc(j.data,j.width,j.height)))}r[h.uuid]=new Ju(p)}else{const p=await a(h.url);r[h.uuid]=new Ju(p)}}}return r}parseTextures(e,i){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const s={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const l=e[a];l.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid),i[l.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",l.image);const h=i[l.image],d=h.data;let p;Array.isArray(d)?(p=new Mv,d.length===6&&(p.needsUpdate=!0)):(d&&d.data?p=new kc:p=new sr,d&&(p.needsUpdate=!0)),p.source=h,p.uuid=l.uuid,l.name!==void 0&&(p.name=l.name),l.mapping!==void 0&&(p.mapping=r(l.mapping,Lfe)),l.channel!==void 0&&(p.channel=l.channel),l.offset!==void 0&&p.offset.fromArray(l.offset),l.repeat!==void 0&&p.repeat.fromArray(l.repeat),l.center!==void 0&&p.center.fromArray(l.center),l.rotation!==void 0&&(p.rotation=l.rotation),l.wrap!==void 0&&(p.wrapS=r(l.wrap[0],XN),p.wrapT=r(l.wrap[1],XN)),l.format!==void 0&&(p.format=l.format),l.internalFormat!==void 0&&(p.internalFormat=l.internalFormat),l.type!==void 0&&(p.type=l.type),l.colorSpace!==void 0&&(p.colorSpace=l.colorSpace),l.minFilter!==void 0&&(p.minFilter=r(l.minFilter,YN)),l.magFilter!==void 0&&(p.magFilter=r(l.magFilter,YN)),l.anisotropy!==void 0&&(p.anisotropy=l.anisotropy),l.flipY!==void 0&&(p.flipY=l.flipY),l.generateMipmaps!==void 0&&(p.generateMipmaps=l.generateMipmaps),l.premultiplyAlpha!==void 0&&(p.premultiplyAlpha=l.premultiplyAlpha),l.unpackAlignment!==void 0&&(p.unpackAlignment=l.unpackAlignment),l.compareFunction!==void 0&&(p.compareFunction=l.compareFunction),l.userData!==void 0&&(p.userData=l.userData),s[l.uuid]=p}return s}parseObject(e,i,r,s,a){let o;function l(v){return i[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",v),i[v]}function h(v){if(v!==void 0){if(Array.isArray(v)){const _=[];for(let j=0,T=v.length;j<T;j++){const C=v[j];r[C]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",C),_.push(r[C])}return _}return r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),r[v]}}function d(v){return s[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",v),s[v]}let p,g;switch(e.type){case"Scene":o=new aR,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Dt(e.background):o.background=d(e.background)),e.environment!==void 0&&(o.environment=d(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Dw(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Lw(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new es(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Nv(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new zV(e.color,e.intensity);break;case"DirectionalLight":o=new UV(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new FV(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new HV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new IV(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new BV(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new GV().fromJSON(e);break;case"SkinnedMesh":p=l(e.geometry),g=h(e.material),o=new sV(p,g),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":p=l(e.geometry),g=h(e.material),o=new Mr(p,g);break;case"InstancedMesh":p=l(e.geometry),g=h(e.material);const v=e.count,_=e.instanceMatrix,j=e.instanceColor;o=new aV(p,g,v),o.instanceMatrix=new Bg(new Float32Array(_.array),16),j!==void 0&&(o.instanceColor=new Bg(new Float32Array(j.array),j.itemSize));break;case"BatchedMesh":p=l(e.geometry),g=h(e.material),o=new oV(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,g),o.geometry=p,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(T=>{let C=null,w=null;return T.boundingBox!==void 0&&(C=new Hs().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(w=new ys().fromJSON(T.boundingSphere)),{...T,boundingBox:C,boundingSphere:w}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=d(e.matricesTexture.uuid),o._indirectTexture=d(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=d(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new ys().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Hs().fromJSON(e.boundingBox));break;case"LOD":o=new rV;break;case"Line":o=new cd(l(e.geometry),h(e.material));break;case"LineLoop":o=new lV(l(e.geometry),h(e.material));break;case"LineSegments":o=new Uc(l(e.geometry),h(e.material));break;case"PointCloud":case"Points":o=new cV(l(e.geometry),h(e.material));break;case"Sprite":o=new iV(h(e.material));break;case"Group":o=new Ym;break;case"Bone":o=new lR;break;default:o=new ni}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const v=e.children;for(let _=0;_<v.length;_++)o.add(this.parseObject(v[_],i,r,s,a))}if(e.animations!==void 0){const v=e.animations;for(let _=0;_<v.length;_++){const j=v[_];o.animations.push(a[j])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const v=e.levels;for(let _=0;_<v.length;_++){const j=v[_],T=o.getObjectByProperty("uuid",j.object);T!==void 0&&o.addLevel(T,j.distance,j.hysteresis)}}return o}bindSkeletons(e,i){Object.keys(i).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const s=i[r.skeleton];s===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(s,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(i){if(i.isDirectionalLight||i.isSpotLight){const r=i.target,s=e.getObjectByProperty("uuid",r);s!==void 0?i.target=s:i.target=new ni}})}}const Lfe={UVMapping:_w,CubeReflectionMapping:Bh,CubeRefractionMapping:od,EquirectangularReflectionMapping:q0,EquirectangularRefractionMapping:W0,CubeUVReflectionMapping:Qg},XN={RepeatWrapping:X0,ClampToEdgeWrapping:Vo,MirroredRepeatWrapping:Y0},YN={NearestFilter:xs,NearestMipmapNearestFilter:qA,NearestMipmapLinearFilter:Wm,LinearFilter:zr,LinearMipmapNearestFilter:g0,LinearMipmapLinearFilter:Ec},hC=new WeakMap;class Dfe extends $a{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,i,r,s){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=Ac.get(`image-bitmap:${e}`);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(d=>{if(hC.has(o)===!0)s&&s(hC.get(o)),a.manager.itemError(e),a.manager.itemEnd(e);else return i&&i(d),a.manager.itemEnd(e),d});return}return setTimeout(function(){i&&i(o),a.manager.itemEnd(e)},0),o}const l={};l.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",l.headers=this.requestHeader;const h=fetch(e,l).then(function(d){return d.blob()}).then(function(d){return createImageBitmap(d,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(d){return Ac.add(`image-bitmap:${e}`,d),i&&i(d),a.manager.itemEnd(e),d}).catch(function(d){s&&s(d),hC.set(h,d),Ac.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});Ac.add(`image-bitmap:${e}`,h),a.manager.itemStart(e)}}let lj,TR=class{static getContext(){return lj===void 0&&(lj=new(window.AudioContext||window.webkitAudioContext)),lj}static setContext(e){lj=e}};class kfe extends $a{constructor(e){super(e)}load(e,i,r,s){const a=this,o=new Fh(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(h){try{const d=h.slice(0);TR.getContext().decodeAudioData(d,function(g){i(g)}).catch(l)}catch(d){l(d)}},r,s);function l(h){s?s(h):console.error(h),a.manager.itemError(e)}}}const KN=new dn,ZN=new dn,xf=new dn;class Nfe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new es,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new es,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const i=this._cache;if(i.focus!==e.focus||i.fov!==e.fov||i.aspect!==e.aspect*this.aspect||i.near!==e.near||i.far!==e.far||i.zoom!==e.zoom||i.eyeSep!==this.eyeSep){i.focus=e.focus,i.fov=e.fov,i.aspect=e.aspect*this.aspect,i.near=e.near,i.far=e.far,i.zoom=e.zoom,i.eyeSep=this.eyeSep,xf.copy(e.projectionMatrix);const s=i.eyeSep/2,a=s*i.near/i.focus,o=i.near*Math.tan(Xf*i.fov*.5)/i.zoom;let l,h;ZN.elements[12]=-s,KN.elements[12]=s,l=-o*i.aspect+a,h=o*i.aspect+a,xf.elements[0]=2*i.near/(h-l),xf.elements[8]=(h+l)/(h-l),this.cameraL.projectionMatrix.copy(xf),l=-o*i.aspect-a,h=o*i.aspect-a,xf.elements[0]=2*i.near/(h-l),xf.elements[8]=(h+l)/(h-l),this.cameraR.projectionMatrix.copy(xf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(ZN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(KN)}}class WV extends es{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class CR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const i=performance.now();e=(i-this.oldTime)/1e3,this.oldTime=i,this.elapsedTime+=e}return e}}const yf=new oe,uC=new Va,Pfe=new oe,vf=new oe,_f=new oe;class Ofe extends ni{constructor(){super(),this.type="AudioListener",this.context=TR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new CR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const i=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yf,uC,Pfe),vf.set(0,0,-1).applyQuaternion(uC),_f.set(0,1,0).applyQuaternion(uC),i.positionX){const r=this.context.currentTime+this.timeDelta;i.positionX.linearRampToValueAtTime(yf.x,r),i.positionY.linearRampToValueAtTime(yf.y,r),i.positionZ.linearRampToValueAtTime(yf.z,r),i.forwardX.linearRampToValueAtTime(vf.x,r),i.forwardY.linearRampToValueAtTime(vf.y,r),i.forwardZ.linearRampToValueAtTime(vf.z,r),i.upX.linearRampToValueAtTime(_f.x,r),i.upY.linearRampToValueAtTime(_f.y,r),i.upZ.linearRampToValueAtTime(_f.z,r)}else i.setPosition(yf.x,yf.y,yf.z),i.setOrientation(vf.x,vf.y,vf.z,_f.x,_f.y,_f.z)}}class XV extends ni{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const i=this.context.createBufferSource();return i.buffer=this.buffer,i.loop=this.loop,i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.onended=this.onEnded.bind(this),i.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=i,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,i=this.filters.length;e<i;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,i=this.filters.length;e<i;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,i){return super.copy(e,i),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const bf=new oe,QN=new Va,Bfe=new oe,jf=new oe;class Ife extends XV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,i,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=i,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(bf,QN,Bfe),jf.set(0,0,1).applyQuaternion(QN);const i=this.panner;if(i.positionX){const r=this.context.currentTime+this.listener.timeDelta;i.positionX.linearRampToValueAtTime(bf.x,r),i.positionY.linearRampToValueAtTime(bf.y,r),i.positionZ.linearRampToValueAtTime(bf.z,r),i.orientationX.linearRampToValueAtTime(jf.x,r),i.orientationY.linearRampToValueAtTime(jf.y,r),i.orientationZ.linearRampToValueAtTime(jf.z,r)}else i.setPosition(bf.x,bf.y,bf.z),i.setOrientation(jf.x,jf.y,jf.z)}}class Ffe{constructor(e,i=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=i,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const i=this.getFrequencyData();for(let r=0;r<i.length;r++)e+=i[r];return e/i.length}}class YV{constructor(e,i,r){this.binding=e,this.valueSize=r;let s,a,o;switch(i){case"quaternion":s=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":s=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:s=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=s,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,i){const r=this.buffer,s=this.valueSize,a=e*s+s;let o=this.cumulativeWeight;if(o===0){for(let l=0;l!==s;++l)r[a+l]=r[l];o=i}else{o+=i;const l=i/o;this._mixBufferRegion(r,a,0,l,s)}this.cumulativeWeight=o}accumulateAdditive(e){const i=this.buffer,r=this.valueSize,s=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(i,s,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const i=this.valueSize,r=this.buffer,s=e*i+i,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const h=i*this._origIndex;this._mixBufferRegion(r,s,h,1-a,i)}o>0&&this._mixBufferRegionAdditive(r,s,this._addIndex*i,1,i);for(let h=i,d=i+i;h!==d;++h)if(r[h]!==r[h+i]){l.setValue(r,s);break}}saveOriginalState(){const e=this.binding,i=this.buffer,r=this.valueSize,s=r*this._origIndex;e.getValue(i,s);for(let a=r,o=s;a!==o;++a)i[a]=i[s+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,i=e+this.valueSize;for(let r=e;r<i;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,i=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[i+r]=this.buffer[e+r]}_select(e,i,r,s,a){if(s>=.5)for(let o=0;o!==a;++o)e[i+o]=e[r+o]}_slerp(e,i,r,s){Va.slerpFlat(e,i,e,i,e,r,s)}_slerpAdditive(e,i,r,s,a){const o=this._workIndex*a;Va.multiplyQuaternionsFlat(e,o,e,i,e,r),Va.slerpFlat(e,i,e,i,e,o,s)}_lerp(e,i,r,s,a){const o=1-s;for(let l=0;l!==a;++l){const h=i+l;e[h]=e[h]*o+e[r+l]*s}}_lerpAdditive(e,i,r,s,a){for(let o=0;o!==a;++o){const l=i+o;e[l]=e[l]+e[r+o]*s}}}const MR="\\[\\]\\.:\\/",Ufe=new RegExp("["+MR+"]","g"),ER="[^"+MR+"]",zfe="[^"+MR.replace("\\.","")+"]",Hfe=/((?:WC+[\/:])*)/.source.replace("WC",ER),Vfe=/(WCOD+)?/.source.replace("WCOD",zfe),Gfe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",ER),$fe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",ER),qfe=new RegExp("^"+Hfe+Vfe+Gfe+$fe+"$"),Wfe=["material","materials","bones","map"];class Xfe{constructor(e,i,r){const s=r||ei.parseTrackName(i);this._targetGroup=e,this._bindings=e.subscribe_(i,s)}getValue(e,i){this.bind();const r=this._targetGroup.nCachedObjects_,s=this._bindings[r];s!==void 0&&s.getValue(e,i)}setValue(e,i){const r=this._bindings;for(let s=this._targetGroup.nCachedObjects_,a=r.length;s!==a;++s)r[s].setValue(e,i)}bind(){const e=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=e.length;i!==r;++i)e[i].bind()}unbind(){const e=this._bindings;for(let i=this._targetGroup.nCachedObjects_,r=e.length;i!==r;++i)e[i].unbind()}}class ei{constructor(e,i,r){this.path=i,this.parsedPath=r||ei.parseTrackName(i),this.node=ei.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,i,r){return e&&e.isAnimationObjectGroup?new ei.Composite(e,i,r):new ei(e,i,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ufe,"")}static parseTrackName(e){const i=qfe.exec(e);if(i===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(s!==void 0&&s!==-1){const a=r.nodeName.substring(s+1);Wfe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,i){if(i===void 0||i===""||i==="."||i===-1||i===e.name||i===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(i);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const l=a[o];if(l.name===i||l.uuid===i)return l;const h=r(l.children);if(h)return h}return null},s=r(e.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,i){e[i]=this.targetObject[this.propertyName]}_getValue_array(e,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)e[i++]=r[s]}_getValue_arrayElement(e,i){e[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,i){this.resolvedProperty.toArray(e,i)}_setValue_direct(e,i){this.targetObject[this.propertyName]=e[i]}_setValue_direct_setNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,i){this.targetObject[this.propertyName]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[i++]}_setValue_array_setNeedsUpdate(e,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,i){const r=this.resolvedProperty;for(let s=0,a=r.length;s!==a;++s)r[s]=e[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,i){this.resolvedProperty[this.propertyIndex]=e[i]}_setValue_arrayElement_setNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty[this.propertyIndex]=e[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,i){this.resolvedProperty.fromArray(e,i)}_setValue_fromArray_setNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,i){this.resolvedProperty.fromArray(e,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,i){this.bind(),this.getValue(e,i)}_setValue_unbound(e,i){this.bind(),this.setValue(e,i)}bind(){let e=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let a=i.propertyIndex;if(e||(e=ei.findNode(this.rootNode,i.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let d=i.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let p=0;p<e.length;p++)if(e[p].name===d){d=p;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(d!==void 0){if(e[d]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[d]}}const o=e[s];if(o===void 0){const d=i.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+d+"."+s+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?l=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let h=this.BindingType.Direct;if(a!==void 0){if(s==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}h=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(h=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(h=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=s;this.getValue=this.GetterByBindingType[h],this.setValue=this.SetterByBindingTypeAndVersioning[h][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}ei.Composite=Xfe;ei.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};ei.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};ei.prototype.GetterByBindingType=[ei.prototype._getValue_direct,ei.prototype._getValue_array,ei.prototype._getValue_arrayElement,ei.prototype._getValue_toArray];ei.prototype.SetterByBindingTypeAndVersioning=[[ei.prototype._setValue_direct,ei.prototype._setValue_direct_setNeedsUpdate,ei.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[ei.prototype._setValue_array,ei.prototype._setValue_array_setNeedsUpdate,ei.prototype._setValue_array_setMatrixWorldNeedsUpdate],[ei.prototype._setValue_arrayElement,ei.prototype._setValue_arrayElement_setNeedsUpdate,ei.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[ei.prototype._setValue_fromArray,ei.prototype._setValue_fromArray_setNeedsUpdate,ei.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Yfe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ho(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,s=arguments.length;r!==s;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}add(){const e=this._objects,i=this._indicesByUUID,r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length;let l,h=e.length,d=this.nCachedObjects_;for(let p=0,g=arguments.length;p!==g;++p){const v=arguments[p],_=v.uuid;let j=i[_];if(j===void 0){j=h++,i[_]=j,e.push(v);for(let T=0,C=o;T!==C;++T)a[T].push(new ei(v,r[T],s[T]))}else if(j<d){l=e[j];const T=--d,C=e[T];i[C.uuid]=j,e[j]=C,i[_]=T,e[T]=v;for(let w=0,A=o;w!==A;++w){const L=a[w],k=L[T];let I=L[j];L[j]=k,I===void 0&&(I=new ei(v,r[w],s[w])),L[T]=I}}else e[j]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=d}remove(){const e=this._objects,i=this._indicesByUUID,r=this._bindings,s=r.length;let a=this.nCachedObjects_;for(let o=0,l=arguments.length;o!==l;++o){const h=arguments[o],d=h.uuid,p=i[d];if(p!==void 0&&p>=a){const g=a++,v=e[g];i[v.uuid]=p,e[p]=v,i[d]=g,e[g]=h;for(let _=0,j=s;_!==j;++_){const T=r[_],C=T[g],w=T[p];T[p]=C,T[g]=w}}}this.nCachedObjects_=a}uncache(){const e=this._objects,i=this._indicesByUUID,r=this._bindings,s=r.length;let a=this.nCachedObjects_,o=e.length;for(let l=0,h=arguments.length;l!==h;++l){const d=arguments[l],p=d.uuid,g=i[p];if(g!==void 0)if(delete i[p],g<a){const v=--a,_=e[v],j=--o,T=e[j];i[_.uuid]=g,e[g]=_,i[T.uuid]=v,e[v]=T,e.pop();for(let C=0,w=s;C!==w;++C){const A=r[C],L=A[v],k=A[j];A[g]=L,A[v]=k,A.pop()}}else{const v=--o,_=e[v];v>0&&(i[_.uuid]=g),e[g]=_,e.pop();for(let j=0,T=s;j!==T;++j){const C=r[j];C[g]=C[v],C.pop()}}}this.nCachedObjects_=a}subscribe_(e,i){const r=this._bindingsIndicesByPath;let s=r[e];const a=this._bindings;if(s!==void 0)return a[s];const o=this._paths,l=this._parsedPaths,h=this._objects,d=h.length,p=this.nCachedObjects_,g=new Array(d);s=a.length,r[e]=s,o.push(e),l.push(i),a.push(g);for(let v=p,_=h.length;v!==_;++v){const j=h[v];g[v]=new ei(j,e,i)}return g}unsubscribe_(e){const i=this._bindingsIndicesByPath,r=i[e];if(r!==void 0){const s=this._paths,a=this._parsedPaths,o=this._bindings,l=o.length-1,h=o[l],d=e[l];i[d]=r,o[r]=h,o.pop(),a[r]=a[l],a.pop(),s[r]=s[l],s.pop()}}}class KV{constructor(e,i,r=null,s=i.blendMode){this._mixer=e,this._clip=i,this._localRoot=r,this.blendMode=s;const a=i.tracks,o=a.length,l=new Array(o),h={endingStart:Uf,endingEnd:Uf};for(let d=0;d!==o;++d){const p=a[d].createInterpolant(null);l[d]=p,p.settings=h}this._interpolantSettings=h,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=O6,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,i){return this.loop=e,this.repetitions=i,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,i,r=!1){if(e.fadeOut(i),this.fadeIn(i),r===!0){const s=this._clip.duration,a=e._clip.duration,o=a/s,l=s/a;e.warp(1,o,i),this.warp(l,1,i)}return this}crossFadeTo(e,i,r=!1){return e.crossFadeFrom(this,i,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,i,r){const s=this._mixer,a=s.time,o=this.timeScale;let l=this._timeScaleInterpolant;l===null&&(l=s._lendControlInterpolant(),this._timeScaleInterpolant=l);const h=l.parameterPositions,d=l.sampleValues;return h[0]=a,h[1]=a+r,d[0]=e/o,d[1]=i/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,i,r,s){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const h=(e-a)*r;h<0||r===0?i=0:(this._startTime=null,i=r*h)}i*=this._updateTimeScale(e);const o=this._updateTime(i),l=this._updateWeight(e);if(l>0){const h=this._interpolants,d=this._propertyBindings;switch(this.blendMode){case eR:for(let p=0,g=h.length;p!==g;++p)h[p].evaluate(o),d[p].accumulateAdditive(l);break;case Mw:default:for(let p=0,g=h.length;p!==g;++p)h[p].evaluate(o),d[p].accumulate(s,l)}}}_updateWeight(e){let i=0;if(this.enabled){i=this.weight;const r=this._weightInterpolant;if(r!==null){const s=r.evaluate(e)[0];i*=s,e>r.parameterPositions[1]&&(this.stopFading(),s===0&&(this.enabled=!1))}}return this._effectiveWeight=i,i}_updateTimeScale(e){let i=0;if(!this.paused){i=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const s=r.evaluate(e)[0];i*=s,e>r.parameterPositions[1]&&(this.stopWarping(),i===0?this.paused=!0:this.timeScale=i)}}return this._effectiveTimeScale=i,i}_updateTime(e){const i=this._clip.duration,r=this.loop;let s=this.time+e,a=this._loopCount;const o=r===B6;if(e===0)return a===-1?s:o&&(a&1)===1?i-s:s;if(r===P6){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(s>=i)s=i;else if(s<0)s=0;else{this.time=s;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),s>=i||s<0){const l=Math.floor(s/i);s-=i*l,a+=Math.abs(l);const h=this.repetitions-a;if(h<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,s=e>0?i:0,this.time=s,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(h===1){const d=e<0;this._setEndings(d,!d,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=s,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=s;if(o&&(a&1)===1)return i-s}return s}_setEndings(e,i,r){const s=this._interpolantSettings;r?(s.endingStart=zf,s.endingEnd=zf):(e?s.endingStart=this.zeroSlopeAtStart?zf:Uf:s.endingStart=Z0,i?s.endingEnd=this.zeroSlopeAtEnd?zf:Uf:s.endingEnd=Z0)}_scheduleFading(e,i,r){const s=this._mixer,a=s.time;let o=this._weightInterpolant;o===null&&(o=s._lendControlInterpolant(),this._weightInterpolant=o);const l=o.parameterPositions,h=o.sampleValues;return l[0]=a,h[0]=i,l[1]=a+e,h[1]=r,this}}const Kfe=new Float32Array(1);class Zfe extends Fc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,i){const r=e._localRoot||this._root,s=e._clip.tracks,a=s.length,o=e._propertyBindings,l=e._interpolants,h=r.uuid,d=this._bindingsByRootAndName;let p=d[h];p===void 0&&(p={},d[h]=p);for(let g=0;g!==a;++g){const v=s[g],_=v.name;let j=p[_];if(j!==void 0)++j.referenceCount,o[g]=j;else{if(j=o[g],j!==void 0){j._cacheIndex===null&&(++j.referenceCount,this._addInactiveBinding(j,h,_));continue}const T=i&&i._propertyBindings[g].binding.parsedPath;j=new YV(ei.create(r,_,T),v.ValueTypeName,v.getValueSize()),++j.referenceCount,this._addInactiveBinding(j,h,_),o[g]=j}l[g].resultBuffer=j.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,s=e._clip.uuid,a=this._actionsByClip[s];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,s,r)}const i=e._propertyBindings;for(let r=0,s=i.length;r!==s;++r){const a=i[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const i=e._propertyBindings;for(let r=0,s=i.length;r!==s;++r){const a=i[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const i=e._cacheIndex;return i!==null&&i<this._nActiveActions}_addInactiveAction(e,i,r){const s=this._actions,a=this._actionsByClip;let o=a[i];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[i]=o;else{const l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=s.length,s.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const i=this._actions,r=i[i.length-1],s=e._cacheIndex;r._cacheIndex=s,i[s]=r,i.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,l=o[a],h=l.knownActions,d=h[h.length-1],p=e._byClipCacheIndex;d._byClipCacheIndex=p,h[p]=d,h.pop(),e._byClipCacheIndex=null;const g=l.actionByRoot,v=(e._localRoot||this._root).uuid;delete g[v],h.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const i=e._propertyBindings;for(let r=0,s=i.length;r!==s;++r){const a=i[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const i=this._actions,r=e._cacheIndex,s=this._nActiveActions++,a=i[s];e._cacheIndex=s,i[s]=e,a._cacheIndex=r,i[r]=a}_takeBackAction(e){const i=this._actions,r=e._cacheIndex,s=--this._nActiveActions,a=i[s];e._cacheIndex=s,i[s]=e,a._cacheIndex=r,i[r]=a}_addInactiveBinding(e,i,r){const s=this._bindingsByRootAndName,a=this._bindings;let o=s[i];o===void 0&&(o={},s[i]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const i=this._bindings,r=e.binding,s=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,l=o[s],h=i[i.length-1],d=e._cacheIndex;h._cacheIndex=d,i[d]=h,i.pop(),delete l[a],Object.keys(l).length===0&&delete o[s]}_lendBinding(e){const i=this._bindings,r=e._cacheIndex,s=this._nActiveBindings++,a=i[s];e._cacheIndex=s,i[s]=e,a._cacheIndex=r,i[r]=a}_takeBackBinding(e){const i=this._bindings,r=e._cacheIndex,s=--this._nActiveBindings,a=i[s];e._cacheIndex=s,i[s]=e,a._cacheIndex=r,i[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,i=this._nActiveControlInterpolants++;let r=e[i];return r===void 0&&(r=new bR(new Float32Array(2),new Float32Array(2),1,Kfe),r.__cacheIndex=i,e[i]=r),r}_takeBackControlInterpolant(e){const i=this._controlInterpolants,r=e.__cacheIndex,s=--this._nActiveControlInterpolants,a=i[s];e.__cacheIndex=s,i[s]=e,a.__cacheIndex=r,i[r]=a}clipAction(e,i,r){const s=i||this._root,a=s.uuid;let o=typeof e=="string"?ov.findByName(s,e):e;const l=o!==null?o.uuid:e,h=this._actionsByClip[l];let d=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Mw),h!==void 0){const g=h.actionByRoot[a];if(g!==void 0&&g.blendMode===r)return g;d=h.knownActions[0],o===null&&(o=d._clip)}if(o===null)return null;const p=new KV(this,o,i,r);return this._bindAction(p,d),this._addInactiveAction(p,l,a),p}existingAction(e,i){const r=i||this._root,s=r.uuid,a=typeof e=="string"?ov.findByName(r,e):e,o=a?a.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[s]||null}stopAllAction(){const e=this._actions,i=this._nActiveActions;for(let r=i-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const i=this._actions,r=this._nActiveActions,s=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let d=0;d!==r;++d)i[d]._update(s,e,a,o);const l=this._bindings,h=this._nActiveBindings;for(let d=0;d!==h;++d)l[d].apply(o);return this}setTime(e){this.time=0;for(let i=0;i<this._actions.length;i++)this._actions[i].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const i=this._actions,r=e.uuid,s=this._actionsByClip,a=s[r];if(a!==void 0){const o=a.knownActions;for(let l=0,h=o.length;l!==h;++l){const d=o[l];this._deactivateAction(d);const p=d._cacheIndex,g=i[i.length-1];d._cacheIndex=null,d._byClipCacheIndex=null,g._cacheIndex=p,i[p]=g,i.pop(),this._removeInactiveBindingsForAction(d)}delete s[r]}}uncacheRoot(e){const i=e.uuid,r=this._actionsByClip;for(const o in r){const l=r[o].actionByRoot,h=l[i];h!==void 0&&(this._deactivateAction(h),this._removeInactiveAction(h))}const s=this._bindingsByRootAndName,a=s[i];if(a!==void 0)for(const o in a){const l=a[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,i){const r=this.existingAction(e,i);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Qfe extends iR{constructor(e=1,i=1,r=1,s={}){super(e,i,s),this.isRenderTarget3D=!0,this.depth=r,this.texture=new Aw(null,e,i,r),this._setTextureOptions(s),this.texture.isRenderTargetTexture=!0}}class AR{constructor(e){this.value=e}clone(){return new AR(this.value.clone===void 0?this.value:this.value.clone())}}let Jfe=0;class epe extends Fc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Jfe++}),this.name="",this.usage=J0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const i=this.uniforms.indexOf(e);return i!==-1&&this.uniforms.splice(i,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const i=e.uniforms;this.uniforms.length=0;for(let r=0,s=i.length;r<s;r++){const a=Array.isArray(i[r])?i[r]:[i[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class tpe extends kw{constructor(e,i,r=1){super(e,i),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const i=super.clone(e);return i.meshPerAttribute=this.meshPerAttribute,i}toJSON(e){const i=super.toJSON(e);return i.isInstancedInterleavedBuffer=!0,i.meshPerAttribute=this.meshPerAttribute,i}}class npe{constructor(e,i,r,s,a,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=i,this.itemSize=r,this.elementSize=s,this.count=a,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,i){return this.type=e,this.elementSize=i,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const JN=new dn;class ZV{constructor(e,i,r=0,s=1/0){this.ray=new ex(e,i),this.near=r,this.far=s,this.camera=null,this.layers=new Pg,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,i){this.ray.set(e,i)}setFromCamera(e,i){i.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(i.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(i).sub(this.ray.origin).normalize(),this.camera=i):i.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(i.near+i.far)/(i.near-i.far)).unproject(i),this.ray.direction.set(0,0,-1).transformDirection(i.matrixWorld),this.camera=i):console.error("THREE.Raycaster: Unsupported camera type: "+i.type)}setFromXRController(e){return JN.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(JN),this}intersectObject(e,i=!0,r=[]){return pE(e,this,r,i),r.sort(e3),r}intersectObjects(e,i=!0,r=[]){for(let s=0,a=e.length;s<a;s++)pE(e[s],this,r,i);return r.sort(e3),r}}function e3(t,e){return t.distance-e.distance}function pE(t,e,i,r){let s=!0;if(t.layers.test(e.layers)&&t.raycast(e,i)===!1&&(s=!1),s===!0&&r===!0){const a=t.children;for(let o=0,l=a.length;o<l;o++)pE(a[o],e,i,!0)}}class ipe{constructor(e=1,i=0,r=0){this.radius=e,this.phi=i,this.theta=r}set(e,i,r){return this.radius=e,this.phi=i,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=bn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,r){return this.radius=Math.sqrt(e*e+i*i+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(bn(i/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class rpe{constructor(e=1,i=0,r=0){this.radius=e,this.theta=i,this.y=r}set(e,i,r){return this.radius=e,this.theta=i,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,i,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=i,this}clone(){return new this.constructor().copy(this)}}class RR{constructor(e,i,r,s){RR.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,i,r,s)}identity(){return this.set(1,0,0,1),this}fromArray(e,i=0){for(let r=0;r<4;r++)this.elements[r]=e[r+i];return this}set(e,i,r,s){const a=this.elements;return a[0]=e,a[2]=i,a[1]=r,a[3]=s,this}}const t3=new it;class spe{constructor(e=new it(1/0,1/0),i=new it(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=i}set(e,i){return this.min.copy(e),this.max.copy(i),this}setFromPoints(e){this.makeEmpty();for(let i=0,r=e.length;i<r;i++)this.expandByPoint(e[i]);return this}setFromCenterAndSize(e,i){const r=t3.copy(i).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,i){return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,i){return i.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,t3).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const n3=new oe,cj=new oe;class ape{constructor(e=new oe,i=new oe){this.start=e,this.end=i}set(e,i){return this.start.copy(e),this.end.copy(i),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,i){return this.delta(i).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,i){n3.subVectors(e,this.start),cj.subVectors(this.end,this.start);const r=cj.dot(cj);let a=cj.dot(n3)/r;return i&&(a=bn(a,0,1)),a}closestPointToPoint(e,i,r){const s=this.closestPointToPointParameter(e,i);return this.delta(r).multiplyScalar(s).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const i3=new oe;class ope extends ni{constructor(e,i){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=i,this.type="SpotLightHelper";const r=new An,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,h=32;o<h;o++,l++){const d=o/h*Math.PI*2,p=l/h*Math.PI*2;s.push(Math.cos(d),Math.sin(d),1,Math.cos(p),Math.sin(p),1)}r.setAttribute("position",new Ut(s,3));const a=new ya({fog:!1,toneMapped:!1});this.cone=new Uc(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,i=e*Math.tan(this.light.angle);this.cone.scale.set(i,i,e),i3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(i3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const zu=new oe,hj=new dn,dC=new dn;class lpe extends Uc{constructor(e){const i=QV(e),r=new An,s=[],a=[],o=new Dt(0,0,1),l=new Dt(0,1,0);for(let d=0;d<i.length;d++){const p=i[d];p.parent&&p.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),a.push(o.r,o.g,o.b),a.push(l.r,l.g,l.b))}r.setAttribute("position",new Ut(s,3)),r.setAttribute("color",new Ut(a,3));const h=new ya({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,h),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=i,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const i=this.bones,r=this.geometry,s=r.getAttribute("position");dC.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<i.length;a++){const l=i[a];l.parent&&l.parent.isBone&&(hj.multiplyMatrices(dC,l.matrixWorld),zu.setFromMatrixPosition(hj),s.setXYZ(o,zu.x,zu.y,zu.z),hj.multiplyMatrices(dC,l.parent.matrixWorld),zu.setFromMatrixPosition(hj),s.setXYZ(o+1,zu.x,zu.y,zu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function QV(t){const e=[];t.isBone===!0&&e.push(t);for(let i=0;i<t.children.length;i++)e.push(...QV(t.children[i]));return e}class cpe extends Mr{constructor(e,i,r){const s=new Lv(i,4,2),a=new pd({wireframe:!0,fog:!1,toneMapped:!1});super(s,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const hpe=new oe,r3=new Dt,s3=new Dt;class upe extends ni{constructor(e,i,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const s=new Rv(i);s.rotateY(Math.PI*.5),this.material=new pd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=s.getAttribute("position"),o=new Float32Array(a.count*3);s.setAttribute("color",new Mi(o,3)),this.add(new Mr(s,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const i=e.geometry.getAttribute("color");r3.copy(this.light.color),s3.copy(this.light.groundColor);for(let r=0,s=i.count;r<s;r++){const a=r<s/2?r3:s3;i.setXYZ(r,a.r,a.g,a.b)}i.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(hpe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class dpe extends Uc{constructor(e=10,i=10,r=4473924,s=8947848){r=new Dt(r),s=new Dt(s);const a=i/2,o=e/i,l=e/2,h=[],d=[];for(let v=0,_=0,j=-l;v<=i;v++,j+=o){h.push(-l,0,j,l,0,j),h.push(j,0,-l,j,0,l);const T=v===a?r:s;T.toArray(d,_),_+=3,T.toArray(d,_),_+=3,T.toArray(d,_),_+=3,T.toArray(d,_),_+=3}const p=new An;p.setAttribute("position",new Ut(h,3)),p.setAttribute("color",new Ut(d,3));const g=new ya({vertexColors:!0,toneMapped:!1});super(p,g),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class fpe extends Uc{constructor(e=10,i=16,r=8,s=64,a=4473924,o=8947848){a=new Dt(a),o=new Dt(o);const l=[],h=[];if(i>1)for(let g=0;g<i;g++){const v=g/i*(Math.PI*2),_=Math.sin(v)*e,j=Math.cos(v)*e;l.push(0,0,0),l.push(_,0,j);const T=g&1?a:o;h.push(T.r,T.g,T.b),h.push(T.r,T.g,T.b)}for(let g=0;g<r;g++){const v=g&1?a:o,_=e-e/r*g;for(let j=0;j<s;j++){let T=j/s*(Math.PI*2),C=Math.sin(T)*_,w=Math.cos(T)*_;l.push(C,0,w),h.push(v.r,v.g,v.b),T=(j+1)/s*(Math.PI*2),C=Math.sin(T)*_,w=Math.cos(T)*_,l.push(C,0,w),h.push(v.r,v.g,v.b)}}const d=new An;d.setAttribute("position",new Ut(l,3)),d.setAttribute("color",new Ut(h,3));const p=new ya({vertexColors:!0,toneMapped:!1});super(d,p),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const a3=new oe,uj=new oe,o3=new oe;class ppe extends ni{constructor(e,i,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",i===void 0&&(i=1);let s=new An;s.setAttribute("position",new Ut([-i,i,0,i,i,0,i,-i,0,-i,-i,0,-i,i,0],3));const a=new ya({fog:!1,toneMapped:!1});this.lightPlane=new cd(s,a),this.add(this.lightPlane),s=new An,s.setAttribute("position",new Ut([0,0,0,0,0,1],3)),this.targetLine=new cd(s,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),a3.setFromMatrixPosition(this.light.matrixWorld),uj.setFromMatrixPosition(this.light.target.matrixWorld),o3.subVectors(uj,a3),this.lightPlane.lookAt(uj),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(uj),this.targetLine.scale.z=o3.length()}}const dj=new oe,rr=new Rw;class mpe extends Uc{constructor(e){const i=new An,r=new ya({color:16777215,vertexColors:!0,toneMapped:!1}),s=[],a=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(j,T){h(j),h(T)}function h(j){s.push(0,0,0),a.push(0,0,0),o[j]===void 0&&(o[j]=[]),o[j].push(s.length/3-1)}i.setAttribute("position",new Ut(s,3)),i.setAttribute("color",new Ut(a,3)),super(i,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const d=new Dt(16755200),p=new Dt(16711680),g=new Dt(43775),v=new Dt(16777215),_=new Dt(3355443);this.setColors(d,p,g,v,_)}setColors(e,i,r,s,a){const l=this.geometry.getAttribute("color");l.setXYZ(0,e.r,e.g,e.b),l.setXYZ(1,e.r,e.g,e.b),l.setXYZ(2,e.r,e.g,e.b),l.setXYZ(3,e.r,e.g,e.b),l.setXYZ(4,e.r,e.g,e.b),l.setXYZ(5,e.r,e.g,e.b),l.setXYZ(6,e.r,e.g,e.b),l.setXYZ(7,e.r,e.g,e.b),l.setXYZ(8,e.r,e.g,e.b),l.setXYZ(9,e.r,e.g,e.b),l.setXYZ(10,e.r,e.g,e.b),l.setXYZ(11,e.r,e.g,e.b),l.setXYZ(12,e.r,e.g,e.b),l.setXYZ(13,e.r,e.g,e.b),l.setXYZ(14,e.r,e.g,e.b),l.setXYZ(15,e.r,e.g,e.b),l.setXYZ(16,e.r,e.g,e.b),l.setXYZ(17,e.r,e.g,e.b),l.setXYZ(18,e.r,e.g,e.b),l.setXYZ(19,e.r,e.g,e.b),l.setXYZ(20,e.r,e.g,e.b),l.setXYZ(21,e.r,e.g,e.b),l.setXYZ(22,e.r,e.g,e.b),l.setXYZ(23,e.r,e.g,e.b),l.setXYZ(24,i.r,i.g,i.b),l.setXYZ(25,i.r,i.g,i.b),l.setXYZ(26,i.r,i.g,i.b),l.setXYZ(27,i.r,i.g,i.b),l.setXYZ(28,i.r,i.g,i.b),l.setXYZ(29,i.r,i.g,i.b),l.setXYZ(30,i.r,i.g,i.b),l.setXYZ(31,i.r,i.g,i.b),l.setXYZ(32,r.r,r.g,r.b),l.setXYZ(33,r.r,r.g,r.b),l.setXYZ(34,r.r,r.g,r.b),l.setXYZ(35,r.r,r.g,r.b),l.setXYZ(36,r.r,r.g,r.b),l.setXYZ(37,r.r,r.g,r.b),l.setXYZ(38,s.r,s.g,s.b),l.setXYZ(39,s.r,s.g,s.b),l.setXYZ(40,a.r,a.g,a.b),l.setXYZ(41,a.r,a.g,a.b),l.setXYZ(42,a.r,a.g,a.b),l.setXYZ(43,a.r,a.g,a.b),l.setXYZ(44,a.r,a.g,a.b),l.setXYZ(45,a.r,a.g,a.b),l.setXYZ(46,a.r,a.g,a.b),l.setXYZ(47,a.r,a.g,a.b),l.setXYZ(48,a.r,a.g,a.b),l.setXYZ(49,a.r,a.g,a.b),l.needsUpdate=!0}update(){const e=this.geometry,i=this.pointMap,r=1,s=1;rr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const a=this.camera.coordinateSystem===Go?-1:0;dr("c",i,e,rr,0,0,a),dr("t",i,e,rr,0,0,1),dr("n1",i,e,rr,-1,-1,a),dr("n2",i,e,rr,r,-1,a),dr("n3",i,e,rr,-1,s,a),dr("n4",i,e,rr,r,s,a),dr("f1",i,e,rr,-1,-1,1),dr("f2",i,e,rr,r,-1,1),dr("f3",i,e,rr,-1,s,1),dr("f4",i,e,rr,r,s,1),dr("u1",i,e,rr,r*.7,s*1.1,a),dr("u2",i,e,rr,-1*.7,s*1.1,a),dr("u3",i,e,rr,0,s*2,a),dr("cf1",i,e,rr,-1,0,1),dr("cf2",i,e,rr,r,0,1),dr("cf3",i,e,rr,0,-1,1),dr("cf4",i,e,rr,0,s,1),dr("cn1",i,e,rr,-1,0,a),dr("cn2",i,e,rr,r,0,a),dr("cn3",i,e,rr,0,-1,a),dr("cn4",i,e,rr,0,s,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function dr(t,e,i,r,s,a,o){dj.set(s,a,o).unproject(r);const l=e[t];if(l!==void 0){const h=i.getAttribute("position");for(let d=0,p=l.length;d<p;d++)h.setXYZ(l[d],dj.x,dj.y,dj.z)}}const fj=new Hs;class gpe extends Uc{constructor(e,i=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(8*3),a=new An;a.setIndex(new Mi(r,1)),a.setAttribute("position",new Mi(s,3)),super(a,new ya({color:i,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&fj.setFromObject(this.object),fj.isEmpty())return;const e=fj.min,i=fj.max,r=this.geometry.attributes.position,s=r.array;s[0]=i.x,s[1]=i.y,s[2]=i.z,s[3]=e.x,s[4]=i.y,s[5]=i.z,s[6]=e.x,s[7]=e.y,s[8]=i.z,s[9]=i.x,s[10]=e.y,s[11]=i.z,s[12]=i.x,s[13]=i.y,s[14]=e.z,s[15]=e.x,s[16]=i.y,s[17]=e.z,s[18]=e.x,s[19]=e.y,s[20]=e.z,s[21]=i.x,s[22]=e.y,s[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,i){return super.copy(e,i),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class xpe extends Uc{constructor(e,i=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new An;a.setIndex(new Mi(r,1)),a.setAttribute("position",new Ut(s,3)),super(a,new ya({color:i,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const i=this.box;i.isEmpty()||(i.getCenter(this.position),i.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ype extends cd{constructor(e,i=1,r=16776960){const s=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new An;o.setAttribute("position",new Ut(a,3)),o.computeBoundingSphere(),super(o,new ya({color:s,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=i;const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],h=new An;h.setAttribute("position",new Ut(l,3)),h.computeBoundingSphere(),this.add(new Mr(h,new pd({color:s,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const l3=new oe;let pj,fC;class vpe extends ni{constructor(e=new oe(0,0,1),i=new oe(0,0,0),r=1,s=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",pj===void 0&&(pj=new An,pj.setAttribute("position",new Ut([0,0,0,0,1,0],3)),fC=new Av(.5,1,5,1),fC.translate(0,-.5,0)),this.position.copy(i),this.line=new cd(pj,new ya({color:s,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mr(fC,new pd({color:s,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{l3.set(e.z,0,-e.x).normalize();const i=Math.acos(e.y);this.quaternion.setFromAxisAngle(l3,i)}}setLength(e,i=e*.2,r=i*.2){this.line.scale.set(1,Math.max(1e-4,e-i),1),this.line.updateMatrix(),this.cone.scale.set(r,i,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class _pe extends Uc{constructor(e=1){const i=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],s=new An;s.setAttribute("position",new Ut(i,3)),s.setAttribute("color",new Ut(r,3));const a=new ya({vertexColors:!0,toneMapped:!1});super(s,a),this.type="AxesHelper"}setColors(e,i,r){const s=new Dt,a=this.geometry.attributes.color.array;return s.set(e),s.toArray(a,0),s.toArray(a,3),s.set(i),s.toArray(a,6),s.toArray(a,9),s.set(r),s.toArray(a,12),s.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bpe{constructor(){this.type="ShapePath",this.color=new Dt,this.subPaths=[],this.currentPath=null}moveTo(e,i){return this.currentPath=new R1,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,i),this}lineTo(e,i){return this.currentPath.lineTo(e,i),this}quadraticCurveTo(e,i,r,s){return this.currentPath.quadraticCurveTo(e,i,r,s),this}bezierCurveTo(e,i,r,s,a,o){return this.currentPath.bezierCurveTo(e,i,r,s,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function i(w){const A=[];for(let L=0,k=w.length;L<k;L++){const I=w[L],z=new Yf;z.curves=I.curves,A.push(z)}return A}function r(w,A){const L=A.length;let k=!1;for(let I=L-1,z=0;z<L;I=z++){let U=A[I],H=A[z],P=H.x-U.x,N=H.y-U.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(U=A[z],P=-P,H=A[I],N=-N),w.y<U.y||w.y>H.y)continue;if(w.y===U.y){if(w.x===U.x)return!0}else{const G=N*(w.x-U.x)-P*(w.y-U.y);if(G===0)return!0;if(G<0)continue;k=!k}}else{if(w.y!==U.y)continue;if(H.x<=w.x&&w.x<=U.x||U.x<=w.x&&w.x<=H.x)return!0}}return k}const s=El.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,l,h;const d=[];if(a.length===1)return l=a[0],h=new Yf,h.curves=l.curves,d.push(h),d;let p=!s(a[0].getPoints());p=e?!p:p;const g=[],v=[];let _=[],j=0,T;v[j]=void 0,_[j]=[];for(let w=0,A=a.length;w<A;w++)l=a[w],T=l.getPoints(),o=s(T),o=e?!o:o,o?(!p&&v[j]&&j++,v[j]={s:new Yf,p:T},v[j].s.curves=l.curves,p&&j++,_[j]=[]):_[j].push({h:l,p:T[0]});if(!v[0])return i(a);if(v.length>1){let w=!1,A=0;for(let L=0,k=v.length;L<k;L++)g[L]=[];for(let L=0,k=v.length;L<k;L++){const I=_[L];for(let z=0;z<I.length;z++){const U=I[z];let H=!0;for(let P=0;P<v.length;P++)r(U.p,v[P].p)&&(L!==P&&A++,H?(H=!1,g[P].push(U)):w=!0);H&&g[L].push(U)}}A>0&&w===!1&&(_=g)}let C;for(let w=0,A=v.length;w<A;w++){h=v[w].s,d.push(h),C=_[w];for(let L=0,k=C.length;L<k;L++)h.holes.push(C[L].h)}return d}}class jpe extends Fc{constructor(e,i=null){super(),this.object=e,this.domElement=i,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Spe(t,e){const i=t.image&&t.image.width?t.image.width/t.image.height:1;return i>e?(t.repeat.x=1,t.repeat.y=i/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/i,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function wpe(t,e){const i=t.image&&t.image.width?t.image.width/t.image.height:1;return i>e?(t.repeat.x=e/i,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=i/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function Tpe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function mE(t,e,i,r){const s=Cpe(r);switch(i){case KA:return t*e;case ww:return t*e/s.components*s.byteLength;case Cv:return t*e/s.components*s.byteLength;case QA:return t*e*2/s.components*s.byteLength;case Tw:return t*e*2/s.components*s.byteLength;case ZA:return t*e*3/s.components*s.byteLength;case Fs:return t*e*4/s.components*s.byteLength;case Cw:return t*e*4/s.components*s.byteLength;case x0:case y0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case v0:case _0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case t1:case i1:return Math.max(t,16)*Math.max(e,8)/4;case e1:case n1:return Math.max(t,8)*Math.max(e,8)/2;case r1:case s1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case a1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case o1:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case l1:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case c1:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case h1:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case u1:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case d1:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case f1:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case p1:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case m1:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case g1:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case x1:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case y1:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case v1:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case _1:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case b0:case b1:case j1:return Math.ceil(t/4)*Math.ceil(e/4)*16;case JA:case S1:return Math.ceil(t/4)*Math.ceil(e/4)*8;case w1:case T1:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${i} format.`)}function Cpe(t){switch(t){case Xo:case WA:return{byteLength:1,components:1};case Rg:case XA:case Jg:return{byteLength:2,components:1};case jw:case Sw:return{byteLength:2,components:4};case Ih:case bw:case za:return{byteLength:4,components:1};case YA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class Mpe{static contain(e,i){return Spe(e,i)}static cover(e,i){return wpe(e,i)}static fill(e){return Tpe(e)}static getByteLength(e,i,r,s){return mE(e,i,r,s)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:yw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=yw);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function JV(){let t=null,e=!1,i=null,r=null;function s(a,o){i(a,o),r=t.requestAnimationFrame(s)}return{start:function(){e!==!0&&i!==null&&(r=t.requestAnimationFrame(s),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){i=a},setContext:function(a){t=a}}}function Epe(t){const e=new WeakMap;function i(l,h){const d=l.array,p=l.usage,g=d.byteLength,v=t.createBuffer();t.bindBuffer(h,v),t.bufferData(h,d,p),l.onUploadCallback();let _;if(d instanceof Float32Array)_=t.FLOAT;else if(typeof Float16Array<"u"&&d instanceof Float16Array)_=t.HALF_FLOAT;else if(d instanceof Uint16Array)l.isFloat16BufferAttribute?_=t.HALF_FLOAT:_=t.UNSIGNED_SHORT;else if(d instanceof Int16Array)_=t.SHORT;else if(d instanceof Uint32Array)_=t.UNSIGNED_INT;else if(d instanceof Int32Array)_=t.INT;else if(d instanceof Int8Array)_=t.BYTE;else if(d instanceof Uint8Array)_=t.UNSIGNED_BYTE;else if(d instanceof Uint8ClampedArray)_=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:v,type:_,bytesPerElement:d.BYTES_PER_ELEMENT,version:l.version,size:g}}function r(l,h,d){const p=h.array,g=h.updateRanges;if(t.bindBuffer(d,l),g.length===0)t.bufferSubData(d,0,p);else{g.sort((_,j)=>_.start-j.start);let v=0;for(let _=1;_<g.length;_++){const j=g[v],T=g[_];T.start<=j.start+j.count+1?j.count=Math.max(j.count,T.start+T.count-j.start):(++v,g[v]=T)}g.length=v+1;for(let _=0,j=g.length;_<j;_++){const T=g[_];t.bufferSubData(d,T.start*p.BYTES_PER_ELEMENT,p,T.start,T.count)}h.clearUpdateRanges()}h.onUploadCallback()}function s(l){return l.isInterleavedBufferAttribute&&(l=l.data),e.get(l)}function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const h=e.get(l);h&&(t.deleteBuffer(h.buffer),e.delete(l))}function o(l,h){if(l.isInterleavedBufferAttribute&&(l=l.data),l.isGLBufferAttribute){const p=e.get(l);(!p||p.version<l.version)&&e.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version});return}const d=e.get(l);if(d===void 0)e.set(l,i(l,h));else if(d.version<l.version){if(d.size!==l.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(d.buffer,l,h),d.version=l.version}}return{get:s,remove:a,update:o}}var Ape=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Rpe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Lpe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Dpe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,kpe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Npe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ppe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Ope=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Bpe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Ipe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Fpe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Upe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,zpe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Hpe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Vpe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Gpe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,$pe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,qpe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Wpe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Xpe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Ype=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Kpe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Zpe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Qpe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Jpe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,eme=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,tme=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,nme=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,ime=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,rme=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,sme="gl_FragColor = linearToOutputTexel( gl_FragColor );",ame=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,ome=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,lme=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,cme=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,hme=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ume=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,dme=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fme=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,pme=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,mme=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gme=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,xme=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,yme=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,vme=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,_me=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,bme=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,jme=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Sme=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,wme=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Tme=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Cme=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Mme=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Eme=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Ame=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Rme=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Lme=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Dme=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,kme=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Nme=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Pme=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Ome=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Bme=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ime=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Fme=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Ume=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,zme=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Hme=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Vme=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Gme=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,$me=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,qme=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Wme=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Xme=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Yme=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Kme=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Zme=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Qme=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Jme=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ege=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,tge=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nge=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,ige=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,rge=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,sge=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,age=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,oge=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lge=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,cge=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,hge=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,uge=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,dge=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,fge=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pge=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mge=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gge=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,xge=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yge=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,vge=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,_ge=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,bge=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,jge=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Sge=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,wge=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Tge=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Cge=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Mge=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Ege=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Age=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Rge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Lge=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Dge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kge=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Nge=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Pge=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Oge=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Bge=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Ige=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Fge=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uge=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zge=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Hge=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Vge=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gge=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$ge=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qge=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Wge=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xge=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Yge=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Kge=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zge=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Qge=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Jge=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,exe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,txe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nxe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,ixe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rxe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sxe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,axe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oxe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ln={alphahash_fragment:Ape,alphahash_pars_fragment:Rpe,alphamap_fragment:Lpe,alphamap_pars_fragment:Dpe,alphatest_fragment:kpe,alphatest_pars_fragment:Npe,aomap_fragment:Ppe,aomap_pars_fragment:Ope,batching_pars_vertex:Bpe,batching_vertex:Ipe,begin_vertex:Fpe,beginnormal_vertex:Upe,bsdfs:zpe,iridescence_fragment:Hpe,bumpmap_pars_fragment:Vpe,clipping_planes_fragment:Gpe,clipping_planes_pars_fragment:$pe,clipping_planes_pars_vertex:qpe,clipping_planes_vertex:Wpe,color_fragment:Xpe,color_pars_fragment:Ype,color_pars_vertex:Kpe,color_vertex:Zpe,common:Qpe,cube_uv_reflection_fragment:Jpe,defaultnormal_vertex:eme,displacementmap_pars_vertex:tme,displacementmap_vertex:nme,emissivemap_fragment:ime,emissivemap_pars_fragment:rme,colorspace_fragment:sme,colorspace_pars_fragment:ame,envmap_fragment:ome,envmap_common_pars_fragment:lme,envmap_pars_fragment:cme,envmap_pars_vertex:hme,envmap_physical_pars_fragment:bme,envmap_vertex:ume,fog_vertex:dme,fog_pars_vertex:fme,fog_fragment:pme,fog_pars_fragment:mme,gradientmap_pars_fragment:gme,lightmap_pars_fragment:xme,lights_lambert_fragment:yme,lights_lambert_pars_fragment:vme,lights_pars_begin:_me,lights_toon_fragment:jme,lights_toon_pars_fragment:Sme,lights_phong_fragment:wme,lights_phong_pars_fragment:Tme,lights_physical_fragment:Cme,lights_physical_pars_fragment:Mme,lights_fragment_begin:Eme,lights_fragment_maps:Ame,lights_fragment_end:Rme,logdepthbuf_fragment:Lme,logdepthbuf_pars_fragment:Dme,logdepthbuf_pars_vertex:kme,logdepthbuf_vertex:Nme,map_fragment:Pme,map_pars_fragment:Ome,map_particle_fragment:Bme,map_particle_pars_fragment:Ime,metalnessmap_fragment:Fme,metalnessmap_pars_fragment:Ume,morphinstance_vertex:zme,morphcolor_vertex:Hme,morphnormal_vertex:Vme,morphtarget_pars_vertex:Gme,morphtarget_vertex:$me,normal_fragment_begin:qme,normal_fragment_maps:Wme,normal_pars_fragment:Xme,normal_pars_vertex:Yme,normal_vertex:Kme,normalmap_pars_fragment:Zme,clearcoat_normal_fragment_begin:Qme,clearcoat_normal_fragment_maps:Jme,clearcoat_pars_fragment:ege,iridescence_pars_fragment:tge,opaque_fragment:nge,packing:ige,premultiplied_alpha_fragment:rge,project_vertex:sge,dithering_fragment:age,dithering_pars_fragment:oge,roughnessmap_fragment:lge,roughnessmap_pars_fragment:cge,shadowmap_pars_fragment:hge,shadowmap_pars_vertex:uge,shadowmap_vertex:dge,shadowmask_pars_fragment:fge,skinbase_vertex:pge,skinning_pars_vertex:mge,skinning_vertex:gge,skinnormal_vertex:xge,specularmap_fragment:yge,specularmap_pars_fragment:vge,tonemapping_fragment:_ge,tonemapping_pars_fragment:bge,transmission_fragment:jge,transmission_pars_fragment:Sge,uv_pars_fragment:wge,uv_pars_vertex:Tge,uv_vertex:Cge,worldpos_vertex:Mge,background_vert:Ege,background_frag:Age,backgroundCube_vert:Rge,backgroundCube_frag:Lge,cube_vert:Dge,cube_frag:kge,depth_vert:Nge,depth_frag:Pge,distanceRGBA_vert:Oge,distanceRGBA_frag:Bge,equirect_vert:Ige,equirect_frag:Fge,linedashed_vert:Uge,linedashed_frag:zge,meshbasic_vert:Hge,meshbasic_frag:Vge,meshlambert_vert:Gge,meshlambert_frag:$ge,meshmatcap_vert:qge,meshmatcap_frag:Wge,meshnormal_vert:Xge,meshnormal_frag:Yge,meshphong_vert:Kge,meshphong_frag:Zge,meshphysical_vert:Qge,meshphysical_frag:Jge,meshtoon_vert:exe,meshtoon_frag:txe,points_vert:nxe,points_frag:ixe,shadow_vert:rxe,shadow_frag:sxe,sprite_vert:axe,sprite_frag:oxe},Tt={common:{diffuse:{value:new Dt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new wn},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new wn}},envmap:{envMap:{value:null},envMapRotation:{value:new wn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new wn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new wn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new wn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new wn},normalScale:{value:new it(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new wn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new wn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new wn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new wn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Dt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Dt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0},uvTransform:{value:new wn}},sprite:{diffuse:{value:new Dt(16777215)},opacity:{value:1},center:{value:new it(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new wn},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0}}},Cl={basic:{uniforms:la([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.fog]),vertexShader:Ln.meshbasic_vert,fragmentShader:Ln.meshbasic_frag},lambert:{uniforms:la([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Dt(0)}}]),vertexShader:Ln.meshlambert_vert,fragmentShader:Ln.meshlambert_frag},phong:{uniforms:la([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new Dt(0)},specular:{value:new Dt(1118481)},shininess:{value:30}}]),vertexShader:Ln.meshphong_vert,fragmentShader:Ln.meshphong_frag},standard:{uniforms:la([Tt.common,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.roughnessmap,Tt.metalnessmap,Tt.fog,Tt.lights,{emissive:{value:new Dt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ln.meshphysical_vert,fragmentShader:Ln.meshphysical_frag},toon:{uniforms:la([Tt.common,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.gradientmap,Tt.fog,Tt.lights,{emissive:{value:new Dt(0)}}]),vertexShader:Ln.meshtoon_vert,fragmentShader:Ln.meshtoon_frag},matcap:{uniforms:la([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,{matcap:{value:null}}]),vertexShader:Ln.meshmatcap_vert,fragmentShader:Ln.meshmatcap_frag},points:{uniforms:la([Tt.points,Tt.fog]),vertexShader:Ln.points_vert,fragmentShader:Ln.points_frag},dashed:{uniforms:la([Tt.common,Tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ln.linedashed_vert,fragmentShader:Ln.linedashed_frag},depth:{uniforms:la([Tt.common,Tt.displacementmap]),vertexShader:Ln.depth_vert,fragmentShader:Ln.depth_frag},normal:{uniforms:la([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,{opacity:{value:1}}]),vertexShader:Ln.meshnormal_vert,fragmentShader:Ln.meshnormal_frag},sprite:{uniforms:la([Tt.sprite,Tt.fog]),vertexShader:Ln.sprite_vert,fragmentShader:Ln.sprite_frag},background:{uniforms:{uvTransform:{value:new wn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ln.background_vert,fragmentShader:Ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new wn}},vertexShader:Ln.backgroundCube_vert,fragmentShader:Ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ln.cube_vert,fragmentShader:Ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ln.equirect_vert,fragmentShader:Ln.equirect_frag},distanceRGBA:{uniforms:la([Tt.common,Tt.displacementmap,{referencePosition:{value:new oe},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ln.distanceRGBA_vert,fragmentShader:Ln.distanceRGBA_frag},shadow:{uniforms:la([Tt.lights,Tt.fog,{color:{value:new Dt(0)},opacity:{value:1}}]),vertexShader:Ln.shadow_vert,fragmentShader:Ln.shadow_frag}};Cl.physical={uniforms:la([Cl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new wn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new wn},clearcoatNormalScale:{value:new it(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new wn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new wn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new wn},sheen:{value:0},sheenColor:{value:new Dt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new wn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new wn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new wn},transmissionSamplerSize:{value:new it},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new wn},attenuationDistance:{value:0},attenuationColor:{value:new Dt(0)},specularColor:{value:new Dt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new wn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new wn},anisotropyVector:{value:new it},anisotropyMap:{value:null},anisotropyMapTransform:{value:new wn}}]),vertexShader:Ln.meshphysical_vert,fragmentShader:Ln.meshphysical_frag};const mj={r:0,b:0,g:0},Sf=new fo,lxe=new dn;function cxe(t,e,i,r,s,a,o){const l=new Dt(0);let h=a===!0?0:1,d,p,g=null,v=0,_=null;function j(L){let k=L.isScene===!0?L.background:null;return k&&k.isTexture&&(k=(L.backgroundBlurriness>0?i:e).get(k)),k}function T(L){let k=!1;const I=j(L);I===null?w(l,h):I&&I.isColor&&(w(I,1),k=!0);const z=t.xr.getEnvironmentBlendMode();z==="additive"?r.buffers.color.setClear(0,0,0,1,o):z==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||k)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function C(L,k){const I=j(k);I&&(I.isCubeTexture||I.mapping===Qg)?(p===void 0&&(p=new Mr(new fp(1,1,1),new Ll({name:"BackgroundCubeMaterial",uniforms:Og(Cl.backgroundCube.uniforms),vertexShader:Cl.backgroundCube.vertexShader,fragmentShader:Cl.backgroundCube.fragmentShader,side:ma,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),p.geometry.deleteAttribute("uv"),p.onBeforeRender=function(z,U,H){this.matrixWorld.copyPosition(H.matrixWorld)},Object.defineProperty(p.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),s.update(p)),Sf.copy(k.backgroundRotation),Sf.x*=-1,Sf.y*=-1,Sf.z*=-1,I.isCubeTexture&&I.isRenderTargetTexture===!1&&(Sf.y*=-1,Sf.z*=-1),p.material.uniforms.envMap.value=I,p.material.uniforms.flipEnvMap.value=I.isCubeTexture&&I.isRenderTargetTexture===!1?-1:1,p.material.uniforms.backgroundBlurriness.value=k.backgroundBlurriness,p.material.uniforms.backgroundIntensity.value=k.backgroundIntensity,p.material.uniforms.backgroundRotation.value.setFromMatrix4(lxe.makeRotationFromEuler(Sf)),p.material.toneMapped=qn.getTransfer(I.colorSpace)!==_i,(g!==I||v!==I.version||_!==t.toneMapping)&&(p.material.needsUpdate=!0,g=I,v=I.version,_=t.toneMapping),p.layers.enableAll(),L.unshift(p,p.geometry,p.material,0,0,null)):I&&I.isTexture&&(d===void 0&&(d=new Mr(new nx(2,2),new Ll({name:"BackgroundMaterial",uniforms:Og(Cl.background.uniforms),vertexShader:Cl.background.vertexShader,fragmentShader:Cl.background.fragmentShader,side:Oh,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),Object.defineProperty(d.material,"map",{get:function(){return this.uniforms.t2D.value}}),s.update(d)),d.material.uniforms.t2D.value=I,d.material.uniforms.backgroundIntensity.value=k.backgroundIntensity,d.material.toneMapped=qn.getTransfer(I.colorSpace)!==_i,I.matrixAutoUpdate===!0&&I.updateMatrix(),d.material.uniforms.uvTransform.value.copy(I.matrix),(g!==I||v!==I.version||_!==t.toneMapping)&&(d.material.needsUpdate=!0,g=I,v=I.version,_=t.toneMapping),d.layers.enableAll(),L.unshift(d,d.geometry,d.material,0,0,null))}function w(L,k){L.getRGB(mj,Q6(t)),r.buffers.color.setClear(mj.r,mj.g,mj.b,k,o)}function A(){p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0),d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0)}return{getClearColor:function(){return l},setClearColor:function(L,k=1){l.set(L),h=k,w(l,h)},getClearAlpha:function(){return h},setClearAlpha:function(L){h=L,w(l,h)},render:T,addToRenderList:C,dispose:A}}function hxe(t,e){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},s=v(null);let a=s,o=!1;function l(N,G,te,Q,K){let ee=!1;const O=g(Q,te,G);a!==O&&(a=O,d(a.object)),ee=_(N,Q,te,K),ee&&j(N,Q,te,K),K!==null&&e.update(K,t.ELEMENT_ARRAY_BUFFER),(ee||o)&&(o=!1,k(N,G,te,Q),K!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(K).buffer))}function h(){return t.createVertexArray()}function d(N){return t.bindVertexArray(N)}function p(N){return t.deleteVertexArray(N)}function g(N,G,te){const Q=te.wireframe===!0;let K=r[N.id];K===void 0&&(K={},r[N.id]=K);let ee=K[G.id];ee===void 0&&(ee={},K[G.id]=ee);let O=ee[Q];return O===void 0&&(O=v(h()),ee[Q]=O),O}function v(N){const G=[],te=[],Q=[];for(let K=0;K<i;K++)G[K]=0,te[K]=0,Q[K]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:te,attributeDivisors:Q,object:N,attributes:{},index:null}}function _(N,G,te,Q){const K=a.attributes,ee=G.attributes;let O=0;const q=te.getAttributes();for(const V in q)if(q[V].location>=0){const W=K[V];let re=ee[V];if(re===void 0&&(V==="instanceMatrix"&&N.instanceMatrix&&(re=N.instanceMatrix),V==="instanceColor"&&N.instanceColor&&(re=N.instanceColor)),W===void 0||W.attribute!==re||re&&W.data!==re.data)return!0;O++}return a.attributesNum!==O||a.index!==Q}function j(N,G,te,Q){const K={},ee=G.attributes;let O=0;const q=te.getAttributes();for(const V in q)if(q[V].location>=0){let W=ee[V];W===void 0&&(V==="instanceMatrix"&&N.instanceMatrix&&(W=N.instanceMatrix),V==="instanceColor"&&N.instanceColor&&(W=N.instanceColor));const re={};re.attribute=W,W&&W.data&&(re.data=W.data),K[V]=re,O++}a.attributes=K,a.attributesNum=O,a.index=Q}function T(){const N=a.newAttributes;for(let G=0,te=N.length;G<te;G++)N[G]=0}function C(N){w(N,0)}function w(N,G){const te=a.newAttributes,Q=a.enabledAttributes,K=a.attributeDivisors;te[N]=1,Q[N]===0&&(t.enableVertexAttribArray(N),Q[N]=1),K[N]!==G&&(t.vertexAttribDivisor(N,G),K[N]=G)}function A(){const N=a.newAttributes,G=a.enabledAttributes;for(let te=0,Q=G.length;te<Q;te++)G[te]!==N[te]&&(t.disableVertexAttribArray(te),G[te]=0)}function L(N,G,te,Q,K,ee,O){O===!0?t.vertexAttribIPointer(N,G,te,K,ee):t.vertexAttribPointer(N,G,te,Q,K,ee)}function k(N,G,te,Q){T();const K=Q.attributes,ee=te.getAttributes(),O=G.defaultAttributeValues;for(const q in ee){const V=ee[q];if(V.location>=0){let le=K[q];if(le===void 0&&(q==="instanceMatrix"&&N.instanceMatrix&&(le=N.instanceMatrix),q==="instanceColor"&&N.instanceColor&&(le=N.instanceColor)),le!==void 0){const W=le.normalized,re=le.itemSize,de=e.get(le);if(de===void 0)continue;const fe=de.buffer,ae=de.type,pe=de.bytesPerElement,De=ae===t.INT||ae===t.UNSIGNED_INT||le.gpuType===bw;if(le.isInterleavedBufferAttribute){const Be=le.data,Ue=Be.stride,Ze=le.offset;if(Be.isInstancedInterleavedBuffer){for(let Je=0;Je<V.locationSize;Je++)w(V.location+Je,Be.meshPerAttribute);N.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=Be.meshPerAttribute*Be.count)}else for(let Je=0;Je<V.locationSize;Je++)C(V.location+Je);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let Je=0;Je<V.locationSize;Je++)L(V.location+Je,re/V.locationSize,ae,W,Ue*pe,(Ze+re/V.locationSize*Je)*pe,De)}else{if(le.isInstancedBufferAttribute){for(let Be=0;Be<V.locationSize;Be++)w(V.location+Be,le.meshPerAttribute);N.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let Be=0;Be<V.locationSize;Be++)C(V.location+Be);t.bindBuffer(t.ARRAY_BUFFER,fe);for(let Be=0;Be<V.locationSize;Be++)L(V.location+Be,re/V.locationSize,ae,W,re*pe,re/V.locationSize*Be*pe,De)}}else if(O!==void 0){const W=O[q];if(W!==void 0)switch(W.length){case 2:t.vertexAttrib2fv(V.location,W);break;case 3:t.vertexAttrib3fv(V.location,W);break;case 4:t.vertexAttrib4fv(V.location,W);break;default:t.vertexAttrib1fv(V.location,W)}}}}A()}function I(){H();for(const N in r){const G=r[N];for(const te in G){const Q=G[te];for(const K in Q)p(Q[K].object),delete Q[K];delete G[te]}delete r[N]}}function z(N){if(r[N.id]===void 0)return;const G=r[N.id];for(const te in G){const Q=G[te];for(const K in Q)p(Q[K].object),delete Q[K];delete G[te]}delete r[N.id]}function U(N){for(const G in r){const te=r[G];if(te[N.id]===void 0)continue;const Q=te[N.id];for(const K in Q)p(Q[K].object),delete Q[K];delete te[N.id]}}function H(){P(),o=!0,a!==s&&(a=s,d(a.object))}function P(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:l,reset:H,resetDefaultState:P,dispose:I,releaseStatesOfGeometry:z,releaseStatesOfProgram:U,initAttributes:T,enableAttribute:C,disableUnusedAttributes:A}}function uxe(t,e,i){let r;function s(d){r=d}function a(d,p){t.drawArrays(r,d,p),i.update(p,r,1)}function o(d,p,g){g!==0&&(t.drawArraysInstanced(r,d,p,g),i.update(p,r,g))}function l(d,p,g){if(g===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,d,0,p,0,g);let _=0;for(let j=0;j<g;j++)_+=p[j];i.update(_,r,1)}function h(d,p,g,v){if(g===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let j=0;j<d.length;j++)o(d[j],p[j],v[j]);else{_.multiDrawArraysInstancedWEBGL(r,d,0,p,0,v,0,g);let j=0;for(let T=0;T<g;T++)j+=p[T]*v[T];i.update(j,r,1)}}this.setMode=s,this.render=a,this.renderInstances=o,this.renderMultiDraw=l,this.renderMultiDrawInstances=h}function dxe(t,e,i,r){let s;function a(){if(s!==void 0)return s;if(e.has("EXT_texture_filter_anisotropic")===!0){const U=e.get("EXT_texture_filter_anisotropic");s=t.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else s=0;return s}function o(U){return!(U!==Fs&&r.convert(U)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function l(U){const H=U===Jg&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(U!==Xo&&r.convert(U)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&U!==za&&!H)}function h(U){if(U==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return U==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let d=i.precision!==void 0?i.precision:"highp";const p=h(d);p!==d&&(console.warn("THREE.WebGLRenderer:",d,"not supported, using",p,"instead."),d=p);const g=i.logarithmicDepthBuffer===!0,v=i.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),_=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),j=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=t.getParameter(t.MAX_TEXTURE_SIZE),C=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),w=t.getParameter(t.MAX_VERTEX_ATTRIBS),A=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),L=t.getParameter(t.MAX_VARYING_VECTORS),k=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),I=j>0,z=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:h,textureFormatReadable:o,textureTypeReadable:l,precision:d,logarithmicDepthBuffer:g,reverseDepthBuffer:v,maxTextures:_,maxVertexTextures:j,maxTextureSize:T,maxCubemapSize:C,maxAttributes:w,maxVertexUniforms:A,maxVaryings:L,maxFragmentUniforms:k,vertexTextures:I,maxSamples:z}}function fxe(t){const e=this;let i=null,r=0,s=!1,a=!1;const o=new Xu,l=new wn,h={value:null,needsUpdate:!1};this.uniform=h,this.numPlanes=0,this.numIntersection=0,this.init=function(g,v){const _=g.length!==0||v||r!==0||s;return s=v,r=g.length,_},this.beginShadows=function(){a=!0,p(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(g,v){i=p(g,v,0)},this.setState=function(g,v,_){const j=g.clippingPlanes,T=g.clipIntersection,C=g.clipShadows,w=t.get(g);if(!s||j===null||j.length===0||a&&!C)a?p(null):d();else{const A=a?0:r,L=A*4;let k=w.clippingState||null;h.value=k,k=p(j,v,L,_);for(let I=0;I!==L;++I)k[I]=i[I];w.clippingState=k,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=A}};function d(){h.value!==i&&(h.value=i,h.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function p(g,v,_,j){const T=g!==null?g.length:0;let C=null;if(T!==0){if(C=h.value,j!==!0||C===null){const w=_+T*4,A=v.matrixWorldInverse;l.getNormalMatrix(A),(C===null||C.length<w)&&(C=new Float32Array(w));for(let L=0,k=_;L!==T;++L,k+=4)o.copy(g[L]).applyMatrix4(A,l),o.normal.toArray(C,k),C[k+3]=o.constant}h.value=C,h.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,C}}function pxe(t){let e=new WeakMap;function i(o,l){return l===q0?o.mapping=Bh:l===W0&&(o.mapping=od),o}function r(o){if(o&&o.isTexture){const l=o.mapping;if(l===q0||l===W0)if(e.has(o)){const h=e.get(o).texture;return i(h,o.mapping)}else{const h=o.image;if(h&&h.height>0){const d=new tV(h.height);return d.fromEquirectangularTexture(t,o),e.set(o,d),o.addEventListener("dispose",s),i(d.texture,o.mapping)}else return null}}return o}function s(o){const l=o.target;l.removeEventListener("dispose",s);const h=e.get(l);h!==void 0&&(e.delete(l),h.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}const Km=4,c3=[.125,.215,.35,.446,.526,.582],kf=20,pC=new Nv,h3=new Dt;let mC=null,gC=0,xC=0,yC=!1;const Df=(1+Math.sqrt(5))/2,Im=1/Df,u3=[new oe(-Df,Im,0),new oe(Df,Im,0),new oe(-Im,0,Df),new oe(Im,0,Df),new oe(0,Df,-Im),new oe(0,Df,Im),new oe(-1,1,-1),new oe(1,1,-1),new oe(-1,1,1),new oe(1,1,1)],mxe=new oe;class gE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,i=0,r=.1,s=100,a={}){const{size:o=256,position:l=mxe}=a;mC=this._renderer.getRenderTarget(),gC=this._renderer.getActiveCubeFace(),xC=this._renderer.getActiveMipmapLevel(),yC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const h=this._allocateTargets();return h.depthBuffer=!0,this._sceneToCubeUV(e,r,s,h,l),i>0&&this._blur(h,0,0,i),this._applyPMREM(h),this._cleanup(h),h}fromEquirectangular(e,i=null){return this._fromTexture(e,i)}fromCubemap(e,i=null){return this._fromTexture(e,i)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=p3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=f3(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(mC,gC,xC),this._renderer.xr.enabled=yC,e.scissorTest=!1,gj(e,0,0,e.width,e.height)}_fromTexture(e,i){e.mapping===Bh||e.mapping===od?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),mC=this._renderer.getRenderTarget(),gC=this._renderer.getActiveCubeFace(),xC=this._renderer.getActiveMipmapLevel(),yC=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=i||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),i=4*this._cubeSize,r={magFilter:zr,minFilter:zr,generateMipmaps:!1,type:Jg,format:Fs,colorSpace:ld,depthBuffer:!1},s=d3(e,i,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==i){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=d3(e,i,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=gxe(a)),this._blurMaterial=xxe(a,e,i)}return s}_compileMaterial(e){const i=new Mr(this._lodPlanes[0],e);this._renderer.compile(i,pC)}_sceneToCubeUV(e,i,r,s,a){const h=new es(90,1,i,r),d=[1,-1,1,1,1,1],p=[1,1,1,-1,-1,-1],g=this._renderer,v=g.autoClear,_=g.toneMapping;g.getClearColor(h3),g.toneMapping=Dc,g.autoClear=!1;const j=new pd({name:"PMREM.Background",side:ma,depthWrite:!1,depthTest:!1}),T=new Mr(new fp,j);let C=!1;const w=e.background;w?w.isColor&&(j.color.copy(w),e.background=null,C=!0):(j.color.copy(h3),C=!0);for(let A=0;A<6;A++){const L=A%3;L===0?(h.up.set(0,d[A],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x+p[A],a.y,a.z)):L===1?(h.up.set(0,0,d[A]),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y+p[A],a.z)):(h.up.set(0,d[A],0),h.position.set(a.x,a.y,a.z),h.lookAt(a.x,a.y,a.z+p[A]));const k=this._cubeSize;gj(s,L*k,A>2?k:0,k,k),g.setRenderTarget(s),C&&g.render(T,h),g.render(e,h)}T.geometry.dispose(),T.material.dispose(),g.toneMapping=_,g.autoClear=v,e.background=w}_textureToCubeUV(e,i){const r=this._renderer,s=e.mapping===Bh||e.mapping===od;s?(this._cubemapMaterial===null&&(this._cubemapMaterial=p3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=f3());const a=s?this._cubemapMaterial:this._equirectMaterial,o=new Mr(this._lodPlanes[0],a),l=a.uniforms;l.envMap.value=e;const h=this._cubeSize;gj(i,0,0,3*h,2*h),r.setRenderTarget(i),r.render(o,pC)}_applyPMREM(e){const i=this._renderer,r=i.autoClear;i.autoClear=!1;const s=this._lodPlanes.length;for(let a=1;a<s;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),l=u3[(s-a-1)%u3.length];this._blur(e,a-1,a,o,l)}i.autoClear=r}_blur(e,i,r,s,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,i,r,s,"latitudinal",a),this._halfBlur(o,e,r,r,s,"longitudinal",a)}_halfBlur(e,i,r,s,a,o,l){const h=this._renderer,d=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const p=3,g=new Mr(this._lodPlanes[s],d),v=d.uniforms,_=this._sizeLods[r]-1,j=isFinite(a)?Math.PI/(2*_):2*Math.PI/(2*kf-1),T=a/j,C=isFinite(a)?1+Math.floor(p*T):kf;C>kf&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${C} samples when the maximum is set to ${kf}`);const w=[];let A=0;for(let U=0;U<kf;++U){const H=U/T,P=Math.exp(-H*H/2);w.push(P),U===0?A+=P:U<C&&(A+=2*P)}for(let U=0;U<w.length;U++)w[U]=w[U]/A;v.envMap.value=e.texture,v.samples.value=C,v.weights.value=w,v.latitudinal.value=o==="latitudinal",l&&(v.poleAxis.value=l);const{_lodMax:L}=this;v.dTheta.value=j,v.mipInt.value=L-r;const k=this._sizeLods[s],I=3*k*(s>L-Km?s-L+Km:0),z=4*(this._cubeSize-k);gj(i,I,z,3*k,2*k),h.setRenderTarget(i),h.render(g,pC)}}function gxe(t){const e=[],i=[],r=[];let s=t;const a=t-Km+1+c3.length;for(let o=0;o<a;o++){const l=Math.pow(2,s);i.push(l);let h=1/l;o>t-Km?h=c3[o-t+Km-1]:o===0&&(h=0),r.push(h);const d=1/(l-2),p=-d,g=1+d,v=[p,p,g,p,g,g,p,p,g,g,p,g],_=6,j=6,T=3,C=2,w=1,A=new Float32Array(T*j*_),L=new Float32Array(C*j*_),k=new Float32Array(w*j*_);for(let z=0;z<_;z++){const U=z%3*2/3-1,H=z>2?0:-1,P=[U,H,0,U+2/3,H,0,U+2/3,H+1,0,U,H,0,U+2/3,H+1,0,U,H+1,0];A.set(P,T*j*z),L.set(v,C*j*z);const N=[z,z,z,z,z,z];k.set(N,w*j*z)}const I=new An;I.setAttribute("position",new Mi(A,T)),I.setAttribute("uv",new Mi(L,C)),I.setAttribute("faceIndex",new Mi(k,w)),e.push(I),s>Km&&s--}return{lodPlanes:e,sizeLods:i,sigmas:r}}function d3(t,e,i){const r=new Oc(t,e,i);return r.texture.mapping=Qg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function gj(t,e,i,r,s){t.viewport.set(e,i,r,s),t.scissor.set(e,i,r,s)}function xxe(t,e,i){const r=new Float32Array(kf),s=new oe(0,1,0);return new Ll({name:"SphericalGaussianBlur",defines:{n:kf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/i,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:s}},vertexShader:LR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Rh,depthTest:!1,depthWrite:!1})}function f3(){return new Ll({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:LR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Rh,depthTest:!1,depthWrite:!1})}function p3(){return new Ll({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:LR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Rh,depthTest:!1,depthWrite:!1})}function LR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function yxe(t){let e=new WeakMap,i=null;function r(l){if(l&&l.isTexture){const h=l.mapping,d=h===q0||h===W0,p=h===Bh||h===od;if(d||p){let g=e.get(l);const v=g!==void 0?g.texture.pmremVersion:0;if(l.isRenderTargetTexture&&l.pmremVersion!==v)return i===null&&(i=new gE(t)),g=d?i.fromEquirectangular(l,g):i.fromCubemap(l,g),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),g.texture;if(g!==void 0)return g.texture;{const _=l.image;return d&&_&&_.height>0||p&&_&&s(_)?(i===null&&(i=new gE(t)),g=d?i.fromEquirectangular(l):i.fromCubemap(l),g.texture.pmremVersion=l.pmremVersion,e.set(l,g),l.addEventListener("dispose",a),g.texture):null}}}return l}function s(l){let h=0;const d=6;for(let p=0;p<d;p++)l[p]!==void 0&&h++;return h===d}function a(l){const h=l.target;h.removeEventListener("dispose",a);const d=e.get(h);d!==void 0&&(e.delete(h),d.dispose())}function o(){e=new WeakMap,i!==null&&(i.dispose(),i=null)}return{get:r,dispose:o}}function vxe(t){const e={};function i(r){if(e[r]!==void 0)return e[r];let s;switch(r){case"WEBGL_depth_texture":s=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:s=t.getExtension(r)}return e[r]=s,s}return{has:function(r){return i(r)!==null},init:function(){i("EXT_color_buffer_float"),i("WEBGL_clip_cull_distance"),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float"),i("WEBGL_multisampled_render_to_texture"),i("WEBGL_render_shared_exponent")},get:function(r){const s=i(r);return s===null&&sg("THREE.WebGLRenderer: "+r+" extension not supported."),s}}}function _xe(t,e,i,r){const s={},a=new WeakMap;function o(g){const v=g.target;v.index!==null&&e.remove(v.index);for(const j in v.attributes)e.remove(v.attributes[j]);v.removeEventListener("dispose",o),delete s[v.id];const _=a.get(v);_&&(e.remove(_),a.delete(v)),r.releaseStatesOfGeometry(v),v.isInstancedBufferGeometry===!0&&delete v._maxInstanceCount,i.memory.geometries--}function l(g,v){return s[v.id]===!0||(v.addEventListener("dispose",o),s[v.id]=!0,i.memory.geometries++),v}function h(g){const v=g.attributes;for(const _ in v)e.update(v[_],t.ARRAY_BUFFER)}function d(g){const v=[],_=g.index,j=g.attributes.position;let T=0;if(_!==null){const A=_.array;T=_.version;for(let L=0,k=A.length;L<k;L+=3){const I=A[L+0],z=A[L+1],U=A[L+2];v.push(I,z,z,U,U,I)}}else if(j!==void 0){const A=j.array;T=j.version;for(let L=0,k=A.length/3-1;L<k;L+=3){const I=L+0,z=L+1,U=L+2;v.push(I,z,z,U,U,I)}}else return;const C=new(X6(v)?sR:rR)(v,1);C.version=T;const w=a.get(g);w&&e.remove(w),a.set(g,C)}function p(g){const v=a.get(g);if(v){const _=g.index;_!==null&&v.version<_.version&&d(g)}else d(g);return a.get(g)}return{get:l,update:h,getWireframeAttribute:p}}function bxe(t,e,i){let r;function s(v){r=v}let a,o;function l(v){a=v.type,o=v.bytesPerElement}function h(v,_){t.drawElements(r,_,a,v*o),i.update(_,r,1)}function d(v,_,j){j!==0&&(t.drawElementsInstanced(r,_,a,v*o,j),i.update(_,r,j))}function p(v,_,j){if(j===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,_,0,a,v,0,j);let C=0;for(let w=0;w<j;w++)C+=_[w];i.update(C,r,1)}function g(v,_,j,T){if(j===0)return;const C=e.get("WEBGL_multi_draw");if(C===null)for(let w=0;w<v.length;w++)d(v[w]/o,_[w],T[w]);else{C.multiDrawElementsInstancedWEBGL(r,_,0,a,v,0,T,0,j);let w=0;for(let A=0;A<j;A++)w+=_[A]*T[A];i.update(w,r,1)}}this.setMode=s,this.setIndex=l,this.render=h,this.renderInstances=d,this.renderMultiDraw=p,this.renderMultiDrawInstances=g}function jxe(t){const e={geometries:0,textures:0},i={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,l){switch(i.calls++,o){case t.TRIANGLES:i.triangles+=l*(a/3);break;case t.LINES:i.lines+=l*(a/2);break;case t.LINE_STRIP:i.lines+=l*(a-1);break;case t.LINE_LOOP:i.lines+=l*a;break;case t.POINTS:i.points+=l*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function s(){i.calls=0,i.triangles=0,i.points=0,i.lines=0}return{memory:e,render:i,programs:null,autoReset:!0,reset:s,update:r}}function Sxe(t,e,i){const r=new WeakMap,s=new ti;function a(o,l,h){const d=o.morphTargetInfluences,p=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,g=p!==void 0?p.length:0;let v=r.get(l);if(v===void 0||v.count!==g){let P=function(){U.dispose(),r.delete(l),l.removeEventListener("dispose",P)};v!==void 0&&v.texture.dispose();const _=l.morphAttributes.position!==void 0,j=l.morphAttributes.normal!==void 0,T=l.morphAttributes.color!==void 0,C=l.morphAttributes.position||[],w=l.morphAttributes.normal||[],A=l.morphAttributes.color||[];let L=0;_===!0&&(L=1),j===!0&&(L=2),T===!0&&(L=3);let k=l.attributes.position.count*L,I=1;k>e.maxTextureSize&&(I=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const z=new Float32Array(k*I*4*g),U=new Ew(z,k,I,g);U.type=za,U.needsUpdate=!0;const H=L*4;for(let N=0;N<g;N++){const G=C[N],te=w[N],Q=A[N],K=k*I*4*N;for(let ee=0;ee<G.count;ee++){const O=ee*H;_===!0&&(s.fromBufferAttribute(G,ee),z[K+O+0]=s.x,z[K+O+1]=s.y,z[K+O+2]=s.z,z[K+O+3]=0),j===!0&&(s.fromBufferAttribute(te,ee),z[K+O+4]=s.x,z[K+O+5]=s.y,z[K+O+6]=s.z,z[K+O+7]=0),T===!0&&(s.fromBufferAttribute(Q,ee),z[K+O+8]=s.x,z[K+O+9]=s.y,z[K+O+10]=s.z,z[K+O+11]=Q.itemSize===4?s.w:1)}}v={count:g,texture:U,size:new it(k,I)},r.set(l,v),l.addEventListener("dispose",P)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)h.getUniforms().setValue(t,"morphTexture",o.morphTexture,i);else{let _=0;for(let T=0;T<d.length;T++)_+=d[T];const j=l.morphTargetsRelative?1:1-_;h.getUniforms().setValue(t,"morphTargetBaseInfluence",j),h.getUniforms().setValue(t,"morphTargetInfluences",d)}h.getUniforms().setValue(t,"morphTargetsTexture",v.texture,i),h.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}return{update:a}}function wxe(t,e,i,r){let s=new WeakMap;function a(h){const d=r.render.frame,p=h.geometry,g=e.get(h,p);if(s.get(g)!==d&&(e.update(g),s.set(g,d)),h.isInstancedMesh&&(h.hasEventListener("dispose",l)===!1&&h.addEventListener("dispose",l),s.get(h)!==d&&(i.update(h.instanceMatrix,t.ARRAY_BUFFER),h.instanceColor!==null&&i.update(h.instanceColor,t.ARRAY_BUFFER),s.set(h,d))),h.isSkinnedMesh){const v=h.skeleton;s.get(v)!==d&&(v.update(),s.set(v,d))}return g}function o(){s=new WeakMap}function l(h){const d=h.target;d.removeEventListener("dispose",l),i.remove(d.instanceMatrix),d.instanceColor!==null&&i.remove(d.instanceColor)}return{update:a,dispose:o}}const eG=new sr,m3=new hR(1,1),tG=new Ew,nG=new Aw,iG=new Mv,g3=[],x3=[],y3=new Float32Array(16),v3=new Float32Array(9),_3=new Float32Array(4);function ix(t,e,i){const r=t[0];if(r<=0||r>0)return t;const s=e*i;let a=g3[s];if(a===void 0&&(a=new Float32Array(s),g3[s]=a),e!==0){r.toArray(a,0);for(let o=1,l=0;o!==e;++o)l+=i,t[o].toArray(a,l)}return a}function Vr(t,e){if(t.length!==e.length)return!1;for(let i=0,r=t.length;i<r;i++)if(t[i]!==e[i])return!1;return!0}function Gr(t,e){for(let i=0,r=e.length;i<r;i++)t[i]=e[i]}function Zw(t,e){let i=x3[e];i===void 0&&(i=new Int32Array(e),x3[e]=i);for(let r=0;r!==e;++r)i[r]=t.allocateTextureUnit();return i}function Txe(t,e){const i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function Cxe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Vr(i,e))return;t.uniform2fv(this.addr,e),Gr(i,e)}}function Mxe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(e.r!==void 0)(i[0]!==e.r||i[1]!==e.g||i[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Vr(i,e))return;t.uniform3fv(this.addr,e),Gr(i,e)}}function Exe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Vr(i,e))return;t.uniform4fv(this.addr,e),Gr(i,e)}}function Axe(t,e){const i=this.cache,r=e.elements;if(r===void 0){if(Vr(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),Gr(i,e)}else{if(Vr(i,r))return;_3.set(r),t.uniformMatrix2fv(this.addr,!1,_3),Gr(i,r)}}function Rxe(t,e){const i=this.cache,r=e.elements;if(r===void 0){if(Vr(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),Gr(i,e)}else{if(Vr(i,r))return;v3.set(r),t.uniformMatrix3fv(this.addr,!1,v3),Gr(i,r)}}function Lxe(t,e){const i=this.cache,r=e.elements;if(r===void 0){if(Vr(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),Gr(i,e)}else{if(Vr(i,r))return;y3.set(r),t.uniformMatrix4fv(this.addr,!1,y3),Gr(i,r)}}function Dxe(t,e){const i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function kxe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Vr(i,e))return;t.uniform2iv(this.addr,e),Gr(i,e)}}function Nxe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(Vr(i,e))return;t.uniform3iv(this.addr,e),Gr(i,e)}}function Pxe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Vr(i,e))return;t.uniform4iv(this.addr,e),Gr(i,e)}}function Oxe(t,e){const i=this.cache;i[0]!==e&&(t.uniform1ui(this.addr,e),i[0]=e)}function Bxe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Vr(i,e))return;t.uniform2uiv(this.addr,e),Gr(i,e)}}function Ixe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else{if(Vr(i,e))return;t.uniform3uiv(this.addr,e),Gr(i,e)}}function Fxe(t,e){const i=this.cache;if(e.x!==void 0)(i[0]!==e.x||i[1]!==e.y||i[2]!==e.z||i[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Vr(i,e))return;t.uniform4uiv(this.addr,e),Gr(i,e)}}function Uxe(t,e,i){const r=this.cache,s=i.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s);let a;this.type===t.SAMPLER_2D_SHADOW?(m3.compareFunction=tR,a=m3):a=eG,i.setTexture2D(e||a,s)}function zxe(t,e,i){const r=this.cache,s=i.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),i.setTexture3D(e||nG,s)}function Hxe(t,e,i){const r=this.cache,s=i.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),i.setTextureCube(e||iG,s)}function Vxe(t,e,i){const r=this.cache,s=i.allocateTextureUnit();r[0]!==s&&(t.uniform1i(this.addr,s),r[0]=s),i.setTexture2DArray(e||tG,s)}function Gxe(t){switch(t){case 5126:return Txe;case 35664:return Cxe;case 35665:return Mxe;case 35666:return Exe;case 35674:return Axe;case 35675:return Rxe;case 35676:return Lxe;case 5124:case 35670:return Dxe;case 35667:case 35671:return kxe;case 35668:case 35672:return Nxe;case 35669:case 35673:return Pxe;case 5125:return Oxe;case 36294:return Bxe;case 36295:return Ixe;case 36296:return Fxe;case 35678:case 36198:case 36298:case 36306:case 35682:return Uxe;case 35679:case 36299:case 36307:return zxe;case 35680:case 36300:case 36308:case 36293:return Hxe;case 36289:case 36303:case 36311:case 36292:return Vxe}}function $xe(t,e){t.uniform1fv(this.addr,e)}function qxe(t,e){const i=ix(e,this.size,2);t.uniform2fv(this.addr,i)}function Wxe(t,e){const i=ix(e,this.size,3);t.uniform3fv(this.addr,i)}function Xxe(t,e){const i=ix(e,this.size,4);t.uniform4fv(this.addr,i)}function Yxe(t,e){const i=ix(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function Kxe(t,e){const i=ix(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function Zxe(t,e){const i=ix(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function Qxe(t,e){t.uniform1iv(this.addr,e)}function Jxe(t,e){t.uniform2iv(this.addr,e)}function eye(t,e){t.uniform3iv(this.addr,e)}function tye(t,e){t.uniform4iv(this.addr,e)}function nye(t,e){t.uniform1uiv(this.addr,e)}function iye(t,e){t.uniform2uiv(this.addr,e)}function rye(t,e){t.uniform3uiv(this.addr,e)}function sye(t,e){t.uniform4uiv(this.addr,e)}function aye(t,e,i){const r=this.cache,s=e.length,a=Zw(i,s);Vr(r,a)||(t.uniform1iv(this.addr,a),Gr(r,a));for(let o=0;o!==s;++o)i.setTexture2D(e[o]||eG,a[o])}function oye(t,e,i){const r=this.cache,s=e.length,a=Zw(i,s);Vr(r,a)||(t.uniform1iv(this.addr,a),Gr(r,a));for(let o=0;o!==s;++o)i.setTexture3D(e[o]||nG,a[o])}function lye(t,e,i){const r=this.cache,s=e.length,a=Zw(i,s);Vr(r,a)||(t.uniform1iv(this.addr,a),Gr(r,a));for(let o=0;o!==s;++o)i.setTextureCube(e[o]||iG,a[o])}function cye(t,e,i){const r=this.cache,s=e.length,a=Zw(i,s);Vr(r,a)||(t.uniform1iv(this.addr,a),Gr(r,a));for(let o=0;o!==s;++o)i.setTexture2DArray(e[o]||tG,a[o])}function hye(t){switch(t){case 5126:return $xe;case 35664:return qxe;case 35665:return Wxe;case 35666:return Xxe;case 35674:return Yxe;case 35675:return Kxe;case 35676:return Zxe;case 5124:case 35670:return Qxe;case 35667:case 35671:return Jxe;case 35668:case 35672:return eye;case 35669:case 35673:return tye;case 5125:return nye;case 36294:return iye;case 36295:return rye;case 36296:return sye;case 35678:case 36198:case 36298:case 36306:case 35682:return aye;case 35679:case 36299:case 36307:return oye;case 35680:case 36300:case 36308:case 36293:return lye;case 36289:case 36303:case 36311:case 36292:return cye}}class uye{constructor(e,i,r){this.id=e,this.addr=r,this.cache=[],this.type=i.type,this.setValue=Gxe(i.type)}}class dye{constructor(e,i,r){this.id=e,this.addr=r,this.cache=[],this.type=i.type,this.size=i.size,this.setValue=hye(i.type)}}class fye{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,i,r){const s=this.seq;for(let a=0,o=s.length;a!==o;++a){const l=s[a];l.setValue(e,i[l.id],r)}}}const vC=/(\w+)(\])?(\[|\.)?/g;function b3(t,e){t.seq.push(e),t.map[e.id]=e}function pye(t,e,i){const r=t.name,s=r.length;for(vC.lastIndex=0;;){const a=vC.exec(r),o=vC.lastIndex;let l=a[1];const h=a[2]==="]",d=a[3];if(h&&(l=l|0),d===void 0||d==="["&&o+2===s){b3(i,d===void 0?new uye(l,t,e):new dye(l,t,e));break}else{let g=i.map[l];g===void 0&&(g=new fye(l),b3(i,g)),i=g}}}class Hj{constructor(e,i){this.seq=[],this.map={};const r=e.getProgramParameter(i,e.ACTIVE_UNIFORMS);for(let s=0;s<r;++s){const a=e.getActiveUniform(i,s),o=e.getUniformLocation(i,a.name);pye(a,o,this)}}setValue(e,i,r,s){const a=this.map[i];a!==void 0&&a.setValue(e,r,s)}setOptional(e,i,r){const s=i[r];s!==void 0&&this.setValue(e,r,s)}static upload(e,i,r,s){for(let a=0,o=i.length;a!==o;++a){const l=i[a],h=r[l.id];h.needsUpdate!==!1&&l.setValue(e,h.value,s)}}static seqWithValue(e,i){const r=[];for(let s=0,a=e.length;s!==a;++s){const o=e[s];o.id in i&&r.push(o)}return r}}function j3(t,e,i){const r=t.createShader(e);return t.shaderSource(r,i),t.compileShader(r),r}const mye=37297;let gye=0;function xye(t,e){const i=t.split(`
`),r=[],s=Math.max(e-6,0),a=Math.min(e+6,i.length);for(let o=s;o<a;o++){const l=o+1;r.push(`${l===e?">":" "} ${l}: ${i[o]}`)}return r.join(`
`)}const S3=new wn;function yye(t){qn._getMatrix(S3,qn.workingColorSpace,t);const e=`mat3( ${S3.elements.map(i=>i.toFixed(4))} )`;switch(qn.getTransfer(t)){case Q0:return[e,"LinearTransferOETF"];case _i:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function w3(t,e,i){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=t.getShaderInfoLog(e).trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return i.toUpperCase()+`

`+s+`

`+xye(t.getShaderSource(e),o)}else return s}function vye(t,e){const i=yye(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${i[1]}( vec4( value.rgb * ${i[0]}, value.a ) );`,"}"].join(`
`)}function _ye(t,e){let i;switch(e){case E6:i="Linear";break;case A6:i="Reinhard";break;case R6:i="Cineon";break;case $A:i="ACESFilmic";break;case D6:i="AgX";break;case k6:i="Neutral";break;case L6:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}const xj=new oe;function bye(){qn.getLuminanceCoefficients(xj);const t=xj.x.toFixed(4),e=xj.y.toFixed(4),i=xj.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${i} );`,"	return dot( weights, rgb );","}"].join(`
`)}function jye(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(a0).join(`
`)}function Sye(t){const e=[];for(const i in t){const r=t[i];r!==!1&&e.push("#define "+i+" "+r)}return e.join(`
`)}function wye(t,e){const i={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let s=0;s<r;s++){const a=t.getActiveAttrib(e,s),o=a.name;let l=1;a.type===t.FLOAT_MAT2&&(l=2),a.type===t.FLOAT_MAT3&&(l=3),a.type===t.FLOAT_MAT4&&(l=4),i[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:l}}return i}function a0(t){return t!==""}function T3(t,e){const i=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,i).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function C3(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Tye=/^[ \t]*#include +<([\w\d./]+)>/gm;function xE(t){return t.replace(Tye,Mye)}const Cye=new Map;function Mye(t,e){let i=Ln[e];if(i===void 0){const r=Cye.get(e);if(r!==void 0)i=Ln[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return xE(i)}const Eye=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function M3(t){return t.replace(Eye,Aye)}function Aye(t,e,i,r){let s="";for(let a=parseInt(e);a<parseInt(i);a++)s+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return s}function E3(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Rye(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===vw?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===m0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===wl&&(e="SHADOWMAP_TYPE_VSM"),e}function Lye(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Bh:case od:e="ENVMAP_TYPE_CUBE";break;case Qg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Dye(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case od:e="ENVMAP_MODE_REFRACTION";break}return e}function kye(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Tv:e="ENVMAP_BLENDING_MULTIPLY";break;case C6:e="ENVMAP_BLENDING_MIX";break;case M6:e="ENVMAP_BLENDING_ADD";break}return e}function Nye(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const i=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:r,maxMip:i}}function Pye(t,e,i,r){const s=t.getContext(),a=i.defines;let o=i.vertexShader,l=i.fragmentShader;const h=Rye(i),d=Lye(i),p=Dye(i),g=kye(i),v=Nye(i),_=jye(i),j=Sye(a),T=s.createProgram();let C,w,A=i.glslVersion?"#version "+i.glslVersion+`
`:"";i.isRawShaderMaterial?(C=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,j].filter(a0).join(`
`),C.length>0&&(C+=`
`),w=["#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,j].filter(a0).join(`
`),w.length>0&&(w+=`
`)):(C=[E3(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,j,i.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",i.batching?"#define USE_BATCHING":"",i.batchingColor?"#define USE_BATCHING_COLOR":"",i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.instancingMorph?"#define USE_INSTANCING_MORPH":"",i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+p:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.displacementMap?"#define USE_DISPLACEMENTMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.mapUv?"#define MAP_UV "+i.mapUv:"",i.alphaMapUv?"#define ALPHAMAP_UV "+i.alphaMapUv:"",i.lightMapUv?"#define LIGHTMAP_UV "+i.lightMapUv:"",i.aoMapUv?"#define AOMAP_UV "+i.aoMapUv:"",i.emissiveMapUv?"#define EMISSIVEMAP_UV "+i.emissiveMapUv:"",i.bumpMapUv?"#define BUMPMAP_UV "+i.bumpMapUv:"",i.normalMapUv?"#define NORMALMAP_UV "+i.normalMapUv:"",i.displacementMapUv?"#define DISPLACEMENTMAP_UV "+i.displacementMapUv:"",i.metalnessMapUv?"#define METALNESSMAP_UV "+i.metalnessMapUv:"",i.roughnessMapUv?"#define ROUGHNESSMAP_UV "+i.roughnessMapUv:"",i.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+i.anisotropyMapUv:"",i.clearcoatMapUv?"#define CLEARCOATMAP_UV "+i.clearcoatMapUv:"",i.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+i.clearcoatNormalMapUv:"",i.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+i.clearcoatRoughnessMapUv:"",i.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+i.iridescenceMapUv:"",i.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+i.iridescenceThicknessMapUv:"",i.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+i.sheenColorMapUv:"",i.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+i.sheenRoughnessMapUv:"",i.specularMapUv?"#define SPECULARMAP_UV "+i.specularMapUv:"",i.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+i.specularColorMapUv:"",i.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+i.specularIntensityMapUv:"",i.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+i.transmissionMapUv:"",i.thicknessMapUv?"#define THICKNESSMAP_UV "+i.thicknessMapUv:"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&i.flatShading===!1?"#define USE_MORPHNORMALS":"",i.morphColors?"#define USE_MORPHCOLORS":"",i.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+i.morphTextureStride:"",i.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+i.morphTargetsCount:"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+h:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(a0).join(`
`),w=[E3(i),"#define SHADER_TYPE "+i.shaderType,"#define SHADER_NAME "+i.shaderName,j,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+d:"",i.envMap?"#define "+p:"",i.envMap?"#define "+g:"",v?"#define CUBEUV_TEXEL_WIDTH "+v.texelWidth:"",v?"#define CUBEUV_TEXEL_HEIGHT "+v.texelHeight:"",v?"#define CUBEUV_MAX_MIP "+v.maxMip+".0":"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",i.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.anisotropy?"#define USE_ANISOTROPY":"",i.anisotropyMap?"#define USE_ANISOTROPYMAP":"",i.clearcoat?"#define USE_CLEARCOAT":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.dispersion?"#define USE_DISPERSION":"",i.iridescence?"#define USE_IRIDESCENCE":"",i.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",i.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",i.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.alphaTest?"#define USE_ALPHATEST":"",i.alphaHash?"#define USE_ALPHAHASH":"",i.sheen?"#define USE_SHEEN":"",i.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",i.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",i.transmission?"#define USE_TRANSMISSION":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.thicknessMap?"#define USE_THICKNESSMAP":"",i.vertexTangents&&i.flatShading===!1?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor||i.batchingColor?"#define USE_COLOR":"",i.vertexAlphas?"#define USE_COLOR_ALPHA":"",i.vertexUv1s?"#define USE_UV1":"",i.vertexUv2s?"#define USE_UV2":"",i.vertexUv3s?"#define USE_UV3":"",i.pointsUvs?"#define USE_POINTS_UV":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+h:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.numLightProbes>0?"#define USE_LIGHT_PROBES":"",i.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",i.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",i.toneMapping!==Dc?"#define TONE_MAPPING":"",i.toneMapping!==Dc?Ln.tonemapping_pars_fragment:"",i.toneMapping!==Dc?_ye("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",i.opaque?"#define OPAQUE":"",Ln.colorspace_pars_fragment,vye("linearToOutputTexel",i.outputColorSpace),bye(),i.useDepthPacking?"#define DEPTH_PACKING "+i.depthPacking:"",`
`].filter(a0).join(`
`)),o=xE(o),o=T3(o,i),o=C3(o,i),l=xE(l),l=T3(l,i),l=C3(l,i),o=M3(o),l=M3(l),i.isRawShaderMaterial!==!0&&(A=`#version 300 es
`,C=[_,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+C,w=["#define varying in",i.glslVersion===lE?"":"layout(location = 0) out highp vec4 pc_fragColor;",i.glslVersion===lE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const L=A+C+o,k=A+w+l,I=j3(s,s.VERTEX_SHADER,L),z=j3(s,s.FRAGMENT_SHADER,k);s.attachShader(T,I),s.attachShader(T,z),i.index0AttributeName!==void 0?s.bindAttribLocation(T,0,i.index0AttributeName):i.morphTargets===!0&&s.bindAttribLocation(T,0,"position"),s.linkProgram(T);function U(G){if(t.debug.checkShaderErrors){const te=s.getProgramInfoLog(T).trim(),Q=s.getShaderInfoLog(I).trim(),K=s.getShaderInfoLog(z).trim();let ee=!0,O=!0;if(s.getProgramParameter(T,s.LINK_STATUS)===!1)if(ee=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(s,T,I,z);else{const q=w3(s,I,"vertex"),V=w3(s,z,"fragment");console.error("THREE.WebGLProgram: Shader Error "+s.getError()+" - VALIDATE_STATUS "+s.getProgramParameter(T,s.VALIDATE_STATUS)+`

Material Name: `+G.name+`
Material Type: `+G.type+`

Program Info Log: `+te+`
`+q+`
`+V)}else te!==""?console.warn("THREE.WebGLProgram: Program Info Log:",te):(Q===""||K==="")&&(O=!1);O&&(G.diagnostics={runnable:ee,programLog:te,vertexShader:{log:Q,prefix:C},fragmentShader:{log:K,prefix:w}})}s.deleteShader(I),s.deleteShader(z),H=new Hj(s,T),P=wye(s,T)}let H;this.getUniforms=function(){return H===void 0&&U(this),H};let P;this.getAttributes=function(){return P===void 0&&U(this),P};let N=i.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=s.getProgramParameter(T,mye)),N},this.destroy=function(){r.releaseStatesOfProgram(this),s.deleteProgram(T),this.program=void 0},this.type=i.shaderType,this.name=i.shaderName,this.id=gye++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=I,this.fragmentShader=z,this}let Oye=0;class Bye{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.vertexShader,r=e.fragmentShader,s=this._getShaderStage(i),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(s)===!1&&(o.add(s),s.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const i=this.materialCache.get(e);for(const r of i)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const i=this.materialCache;let r=i.get(e);return r===void 0&&(r=new Set,i.set(e,r)),r}_getShaderStage(e){const i=this.shaderCache;let r=i.get(e);return r===void 0&&(r=new Iye(e),i.set(e,r)),r}}class Iye{constructor(e){this.id=Oye++,this.code=e,this.usedTimes=0}}function Fye(t,e,i,r,s,a,o){const l=new Pg,h=new Bye,d=new Set,p=[],g=s.logarithmicDepthBuffer,v=s.vertexTextures;let _=s.precision;const j={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(P){return d.add(P),P===0?"uv":`uv${P}`}function C(P,N,G,te,Q){const K=te.fog,ee=Q.geometry,O=P.isMeshStandardMaterial?te.environment:null,q=(P.isMeshStandardMaterial?i:e).get(P.envMap||O),V=q&&q.mapping===Qg?q.image.height:null,le=j[P.type];P.precision!==null&&(_=s.getMaxPrecision(P.precision),_!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",_,"instead."));const W=ee.morphAttributes.position||ee.morphAttributes.normal||ee.morphAttributes.color,re=W!==void 0?W.length:0;let de=0;ee.morphAttributes.position!==void 0&&(de=1),ee.morphAttributes.normal!==void 0&&(de=2),ee.morphAttributes.color!==void 0&&(de=3);let fe,ae,pe,De;if(le){const Dn=Cl[le];fe=Dn.vertexShader,ae=Dn.fragmentShader}else fe=P.vertexShader,ae=P.fragmentShader,h.update(P),pe=h.getVertexShaderID(P),De=h.getFragmentShaderID(P);const Be=t.getRenderTarget(),Ue=t.state.buffers.depth.getReversed(),Ze=Q.isInstancedMesh===!0,Je=Q.isBatchedMesh===!0,Nt=!!P.map,Et=!!P.matcap,At=!!q,ne=!!P.aoMap,rt=!!P.lightMap,qe=!!P.bumpMap,We=!!P.normalMap,He=!!P.displacementMap,vt=!!P.emissiveMap,tt=!!P.metalnessMap,xt=!!P.roughnessMap,Ct=P.anisotropy>0,se=P.clearcoat>0,Y=P.dispersion>0,Ce=P.iridescence>0,Ie=P.sheen>0,Ve=P.transmission>0,Fe=Ct&&!!P.anisotropyMap,_t=se&&!!P.clearcoatMap,gt=se&&!!P.clearcoatNormalMap,Rt=se&&!!P.clearcoatRoughnessMap,Lt=Ce&&!!P.iridescenceMap,Xe=Ce&&!!P.iridescenceThicknessMap,ft=Ie&&!!P.sheenColorMap,kt=Ie&&!!P.sheenRoughnessMap,zt=!!P.specularMap,ct=!!P.specularColorMap,rn=!!P.specularIntensityMap,me=Ve&&!!P.transmissionMap,yt=Ve&&!!P.thicknessMap,st=!!P.gradientMap,jt=!!P.alphaMap,ot=P.alphaTest>0,Ke=!!P.alphaHash,mt=!!P.extensions;let qt=Dc;P.toneMapped&&(Be===null||Be.isXRRenderTarget===!0)&&(qt=t.toneMapping);const Un={shaderID:le,shaderType:P.type,shaderName:P.name,vertexShader:fe,fragmentShader:ae,defines:P.defines,customVertexShaderID:pe,customFragmentShaderID:De,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:_,batching:Je,batchingColor:Je&&Q._colorsTexture!==null,instancing:Ze,instancingColor:Ze&&Q.instanceColor!==null,instancingMorph:Ze&&Q.morphTexture!==null,supportsVertexTextures:v,outputColorSpace:Be===null?t.outputColorSpace:Be.isXRRenderTarget===!0?Be.texture.colorSpace:ld,alphaToCoverage:!!P.alphaToCoverage,map:Nt,matcap:Et,envMap:At,envMapMode:At&&q.mapping,envMapCubeUVHeight:V,aoMap:ne,lightMap:rt,bumpMap:qe,normalMap:We,displacementMap:v&&He,emissiveMap:vt,normalMapObjectSpace:We&&P.normalMapType===U6,normalMapTangentSpace:We&&P.normalMapType===fd,metalnessMap:tt,roughnessMap:xt,anisotropy:Ct,anisotropyMap:Fe,clearcoat:se,clearcoatMap:_t,clearcoatNormalMap:gt,clearcoatRoughnessMap:Rt,dispersion:Y,iridescence:Ce,iridescenceMap:Lt,iridescenceThicknessMap:Xe,sheen:Ie,sheenColorMap:ft,sheenRoughnessMap:kt,specularMap:zt,specularColorMap:ct,specularIntensityMap:rn,transmission:Ve,transmissionMap:me,thicknessMap:yt,gradientMap:st,opaque:P.transparent===!1&&P.blending===Wf&&P.alphaToCoverage===!1,alphaMap:jt,alphaTest:ot,alphaHash:Ke,combine:P.combine,mapUv:Nt&&T(P.map.channel),aoMapUv:ne&&T(P.aoMap.channel),lightMapUv:rt&&T(P.lightMap.channel),bumpMapUv:qe&&T(P.bumpMap.channel),normalMapUv:We&&T(P.normalMap.channel),displacementMapUv:He&&T(P.displacementMap.channel),emissiveMapUv:vt&&T(P.emissiveMap.channel),metalnessMapUv:tt&&T(P.metalnessMap.channel),roughnessMapUv:xt&&T(P.roughnessMap.channel),anisotropyMapUv:Fe&&T(P.anisotropyMap.channel),clearcoatMapUv:_t&&T(P.clearcoatMap.channel),clearcoatNormalMapUv:gt&&T(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Rt&&T(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Lt&&T(P.iridescenceMap.channel),iridescenceThicknessMapUv:Xe&&T(P.iridescenceThicknessMap.channel),sheenColorMapUv:ft&&T(P.sheenColorMap.channel),sheenRoughnessMapUv:kt&&T(P.sheenRoughnessMap.channel),specularMapUv:zt&&T(P.specularMap.channel),specularColorMapUv:ct&&T(P.specularColorMap.channel),specularIntensityMapUv:rn&&T(P.specularIntensityMap.channel),transmissionMapUv:me&&T(P.transmissionMap.channel),thicknessMapUv:yt&&T(P.thicknessMap.channel),alphaMapUv:jt&&T(P.alphaMap.channel),vertexTangents:!!ee.attributes.tangent&&(We||Ct),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!ee.attributes.color&&ee.attributes.color.itemSize===4,pointsUvs:Q.isPoints===!0&&!!ee.attributes.uv&&(Nt||jt),fog:!!K,useFog:P.fog===!0,fogExp2:!!K&&K.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:g,reverseDepthBuffer:Ue,skinning:Q.isSkinnedMesh===!0,morphTargets:ee.morphAttributes.position!==void 0,morphNormals:ee.morphAttributes.normal!==void 0,morphColors:ee.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:de,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&G.length>0,shadowMapType:t.shadowMap.type,toneMapping:qt,decodeVideoTexture:Nt&&P.map.isVideoTexture===!0&&qn.getTransfer(P.map.colorSpace)===_i,decodeVideoTextureEmissive:vt&&P.emissiveMap.isVideoTexture===!0&&qn.getTransfer(P.emissiveMap.colorSpace)===_i,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Mc,flipSided:P.side===ma,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:mt&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(mt&&P.extensions.multiDraw===!0||Je)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return Un.vertexUv1s=d.has(1),Un.vertexUv2s=d.has(2),Un.vertexUv3s=d.has(3),d.clear(),Un}function w(P){const N=[];if(P.shaderID?N.push(P.shaderID):(N.push(P.customVertexShaderID),N.push(P.customFragmentShaderID)),P.defines!==void 0)for(const G in P.defines)N.push(G),N.push(P.defines[G]);return P.isRawShaderMaterial===!1&&(A(N,P),L(N,P),N.push(t.outputColorSpace)),N.push(P.customProgramCacheKey),N.join()}function A(P,N){P.push(N.precision),P.push(N.outputColorSpace),P.push(N.envMapMode),P.push(N.envMapCubeUVHeight),P.push(N.mapUv),P.push(N.alphaMapUv),P.push(N.lightMapUv),P.push(N.aoMapUv),P.push(N.bumpMapUv),P.push(N.normalMapUv),P.push(N.displacementMapUv),P.push(N.emissiveMapUv),P.push(N.metalnessMapUv),P.push(N.roughnessMapUv),P.push(N.anisotropyMapUv),P.push(N.clearcoatMapUv),P.push(N.clearcoatNormalMapUv),P.push(N.clearcoatRoughnessMapUv),P.push(N.iridescenceMapUv),P.push(N.iridescenceThicknessMapUv),P.push(N.sheenColorMapUv),P.push(N.sheenRoughnessMapUv),P.push(N.specularMapUv),P.push(N.specularColorMapUv),P.push(N.specularIntensityMapUv),P.push(N.transmissionMapUv),P.push(N.thicknessMapUv),P.push(N.combine),P.push(N.fogExp2),P.push(N.sizeAttenuation),P.push(N.morphTargetsCount),P.push(N.morphAttributeCount),P.push(N.numDirLights),P.push(N.numPointLights),P.push(N.numSpotLights),P.push(N.numSpotLightMaps),P.push(N.numHemiLights),P.push(N.numRectAreaLights),P.push(N.numDirLightShadows),P.push(N.numPointLightShadows),P.push(N.numSpotLightShadows),P.push(N.numSpotLightShadowsWithMaps),P.push(N.numLightProbes),P.push(N.shadowMapType),P.push(N.toneMapping),P.push(N.numClippingPlanes),P.push(N.numClipIntersection),P.push(N.depthPacking)}function L(P,N){l.disableAll(),N.supportsVertexTextures&&l.enable(0),N.instancing&&l.enable(1),N.instancingColor&&l.enable(2),N.instancingMorph&&l.enable(3),N.matcap&&l.enable(4),N.envMap&&l.enable(5),N.normalMapObjectSpace&&l.enable(6),N.normalMapTangentSpace&&l.enable(7),N.clearcoat&&l.enable(8),N.iridescence&&l.enable(9),N.alphaTest&&l.enable(10),N.vertexColors&&l.enable(11),N.vertexAlphas&&l.enable(12),N.vertexUv1s&&l.enable(13),N.vertexUv2s&&l.enable(14),N.vertexUv3s&&l.enable(15),N.vertexTangents&&l.enable(16),N.anisotropy&&l.enable(17),N.alphaHash&&l.enable(18),N.batching&&l.enable(19),N.dispersion&&l.enable(20),N.batchingColor&&l.enable(21),N.gradientMap&&l.enable(22),P.push(l.mask),l.disableAll(),N.fog&&l.enable(0),N.useFog&&l.enable(1),N.flatShading&&l.enable(2),N.logarithmicDepthBuffer&&l.enable(3),N.reverseDepthBuffer&&l.enable(4),N.skinning&&l.enable(5),N.morphTargets&&l.enable(6),N.morphNormals&&l.enable(7),N.morphColors&&l.enable(8),N.premultipliedAlpha&&l.enable(9),N.shadowMapEnabled&&l.enable(10),N.doubleSided&&l.enable(11),N.flipSided&&l.enable(12),N.useDepthPacking&&l.enable(13),N.dithering&&l.enable(14),N.transmission&&l.enable(15),N.sheen&&l.enable(16),N.opaque&&l.enable(17),N.pointsUvs&&l.enable(18),N.decodeVideoTexture&&l.enable(19),N.decodeVideoTextureEmissive&&l.enable(20),N.alphaToCoverage&&l.enable(21),P.push(l.mask)}function k(P){const N=j[P.type];let G;if(N){const te=Cl[N];G=J6.clone(te.uniforms)}else G=P.uniforms;return G}function I(P,N){let G;for(let te=0,Q=p.length;te<Q;te++){const K=p[te];if(K.cacheKey===N){G=K,++G.usedTimes;break}}return G===void 0&&(G=new Pye(t,N,P,a),p.push(G)),G}function z(P){if(--P.usedTimes===0){const N=p.indexOf(P);p[N]=p[p.length-1],p.pop(),P.destroy()}}function U(P){h.remove(P)}function H(){h.dispose()}return{getParameters:C,getProgramCacheKey:w,getUniforms:k,acquireProgram:I,releaseProgram:z,releaseShaderCache:U,programs:p,dispose:H}}function Uye(){let t=new WeakMap;function e(o){return t.has(o)}function i(o){let l=t.get(o);return l===void 0&&(l={},t.set(o,l)),l}function r(o){t.delete(o)}function s(o,l,h){t.get(o)[l]=h}function a(){t=new WeakMap}return{has:e,get:i,remove:r,update:s,dispose:a}}function zye(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function A3(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function R3(){const t=[];let e=0;const i=[],r=[],s=[];function a(){e=0,i.length=0,r.length=0,s.length=0}function o(g,v,_,j,T,C){let w=t[e];return w===void 0?(w={id:g.id,object:g,geometry:v,material:_,groupOrder:j,renderOrder:g.renderOrder,z:T,group:C},t[e]=w):(w.id=g.id,w.object=g,w.geometry=v,w.material=_,w.groupOrder=j,w.renderOrder=g.renderOrder,w.z=T,w.group=C),e++,w}function l(g,v,_,j,T,C){const w=o(g,v,_,j,T,C);_.transmission>0?r.push(w):_.transparent===!0?s.push(w):i.push(w)}function h(g,v,_,j,T,C){const w=o(g,v,_,j,T,C);_.transmission>0?r.unshift(w):_.transparent===!0?s.unshift(w):i.unshift(w)}function d(g,v){i.length>1&&i.sort(g||zye),r.length>1&&r.sort(v||A3),s.length>1&&s.sort(v||A3)}function p(){for(let g=e,v=t.length;g<v;g++){const _=t[g];if(_.id===null)break;_.id=null,_.object=null,_.geometry=null,_.material=null,_.group=null}}return{opaque:i,transmissive:r,transparent:s,init:a,push:l,unshift:h,finish:p,sort:d}}function Hye(){let t=new WeakMap;function e(r,s){const a=t.get(r);let o;return a===void 0?(o=new R3,t.set(r,[o])):s>=a.length?(o=new R3,a.push(o)):o=a[s],o}function i(){t=new WeakMap}return{get:e,dispose:i}}function Vye(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let i;switch(e.type){case"DirectionalLight":i={direction:new oe,color:new Dt};break;case"SpotLight":i={position:new oe,direction:new oe,color:new Dt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new oe,color:new Dt,distance:0,decay:0};break;case"HemisphereLight":i={direction:new oe,skyColor:new Dt,groundColor:new Dt};break;case"RectAreaLight":i={color:new Dt,position:new oe,halfWidth:new oe,halfHeight:new oe};break}return t[e.id]=i,i}}}function Gye(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let i;switch(e.type){case"DirectionalLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"SpotLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it};break;case"PointLight":i={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new it,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=i,i}}}let $ye=0;function qye(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Wye(t){const e=new Vye,i=Gye(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let d=0;d<9;d++)r.probe.push(new oe);const s=new oe,a=new dn,o=new dn;function l(d){let p=0,g=0,v=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let _=0,j=0,T=0,C=0,w=0,A=0,L=0,k=0,I=0,z=0,U=0;d.sort(qye);for(let P=0,N=d.length;P<N;P++){const G=d[P],te=G.color,Q=G.intensity,K=G.distance,ee=G.shadow&&G.shadow.map?G.shadow.map.texture:null;if(G.isAmbientLight)p+=te.r*Q,g+=te.g*Q,v+=te.b*Q;else if(G.isLightProbe){for(let O=0;O<9;O++)r.probe[O].addScaledVector(G.sh.coefficients[O],Q);U++}else if(G.isDirectionalLight){const O=e.get(G);if(O.color.copy(G.color).multiplyScalar(G.intensity),G.castShadow){const q=G.shadow,V=i.get(G);V.shadowIntensity=q.intensity,V.shadowBias=q.bias,V.shadowNormalBias=q.normalBias,V.shadowRadius=q.radius,V.shadowMapSize=q.mapSize,r.directionalShadow[_]=V,r.directionalShadowMap[_]=ee,r.directionalShadowMatrix[_]=G.shadow.matrix,A++}r.directional[_]=O,_++}else if(G.isSpotLight){const O=e.get(G);O.position.setFromMatrixPosition(G.matrixWorld),O.color.copy(te).multiplyScalar(Q),O.distance=K,O.coneCos=Math.cos(G.angle),O.penumbraCos=Math.cos(G.angle*(1-G.penumbra)),O.decay=G.decay,r.spot[T]=O;const q=G.shadow;if(G.map&&(r.spotLightMap[I]=G.map,I++,q.updateMatrices(G),G.castShadow&&z++),r.spotLightMatrix[T]=q.matrix,G.castShadow){const V=i.get(G);V.shadowIntensity=q.intensity,V.shadowBias=q.bias,V.shadowNormalBias=q.normalBias,V.shadowRadius=q.radius,V.shadowMapSize=q.mapSize,r.spotShadow[T]=V,r.spotShadowMap[T]=ee,k++}T++}else if(G.isRectAreaLight){const O=e.get(G);O.color.copy(te).multiplyScalar(Q),O.halfWidth.set(G.width*.5,0,0),O.halfHeight.set(0,G.height*.5,0),r.rectArea[C]=O,C++}else if(G.isPointLight){const O=e.get(G);if(O.color.copy(G.color).multiplyScalar(G.intensity),O.distance=G.distance,O.decay=G.decay,G.castShadow){const q=G.shadow,V=i.get(G);V.shadowIntensity=q.intensity,V.shadowBias=q.bias,V.shadowNormalBias=q.normalBias,V.shadowRadius=q.radius,V.shadowMapSize=q.mapSize,V.shadowCameraNear=q.camera.near,V.shadowCameraFar=q.camera.far,r.pointShadow[j]=V,r.pointShadowMap[j]=ee,r.pointShadowMatrix[j]=G.shadow.matrix,L++}r.point[j]=O,j++}else if(G.isHemisphereLight){const O=e.get(G);O.skyColor.copy(G.color).multiplyScalar(Q),O.groundColor.copy(G.groundColor).multiplyScalar(Q),r.hemi[w]=O,w++}}C>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Tt.LTC_FLOAT_1,r.rectAreaLTC2=Tt.LTC_FLOAT_2):(r.rectAreaLTC1=Tt.LTC_HALF_1,r.rectAreaLTC2=Tt.LTC_HALF_2)),r.ambient[0]=p,r.ambient[1]=g,r.ambient[2]=v;const H=r.hash;(H.directionalLength!==_||H.pointLength!==j||H.spotLength!==T||H.rectAreaLength!==C||H.hemiLength!==w||H.numDirectionalShadows!==A||H.numPointShadows!==L||H.numSpotShadows!==k||H.numSpotMaps!==I||H.numLightProbes!==U)&&(r.directional.length=_,r.spot.length=T,r.rectArea.length=C,r.point.length=j,r.hemi.length=w,r.directionalShadow.length=A,r.directionalShadowMap.length=A,r.pointShadow.length=L,r.pointShadowMap.length=L,r.spotShadow.length=k,r.spotShadowMap.length=k,r.directionalShadowMatrix.length=A,r.pointShadowMatrix.length=L,r.spotLightMatrix.length=k+I-z,r.spotLightMap.length=I,r.numSpotLightShadowsWithMaps=z,r.numLightProbes=U,H.directionalLength=_,H.pointLength=j,H.spotLength=T,H.rectAreaLength=C,H.hemiLength=w,H.numDirectionalShadows=A,H.numPointShadows=L,H.numSpotShadows=k,H.numSpotMaps=I,H.numLightProbes=U,r.version=$ye++)}function h(d,p){let g=0,v=0,_=0,j=0,T=0;const C=p.matrixWorldInverse;for(let w=0,A=d.length;w<A;w++){const L=d[w];if(L.isDirectionalLight){const k=r.directional[g];k.direction.setFromMatrixPosition(L.matrixWorld),s.setFromMatrixPosition(L.target.matrixWorld),k.direction.sub(s),k.direction.transformDirection(C),g++}else if(L.isSpotLight){const k=r.spot[_];k.position.setFromMatrixPosition(L.matrixWorld),k.position.applyMatrix4(C),k.direction.setFromMatrixPosition(L.matrixWorld),s.setFromMatrixPosition(L.target.matrixWorld),k.direction.sub(s),k.direction.transformDirection(C),_++}else if(L.isRectAreaLight){const k=r.rectArea[j];k.position.setFromMatrixPosition(L.matrixWorld),k.position.applyMatrix4(C),o.identity(),a.copy(L.matrixWorld),a.premultiply(C),o.extractRotation(a),k.halfWidth.set(L.width*.5,0,0),k.halfHeight.set(0,L.height*.5,0),k.halfWidth.applyMatrix4(o),k.halfHeight.applyMatrix4(o),j++}else if(L.isPointLight){const k=r.point[v];k.position.setFromMatrixPosition(L.matrixWorld),k.position.applyMatrix4(C),v++}else if(L.isHemisphereLight){const k=r.hemi[T];k.direction.setFromMatrixPosition(L.matrixWorld),k.direction.transformDirection(C),T++}}}return{setup:l,setupView:h,state:r}}function L3(t){const e=new Wye(t),i=[],r=[];function s(p){d.camera=p,i.length=0,r.length=0}function a(p){i.push(p)}function o(p){r.push(p)}function l(){e.setup(i)}function h(p){e.setupView(i,p)}const d={lightsArray:i,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:s,state:d,setupLights:l,setupLightsView:h,pushLight:a,pushShadow:o}}function Xye(t){let e=new WeakMap;function i(s,a=0){const o=e.get(s);let l;return o===void 0?(l=new L3(t),e.set(s,[l])):a>=o.length?(l=new L3(t),o.push(l)):l=o[a],l}function r(){e=new WeakMap}return{get:i,dispose:r}}const Yye=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Kye=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Zye(t,e,i){let r=new tx;const s=new it,a=new it,o=new ti,l=new yR({depthPacking:F6}),h=new vR,d={},p=i.maxTextureSize,g={[Oh]:ma,[ma]:Oh,[Mc]:Mc},v=new Ll({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new it},radius:{value:4}},vertexShader:Yye,fragmentShader:Kye}),_=v.clone();_.defines.HORIZONTAL_PASS=1;const j=new An;j.setAttribute("position",new Mi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Mr(j,v),C=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vw;let w=this.type;this.render=function(z,U,H){if(C.enabled===!1||C.autoUpdate===!1&&C.needsUpdate===!1||z.length===0)return;const P=t.getRenderTarget(),N=t.getActiveCubeFace(),G=t.getActiveMipmapLevel(),te=t.state;te.setBlending(Rh),te.buffers.color.setClear(1,1,1,1),te.buffers.depth.setTest(!0),te.setScissorTest(!1);const Q=w!==wl&&this.type===wl,K=w===wl&&this.type!==wl;for(let ee=0,O=z.length;ee<O;ee++){const q=z[ee],V=q.shadow;if(V===void 0){console.warn("THREE.WebGLShadowMap:",q,"has no shadow.");continue}if(V.autoUpdate===!1&&V.needsUpdate===!1)continue;s.copy(V.mapSize);const le=V.getFrameExtents();if(s.multiply(le),a.copy(V.mapSize),(s.x>p||s.y>p)&&(s.x>p&&(a.x=Math.floor(p/le.x),s.x=a.x*le.x,V.mapSize.x=a.x),s.y>p&&(a.y=Math.floor(p/le.y),s.y=a.y*le.y,V.mapSize.y=a.y)),V.map===null||Q===!0||K===!0){const re=this.type!==wl?{minFilter:xs,magFilter:xs}:{};V.map!==null&&V.map.dispose(),V.map=new Oc(s.x,s.y,re),V.map.texture.name=q.name+".shadowMap",V.camera.updateProjectionMatrix()}t.setRenderTarget(V.map),t.clear();const W=V.getViewportCount();for(let re=0;re<W;re++){const de=V.getViewport(re);o.set(a.x*de.x,a.y*de.y,a.x*de.z,a.y*de.w),te.viewport(o),V.updateMatrices(q,re),r=V.getFrustum(),k(U,H,V.camera,q,this.type)}V.isPointLightShadow!==!0&&this.type===wl&&A(V,H),V.needsUpdate=!1}w=this.type,C.needsUpdate=!1,t.setRenderTarget(P,N,G)};function A(z,U){const H=e.update(T);v.defines.VSM_SAMPLES!==z.blurSamples&&(v.defines.VSM_SAMPLES=z.blurSamples,_.defines.VSM_SAMPLES=z.blurSamples,v.needsUpdate=!0,_.needsUpdate=!0),z.mapPass===null&&(z.mapPass=new Oc(s.x,s.y)),v.uniforms.shadow_pass.value=z.map.texture,v.uniforms.resolution.value=z.mapSize,v.uniforms.radius.value=z.radius,t.setRenderTarget(z.mapPass),t.clear(),t.renderBufferDirect(U,null,H,v,T,null),_.uniforms.shadow_pass.value=z.mapPass.texture,_.uniforms.resolution.value=z.mapSize,_.uniforms.radius.value=z.radius,t.setRenderTarget(z.map),t.clear(),t.renderBufferDirect(U,null,H,_,T,null)}function L(z,U,H,P){let N=null;const G=H.isPointLight===!0?z.customDistanceMaterial:z.customDepthMaterial;if(G!==void 0)N=G;else if(N=H.isPointLight===!0?h:l,t.localClippingEnabled&&U.clipShadows===!0&&Array.isArray(U.clippingPlanes)&&U.clippingPlanes.length!==0||U.displacementMap&&U.displacementScale!==0||U.alphaMap&&U.alphaTest>0||U.map&&U.alphaTest>0||U.alphaToCoverage===!0){const te=N.uuid,Q=U.uuid;let K=d[te];K===void 0&&(K={},d[te]=K);let ee=K[Q];ee===void 0&&(ee=N.clone(),K[Q]=ee,U.addEventListener("dispose",I)),N=ee}if(N.visible=U.visible,N.wireframe=U.wireframe,P===wl?N.side=U.shadowSide!==null?U.shadowSide:U.side:N.side=U.shadowSide!==null?U.shadowSide:g[U.side],N.alphaMap=U.alphaMap,N.alphaTest=U.alphaToCoverage===!0?.5:U.alphaTest,N.map=U.map,N.clipShadows=U.clipShadows,N.clippingPlanes=U.clippingPlanes,N.clipIntersection=U.clipIntersection,N.displacementMap=U.displacementMap,N.displacementScale=U.displacementScale,N.displacementBias=U.displacementBias,N.wireframeLinewidth=U.wireframeLinewidth,N.linewidth=U.linewidth,H.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const te=t.properties.get(N);te.light=H}return N}function k(z,U,H,P,N){if(z.visible===!1)return;if(z.layers.test(U.layers)&&(z.isMesh||z.isLine||z.isPoints)&&(z.castShadow||z.receiveShadow&&N===wl)&&(!z.frustumCulled||r.intersectsObject(z))){z.modelViewMatrix.multiplyMatrices(H.matrixWorldInverse,z.matrixWorld);const Q=e.update(z),K=z.material;if(Array.isArray(K)){const ee=Q.groups;for(let O=0,q=ee.length;O<q;O++){const V=ee[O],le=K[V.materialIndex];if(le&&le.visible){const W=L(z,le,P,N);z.onBeforeShadow(t,z,U,H,Q,W,V),t.renderBufferDirect(H,null,Q,W,z,V),z.onAfterShadow(t,z,U,H,Q,W,V)}}}else if(K.visible){const ee=L(z,K,P,N);z.onBeforeShadow(t,z,U,H,Q,ee,null),t.renderBufferDirect(H,null,Q,ee,z,null),z.onAfterShadow(t,z,U,H,Q,ee,null)}}const te=z.children;for(let Q=0,K=te.length;Q<K;Q++)k(te[Q],U,H,P,N)}function I(z){z.target.removeEventListener("dispose",I);for(const H in d){const P=d[H],N=z.target.uuid;N in P&&(P[N].dispose(),delete P[N])}}}const Qye={[WS]:XS,[YS]:QS,[KS]:JS,[ip]:ZS,[XS]:WS,[QS]:YS,[JS]:KS,[ZS]:ip};function Jye(t,e){function i(){let me=!1;const yt=new ti;let st=null;const jt=new ti(0,0,0,0);return{setMask:function(ot){st!==ot&&!me&&(t.colorMask(ot,ot,ot,ot),st=ot)},setLocked:function(ot){me=ot},setClear:function(ot,Ke,mt,qt,Un){Un===!0&&(ot*=qt,Ke*=qt,mt*=qt),yt.set(ot,Ke,mt,qt),jt.equals(yt)===!1&&(t.clearColor(ot,Ke,mt,qt),jt.copy(yt))},reset:function(){me=!1,st=null,jt.set(-1,0,0,0)}}}function r(){let me=!1,yt=!1,st=null,jt=null,ot=null;return{setReversed:function(Ke){if(yt!==Ke){const mt=e.get("EXT_clip_control");Ke?mt.clipControlEXT(mt.LOWER_LEFT_EXT,mt.ZERO_TO_ONE_EXT):mt.clipControlEXT(mt.LOWER_LEFT_EXT,mt.NEGATIVE_ONE_TO_ONE_EXT),yt=Ke;const qt=ot;ot=null,this.setClear(qt)}},getReversed:function(){return yt},setTest:function(Ke){Ke?Be(t.DEPTH_TEST):Ue(t.DEPTH_TEST)},setMask:function(Ke){st!==Ke&&!me&&(t.depthMask(Ke),st=Ke)},setFunc:function(Ke){if(yt&&(Ke=Qye[Ke]),jt!==Ke){switch(Ke){case WS:t.depthFunc(t.NEVER);break;case XS:t.depthFunc(t.ALWAYS);break;case YS:t.depthFunc(t.LESS);break;case ip:t.depthFunc(t.LEQUAL);break;case KS:t.depthFunc(t.EQUAL);break;case ZS:t.depthFunc(t.GEQUAL);break;case QS:t.depthFunc(t.GREATER);break;case JS:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}jt=Ke}},setLocked:function(Ke){me=Ke},setClear:function(Ke){ot!==Ke&&(yt&&(Ke=1-Ke),t.clearDepth(Ke),ot=Ke)},reset:function(){me=!1,st=null,jt=null,ot=null,yt=!1}}}function s(){let me=!1,yt=null,st=null,jt=null,ot=null,Ke=null,mt=null,qt=null,Un=null;return{setTest:function(Dn){me||(Dn?Be(t.STENCIL_TEST):Ue(t.STENCIL_TEST))},setMask:function(Dn){yt!==Dn&&!me&&(t.stencilMask(Dn),yt=Dn)},setFunc:function(Dn,mr,Bi){(st!==Dn||jt!==mr||ot!==Bi)&&(t.stencilFunc(Dn,mr,Bi),st=Dn,jt=mr,ot=Bi)},setOp:function(Dn,mr,Bi){(Ke!==Dn||mt!==mr||qt!==Bi)&&(t.stencilOp(Dn,mr,Bi),Ke=Dn,mt=mr,qt=Bi)},setLocked:function(Dn){me=Dn},setClear:function(Dn){Un!==Dn&&(t.clearStencil(Dn),Un=Dn)},reset:function(){me=!1,yt=null,st=null,jt=null,ot=null,Ke=null,mt=null,qt=null,Un=null}}}const a=new i,o=new r,l=new s,h=new WeakMap,d=new WeakMap;let p={},g={},v=new WeakMap,_=[],j=null,T=!1,C=null,w=null,A=null,L=null,k=null,I=null,z=null,U=new Dt(0,0,0),H=0,P=!1,N=null,G=null,te=null,Q=null,K=null;const ee=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let O=!1,q=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(V)[1]),O=q>=1):V.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),O=q>=2);let le=null,W={};const re=t.getParameter(t.SCISSOR_BOX),de=t.getParameter(t.VIEWPORT),fe=new ti().fromArray(re),ae=new ti().fromArray(de);function pe(me,yt,st,jt){const ot=new Uint8Array(4),Ke=t.createTexture();t.bindTexture(me,Ke),t.texParameteri(me,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(me,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let mt=0;mt<st;mt++)me===t.TEXTURE_3D||me===t.TEXTURE_2D_ARRAY?t.texImage3D(yt,0,t.RGBA,1,1,jt,0,t.RGBA,t.UNSIGNED_BYTE,ot):t.texImage2D(yt+mt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ot);return Ke}const De={};De[t.TEXTURE_2D]=pe(t.TEXTURE_2D,t.TEXTURE_2D,1),De[t.TEXTURE_CUBE_MAP]=pe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),De[t.TEXTURE_2D_ARRAY]=pe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),De[t.TEXTURE_3D]=pe(t.TEXTURE_3D,t.TEXTURE_3D,1,1),a.setClear(0,0,0,1),o.setClear(1),l.setClear(0),Be(t.DEPTH_TEST),o.setFunc(ip),qe(!1),We(nE),Be(t.CULL_FACE),ne(Rh);function Be(me){p[me]!==!0&&(t.enable(me),p[me]=!0)}function Ue(me){p[me]!==!1&&(t.disable(me),p[me]=!1)}function Ze(me,yt){return g[me]!==yt?(t.bindFramebuffer(me,yt),g[me]=yt,me===t.DRAW_FRAMEBUFFER&&(g[t.FRAMEBUFFER]=yt),me===t.FRAMEBUFFER&&(g[t.DRAW_FRAMEBUFFER]=yt),!0):!1}function Je(me,yt){let st=_,jt=!1;if(me){st=v.get(yt),st===void 0&&(st=[],v.set(yt,st));const ot=me.textures;if(st.length!==ot.length||st[0]!==t.COLOR_ATTACHMENT0){for(let Ke=0,mt=ot.length;Ke<mt;Ke++)st[Ke]=t.COLOR_ATTACHMENT0+Ke;st.length=ot.length,jt=!0}}else st[0]!==t.BACK&&(st[0]=t.BACK,jt=!0);jt&&t.drawBuffers(st)}function Nt(me){return j!==me?(t.useProgram(me),j=me,!0):!1}const Et={[Ku]:t.FUNC_ADD,[c6]:t.FUNC_SUBTRACT,[h6]:t.FUNC_REVERSE_SUBTRACT};Et[u6]=t.MIN,Et[d6]=t.MAX;const At={[f6]:t.ZERO,[p6]:t.ONE,[m6]:t.SRC_COLOR,[$S]:t.SRC_ALPHA,[b6]:t.SRC_ALPHA_SATURATE,[v6]:t.DST_COLOR,[x6]:t.DST_ALPHA,[g6]:t.ONE_MINUS_SRC_COLOR,[qS]:t.ONE_MINUS_SRC_ALPHA,[_6]:t.ONE_MINUS_DST_COLOR,[y6]:t.ONE_MINUS_DST_ALPHA,[j6]:t.CONSTANT_COLOR,[S6]:t.ONE_MINUS_CONSTANT_COLOR,[w6]:t.CONSTANT_ALPHA,[T6]:t.ONE_MINUS_CONSTANT_ALPHA};function ne(me,yt,st,jt,ot,Ke,mt,qt,Un,Dn){if(me===Rh){T===!0&&(Ue(t.BLEND),T=!1);return}if(T===!1&&(Be(t.BLEND),T=!0),me!==l6){if(me!==C||Dn!==P){if((w!==Ku||k!==Ku)&&(t.blendEquation(t.FUNC_ADD),w=Ku,k=Ku),Dn)switch(me){case Wf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case iE:t.blendFunc(t.ONE,t.ONE);break;case rE:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case sE:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}else switch(me){case Wf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case iE:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case rE:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case sE:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",me);break}A=null,L=null,I=null,z=null,U.set(0,0,0),H=0,C=me,P=Dn}return}ot=ot||yt,Ke=Ke||st,mt=mt||jt,(yt!==w||ot!==k)&&(t.blendEquationSeparate(Et[yt],Et[ot]),w=yt,k=ot),(st!==A||jt!==L||Ke!==I||mt!==z)&&(t.blendFuncSeparate(At[st],At[jt],At[Ke],At[mt]),A=st,L=jt,I=Ke,z=mt),(qt.equals(U)===!1||Un!==H)&&(t.blendColor(qt.r,qt.g,qt.b,Un),U.copy(qt),H=Un),C=me,P=!1}function rt(me,yt){me.side===Mc?Ue(t.CULL_FACE):Be(t.CULL_FACE);let st=me.side===ma;yt&&(st=!st),qe(st),me.blending===Wf&&me.transparent===!1?ne(Rh):ne(me.blending,me.blendEquation,me.blendSrc,me.blendDst,me.blendEquationAlpha,me.blendSrcAlpha,me.blendDstAlpha,me.blendColor,me.blendAlpha,me.premultipliedAlpha),o.setFunc(me.depthFunc),o.setTest(me.depthTest),o.setMask(me.depthWrite),a.setMask(me.colorWrite);const jt=me.stencilWrite;l.setTest(jt),jt&&(l.setMask(me.stencilWriteMask),l.setFunc(me.stencilFunc,me.stencilRef,me.stencilFuncMask),l.setOp(me.stencilFail,me.stencilZFail,me.stencilZPass)),vt(me.polygonOffset,me.polygonOffsetFactor,me.polygonOffsetUnits),me.alphaToCoverage===!0?Be(t.SAMPLE_ALPHA_TO_COVERAGE):Ue(t.SAMPLE_ALPHA_TO_COVERAGE)}function qe(me){N!==me&&(me?t.frontFace(t.CW):t.frontFace(t.CCW),N=me)}function We(me){me!==s6?(Be(t.CULL_FACE),me!==G&&(me===nE?t.cullFace(t.BACK):me===a6?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ue(t.CULL_FACE),G=me}function He(me){me!==te&&(O&&t.lineWidth(me),te=me)}function vt(me,yt,st){me?(Be(t.POLYGON_OFFSET_FILL),(Q!==yt||K!==st)&&(t.polygonOffset(yt,st),Q=yt,K=st)):Ue(t.POLYGON_OFFSET_FILL)}function tt(me){me?Be(t.SCISSOR_TEST):Ue(t.SCISSOR_TEST)}function xt(me){me===void 0&&(me=t.TEXTURE0+ee-1),le!==me&&(t.activeTexture(me),le=me)}function Ct(me,yt,st){st===void 0&&(le===null?st=t.TEXTURE0+ee-1:st=le);let jt=W[st];jt===void 0&&(jt={type:void 0,texture:void 0},W[st]=jt),(jt.type!==me||jt.texture!==yt)&&(le!==st&&(t.activeTexture(st),le=st),t.bindTexture(me,yt||De[me]),jt.type=me,jt.texture=yt)}function se(){const me=W[le];me!==void 0&&me.type!==void 0&&(t.bindTexture(me.type,null),me.type=void 0,me.texture=void 0)}function Y(){try{t.compressedTexImage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ce(){try{t.compressedTexImage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ie(){try{t.texSubImage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Ve(){try{t.texSubImage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Fe(){try{t.compressedTexSubImage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function _t(){try{t.compressedTexSubImage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function gt(){try{t.texStorage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Rt(){try{t.texStorage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Lt(){try{t.texImage2D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function Xe(){try{t.texImage3D(...arguments)}catch(me){console.error("THREE.WebGLState:",me)}}function ft(me){fe.equals(me)===!1&&(t.scissor(me.x,me.y,me.z,me.w),fe.copy(me))}function kt(me){ae.equals(me)===!1&&(t.viewport(me.x,me.y,me.z,me.w),ae.copy(me))}function zt(me,yt){let st=d.get(yt);st===void 0&&(st=new WeakMap,d.set(yt,st));let jt=st.get(me);jt===void 0&&(jt=t.getUniformBlockIndex(yt,me.name),st.set(me,jt))}function ct(me,yt){const jt=d.get(yt).get(me);h.get(yt)!==jt&&(t.uniformBlockBinding(yt,jt,me.__bindingPointIndex),h.set(yt,jt))}function rn(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},le=null,W={},g={},v=new WeakMap,_=[],j=null,T=!1,C=null,w=null,A=null,L=null,k=null,I=null,z=null,U=new Dt(0,0,0),H=0,P=!1,N=null,G=null,te=null,Q=null,K=null,fe.set(0,0,t.canvas.width,t.canvas.height),ae.set(0,0,t.canvas.width,t.canvas.height),a.reset(),o.reset(),l.reset()}return{buffers:{color:a,depth:o,stencil:l},enable:Be,disable:Ue,bindFramebuffer:Ze,drawBuffers:Je,useProgram:Nt,setBlending:ne,setMaterial:rt,setFlipSided:qe,setCullFace:We,setLineWidth:He,setPolygonOffset:vt,setScissorTest:tt,activeTexture:xt,bindTexture:Ct,unbindTexture:se,compressedTexImage2D:Y,compressedTexImage3D:Ce,texImage2D:Lt,texImage3D:Xe,updateUBOMapping:zt,uniformBlockBinding:ct,texStorage2D:gt,texStorage3D:Rt,texSubImage2D:Ie,texSubImage3D:Ve,compressedTexSubImage2D:Fe,compressedTexSubImage3D:_t,scissor:ft,viewport:kt,reset:rn}}function e0e(t,e,i,r,s,a,o){const l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),d=new it,p=new WeakMap;let g;const v=new WeakMap;let _=!1;try{_=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function j(se,Y){return _?new OffscreenCanvas(se,Y):tv("canvas")}function T(se,Y,Ce){let Ie=1;const Ve=Ct(se);if((Ve.width>Ce||Ve.height>Ce)&&(Ie=Ce/Math.max(Ve.width,Ve.height)),Ie<1)if(typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&se instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&se instanceof ImageBitmap||typeof VideoFrame<"u"&&se instanceof VideoFrame){const Fe=Math.floor(Ie*Ve.width),_t=Math.floor(Ie*Ve.height);g===void 0&&(g=j(Fe,_t));const gt=Y?j(Fe,_t):g;return gt.width=Fe,gt.height=_t,gt.getContext("2d").drawImage(se,0,0,Fe,_t),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ve.width+"x"+Ve.height+") to ("+Fe+"x"+_t+")."),gt}else return"data"in se&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ve.width+"x"+Ve.height+")."),se;return se}function C(se){return se.generateMipmaps}function w(se){t.generateMipmap(se)}function A(se){return se.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:se.isWebGL3DRenderTarget?t.TEXTURE_3D:se.isWebGLArrayRenderTarget||se.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function L(se,Y,Ce,Ie,Ve=!1){if(se!==null){if(t[se]!==void 0)return t[se];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+se+"'")}let Fe=Y;if(Y===t.RED&&(Ce===t.FLOAT&&(Fe=t.R32F),Ce===t.HALF_FLOAT&&(Fe=t.R16F),Ce===t.UNSIGNED_BYTE&&(Fe=t.R8)),Y===t.RED_INTEGER&&(Ce===t.UNSIGNED_BYTE&&(Fe=t.R8UI),Ce===t.UNSIGNED_SHORT&&(Fe=t.R16UI),Ce===t.UNSIGNED_INT&&(Fe=t.R32UI),Ce===t.BYTE&&(Fe=t.R8I),Ce===t.SHORT&&(Fe=t.R16I),Ce===t.INT&&(Fe=t.R32I)),Y===t.RG&&(Ce===t.FLOAT&&(Fe=t.RG32F),Ce===t.HALF_FLOAT&&(Fe=t.RG16F),Ce===t.UNSIGNED_BYTE&&(Fe=t.RG8)),Y===t.RG_INTEGER&&(Ce===t.UNSIGNED_BYTE&&(Fe=t.RG8UI),Ce===t.UNSIGNED_SHORT&&(Fe=t.RG16UI),Ce===t.UNSIGNED_INT&&(Fe=t.RG32UI),Ce===t.BYTE&&(Fe=t.RG8I),Ce===t.SHORT&&(Fe=t.RG16I),Ce===t.INT&&(Fe=t.RG32I)),Y===t.RGB_INTEGER&&(Ce===t.UNSIGNED_BYTE&&(Fe=t.RGB8UI),Ce===t.UNSIGNED_SHORT&&(Fe=t.RGB16UI),Ce===t.UNSIGNED_INT&&(Fe=t.RGB32UI),Ce===t.BYTE&&(Fe=t.RGB8I),Ce===t.SHORT&&(Fe=t.RGB16I),Ce===t.INT&&(Fe=t.RGB32I)),Y===t.RGBA_INTEGER&&(Ce===t.UNSIGNED_BYTE&&(Fe=t.RGBA8UI),Ce===t.UNSIGNED_SHORT&&(Fe=t.RGBA16UI),Ce===t.UNSIGNED_INT&&(Fe=t.RGBA32UI),Ce===t.BYTE&&(Fe=t.RGBA8I),Ce===t.SHORT&&(Fe=t.RGBA16I),Ce===t.INT&&(Fe=t.RGBA32I)),Y===t.RGB&&Ce===t.UNSIGNED_INT_5_9_9_9_REV&&(Fe=t.RGB9_E5),Y===t.RGBA){const _t=Ve?Q0:qn.getTransfer(Ie);Ce===t.FLOAT&&(Fe=t.RGBA32F),Ce===t.HALF_FLOAT&&(Fe=t.RGBA16F),Ce===t.UNSIGNED_BYTE&&(Fe=_t===_i?t.SRGB8_ALPHA8:t.RGBA8),Ce===t.UNSIGNED_SHORT_4_4_4_4&&(Fe=t.RGBA4),Ce===t.UNSIGNED_SHORT_5_5_5_1&&(Fe=t.RGB5_A1)}return(Fe===t.R16F||Fe===t.R32F||Fe===t.RG16F||Fe===t.RG32F||Fe===t.RGBA16F||Fe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Fe}function k(se,Y){let Ce;return se?Y===null||Y===Ih||Y===Lg?Ce=t.DEPTH24_STENCIL8:Y===za?Ce=t.DEPTH32F_STENCIL8:Y===Rg&&(Ce=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Y===null||Y===Ih||Y===Lg?Ce=t.DEPTH_COMPONENT24:Y===za?Ce=t.DEPTH_COMPONENT32F:Y===Rg&&(Ce=t.DEPTH_COMPONENT16),Ce}function I(se,Y){return C(se)===!0||se.isFramebufferTexture&&se.minFilter!==xs&&se.minFilter!==zr?Math.log2(Math.max(Y.width,Y.height))+1:se.mipmaps!==void 0&&se.mipmaps.length>0?se.mipmaps.length:se.isCompressedTexture&&Array.isArray(se.image)?Y.mipmaps.length:1}function z(se){const Y=se.target;Y.removeEventListener("dispose",z),H(Y),Y.isVideoTexture&&p.delete(Y)}function U(se){const Y=se.target;Y.removeEventListener("dispose",U),N(Y)}function H(se){const Y=r.get(se);if(Y.__webglInit===void 0)return;const Ce=se.source,Ie=v.get(Ce);if(Ie){const Ve=Ie[Y.__cacheKey];Ve.usedTimes--,Ve.usedTimes===0&&P(se),Object.keys(Ie).length===0&&v.delete(Ce)}r.remove(se)}function P(se){const Y=r.get(se);t.deleteTexture(Y.__webglTexture);const Ce=se.source,Ie=v.get(Ce);delete Ie[Y.__cacheKey],o.memory.textures--}function N(se){const Y=r.get(se);if(se.depthTexture&&(se.depthTexture.dispose(),r.remove(se.depthTexture)),se.isWebGLCubeRenderTarget)for(let Ie=0;Ie<6;Ie++){if(Array.isArray(Y.__webglFramebuffer[Ie]))for(let Ve=0;Ve<Y.__webglFramebuffer[Ie].length;Ve++)t.deleteFramebuffer(Y.__webglFramebuffer[Ie][Ve]);else t.deleteFramebuffer(Y.__webglFramebuffer[Ie]);Y.__webglDepthbuffer&&t.deleteRenderbuffer(Y.__webglDepthbuffer[Ie])}else{if(Array.isArray(Y.__webglFramebuffer))for(let Ie=0;Ie<Y.__webglFramebuffer.length;Ie++)t.deleteFramebuffer(Y.__webglFramebuffer[Ie]);else t.deleteFramebuffer(Y.__webglFramebuffer);if(Y.__webglDepthbuffer&&t.deleteRenderbuffer(Y.__webglDepthbuffer),Y.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Y.__webglMultisampledFramebuffer),Y.__webglColorRenderbuffer)for(let Ie=0;Ie<Y.__webglColorRenderbuffer.length;Ie++)Y.__webglColorRenderbuffer[Ie]&&t.deleteRenderbuffer(Y.__webglColorRenderbuffer[Ie]);Y.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Y.__webglDepthRenderbuffer)}const Ce=se.textures;for(let Ie=0,Ve=Ce.length;Ie<Ve;Ie++){const Fe=r.get(Ce[Ie]);Fe.__webglTexture&&(t.deleteTexture(Fe.__webglTexture),o.memory.textures--),r.remove(Ce[Ie])}r.remove(se)}let G=0;function te(){G=0}function Q(){const se=G;return se>=s.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+se+" texture units while this GPU supports only "+s.maxTextures),G+=1,se}function K(se){const Y=[];return Y.push(se.wrapS),Y.push(se.wrapT),Y.push(se.wrapR||0),Y.push(se.magFilter),Y.push(se.minFilter),Y.push(se.anisotropy),Y.push(se.internalFormat),Y.push(se.format),Y.push(se.type),Y.push(se.generateMipmaps),Y.push(se.premultiplyAlpha),Y.push(se.flipY),Y.push(se.unpackAlignment),Y.push(se.colorSpace),Y.join()}function ee(se,Y){const Ce=r.get(se);if(se.isVideoTexture&&tt(se),se.isRenderTargetTexture===!1&&se.version>0&&Ce.__version!==se.version){const Ie=se.image;if(Ie===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ie.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{De(Ce,se,Y);return}}i.bindTexture(t.TEXTURE_2D,Ce.__webglTexture,t.TEXTURE0+Y)}function O(se,Y){const Ce=r.get(se);if(se.version>0&&Ce.__version!==se.version){De(Ce,se,Y);return}i.bindTexture(t.TEXTURE_2D_ARRAY,Ce.__webglTexture,t.TEXTURE0+Y)}function q(se,Y){const Ce=r.get(se);if(se.version>0&&Ce.__version!==se.version){De(Ce,se,Y);return}i.bindTexture(t.TEXTURE_3D,Ce.__webglTexture,t.TEXTURE0+Y)}function V(se,Y){const Ce=r.get(se);if(se.version>0&&Ce.__version!==se.version){Be(Ce,se,Y);return}i.bindTexture(t.TEXTURE_CUBE_MAP,Ce.__webglTexture,t.TEXTURE0+Y)}const le={[X0]:t.REPEAT,[Vo]:t.CLAMP_TO_EDGE,[Y0]:t.MIRRORED_REPEAT},W={[xs]:t.NEAREST,[qA]:t.NEAREST_MIPMAP_NEAREST,[Wm]:t.NEAREST_MIPMAP_LINEAR,[zr]:t.LINEAR,[g0]:t.LINEAR_MIPMAP_NEAREST,[Ec]:t.LINEAR_MIPMAP_LINEAR},re={[z6]:t.NEVER,[W6]:t.ALWAYS,[H6]:t.LESS,[tR]:t.LEQUAL,[V6]:t.EQUAL,[q6]:t.GEQUAL,[G6]:t.GREATER,[$6]:t.NOTEQUAL};function de(se,Y){if(Y.type===za&&e.has("OES_texture_float_linear")===!1&&(Y.magFilter===zr||Y.magFilter===g0||Y.magFilter===Wm||Y.magFilter===Ec||Y.minFilter===zr||Y.minFilter===g0||Y.minFilter===Wm||Y.minFilter===Ec)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(se,t.TEXTURE_WRAP_S,le[Y.wrapS]),t.texParameteri(se,t.TEXTURE_WRAP_T,le[Y.wrapT]),(se===t.TEXTURE_3D||se===t.TEXTURE_2D_ARRAY)&&t.texParameteri(se,t.TEXTURE_WRAP_R,le[Y.wrapR]),t.texParameteri(se,t.TEXTURE_MAG_FILTER,W[Y.magFilter]),t.texParameteri(se,t.TEXTURE_MIN_FILTER,W[Y.minFilter]),Y.compareFunction&&(t.texParameteri(se,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(se,t.TEXTURE_COMPARE_FUNC,re[Y.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Y.magFilter===xs||Y.minFilter!==Wm&&Y.minFilter!==Ec||Y.type===za&&e.has("OES_texture_float_linear")===!1)return;if(Y.anisotropy>1||r.get(Y).__currentAnisotropy){const Ce=e.get("EXT_texture_filter_anisotropic");t.texParameterf(se,Ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Y.anisotropy,s.getMaxAnisotropy())),r.get(Y).__currentAnisotropy=Y.anisotropy}}}function fe(se,Y){let Ce=!1;se.__webglInit===void 0&&(se.__webglInit=!0,Y.addEventListener("dispose",z));const Ie=Y.source;let Ve=v.get(Ie);Ve===void 0&&(Ve={},v.set(Ie,Ve));const Fe=K(Y);if(Fe!==se.__cacheKey){Ve[Fe]===void 0&&(Ve[Fe]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,Ce=!0),Ve[Fe].usedTimes++;const _t=Ve[se.__cacheKey];_t!==void 0&&(Ve[se.__cacheKey].usedTimes--,_t.usedTimes===0&&P(Y)),se.__cacheKey=Fe,se.__webglTexture=Ve[Fe].texture}return Ce}function ae(se,Y,Ce){return Math.floor(Math.floor(se/Ce)/Y)}function pe(se,Y,Ce,Ie){const Fe=se.updateRanges;if(Fe.length===0)i.texSubImage2D(t.TEXTURE_2D,0,0,0,Y.width,Y.height,Ce,Ie,Y.data);else{Fe.sort((Xe,ft)=>Xe.start-ft.start);let _t=0;for(let Xe=1;Xe<Fe.length;Xe++){const ft=Fe[_t],kt=Fe[Xe],zt=ft.start+ft.count,ct=ae(kt.start,Y.width,4),rn=ae(ft.start,Y.width,4);kt.start<=zt+1&&ct===rn&&ae(kt.start+kt.count-1,Y.width,4)===ct?ft.count=Math.max(ft.count,kt.start+kt.count-ft.start):(++_t,Fe[_t]=kt)}Fe.length=_t+1;const gt=t.getParameter(t.UNPACK_ROW_LENGTH),Rt=t.getParameter(t.UNPACK_SKIP_PIXELS),Lt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,Y.width);for(let Xe=0,ft=Fe.length;Xe<ft;Xe++){const kt=Fe[Xe],zt=Math.floor(kt.start/4),ct=Math.ceil(kt.count/4),rn=zt%Y.width,me=Math.floor(zt/Y.width),yt=ct,st=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,rn),t.pixelStorei(t.UNPACK_SKIP_ROWS,me),i.texSubImage2D(t.TEXTURE_2D,0,rn,me,yt,st,Ce,Ie,Y.data)}se.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,gt),t.pixelStorei(t.UNPACK_SKIP_PIXELS,Rt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Lt)}}function De(se,Y,Ce){let Ie=t.TEXTURE_2D;(Y.isDataArrayTexture||Y.isCompressedArrayTexture)&&(Ie=t.TEXTURE_2D_ARRAY),Y.isData3DTexture&&(Ie=t.TEXTURE_3D);const Ve=fe(se,Y),Fe=Y.source;i.bindTexture(Ie,se.__webglTexture,t.TEXTURE0+Ce);const _t=r.get(Fe);if(Fe.version!==_t.__version||Ve===!0){i.activeTexture(t.TEXTURE0+Ce);const gt=qn.getPrimaries(qn.workingColorSpace),Rt=Y.colorSpace===Sh?null:qn.getPrimaries(Y.colorSpace),Lt=Y.colorSpace===Sh||gt===Rt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Y.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Y.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Lt);let Xe=T(Y.image,!1,s.maxTextureSize);Xe=xt(Y,Xe);const ft=a.convert(Y.format,Y.colorSpace),kt=a.convert(Y.type);let zt=L(Y.internalFormat,ft,kt,Y.colorSpace,Y.isVideoTexture);de(Ie,Y);let ct;const rn=Y.mipmaps,me=Y.isVideoTexture!==!0,yt=_t.__version===void 0||Ve===!0,st=Fe.dataReady,jt=I(Y,Xe);if(Y.isDepthTexture)zt=k(Y.format===kg,Y.type),yt&&(me?i.texStorage2D(t.TEXTURE_2D,1,zt,Xe.width,Xe.height):i.texImage2D(t.TEXTURE_2D,0,zt,Xe.width,Xe.height,0,ft,kt,null));else if(Y.isDataTexture)if(rn.length>0){me&&yt&&i.texStorage2D(t.TEXTURE_2D,jt,zt,rn[0].width,rn[0].height);for(let ot=0,Ke=rn.length;ot<Ke;ot++)ct=rn[ot],me?st&&i.texSubImage2D(t.TEXTURE_2D,ot,0,0,ct.width,ct.height,ft,kt,ct.data):i.texImage2D(t.TEXTURE_2D,ot,zt,ct.width,ct.height,0,ft,kt,ct.data);Y.generateMipmaps=!1}else me?(yt&&i.texStorage2D(t.TEXTURE_2D,jt,zt,Xe.width,Xe.height),st&&pe(Y,Xe,ft,kt)):i.texImage2D(t.TEXTURE_2D,0,zt,Xe.width,Xe.height,0,ft,kt,Xe.data);else if(Y.isCompressedTexture)if(Y.isCompressedArrayTexture){me&&yt&&i.texStorage3D(t.TEXTURE_2D_ARRAY,jt,zt,rn[0].width,rn[0].height,Xe.depth);for(let ot=0,Ke=rn.length;ot<Ke;ot++)if(ct=rn[ot],Y.format!==Fs)if(ft!==null)if(me){if(st)if(Y.layerUpdates.size>0){const mt=mE(ct.width,ct.height,Y.format,Y.type);for(const qt of Y.layerUpdates){const Un=ct.data.subarray(qt*mt/ct.data.BYTES_PER_ELEMENT,(qt+1)*mt/ct.data.BYTES_PER_ELEMENT);i.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ot,0,0,qt,ct.width,ct.height,1,ft,Un)}Y.clearLayerUpdates()}else i.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ot,0,0,0,ct.width,ct.height,Xe.depth,ft,ct.data)}else i.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ot,zt,ct.width,ct.height,Xe.depth,0,ct.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else me?st&&i.texSubImage3D(t.TEXTURE_2D_ARRAY,ot,0,0,0,ct.width,ct.height,Xe.depth,ft,kt,ct.data):i.texImage3D(t.TEXTURE_2D_ARRAY,ot,zt,ct.width,ct.height,Xe.depth,0,ft,kt,ct.data)}else{me&&yt&&i.texStorage2D(t.TEXTURE_2D,jt,zt,rn[0].width,rn[0].height);for(let ot=0,Ke=rn.length;ot<Ke;ot++)ct=rn[ot],Y.format!==Fs?ft!==null?me?st&&i.compressedTexSubImage2D(t.TEXTURE_2D,ot,0,0,ct.width,ct.height,ft,ct.data):i.compressedTexImage2D(t.TEXTURE_2D,ot,zt,ct.width,ct.height,0,ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?st&&i.texSubImage2D(t.TEXTURE_2D,ot,0,0,ct.width,ct.height,ft,kt,ct.data):i.texImage2D(t.TEXTURE_2D,ot,zt,ct.width,ct.height,0,ft,kt,ct.data)}else if(Y.isDataArrayTexture)if(me){if(yt&&i.texStorage3D(t.TEXTURE_2D_ARRAY,jt,zt,Xe.width,Xe.height,Xe.depth),st)if(Y.layerUpdates.size>0){const ot=mE(Xe.width,Xe.height,Y.format,Y.type);for(const Ke of Y.layerUpdates){const mt=Xe.data.subarray(Ke*ot/Xe.data.BYTES_PER_ELEMENT,(Ke+1)*ot/Xe.data.BYTES_PER_ELEMENT);i.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ke,Xe.width,Xe.height,1,ft,kt,mt)}Y.clearLayerUpdates()}else i.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,ft,kt,Xe.data)}else i.texImage3D(t.TEXTURE_2D_ARRAY,0,zt,Xe.width,Xe.height,Xe.depth,0,ft,kt,Xe.data);else if(Y.isData3DTexture)me?(yt&&i.texStorage3D(t.TEXTURE_3D,jt,zt,Xe.width,Xe.height,Xe.depth),st&&i.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,ft,kt,Xe.data)):i.texImage3D(t.TEXTURE_3D,0,zt,Xe.width,Xe.height,Xe.depth,0,ft,kt,Xe.data);else if(Y.isFramebufferTexture){if(yt)if(me)i.texStorage2D(t.TEXTURE_2D,jt,zt,Xe.width,Xe.height);else{let ot=Xe.width,Ke=Xe.height;for(let mt=0;mt<jt;mt++)i.texImage2D(t.TEXTURE_2D,mt,zt,ot,Ke,0,ft,kt,null),ot>>=1,Ke>>=1}}else if(rn.length>0){if(me&&yt){const ot=Ct(rn[0]);i.texStorage2D(t.TEXTURE_2D,jt,zt,ot.width,ot.height)}for(let ot=0,Ke=rn.length;ot<Ke;ot++)ct=rn[ot],me?st&&i.texSubImage2D(t.TEXTURE_2D,ot,0,0,ft,kt,ct):i.texImage2D(t.TEXTURE_2D,ot,zt,ft,kt,ct);Y.generateMipmaps=!1}else if(me){if(yt){const ot=Ct(Xe);i.texStorage2D(t.TEXTURE_2D,jt,zt,ot.width,ot.height)}st&&i.texSubImage2D(t.TEXTURE_2D,0,0,0,ft,kt,Xe)}else i.texImage2D(t.TEXTURE_2D,0,zt,ft,kt,Xe);C(Y)&&w(Ie),_t.__version=Fe.version,Y.onUpdate&&Y.onUpdate(Y)}se.__version=Y.version}function Be(se,Y,Ce){if(Y.image.length!==6)return;const Ie=fe(se,Y),Ve=Y.source;i.bindTexture(t.TEXTURE_CUBE_MAP,se.__webglTexture,t.TEXTURE0+Ce);const Fe=r.get(Ve);if(Ve.version!==Fe.__version||Ie===!0){i.activeTexture(t.TEXTURE0+Ce);const _t=qn.getPrimaries(qn.workingColorSpace),gt=Y.colorSpace===Sh?null:qn.getPrimaries(Y.colorSpace),Rt=Y.colorSpace===Sh||_t===gt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Y.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Y.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Rt);const Lt=Y.isCompressedTexture||Y.image[0].isCompressedTexture,Xe=Y.image[0]&&Y.image[0].isDataTexture,ft=[];for(let Ke=0;Ke<6;Ke++)!Lt&&!Xe?ft[Ke]=T(Y.image[Ke],!0,s.maxCubemapSize):ft[Ke]=Xe?Y.image[Ke].image:Y.image[Ke],ft[Ke]=xt(Y,ft[Ke]);const kt=ft[0],zt=a.convert(Y.format,Y.colorSpace),ct=a.convert(Y.type),rn=L(Y.internalFormat,zt,ct,Y.colorSpace),me=Y.isVideoTexture!==!0,yt=Fe.__version===void 0||Ie===!0,st=Ve.dataReady;let jt=I(Y,kt);de(t.TEXTURE_CUBE_MAP,Y);let ot;if(Lt){me&&yt&&i.texStorage2D(t.TEXTURE_CUBE_MAP,jt,rn,kt.width,kt.height);for(let Ke=0;Ke<6;Ke++){ot=ft[Ke].mipmaps;for(let mt=0;mt<ot.length;mt++){const qt=ot[mt];Y.format!==Fs?zt!==null?me?st&&i.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt,0,0,qt.width,qt.height,zt,qt.data):i.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt,rn,qt.width,qt.height,0,qt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):me?st&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt,0,0,qt.width,qt.height,zt,ct,qt.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt,rn,qt.width,qt.height,0,zt,ct,qt.data)}}}else{if(ot=Y.mipmaps,me&&yt){ot.length>0&&jt++;const Ke=Ct(ft[0]);i.texStorage2D(t.TEXTURE_CUBE_MAP,jt,rn,Ke.width,Ke.height)}for(let Ke=0;Ke<6;Ke++)if(Xe){me?st&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,0,0,ft[Ke].width,ft[Ke].height,zt,ct,ft[Ke].data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,rn,ft[Ke].width,ft[Ke].height,0,zt,ct,ft[Ke].data);for(let mt=0;mt<ot.length;mt++){const Un=ot[mt].image[Ke].image;me?st&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt+1,0,0,Un.width,Un.height,zt,ct,Un.data):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt+1,rn,Un.width,Un.height,0,zt,ct,Un.data)}}else{me?st&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,0,0,zt,ct,ft[Ke]):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,0,rn,zt,ct,ft[Ke]);for(let mt=0;mt<ot.length;mt++){const qt=ot[mt];me?st&&i.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt+1,0,0,zt,ct,qt.image[Ke]):i.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Ke,mt+1,rn,zt,ct,qt.image[Ke])}}}C(Y)&&w(t.TEXTURE_CUBE_MAP),Fe.__version=Ve.version,Y.onUpdate&&Y.onUpdate(Y)}se.__version=Y.version}function Ue(se,Y,Ce,Ie,Ve,Fe){const _t=a.convert(Ce.format,Ce.colorSpace),gt=a.convert(Ce.type),Rt=L(Ce.internalFormat,_t,gt,Ce.colorSpace),Lt=r.get(Y),Xe=r.get(Ce);if(Xe.__renderTarget=Y,!Lt.__hasExternalTextures){const ft=Math.max(1,Y.width>>Fe),kt=Math.max(1,Y.height>>Fe);Ve===t.TEXTURE_3D||Ve===t.TEXTURE_2D_ARRAY?i.texImage3D(Ve,Fe,Rt,ft,kt,Y.depth,0,_t,gt,null):i.texImage2D(Ve,Fe,Rt,ft,kt,0,_t,gt,null)}i.bindFramebuffer(t.FRAMEBUFFER,se),vt(Y)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ie,Ve,Xe.__webglTexture,0,He(Y)):(Ve===t.TEXTURE_2D||Ve>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ve<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ie,Ve,Xe.__webglTexture,Fe),i.bindFramebuffer(t.FRAMEBUFFER,null)}function Ze(se,Y,Ce){if(t.bindRenderbuffer(t.RENDERBUFFER,se),Y.depthBuffer){const Ie=Y.depthTexture,Ve=Ie&&Ie.isDepthTexture?Ie.type:null,Fe=k(Y.stencilBuffer,Ve),_t=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,gt=He(Y);vt(Y)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,gt,Fe,Y.width,Y.height):Ce?t.renderbufferStorageMultisample(t.RENDERBUFFER,gt,Fe,Y.width,Y.height):t.renderbufferStorage(t.RENDERBUFFER,Fe,Y.width,Y.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,_t,t.RENDERBUFFER,se)}else{const Ie=Y.textures;for(let Ve=0;Ve<Ie.length;Ve++){const Fe=Ie[Ve],_t=a.convert(Fe.format,Fe.colorSpace),gt=a.convert(Fe.type),Rt=L(Fe.internalFormat,_t,gt,Fe.colorSpace),Lt=He(Y);Ce&&vt(Y)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Lt,Rt,Y.width,Y.height):vt(Y)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Lt,Rt,Y.width,Y.height):t.renderbufferStorage(t.RENDERBUFFER,Rt,Y.width,Y.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Je(se,Y){if(Y&&Y.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(i.bindFramebuffer(t.FRAMEBUFFER,se),!(Y.depthTexture&&Y.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ie=r.get(Y.depthTexture);Ie.__renderTarget=Y,(!Ie.__webglTexture||Y.depthTexture.image.width!==Y.width||Y.depthTexture.image.height!==Y.height)&&(Y.depthTexture.image.width=Y.width,Y.depthTexture.image.height=Y.height,Y.depthTexture.needsUpdate=!0),ee(Y.depthTexture,0);const Ve=Ie.__webglTexture,Fe=He(Y);if(Y.depthTexture.format===Dg)vt(Y)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ve,0,Fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ve,0);else if(Y.depthTexture.format===kg)vt(Y)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ve,0,Fe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ve,0);else throw new Error("Unknown depthTexture format")}function Nt(se){const Y=r.get(se),Ce=se.isWebGLCubeRenderTarget===!0;if(Y.__boundDepthTexture!==se.depthTexture){const Ie=se.depthTexture;if(Y.__depthDisposeCallback&&Y.__depthDisposeCallback(),Ie){const Ve=()=>{delete Y.__boundDepthTexture,delete Y.__depthDisposeCallback,Ie.removeEventListener("dispose",Ve)};Ie.addEventListener("dispose",Ve),Y.__depthDisposeCallback=Ve}Y.__boundDepthTexture=Ie}if(se.depthTexture&&!Y.__autoAllocateDepthBuffer){if(Ce)throw new Error("target.depthTexture not supported in Cube render targets");const Ie=se.texture.mipmaps;Ie&&Ie.length>0?Je(Y.__webglFramebuffer[0],se):Je(Y.__webglFramebuffer,se)}else if(Ce){Y.__webglDepthbuffer=[];for(let Ie=0;Ie<6;Ie++)if(i.bindFramebuffer(t.FRAMEBUFFER,Y.__webglFramebuffer[Ie]),Y.__webglDepthbuffer[Ie]===void 0)Y.__webglDepthbuffer[Ie]=t.createRenderbuffer(),Ze(Y.__webglDepthbuffer[Ie],se,!1);else{const Ve=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Fe=Y.__webglDepthbuffer[Ie];t.bindRenderbuffer(t.RENDERBUFFER,Fe),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ve,t.RENDERBUFFER,Fe)}}else{const Ie=se.texture.mipmaps;if(Ie&&Ie.length>0?i.bindFramebuffer(t.FRAMEBUFFER,Y.__webglFramebuffer[0]):i.bindFramebuffer(t.FRAMEBUFFER,Y.__webglFramebuffer),Y.__webglDepthbuffer===void 0)Y.__webglDepthbuffer=t.createRenderbuffer(),Ze(Y.__webglDepthbuffer,se,!1);else{const Ve=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Fe=Y.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Fe),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ve,t.RENDERBUFFER,Fe)}}i.bindFramebuffer(t.FRAMEBUFFER,null)}function Et(se,Y,Ce){const Ie=r.get(se);Y!==void 0&&Ue(Ie.__webglFramebuffer,se,se.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Ce!==void 0&&Nt(se)}function At(se){const Y=se.texture,Ce=r.get(se),Ie=r.get(Y);se.addEventListener("dispose",U);const Ve=se.textures,Fe=se.isWebGLCubeRenderTarget===!0,_t=Ve.length>1;if(_t||(Ie.__webglTexture===void 0&&(Ie.__webglTexture=t.createTexture()),Ie.__version=Y.version,o.memory.textures++),Fe){Ce.__webglFramebuffer=[];for(let gt=0;gt<6;gt++)if(Y.mipmaps&&Y.mipmaps.length>0){Ce.__webglFramebuffer[gt]=[];for(let Rt=0;Rt<Y.mipmaps.length;Rt++)Ce.__webglFramebuffer[gt][Rt]=t.createFramebuffer()}else Ce.__webglFramebuffer[gt]=t.createFramebuffer()}else{if(Y.mipmaps&&Y.mipmaps.length>0){Ce.__webglFramebuffer=[];for(let gt=0;gt<Y.mipmaps.length;gt++)Ce.__webglFramebuffer[gt]=t.createFramebuffer()}else Ce.__webglFramebuffer=t.createFramebuffer();if(_t)for(let gt=0,Rt=Ve.length;gt<Rt;gt++){const Lt=r.get(Ve[gt]);Lt.__webglTexture===void 0&&(Lt.__webglTexture=t.createTexture(),o.memory.textures++)}if(se.samples>0&&vt(se)===!1){Ce.__webglMultisampledFramebuffer=t.createFramebuffer(),Ce.__webglColorRenderbuffer=[],i.bindFramebuffer(t.FRAMEBUFFER,Ce.__webglMultisampledFramebuffer);for(let gt=0;gt<Ve.length;gt++){const Rt=Ve[gt];Ce.__webglColorRenderbuffer[gt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Ce.__webglColorRenderbuffer[gt]);const Lt=a.convert(Rt.format,Rt.colorSpace),Xe=a.convert(Rt.type),ft=L(Rt.internalFormat,Lt,Xe,Rt.colorSpace,se.isXRRenderTarget===!0),kt=He(se);t.renderbufferStorageMultisample(t.RENDERBUFFER,kt,ft,se.width,se.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+gt,t.RENDERBUFFER,Ce.__webglColorRenderbuffer[gt])}t.bindRenderbuffer(t.RENDERBUFFER,null),se.depthBuffer&&(Ce.__webglDepthRenderbuffer=t.createRenderbuffer(),Ze(Ce.__webglDepthRenderbuffer,se,!0)),i.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Fe){i.bindTexture(t.TEXTURE_CUBE_MAP,Ie.__webglTexture),de(t.TEXTURE_CUBE_MAP,Y);for(let gt=0;gt<6;gt++)if(Y.mipmaps&&Y.mipmaps.length>0)for(let Rt=0;Rt<Y.mipmaps.length;Rt++)Ue(Ce.__webglFramebuffer[gt][Rt],se,Y,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+gt,Rt);else Ue(Ce.__webglFramebuffer[gt],se,Y,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+gt,0);C(Y)&&w(t.TEXTURE_CUBE_MAP),i.unbindTexture()}else if(_t){for(let gt=0,Rt=Ve.length;gt<Rt;gt++){const Lt=Ve[gt],Xe=r.get(Lt);i.bindTexture(t.TEXTURE_2D,Xe.__webglTexture),de(t.TEXTURE_2D,Lt),Ue(Ce.__webglFramebuffer,se,Lt,t.COLOR_ATTACHMENT0+gt,t.TEXTURE_2D,0),C(Lt)&&w(t.TEXTURE_2D)}i.unbindTexture()}else{let gt=t.TEXTURE_2D;if((se.isWebGL3DRenderTarget||se.isWebGLArrayRenderTarget)&&(gt=se.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),i.bindTexture(gt,Ie.__webglTexture),de(gt,Y),Y.mipmaps&&Y.mipmaps.length>0)for(let Rt=0;Rt<Y.mipmaps.length;Rt++)Ue(Ce.__webglFramebuffer[Rt],se,Y,t.COLOR_ATTACHMENT0,gt,Rt);else Ue(Ce.__webglFramebuffer,se,Y,t.COLOR_ATTACHMENT0,gt,0);C(Y)&&w(gt),i.unbindTexture()}se.depthBuffer&&Nt(se)}function ne(se){const Y=se.textures;for(let Ce=0,Ie=Y.length;Ce<Ie;Ce++){const Ve=Y[Ce];if(C(Ve)){const Fe=A(se),_t=r.get(Ve).__webglTexture;i.bindTexture(Fe,_t),w(Fe),i.unbindTexture()}}}const rt=[],qe=[];function We(se){if(se.samples>0){if(vt(se)===!1){const Y=se.textures,Ce=se.width,Ie=se.height;let Ve=t.COLOR_BUFFER_BIT;const Fe=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,_t=r.get(se),gt=Y.length>1;if(gt)for(let Lt=0;Lt<Y.length;Lt++)i.bindFramebuffer(t.FRAMEBUFFER,_t.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Lt,t.RENDERBUFFER,null),i.bindFramebuffer(t.FRAMEBUFFER,_t.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Lt,t.TEXTURE_2D,null,0);i.bindFramebuffer(t.READ_FRAMEBUFFER,_t.__webglMultisampledFramebuffer);const Rt=se.texture.mipmaps;Rt&&Rt.length>0?i.bindFramebuffer(t.DRAW_FRAMEBUFFER,_t.__webglFramebuffer[0]):i.bindFramebuffer(t.DRAW_FRAMEBUFFER,_t.__webglFramebuffer);for(let Lt=0;Lt<Y.length;Lt++){if(se.resolveDepthBuffer&&(se.depthBuffer&&(Ve|=t.DEPTH_BUFFER_BIT),se.stencilBuffer&&se.resolveStencilBuffer&&(Ve|=t.STENCIL_BUFFER_BIT)),gt){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,_t.__webglColorRenderbuffer[Lt]);const Xe=r.get(Y[Lt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Xe,0)}t.blitFramebuffer(0,0,Ce,Ie,0,0,Ce,Ie,Ve,t.NEAREST),h===!0&&(rt.length=0,qe.length=0,rt.push(t.COLOR_ATTACHMENT0+Lt),se.depthBuffer&&se.resolveDepthBuffer===!1&&(rt.push(Fe),qe.push(Fe),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,qe)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,rt))}if(i.bindFramebuffer(t.READ_FRAMEBUFFER,null),i.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),gt)for(let Lt=0;Lt<Y.length;Lt++){i.bindFramebuffer(t.FRAMEBUFFER,_t.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Lt,t.RENDERBUFFER,_t.__webglColorRenderbuffer[Lt]);const Xe=r.get(Y[Lt]).__webglTexture;i.bindFramebuffer(t.FRAMEBUFFER,_t.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Lt,t.TEXTURE_2D,Xe,0)}i.bindFramebuffer(t.DRAW_FRAMEBUFFER,_t.__webglMultisampledFramebuffer)}else if(se.depthBuffer&&se.resolveDepthBuffer===!1&&h){const Y=se.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Y])}}}function He(se){return Math.min(s.maxSamples,se.samples)}function vt(se){const Y=r.get(se);return se.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Y.__useRenderToTexture!==!1}function tt(se){const Y=o.render.frame;p.get(se)!==Y&&(p.set(se,Y),se.update())}function xt(se,Y){const Ce=se.colorSpace,Ie=se.format,Ve=se.type;return se.isCompressedTexture===!0||se.isVideoTexture===!0||Ce!==ld&&Ce!==Sh&&(qn.getTransfer(Ce)===_i?(Ie!==Fs||Ve!==Xo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ce)),Y}function Ct(se){return typeof HTMLImageElement<"u"&&se instanceof HTMLImageElement?(d.width=se.naturalWidth||se.width,d.height=se.naturalHeight||se.height):typeof VideoFrame<"u"&&se instanceof VideoFrame?(d.width=se.displayWidth,d.height=se.displayHeight):(d.width=se.width,d.height=se.height),d}this.allocateTextureUnit=Q,this.resetTextureUnits=te,this.setTexture2D=ee,this.setTexture2DArray=O,this.setTexture3D=q,this.setTextureCube=V,this.rebindTextures=Et,this.setupRenderTarget=At,this.updateRenderTargetMipmap=ne,this.updateMultisampleRenderTarget=We,this.setupDepthRenderbuffer=Nt,this.setupFrameBufferTexture=Ue,this.useMultisampledRTT=vt}function rG(t,e){function i(r,s=Sh){let a;const o=qn.getTransfer(s);if(r===Xo)return t.UNSIGNED_BYTE;if(r===jw)return t.UNSIGNED_SHORT_4_4_4_4;if(r===Sw)return t.UNSIGNED_SHORT_5_5_5_1;if(r===YA)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===WA)return t.BYTE;if(r===XA)return t.SHORT;if(r===Rg)return t.UNSIGNED_SHORT;if(r===bw)return t.INT;if(r===Ih)return t.UNSIGNED_INT;if(r===za)return t.FLOAT;if(r===Jg)return t.HALF_FLOAT;if(r===KA)return t.ALPHA;if(r===ZA)return t.RGB;if(r===Fs)return t.RGBA;if(r===Dg)return t.DEPTH_COMPONENT;if(r===kg)return t.DEPTH_STENCIL;if(r===ww)return t.RED;if(r===Cv)return t.RED_INTEGER;if(r===QA)return t.RG;if(r===Tw)return t.RG_INTEGER;if(r===Cw)return t.RGBA_INTEGER;if(r===x0||r===y0||r===v0||r===_0)if(o===_i)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===x0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===y0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===v0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===_0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===x0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===y0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===v0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===_0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===e1||r===t1||r===n1||r===i1)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===e1)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===t1)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===n1)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===i1)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===r1||r===s1||r===a1)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===r1||r===s1)return o===_i?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===a1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===o1||r===l1||r===c1||r===h1||r===u1||r===d1||r===f1||r===p1||r===m1||r===g1||r===x1||r===y1||r===v1||r===_1)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===o1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===l1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===c1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===h1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===u1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===d1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===f1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===p1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===m1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===g1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===x1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===y1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===v1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===_1)return o===_i?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===b0||r===b1||r===j1)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===b0)return o===_i?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===b1)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===j1)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===JA||r===S1||r===w1||r===T1)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===b0)return a.COMPRESSED_RED_RGTC1_EXT;if(r===S1)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===w1)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===T1)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Lg?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:i}}const t0e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,n0e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class i0e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,i,r){if(this.texture===null){const s=new sr,a=e.properties.get(s);a.__webglTexture=i.texture,(i.depthNear!==r.depthNear||i.depthFar!==r.depthFar)&&(this.depthNear=i.depthNear,this.depthFar=i.depthFar),this.texture=s}}getMesh(e){if(this.texture!==null&&this.mesh===null){const i=e.cameras[0].viewport,r=new Ll({vertexShader:t0e,fragmentShader:n0e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:i.z},depthHeight:{value:i.w}}});this.mesh=new Mr(new nx(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class r0e extends Fc{constructor(e,i){super();const r=this;let s=null,a=1,o=null,l="local-floor",h=1,d=null,p=null,g=null,v=null,_=null,j=null;const T=new i0e,C=i.getContextAttributes();let w=null,A=null;const L=[],k=[],I=new it;let z=null;const U=new es;U.viewport=new ti;const H=new es;H.viewport=new ti;const P=[U,H],N=new WV;let G=null,te=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let pe=L[ae];return pe===void 0&&(pe=new zj,L[ae]=pe),pe.getTargetRaySpace()},this.getControllerGrip=function(ae){let pe=L[ae];return pe===void 0&&(pe=new zj,L[ae]=pe),pe.getGripSpace()},this.getHand=function(ae){let pe=L[ae];return pe===void 0&&(pe=new zj,L[ae]=pe),pe.getHandSpace()};function Q(ae){const pe=k.indexOf(ae.inputSource);if(pe===-1)return;const De=L[pe];De!==void 0&&(De.update(ae.inputSource,ae.frame,d||o),De.dispatchEvent({type:ae.type,data:ae.inputSource}))}function K(){s.removeEventListener("select",Q),s.removeEventListener("selectstart",Q),s.removeEventListener("selectend",Q),s.removeEventListener("squeeze",Q),s.removeEventListener("squeezestart",Q),s.removeEventListener("squeezeend",Q),s.removeEventListener("end",K),s.removeEventListener("inputsourceschange",ee);for(let ae=0;ae<L.length;ae++){const pe=k[ae];pe!==null&&(k[ae]=null,L[ae].disconnect(pe))}G=null,te=null,T.reset(),e.setRenderTarget(w),_=null,v=null,g=null,s=null,A=null,fe.stop(),r.isPresenting=!1,e.setPixelRatio(z),e.setSize(I.width,I.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){a=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){l=ae,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return d||o},this.setReferenceSpace=function(ae){d=ae},this.getBaseLayer=function(){return v!==null?v:_},this.getBinding=function(){return g},this.getFrame=function(){return j},this.getSession=function(){return s},this.setSession=async function(ae){if(s=ae,s!==null){if(w=e.getRenderTarget(),s.addEventListener("select",Q),s.addEventListener("selectstart",Q),s.addEventListener("selectend",Q),s.addEventListener("squeeze",Q),s.addEventListener("squeezestart",Q),s.addEventListener("squeezeend",Q),s.addEventListener("end",K),s.addEventListener("inputsourceschange",ee),C.xrCompatible!==!0&&await i.makeXRCompatible(),z=e.getPixelRatio(),e.getSize(I),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let De=null,Be=null,Ue=null;C.depth&&(Ue=C.stencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24,De=C.stencil?kg:Dg,Be=C.stencil?Lg:Ih);const Ze={colorFormat:i.RGBA8,depthFormat:Ue,scaleFactor:a};g=new XRWebGLBinding(s,i),v=g.createProjectionLayer(Ze),s.updateRenderState({layers:[v]}),e.setPixelRatio(1),e.setSize(v.textureWidth,v.textureHeight,!1),A=new Oc(v.textureWidth,v.textureHeight,{format:Fs,type:Xo,depthTexture:new hR(v.textureWidth,v.textureHeight,Be,void 0,void 0,void 0,void 0,void 0,void 0,De),stencilBuffer:C.stencil,colorSpace:e.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}else{const De={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:a};_=new XRWebGLLayer(s,i,De),s.updateRenderState({baseLayer:_}),e.setPixelRatio(1),e.setSize(_.framebufferWidth,_.framebufferHeight,!1),A=new Oc(_.framebufferWidth,_.framebufferHeight,{format:Fs,type:Xo,colorSpace:e.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}A.isXRRenderTarget=!0,this.setFoveation(h),d=null,o=await s.requestReferenceSpace(l),fe.setContext(s),fe.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(s!==null)return s.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function ee(ae){for(let pe=0;pe<ae.removed.length;pe++){const De=ae.removed[pe],Be=k.indexOf(De);Be>=0&&(k[Be]=null,L[Be].disconnect(De))}for(let pe=0;pe<ae.added.length;pe++){const De=ae.added[pe];let Be=k.indexOf(De);if(Be===-1){for(let Ze=0;Ze<L.length;Ze++)if(Ze>=k.length){k.push(De),Be=Ze;break}else if(k[Ze]===null){k[Ze]=De,Be=Ze;break}if(Be===-1)break}const Ue=L[Be];Ue&&Ue.connect(De)}}const O=new oe,q=new oe;function V(ae,pe,De){O.setFromMatrixPosition(pe.matrixWorld),q.setFromMatrixPosition(De.matrixWorld);const Be=O.distanceTo(q),Ue=pe.projectionMatrix.elements,Ze=De.projectionMatrix.elements,Je=Ue[14]/(Ue[10]-1),Nt=Ue[14]/(Ue[10]+1),Et=(Ue[9]+1)/Ue[5],At=(Ue[9]-1)/Ue[5],ne=(Ue[8]-1)/Ue[0],rt=(Ze[8]+1)/Ze[0],qe=Je*ne,We=Je*rt,He=Be/(-ne+rt),vt=He*-ne;if(pe.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(vt),ae.translateZ(He),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),Ue[10]===-1)ae.projectionMatrix.copy(pe.projectionMatrix),ae.projectionMatrixInverse.copy(pe.projectionMatrixInverse);else{const tt=Je+He,xt=Nt+He,Ct=qe-vt,se=We+(Be-vt),Y=Et*Nt/xt*tt,Ce=At*Nt/xt*tt;ae.projectionMatrix.makePerspective(Ct,se,Y,Ce,tt,xt),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function le(ae,pe){pe===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(pe.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(s===null)return;let pe=ae.near,De=ae.far;T.texture!==null&&(T.depthNear>0&&(pe=T.depthNear),T.depthFar>0&&(De=T.depthFar)),N.near=H.near=U.near=pe,N.far=H.far=U.far=De,(G!==N.near||te!==N.far)&&(s.updateRenderState({depthNear:N.near,depthFar:N.far}),G=N.near,te=N.far),U.layers.mask=ae.layers.mask|2,H.layers.mask=ae.layers.mask|4,N.layers.mask=U.layers.mask|H.layers.mask;const Be=ae.parent,Ue=N.cameras;le(N,Be);for(let Ze=0;Ze<Ue.length;Ze++)le(Ue[Ze],Be);Ue.length===2?V(N,U,H):N.projectionMatrix.copy(U.projectionMatrix),W(ae,N,Be)};function W(ae,pe,De){De===null?ae.matrix.copy(pe.matrixWorld):(ae.matrix.copy(De.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(pe.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(pe.projectionMatrix),ae.projectionMatrixInverse.copy(pe.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=Ng*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(v===null&&_===null))return h},this.setFoveation=function(ae){h=ae,v!==null&&(v.fixedFoveation=ae),_!==null&&_.fixedFoveation!==void 0&&(_.fixedFoveation=ae)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(N)};let re=null;function de(ae,pe){if(p=pe.getViewerPose(d||o),j=pe,p!==null){const De=p.views;_!==null&&(e.setRenderTargetFramebuffer(A,_.framebuffer),e.setRenderTarget(A));let Be=!1;De.length!==N.cameras.length&&(N.cameras.length=0,Be=!0);for(let Je=0;Je<De.length;Je++){const Nt=De[Je];let Et=null;if(_!==null)Et=_.getViewport(Nt);else{const ne=g.getViewSubImage(v,Nt);Et=ne.viewport,Je===0&&(e.setRenderTargetTextures(A,ne.colorTexture,ne.depthStencilTexture),e.setRenderTarget(A))}let At=P[Je];At===void 0&&(At=new es,At.layers.enable(Je),At.viewport=new ti,P[Je]=At),At.matrix.fromArray(Nt.transform.matrix),At.matrix.decompose(At.position,At.quaternion,At.scale),At.projectionMatrix.fromArray(Nt.projectionMatrix),At.projectionMatrixInverse.copy(At.projectionMatrix).invert(),At.viewport.set(Et.x,Et.y,Et.width,Et.height),Je===0&&(N.matrix.copy(At.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),Be===!0&&N.cameras.push(At)}const Ue=s.enabledFeatures;if(Ue&&Ue.includes("depth-sensing")&&s.depthUsage=="gpu-optimized"&&g){const Je=g.getDepthInformation(De[0]);Je&&Je.isValid&&Je.texture&&T.init(e,Je,s.renderState)}}for(let De=0;De<L.length;De++){const Be=k[De],Ue=L[De];Be!==null&&Ue!==void 0&&Ue.update(Be,pe,d||o)}re&&re(ae,pe),pe.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:pe}),j=null}const fe=new JV;fe.setAnimationLoop(de),this.setAnimationLoop=function(ae){re=ae},this.dispose=function(){}}}const wf=new fo,s0e=new dn;function a0e(t,e){function i(C,w){C.matrixAutoUpdate===!0&&C.updateMatrix(),w.value.copy(C.matrix)}function r(C,w){w.color.getRGB(C.fogColor.value,Q6(t)),w.isFog?(C.fogNear.value=w.near,C.fogFar.value=w.far):w.isFogExp2&&(C.fogDensity.value=w.density)}function s(C,w,A,L,k){w.isMeshBasicMaterial||w.isMeshLambertMaterial?a(C,w):w.isMeshToonMaterial?(a(C,w),g(C,w)):w.isMeshPhongMaterial?(a(C,w),p(C,w)):w.isMeshStandardMaterial?(a(C,w),v(C,w),w.isMeshPhysicalMaterial&&_(C,w,k)):w.isMeshMatcapMaterial?(a(C,w),j(C,w)):w.isMeshDepthMaterial?a(C,w):w.isMeshDistanceMaterial?(a(C,w),T(C,w)):w.isMeshNormalMaterial?a(C,w):w.isLineBasicMaterial?(o(C,w),w.isLineDashedMaterial&&l(C,w)):w.isPointsMaterial?h(C,w,A,L):w.isSpriteMaterial?d(C,w):w.isShadowMaterial?(C.color.value.copy(w.color),C.opacity.value=w.opacity):w.isShaderMaterial&&(w.uniformsNeedUpdate=!1)}function a(C,w){C.opacity.value=w.opacity,w.color&&C.diffuse.value.copy(w.color),w.emissive&&C.emissive.value.copy(w.emissive).multiplyScalar(w.emissiveIntensity),w.map&&(C.map.value=w.map,i(w.map,C.mapTransform)),w.alphaMap&&(C.alphaMap.value=w.alphaMap,i(w.alphaMap,C.alphaMapTransform)),w.bumpMap&&(C.bumpMap.value=w.bumpMap,i(w.bumpMap,C.bumpMapTransform),C.bumpScale.value=w.bumpScale,w.side===ma&&(C.bumpScale.value*=-1)),w.normalMap&&(C.normalMap.value=w.normalMap,i(w.normalMap,C.normalMapTransform),C.normalScale.value.copy(w.normalScale),w.side===ma&&C.normalScale.value.negate()),w.displacementMap&&(C.displacementMap.value=w.displacementMap,i(w.displacementMap,C.displacementMapTransform),C.displacementScale.value=w.displacementScale,C.displacementBias.value=w.displacementBias),w.emissiveMap&&(C.emissiveMap.value=w.emissiveMap,i(w.emissiveMap,C.emissiveMapTransform)),w.specularMap&&(C.specularMap.value=w.specularMap,i(w.specularMap,C.specularMapTransform)),w.alphaTest>0&&(C.alphaTest.value=w.alphaTest);const A=e.get(w),L=A.envMap,k=A.envMapRotation;L&&(C.envMap.value=L,wf.copy(k),wf.x*=-1,wf.y*=-1,wf.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(wf.y*=-1,wf.z*=-1),C.envMapRotation.value.setFromMatrix4(s0e.makeRotationFromEuler(wf)),C.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,C.reflectivity.value=w.reflectivity,C.ior.value=w.ior,C.refractionRatio.value=w.refractionRatio),w.lightMap&&(C.lightMap.value=w.lightMap,C.lightMapIntensity.value=w.lightMapIntensity,i(w.lightMap,C.lightMapTransform)),w.aoMap&&(C.aoMap.value=w.aoMap,C.aoMapIntensity.value=w.aoMapIntensity,i(w.aoMap,C.aoMapTransform))}function o(C,w){C.diffuse.value.copy(w.color),C.opacity.value=w.opacity,w.map&&(C.map.value=w.map,i(w.map,C.mapTransform))}function l(C,w){C.dashSize.value=w.dashSize,C.totalSize.value=w.dashSize+w.gapSize,C.scale.value=w.scale}function h(C,w,A,L){C.diffuse.value.copy(w.color),C.opacity.value=w.opacity,C.size.value=w.size*A,C.scale.value=L*.5,w.map&&(C.map.value=w.map,i(w.map,C.uvTransform)),w.alphaMap&&(C.alphaMap.value=w.alphaMap,i(w.alphaMap,C.alphaMapTransform)),w.alphaTest>0&&(C.alphaTest.value=w.alphaTest)}function d(C,w){C.diffuse.value.copy(w.color),C.opacity.value=w.opacity,C.rotation.value=w.rotation,w.map&&(C.map.value=w.map,i(w.map,C.mapTransform)),w.alphaMap&&(C.alphaMap.value=w.alphaMap,i(w.alphaMap,C.alphaMapTransform)),w.alphaTest>0&&(C.alphaTest.value=w.alphaTest)}function p(C,w){C.specular.value.copy(w.specular),C.shininess.value=Math.max(w.shininess,1e-4)}function g(C,w){w.gradientMap&&(C.gradientMap.value=w.gradientMap)}function v(C,w){C.metalness.value=w.metalness,w.metalnessMap&&(C.metalnessMap.value=w.metalnessMap,i(w.metalnessMap,C.metalnessMapTransform)),C.roughness.value=w.roughness,w.roughnessMap&&(C.roughnessMap.value=w.roughnessMap,i(w.roughnessMap,C.roughnessMapTransform)),w.envMap&&(C.envMapIntensity.value=w.envMapIntensity)}function _(C,w,A){C.ior.value=w.ior,w.sheen>0&&(C.sheenColor.value.copy(w.sheenColor).multiplyScalar(w.sheen),C.sheenRoughness.value=w.sheenRoughness,w.sheenColorMap&&(C.sheenColorMap.value=w.sheenColorMap,i(w.sheenColorMap,C.sheenColorMapTransform)),w.sheenRoughnessMap&&(C.sheenRoughnessMap.value=w.sheenRoughnessMap,i(w.sheenRoughnessMap,C.sheenRoughnessMapTransform))),w.clearcoat>0&&(C.clearcoat.value=w.clearcoat,C.clearcoatRoughness.value=w.clearcoatRoughness,w.clearcoatMap&&(C.clearcoatMap.value=w.clearcoatMap,i(w.clearcoatMap,C.clearcoatMapTransform)),w.clearcoatRoughnessMap&&(C.clearcoatRoughnessMap.value=w.clearcoatRoughnessMap,i(w.clearcoatRoughnessMap,C.clearcoatRoughnessMapTransform)),w.clearcoatNormalMap&&(C.clearcoatNormalMap.value=w.clearcoatNormalMap,i(w.clearcoatNormalMap,C.clearcoatNormalMapTransform),C.clearcoatNormalScale.value.copy(w.clearcoatNormalScale),w.side===ma&&C.clearcoatNormalScale.value.negate())),w.dispersion>0&&(C.dispersion.value=w.dispersion),w.iridescence>0&&(C.iridescence.value=w.iridescence,C.iridescenceIOR.value=w.iridescenceIOR,C.iridescenceThicknessMinimum.value=w.iridescenceThicknessRange[0],C.iridescenceThicknessMaximum.value=w.iridescenceThicknessRange[1],w.iridescenceMap&&(C.iridescenceMap.value=w.iridescenceMap,i(w.iridescenceMap,C.iridescenceMapTransform)),w.iridescenceThicknessMap&&(C.iridescenceThicknessMap.value=w.iridescenceThicknessMap,i(w.iridescenceThicknessMap,C.iridescenceThicknessMapTransform))),w.transmission>0&&(C.transmission.value=w.transmission,C.transmissionSamplerMap.value=A.texture,C.transmissionSamplerSize.value.set(A.width,A.height),w.transmissionMap&&(C.transmissionMap.value=w.transmissionMap,i(w.transmissionMap,C.transmissionMapTransform)),C.thickness.value=w.thickness,w.thicknessMap&&(C.thicknessMap.value=w.thicknessMap,i(w.thicknessMap,C.thicknessMapTransform)),C.attenuationDistance.value=w.attenuationDistance,C.attenuationColor.value.copy(w.attenuationColor)),w.anisotropy>0&&(C.anisotropyVector.value.set(w.anisotropy*Math.cos(w.anisotropyRotation),w.anisotropy*Math.sin(w.anisotropyRotation)),w.anisotropyMap&&(C.anisotropyMap.value=w.anisotropyMap,i(w.anisotropyMap,C.anisotropyMapTransform))),C.specularIntensity.value=w.specularIntensity,C.specularColor.value.copy(w.specularColor),w.specularColorMap&&(C.specularColorMap.value=w.specularColorMap,i(w.specularColorMap,C.specularColorMapTransform)),w.specularIntensityMap&&(C.specularIntensityMap.value=w.specularIntensityMap,i(w.specularIntensityMap,C.specularIntensityMapTransform))}function j(C,w){w.matcap&&(C.matcap.value=w.matcap)}function T(C,w){const A=e.get(w).light;C.referencePosition.value.setFromMatrixPosition(A.matrixWorld),C.nearDistance.value=A.shadow.camera.near,C.farDistance.value=A.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:s}}function o0e(t,e,i,r){let s={},a={},o=[];const l=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function h(A,L){const k=L.program;r.uniformBlockBinding(A,k)}function d(A,L){let k=s[A.id];k===void 0&&(j(A),k=p(A),s[A.id]=k,A.addEventListener("dispose",C));const I=L.program;r.updateUBOMapping(A,I);const z=e.render.frame;a[A.id]!==z&&(v(A),a[A.id]=z)}function p(A){const L=g();A.__bindingPointIndex=L;const k=t.createBuffer(),I=A.__size,z=A.usage;return t.bindBuffer(t.UNIFORM_BUFFER,k),t.bufferData(t.UNIFORM_BUFFER,I,z),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,L,k),k}function g(){for(let A=0;A<l;A++)if(o.indexOf(A)===-1)return o.push(A),A;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function v(A){const L=s[A.id],k=A.uniforms,I=A.__cache;t.bindBuffer(t.UNIFORM_BUFFER,L);for(let z=0,U=k.length;z<U;z++){const H=Array.isArray(k[z])?k[z]:[k[z]];for(let P=0,N=H.length;P<N;P++){const G=H[P];if(_(G,z,P,I)===!0){const te=G.__offset,Q=Array.isArray(G.value)?G.value:[G.value];let K=0;for(let ee=0;ee<Q.length;ee++){const O=Q[ee],q=T(O);typeof O=="number"||typeof O=="boolean"?(G.__data[0]=O,t.bufferSubData(t.UNIFORM_BUFFER,te+K,G.__data)):O.isMatrix3?(G.__data[0]=O.elements[0],G.__data[1]=O.elements[1],G.__data[2]=O.elements[2],G.__data[3]=0,G.__data[4]=O.elements[3],G.__data[5]=O.elements[4],G.__data[6]=O.elements[5],G.__data[7]=0,G.__data[8]=O.elements[6],G.__data[9]=O.elements[7],G.__data[10]=O.elements[8],G.__data[11]=0):(O.toArray(G.__data,K),K+=q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,te,G.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function _(A,L,k,I){const z=A.value,U=L+"_"+k;if(I[U]===void 0)return typeof z=="number"||typeof z=="boolean"?I[U]=z:I[U]=z.clone(),!0;{const H=I[U];if(typeof z=="number"||typeof z=="boolean"){if(H!==z)return I[U]=z,!0}else if(H.equals(z)===!1)return H.copy(z),!0}return!1}function j(A){const L=A.uniforms;let k=0;const I=16;for(let U=0,H=L.length;U<H;U++){const P=Array.isArray(L[U])?L[U]:[L[U]];for(let N=0,G=P.length;N<G;N++){const te=P[N],Q=Array.isArray(te.value)?te.value:[te.value];for(let K=0,ee=Q.length;K<ee;K++){const O=Q[K],q=T(O),V=k%I,le=V%q.boundary,W=V+le;k+=le,W!==0&&I-W<q.storage&&(k+=I-W),te.__data=new Float32Array(q.storage/Float32Array.BYTES_PER_ELEMENT),te.__offset=k,k+=q.storage}}}const z=k%I;return z>0&&(k+=I-z),A.__size=k,A.__cache={},this}function T(A){const L={boundary:0,storage:0};return typeof A=="number"||typeof A=="boolean"?(L.boundary=4,L.storage=4):A.isVector2?(L.boundary=8,L.storage=8):A.isVector3||A.isColor?(L.boundary=16,L.storage=12):A.isVector4?(L.boundary=16,L.storage=16):A.isMatrix3?(L.boundary=48,L.storage=48):A.isMatrix4?(L.boundary=64,L.storage=64):A.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",A),L}function C(A){const L=A.target;L.removeEventListener("dispose",C);const k=o.indexOf(L.__bindingPointIndex);o.splice(k,1),t.deleteBuffer(s[L.id]),delete s[L.id],delete a[L.id]}function w(){for(const A in s)t.deleteBuffer(s[A]);o=[],s={},a={}}return{bind:h,update:d,dispose:w}}class sG{constructor(e={}){const{canvas:i=Y6(),context:r=null,depth:s=!0,stencil:a=!1,alpha:o=!1,antialias:l=!1,premultipliedAlpha:h=!0,preserveDrawingBuffer:d=!1,powerPreference:p="default",failIfMajorPerformanceCaveat:g=!1,reverseDepthBuffer:v=!1}=e;this.isWebGLRenderer=!0;let _;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");_=r.getContextAttributes().alpha}else _=o;const j=new Uint32Array(4),T=new Int32Array(4);let C=null,w=null;const A=[],L=[];this.domElement=i,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Dc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const k=this;let I=!1;this._outputColorSpace=Bs;let z=0,U=0,H=null,P=-1,N=null;const G=new ti,te=new ti;let Q=null;const K=new Dt(0);let ee=0,O=i.width,q=i.height,V=1,le=null,W=null;const re=new ti(0,0,O,q),de=new ti(0,0,O,q);let fe=!1;const ae=new tx;let pe=!1,De=!1;const Be=new dn,Ue=new dn,Ze=new oe,Je=new ti,Nt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Et=!1;function At(){return H===null?V:1}let ne=r;function rt(X,ue){return i.getContext(X,ue)}try{const X={alpha:!0,depth:s,stencil:a,antialias:l,premultipliedAlpha:h,preserveDrawingBuffer:d,powerPreference:p,failIfMajorPerformanceCaveat:g};if("setAttribute"in i&&i.setAttribute("data-engine",`three.js r${yw}`),i.addEventListener("webglcontextlost",jt,!1),i.addEventListener("webglcontextrestored",ot,!1),i.addEventListener("webglcontextcreationerror",Ke,!1),ne===null){const ue="webgl2";if(ne=rt(ue,X),ne===null)throw rt(ue)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let qe,We,He,vt,tt,xt,Ct,se,Y,Ce,Ie,Ve,Fe,_t,gt,Rt,Lt,Xe,ft,kt,zt,ct,rn,me;function yt(){qe=new vxe(ne),qe.init(),ct=new rG(ne,qe),We=new dxe(ne,qe,e,ct),He=new Jye(ne,qe),We.reverseDepthBuffer&&v&&He.buffers.depth.setReversed(!0),vt=new jxe(ne),tt=new Uye,xt=new e0e(ne,qe,He,tt,We,ct,vt),Ct=new pxe(k),se=new yxe(k),Y=new Epe(ne),rn=new hxe(ne,Y),Ce=new _xe(ne,Y,vt,rn),Ie=new wxe(ne,Ce,Y,vt),ft=new Sxe(ne,We,xt),Rt=new fxe(tt),Ve=new Fye(k,Ct,se,qe,We,rn,Rt),Fe=new a0e(k,tt),_t=new Hye,gt=new Xye(qe),Xe=new cxe(k,Ct,se,He,Ie,_,h),Lt=new Zye(k,Ie,We),me=new o0e(ne,vt,We,He),kt=new uxe(ne,qe,vt),zt=new bxe(ne,qe,vt),vt.programs=Ve.programs,k.capabilities=We,k.extensions=qe,k.properties=tt,k.renderLists=_t,k.shadowMap=Lt,k.state=He,k.info=vt}yt();const st=new r0e(k,ne);this.xr=st,this.getContext=function(){return ne},this.getContextAttributes=function(){return ne.getContextAttributes()},this.forceContextLoss=function(){const X=qe.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=qe.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return V},this.setPixelRatio=function(X){X!==void 0&&(V=X,this.setSize(O,q,!1))},this.getSize=function(X){return X.set(O,q)},this.setSize=function(X,ue,Ee=!0){if(st.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=X,q=ue,i.width=Math.floor(X*V),i.height=Math.floor(ue*V),Ee===!0&&(i.style.width=X+"px",i.style.height=ue+"px"),this.setViewport(0,0,X,ue)},this.getDrawingBufferSize=function(X){return X.set(O*V,q*V).floor()},this.setDrawingBufferSize=function(X,ue,Ee){O=X,q=ue,V=Ee,i.width=Math.floor(X*Ee),i.height=Math.floor(ue*Ee),this.setViewport(0,0,X,ue)},this.getCurrentViewport=function(X){return X.copy(G)},this.getViewport=function(X){return X.copy(re)},this.setViewport=function(X,ue,Ee,Ae){X.isVector4?re.set(X.x,X.y,X.z,X.w):re.set(X,ue,Ee,Ae),He.viewport(G.copy(re).multiplyScalar(V).round())},this.getScissor=function(X){return X.copy(de)},this.setScissor=function(X,ue,Ee,Ae){X.isVector4?de.set(X.x,X.y,X.z,X.w):de.set(X,ue,Ee,Ae),He.scissor(te.copy(de).multiplyScalar(V).round())},this.getScissorTest=function(){return fe},this.setScissorTest=function(X){He.setScissorTest(fe=X)},this.setOpaqueSort=function(X){le=X},this.setTransparentSort=function(X){W=X},this.getClearColor=function(X){return X.copy(Xe.getClearColor())},this.setClearColor=function(){Xe.setClearColor(...arguments)},this.getClearAlpha=function(){return Xe.getClearAlpha()},this.setClearAlpha=function(){Xe.setClearAlpha(...arguments)},this.clear=function(X=!0,ue=!0,Ee=!0){let Ae=0;if(X){let be=!1;if(H!==null){const Qe=H.texture.format;be=Qe===Cw||Qe===Tw||Qe===Cv}if(be){const Qe=H.texture.type,pt=Qe===Xo||Qe===Ih||Qe===Rg||Qe===Lg||Qe===jw||Qe===Sw,bt=Xe.getClearColor(),dt=Xe.getClearAlpha(),Jt=bt.r,Wt=bt.g,Gt=bt.b;pt?(j[0]=Jt,j[1]=Wt,j[2]=Gt,j[3]=dt,ne.clearBufferuiv(ne.COLOR,0,j)):(T[0]=Jt,T[1]=Wt,T[2]=Gt,T[3]=dt,ne.clearBufferiv(ne.COLOR,0,T))}else Ae|=ne.COLOR_BUFFER_BIT}ue&&(Ae|=ne.DEPTH_BUFFER_BIT),Ee&&(Ae|=ne.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ne.clear(Ae)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){i.removeEventListener("webglcontextlost",jt,!1),i.removeEventListener("webglcontextrestored",ot,!1),i.removeEventListener("webglcontextcreationerror",Ke,!1),Xe.dispose(),_t.dispose(),gt.dispose(),tt.dispose(),Ct.dispose(),se.dispose(),Ie.dispose(),rn.dispose(),me.dispose(),Ve.dispose(),st.dispose(),st.removeEventListener("sessionstart",Di),st.removeEventListener("sessionend",qi),pi.stop()};function jt(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function ot(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1;const X=vt.autoReset,ue=Lt.enabled,Ee=Lt.autoUpdate,Ae=Lt.needsUpdate,be=Lt.type;yt(),vt.autoReset=X,Lt.enabled=ue,Lt.autoUpdate=Ee,Lt.needsUpdate=Ae,Lt.type=be}function Ke(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function mt(X){const ue=X.target;ue.removeEventListener("dispose",mt),qt(ue)}function qt(X){Un(X),tt.remove(X)}function Un(X){const ue=tt.get(X).programs;ue!==void 0&&(ue.forEach(function(Ee){Ve.releaseProgram(Ee)}),X.isShaderMaterial&&Ve.releaseShaderCache(X))}this.renderBufferDirect=function(X,ue,Ee,Ae,be,Qe){ue===null&&(ue=Nt);const pt=be.isMesh&&be.matrixWorld.determinant()<0,bt=qa(X,ue,Ee,Ae,be);He.setMaterial(Ae,pt);let dt=Ee.index,Jt=1;if(Ae.wireframe===!0){if(dt=Ce.getWireframeAttribute(Ee),dt===void 0)return;Jt=2}const Wt=Ee.drawRange,Gt=Ee.attributes.position;let jn=Wt.start*Jt,Qn=(Wt.start+Wt.count)*Jt;Qe!==null&&(jn=Math.max(jn,Qe.start*Jt),Qn=Math.min(Qn,(Qe.start+Qe.count)*Jt)),dt!==null?(jn=Math.max(jn,0),Qn=Math.min(Qn,dt.count)):Gt!=null&&(jn=Math.max(jn,0),Qn=Math.min(Qn,Gt.count));const bi=Qn-jn;if(bi<0||bi===1/0)return;rn.setup(be,Ae,bt,Ee,dt);let Tn,Jn=kt;if(dt!==null&&(Tn=Y.get(dt),Jn=zt,Jn.setIndex(Tn)),be.isMesh)Ae.wireframe===!0?(He.setLineWidth(Ae.wireframeLinewidth*At()),Jn.setMode(ne.LINES)):Jn.setMode(ne.TRIANGLES);else if(be.isLine){let en=Ae.linewidth;en===void 0&&(en=1),He.setLineWidth(en*At()),be.isLineSegments?Jn.setMode(ne.LINES):be.isLineLoop?Jn.setMode(ne.LINE_LOOP):Jn.setMode(ne.LINE_STRIP)}else be.isPoints?Jn.setMode(ne.POINTS):be.isSprite&&Jn.setMode(ne.TRIANGLES);if(be.isBatchedMesh)if(be._multiDrawInstances!==null)sg("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Jn.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances);else if(qe.get("WEBGL_multi_draw"))Jn.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else{const en=be._multiDrawStarts,oi=be._multiDrawCounts,Bn=be._multiDrawCount,or=dt?Y.get(dt).bytesPerElement:1,mo=tt.get(Ae).currentProgram.getUniforms();for(let mi=0;mi<Bn;mi++)mo.setValue(ne,"_gl_DrawID",mi),Jn.render(en[mi]/or,oi[mi])}else if(be.isInstancedMesh)Jn.renderInstances(jn,bi,be.count);else if(Ee.isInstancedBufferGeometry){const en=Ee._maxInstanceCount!==void 0?Ee._maxInstanceCount:1/0,oi=Math.min(Ee.instanceCount,en);Jn.renderInstances(jn,bi,oi)}else Jn.render(jn,bi)};function Dn(X,ue,Ee){X.transparent===!0&&X.side===Mc&&X.forceSinglePass===!1?(X.side=ma,X.needsUpdate=!0,kn(X,ue,Ee),X.side=Oh,X.needsUpdate=!0,kn(X,ue,Ee),X.side=Mc):kn(X,ue,Ee)}this.compile=function(X,ue,Ee=null){Ee===null&&(Ee=X),w=gt.get(Ee),w.init(ue),L.push(w),Ee.traverseVisible(function(be){be.isLight&&be.layers.test(ue.layers)&&(w.pushLight(be),be.castShadow&&w.pushShadow(be))}),X!==Ee&&X.traverseVisible(function(be){be.isLight&&be.layers.test(ue.layers)&&(w.pushLight(be),be.castShadow&&w.pushShadow(be))}),w.setupLights();const Ae=new Set;return X.traverse(function(be){if(!(be.isMesh||be.isPoints||be.isLine||be.isSprite))return;const Qe=be.material;if(Qe)if(Array.isArray(Qe))for(let pt=0;pt<Qe.length;pt++){const bt=Qe[pt];Dn(bt,Ee,be),Ae.add(bt)}else Dn(Qe,Ee,be),Ae.add(Qe)}),w=L.pop(),Ae},this.compileAsync=function(X,ue,Ee=null){const Ae=this.compile(X,ue,Ee);return new Promise(be=>{function Qe(){if(Ae.forEach(function(pt){tt.get(pt).currentProgram.isReady()&&Ae.delete(pt)}),Ae.size===0){be(X);return}setTimeout(Qe,10)}qe.get("KHR_parallel_shader_compile")!==null?Qe():setTimeout(Qe,10)})};let mr=null;function Bi(X){mr&&mr(X)}function Di(){pi.stop()}function qi(){pi.start()}const pi=new JV;pi.setAnimationLoop(Bi),typeof self<"u"&&pi.setContext(self),this.setAnimationLoop=function(X){mr=X,st.setAnimationLoop(X),X===null?pi.stop():pi.start()},st.addEventListener("sessionstart",Di),st.addEventListener("sessionend",qi),this.render=function(X,ue){if(ue!==void 0&&ue.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(I===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),ue.parent===null&&ue.matrixWorldAutoUpdate===!0&&ue.updateMatrixWorld(),st.enabled===!0&&st.isPresenting===!0&&(st.cameraAutoUpdate===!0&&st.updateCamera(ue),ue=st.getCamera()),X.isScene===!0&&X.onBeforeRender(k,X,ue,H),w=gt.get(X,L.length),w.init(ue),L.push(w),Ue.multiplyMatrices(ue.projectionMatrix,ue.matrixWorldInverse),ae.setFromProjectionMatrix(Ue),De=this.localClippingEnabled,pe=Rt.init(this.clippingPlanes,De),C=_t.get(X,A.length),C.init(),A.push(C),st.enabled===!0&&st.isPresenting===!0){const Qe=k.xr.getDepthSensingMesh();Qe!==null&&Wi(Qe,ue,-1/0,k.sortObjects)}Wi(X,ue,0,k.sortObjects),C.finish(),k.sortObjects===!0&&C.sort(le,W),Et=st.enabled===!1||st.isPresenting===!1||st.hasDepthSensing()===!1,Et&&Xe.addToRenderList(C,X),this.info.render.frame++,pe===!0&&Rt.beginShadows();const Ee=w.state.shadowsArray;Lt.render(Ee,X,ue),pe===!0&&Rt.endShadows(),this.info.autoReset===!0&&this.info.reset();const Ae=C.opaque,be=C.transmissive;if(w.setupLights(),ue.isArrayCamera){const Qe=ue.cameras;if(be.length>0)for(let pt=0,bt=Qe.length;pt<bt;pt++){const dt=Qe[pt];vs(Ae,be,X,dt)}Et&&Xe.render(X);for(let pt=0,bt=Qe.length;pt<bt;pt++){const dt=Qe[pt];Nl(C,X,dt,dt.viewport)}}else be.length>0&&vs(Ae,be,X,ue),Et&&Xe.render(X),Nl(C,X,ue);H!==null&&U===0&&(xt.updateMultisampleRenderTarget(H),xt.updateRenderTargetMipmap(H)),X.isScene===!0&&X.onAfterRender(k,X,ue),rn.resetDefaultState(),P=-1,N=null,L.pop(),L.length>0?(w=L[L.length-1],pe===!0&&Rt.setGlobalState(k.clippingPlanes,w.state.camera)):w=null,A.pop(),A.length>0?C=A[A.length-1]:C=null};function Wi(X,ue,Ee,Ae){if(X.visible===!1)return;if(X.layers.test(ue.layers)){if(X.isGroup)Ee=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(ue);else if(X.isLight)w.pushLight(X),X.castShadow&&w.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||ae.intersectsSprite(X)){Ae&&Je.setFromMatrixPosition(X.matrixWorld).applyMatrix4(Ue);const pt=Ie.update(X),bt=X.material;bt.visible&&C.push(X,pt,bt,Ee,Je.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||ae.intersectsObject(X))){const pt=Ie.update(X),bt=X.material;if(Ae&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),Je.copy(X.boundingSphere.center)):(pt.boundingSphere===null&&pt.computeBoundingSphere(),Je.copy(pt.boundingSphere.center)),Je.applyMatrix4(X.matrixWorld).applyMatrix4(Ue)),Array.isArray(bt)){const dt=pt.groups;for(let Jt=0,Wt=dt.length;Jt<Wt;Jt++){const Gt=dt[Jt],jn=bt[Gt.materialIndex];jn&&jn.visible&&C.push(X,pt,jn,Ee,Je.z,Gt)}}else bt.visible&&C.push(X,pt,bt,Ee,Je.z,null)}}const Qe=X.children;for(let pt=0,bt=Qe.length;pt<bt;pt++)Wi(Qe[pt],ue,Ee,Ae)}function Nl(X,ue,Ee,Ae){const be=X.opaque,Qe=X.transmissive,pt=X.transparent;w.setupLightsView(Ee),pe===!0&&Rt.setGlobalState(k.clippingPlanes,Ee),Ae&&He.viewport(G.copy(Ae)),be.length>0&&ar(be,ue,Ee),Qe.length>0&&ar(Qe,ue,Ee),pt.length>0&&ar(pt,ue,Ee),He.buffers.depth.setTest(!0),He.buffers.depth.setMask(!0),He.buffers.color.setMask(!0),He.setPolygonOffset(!1)}function vs(X,ue,Ee,Ae){if((Ee.isScene===!0?Ee.overrideMaterial:null)!==null)return;w.state.transmissionRenderTarget[Ae.id]===void 0&&(w.state.transmissionRenderTarget[Ae.id]=new Oc(1,1,{generateMipmaps:!0,type:qe.has("EXT_color_buffer_half_float")||qe.has("EXT_color_buffer_float")?Jg:Xo,minFilter:Ec,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:qn.workingColorSpace}));const Qe=w.state.transmissionRenderTarget[Ae.id],pt=Ae.viewport||G;Qe.setSize(pt.z*k.transmissionResolutionScale,pt.w*k.transmissionResolutionScale);const bt=k.getRenderTarget(),dt=k.getActiveCubeFace(),Jt=k.getActiveMipmapLevel();k.setRenderTarget(Qe),k.getClearColor(K),ee=k.getClearAlpha(),ee<1&&k.setClearColor(16777215,.5),k.clear(),Et&&Xe.render(Ee);const Wt=k.toneMapping;k.toneMapping=Dc;const Gt=Ae.viewport;if(Ae.viewport!==void 0&&(Ae.viewport=void 0),w.setupLightsView(Ae),pe===!0&&Rt.setGlobalState(k.clippingPlanes,Ae),ar(X,Ee,Ae),xt.updateMultisampleRenderTarget(Qe),xt.updateRenderTargetMipmap(Qe),qe.has("WEBGL_multisampled_render_to_texture")===!1){let jn=!1;for(let Qn=0,bi=ue.length;Qn<bi;Qn++){const Tn=ue[Qn],Jn=Tn.object,en=Tn.geometry,oi=Tn.material,Bn=Tn.group;if(oi.side===Mc&&Jn.layers.test(Ae.layers)){const or=oi.side;oi.side=ma,oi.needsUpdate=!0,_s(Jn,Ee,Ae,en,oi,Bn),oi.side=or,oi.needsUpdate=!0,jn=!0}}jn===!0&&(xt.updateMultisampleRenderTarget(Qe),xt.updateRenderTargetMipmap(Qe))}k.setRenderTarget(bt,dt,Jt),k.setClearColor(K,ee),Gt!==void 0&&(Ae.viewport=Gt),k.toneMapping=Wt}function ar(X,ue,Ee){const Ae=ue.isScene===!0?ue.overrideMaterial:null;for(let be=0,Qe=X.length;be<Qe;be++){const pt=X[be],bt=pt.object,dt=pt.geometry,Jt=pt.group;let Wt=pt.material;Wt.allowOverride===!0&&Ae!==null&&(Wt=Ae),bt.layers.test(Ee.layers)&&_s(bt,ue,Ee,dt,Wt,Jt)}}function _s(X,ue,Ee,Ae,be,Qe){X.onBeforeRender(k,ue,Ee,Ae,be,Qe),X.modelViewMatrix.multiplyMatrices(Ee.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),be.onBeforeRender(k,ue,Ee,Ae,X,Qe),be.transparent===!0&&be.side===Mc&&be.forceSinglePass===!1?(be.side=ma,be.needsUpdate=!0,k.renderBufferDirect(Ee,ue,Ae,be,X,Qe),be.side=Oh,be.needsUpdate=!0,k.renderBufferDirect(Ee,ue,Ae,be,X,Qe),be.side=Mc):k.renderBufferDirect(Ee,ue,Ae,be,X,Qe),X.onAfterRender(k,ue,Ee,Ae,be,Qe)}function kn(X,ue,Ee){ue.isScene!==!0&&(ue=Nt);const Ae=tt.get(X),be=w.state.lights,Qe=w.state.shadowsArray,pt=be.state.version,bt=Ve.getParameters(X,be.state,Qe,ue,Ee),dt=Ve.getProgramCacheKey(bt);let Jt=Ae.programs;Ae.environment=X.isMeshStandardMaterial?ue.environment:null,Ae.fog=ue.fog,Ae.envMap=(X.isMeshStandardMaterial?se:Ct).get(X.envMap||Ae.environment),Ae.envMapRotation=Ae.environment!==null&&X.envMap===null?ue.environmentRotation:X.envMapRotation,Jt===void 0&&(X.addEventListener("dispose",mt),Jt=new Map,Ae.programs=Jt);let Wt=Jt.get(dt);if(Wt!==void 0){if(Ae.currentProgram===Wt&&Ae.lightsStateVersion===pt)return js(X,bt),Wt}else bt.uniforms=Ve.getUniforms(X),X.onBeforeCompile(bt,k),Wt=Ve.acquireProgram(bt,dt),Jt.set(dt,Wt),Ae.uniforms=bt.uniforms;const Gt=Ae.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(Gt.clippingPlanes=Rt.uniform),js(X,bt),Ae.needsLights=Ii(X),Ae.lightsStateVersion=pt,Ae.needsLights&&(Gt.ambientLightColor.value=be.state.ambient,Gt.lightProbe.value=be.state.probe,Gt.directionalLights.value=be.state.directional,Gt.directionalLightShadows.value=be.state.directionalShadow,Gt.spotLights.value=be.state.spot,Gt.spotLightShadows.value=be.state.spotShadow,Gt.rectAreaLights.value=be.state.rectArea,Gt.ltc_1.value=be.state.rectAreaLTC1,Gt.ltc_2.value=be.state.rectAreaLTC2,Gt.pointLights.value=be.state.point,Gt.pointLightShadows.value=be.state.pointShadow,Gt.hemisphereLights.value=be.state.hemi,Gt.directionalShadowMap.value=be.state.directionalShadowMap,Gt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,Gt.spotShadowMap.value=be.state.spotShadowMap,Gt.spotLightMatrix.value=be.state.spotLightMatrix,Gt.spotLightMap.value=be.state.spotLightMap,Gt.pointShadowMap.value=be.state.pointShadowMap,Gt.pointShadowMatrix.value=be.state.pointShadowMatrix),Ae.currentProgram=Wt,Ae.uniformsList=null,Wt}function bs(X){if(X.uniformsList===null){const ue=X.currentProgram.getUniforms();X.uniformsList=Hj.seqWithValue(ue.seq,X.uniforms)}return X.uniformsList}function js(X,ue){const Ee=tt.get(X);Ee.outputColorSpace=ue.outputColorSpace,Ee.batching=ue.batching,Ee.batchingColor=ue.batchingColor,Ee.instancing=ue.instancing,Ee.instancingColor=ue.instancingColor,Ee.instancingMorph=ue.instancingMorph,Ee.skinning=ue.skinning,Ee.morphTargets=ue.morphTargets,Ee.morphNormals=ue.morphNormals,Ee.morphColors=ue.morphColors,Ee.morphTargetsCount=ue.morphTargetsCount,Ee.numClippingPlanes=ue.numClippingPlanes,Ee.numIntersection=ue.numClipIntersection,Ee.vertexAlphas=ue.vertexAlphas,Ee.vertexTangents=ue.vertexTangents,Ee.toneMapping=ue.toneMapping}function qa(X,ue,Ee,Ae,be){ue.isScene!==!0&&(ue=Nt),xt.resetTextureUnits();const Qe=ue.fog,pt=Ae.isMeshStandardMaterial?ue.environment:null,bt=H===null?k.outputColorSpace:H.isXRRenderTarget===!0?H.texture.colorSpace:ld,dt=(Ae.isMeshStandardMaterial?se:Ct).get(Ae.envMap||pt),Jt=Ae.vertexColors===!0&&!!Ee.attributes.color&&Ee.attributes.color.itemSize===4,Wt=!!Ee.attributes.tangent&&(!!Ae.normalMap||Ae.anisotropy>0),Gt=!!Ee.morphAttributes.position,jn=!!Ee.morphAttributes.normal,Qn=!!Ee.morphAttributes.color;let bi=Dc;Ae.toneMapped&&(H===null||H.isXRRenderTarget===!0)&&(bi=k.toneMapping);const Tn=Ee.morphAttributes.position||Ee.morphAttributes.normal||Ee.morphAttributes.color,Jn=Tn!==void 0?Tn.length:0,en=tt.get(Ae),oi=w.state.lights;if(pe===!0&&(De===!0||X!==N)){const gr=X===N&&Ae.id===P;Rt.setState(Ae,X,gr)}let Bn=!1;Ae.version===en.__version?(en.needsLights&&en.lightsStateVersion!==oi.state.version||en.outputColorSpace!==bt||be.isBatchedMesh&&en.batching===!1||!be.isBatchedMesh&&en.batching===!0||be.isBatchedMesh&&en.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&en.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&en.instancing===!1||!be.isInstancedMesh&&en.instancing===!0||be.isSkinnedMesh&&en.skinning===!1||!be.isSkinnedMesh&&en.skinning===!0||be.isInstancedMesh&&en.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&en.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&en.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&en.instancingMorph===!1&&be.morphTexture!==null||en.envMap!==dt||Ae.fog===!0&&en.fog!==Qe||en.numClippingPlanes!==void 0&&(en.numClippingPlanes!==Rt.numPlanes||en.numIntersection!==Rt.numIntersection)||en.vertexAlphas!==Jt||en.vertexTangents!==Wt||en.morphTargets!==Gt||en.morphNormals!==jn||en.morphColors!==Qn||en.toneMapping!==bi||en.morphTargetsCount!==Jn)&&(Bn=!0):(Bn=!0,en.__version=Ae.version);let or=en.currentProgram;Bn===!0&&(or=kn(Ae,ue,be));let mo=!1,mi=!1,go=!1;const hi=or.getUniforms(),Er=en.uniforms;if(He.useProgram(or.program)&&(mo=!0,mi=!0,go=!0),Ae.id!==P&&(P=Ae.id,mi=!0),mo||N!==X){He.buffers.depth.getReversed()?(Be.copy(X.projectionMatrix),Yue(Be),Kue(Be),hi.setValue(ne,"projectionMatrix",Be)):hi.setValue(ne,"projectionMatrix",X.projectionMatrix),hi.setValue(ne,"viewMatrix",X.matrixWorldInverse);const xr=hi.map.cameraPosition;xr!==void 0&&xr.setValue(ne,Ze.setFromMatrixPosition(X.matrixWorld)),We.logarithmicDepthBuffer&&hi.setValue(ne,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(Ae.isMeshPhongMaterial||Ae.isMeshToonMaterial||Ae.isMeshLambertMaterial||Ae.isMeshBasicMaterial||Ae.isMeshStandardMaterial||Ae.isShaderMaterial)&&hi.setValue(ne,"isOrthographic",X.isOrthographicCamera===!0),N!==X&&(N=X,mi=!0,go=!0)}if(be.isSkinnedMesh){hi.setOptional(ne,be,"bindMatrix"),hi.setOptional(ne,be,"bindMatrixInverse");const gr=be.skeleton;gr&&(gr.boneTexture===null&&gr.computeBoneTexture(),hi.setValue(ne,"boneTexture",gr.boneTexture,xt))}be.isBatchedMesh&&(hi.setOptional(ne,be,"batchingTexture"),hi.setValue(ne,"batchingTexture",be._matricesTexture,xt),hi.setOptional(ne,be,"batchingIdTexture"),hi.setValue(ne,"batchingIdTexture",be._indirectTexture,xt),hi.setOptional(ne,be,"batchingColorTexture"),be._colorsTexture!==null&&hi.setValue(ne,"batchingColorTexture",be._colorsTexture,xt));const er=Ee.morphAttributes;if((er.position!==void 0||er.normal!==void 0||er.color!==void 0)&&ft.update(be,Ee,or),(mi||en.receiveShadow!==be.receiveShadow)&&(en.receiveShadow=be.receiveShadow,hi.setValue(ne,"receiveShadow",be.receiveShadow)),Ae.isMeshGouraudMaterial&&Ae.envMap!==null&&(Er.envMap.value=dt,Er.flipEnvMap.value=dt.isCubeTexture&&dt.isRenderTargetTexture===!1?-1:1),Ae.isMeshStandardMaterial&&Ae.envMap===null&&ue.environment!==null&&(Er.envMapIntensity.value=ue.environmentIntensity),mi&&(hi.setValue(ne,"toneMappingExposure",k.toneMappingExposure),en.needsLights&&va(Er,go),Qe&&Ae.fog===!0&&Fe.refreshFogUniforms(Er,Qe),Fe.refreshMaterialUniforms(Er,Ae,V,q,w.state.transmissionRenderTarget[X.id]),Hj.upload(ne,bs(en),Er,xt)),Ae.isShaderMaterial&&Ae.uniformsNeedUpdate===!0&&(Hj.upload(ne,bs(en),Er,xt),Ae.uniformsNeedUpdate=!1),Ae.isSpriteMaterial&&hi.setValue(ne,"center",be.center),hi.setValue(ne,"modelViewMatrix",be.modelViewMatrix),hi.setValue(ne,"normalMatrix",be.normalMatrix),hi.setValue(ne,"modelMatrix",be.matrixWorld),Ae.isShaderMaterial||Ae.isRawShaderMaterial){const gr=Ae.uniformsGroups;for(let xr=0,ts=gr.length;xr<ts;xr++){const xo=gr[xr];me.update(xo,or),me.bind(xo,or)}}return or}function va(X,ue){X.ambientLightColor.needsUpdate=ue,X.lightProbe.needsUpdate=ue,X.directionalLights.needsUpdate=ue,X.directionalLightShadows.needsUpdate=ue,X.pointLights.needsUpdate=ue,X.pointLightShadows.needsUpdate=ue,X.spotLights.needsUpdate=ue,X.spotLightShadows.needsUpdate=ue,X.rectAreaLights.needsUpdate=ue,X.hemisphereLights.needsUpdate=ue}function Ii(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return z},this.getActiveMipmapLevel=function(){return U},this.getRenderTarget=function(){return H},this.setRenderTargetTextures=function(X,ue,Ee){const Ae=tt.get(X);Ae.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,Ae.__autoAllocateDepthBuffer===!1&&(Ae.__useRenderToTexture=!1),tt.get(X.texture).__webglTexture=ue,tt.get(X.depthTexture).__webglTexture=Ae.__autoAllocateDepthBuffer?void 0:Ee,Ae.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,ue){const Ee=tt.get(X);Ee.__webglFramebuffer=ue,Ee.__useDefaultFramebuffer=ue===void 0};const Pt=ne.createFramebuffer();this.setRenderTarget=function(X,ue=0,Ee=0){H=X,z=ue,U=Ee;let Ae=!0,be=null,Qe=!1,pt=!1;if(X){const dt=tt.get(X);if(dt.__useDefaultFramebuffer!==void 0)He.bindFramebuffer(ne.FRAMEBUFFER,null),Ae=!1;else if(dt.__webglFramebuffer===void 0)xt.setupRenderTarget(X);else if(dt.__hasExternalTextures)xt.rebindTextures(X,tt.get(X.texture).__webglTexture,tt.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const Gt=X.depthTexture;if(dt.__boundDepthTexture!==Gt){if(Gt!==null&&tt.has(Gt)&&(X.width!==Gt.image.width||X.height!==Gt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");xt.setupDepthRenderbuffer(X)}}const Jt=X.texture;(Jt.isData3DTexture||Jt.isDataArrayTexture||Jt.isCompressedArrayTexture)&&(pt=!0);const Wt=tt.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Wt[ue])?be=Wt[ue][Ee]:be=Wt[ue],Qe=!0):X.samples>0&&xt.useMultisampledRTT(X)===!1?be=tt.get(X).__webglMultisampledFramebuffer:Array.isArray(Wt)?be=Wt[Ee]:be=Wt,G.copy(X.viewport),te.copy(X.scissor),Q=X.scissorTest}else G.copy(re).multiplyScalar(V).floor(),te.copy(de).multiplyScalar(V).floor(),Q=fe;if(Ee!==0&&(be=Pt),He.bindFramebuffer(ne.FRAMEBUFFER,be)&&Ae&&He.drawBuffers(X,be),He.viewport(G),He.scissor(te),He.setScissorTest(Q),Qe){const dt=tt.get(X.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_CUBE_MAP_POSITIVE_X+ue,dt.__webglTexture,Ee)}else if(pt){const dt=tt.get(X.texture),Jt=ue;ne.framebufferTextureLayer(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,dt.__webglTexture,Ee,Jt)}else if(X!==null&&Ee!==0){const dt=tt.get(X.texture);ne.framebufferTexture2D(ne.FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,dt.__webglTexture,Ee)}P=-1},this.readRenderTargetPixels=function(X,ue,Ee,Ae,be,Qe,pt,bt=0){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=tt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&pt!==void 0&&(dt=dt[pt]),dt){He.bindFramebuffer(ne.FRAMEBUFFER,dt);try{const Jt=X.textures[bt],Wt=Jt.format,Gt=Jt.type;if(!We.textureFormatReadable(Wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!We.textureTypeReadable(Gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ue>=0&&ue<=X.width-Ae&&Ee>=0&&Ee<=X.height-be&&(X.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+bt),ne.readPixels(ue,Ee,Ae,be,ct.convert(Wt),ct.convert(Gt),Qe))}finally{const Jt=H!==null?tt.get(H).__webglFramebuffer:null;He.bindFramebuffer(ne.FRAMEBUFFER,Jt)}}},this.readRenderTargetPixelsAsync=async function(X,ue,Ee,Ae,be,Qe,pt,bt=0){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let dt=tt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&pt!==void 0&&(dt=dt[pt]),dt)if(ue>=0&&ue<=X.width-Ae&&Ee>=0&&Ee<=X.height-be){He.bindFramebuffer(ne.FRAMEBUFFER,dt);const Jt=X.textures[bt],Wt=Jt.format,Gt=Jt.type;if(!We.textureFormatReadable(Wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!We.textureTypeReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const jn=ne.createBuffer();ne.bindBuffer(ne.PIXEL_PACK_BUFFER,jn),ne.bufferData(ne.PIXEL_PACK_BUFFER,Qe.byteLength,ne.STREAM_READ),X.textures.length>1&&ne.readBuffer(ne.COLOR_ATTACHMENT0+bt),ne.readPixels(ue,Ee,Ae,be,ct.convert(Wt),ct.convert(Gt),0);const Qn=H!==null?tt.get(H).__webglFramebuffer:null;He.bindFramebuffer(ne.FRAMEBUFFER,Qn);const bi=ne.fenceSync(ne.SYNC_GPU_COMMANDS_COMPLETE,0);return ne.flush(),await Xue(ne,bi,4),ne.bindBuffer(ne.PIXEL_PACK_BUFFER,jn),ne.getBufferSubData(ne.PIXEL_PACK_BUFFER,0,Qe),ne.deleteBuffer(jn),ne.deleteSync(bi),Qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,ue=null,Ee=0){const Ae=Math.pow(2,-Ee),be=Math.floor(X.image.width*Ae),Qe=Math.floor(X.image.height*Ae),pt=ue!==null?ue.x:0,bt=ue!==null?ue.y:0;xt.setTexture2D(X,0),ne.copyTexSubImage2D(ne.TEXTURE_2D,Ee,0,0,pt,bt,be,Qe),He.unbindTexture()};const xe=ne.createFramebuffer(),at=ne.createFramebuffer();this.copyTextureToTexture=function(X,ue,Ee=null,Ae=null,be=0,Qe=null){Qe===null&&(be!==0?(sg("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Qe=be,be=0):Qe=0);let pt,bt,dt,Jt,Wt,Gt,jn,Qn,bi;const Tn=X.isCompressedTexture?X.mipmaps[Qe]:X.image;if(Ee!==null)pt=Ee.max.x-Ee.min.x,bt=Ee.max.y-Ee.min.y,dt=Ee.isBox3?Ee.max.z-Ee.min.z:1,Jt=Ee.min.x,Wt=Ee.min.y,Gt=Ee.isBox3?Ee.min.z:0;else{const er=Math.pow(2,-be);pt=Math.floor(Tn.width*er),bt=Math.floor(Tn.height*er),X.isDataArrayTexture?dt=Tn.depth:X.isData3DTexture?dt=Math.floor(Tn.depth*er):dt=1,Jt=0,Wt=0,Gt=0}Ae!==null?(jn=Ae.x,Qn=Ae.y,bi=Ae.z):(jn=0,Qn=0,bi=0);const Jn=ct.convert(ue.format),en=ct.convert(ue.type);let oi;ue.isData3DTexture?(xt.setTexture3D(ue,0),oi=ne.TEXTURE_3D):ue.isDataArrayTexture||ue.isCompressedArrayTexture?(xt.setTexture2DArray(ue,0),oi=ne.TEXTURE_2D_ARRAY):(xt.setTexture2D(ue,0),oi=ne.TEXTURE_2D),ne.pixelStorei(ne.UNPACK_FLIP_Y_WEBGL,ue.flipY),ne.pixelStorei(ne.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ue.premultiplyAlpha),ne.pixelStorei(ne.UNPACK_ALIGNMENT,ue.unpackAlignment);const Bn=ne.getParameter(ne.UNPACK_ROW_LENGTH),or=ne.getParameter(ne.UNPACK_IMAGE_HEIGHT),mo=ne.getParameter(ne.UNPACK_SKIP_PIXELS),mi=ne.getParameter(ne.UNPACK_SKIP_ROWS),go=ne.getParameter(ne.UNPACK_SKIP_IMAGES);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Tn.width),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,Tn.height),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,Jt),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,Wt),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,Gt);const hi=X.isDataArrayTexture||X.isData3DTexture,Er=ue.isDataArrayTexture||ue.isData3DTexture;if(X.isDepthTexture){const er=tt.get(X),gr=tt.get(ue),xr=tt.get(er.__renderTarget),ts=tt.get(gr.__renderTarget);He.bindFramebuffer(ne.READ_FRAMEBUFFER,xr.__webglFramebuffer),He.bindFramebuffer(ne.DRAW_FRAMEBUFFER,ts.__webglFramebuffer);for(let xo=0;xo<dt;xo++)hi&&(ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,tt.get(X).__webglTexture,be,Gt+xo),ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,tt.get(ue).__webglTexture,Qe,bi+xo)),ne.blitFramebuffer(Jt,Wt,pt,bt,jn,Qn,pt,bt,ne.DEPTH_BUFFER_BIT,ne.NEAREST);He.bindFramebuffer(ne.READ_FRAMEBUFFER,null),He.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else if(be!==0||X.isRenderTargetTexture||tt.has(X)){const er=tt.get(X),gr=tt.get(ue);He.bindFramebuffer(ne.READ_FRAMEBUFFER,xe),He.bindFramebuffer(ne.DRAW_FRAMEBUFFER,at);for(let xr=0;xr<dt;xr++)hi?ne.framebufferTextureLayer(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,er.__webglTexture,be,Gt+xr):ne.framebufferTexture2D(ne.READ_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,er.__webglTexture,be),Er?ne.framebufferTextureLayer(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,gr.__webglTexture,Qe,bi+xr):ne.framebufferTexture2D(ne.DRAW_FRAMEBUFFER,ne.COLOR_ATTACHMENT0,ne.TEXTURE_2D,gr.__webglTexture,Qe),be!==0?ne.blitFramebuffer(Jt,Wt,pt,bt,jn,Qn,pt,bt,ne.COLOR_BUFFER_BIT,ne.NEAREST):Er?ne.copyTexSubImage3D(oi,Qe,jn,Qn,bi+xr,Jt,Wt,pt,bt):ne.copyTexSubImage2D(oi,Qe,jn,Qn,Jt,Wt,pt,bt);He.bindFramebuffer(ne.READ_FRAMEBUFFER,null),He.bindFramebuffer(ne.DRAW_FRAMEBUFFER,null)}else Er?X.isDataTexture||X.isData3DTexture?ne.texSubImage3D(oi,Qe,jn,Qn,bi,pt,bt,dt,Jn,en,Tn.data):ue.isCompressedArrayTexture?ne.compressedTexSubImage3D(oi,Qe,jn,Qn,bi,pt,bt,dt,Jn,Tn.data):ne.texSubImage3D(oi,Qe,jn,Qn,bi,pt,bt,dt,Jn,en,Tn):X.isDataTexture?ne.texSubImage2D(ne.TEXTURE_2D,Qe,jn,Qn,pt,bt,Jn,en,Tn.data):X.isCompressedTexture?ne.compressedTexSubImage2D(ne.TEXTURE_2D,Qe,jn,Qn,Tn.width,Tn.height,Jn,Tn.data):ne.texSubImage2D(ne.TEXTURE_2D,Qe,jn,Qn,pt,bt,Jn,en,Tn);ne.pixelStorei(ne.UNPACK_ROW_LENGTH,Bn),ne.pixelStorei(ne.UNPACK_IMAGE_HEIGHT,or),ne.pixelStorei(ne.UNPACK_SKIP_PIXELS,mo),ne.pixelStorei(ne.UNPACK_SKIP_ROWS,mi),ne.pixelStorei(ne.UNPACK_SKIP_IMAGES,go),Qe===0&&ue.generateMipmaps&&ne.generateMipmap(oi),He.unbindTexture()},this.copyTextureToTexture3D=function(X,ue,Ee=null,Ae=null,be=0){return sg('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(X,ue,Ee,Ae,be)},this.initRenderTarget=function(X){tt.get(X).__webglFramebuffer===void 0&&xt.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?xt.setTextureCube(X,0):X.isData3DTexture?xt.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?xt.setTexture2DArray(X,0):xt.setTexture2D(X,0),He.unbindTexture()},this.resetState=function(){z=0,U=0,H=null,He.reset(),rn.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Go}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const i=this.getContext();i.drawingBufferColorSpace=qn._getDrawingBufferColorSpace(e),i.unpackColorSpace=qn._getUnpackColorSpace()}}const l0e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:$A,AddEquation:Ku,AddOperation:M6,AdditiveAnimationBlendMode:eR,AdditiveBlending:iE,AgXToneMapping:D6,AlphaFormat:KA,AlwaysCompare:W6,AlwaysDepth:XS,AlwaysStencilFunc:oE,AmbientLight:zV,AnimationAction:KV,AnimationClip:ov,AnimationLoader:Sfe,AnimationMixer:Zfe,AnimationObjectGroup:Yfe,AnimationUtils:vfe,ArcCurve:dV,ArrayCamera:WV,ArrowHelper:vpe,AttachedBindMode:aE,Audio:XV,AudioAnalyser:Ffe,AudioContext:TR,AudioListener:Ofe,AudioLoader:kfe,AxesHelper:_pe,BackSide:ma,BasicDepthPacking:I6,BasicShadowMap:o6,BatchedMesh:oV,Bone:lR,BooleanKeyframeTrack:pp,Box2:spe,Box3:Hs,Box3Helper:xpe,BoxGeometry:fp,BoxHelper:gpe,BufferAttribute:Mi,BufferGeometry:An,BufferGeometryLoader:qV,ByteType:WA,Cache:Ac,Camera:Rw,CameraHelper:mpe,CanvasTexture:Hde,CapsuleGeometry:Bw,CatmullRomCurve3:fV,CineonToneMapping:R6,CircleGeometry:Iw,ClampToEdgeWrapping:Vo,Clock:CR,Color:Dt,ColorKeyframeTrack:jR,ColorManagement:qn,CompressedArrayTexture:Ude,CompressedCubeTexture:zde,CompressedTexture:Ow,CompressedTextureLoader:wfe,ConeGeometry:Av,ConstantAlphaFactor:w6,ConstantColorFactor:j6,Controls:jpe,CubeCamera:eV,CubeReflectionMapping:Bh,CubeRefractionMapping:od,CubeTexture:Mv,CubeTextureLoader:Tfe,CubeUVReflectionMapping:Qg,CubicBezierCurve:dR,CubicBezierCurve3:pV,CubicInterpolant:kV,CullFaceBack:nE,CullFaceFront:a6,CullFaceFrontBack:Whe,CullFaceNone:s6,Curve:kl,CurvePath:gV,CustomBlending:l6,CustomToneMapping:L6,CylinderGeometry:Ev,Cylindrical:rpe,Data3DTexture:Aw,DataArrayTexture:Ew,DataTexture:kc,DataTextureLoader:Cfe,DataUtils:ude,DecrementStencilOp:oue,DecrementWrapStencilOp:cue,DefaultLoadingManager:OV,DepthFormat:Dg,DepthStencilFormat:kg,DepthTexture:hR,DetachedBindMode:N6,DirectionalLight:UV,DirectionalLightHelper:ppe,DiscreteInterpolant:NV,DodecahedronGeometry:Fw,DoubleSide:Mc,DstAlphaFactor:x6,DstColorFactor:v6,DynamicCopyUsage:wue,DynamicDrawUsage:yue,DynamicReadUsage:bue,EdgesGeometry:uV,EllipseCurve:Uw,EqualCompare:V6,EqualDepth:KS,EqualStencilFunc:fue,EquirectangularReflectionMapping:q0,EquirectangularRefractionMapping:W0,Euler:fo,EventDispatcher:Fc,ExtrudeGeometry:zw,FileLoader:Fh,Float16BufferAttribute:yde,Float32BufferAttribute:Ut,FloatType:za,Fog:Dw,FogExp2:Lw,FramebufferTexture:Fde,FrontSide:Oh,Frustum:tx,FrustumArray:Pw,GLBufferAttribute:npe,GLSL1:Cue,GLSL3:lE,GreaterCompare:G6,GreaterDepth:QS,GreaterEqualCompare:q6,GreaterEqualDepth:ZS,GreaterEqualStencilFunc:xue,GreaterStencilFunc:mue,GridHelper:dpe,Group:Ym,HalfFloatType:Jg,HemisphereLight:BV,HemisphereLightHelper:upe,IcosahedronGeometry:Hw,ImageBitmapLoader:Dfe,ImageLoader:lv,ImageUtils:K6,IncrementStencilOp:aue,IncrementWrapStencilOp:lue,InstancedBufferAttribute:Bg,InstancedBufferGeometry:$V,InstancedInterleavedBuffer:tpe,InstancedMesh:aV,Int16BufferAttribute:gde,Int32BufferAttribute:xde,Int8BufferAttribute:fde,IntType:bw,InterleavedBuffer:kw,InterleavedBufferAttribute:rp,Interpolant:Dv,InterpolateDiscrete:K0,InterpolateLinear:C1,InterpolateSmooth:Uj,InterpolationSamplingMode:Aue,InterpolationSamplingType:Eue,InvertStencilOp:hue,KeepStencilOp:Rf,KeyframeTrack:Yo,LOD:rV,LatheGeometry:Vw,Layers:Pg,LessCompare:H6,LessDepth:YS,LessEqualCompare:tR,LessEqualDepth:ip,LessEqualStencilFunc:pue,LessStencilFunc:due,Light:gd,LightProbe:GV,Line:cd,Line3:ape,LineBasicMaterial:ya,LineCurve:fR,LineCurve3:mV,LineDashedMaterial:RV,LineLoop:lV,LineSegments:Uc,LinearFilter:zr,LinearInterpolant:bR,LinearMipMapLinearFilter:Zhe,LinearMipMapNearestFilter:Khe,LinearMipmapLinearFilter:Ec,LinearMipmapNearestFilter:g0,LinearSRGBColorSpace:ld,LinearToneMapping:E6,LinearTransfer:Q0,Loader:$a,LoaderUtils:fE,LoadingManager:SR,LoopOnce:P6,LoopPingPong:B6,LoopRepeat:O6,MOUSE:$he,Material:Gs,MaterialLoader:Kw,MathUtils:que,Matrix2:RR,Matrix3:wn,Matrix4:dn,MaxEquation:d6,Mesh:Mr,MeshBasicMaterial:pd,MeshDepthMaterial:yR,MeshDistanceMaterial:vR,MeshLambertMaterial:EV,MeshMatcapMaterial:AV,MeshNormalMaterial:MV,MeshPhongMaterial:TV,MeshPhysicalMaterial:wV,MeshStandardMaterial:xR,MeshToonMaterial:CV,MinEquation:u6,MirroredRepeatWrapping:Y0,MixOperation:C6,MultiplyBlending:sE,MultiplyOperation:Tv,NearestFilter:xs,NearestMipMapLinearFilter:Yhe,NearestMipMapNearestFilter:Xhe,NearestMipmapLinearFilter:Wm,NearestMipmapNearestFilter:qA,NeutralToneMapping:k6,NeverCompare:z6,NeverDepth:WS,NeverStencilFunc:uue,NoBlending:Rh,NoColorSpace:Sh,NoToneMapping:Dc,NormalAnimationBlendMode:Mw,NormalBlending:Wf,NotEqualCompare:$6,NotEqualDepth:JS,NotEqualStencilFunc:gue,NumberKeyframeTrack:sv,Object3D:ni,ObjectLoader:Rfe,ObjectSpaceNormalMap:U6,OctahedronGeometry:Rv,OneFactor:p6,OneMinusConstantAlphaFactor:T6,OneMinusConstantColorFactor:S6,OneMinusDstAlphaFactor:y6,OneMinusDstColorFactor:_6,OneMinusSrcAlphaFactor:qS,OneMinusSrcColorFactor:g6,OrthographicCamera:Nv,PCFShadowMap:vw,PCFSoftShadowMap:m0,PMREMGenerator:gE,Path:R1,PerspectiveCamera:es,Plane:Xu,PlaneGeometry:nx,PlaneHelper:ype,PointLight:FV,PointLightHelper:cpe,Points:cV,PointsMaterial:cR,PolarGridHelper:fpe,PolyhedronGeometry:md,PositionalAudio:Ife,PropertyBinding:ei,PropertyMixer:YV,QuadraticBezierCurve:pR,QuadraticBezierCurve3:mR,Quaternion:Va,QuaternionKeyframeTrack:kv,QuaternionLinearInterpolant:PV,RED_GREEN_RGTC2_Format:w1,RED_RGTC1_Format:JA,REVISION:yw,RGBADepthPacking:F6,RGBAFormat:Fs,RGBAIntegerFormat:Cw,RGBA_ASTC_10x10_Format:y1,RGBA_ASTC_10x5_Format:m1,RGBA_ASTC_10x6_Format:g1,RGBA_ASTC_10x8_Format:x1,RGBA_ASTC_12x10_Format:v1,RGBA_ASTC_12x12_Format:_1,RGBA_ASTC_4x4_Format:o1,RGBA_ASTC_5x4_Format:l1,RGBA_ASTC_5x5_Format:c1,RGBA_ASTC_6x5_Format:h1,RGBA_ASTC_6x6_Format:u1,RGBA_ASTC_8x5_Format:d1,RGBA_ASTC_8x6_Format:f1,RGBA_ASTC_8x8_Format:p1,RGBA_BPTC_Format:b0,RGBA_ETC2_EAC_Format:a1,RGBA_PVRTC_2BPPV1_Format:i1,RGBA_PVRTC_4BPPV1_Format:n1,RGBA_S3TC_DXT1_Format:y0,RGBA_S3TC_DXT3_Format:v0,RGBA_S3TC_DXT5_Format:_0,RGBDepthPacking:nue,RGBFormat:ZA,RGBIntegerFormat:Qhe,RGB_BPTC_SIGNED_Format:b1,RGB_BPTC_UNSIGNED_Format:j1,RGB_ETC1_Format:r1,RGB_ETC2_Format:s1,RGB_PVRTC_2BPPV1_Format:t1,RGB_PVRTC_4BPPV1_Format:e1,RGB_S3TC_DXT1_Format:x0,RGDepthPacking:iue,RGFormat:QA,RGIntegerFormat:Tw,RawShaderMaterial:SV,Ray:ex,Raycaster:ZV,RectAreaLight:HV,RedFormat:ww,RedIntegerFormat:Cv,ReinhardToneMapping:A6,RenderTarget:iR,RenderTarget3D:Qfe,RepeatWrapping:X0,ReplaceStencilOp:sue,ReverseSubtractEquation:h6,RingGeometry:Gw,SIGNED_RED_GREEN_RGTC2_Format:T1,SIGNED_RED_RGTC1_Format:S1,SRGBColorSpace:Bs,SRGBTransfer:_i,Scene:aR,ShaderChunk:Ln,ShaderLib:Cl,ShaderMaterial:Ll,ShadowMaterial:jV,Shape:Yf,ShapeGeometry:$w,ShapePath:bpe,ShapeUtils:El,ShortType:XA,Skeleton:Nw,SkeletonHelper:lpe,SkinnedMesh:sV,Source:Ju,Sphere:ys,SphereGeometry:Lv,Spherical:ipe,SphericalHarmonics3:VV,SplineCurve:gR,SpotLight:IV,SpotLightHelper:ope,Sprite:iV,SpriteMaterial:oR,SrcAlphaFactor:$S,SrcAlphaSaturateFactor:b6,SrcColorFactor:m6,StaticCopyUsage:Sue,StaticDrawUsage:J0,StaticReadUsage:_ue,StereoCamera:Nfe,StreamCopyUsage:Tue,StreamDrawUsage:vue,StreamReadUsage:jue,StringKeyframeTrack:mp,SubtractEquation:c6,SubtractiveBlending:rE,TOUCH:qhe,TangentSpaceNormalMap:fd,TetrahedronGeometry:qw,Texture:sr,TextureLoader:Lf,TextureUtils:Mpe,TimestampQuery:Mue,TorusGeometry:Ww,TorusKnotGeometry:Xw,Triangle:Fa,TriangleFanDrawMode:tue,TriangleStripDrawMode:eue,TrianglesDrawMode:Jhe,TubeGeometry:Yw,UVMapping:_w,Uint16BufferAttribute:rR,Uint32BufferAttribute:sR,Uint8BufferAttribute:pde,Uint8ClampedBufferAttribute:mde,Uniform:AR,UniformsGroup:epe,UniformsLib:Tt,UniformsUtils:J6,UnsignedByteType:Xo,UnsignedInt248Type:Lg,UnsignedInt5999Type:YA,UnsignedIntType:Ih,UnsignedShort4444Type:jw,UnsignedShort5551Type:Sw,UnsignedShortType:Rg,VSMShadowMap:wl,Vector2:it,Vector3:oe,Vector4:ti,VectorKeyframeTrack:av,VideoFrameTexture:Ide,VideoTexture:hV,WebGL3DRenderTarget:tde,WebGLArrayRenderTarget:ede,WebGLCoordinateSystem:Go,WebGLCubeRenderTarget:tV,WebGLRenderTarget:Oc,WebGLRenderer:sG,WebGLUtils:rG,WebGPUCoordinateSystem:ev,WebXRController:zj,WireframeGeometry:bV,WrapAroundEnding:Z0,ZeroCurvatureEnding:Uf,ZeroFactor:f6,ZeroSlopeEnding:zf,ZeroStencilOp:rue,createCanvasElement:Y6},Symbol.toStringTag,{value:"Module"}));var _C={exports:{}},vh={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D3;function c0e(){return D3||(D3=1,vh.ConcurrentRoot=1,vh.ContinuousEventPriority=8,vh.DefaultEventPriority=32,vh.DiscreteEventPriority=2,vh.IdleEventPriority=268435456,vh.LegacyRoot=0,vh.NoEventPriority=0),vh}var k3;function h0e(){return k3||(k3=1,_C.exports=c0e()),_C.exports}var Vj=h0e();const N3=t=>{let e;const i=new Set,r=(d,p)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const v=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),i.forEach(_=>_(e,v))}},s=()=>e,l={setState:r,getState:s,getInitialState:()=>h,subscribe:d=>(i.add(d),()=>i.delete(d))},h=e=t(r,s,l);return l},u0e=t=>t?N3(t):N3,{useSyncExternalStoreWithSelector:d0e}=f9,f0e=t=>t;function p0e(t,e=f0e,i){const r=d0e(t.subscribe,t.getState,t.getInitialState,e,i);return mg.useDebugValue(r),r}const P3=(t,e)=>{const i=u0e(t),r=(s,a=e)=>p0e(i,s,a);return Object.assign(r,i),r},m0e=(t,e)=>t?P3(t,e):P3;var bC={exports:{}},jC={exports:{}},SC={exports:{}},wC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O3;function g0e(){return O3||(O3=1,function(t){function e(O,q){var V=O.length;O.push(q);e:for(;0<V;){var le=V-1>>>1,W=O[le];if(0<s(W,q))O[le]=q,O[V]=W,V=le;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var q=O[0],V=O.pop();if(V!==q){O[0]=V;e:for(var le=0,W=O.length,re=W>>>1;le<re;){var de=2*(le+1)-1,fe=O[de],ae=de+1,pe=O[ae];if(0>s(fe,V))ae<W&&0>s(pe,fe)?(O[le]=pe,O[ae]=V,le=ae):(O[le]=fe,O[de]=V,le=de);else if(ae<W&&0>s(pe,V))O[le]=pe,O[ae]=V,le=ae;else break e}}return q}function s(O,q){var V=O.sortIndex-q.sortIndex;return V!==0?V:O.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var h=[],d=[],p=1,g=null,v=3,_=!1,j=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function L(O){for(var q=i(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=O)r(d),q.sortIndex=q.expirationTime,e(h,q);else break;q=i(d)}}function k(O){if(T=!1,L(O),!j)if(i(h)!==null)j=!0,K();else{var q=i(d);q!==null&&ee(k,q.startTime-O)}}var I=!1,z=-1,U=5,H=-1;function P(){return!(t.unstable_now()-H<U)}function N(){if(I){var O=t.unstable_now();H=O;var q=!0;try{e:{j=!1,T&&(T=!1,w(z),z=-1),_=!0;var V=v;try{t:{for(L(O),g=i(h);g!==null&&!(g.expirationTime>O&&P());){var le=g.callback;if(typeof le=="function"){g.callback=null,v=g.priorityLevel;var W=le(g.expirationTime<=O);if(O=t.unstable_now(),typeof W=="function"){g.callback=W,L(O),q=!0;break t}g===i(h)&&r(h),L(O)}else r(h);g=i(h)}if(g!==null)q=!0;else{var re=i(d);re!==null&&ee(k,re.startTime-O),q=!1}}break e}finally{g=null,v=V,_=!1}q=void 0}}finally{q?G():I=!1}}}var G;if(typeof A=="function")G=function(){A(N)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Q=te.port2;te.port1.onmessage=N,G=function(){Q.postMessage(null)}}else G=function(){C(N,0)};function K(){I||(I=!0,G())}function ee(O,q){z=C(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){j||_||(j=!0,K())},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return i(h)},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var V=v;v=q;try{return O()}finally{v=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=v;v=O;try{return q()}finally{v=V}},t.unstable_scheduleCallback=function(O,q,V){var le=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?le+V:le):V=le,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,O={id:p++,callback:q,priorityLevel:O,startTime:V,expirationTime:W,sortIndex:-1},V>le?(O.sortIndex=V,e(d,O),i(h)===null&&O===i(d)&&(T?(w(z),z=-1):T=!0,ee(k,V-le))):(O.sortIndex=W,e(h,O),j||_||(j=!0,K())),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var q=v;return function(){var V=v;v=q;try{return O.apply(this,arguments)}finally{v=V}}}}(wC)),wC}var B3;function x0e(){return B3||(B3=1,SC.exports=g0e()),SC.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3;function y0e(){return I3||(I3=1,function(t){t.exports=function(e){function i(f,m,S,E){return new kx(f,m,S,E)}function r(){}function s(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return f===null||typeof f!="object"?null:(f=ll&&f[ll]||f["@@iterator"],typeof f=="function"?f:null)}function o(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Bx?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case Kl:return"Fragment";case Sa:return"Portal";case Fp:return"Profiler";case Gd:return"StrictMode";case Up:return"Suspense";case lu:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case Ya:return(f.displayName||"Context")+".Provider";case Px:return(f._context.displayName||"Context")+".Consumer";case qd:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case zp:return m=f.displayName||null,m!==null?m:o(f.type)||"Memo";case wa:m=f._payload,f=f._init;try{return o(f(m))}catch{}}return null}function l(f){if(jo===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);jo=m&&m[1]||"",cl=-1<S.stack.indexOf(`
    at`)?" (<anonymous>)":-1<S.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jo+f+cl}function h(f,m){if(!f||$c)return"";$c=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var E={DetermineComponentFrameRoot:function(){try{if(m){var wt=function(){throw Error()};if(Object.defineProperty(wt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(wt,[])}catch(yn){var Mt=yn}Reflect.construct(f,[],wt)}else{try{wt.call()}catch(yn){Mt=yn}f.call(wt.prototype)}}else{try{throw Error()}catch(yn){Mt=yn}(wt=f())&&typeof wt.catch=="function"&&wt.catch(function(){})}}catch(yn){if(yn&&Mt&&typeof yn.stack=="string")return[yn.stack,Mt.stack]}return[null,null]}};E.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(E.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(E.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var B=E.DetermineComponentFrameRoot(),J=B[0],he=B[1];if(J&&he){var Te=J.split(`
`),Ge=he.split(`
`);for(D=E=0;E<Te.length&&!Te[E].includes("DetermineComponentFrameRoot");)E++;for(;D<Ge.length&&!Ge[D].includes("DetermineComponentFrameRoot");)D++;if(E===Te.length||D===Ge.length)for(E=Te.length-1,D=Ge.length-1;1<=E&&0<=D&&Te[E]!==Ge[D];)D--;for(;1<=E&&0<=D;E--,D--)if(Te[E]!==Ge[D]){if(E!==1||D!==1)do if(E--,D--,0>D||Te[E]!==Ge[D]){var ht=`
`+Te[E].replace(" at new "," at ");return f.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",f.displayName)),ht}while(1<=E&&0<=D);break}}}finally{$c=!1,Error.prepareStackTrace=S}return(S=f?f.displayName||f.name:"")?l(S):""}function d(f){switch(f.tag){case 26:case 27:case 5:return l(f.type);case 16:return l("Lazy");case 13:return l("Suspense");case 19:return l("SuspenseList");case 0:case 15:return f=h(f.type,!1),f;case 11:return f=h(f.type.render,!1),f;case 1:return f=h(f.type,!0),f;default:return""}}function p(f){try{var m="";do m+=d(f),f=f.return;while(f);return m}catch(S){return`
Error generating stack: `+S.message+`
`+S.stack}}function g(f){var m=f,S=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(S=m.return),f=m.return;while(f)}return m.tag===3?S:null}function v(f){if(g(f)!==f)throw Error(s(188))}function _(f){var m=f.alternate;if(!m){if(m=g(f),m===null)throw Error(s(188));return m!==f?null:f}for(var S=f,E=m;;){var D=S.return;if(D===null)break;var B=D.alternate;if(B===null){if(E=D.return,E!==null){S=E;continue}break}if(D.child===B.child){for(B=D.child;B;){if(B===S)return v(D),f;if(B===E)return v(D),m;B=B.sibling}throw Error(s(188))}if(S.return!==E.return)S=D,E=B;else{for(var J=!1,he=D.child;he;){if(he===S){J=!0,S=D,E=B;break}if(he===E){J=!0,E=D,S=B;break}he=he.sibling}if(!J){for(he=B.child;he;){if(he===S){J=!0,S=B,E=D;break}if(he===E){J=!0,E=B,S=D;break}he=he.sibling}if(!J)throw Error(s(189))}}if(S.alternate!==E)throw Error(s(190))}if(S.tag!==3)throw Error(s(188));return S.stateNode.current===S?f:m}function j(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(m=j(f),m!==null)return m;f=f.sibling}return null}function T(f){var m=f.tag;if(m===5||m===26||m===27||m===6)return f;for(f=f.child;f!==null;){if(f.tag!==4&&(m=T(f),m!==null))return m;f=f.sibling}return null}function C(f){return{current:f}}function w(f){0>fl||(f.current=Ki[fl],Ki[fl]=null,fl--)}function A(f,m){fl++,Ki[fl]=f.current,f.current=m}function L(f){return f>>>=0,f===0?32:31-(U_(f)/z_|0)|0}function k(f){var m=f&42;if(m!==0)return m;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function I(f,m){var S=f.pendingLanes;if(S===0)return 0;var E=0,D=f.suspendedLanes,B=f.pingedLanes,J=f.warmLanes;f=f.finishedLanes!==0;var he=S&134217727;return he!==0?(S=he&~D,S!==0?E=k(S):(B&=he,B!==0?E=k(B):f||(J=he&~J,J!==0&&(E=k(J))))):(he=S&~D,he!==0?E=k(he):B!==0?E=k(B):f||(J=S&~J,J!==0&&(E=k(J)))),E===0?0:m!==0&&m!==E&&(m&D)===0&&(D=E&-E,J=m&-m,D>=J||D===32&&(J&4194176)!==0)?m:E}function z(f,m){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&m)===0}function U(f,m){switch(f){case 1:case 2:case 4:case 8:return m+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H(){var f=wo;return wo<<=1,(wo&4194176)===0&&(wo=128),f}function P(){var f=Xc;return Xc<<=1,(Xc&62914560)===0&&(Xc=4194304),f}function N(f){for(var m=[],S=0;31>S;S++)m.push(f);return m}function G(f,m){f.pendingLanes|=m,m!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function te(f,m,S,E,D,B){var J=f.pendingLanes;f.pendingLanes=S,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=S,f.entangledLanes&=S,f.errorRecoveryDisabledLanes&=S,f.shellSuspendCounter=0;var he=f.entanglements,Te=f.expirationTimes,Ge=f.hiddenUpdates;for(S=J&~S;0<S;){var ht=31-os(S),wt=1<<ht;he[ht]=0,Te[ht]=-1;var Mt=Ge[ht];if(Mt!==null)for(Ge[ht]=null,ht=0;ht<Mt.length;ht++){var yn=Mt[ht];yn!==null&&(yn.lane&=-536870913)}S&=~wt}E!==0&&Q(f,E,0),B!==0&&D===0&&f.tag!==0&&(f.suspendedLanes|=B&~(J&~m))}function Q(f,m,S){f.pendingLanes|=m,f.suspendedLanes&=~m;var E=31-os(m);f.entangledLanes|=m,f.entanglements[E]=f.entanglements[E]|1073741824|S&4194218}function K(f,m){var S=f.entangledLanes|=m;for(f=f.entanglements;S;){var E=31-os(S),D=1<<E;D&m|f[E]&m&&(f[E]|=m),S&=~D}}function ee(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function O(f){if(As&&typeof As.onCommitFiberRoot=="function")try{As.onCommitFiberRoot(Zi,f,void 0,(f.current.flags&128)===128)}catch{}}function q(f){if(typeof G_=="function"&&_r(f),As&&typeof As.setStrictMode=="function")try{As.setStrictMode(Zi,f)}catch{}}function V(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}function le(f,m){if(typeof f=="object"&&f!==null){var S=ny.get(f);return S!==void 0?S:(m={value:f,source:m,stack:p(m)},ny.set(f,m),m)}return{value:f,source:m,stack:p(m)}}function W(f,m){Yc[Kc++]=xu,Yc[Kc++]=Zc,Zc=f,xu=m}function re(f,m,S){Ys[Ks++]=Qa,Ys[Ks++]=Ja,Ys[Ks++]=ic,ic=f;var E=Qa;f=Ja;var D=32-os(E)-1;E&=~(1<<D),S+=1;var B=32-os(m)+D;if(30<B){var J=D-D%5;B=(E&(1<<J)-1).toString(32),E>>=J,D-=J,Qa=1<<32-os(m)+D|S<<D|E,Ja=B+f}else Qa=1<<B|S<<D|E,Ja=f}function de(f){f.return!==null&&(W(f,1),re(f,1,0))}function fe(f){for(;f===Zc;)Zc=Yc[--Kc],Yc[Kc]=null,xu=Yc[--Kc],Yc[Kc]=null;for(;f===ic;)ic=Ys[--Ks],Ys[Ks]=null,Ja=Ys[--Ks],Ys[Ks]=null,Qa=Ys[--Ks],Ys[Ks]=null}function ae(f,m){A(To,m),A(yu,f),A(cr,null),f=s_(m),w(cr),A(cr,f)}function pe(){w(cr),w(yu),w(To)}function De(f){f.memoizedState!==null&&A(Qc,f);var m=cr.current,S=du(m,f.type);m!==S&&(A(yu,f),A(cr,S))}function Be(f){yu.current===f&&(w(cr),w(yu)),Qc.current===f&&(w(Qc),ss?Ka._currentValue=Ql:Ka._currentValue2=Ql)}function Ue(f){var m=Error(s(418,""));throw At(le(m,f)),tf}function Ze(f,m){if(!Nr)throw Error(s(175));R_(f.stateNode,f.type,f.memoizedProps,m,f)||Ue(f)}function Je(f){for(Pr=f.return;Pr;)switch(Pr.tag){case 3:case 27:br=!0;return;case 5:case 13:br=!1;return;default:Pr=Pr.return}}function Nt(f){if(!Nr||f!==Pr)return!1;if(!Vn)return Je(f),Vn=!0,!1;var m=!1;if(gi?f.tag!==3&&f.tag!==27&&(f.tag!==5||Kp(f.type)&&!_n(f.type,f.memoizedProps))&&(m=!0):f.tag!==3&&(f.tag!==5||Kp(f.type)&&!_n(f.type,f.memoizedProps))&&(m=!0),m&&Or&&Ue(f),Je(f),f.tag===13){if(!Nr)throw Error(s(316));if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));Or=D_(f)}else Or=Pr?Qx(f.stateNode):null;return!0}function Et(){Nr&&(Or=Pr=null,Vn=!1)}function At(f){Ma===null?Ma=[f]:Ma.push(f)}function ne(){for(var f=Jc,m=eo=Jc=0;m<f;){var S=Ea[m];Ea[m++]=null;var E=Ea[m];Ea[m++]=null;var D=Ea[m];Ea[m++]=null;var B=Ea[m];if(Ea[m++]=null,E!==null&&D!==null){var J=E.pending;J===null?D.next=D:(D.next=J.next,J.next=D),E.pending=D}B!==0&&He(S,D,B)}}function rt(f,m,S,E){Ea[Jc++]=f,Ea[Jc++]=m,Ea[Jc++]=S,Ea[Jc++]=E,eo|=E,f.lanes|=E,f=f.alternate,f!==null&&(f.lanes|=E)}function qe(f,m,S,E){return rt(f,m,S,E),vt(f)}function We(f,m){return rt(f,null,null,m),vt(f)}function He(f,m,S){f.lanes|=S;var E=f.alternate;E!==null&&(E.lanes|=S);for(var D=!1,B=f.return;B!==null;)B.childLanes|=S,E=B.alternate,E!==null&&(E.childLanes|=S),B.tag===22&&(f=B.stateNode,f===null||f._visibility&1||(D=!0)),f=B,B=B.return;D&&m!==null&&f.tag===3&&(B=f.stateNode,D=31-os(S),B=B.hiddenUpdates,f=B[D],f===null?B[D]=[m]:f.push(m),m.lane=S|536870912)}function vt(f){if(50<Mu)throw Mu=0,um=null,Error(s(185));for(var m=f.return;m!==null;)f=m,m=f.return;return f.tag===3?f.stateNode:null}function tt(f){f!==pl&&f.next===null&&(pl===null?nf=pl=f:pl=pl.next=f),ji=!0,eh||(eh=!0,Ie(Ct))}function xt(f,m){if(!iy&&ji){iy=!0;do for(var S=!1,E=nf;E!==null;){if(f!==0){var D=E.pendingLanes;if(D===0)var B=0;else{var J=E.suspendedLanes,he=E.pingedLanes;B=(1<<31-os(42|f)+1)-1,B&=D&~(J&~he),B=B&201326677?B&201326677|1:B?B|2:0}B!==0&&(S=!0,Ce(E,B))}else B=In,B=I(E,E===si?B:0),(B&3)===0||z(E,B)||(S=!0,Ce(E,B));E=E.next}while(S);iy=!1}}function Ct(){ji=eh=!1;var f=0;vu!==0&&(c_()&&(f=vu),vu=0);for(var m=Ca(),S=null,E=nf;E!==null;){var D=E.next,B=se(E,m);B===0?(E.next=null,S===null?nf=D:S.next=D,D===null&&(pl=S)):(S=E,(f!==0||(B&3)!==0)&&(ji=!0)),E=D}xt(f)}function se(f,m){for(var S=f.suspendedLanes,E=f.pingedLanes,D=f.expirationTimes,B=f.pendingLanes&-62914561;0<B;){var J=31-os(B),he=1<<J,Te=D[J];Te===-1?((he&S)===0||(he&E)!==0)&&(D[J]=U(he,m)):Te<=m&&(f.expiredLanes|=he),B&=~he}if(m=si,S=In,S=I(f,f===m?S:0),E=f.callbackNode,S===0||f===m&&ui===2||f.cancelPendingCommit!==null)return E!==null&&E!==null&&em(E),f.callbackNode=null,f.callbackPriority=0;if((S&3)===0||z(f,S)){if(m=S&-S,m===f.callbackPriority)return m;switch(E!==null&&em(E),ee(S)){case 2:case 8:S=V_;break;case 32:S=im;break;case 268435456:S=hT;break;default:S=im}return E=Y.bind(null,f),S=ef(S,E),f.callbackPriority=m,f.callbackNode=S,m}return E!==null&&E!==null&&em(E),f.callbackPriority=2,f.callbackNode=null,2}function Y(f,m){var S=f.callbackNode;if(Xa()&&f.callbackNode!==S)return null;var E=In;return E=I(f,f===si?E:0),E===0?null:($l(f,E,m),se(f,Ca()),f.callbackNode!=null&&f.callbackNode===S?Y.bind(null,f):null)}function Ce(f,m){if(Xa())return null;$l(f,m,!0)}function Ie(f){Hx?dl(function(){($n&6)!==0?ef(nm,f):f()}):ef(nm,f)}function Ve(){return vu===0&&(vu=H()),vu}function Fe(f,m){if(_u===null){var S=_u=[];th=0,Zs=Ve(),nh={status:"pending",value:void 0,then:function(E){S.push(E)}}}return th++,m.then(_t,_t),m}function _t(){if(--th===0&&_u!==null){nh!==null&&(nh.status="fulfilled");var f=_u;_u=null,Zs=0,nh=null;for(var m=0;m<f.length;m++)(0,f[m])()}}function gt(f,m){var S=[],E={status:"pending",value:null,reason:null,then:function(D){S.push(D)}};return f.then(function(){E.status="fulfilled",E.value=m;for(var D=0;D<S.length;D++)(0,S[D])(m)},function(D){for(E.status="rejected",E.reason=D,D=0;D<S.length;D++)(0,S[D])(void 0)}),E}function Rt(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lt(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Xe(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function ft(f,m,S){var E=f.updateQueue;if(E===null)return null;if(E=E.shared,($n&2)!==0){var D=E.pending;return D===null?m.next=m:(m.next=D.next,D.next=m),E.pending=m,m=vt(f),He(f,null,S),m}return rt(f,E,m,S),vt(f)}function kt(f,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194176)!==0)){var E=m.lanes;E&=f.pendingLanes,S|=E,m.lanes=S,K(f,S)}}function zt(f,m){var S=f.updateQueue,E=f.alternate;if(E!==null&&(E=E.updateQueue,S===E)){var D=null,B=null;if(S=S.firstBaseUpdate,S!==null){do{var J={lane:S.lane,tag:S.tag,payload:S.payload,callback:null,next:null};B===null?D=B=J:B=B.next=J,S=S.next}while(S!==null);B===null?D=B=m:B=B.next=m}else D=B=m;S={baseState:E.baseState,firstBaseUpdate:D,lastBaseUpdate:B,shared:E.shared,callbacks:E.callbacks},f.updateQueue=S;return}f=S.lastBaseUpdate,f===null?S.firstBaseUpdate=m:f.next=m,S.lastBaseUpdate=m}function ct(){if(ih){var f=nh;if(f!==null)throw f}}function rn(f,m,S,E){ih=!1;var D=f.updateQueue;ml=!1;var B=D.firstBaseUpdate,J=D.lastBaseUpdate,he=D.shared.pending;if(he!==null){D.shared.pending=null;var Te=he,Ge=Te.next;Te.next=null,J===null?B=Ge:J.next=Ge,J=Te;var ht=f.alternate;ht!==null&&(ht=ht.updateQueue,he=ht.lastBaseUpdate,he!==J&&(he===null?ht.firstBaseUpdate=Ge:he.next=Ge,ht.lastBaseUpdate=Te))}if(B!==null){var wt=D.baseState;J=0,ht=Ge=Te=null,he=B;do{var Mt=he.lane&-536870913,yn=Mt!==he.lane;if(yn?(In&Mt)===Mt:(E&Mt)===Mt){Mt!==0&&Mt===Zs&&(ih=!0),ht!==null&&(ht=ht.next={lane:0,tag:he.tag,payload:he.payload,callback:null,next:null});e:{var sa=f,dc=he;Mt=m;var fc=S;switch(dc.tag){case 1:if(sa=dc.payload,typeof sa=="function"){wt=sa.call(fc,wt,Mt);break e}wt=sa;break e;case 3:sa.flags=sa.flags&-65537|128;case 0:if(sa=dc.payload,Mt=typeof sa=="function"?sa.call(fc,wt,Mt):sa,Mt==null)break e;wt=Ip({},wt,Mt);break e;case 2:ml=!0}}Mt=he.callback,Mt!==null&&(f.flags|=64,yn&&(f.flags|=8192),yn=D.callbacks,yn===null?D.callbacks=[Mt]:yn.push(Mt))}else yn={lane:Mt,tag:he.tag,payload:he.payload,callback:he.callback,next:null},ht===null?(Ge=ht=yn,Te=wt):ht=ht.next=yn,J|=Mt;if(he=he.next,he===null){if(he=D.shared.pending,he===null)break;yn=he,he=yn.next,yn.next=null,D.lastBaseUpdate=yn,D.shared.pending=null}}while(!0);ht===null&&(Te=wt),D.baseState=Te,D.firstBaseUpdate=Ge,D.lastBaseUpdate=ht,B===null&&(D.shared.lanes=0),ia|=J,f.lanes=J,f.memoizedState=wt}}function me(f,m){if(typeof f!="function")throw Error(s(191,f));f.call(m)}function yt(f,m){var S=f.callbacks;if(S!==null)for(f.callbacks=null,f=0;f<S.length;f++)me(S[f],m)}function st(f,m){if(Rs(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var S=Object.keys(f),E=Object.keys(m);if(S.length!==E.length)return!1;for(E=0;E<S.length;E++){var D=S[E];if(!Co.call(m,D)||!Rs(f[D],m[D]))return!1}return!0}function jt(f){return f=f.status,f==="fulfilled"||f==="rejected"}function ot(){}function Ke(f,m,S){switch(S=f[S],S===void 0?f.push(m):S!==m&&(m.then(ot,ot),m=S),m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,f===bu?Error(s(483)):f;default:if(typeof m.status=="string")m.then(ot,ot);else{if(f=si,f!==null&&100<f.shellSuspendCounter)throw Error(s(482));f=m,f.status="pending",f.then(function(E){if(m.status==="pending"){var D=m;D.status="fulfilled",D.value=E}},function(E){if(m.status==="pending"){var D=m;D.status="rejected",D.reason=E}})}switch(m.status){case"fulfilled":return m.value;case"rejected":throw f=m.reason,f===bu?Error(s(483)):f}throw rc=m,bu}}function mt(){if(rc===null)throw Error(s(459));var f=rc;return rc=null,f}function qt(f){var m=ac;return ac+=1,sc===null&&(sc=[]),Ke(sc,f,m)}function Un(f,m){m=m.props.ref,f.ref=m!==void 0?m:null}function Dn(f,m){throw m.$$typeof===iT?Error(s(525)):(f=Object.prototype.toString.call(m),Error(s(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f)))}function mr(f){var m=f._init;return m(f._payload)}function Bi(f){function m(ke,ge){if(f){var Oe=ke.deletions;Oe===null?(ke.deletions=[ge],ke.flags|=16):Oe.push(ge)}}function S(ke,ge){if(!f)return null;for(;ge!==null;)m(ke,ge),ge=ge.sibling;return null}function E(ke){for(var ge=new Map;ke!==null;)ke.key!==null?ge.set(ke.key,ke):ge.set(ke.index,ke),ke=ke.sibling;return ge}function D(ke,ge){return ke=ja(ke,ge),ke.index=0,ke.sibling=null,ke}function B(ke,ge,Oe){return ke.index=Oe,f?(Oe=ke.alternate,Oe!==null?(Oe=Oe.index,Oe<ge?(ke.flags|=33554434,ge):Oe):(ke.flags|=33554434,ge)):(ke.flags|=1048576,ge)}function J(ke){return f&&ke.alternate===null&&(ke.flags|=33554434),ke}function he(ke,ge,Oe,lt){return ge===null||ge.tag!==6?(ge=Op(Oe,ke.mode,lt),ge.return=ke,ge):(ge=D(ge,Oe),ge.return=ke,ge)}function Te(ke,ge,Oe,lt){var Xt=Oe.type;return Xt===Kl?ht(ke,ge,Oe.props.children,lt,Oe.key):ge!==null&&(ge.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===wa&&mr(Xt)===ge.type)?(ge=D(ge,Oe.props),Un(ge,Oe),ge.return=ke,ge):(ge=bo(Oe.type,Oe.key,Oe.props,null,ke.mode,lt),Un(ge,Oe),ge.return=ke,ge)}function Ge(ke,ge,Oe,lt){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Oe.containerInfo||ge.stateNode.implementation!==Oe.implementation?(ge=Nx(Oe,ke.mode,lt),ge.return=ke,ge):(ge=D(ge,Oe.children||[]),ge.return=ke,ge)}function ht(ke,ge,Oe,lt,Xt){return ge===null||ge.tag!==7?(ge=Fi(Oe,ke.mode,lt,Xt),ge.return=ke,ge):(ge=D(ge,Oe),ge.return=ke,ge)}function wt(ke,ge,Oe){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=Op(""+ge,ke.mode,Oe),ge.return=ke,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case Vd:return Oe=bo(ge.type,ge.key,ge.props,null,ke.mode,Oe),Un(Oe,ge),Oe.return=ke,Oe;case Sa:return ge=Nx(ge,ke.mode,Oe),ge.return=ke,ge;case wa:var lt=ge._init;return ge=lt(ge._payload),wt(ke,ge,Oe)}if(cu(ge)||a(ge))return ge=Fi(ge,ke.mode,Oe,null),ge.return=ke,ge;if(typeof ge.then=="function")return wt(ke,qt(ge),Oe);if(ge.$$typeof===Ya)return wt(ke,Ed(ke,ge),Oe);Dn(ke,ge)}return null}function Mt(ke,ge,Oe,lt){var Xt=ge!==null?ge.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Xt!==null?null:he(ke,ge,""+Oe,lt);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case Vd:return Oe.key===Xt?Te(ke,ge,Oe,lt):null;case Sa:return Oe.key===Xt?Ge(ke,ge,Oe,lt):null;case wa:return Xt=Oe._init,Oe=Xt(Oe._payload),Mt(ke,ge,Oe,lt)}if(cu(Oe)||a(Oe))return Xt!==null?null:ht(ke,ge,Oe,lt,null);if(typeof Oe.then=="function")return Mt(ke,ge,qt(Oe),lt);if(Oe.$$typeof===Ya)return Mt(ke,ge,Ed(ke,Oe),lt);Dn(ke,Oe)}return null}function yn(ke,ge,Oe,lt,Xt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return ke=ke.get(Oe)||null,he(ge,ke,""+lt,Xt);if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case Vd:return ke=ke.get(lt.key===null?Oe:lt.key)||null,Te(ge,ke,lt,Xt);case Sa:return ke=ke.get(lt.key===null?Oe:lt.key)||null,Ge(ge,ke,lt,Xt);case wa:var Ai=lt._init;return lt=Ai(lt._payload),yn(ke,ge,Oe,lt,Xt)}if(cu(lt)||a(lt))return ke=ke.get(Oe)||null,ht(ge,ke,lt,Xt,null);if(typeof lt.then=="function")return yn(ke,ge,Oe,qt(lt),Xt);if(lt.$$typeof===Ya)return yn(ke,ge,Oe,Ed(ge,lt),Xt);Dn(ge,lt)}return null}function sa(ke,ge,Oe,lt){for(var Xt=null,Ai=null,hn=ge,Xn=ge=0,Qi=null;hn!==null&&Xn<Oe.length;Xn++){hn.index>Xn?(Qi=hn,hn=null):Qi=hn.sibling;var Pn=Mt(ke,hn,Oe[Xn],lt);if(Pn===null){hn===null&&(hn=Qi);break}f&&hn&&Pn.alternate===null&&m(ke,hn),ge=B(Pn,ge,Xn),Ai===null?Xt=Pn:Ai.sibling=Pn,Ai=Pn,hn=Qi}if(Xn===Oe.length)return S(ke,hn),Vn&&W(ke,Xn),Xt;if(hn===null){for(;Xn<Oe.length;Xn++)hn=wt(ke,Oe[Xn],lt),hn!==null&&(ge=B(hn,ge,Xn),Ai===null?Xt=hn:Ai.sibling=hn,Ai=hn);return Vn&&W(ke,Xn),Xt}for(hn=E(hn);Xn<Oe.length;Xn++)Qi=yn(hn,ke,Xn,Oe[Xn],lt),Qi!==null&&(f&&Qi.alternate!==null&&hn.delete(Qi.key===null?Xn:Qi.key),ge=B(Qi,ge,Xn),Ai===null?Xt=Qi:Ai.sibling=Qi,Ai=Qi);return f&&hn.forEach(function(No){return m(ke,No)}),Vn&&W(ke,Xn),Xt}function dc(ke,ge,Oe,lt){if(Oe==null)throw Error(s(151));for(var Xt=null,Ai=null,hn=ge,Xn=ge=0,Qi=null,Pn=Oe.next();hn!==null&&!Pn.done;Xn++,Pn=Oe.next()){hn.index>Xn?(Qi=hn,hn=null):Qi=hn.sibling;var No=Mt(ke,hn,Pn.value,lt);if(No===null){hn===null&&(hn=Qi);break}f&&hn&&No.alternate===null&&m(ke,hn),ge=B(No,ge,Xn),Ai===null?Xt=No:Ai.sibling=No,Ai=No,hn=Qi}if(Pn.done)return S(ke,hn),Vn&&W(ke,Xn),Xt;if(hn===null){for(;!Pn.done;Xn++,Pn=Oe.next())Pn=wt(ke,Pn.value,lt),Pn!==null&&(ge=B(Pn,ge,Xn),Ai===null?Xt=Pn:Ai.sibling=Pn,Ai=Pn);return Vn&&W(ke,Xn),Xt}for(hn=E(hn);!Pn.done;Xn++,Pn=Oe.next())Pn=yn(hn,ke,Xn,Pn.value,lt),Pn!==null&&(f&&Pn.alternate!==null&&hn.delete(Pn.key===null?Xn:Pn.key),ge=B(Pn,ge,Xn),Ai===null?Xt=Pn:Ai.sibling=Pn,Ai=Pn);return f&&hn.forEach(function(dm){return m(ke,dm)}),Vn&&W(ke,Xn),Xt}function fc(ke,ge,Oe,lt){if(typeof Oe=="object"&&Oe!==null&&Oe.type===Kl&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case Vd:e:{for(var Xt=Oe.key;ge!==null;){if(ge.key===Xt){if(Xt=Oe.type,Xt===Kl){if(ge.tag===7){S(ke,ge.sibling),lt=D(ge,Oe.props.children),lt.return=ke,ke=lt;break e}}else if(ge.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===wa&&mr(Xt)===ge.type){S(ke,ge.sibling),lt=D(ge,Oe.props),Un(lt,Oe),lt.return=ke,ke=lt;break e}S(ke,ge);break}else m(ke,ge);ge=ge.sibling}Oe.type===Kl?(lt=Fi(Oe.props.children,ke.mode,lt,Oe.key),lt.return=ke,ke=lt):(lt=bo(Oe.type,Oe.key,Oe.props,null,ke.mode,lt),Un(lt,Oe),lt.return=ke,ke=lt)}return J(ke);case Sa:e:{for(Xt=Oe.key;ge!==null;){if(ge.key===Xt)if(ge.tag===4&&ge.stateNode.containerInfo===Oe.containerInfo&&ge.stateNode.implementation===Oe.implementation){S(ke,ge.sibling),lt=D(ge,Oe.children||[]),lt.return=ke,ke=lt;break e}else{S(ke,ge);break}else m(ke,ge);ge=ge.sibling}lt=Nx(Oe,ke.mode,lt),lt.return=ke,ke=lt}return J(ke);case wa:return Xt=Oe._init,Oe=Xt(Oe._payload),fc(ke,ge,Oe,lt)}if(cu(Oe))return sa(ke,ge,Oe,lt);if(a(Oe)){if(Xt=a(Oe),typeof Xt!="function")throw Error(s(150));return Oe=Xt.call(Oe),dc(ke,ge,Oe,lt)}if(typeof Oe.then=="function")return fc(ke,ge,qt(Oe),lt);if(Oe.$$typeof===Ya)return fc(ke,ge,Ed(ke,Oe),lt);Dn(ke,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,ge!==null&&ge.tag===6?(S(ke,ge.sibling),lt=D(ge,Oe),lt.return=ke,ke=lt):(S(ke,ge),lt=Op(Oe,ke.mode,lt),lt.return=ke,ke=lt),J(ke)):S(ke,ge)}return function(ke,ge,Oe,lt){try{ac=0;var Xt=fc(ke,ge,Oe,lt);return sc=null,Xt}catch(hn){if(hn===bu)throw hn;var Ai=i(29,hn,null,ke.mode);return Ai.lanes=lt,Ai.return=ke,Ai}finally{}}}function Di(f,m){f=Yr,A(ju,f),A(Si,m),Yr=f|m.baseLanes}function qi(){A(ju,Yr),A(Si,Si.current)}function pi(){Yr=ju.current,w(Si),w(ju)}function Wi(f){var m=f.alternate;A(hr,hr.current&1),A(Qs,f),xi===null&&(m===null||Si.current!==null||m.memoizedState!==null)&&(xi=f)}function Nl(f){if(f.tag===22){if(A(hr,hr.current),A(Qs,f),xi===null){var m=f.alternate;m!==null&&m.memoizedState!==null&&(xi=f)}}else vs()}function vs(){A(hr,hr.current),A(Qs,Qs.current)}function ar(f){w(Qs),xi===f&&(xi=null),w(hr)}function _s(f){for(var m=f;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Wp(S)||Xp(S)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}function kn(){throw Error(s(321))}function bs(f,m){if(m===null)return!1;for(var S=0;S<m.length&&S<f.length;S++)if(!Rs(f[S],m[S]))return!1;return!0}function js(f,m,S,E,D,B){return gl=B,Cn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,cn.H=f===null||f.memoizedState===null?cc:ls,lc=!1,B=S(E,D),lc=!1,rh&&(B=va(m,S,E,D)),qa(f),B}function qa(f){cn.H=Ui;var m=sn!==null&&sn.next!==null;if(gl=0,Gn=sn=Cn=null,Aa=!1,sh=0,jr=null,m)throw Error(s(300));f===null||yi||(f=f.dependencies,f!==null&&Md(f)&&(yi=!0))}function va(f,m,S,E){Cn=f;var D=0;do{if(rh&&(jr=null),sh=0,rh=!1,25<=D)throw Error(s(301));if(D+=1,Gn=sn=null,f.updateQueue!=null){var B=f.updateQueue;B.lastEffect=null,B.events=null,B.stores=null,B.memoCache!=null&&(B.memoCache.index=0)}cn.H=Js,B=m(S,E)}while(rh);return B}function Ii(){var f=cn.H,m=f.useState()[0];return m=typeof m.then=="function"?Ee(m):m,f=f.useState()[0],(sn!==null?sn.memoizedState:null)!==f&&(Cn.flags|=1024),m}function Pt(){var f=rm!==0;return rm=0,f}function xe(f,m,S){m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~S}function at(f){if(Aa){for(f=f.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Aa=!1}gl=0,Gn=sn=Cn=null,rh=!1,sh=rm=0,jr=null}function X(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?Cn.memoizedState=Gn=f:Gn=Gn.next=f,Gn}function ue(){if(sn===null){var f=Cn.alternate;f=f!==null?f.memoizedState:null}else f=sn.next;var m=Gn===null?Cn.memoizedState:Gn.next;if(m!==null)Gn=m,sn=f;else{if(f===null)throw Cn.alternate===null?Error(s(467)):Error(s(310));sn=f,f={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},Gn===null?Cn.memoizedState=Gn=f:Gn=Gn.next=f}return Gn}function Ee(f){var m=sh;return sh+=1,jr===null&&(jr=[]),f=Ke(jr,f,m),m=Cn,(Gn===null?m.memoizedState:Gn.next)===null&&(m=m.alternate,cn.H=m===null||m.memoizedState===null?cc:ls),f}function Ae(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Ee(f);if(f.$$typeof===Ya)return Rr(f)}throw Error(s(438,String(f)))}function be(f){var m=null,S=Cn.updateQueue;if(S!==null&&(m=S.memoCache),m==null){var E=Cn.alternate;E!==null&&(E=E.updateQueue,E!==null&&(E=E.memoCache,E!=null&&(m={data:E.data.map(function(D){return D.slice()}),index:0})))}if(m==null&&(m={data:[],index:0}),S===null&&(S=sm(),Cn.updateQueue=S),S.memoCache=m,S=m.data[m.index],S===void 0)for(S=m.data[m.index]=Array(f),E=0;E<f;E++)S[E]=r_;return m.index++,S}function Qe(f,m){return typeof m=="function"?m(f):m}function pt(f){var m=ue();return bt(m,sn,f)}function bt(f,m,S){var E=f.queue;if(E===null)throw Error(s(311));E.lastRenderedReducer=S;var D=f.baseQueue,B=E.pending;if(B!==null){if(D!==null){var J=D.next;D.next=B.next,B.next=J}m.baseQueue=D=B,E.pending=null}if(B=f.baseState,D===null)f.memoizedState=B;else{m=D.next;var he=J=null,Te=null,Ge=m,ht=!1;do{var wt=Ge.lane&-536870913;if(wt!==Ge.lane?(In&wt)===wt:(gl&wt)===wt){var Mt=Ge.revertLane;if(Mt===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),wt===Zs&&(ht=!0);else if((gl&Mt)===Mt){Ge=Ge.next,Mt===Zs&&(ht=!0);continue}else wt={lane:0,revertLane:Ge.revertLane,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Te===null?(he=Te=wt,J=B):Te=Te.next=wt,Cn.lanes|=Mt,ia|=Mt;wt=Ge.action,lc&&S(B,wt),B=Ge.hasEagerState?Ge.eagerState:S(B,wt)}else Mt={lane:wt,revertLane:Ge.revertLane,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Te===null?(he=Te=Mt,J=B):Te=Te.next=Mt,Cn.lanes|=wt,ia|=wt;Ge=Ge.next}while(Ge!==null&&Ge!==m);if(Te===null?J=B:Te.next=he,!Rs(B,f.memoizedState)&&(yi=!0,ht&&(S=nh,S!==null)))throw S;f.memoizedState=B,f.baseState=J,f.baseQueue=Te,E.lastRenderedState=B}return D===null&&(E.lanes=0),[f.memoizedState,E.dispatch]}function dt(f){var m=ue(),S=m.queue;if(S===null)throw Error(s(311));S.lastRenderedReducer=f;var E=S.dispatch,D=S.pending,B=m.memoizedState;if(D!==null){S.pending=null;var J=D=D.next;do B=f(B,J.action),J=J.next;while(J!==D);Rs(B,m.memoizedState)||(yi=!0),m.memoizedState=B,m.baseQueue===null&&(m.baseState=B),S.lastRenderedState=B}return[B,E]}function Jt(f,m,S){var E=Cn,D=ue(),B=Vn;if(B){if(S===void 0)throw Error(s(407));S=S()}else S=m();var J=!Rs((sn||D).memoizedState,S);if(J&&(D.memoizedState=S,yi=!0),D=D.queue,sx(jn.bind(null,E,D,f),[f]),D.getSnapshot!==m||J||Gn!==null&&Gn.memoizedState.tag&1){if(E.flags|=2048,ts(9,Gt.bind(null,E,D,S,m),{destroy:void 0},null),si===null)throw Error(s(349));B||(gl&60)!==0||Wt(E,m,S)}return S}function Wt(f,m,S){f.flags|=16384,f={getSnapshot:m,value:S},m=Cn.updateQueue,m===null?(m=sm(),Cn.updateQueue=m,m.stores=[f]):(S=m.stores,S===null?m.stores=[f]:S.push(f))}function Gt(f,m,S,E){m.value=S,m.getSnapshot=E,Qn(m)&&bi(f)}function jn(f,m,S){return S(function(){Qn(m)&&bi(f)})}function Qn(f){var m=f.getSnapshot;f=f.value;try{var S=m();return!Rs(f,S)}catch{return!0}}function bi(f){var m=We(f,2);m!==null&&vr(m,f,2)}function Tn(f){var m=X();if(typeof f=="function"){var S=f;if(f=S(),lc){q(!0);try{S()}finally{q(!1)}}}return m.memoizedState=m.baseState=f,m.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qe,lastRenderedState:f},m}function Jn(f,m,S,E){return f.baseState=S,bt(f,sn,typeof E=="function"?E:Qe)}function en(f,m,S,E,D){if(jd(f))throw Error(s(485));if(f=m.action,f!==null){var B={payload:D,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(J){B.listeners.push(J)}};cn.T!==null?S(!0):B.isTransition=!1,E(B),S=m.pending,S===null?(B.next=m.pending=B,oi(m,B)):(B.next=S.next,m.pending=S.next=B)}}function oi(f,m){var S=m.action,E=m.payload,D=f.state;if(m.isTransition){var B=cn.T,J={};cn.T=J;try{var he=S(D,E),Te=cn.S;Te!==null&&Te(J,he),Bn(f,m,he)}catch(Ge){mo(f,m,Ge)}finally{cn.T=B}}else try{B=S(D,E),Bn(f,m,B)}catch(Ge){mo(f,m,Ge)}}function Bn(f,m,S){S!==null&&typeof S=="object"&&typeof S.then=="function"?S.then(function(E){or(f,m,E)},function(E){return mo(f,m,E)}):or(f,m,S)}function or(f,m,S){m.status="fulfilled",m.value=S,mi(m),f.state=S,m=f.pending,m!==null&&(S=m.next,S===m?f.pending=null:(S=S.next,m.next=S,oi(f,S)))}function mo(f,m,S){var E=f.pending;if(f.pending=null,E!==null){E=E.next;do m.status="rejected",m.reason=S,mi(m),m=m.next;while(m!==E)}f.action=null}function mi(f){f=f.listeners;for(var m=0;m<f.length;m++)(0,f[m])()}function go(f,m){return m}function hi(f,m){if(Vn){var S=si.formState;if(S!==null){e:{var E=Cn;if(Vn){if(Or){var D=Zx(Or,br);if(D){Or=Qx(D),E=C_(D);break e}}Ue(E)}E=!1}E&&(m=S[0])}}S=X(),S.memoizedState=S.baseState=m,E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:m},S.queue=E,S=cx.bind(null,Cn,E),E.dispatch=S,E=Tn(!1);var B=$h.bind(null,Cn,!1,E.queue);return E=X(),D={state:m,dispatch:null,action:f,pending:null},E.queue=D,S=en.bind(null,Cn,D,B,S),D.dispatch=S,E.memoizedState=f,[m,S,!1]}function Er(f){var m=ue();return er(m,sn,f)}function er(f,m,S){m=bt(f,m,go)[0],f=pt(Qe)[0],m=typeof m=="object"&&m!==null&&typeof m.then=="function"?Ee(m):m;var E=ue(),D=E.queue,B=D.dispatch;return S!==E.memoizedState&&(Cn.flags|=2048,ts(9,gr.bind(null,D,S),{destroy:void 0},null)),[m,B,f]}function gr(f,m){f.action=m}function xr(f){var m=ue(),S=sn;if(S!==null)return er(m,S,f);ue(),m=m.memoizedState,S=ue();var E=S.queue.dispatch;return S.memoizedState=f,[m,E,!1]}function ts(f,m,S,E){return f={tag:f,create:m,inst:S,deps:E,next:null},m=Cn.updateQueue,m===null&&(m=sm(),Cn.updateQueue=m),S=m.lastEffect,S===null?m.lastEffect=f.next=f:(E=S.next,S.next=f,f.next=E,m.lastEffect=f),f}function xo(){return ue().memoizedState}function xd(f,m,S,E){var D=X();Cn.flags|=f,D.memoizedState=ts(1|m,S,{destroy:void 0},E===void 0?null:E)}function yd(f,m,S,E){var D=ue();E=E===void 0?null:E;var B=D.memoizedState.inst;sn!==null&&E!==null&&bs(E,sn.memoizedState.deps)?D.memoizedState=ts(m,S,B,E):(Cn.flags|=f,D.memoizedState=ts(1|m,S,B,E))}function gp(f,m){xd(8390656,8,f,m)}function sx(f,m){yd(2048,8,f,m)}function Ov(f,m){return yd(4,2,f,m)}function vd(f,m){return yd(4,4,f,m)}function xp(f,m){if(typeof m=="function"){f=f();var S=m(f);return function(){typeof S=="function"?S():m(null)}}if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function yp(f,m,S){S=S!=null?S.concat([f]):null,yd(4,4,xp.bind(null,m,f),S)}function Pl(){}function zc(f,m){var S=ue();m=m===void 0?null:m;var E=S.memoizedState;return m!==null&&bs(m,E[1])?E[0]:(S.memoizedState=[f,m],f)}function ax(f,m){var S=ue();m=m===void 0?null:m;var E=S.memoizedState;if(m!==null&&bs(m,E[1]))return E[0];if(E=f(),lc){q(!0);try{f()}finally{q(!1)}}return S.memoizedState=[E,m],E}function _d(f,m,S){return S===void 0||(gl&1073741824)!==0?f.memoizedState=m:(f.memoizedState=S,f=Ex(),Cn.lanes|=f,ia|=f,S)}function ox(f,m,S,E){return Rs(S,m)?S:Si.current!==null?(f=_d(f,S,E),Rs(f,m)||(yi=!0),f):(gl&42)===0?(yi=!0,f.memoizedState=S):(f=Ex(),Cn.lanes|=f,ia|=f,m)}function Vh(f,m,S,E,D){var B=ul();Wr(B!==0&&8>B?B:8);var J=cn.T,he={};cn.T=he,$h(f,!1,m,S);try{var Te=D(),Ge=cn.S;if(Ge!==null&&Ge(he,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ht=gt(Te,E);Ol(f,m,ht,Xi(f))}else Ol(f,m,E,Xi(f))}catch(wt){Ol(f,m,{then:function(){},status:"rejected",reason:wt},Xi())}finally{Wr(B),cn.T=J}}function yo(f){var m=f.memoizedState;if(m!==null)return m;m={memoizedState:Ql,baseState:Ql,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qe,lastRenderedState:Ql},next:null};var S={};return m.next={memoizedState:S,baseState:S,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qe,lastRenderedState:S},next:null},f.memoizedState=m,f=f.alternate,f!==null&&(f.memoizedState=m),m}function bd(){return Rr(Ka)}function Gh(){return ue().memoizedState}function Ko(){return ue().memoizedState}function lx(f){for(var m=f.return;m!==null;){switch(m.tag){case 24:case 3:var S=Xi();f=Xe(S);var E=ft(m,f,S);E!==null&&(vr(E,m,S),kt(E,m,S)),m={cache:Ul()},f.payload=m;return}m=m.return}}function vp(f,m,S){var E=Xi();S={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null},jd(f)?ns(m,S):(S=qe(f,m,S,E),S!==null&&(vr(S,f,E),Bl(S,m,E)))}function cx(f,m,S){var E=Xi();Ol(f,m,S,E)}function Ol(f,m,S,E){var D={lane:E,revertLane:0,action:S,hasEagerState:!1,eagerState:null,next:null};if(jd(f))ns(m,D);else{var B=f.alternate;if(f.lanes===0&&(B===null||B.lanes===0)&&(B=m.lastRenderedReducer,B!==null))try{var J=m.lastRenderedState,he=B(J,S);if(D.hasEagerState=!0,D.eagerState=he,Rs(he,J))return rt(f,m,D,0),si===null&&ne(),!1}catch{}finally{}if(S=qe(f,m,D,E),S!==null)return vr(S,f,E),Bl(S,m,E),!0}return!1}function $h(f,m,S,E){if(E={lane:2,revertLane:Ve(),action:E,hasEagerState:!1,eagerState:null,next:null},jd(f)){if(m)throw Error(s(479))}else m=qe(f,S,E,2),m!==null&&vr(m,f,2)}function jd(f){var m=f.alternate;return f===Cn||m!==null&&m===Cn}function ns(f,m){rh=Aa=!0;var S=f.pending;S===null?m.next=m:(m.next=S.next,S.next=m),f.pending=m}function Bl(f,m,S){if((S&4194176)!==0){var E=m.lanes;E&=f.pendingLanes,S|=E,m.lanes=S,K(f,S)}}function qh(f,m,S,E){m=f.memoizedState,S=S(E,m),S=S==null?m:Ip({},m,S),f.memoizedState=S,f.lanes===0&&(f.updateQueue.baseState=S)}function Wh(f,m,S,E,D,B,J){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(E,B,J):m.prototype&&m.prototype.isPureReactComponent?!st(S,E)||!st(D,B):!0}function Bv(f,m,S,E){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,E),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,E),m.state!==f&&Eo.enqueueReplaceState(m,m.state,null)}function Zo(f,m){var S=m;if("ref"in m){S={};for(var E in m)E!=="ref"&&(S[E]=m[E])}if(f=f.defaultProps){S===m&&(S=Ip({},S));for(var D in f)S[D]===void 0&&(S[D]=f[D])}return S}function Xh(f,m){try{var S=f.onUncaughtError;S(m.value,{componentStack:m.stack})}catch(E){setTimeout(function(){throw E})}}function Yh(f,m,S){try{var E=f.onCaughtError;E(S.value,{componentStack:S.stack,errorBoundary:m.tag===1?m.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Kh(f,m,S){return S=Xe(S),S.tag=3,S.payload={element:null},S.callback=function(){Xh(f,m)},S}function hx(f){return f=Xe(f),f.tag=3,f}function Iv(f,m,S,E){var D=S.type.getDerivedStateFromError;if(typeof D=="function"){var B=E.value;f.payload=function(){return D(B)},f.callback=function(){Yh(m,S,E)}}var J=S.stateNode;J!==null&&typeof J.componentDidCatch=="function"&&(f.callback=function(){Yh(m,S,E),typeof D!="function"&&(hc===null?hc=new Set([this]):hc.add(this));var he=E.stack;this.componentDidCatch(E.value,{componentStack:he!==null?he:""})})}function Jw(f,m,S,E,D){if(S.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){if(m=S.alternate,m!==null&&Cd(m,S,D,!0),S=Qs.current,S!==null){switch(S.tag){case 13:return xi===null?sl():S.alternate===null&&vi===0&&(vi=3),S.flags&=-257,S.flags|=65536,S.lanes=D,E===sf?S.flags|=16384:(m=S.updateQueue,m===null?S.updateQueue=new Set([E]):m.add(E),Gc(f,E,D)),!1;case 22:return S.flags|=65536,E===sf?S.flags|=16384:(m=S.updateQueue,m===null?(m={transitions:null,markerInstances:null,retryQueue:new Set([E])},S.updateQueue=m):(S=m.retryQueue,S===null?m.retryQueue=new Set([E]):S.add(E)),Gc(f,E,D)),!1}throw Error(s(435,S.tag))}return Gc(f,E,D),sl(),!1}if(Vn)return m=Qs.current,m!==null?((m.flags&65536)===0&&(m.flags|=256),m.flags|=65536,m.lanes=D,E!==tf&&(f=Error(s(422),{cause:E}),At(le(f,S)))):(E!==tf&&(m=Error(s(423),{cause:E}),At(le(m,S))),f=f.current.alternate,f.flags|=65536,D&=-D,f.lanes|=D,E=le(E,S),D=Kh(f.stateNode,E,D),zt(f,D),vi!==4&&(vi=2)),!1;var B=Error(s(520),{cause:E});if(B=le(B,S),oh===null?oh=[B]:oh.push(B),vi!==4&&(vi=2),m===null)return!0;E=le(E,S),S=m;do{switch(S.tag){case 3:return S.flags|=65536,f=D&-D,S.lanes|=f,f=Kh(S.stateNode,E,f),zt(S,f),!1;case 1:if(m=S.type,B=S.stateNode,(S.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(hc===null||!hc.has(B))))return S.flags|=65536,D&=-D,S.lanes|=D,D=hx(D),Iv(D,f,S,E),zt(S,D),!1}S=S.return}while(S!==null);return!1}function Ar(f,m,S,E){m.child=f===null?Mo(m,null,S,E):oc(m,f.child,S,E)}function _p(f,m,S,E,D){S=S.render;var B=m.ref;if("ref"in E){var J={};for(var he in E)he!=="ref"&&(J[he]=E[he])}else J=E;return Fl(m),E=js(f,m,S,J,B,D),he=Pt(),f!==null&&!yi?(xe(f,m,D),Qo(f,m,D)):(Vn&&he&&de(m),m.flags|=1,Ar(f,m,E,D),m.child)}function Fv(f,m,S,E,D){if(f===null){var B=S.type;return typeof B=="function"&&!Fd(B)&&B.defaultProps===void 0&&S.compare===null?(m.tag=15,m.type=B,Uv(f,m,B,E,D)):(f=bo(S.type,null,E,m,m.mode,D),f.ref=m.ref,f.return=m,m.child=f)}if(B=f.child,!mx(f,D)){var J=B.memoizedProps;if(S=S.compare,S=S!==null?S:st,S(J,E)&&f.ref===m.ref)return Qo(f,m,D)}return m.flags|=1,f=ja(B,E),f.ref=m.ref,f.return=m,m.child=f}function Uv(f,m,S,E,D){if(f!==null){var B=f.memoizedProps;if(st(B,E)&&f.ref===m.ref)if(yi=!1,m.pendingProps=E=B,mx(f,D))(f.flags&131072)!==0&&(yi=!0);else return m.lanes=f.lanes,Qo(f,m,D)}return bp(f,m,S,E,D)}function zv(f,m,S){var E=m.pendingProps,D=E.children,B=(m.stateNode._pendingVisibility&2)!==0,J=f!==null?f.memoizedState:null;if(Sd(f,m),E.mode==="hidden"||B){if((m.flags&128)!==0){if(E=J!==null?J.baseLanes|S:S,f!==null){for(D=m.child=f.child,B=0;D!==null;)B=B|D.lanes|D.childLanes,D=D.sibling;m.childLanes=B&~E}else m.childLanes=0,m.child=null;return Hv(f,m,E,S)}if((S&536870912)!==0)m.memoizedState={baseLanes:0,cachePool:null},f!==null&&Sp(m,J!==null?J.cachePool:null),J!==null?Di(m,J):qi(),Nl(m);else return m.lanes=m.childLanes=536870912,Hv(f,m,J!==null?J.baseLanes|S:S,S)}else J!==null?(Sp(m,J.cachePool),Di(m,J),vs(),m.memoizedState=null):(f!==null&&Sp(m,null),qi(),vs());return Ar(f,m,D,S),m.child}function Hv(f,m,S,E){var D=xx();return D=D===null?null:{parent:ss?wi._currentValue:wi._currentValue2,pool:D},m.memoizedState={baseLanes:S,cachePool:D},f!==null&&Sp(m,null),qi(),Nl(m),f!==null&&Cd(f,m,E,!0),null}function Sd(f,m){var S=m.ref;if(S===null)f!==null&&f.ref!==null&&(m.flags|=2097664);else{if(typeof S!="function"&&typeof S!="object")throw Error(s(284));(f===null||f.ref!==S)&&(m.flags|=2097664)}}function bp(f,m,S,E,D){return Fl(m),S=js(f,m,S,E,void 0,D),E=Pt(),f!==null&&!yi?(xe(f,m,D),Qo(f,m,D)):(Vn&&E&&de(m),m.flags|=1,Ar(f,m,S,D),m.child)}function Vv(f,m,S,E,D,B){return Fl(m),m.updateQueue=null,S=va(m,E,S,D),qa(f),E=Pt(),f!==null&&!yi?(xe(f,m,B),Qo(f,m,B)):(Vn&&E&&de(m),m.flags|=1,Ar(f,m,S,B),m.child)}function Gv(f,m,S,E,D){if(Fl(m),m.stateNode===null){var B=nc,J=S.contextType;typeof J=="object"&&J!==null&&(B=Rr(J)),B=new S(E,B),m.memoizedState=B.state!==null&&B.state!==void 0?B.state:null,B.updater=Eo,m.stateNode=B,B._reactInternals=m,B=m.stateNode,B.props=E,B.state=m.memoizedState,B.refs={},Rt(m),J=S.contextType,B.context=typeof J=="object"&&J!==null?Rr(J):nc,B.state=m.memoizedState,J=S.getDerivedStateFromProps,typeof J=="function"&&(qh(m,S,J,E),B.state=m.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof B.getSnapshotBeforeUpdate=="function"||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(J=B.state,typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount(),J!==B.state&&Eo.enqueueReplaceState(B,B.state,null),rn(m,E,B,D),ct(),B.state=m.memoizedState),typeof B.componentDidMount=="function"&&(m.flags|=4194308),E=!0}else if(f===null){B=m.stateNode;var he=m.memoizedProps,Te=Zo(S,he);B.props=Te;var Ge=B.context,ht=S.contextType;J=nc,typeof ht=="object"&&ht!==null&&(J=Rr(ht));var wt=S.getDerivedStateFromProps;ht=typeof wt=="function"||typeof B.getSnapshotBeforeUpdate=="function",he=m.pendingProps!==he,ht||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(he||Ge!==J)&&Bv(m,B,E,J),ml=!1;var Mt=m.memoizedState;B.state=Mt,rn(m,E,B,D),ct(),Ge=m.memoizedState,he||Mt!==Ge||ml?(typeof wt=="function"&&(qh(m,S,wt,E),Ge=m.memoizedState),(Te=ml||Wh(m,S,Te,E,Mt,Ge,J))?(ht||typeof B.UNSAFE_componentWillMount!="function"&&typeof B.componentWillMount!="function"||(typeof B.componentWillMount=="function"&&B.componentWillMount(),typeof B.UNSAFE_componentWillMount=="function"&&B.UNSAFE_componentWillMount()),typeof B.componentDidMount=="function"&&(m.flags|=4194308)):(typeof B.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=E,m.memoizedState=Ge),B.props=E,B.state=Ge,B.context=J,E=Te):(typeof B.componentDidMount=="function"&&(m.flags|=4194308),E=!1)}else{B=m.stateNode,Lt(f,m),J=m.memoizedProps,ht=Zo(S,J),B.props=ht,wt=m.pendingProps,Mt=B.context,Ge=S.contextType,Te=nc,typeof Ge=="object"&&Ge!==null&&(Te=Rr(Ge)),he=S.getDerivedStateFromProps,(Ge=typeof he=="function"||typeof B.getSnapshotBeforeUpdate=="function")||typeof B.UNSAFE_componentWillReceiveProps!="function"&&typeof B.componentWillReceiveProps!="function"||(J!==wt||Mt!==Te)&&Bv(m,B,E,Te),ml=!1,Mt=m.memoizedState,B.state=Mt,rn(m,E,B,D),ct();var yn=m.memoizedState;J!==wt||Mt!==yn||ml||f!==null&&f.dependencies!==null&&Md(f.dependencies)?(typeof he=="function"&&(qh(m,S,he,E),yn=m.memoizedState),(ht=ml||Wh(m,S,ht,E,Mt,yn,Te)||f!==null&&f.dependencies!==null&&Md(f.dependencies))?(Ge||typeof B.UNSAFE_componentWillUpdate!="function"&&typeof B.componentWillUpdate!="function"||(typeof B.componentWillUpdate=="function"&&B.componentWillUpdate(E,yn,Te),typeof B.UNSAFE_componentWillUpdate=="function"&&B.UNSAFE_componentWillUpdate(E,yn,Te)),typeof B.componentDidUpdate=="function"&&(m.flags|=4),typeof B.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof B.componentDidUpdate!="function"||J===f.memoizedProps&&Mt===f.memoizedState||(m.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||J===f.memoizedProps&&Mt===f.memoizedState||(m.flags|=1024),m.memoizedProps=E,m.memoizedState=yn),B.props=E,B.state=yn,B.context=Te,E=ht):(typeof B.componentDidUpdate!="function"||J===f.memoizedProps&&Mt===f.memoizedState||(m.flags|=4),typeof B.getSnapshotBeforeUpdate!="function"||J===f.memoizedProps&&Mt===f.memoizedState||(m.flags|=1024),E=!1)}return B=E,Sd(f,m),E=(m.flags&128)!==0,B||E?(B=m.stateNode,S=E&&typeof S.getDerivedStateFromError!="function"?null:B.render(),m.flags|=1,f!==null&&E?(m.child=oc(m,f.child,null,D),m.child=oc(m,null,S,D)):Ar(f,m,S,D),m.memoizedState=B.state,f=m.child):f=Qo(f,m,D),f}function $v(f,m,S,E){return Et(),m.flags|=256,Ar(f,m,S,E),m.child}function ux(f){return{baseLanes:f,cachePool:yx()}}function wd(f,m,S){return f=f!==null?f.childLanes&~S:0,m&&(f|=ra),f}function qv(f,m,S){var E=m.pendingProps,D=!1,B=(m.flags&128)!==0,J;if((J=B)||(J=f!==null&&f.memoizedState===null?!1:(hr.current&2)!==0),J&&(D=!0,m.flags&=-129),J=(m.flags&32)!==0,m.flags&=-33,f===null){if(Vn){if(D?Wi(m):vs(),Vn){var he=Or,Te;(Te=he)&&(he=A_(he,br),he!==null?(m.memoizedState={dehydrated:he,treeContext:ic!==null?{id:Qa,overflow:Ja}:null,retryLane:536870912},Te=i(18,null,null,0),Te.stateNode=he,Te.return=m,m.child=Te,Pr=m,Or=null,Te=!0):Te=!1),Te||Ue(m)}if(he=m.memoizedState,he!==null&&(he=he.dehydrated,he!==null))return Xp(he)?m.lanes=16:m.lanes=536870912,null;ar(m)}return he=E.children,E=E.fallback,D?(vs(),D=m.mode,he=fx({mode:"hidden",children:he},D),E=Fi(E,D,S,null),he.return=m,E.return=m,he.sibling=E,m.child=he,D=m.child,D.memoizedState=ux(S),D.childLanes=wd(f,J,S),m.memoizedState=lm,E):(Wi(m),dx(m,he))}if(Te=f.memoizedState,Te!==null&&(he=Te.dehydrated,he!==null)){if(B)m.flags&256?(Wi(m),m.flags&=-257,m=jp(f,m,S)):m.memoizedState!==null?(vs(),m.child=f.child,m.flags|=128,m=null):(vs(),D=E.fallback,he=m.mode,E=fx({mode:"visible",children:E.children},he),D=Fi(D,he,S,null),D.flags|=2,E.return=m,D.return=m,E.sibling=D,m.child=E,oc(m,f.child,null,S),E=m.child,E.memoizedState=ux(S),E.childLanes=wd(f,J,S),m.memoizedState=lm,m=D);else if(Wi(m),Xp(he))J=w_(he).digest,E=Error(s(419)),E.stack="",E.digest=J,At({value:E,source:null,stack:null}),m=jp(f,m,S);else if(yi||Cd(f,m,S,!1),J=(S&f.childLanes)!==0,yi||J){if(J=si,J!==null){if(E=S&-S,(E&42)!==0)E=1;else switch(E){case 2:E=1;break;case 8:E=4;break;case 32:E=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:E=64;break;case 268435456:E=134217728;break;default:E=0}if(E=(E&(J.suspendedLanes|S))!==0?0:E,E!==0&&E!==Te.retryLane)throw Te.retryLane=E,We(f,E),vr(J,f,E),om}Wp(he)||sl(),m=jp(f,m,S)}else Wp(he)?(m.flags|=128,m.child=f.child,m=al.bind(null,f),T_(he,m),m=null):(f=Te.treeContext,Nr&&(Or=E_(he),Pr=m,Vn=!0,Ma=null,br=!1,f!==null&&(Ys[Ks++]=Qa,Ys[Ks++]=Ja,Ys[Ks++]=ic,Qa=f.id,Ja=f.overflow,ic=m)),m=dx(m,E.children),m.flags|=4096);return m}return D?(vs(),D=E.fallback,he=m.mode,Te=f.child,B=Te.sibling,E=ja(Te,{mode:"hidden",children:E.children}),E.subtreeFlags=Te.subtreeFlags&31457280,B!==null?D=ja(B,D):(D=Fi(D,he,S,null),D.flags|=2),D.return=m,E.return=m,E.sibling=D,m.child=E,E=D,D=m.child,he=f.child.memoizedState,he===null?he=ux(S):(Te=he.cachePool,Te!==null?(B=ss?wi._currentValue:wi._currentValue2,Te=Te.parent!==B?{parent:B,pool:B}:Te):Te=yx(),he={baseLanes:he.baseLanes|S,cachePool:Te}),D.memoizedState=he,D.childLanes=wd(f,J,S),m.memoizedState=lm,E):(Wi(m),S=f.child,f=S.sibling,S=ja(S,{mode:"visible",children:E.children}),S.return=m,S.sibling=null,f!==null&&(J=m.deletions,J===null?(m.deletions=[f],m.flags|=16):J.push(f)),m.child=S,m.memoizedState=null,S)}function dx(f,m){return m=fx({mode:"visible",children:m},f.mode),m.return=f,f.child=m}function fx(f,m){return zd(f,m,0,null)}function jp(f,m,S){return oc(m,f.child,null,S),f=dx(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function Wv(f,m,S){f.lanes|=m;var E=f.alternate;E!==null&&(E.lanes|=m),Td(f.return,m,S)}function px(f,m,S,E,D){var B=f.memoizedState;B===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:E,tail:S,tailMode:D}:(B.isBackwards=m,B.rendering=null,B.renderingStartTime=0,B.last=E,B.tail=S,B.tailMode=D)}function Xv(f,m,S){var E=m.pendingProps,D=E.revealOrder,B=E.tail;if(Ar(f,m,E.children,S),E=hr.current,(E&2)!==0)E=E&1|2,m.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&Wv(f,S,m);else if(f.tag===19)Wv(f,S,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}E&=1}switch(A(hr,E),D){case"forwards":for(S=m.child,D=null;S!==null;)f=S.alternate,f!==null&&_s(f)===null&&(D=S),S=S.sibling;S=D,S===null?(D=m.child,m.child=null):(D=S.sibling,S.sibling=null),px(m,!1,D,S,B);break;case"backwards":for(S=null,D=m.child,m.child=null;D!==null;){if(f=D.alternate,f!==null&&_s(f)===null){m.child=D;break}f=D.sibling,D.sibling=S,S=D,D=f}px(m,!0,S,null,B);break;case"together":px(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Qo(f,m,S){if(f!==null&&(m.dependencies=f.dependencies),ia|=m.lanes,(S&m.childLanes)===0)if(f!==null){if(Cd(f,m,S,!1),(S&m.childLanes)===0)return null}else return null;if(f!==null&&m.child!==f.child)throw Error(s(153));if(m.child!==null){for(f=m.child,S=ja(f,f.pendingProps),m.child=S,S.return=m;f.sibling!==null;)f=f.sibling,S=S.sibling=ja(f,f.pendingProps),S.return=m;S.sibling=null}return m.child}function mx(f,m){return(f.lanes&m)!==0?!0:(f=f.dependencies,!!(f!==null&&Md(f)))}function eT(f,m,S){switch(m.tag){case 3:ae(m,m.stateNode.containerInfo),Il(m,wi,f.memoizedState.cache),Et();break;case 27:case 5:De(m);break;case 4:ae(m,m.stateNode.containerInfo);break;case 10:Il(m,m.type,m.memoizedProps.value);break;case 13:var E=m.memoizedState;if(E!==null)return E.dehydrated!==null?(Wi(m),m.flags|=128,null):(S&m.child.childLanes)!==0?qv(f,m,S):(Wi(m),f=Qo(f,m,S),f!==null?f.sibling:null);Wi(m);break;case 19:var D=(f.flags&128)!==0;if(E=(S&m.childLanes)!==0,E||(Cd(f,m,S,!1),E=(S&m.childLanes)!==0),D){if(E)return Xv(f,m,S);m.flags|=128}if(D=m.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),A(hr,hr.current),E)break;return null;case 22:case 23:return m.lanes=0,zv(f,m,S);case 24:Il(m,wi,f.memoizedState.cache)}return Qo(f,m,S)}function Yv(f,m,S){if(f!==null)if(f.memoizedProps!==m.pendingProps)yi=!0;else{if(!mx(f,S)&&(m.flags&128)===0)return yi=!1,eT(f,m,S);yi=(f.flags&131072)!==0}else yi=!1,Vn&&(m.flags&1048576)!==0&&re(m,xu,m.index);switch(m.lanes=0,m.tag){case 16:e:{f=m.pendingProps;var E=m.elementType,D=E._init;if(E=D(E._payload),m.type=E,typeof E=="function")Fd(E)?(f=Zo(E,f),m.tag=1,m=Gv(null,m,E,f,S)):(m.tag=0,m=bp(null,m,E,f,S));else{if(E!=null){if(D=E.$$typeof,D===qd){m.tag=11,m=_p(null,m,E,f,S);break e}else if(D===zp){m.tag=14,m=Fv(null,m,E,f,S);break e}}throw m=o(E)||E,Error(s(306,m,""))}}return m;case 0:return bp(f,m,m.type,m.pendingProps,S);case 1:return E=m.type,D=Zo(E,m.pendingProps),Gv(f,m,E,D,S);case 3:e:{if(ae(m,m.stateNode.containerInfo),f===null)throw Error(s(387));var B=m.pendingProps;D=m.memoizedState,E=D.element,Lt(f,m),rn(m,B,null,S);var J=m.memoizedState;if(B=J.cache,Il(m,wi,B),B!==D.cache&&Hc(m,[wi],S,!0),ct(),B=J.element,Nr&&D.isDehydrated)if(D={element:B,isDehydrated:!1,cache:J.cache},m.updateQueue.baseState=D,m.memoizedState=D,m.flags&256){m=$v(f,m,B,S);break e}else if(B!==E){E=le(Error(s(424)),m),At(E),m=$v(f,m,B,S);break e}else for(Nr&&(Or=M_(m.stateNode.containerInfo),Pr=m,Vn=!0,Ma=null,br=!0),S=Mo(m,null,B,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Et(),B===E){m=Qo(f,m,S);break e}Ar(f,m,B,S)}m=m.child}return m;case 26:if(Xs)return Sd(f,m),f===null?(S=ty(m.type,null,m.pendingProps,null))?m.memoizedState=S:Vn||(m.stateNode=Jp(m.type,m.pendingProps,To.current,m)):m.memoizedState=ty(m.type,f.memoizedProps,m.pendingProps,f.memoizedState),null;case 27:if(gi)return De(m),f===null&&gi&&Vn&&(E=m.stateNode=Za(m.type,m.pendingProps,To.current,cr.current,!1),Pr=m,br=!0,Or=Yp(E)),E=m.pendingProps.children,f!==null||Vn?Ar(f,m,E,S):m.child=oc(m,null,E,S),Sd(f,m),m.child;case 5:return f===null&&Vn&&(Zp(m.type,m.pendingProps,cr.current),(D=E=Or)&&(E=oT(E,m.type,m.pendingProps,br),E!==null?(m.stateNode=E,Pr=m,Or=Yp(E),br=!1,D=!0):D=!1),D||Ue(m)),De(m),D=m.type,B=m.pendingProps,J=f!==null?f.memoizedProps:null,E=B.children,_n(D,B)?E=null:J!==null&&_n(D,J)&&(m.flags|=32),m.memoizedState!==null&&(D=js(f,m,Ii,null,null,S),ss?Ka._currentValue=D:Ka._currentValue2=D),Sd(f,m),Ar(f,m,E,S),m.child;case 6:return f===null&&Vn&&(N_(m.pendingProps,cr.current),(f=S=Or)&&(S=Jx(S,m.pendingProps,br),S!==null?(m.stateNode=S,Pr=m,Or=null,f=!0):f=!1),f||Ue(m)),null;case 13:return qv(f,m,S);case 4:return ae(m,m.stateNode.containerInfo),E=m.pendingProps,f===null?m.child=oc(m,null,E,S):Ar(f,m,E,S),m.child;case 11:return _p(f,m,m.type,m.pendingProps,S);case 7:return Ar(f,m,m.pendingProps,S),m.child;case 8:return Ar(f,m,m.pendingProps.children,S),m.child;case 12:return Ar(f,m,m.pendingProps.children,S),m.child;case 10:return E=m.pendingProps,Il(m,m.type,E.value),Ar(f,m,E.children,S),m.child;case 9:return D=m.type._context,E=m.pendingProps.children,Fl(m),D=Rr(D),E=E(D),m.flags|=1,Ar(f,m,E,S),m.child;case 14:return Fv(f,m,m.type,m.pendingProps,S);case 15:return Uv(f,m,m.type,m.pendingProps,S);case 19:return Xv(f,m,S);case 22:return zv(f,m,S);case 24:return Fl(m),E=Rr(wi),f===null?(D=xx(),D===null&&(D=si,B=Ul(),D.pooledCache=B,B.refCount++,B!==null&&(D.pooledCacheLanes|=S),D=B),m.memoizedState={parent:E,cache:D},Rt(m),Il(m,wi,D)):((f.lanes&S)!==0&&(Lt(f,m),rn(m,null,null,S),ct()),D=f.memoizedState,B=m.memoizedState,D.parent!==E?(D={parent:E,cache:E},m.memoizedState=D,m.lanes===0&&(m.memoizedState=m.updateQueue.baseState=D),Il(m,wi,E)):(E=B.cache,Il(m,wi,E),E!==D.cache&&Hc(m,[wi],S,!0))),Ar(f,m,m.pendingProps.children,S),m.child;case 29:throw m.pendingProps}throw Error(s(156,m.tag))}function Il(f,m,S){ss?(A(xl,m._currentValue),m._currentValue=S):(A(xl,m._currentValue2),m._currentValue2=S)}function Jo(f){var m=xl.current;ss?f._currentValue=m:f._currentValue2=m,w(xl)}function Td(f,m,S){for(;f!==null;){var E=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,E!==null&&(E.childLanes|=m)):E!==null&&(E.childLanes&m)!==m&&(E.childLanes|=m),f===S)break;f=f.return}}function Hc(f,m,S,E){var D=f.child;for(D!==null&&(D.return=f);D!==null;){var B=D.dependencies;if(B!==null){var J=D.child;B=B.firstContext;e:for(;B!==null;){var he=B;B=D;for(var Te=0;Te<m.length;Te++)if(he.context===m[Te]){B.lanes|=S,he=B.alternate,he!==null&&(he.lanes|=S),Td(B.return,S,f),E||(J=null);break e}B=he.next}}else if(D.tag===18){if(J=D.return,J===null)throw Error(s(341));J.lanes|=S,B=J.alternate,B!==null&&(B.lanes|=S),Td(J,S,f),J=null}else J=D.child;if(J!==null)J.return=D;else for(J=D;J!==null;){if(J===f){J=null;break}if(D=J.sibling,D!==null){D.return=J.return,J=D;break}J=J.return}D=J}}function Cd(f,m,S,E){f=null;for(var D=m,B=!1;D!==null;){if(!B){if((D.flags&524288)!==0)B=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var J=D.alternate;if(J===null)throw Error(s(387));if(J=J.memoizedProps,J!==null){var he=D.type;Rs(D.pendingProps.value,J.value)||(f!==null?f.push(he):f=[he])}}else if(D===Qc.current){if(J=D.alternate,J===null)throw Error(s(387));J.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(f!==null?f.push(Ka):f=[Ka])}D=D.return}f!==null&&Hc(m,f,S,E),m.flags|=262144}function Md(f){for(f=f.firstContext;f!==null;){var m=f.context;if(!Rs(ss?m._currentValue:m._currentValue2,f.memoizedValue))return!0;f=f.next}return!1}function Fl(f){no=f,ea=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function Rr(f){return gx(no,f)}function Ed(f,m){return no===null&&Fl(f),gx(f,m)}function gx(f,m){var S=ss?m._currentValue:m._currentValue2;if(m={context:m,memoizedValue:S,next:null},ea===null){if(f===null)throw Error(s(308));ea=m,f.dependencies={lanes:0,firstContext:m},f.flags|=524288}else ea=ea.next=m;return S}function Ul(){return{controller:new Su,data:new Map,refCount:0}}function Ad(f){f.refCount--,f.refCount===0&&$_(q_,function(){f.controller.abort()})}function xx(){var f=Ao.current;return f!==null?f:si.pooledCache}function Sp(f,m){m===null?A(Ao,Ao.current):A(Ao,m.pool)}function yx(){var f=xx();return f===null?null:{parent:ss?wi._currentValue:wi._currentValue2,pool:f}}function Ss(f){f.flags|=4}function Zh(f,m){if(f!==null&&f.child===m.child)return!1;if((m.flags&16)!==0)return!0;for(f=m.child;f!==null;){if((f.flags&13878)!==0||(f.subtreeFlags&13878)!==0)return!0;f=f.sibling}return!1}function Vc(f,m,S,E){if(lr)for(S=m.child;S!==null;){if(S.tag===5||S.tag===6)Xd(f,S.stateNode);else if(!(S.tag===4||gi&&S.tag===27)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}else if(Ta)for(var D=m.child;D!==null;){if(D.tag===5){var B=D.stateNode;S&&E&&(B=Yx(B,D.type,D.memoizedProps)),Xd(f,B)}else if(D.tag===6)B=D.stateNode,S&&E&&(B=Kx(B,D.memoizedProps)),Xd(f,B);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)B=D.child,B!==null&&(B.return=D),Vc(f,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===m)break;for(;D.sibling===null;){if(D.return===null||D.return===m)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function Kv(f,m,S,E){if(Ta)for(var D=m.child;D!==null;){if(D.tag===5){var B=D.stateNode;S&&E&&(B=Yx(B,D.type,D.memoizedProps)),Xx(f,B)}else if(D.tag===6)B=D.stateNode,S&&E&&(B=Kx(B,D.memoizedProps)),Xx(f,B);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)B=D.child,B!==null&&(B.return=D),Kv(f,D,!(D.memoizedProps!==null&&D.memoizedProps.mode==="manual"),!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===m)break;for(;D.sibling===null;){if(D.return===null||D.return===m)return;D=D.return}D.sibling.return=D.return,D=D.sibling}}function Rd(f,m){if(Ta&&Zh(f,m)){f=m.stateNode;var S=f.containerInfo,E=Yd();Kv(E,m,!1,!1),f.pendingChildren=E,Ss(m),qp(S,E)}}function wp(f,m,S,E){if(lr)f.memoizedProps!==E&&Ss(m);else if(Ta){var D=f.stateNode,B=f.memoizedProps;if((f=Zh(f,m))||B!==E){var J=cr.current;B=pu(D,S,B,E,!f,null),B===D?m.stateNode=D:(hl(B,S,E,J)&&Ss(m),m.stateNode=B,f?Vc(B,m,!1,!1):Ss(m))}else m.stateNode=D}}function Tp(f,m,S){if(Ux(m,S)){if(f.flags|=16777216,!Gp(m,S))if(ql())f.flags|=8192;else throw rc=sf,rf}else f.flags&=-16777217}function Cp(f,m){if(B_(m)){if(f.flags|=16777216,!Wc(m))if(ql())f.flags|=8192;else throw rc=sf,rf}else f.flags&=-16777217}function Qh(f,m){m!==null&&(f.flags|=4),f.flags&16384&&(m=f.tag!==22?P():536870912,f.lanes|=m,Do|=m)}function Jh(f,m){if(!Vn)switch(f.tailMode){case"hidden":m=f.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?f.tail=null:S.sibling=null;break;case"collapsed":S=f.tail;for(var E=null;S!==null;)S.alternate!==null&&(E=S),S=S.sibling;E===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:E.sibling=null}}function Ri(f){var m=f.alternate!==null&&f.alternate.child===f.child,S=0,E=0;if(m)for(var D=f.child;D!==null;)S|=D.lanes|D.childLanes,E|=D.subtreeFlags&31457280,E|=D.flags&31457280,D.return=f,D=D.sibling;else for(D=f.child;D!==null;)S|=D.lanes|D.childLanes,E|=D.subtreeFlags,E|=D.flags,D.return=f,D=D.sibling;return f.subtreeFlags|=E,f.childLanes=S,m}function Zv(f,m,S){var E=m.pendingProps;switch(fe(m),m.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(m),null;case 1:return Ri(m),null;case 3:return S=m.stateNode,E=null,f!==null&&(E=f.memoizedState.cache),m.memoizedState.cache!==E&&(m.flags|=2048),Jo(wi),pe(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(f===null||f.child===null)&&(Nt(m)?Ss(m):f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Ma!==null&&(Bd(Ma),Ma=null))),Rd(f,m),Ri(m),null;case 26:if(Xs){S=m.type;var D=m.memoizedState;return f===null?(Ss(m),D!==null?(Ri(m),Cp(m,D)):(Ri(m),Tp(m,S,E))):D?D!==f.memoizedState?(Ss(m),Ri(m),Cp(m,D)):(Ri(m),m.flags&=-16777217):(lr?f.memoizedProps!==E&&Ss(m):wp(f,m,S,E),Ri(m),Tp(m,S,E)),null}case 27:if(gi){if(Be(m),S=To.current,D=m.type,f!==null&&m.stateNode!=null)lr?f.memoizedProps!==E&&Ss(m):wp(f,m,D,E);else{if(!E){if(m.stateNode===null)throw Error(s(166));return Ri(m),null}f=cr.current,Nt(m)?Ze(m,f):(f=Za(D,E,S,f,!0),m.stateNode=f,Ss(m))}return Ri(m),null}case 5:if(Be(m),S=m.type,f!==null&&m.stateNode!=null)wp(f,m,S,E);else{if(!E){if(m.stateNode===null)throw Error(s(166));return Ri(m),null}f=cr.current,Nt(m)?Ze(m,f):(D=Fx(S,E,To.current,f,m),Vc(D,m,!1,!1),m.stateNode=D,hl(D,S,E,f)&&Ss(m))}return Ri(m),Tp(m,m.type,m.pendingProps),null;case 6:if(f&&m.stateNode!=null)S=f.memoizedProps,lr?S!==E&&Ss(m):Ta&&(S!==E?(m.stateNode=li(E,To.current,cr.current,m),Ss(m)):m.stateNode=f.stateNode);else{if(typeof E!="string"&&m.stateNode===null)throw Error(s(166));if(f=To.current,S=cr.current,Nt(m)){if(!Nr)throw Error(s(176));if(f=m.stateNode,S=m.memoizedProps,E=null,D=Pr,D!==null)switch(D.tag){case 27:case 5:E=D.memoizedProps}ey(f,S,m,E)||Ue(m)}else m.stateNode=li(E,f,S,m)}return Ri(m),null;case 13:if(E=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(D=Nt(m),E!==null&&E.dehydrated!==null){if(f===null){if(!D)throw Error(s(318));if(!Nr)throw Error(s(344));if(D=m.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(s(317));L_(D,m)}else Et(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ri(m),D=!1}else Ma!==null&&(Bd(Ma),Ma=null),D=!0;if(!D)return m.flags&256?(ar(m),m):(ar(m),null)}if(ar(m),(m.flags&128)!==0)return m.lanes=S,m;if(S=E!==null,f=f!==null&&f.memoizedState!==null,S){E=m.child,D=null,E.alternate!==null&&E.alternate.memoizedState!==null&&E.alternate.memoizedState.cachePool!==null&&(D=E.alternate.memoizedState.cachePool.pool);var B=null;E.memoizedState!==null&&E.memoizedState.cachePool!==null&&(B=E.memoizedState.cachePool.pool),B!==D&&(E.flags|=2048)}return S!==f&&S&&(m.child.flags|=8192),Qh(m,m.updateQueue),Ri(m),null;case 4:return pe(),Rd(f,m),f===null&&Yi(m.stateNode.containerInfo),Ri(m),null;case 10:return Jo(m.type),Ri(m),null;case 19:if(w(hr),D=m.memoizedState,D===null)return Ri(m),null;if(E=(m.flags&128)!==0,B=D.rendering,B===null)if(E)Jh(D,!1);else{if(vi!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(B=_s(f),B!==null){for(m.flags|=128,Jh(D,!1),f=B.updateQueue,m.updateQueue=f,Qh(m,f),m.subtreeFlags=0,f=S,S=m.child;S!==null;)Ud(S,f),S=S.sibling;return A(hr,hr.current&1|2),m.child}f=f.sibling}D.tail!==null&&Ca()>Cu&&(m.flags|=128,E=!0,Jh(D,!1),m.lanes=4194304)}else{if(!E)if(f=_s(B),f!==null){if(m.flags|=128,E=!0,f=f.updateQueue,m.updateQueue=f,Qh(m,f),Jh(D,!0),D.tail===null&&D.tailMode==="hidden"&&!B.alternate&&!Vn)return Ri(m),null}else 2*Ca()-D.renderingStartTime>Cu&&S!==536870912&&(m.flags|=128,E=!0,Jh(D,!1),m.lanes=4194304);D.isBackwards?(B.sibling=m.child,m.child=B):(f=D.last,f!==null?f.sibling=B:m.child=B,D.last=B)}return D.tail!==null?(m=D.tail,D.rendering=m,D.tail=m.sibling,D.renderingStartTime=Ca(),m.sibling=null,f=hr.current,A(hr,E?f&1|2:f&1),m):(Ri(m),null);case 22:case 23:return ar(m),pi(),E=m.memoizedState!==null,f!==null?f.memoizedState!==null!==E&&(m.flags|=8192):E&&(m.flags|=8192),E?(S&536870912)!==0&&(m.flags&128)===0&&(Ri(m),m.subtreeFlags&6&&(m.flags|=8192)):Ri(m),S=m.updateQueue,S!==null&&Qh(m,S.retryQueue),S=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),E=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(E=m.memoizedState.cachePool.pool),E!==S&&(m.flags|=2048),f!==null&&w(Ao),null;case 24:return S=null,f!==null&&(S=f.memoizedState.cache),m.memoizedState.cache!==S&&(m.flags|=2048),Jo(wi),Ri(m),null;case 25:return null}throw Error(s(156,m.tag))}function tT(f,m){switch(fe(m),m.tag){case 1:return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return Jo(wi),pe(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 26:case 27:case 5:return Be(m),null;case 13:if(ar(m),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(s(340));Et()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return w(hr),null;case 4:return pe(),null;case 10:return Jo(m.type),null;case 22:case 23:return ar(m),pi(),f!==null&&w(Ao),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 24:return Jo(wi),null;case 25:return null;default:return null}}function Qv(f,m){switch(fe(m),m.tag){case 3:Jo(wi),pe();break;case 26:case 27:case 5:Be(m);break;case 4:pe();break;case 13:ar(m);break;case 19:w(hr);break;case 10:Jo(m.type);break;case 22:case 23:ar(m),pi(),f!==null&&w(Ao);break;case 24:Jo(wi)}}function Ld(f,m){try{var S=m.updateQueue,E=S!==null?S.lastEffect:null;if(E!==null){var D=E.next;S=D;do{if((S.tag&f)===f){E=void 0;var B=S.create,J=S.inst;E=B(),J.destroy=E}S=S.next}while(S!==D)}}catch(he){ii(m,m.return,he)}}function zl(f,m,S){try{var E=m.updateQueue,D=E!==null?E.lastEffect:null;if(D!==null){var B=D.next;E=B;do{if((E.tag&f)===f){var J=E.inst,he=J.destroy;if(he!==void 0){J.destroy=void 0,D=m;var Te=S;try{he()}catch(Ge){ii(D,Te,Ge)}}}E=E.next}while(E!==B)}}catch(Ge){ii(m,m.return,Ge)}}function Jv(f){var m=f.updateQueue;if(m!==null){var S=f.stateNode;try{yt(m,S)}catch(E){ii(f,f.return,E)}}}function ws(f,m,S){S.props=Zo(f.type,f.memoizedProps),S.state=f.memoizedState;try{S.componentWillUnmount()}catch(E){ii(f,m,E)}}function Wa(f,m){try{var S=f.ref;if(S!==null){var E=f.stateNode;switch(f.tag){case 26:case 27:case 5:var D=uu(E);break;default:D=E}typeof S=="function"?f.refCleanup=S(D):S.current=D}}catch(B){ii(f,m,B)}}function Ts(f,m){var S=f.ref,E=f.refCleanup;if(S!==null)if(typeof E=="function")try{E()}catch(D){ii(f,m,D)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof S=="function")try{S(null)}catch(D){ii(f,m,D)}else S.current=null}function vx(f){var m=f.type,S=f.memoizedProps,E=f.stateNode;try{sT(E,m,S,f)}catch(D){ii(f,f.return,D)}}function _x(f,m,S){try{g_(f.stateNode,f.type,S,m,f)}catch(E){ii(f,f.return,E)}}function bx(f){return f.tag===5||f.tag===3||(Xs?f.tag===26:!1)||(gi?f.tag===27:!1)||f.tag===4}function Dd(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||bx(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&(!gi||f.tag!==27)&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function jx(f,m,S){var E=f.tag;if(E===5||E===6)f=f.stateNode,m?y_(S,f,m):$x(S,f);else if(!(E===4||gi&&E===27)&&(f=f.child,f!==null))for(jx(f,m,S),f=f.sibling;f!==null;)jx(f,m,S),f=f.sibling}function el(f,m,S){var E=f.tag;if(E===5||E===6)f=f.stateNode,m?x_(S,f,m):p_(S,f);else if(!(E===4||gi&&E===27)&&(f=f.child,f!==null))for(el(f,m,S),f=f.sibling;f!==null;)el(f,m,S),f=f.sibling}function Mp(f,m,S){f=f.containerInfo;try{mu(f,S)}catch(E){ii(m,m.return,E)}}function kd(f,m){for(Hp(f.containerInfo),xn=m;xn!==null;)if(f=xn,m=f.child,(f.subtreeFlags&1028)!==0&&m!==null)m.return=f,xn=m;else for(;xn!==null;){f=xn;var S=f.alternate;switch(m=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if((m&1024)!==0&&S!==null){m=void 0;var E=f,D=S.memoizedProps;S=S.memoizedState;var B=E.stateNode;try{var J=Zo(E.type,D,E.elementType===E.type);m=B.getSnapshotBeforeUpdate(J,S),B.__reactInternalSnapshotBeforeUpdate=m}catch(he){ii(E,E.return,he)}}break;case 3:(m&1024)!==0&&lr&&S_(f.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((m&1024)!==0)throw Error(s(163))}if(m=f.sibling,m!==null){m.return=f.return,xn=m;break}xn=f.return}return J=Nn,Nn=!1,J}function Ep(f,m,S){var E=S.flags;switch(S.tag){case 0:case 11:case 15:nl(f,S),E&4&&Ld(5,S);break;case 1:if(nl(f,S),E&4)if(f=S.stateNode,m===null)try{f.componentDidMount()}catch(he){ii(S,S.return,he)}else{var D=Zo(S.type,m.memoizedProps);m=m.memoizedState;try{f.componentDidUpdate(D,m,f.__reactInternalSnapshotBeforeUpdate)}catch(he){ii(S,S.return,he)}}E&64&&Jv(S),E&512&&Wa(S,S.return);break;case 3:if(nl(f,S),E&64&&(E=S.updateQueue,E!==null)){if(f=null,S.child!==null)switch(S.child.tag){case 27:case 5:f=uu(S.child.stateNode);break;case 1:f=S.child.stateNode}try{yt(E,f)}catch(he){ii(S,S.return,he)}}break;case 26:if(Xs){nl(f,S),E&512&&Wa(S,S.return);break}case 27:case 5:nl(f,S),m===null&&E&4&&vx(S),E&512&&Wa(S,S.return);break;case 12:nl(f,S);break;case 13:nl(f,S),E&4&&Ap(f,S);break;case 22:if(D=S.memoizedState!==null||Ro,!D){m=m!==null&&m.memoizedState!==null||zi;var B=Ro,J=zi;Ro=D,(zi=m)&&!J?il(f,S,(S.subtreeFlags&8772)!==0):nl(f,S),Ro=B,zi=J}E&512&&(S.memoizedProps.mode==="manual"?Wa(S,S.return):Ts(S,S.return));break;default:nl(f,S)}}function Sx(f){var m=f.alternate;m!==null&&(f.alternate=null,Sx(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&rT(m)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function Lr(f,m,S){for(S=S.child;S!==null;)Hl(f,m,S),S=S.sibling}function Hl(f,m,S){if(As&&typeof As.onCommitFiberUnmount=="function")try{As.onCommitFiberUnmount(Zi,S)}catch{}switch(S.tag){case 26:if(Xs){zi||Ts(S,m),Lr(f,m,S),S.memoizedState?qc(S.memoizedState):S.stateNode&&gu(S.stateNode);break}case 27:if(gi){zi||Ts(S,m);var E=tn,D=Sn;tn=S.stateNode,Lr(f,m,S),tc(S.stateNode),tn=E,Sn=D;break}case 5:zi||Ts(S,m);case 6:if(lr){if(E=tn,D=Sn,tn=null,Lr(f,m,S),tn=E,Sn=D,tn!==null)if(Sn)try{v_(tn,S.stateNode)}catch(B){ii(S,m,B)}else try{qx(tn,S.stateNode)}catch(B){ii(S,m,B)}}else Lr(f,m,S);break;case 18:lr&&tn!==null&&(Sn?Kd(tn,S.stateNode):k_(tn,S.stateNode));break;case 4:lr?(E=tn,D=Sn,tn=S.stateNode.containerInfo,Sn=!0,Lr(f,m,S),tn=E,Sn=D):(Ta&&Mp(S.stateNode,S,Yd()),Lr(f,m,S));break;case 0:case 11:case 14:case 15:zi||zl(2,S,m),zi||zl(4,S,m),Lr(f,m,S);break;case 1:zi||(Ts(S,m),E=S.stateNode,typeof E.componentWillUnmount=="function"&&ws(S,m,E)),Lr(f,m,S);break;case 21:Lr(f,m,S);break;case 22:zi||Ts(S,m),zi=(E=zi)||S.memoizedState!==null,Lr(f,m,S),zi=E;break;default:Lr(f,m,S)}}function Ap(f,m){if(Nr&&m.memoizedState===null&&(f=m.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{cT(f)}catch(S){ii(m,m.return,S)}}function e_(f){switch(f.tag){case 13:case 19:var m=f.stateNode;return m===null&&(m=f.stateNode=new ri),m;case 22:return f=f.stateNode,m=f._retryCache,m===null&&(m=f._retryCache=new ri),m;default:throw Error(s(435,f.tag))}}function tl(f,m){var S=e_(f);m.forEach(function(E){var D=Yl.bind(null,f,E);S.has(E)||(S.add(E),E.then(D,D))})}function is(f,m){var S=m.deletions;if(S!==null)for(var E=0;E<S.length;E++){var D=S[E],B=f,J=m;if(lr){var he=J;e:for(;he!==null;){switch(he.tag){case 27:case 5:tn=he.stateNode,Sn=!1;break e;case 3:tn=he.stateNode.containerInfo,Sn=!0;break e;case 4:tn=he.stateNode.containerInfo,Sn=!0;break e}he=he.return}if(tn===null)throw Error(s(160));Hl(B,J,D),tn=null,Sn=!1}else Hl(B,J,D);B=D.alternate,B!==null&&(B.return=null),D.return=null}if(m.subtreeFlags&13878)for(m=m.child;m!==null;)wx(m,f),m=m.sibling}function wx(f,m){var S=f.alternate,E=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:is(m,f),Cs(f),E&4&&(zl(3,f,f.return),Ld(3,f),zl(5,f,f.return));break;case 1:is(m,f),Cs(f),E&512&&(zi||S===null||Ts(S,S.return)),E&64&&Ro&&(f=f.updateQueue,f!==null&&(E=f.callbacks,E!==null&&(S=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=S===null?E:S.concat(E))));break;case 26:if(Xs){var D=Ni;is(m,f),Cs(f),E&512&&(zi||S===null||Ts(S,S.return)),E&4&&(E=S!==null?S.memoizedState:null,m=f.memoizedState,S===null?m===null?f.stateNode===null?f.stateNode=Qd(D,f.type,f.memoizedProps,f):Jd(D,f.type,f.stateNode):f.stateNode=P_(D,m,f.memoizedProps):E!==m?(E===null?S.stateNode!==null&&gu(S.stateNode):qc(E),m===null?Jd(D,f.type,f.stateNode):P_(D,m,f.memoizedProps)):m===null&&f.stateNode!==null&&_x(f,f.memoizedProps,S.memoizedProps));break}case 27:if(gi&&E&4&&f.alternate===null){D=f.stateNode;var B=f.memoizedProps;try{ec(D),F_(f.type,B,D,f)}catch(ht){ii(f,f.return,ht)}}case 5:if(is(m,f),Cs(f),E&512&&(zi||S===null||Ts(S,S.return)),lr){if(f.flags&32){m=f.stateNode;try{Wx(m)}catch(ht){ii(f,f.return,ht)}}E&4&&f.stateNode!=null&&(m=f.memoizedProps,_x(f,m,S!==null?S.memoizedProps:m)),E&1024&&(sy=!0)}break;case 6:if(is(m,f),Cs(f),E&4&&lr){if(f.stateNode===null)throw Error(s(162));E=f.memoizedProps,S=S!==null?S.memoizedProps:E,m=f.stateNode;try{m_(m,S,E)}catch(ht){ii(f,f.return,ht)}}break;case 3:if(Xs?(O_(),D=Ni,Ni=Qp(m.containerInfo),is(m,f),Ni=D):is(m,f),Cs(f),E&4){if(lr&&Nr&&S!==null&&S.memoizedState.isDehydrated)try{lT(m.containerInfo)}catch(ht){ii(f,f.return,ht)}if(Ta){E=m.containerInfo,S=m.pendingChildren;try{mu(E,S)}catch(ht){ii(f,f.return,ht)}}}sy&&(sy=!1,t_(f));break;case 4:Xs?(S=Ni,Ni=Qp(f.stateNode.containerInfo),is(m,f),Cs(f),Ni=S):(is(m,f),Cs(f)),E&4&&Ta&&Mp(f.stateNode,f,f.stateNode.pendingChildren);break;case 12:is(m,f),Cs(f);break;case 13:is(m,f),Cs(f),f.child.flags&8192&&f.memoizedState!==null!=(S!==null&&S.memoizedState!==null)&&(cs=Ca()),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,tl(f,E)));break;case 22:E&512&&(zi||S===null||Ts(S,S.return)),D=f.memoizedState!==null;var J=S!==null&&S.memoizedState!==null,he=Ro,Te=zi;if(Ro=he||D,zi=Te||J,is(m,f),zi=Te,Ro=he,Cs(f),m=f.stateNode,m._current=f,m._visibility&=-3,m._visibility|=m._pendingVisibility&2,E&8192&&(m._visibility=D?m._visibility&-2:m._visibility|1,D&&(m=Ro||zi,S===null||J||m||eu(f)),lr&&(f.memoizedProps===null||f.memoizedProps.mode!=="manual"))){e:if(S=null,lr)for(m=f;;){if(m.tag===5||Xs&&m.tag===26||gi&&m.tag===27){if(S===null){J=S=m;try{B=J.stateNode,D?__(B):j_(J.stateNode,J.memoizedProps)}catch(ht){ii(J,J.return,ht)}}}else if(m.tag===6){if(S===null){J=m;try{var Ge=J.stateNode;D?b_(Ge):aT(Ge,J.memoizedProps)}catch(ht){ii(J,J.return,ht)}}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===f)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break e;for(;m.sibling===null;){if(m.return===null||m.return===f)break e;S===m&&(S=null),m=m.return}S===m&&(S=null),m.sibling.return=m.return,m=m.sibling}}E&4&&(E=f.updateQueue,E!==null&&(S=E.retryQueue,S!==null&&(E.retryQueue=null,tl(f,S))));break;case 19:is(m,f),Cs(f),E&4&&(E=f.updateQueue,E!==null&&(f.updateQueue=null,tl(f,E)));break;case 21:break;default:is(m,f),Cs(f)}}function Cs(f){var m=f.flags;if(m&2){try{if(lr&&(!gi||f.tag!==27)){e:{for(var S=f.return;S!==null;){if(bx(S)){var E=S;break e}S=S.return}throw Error(s(160))}switch(E.tag){case 27:if(gi){var D=E.stateNode,B=Dd(f);el(f,B,D);break}case 5:var J=E.stateNode;E.flags&32&&(Wx(J),E.flags&=-33);var he=Dd(f);el(f,he,J);break;case 3:case 4:var Te=E.stateNode.containerInfo,Ge=Dd(f);jx(f,Ge,Te);break;default:throw Error(s(161))}}}catch(ht){ii(f,f.return,ht)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function t_(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var m=f;t_(m),m.tag===5&&m.flags&1024&&$p(m.stateNode),f=f.sibling}}function nl(f,m){if(m.subtreeFlags&8772)for(m=m.child;m!==null;)Ep(f,m.alternate,m),m=m.sibling}function eu(f){for(f=f.child;f!==null;){var m=f;switch(m.tag){case 0:case 11:case 14:case 15:zl(4,m,m.return),eu(m);break;case 1:Ts(m,m.return);var S=m.stateNode;typeof S.componentWillUnmount=="function"&&ws(m,m.return,S),eu(m);break;case 26:case 27:case 5:Ts(m,m.return),eu(m);break;case 22:Ts(m,m.return),m.memoizedState===null&&eu(m);break;default:eu(m)}f=f.sibling}}function il(f,m,S){for(S=S&&(m.subtreeFlags&8772)!==0,m=m.child;m!==null;){var E=m.alternate,D=f,B=m,J=B.flags;switch(B.tag){case 0:case 11:case 15:il(D,B,S),Ld(4,B);break;case 1:if(il(D,B,S),E=B,D=E.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(Ge){ii(E,E.return,Ge)}if(E=B,D=E.updateQueue,D!==null){var he=E.stateNode;try{var Te=D.shared.hiddenCallbacks;if(Te!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Te.length;D++)me(Te[D],he)}catch(Ge){ii(E,E.return,Ge)}}S&&J&64&&Jv(B),Wa(B,B.return);break;case 26:case 27:case 5:il(D,B,S),S&&E===null&&J&4&&vx(B),Wa(B,B.return);break;case 12:il(D,B,S);break;case 13:il(D,B,S),S&&J&4&&Ap(D,B);break;case 22:B.memoizedState===null&&il(D,B,S),Wa(B,B.return);break;default:il(D,B,S)}m=m.sibling}}function Rp(f,m){var S=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(S=f.memoizedState.cachePool.pool),f=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(f=m.memoizedState.cachePool.pool),f!==S&&(f!=null&&f.refCount++,S!=null&&Ad(S))}function Nd(f,m){f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Ad(f))}function yr(f,m,S,E){if(m.subtreeFlags&10256)for(m=m.child;m!==null;)Tx(f,m,S,E),m=m.sibling}function Tx(f,m,S,E){var D=m.flags;switch(m.tag){case 0:case 11:case 15:yr(f,m,S,E),D&2048&&Ld(9,m);break;case 3:yr(f,m,S,E),D&2048&&(f=null,m.alternate!==null&&(f=m.alternate.memoizedState.cache),m=m.memoizedState.cache,m!==f&&(m.refCount++,f!=null&&Ad(f)));break;case 12:if(D&2048){yr(f,m,S,E),f=m.stateNode;try{var B=m.memoizedProps,J=B.id,he=B.onPostCommit;typeof he=="function"&&he(J,m.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Te){ii(m,m.return,Te)}}else yr(f,m,S,E);break;case 23:break;case 22:B=m.stateNode,m.memoizedState!==null?B._visibility&4?yr(f,m,S,E):qr(f,m):B._visibility&4?yr(f,m,S,E):(B._visibility|=4,Dr(f,m,S,E,(m.subtreeFlags&10256)!==0)),D&2048&&Rp(m.alternate,m);break;case 24:yr(f,m,S,E),D&2048&&Nd(m.alternate,m);break;default:yr(f,m,S,E)}}function Dr(f,m,S,E,D){for(D=D&&(m.subtreeFlags&10256)!==0,m=m.child;m!==null;){var B=f,J=m,he=S,Te=E,Ge=J.flags;switch(J.tag){case 0:case 11:case 15:Dr(B,J,he,Te,D),Ld(8,J);break;case 23:break;case 22:var ht=J.stateNode;J.memoizedState!==null?ht._visibility&4?Dr(B,J,he,Te,D):qr(B,J):(ht._visibility|=4,Dr(B,J,he,Te,D)),D&&Ge&2048&&Rp(J.alternate,J);break;case 24:Dr(B,J,he,Te,D),D&&Ge&2048&&Nd(J.alternate,J);break;default:Dr(B,J,he,Te,D)}m=m.sibling}}function qr(f,m){if(m.subtreeFlags&10256)for(m=m.child;m!==null;){var S=f,E=m,D=E.flags;switch(E.tag){case 22:qr(S,E),D&2048&&Rp(E.alternate,E);break;case 24:qr(S,E),D&2048&&Nd(E.alternate,E);break;default:qr(S,E)}m=m.sibling}}function _a(f){if(f.subtreeFlags&ta)for(f=f.child;f!==null;)Lp(f),f=f.sibling}function Lp(f){switch(f.tag){case 26:_a(f),f.flags&ta&&(f.memoizedState!==null?I_(Ni,f.memoizedState,f.memoizedProps):as(f.type,f.memoizedProps));break;case 5:_a(f),f.flags&ta&&as(f.type,f.memoizedProps);break;case 3:case 4:if(Xs){var m=Ni;Ni=Qp(f.stateNode.containerInfo),_a(f),Ni=m}else _a(f);break;case 22:f.memoizedState===null&&(m=f.alternate,m!==null&&m.memoizedState!==null?(m=ta,ta=16777216,_a(f),ta=m):_a(f));break;default:_a(f)}}function Pd(f){var m=f.alternate;if(m!==null&&(f=m.child,f!==null)){m.child=null;do m=f.sibling,f.sibling=null,f=m;while(f!==null)}}function Vl(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var S=0;S<m.length;S++){var E=m[S];xn=E,Cx(E,f)}Pd(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)Dp(f),f=f.sibling}function Dp(f){switch(f.tag){case 0:case 11:case 15:Vl(f),f.flags&2048&&zl(9,f,f.return);break;case 3:Vl(f);break;case 12:Vl(f);break;case 22:var m=f.stateNode;f.memoizedState!==null&&m._visibility&4&&(f.return===null||f.return.tag!==13)?(m._visibility&=-5,rl(f)):Vl(f);break;default:Vl(f)}}function rl(f){var m=f.deletions;if((f.flags&16)!==0){if(m!==null)for(var S=0;S<m.length;S++){var E=m[S];xn=E,Cx(E,f)}Pd(f)}for(f=f.child;f!==null;){switch(m=f,m.tag){case 0:case 11:case 15:zl(8,m,m.return),rl(m);break;case 22:S=m.stateNode,S._visibility&4&&(S._visibility&=-5,rl(m));break;default:rl(m)}f=f.sibling}}function Cx(f,m){for(;xn!==null;){var S=xn;switch(S.tag){case 0:case 11:case 15:zl(8,S,m);break;case 23:case 22:if(S.memoizedState!==null&&S.memoizedState.cachePool!==null){var E=S.memoizedState.cachePool.pool;E!=null&&E.refCount++}break;case 24:Ad(S.memoizedState.cache)}if(E=S.child,E!==null)E.return=S,xn=E;else e:for(S=f;xn!==null;){E=xn;var D=E.sibling,B=E.return;if(Sx(E),E===S){xn=null;break e}if(D!==null){D.return=B,xn=D;break e}xn=B}}}function tu(f){var m=o_(f);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(s(364));return m}if(f=Vx(f),f===null)throw Error(s(362));return f.stateNode.current}function Gl(f,m){var S=f.tag;switch(m.$$typeof){case Tu:if(f.type===m.value)return!0;break;case Ra:e:{for(m=m.value,f=[f,0],S=0;S<f.length;){var E=f[S++],D=E.tag,B=f[S++],J=m[B];if(D!==5&&D!==26&&D!==27||!fu(E)){for(;J!=null&&Gl(E,J);)B++,J=m[B];if(B===m.length){m=!0;break e}else for(E=E.child;E!==null;)f.push(E,B),E=E.sibling}}m=!1}return m;case Ei:if((S===5||S===26||S===27)&&u_(f.stateNode,m.value))return!0;break;case Lo:if((S===5||S===6||S===26||S===27)&&(f=h_(f),f!==null&&0<=f.indexOf(m.value)))return!0;break;case io:if((S===5||S===26||S===27)&&(f=f.memoizedProps["data-testname"],typeof f=="string"&&f.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(s(365))}return!1}function Mx(f){switch(f.$$typeof){case Tu:return"<"+(o(f.value)||"Unknown")+">";case Ra:return":has("+(Mx(f)||"")+")";case Ei:return'[role="'+f.value+'"]';case Lo:return'"'+f.value+'"';case io:return'[data-testname="'+f.value+'"]';default:throw Error(s(365))}}function Ms(f,m){var S=[];f=[f,0];for(var E=0;E<f.length;){var D=f[E++],B=D.tag,J=f[E++],he=m[J];if(B!==5&&B!==26&&B!==27||!fu(D)){for(;he!=null&&Gl(D,he);)J++,he=m[J];if(J===m.length)S.push(D);else for(D=D.child;D!==null;)f.push(D,J),D=D.sibling}}return S}function Od(f,m){if(!Jl)throw Error(s(363));f=tu(f),f=Ms(f,m),m=[],f=Array.from(f);for(var S=0;S<f.length;){var E=f[S++],D=E.tag;if(D===5||D===26||D===27)fu(E)||m.push(E.stateNode);else for(E=E.child;E!==null;)f.push(E),E=E.sibling}return m}function Xi(){if(($n&2)!==0&&In!==0)return In&-In;if(cn.T!==null){var f=Zs;return f!==0?f:Ve()}return l_()}function Ex(){ra===0&&(ra=(In&536870912)===0||Vn?H():536870912);var f=Qs.current;return f!==null&&(f.flags|=32),ra}function vr(f,m,S){(f===si&&ui===2||f.cancelPendingCommit!==null)&&(kr(f,0),Es(f,In,ra,!1)),G(f,S),(($n&2)===0||f!==si)&&(f===si&&(($n&2)===0&&(yl|=S),vi===4&&Es(f,In,ra,!1)),tt(f))}function $l(f,m,S){if(($n&6)!==0)throw Error(s(327));var E=!S&&(m&60)===0&&(m&f.expiredLanes)===0||z(f,m),D=E?Rx(f,m):Np(f,m,!0),B=E;do{if(D===0){na&&!E&&Es(f,m,0,!1);break}else if(D===6)Es(f,m,0,!Da);else{if(S=f.current.alternate,B&&!nu(S)){D=Np(f,m,!1),B=!1;continue}if(D===2){if(B=m,f.errorRecoveryDisabledLanes&B)var J=0;else J=f.pendingLanes&-536870913,J=J!==0?J:J&536870912?536870912:0;if(J!==0){m=J;e:{var he=f;D=oh;var Te=Nr&&he.current.memoizedState.isDehydrated;if(Te&&(kr(he,J).flags|=256),J=Np(he,J,!1),J!==2){if(ur&&!Te){he.errorRecoveryDisabledLanes|=B,yl|=B,D=4;break e}B=Hi,Hi=D,B!==null&&Bd(B)}D=J}if(B=!1,D!==2)continue}}if(D===1){kr(f,0),Es(f,m,0,!0);break}e:{switch(E=f,D){case 0:case 1:throw Error(s(345));case 4:if((m&4194176)===m){Es(E,m,ra,!Da);break e}break;case 2:Hi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(E.finishedWork=S,E.finishedLanes=m,(m&62914560)===m&&(B=cs+300-Ca(),10<B)){if(Es(E,m,ra,!Da),I(E,0)!==0)break e;E.timeoutHandle=nr(kp.bind(null,E,S,Hi,of,cm,m,ra,yl,Do,Da,2,-0,0),B);break e}kp(E,S,Hi,of,cm,m,ra,yl,Do,Da,0,-0,0)}}break}while(!0);tt(f)}function Bd(f){Hi===null?Hi=f:Hi.push.apply(Hi,f)}function kp(f,m,S,E,D,B,J,he,Te,Ge,ht,wt,Mt){var yn=m.subtreeFlags;if((yn&8192||(yn&16785408)===16785408)&&(zx(),Lp(m),m=ir(),m!==null)){f.cancelPendingCommit=m(Wl.bind(null,f,S,E,D,J,he,Te,1,wt,Mt)),Es(f,B,J,!Ge);return}Wl(f,S,E,D,J,he,Te,ht,wt,Mt)}function nu(f){for(var m=f;;){var S=m.tag;if((S===0||S===11||S===15)&&m.flags&16384&&(S=m.updateQueue,S!==null&&(S=S.stores,S!==null)))for(var E=0;E<S.length;E++){var D=S[E],B=D.getSnapshot;D=D.value;try{if(!Rs(B(),D))return!1}catch{return!1}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Es(f,m,S,E){m&=~af,m&=~yl,f.suspendedLanes|=m,f.pingedLanes&=~m,E&&(f.warmLanes|=m),E=f.expirationTimes;for(var D=m;0<D;){var B=31-os(D),J=1<<B;E[B]=-1,D&=~J}S!==0&&Q(f,S,m)}function Id(){return($n&6)===0?(xt(0),!1):!0}function iu(){if(an!==null){if(ui===0)var f=an.return;else f=an,ea=no=null,at(f),sc=null,ac=0,f=an;for(;f!==null;)Qv(f.alternate,f),f=f.return;an=null}}function kr(f,m){f.finishedWork=null,f.finishedLanes=0;var S=f.timeoutHandle;S!==Zl&&(f.timeoutHandle=Zl,Vp(S)),S=f.cancelPendingCommit,S!==null&&(f.cancelPendingCommit=null,S()),iu(),si=f,an=S=ja(f.current,null),In=m,ui=0,Xr=null,Da=!1,na=z(f,m),ur=!1,Do=ra=af=yl=ia=vi=0,Hi=oh=null,cm=!1,(m&8)!==0&&(m|=m&32);var E=f.entangledLanes;if(E!==0)for(f=f.entanglements,E&=m;0<E;){var D=31-os(E),B=1<<D;m|=f[D],E&=~B}return Yr=m,ne(),S}function $s(f,m){Cn=null,cn.H=Ui,m===bu?(m=mt(),ui=3):m===rf?(m=mt(),ui=4):ui=m===om?8:m!==null&&typeof m=="object"&&typeof m.then=="function"?6:1,Xr=m,an===null&&(vi=1,Xh(f,le(m,f.current)))}function ql(){var f=Qs.current;return f===null?!0:(In&4194176)===In?xi===null:(In&62914560)===In||(In&536870912)!==0?f===xi:!1}function vo(){var f=cn.H;return cn.H=Ui,f===null?Ui:f}function _o(){var f=cn.A;return cn.A=wu,f}function sl(){vi=4,Da||(In&4194176)!==In&&Qs.current!==null||(na=!0),(ia&134217727)===0&&(yl&134217727)===0||si===null||Es(si,In,ra,!1)}function Np(f,m,S){var E=$n;$n|=2;var D=vo(),B=_o();(si!==f||In!==m)&&(of=null,kr(f,m)),m=!1;var J=vi;e:do try{if(ui!==0&&an!==null){var he=an,Te=Xr;switch(ui){case 8:iu(),J=6;break e;case 3:case 2:case 6:Qs.current===null&&(m=!0);var Ge=ui;if(ui=0,Xr=null,ba(f,he,Te,Ge),S&&na){J=0;break e}break;default:Ge=ui,ui=0,Xr=null,ba(f,he,Te,Ge)}}Ax(),J=vi;break}catch(ht){$s(f,ht)}while(!0);return m&&f.shellSuspendCounter++,ea=no=null,$n=E,cn.H=D,cn.A=B,an===null&&(si=null,In=0,ne()),J}function Ax(){for(;an!==null;)ki(an)}function Rx(f,m){var S=$n;$n|=2;var E=vo(),D=_o();si!==f||In!==m?(of=null,Cu=Ca()+500,kr(f,m)):na=z(f,m);e:do try{if(ui!==0&&an!==null){m=an;var B=Xr;t:switch(ui){case 1:ui=0,Xr=null,ba(f,m,B,1);break;case 2:if(jt(B)){ui=0,Xr=null,Wn(m);break}m=function(){ui===2&&si===f&&(ui=7),tt(f)},B.then(m,m);break e;case 3:ui=7;break e;case 4:ui=5;break e;case 7:jt(B)?(ui=0,Xr=null,Wn(m)):(ui=0,Xr=null,ba(f,m,B,7));break;case 5:var J=null;switch(an.tag){case 26:J=an.memoizedState;case 5:case 27:var he=an,Te=he.type,Ge=he.pendingProps;if(J?Wc(J):Gp(Te,Ge)){ui=0,Xr=null;var ht=he.sibling;if(ht!==null)an=ht;else{var wt=he.return;wt!==null?(an=wt,qs(wt)):an=null}break t}}ui=0,Xr=null,ba(f,m,B,5);break;case 6:ui=0,Xr=null,ba(f,m,B,6);break;case 8:iu(),vi=6;break e;default:throw Error(s(462))}}rs();break}catch(Mt){$s(f,Mt)}while(!0);return ea=no=null,cn.H=E,cn.A=D,$n=S,an!==null?0:(si=null,In=0,ne(),vi)}function rs(){for(;an!==null&&!H_();)ki(an)}function ki(f){var m=Yv(f.alternate,f,Yr);f.memoizedProps=f.pendingProps,m===null?qs(f):an=m}function Wn(f){var m=f,S=m.alternate;switch(m.tag){case 15:case 0:m=Vv(S,m,m.pendingProps,m.type,void 0,In);break;case 11:m=Vv(S,m,m.pendingProps,m.type.render,m.ref,In);break;case 5:at(m);default:Qv(S,m),m=an=Ud(m,Yr),m=Yv(S,m,Yr)}f.memoizedProps=f.pendingProps,m===null?qs(f):an=m}function ba(f,m,S,E){ea=no=null,at(m),sc=null,ac=0;var D=m.return;try{if(Jw(f,D,m,S,In)){vi=1,Xh(f,le(S,f.current)),an=null;return}}catch(B){if(D!==null)throw an=D,B;vi=1,Xh(f,le(S,f.current)),an=null;return}m.flags&32768?(Vn||E===1?f=!0:na||(In&536870912)!==0?f=!1:(Da=f=!0,(E===2||E===3||E===6)&&(E=Qs.current,E!==null&&E.tag===13&&(E.flags|=16384))),Pp(m,f)):qs(m)}function qs(f){var m=f;do{if((m.flags&32768)!==0){Pp(m,Da);return}f=m.return;var S=Zv(m.alternate,m,Yr);if(S!==null){an=S;return}if(m=m.sibling,m!==null){an=m;return}an=m=f}while(m!==null);vi===0&&(vi=5)}function Pp(f,m){do{var S=tT(f.alternate,f);if(S!==null){S.flags&=32767,an=S;return}if(S=f.return,S!==null&&(S.flags|=32768,S.subtreeFlags=0,S.deletions=null),!m&&(f=f.sibling,f!==null)){an=f;return}an=f=S}while(f!==null);vi=6,an=null}function Wl(f,m,S,E,D,B,J,he,Te,Ge){var ht=cn.T,wt=ul();try{Wr(2),cn.T=null,n_(f,m,S,E,wt,D,B,J,he,Te,Ge)}finally{cn.T=ht,Wr(wt)}}function n_(f,m,S,E,D,B,J,he){do Xa();while(ko!==null);if(($n&6)!==0)throw Error(s(327));var Te=f.finishedWork;if(E=f.finishedLanes,Te===null)return null;if(f.finishedWork=null,f.finishedLanes=0,Te===f.current)throw Error(s(177));f.callbackNode=null,f.callbackPriority=0,f.cancelPendingCommit=null;var Ge=Te.lanes|Te.childLanes;if(Ge|=eo,te(f,E,Ge,B,J,he),f===si&&(an=si=null,In=0),(Te.subtreeFlags&10256)===0&&(Te.flags&10256)===0||ro||(ro=!0,uc=Ge,hm=S,ol(im,function(){return Xa(),null})),S=(Te.flags&15990)!==0,(Te.subtreeFlags&15990)!==0||S?(S=cn.T,cn.T=null,B=ul(),Wr(2),J=$n,$n|=4,kd(f,Te),wx(Te,f),a_(f.containerInfo),f.current=Te,Ep(f,Te.alternate,Te),tm(),$n=J,Wr(B),cn.T=S):f.current=Te,ro?(ro=!1,ko=f,lh=E):Lx(f,Ge),Ge=f.pendingLanes,Ge===0&&(hc=null),O(Te.stateNode),tt(f),m!==null)for(D=f.onRecoverableError,Te=0;Te<m.length;Te++)Ge=m[Te],D(Ge.value,{componentStack:Ge.stack});return(lh&3)!==0&&Xa(),Ge=f.pendingLanes,(E&4194218)!==0&&(Ge&42)!==0?f===um?Mu++:(Mu=0,um=f):Mu=0,xt(0),null}function Lx(f,m){(f.pooledCacheLanes&=m)===0&&(m=f.pooledCache,m!=null&&(f.pooledCache=null,Ad(m)))}function Xa(){if(ko!==null){var f=ko,m=uc;uc=0;var S=ee(lh),E=32>S?32:S;S=cn.T;var D=ul();try{if(Wr(E),cn.T=null,ko===null)var B=!1;else{E=hm,hm=null;var J=ko,he=lh;if(ko=null,lh=0,($n&6)!==0)throw Error(s(331));var Te=$n;if($n|=4,Dp(J.current),Tx(J,J.current,he,E),$n=Te,xt(0,!1),As&&typeof As.onPostCommitFiberRoot=="function")try{As.onPostCommitFiberRoot(Zi,J)}catch{}B=!0}return B}finally{Wr(D),cn.T=S,Lx(f,m)}}return!1}function ru(f,m,S){m=le(S,m),m=Kh(f.stateNode,m,2),f=ft(f,m,2),f!==null&&(G(f,2),tt(f))}function ii(f,m,S){if(f.tag===3)ru(f,f,S);else for(;m!==null;){if(m.tag===3){ru(m,f,S);break}else if(m.tag===1){var E=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(hc===null||!hc.has(E))){f=le(S,f),S=hx(2),E=ft(m,S,2),E!==null&&(Iv(S,E,m,f),G(E,2),tt(E));break}}m=m.return}}function Gc(f,m,S){var E=f.pingCache;if(E===null){E=f.pingCache=new La;var D=new Set;E.set(m,D)}else D=E.get(m),D===void 0&&(D=new Set,E.set(m,D));D.has(S)||(ur=!0,D.add(S),f=Dx.bind(null,f,m,S),m.then(f,f))}function Dx(f,m,S){var E=f.pingCache;E!==null&&E.delete(m),f.pingedLanes|=f.suspendedLanes&S,f.warmLanes&=~S,si===f&&(In&S)===S&&(vi===4||vi===3&&(In&62914560)===In&&300>Ca()-cs?($n&2)===0&&kr(f,0):af|=S,Do===In&&(Do=0)),tt(f)}function Xl(f,m){m===0&&(m=P()),f=We(f,m),f!==null&&(G(f,m),tt(f))}function al(f){var m=f.memoizedState,S=0;m!==null&&(S=m.retryLane),Xl(f,S)}function Yl(f,m){var S=0;switch(f.tag){case 13:var E=f.stateNode,D=f.memoizedState;D!==null&&(S=D.retryLane);break;case 19:E=f.stateNode;break;case 22:E=f.stateNode._retryCache;break;default:throw Error(s(314))}E!==null&&E.delete(m),Xl(f,S)}function ol(f,m){return ef(f,m)}function kx(f,m,S,E){this.tag=f,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fd(f){return f=f.prototype,!(!f||!f.isReactComponent)}function ja(f,m){var S=f.alternate;return S===null?(S=i(f.tag,m,f.key,f.mode),S.elementType=f.elementType,S.type=f.type,S.stateNode=f.stateNode,S.alternate=f,f.alternate=S):(S.pendingProps=m,S.type=f.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=f.flags&31457280,S.childLanes=f.childLanes,S.lanes=f.lanes,S.child=f.child,S.memoizedProps=f.memoizedProps,S.memoizedState=f.memoizedState,S.updateQueue=f.updateQueue,m=f.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=f.sibling,S.index=f.index,S.ref=f.ref,S.refCleanup=f.refCleanup,S}function Ud(f,m){f.flags&=31457282;var S=f.alternate;return S===null?(f.childLanes=0,f.lanes=m,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=S.childLanes,f.lanes=S.lanes,f.child=S.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=S.memoizedProps,f.memoizedState=S.memoizedState,f.updateQueue=S.updateQueue,f.type=S.type,m=S.dependencies,f.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext}),f}function bo(f,m,S,E,D,B){var J=0;if(E=f,typeof f=="function")Fd(f)&&(J=1);else if(typeof f=="string")J=Xs&&gi?Zd(f,S,cr.current)?26:So(f)?27:5:Xs?Zd(f,S,cr.current)?26:5:gi&&So(f)?27:5;else e:switch(f){case Kl:return Fi(S.children,D,B,m);case Gd:J=8,D|=24;break;case Fp:return f=i(12,S,m,D|2),f.elementType=Fp,f.lanes=B,f;case Up:return f=i(13,S,m,D),f.elementType=Up,f.lanes=B,f;case lu:return f=i(19,S,m,D),f.elementType=lu,f.lanes=B,f;case Ox:return zd(S,D,B,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case $d:case Ya:J=10;break e;case Px:J=9;break e;case qd:J=11;break e;case zp:J=14;break e;case wa:J=16,E=null;break e}J=29,S=Error(s(130,f===null?"null":typeof f,"")),E=null}return m=i(J,S,m,D),m.elementType=f,m.type=E,m.lanes=B,m}function Fi(f,m,S,E){return f=i(7,f,E,m),f.lanes=S,f}function zd(f,m,S,E){f=i(22,f,E,m),f.elementType=Ox,f.lanes=S;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var B=D._current;if(B===null)throw Error(s(456));if((D._pendingVisibility&2)===0){var J=We(B,2);J!==null&&(D._pendingVisibility|=2,vr(J,B,2))}},attach:function(){var B=D._current;if(B===null)throw Error(s(456));if((D._pendingVisibility&2)!==0){var J=We(B,2);J!==null&&(D._pendingVisibility&=-3,vr(J,B,2))}}};return f.stateNode=D,f}function Op(f,m,S){return f=i(6,f,null,m),f.lanes=S,f}function Nx(f,m,S){return m=i(4,f.children!==null?f.children:[],f.key,m),m.lanes=S,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function nT(f,m,S,E,D,B,J,he){this.tag=1,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Zl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=N(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N(0),this.hiddenUpdates=N(null),this.identifierPrefix=E,this.onUncaughtError=D,this.onCaughtError=B,this.onRecoverableError=J,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function i_(f,m,S,E,D,B,J,he,Te,Ge,ht,wt){return f=new nT(f,m,S,J,he,Te,Ge,wt),m=1,B===!0&&(m|=24),B=i(3,null,null,m),f.current=B,B.stateNode=f,m=Ul(),m.refCount++,f.pooledCache=m,m.refCount++,B.memoizedState={element:E,isDehydrated:S,cache:m},Rt(B),f}function tr(f){return f?(f=nc,f):nc}function Bp(f){var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(s(188)):(f=Object.keys(f).join(","),Error(s(268,f)));return f=_(m),f=f!==null?j(f):null,f===null?null:uu(f.stateNode)}function su(f,m,S,E,D,B){D=tr(D),E.context===null?E.context=D:E.pendingContext=D,E=Xe(m),E.payload={element:S},B=B===void 0?null:B,B!==null&&(E.callback=B),S=ft(f,E,m),S!==null&&(vr(S,f,m),kt(S,f,m))}function au(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var S=f.retryLane;f.retryLane=S!==0&&S<m?S:m}}function Hd(f,m){au(f,m),(f=f.alternate)&&au(f,m)}var vn={},ou=Ug(),Ws=x0e(),Ip=Object.assign,iT=Symbol.for("react.element"),Vd=Symbol.for("react.transitional.element"),Sa=Symbol.for("react.portal"),Kl=Symbol.for("react.fragment"),Gd=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),$d=Symbol.for("react.provider"),Px=Symbol.for("react.consumer"),Ya=Symbol.for("react.context"),qd=Symbol.for("react.forward_ref"),Up=Symbol.for("react.suspense"),lu=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),wa=Symbol.for("react.lazy"),Ox=Symbol.for("react.offscreen"),r_=Symbol.for("react.memo_cache_sentinel"),ll=Symbol.iterator,Bx=Symbol.for("react.client.reference"),cn=ou.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,jo,cl,$c=!1,cu=Array.isArray,Ix=e.rendererVersion,Wd=e.rendererPackageName,hu=e.extraDevToolsConfig,uu=e.getPublicInstance,s_=e.getRootHostContext,du=e.getChildHostContext,Hp=e.prepareForCommit,a_=e.resetAfterCommit,Fx=e.createInstance,Xd=e.appendInitialChild,hl=e.finalizeInitialChildren,_n=e.shouldSetTextContent,li=e.createTextInstance,nr=e.scheduleTimeout,Vp=e.cancelTimeout,Zl=e.noTimeout,ss=e.isPrimaryRenderer;e.warnsIfNotActing;var lr=e.supportsMutation,Ta=e.supportsPersistence,Nr=e.supportsHydration,o_=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Yi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Wr=e.setCurrentUpdatePriority,ul=e.getCurrentUpdatePriority,l_=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var c_=e.shouldAttemptEagerTransition,rT=e.detachDeletedInstance;e.requestPostPaintCallback;var Ux=e.maySuspendCommit,Gp=e.preloadInstance,zx=e.startSuspendingCommit,as=e.suspendInstance,ir=e.waitForCommitToBeReady,Ql=e.NotPendingTransition,Ka=e.HostTransitionContext,$p=e.resetFormInstance;e.bindToConsole;var Hx=e.supportsMicrotasks,dl=e.scheduleMicrotask,Jl=e.supportsTestSelectors,Vx=e.findFiberRoot,Gx=e.getBoundingRect,h_=e.getTextContent,fu=e.isHiddenSubtree,u_=e.matchAccessibilityRole,d_=e.setFocusIfFocusable,f_=e.setupIntersectionObserver,p_=e.appendChild,$x=e.appendChildToContainer,m_=e.commitTextUpdate,sT=e.commitMount,g_=e.commitUpdate,x_=e.insertBefore,y_=e.insertInContainerBefore,qx=e.removeChild,v_=e.removeChildFromContainer,Wx=e.resetTextContent,__=e.hideInstance,b_=e.hideTextInstance,j_=e.unhideInstance,aT=e.unhideTextInstance,S_=e.clearContainer,pu=e.cloneInstance,Yd=e.createContainerChildSet,Xx=e.appendChildToContainerChildSet,qp=e.finalizeContainerChildren,mu=e.replaceContainerChildren,Yx=e.cloneHiddenInstance,Kx=e.cloneHiddenTextInstance,Wp=e.isSuspenseInstancePending,Xp=e.isSuspenseInstanceFallback,w_=e.getSuspenseInstanceFallbackErrorDetails,T_=e.registerSuspenseInstanceRetry,Zx=e.canHydrateFormStateMarker,C_=e.isFormStateMarkerMatching,Qx=e.getNextHydratableSibling,Yp=e.getFirstHydratableChild,M_=e.getFirstHydratableChildWithinContainer,E_=e.getFirstHydratableChildWithinSuspenseInstance,oT=e.canHydrateInstance,Jx=e.canHydrateTextInstance,A_=e.canHydrateSuspenseInstance,R_=e.hydrateInstance,ey=e.hydrateTextInstance,L_=e.hydrateSuspenseInstance,D_=e.getNextHydratableInstanceAfterSuspenseInstance,lT=e.commitHydratedContainer,cT=e.commitHydratedSuspenseInstance,k_=e.clearSuspenseBoundary,Kd=e.clearSuspenseBoundaryFromContainer,Kp=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var Zp=e.validateHydratableInstance,N_=e.validateHydratableTextInstance,Xs=e.supportsResources,Zd=e.isHostHoistableType,Qp=e.getHoistableRoot,ty=e.getResource,P_=e.acquireResource,qc=e.releaseResource,Qd=e.hydrateHoistable,Jd=e.mountHoistable,gu=e.unmountHoistable,Jp=e.createHoistableInstance,O_=e.prepareToCommitHoistables,B_=e.mayResourceSuspendCommit,Wc=e.preloadResource,I_=e.suspendResource,gi=e.supportsSingletons,Za=e.resolveSingletonInstance,ec=e.clearSingleton,F_=e.acquireSingletonInstance,tc=e.releaseSingletonInstance,So=e.isHostSingletonType,Ki=[],fl=-1,nc={},os=Math.clz32?Math.clz32:L,U_=Math.log,z_=Math.LN2,wo=128,Xc=4194304,ef=Ws.unstable_scheduleCallback,em=Ws.unstable_cancelCallback,H_=Ws.unstable_shouldYield,tm=Ws.unstable_requestPaint,Ca=Ws.unstable_now,nm=Ws.unstable_ImmediatePriority,V_=Ws.unstable_UserBlockingPriority,im=Ws.unstable_NormalPriority,hT=Ws.unstable_IdlePriority,G_=Ws.log,_r=Ws.unstable_setDisableYieldValue,Zi=null,As=null,Rs=typeof Object.is=="function"?Object.is:V,ny=new WeakMap,Yc=[],Kc=0,Zc=null,xu=0,Ys=[],Ks=0,ic=null,Qa=1,Ja="",cr=C(null),yu=C(null),To=C(null),Qc=C(null),Pr=null,Or=null,Vn=!1,Ma=null,br=!1,tf=Error(s(519)),Ea=[],Jc=0,eo=0,nf=null,pl=null,eh=!1,ji=!1,iy=!1,vu=0,_u=null,th=0,Zs=0,nh=null,ml=!1,ih=!1,Co=Object.prototype.hasOwnProperty,bu=Error(s(460)),rf=Error(s(474)),sf={then:function(){}},rc=null,sc=null,ac=0,oc=Bi(!0),Mo=Bi(!1),Si=C(null),ju=C(0),Qs=C(null),xi=null,hr=C(0),gl=0,Cn=null,sn=null,Gn=null,Aa=!1,rh=!1,lc=!1,rm=0,sh=0,jr=null,to=0,sm=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},Ui={readContext:Rr,use:Ae,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useLayoutEffect:kn,useInsertionEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useSyncExternalStore:kn,useId:kn};Ui.useCacheRefresh=kn,Ui.useMemoCache=kn,Ui.useHostTransitionStatus=kn,Ui.useFormState=kn,Ui.useActionState=kn,Ui.useOptimistic=kn;var cc={readContext:Rr,use:Ae,useCallback:function(f,m){return X().memoizedState=[f,m===void 0?null:m],f},useContext:Rr,useEffect:gp,useImperativeHandle:function(f,m,S){S=S!=null?S.concat([f]):null,xd(4194308,4,xp.bind(null,m,f),S)},useLayoutEffect:function(f,m){return xd(4194308,4,f,m)},useInsertionEffect:function(f,m){xd(4,2,f,m)},useMemo:function(f,m){var S=X();m=m===void 0?null:m;var E=f();if(lc){q(!0);try{f()}finally{q(!1)}}return S.memoizedState=[E,m],E},useReducer:function(f,m,S){var E=X();if(S!==void 0){var D=S(m);if(lc){q(!0);try{S(m)}finally{q(!1)}}}else D=m;return E.memoizedState=E.baseState=D,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:D},E.queue=f,f=f.dispatch=vp.bind(null,Cn,f),[E.memoizedState,f]},useRef:function(f){var m=X();return f={current:f},m.memoizedState=f},useState:function(f){f=Tn(f);var m=f.queue,S=cx.bind(null,Cn,m);return m.dispatch=S,[f.memoizedState,S]},useDebugValue:Pl,useDeferredValue:function(f,m){var S=X();return _d(S,f,m)},useTransition:function(){var f=Tn(!1);return f=Vh.bind(null,Cn,f.queue,!0,!1),X().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,m,S){var E=Cn,D=X();if(Vn){if(S===void 0)throw Error(s(407));S=S()}else{if(S=m(),si===null)throw Error(s(349));(In&60)!==0||Wt(E,m,S)}D.memoizedState=S;var B={value:S,getSnapshot:m};return D.queue=B,gp(jn.bind(null,E,B,f),[f]),E.flags|=2048,ts(9,Gt.bind(null,E,B,S,m),{destroy:void 0},null),S},useId:function(){var f=X(),m=si.identifierPrefix;if(Vn){var S=Ja,E=Qa;S=(E&~(1<<32-os(E)-1)).toString(32)+S,m=":"+m+"R"+S,S=rm++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=to++,m=":"+m+"r"+S.toString(32)+":";return f.memoizedState=m},useCacheRefresh:function(){return X().memoizedState=lx.bind(null,Cn)}};cc.useMemoCache=be,cc.useHostTransitionStatus=bd,cc.useFormState=hi,cc.useActionState=hi,cc.useOptimistic=function(f){var m=X();m.memoizedState=m.baseState=f;var S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return m.queue=S,m=$h.bind(null,Cn,!0,S),S.dispatch=m,[f,m]};var ls={readContext:Rr,use:Ae,useCallback:zc,useContext:Rr,useEffect:sx,useImperativeHandle:yp,useInsertionEffect:Ov,useLayoutEffect:vd,useMemo:ax,useReducer:pt,useRef:xo,useState:function(){return pt(Qe)},useDebugValue:Pl,useDeferredValue:function(f,m){var S=ue();return ox(S,sn.memoizedState,f,m)},useTransition:function(){var f=pt(Qe)[0],m=ue().memoizedState;return[typeof f=="boolean"?f:Ee(f),m]},useSyncExternalStore:Jt,useId:Gh};ls.useCacheRefresh=Ko,ls.useMemoCache=be,ls.useHostTransitionStatus=bd,ls.useFormState=Er,ls.useActionState=Er,ls.useOptimistic=function(f,m){var S=ue();return Jn(S,sn,f,m)};var Js={readContext:Rr,use:Ae,useCallback:zc,useContext:Rr,useEffect:sx,useImperativeHandle:yp,useInsertionEffect:Ov,useLayoutEffect:vd,useMemo:ax,useReducer:dt,useRef:xo,useState:function(){return dt(Qe)},useDebugValue:Pl,useDeferredValue:function(f,m){var S=ue();return sn===null?_d(S,f,m):ox(S,sn.memoizedState,f,m)},useTransition:function(){var f=dt(Qe)[0],m=ue().memoizedState;return[typeof f=="boolean"?f:Ee(f),m]},useSyncExternalStore:Jt,useId:Gh};Js.useCacheRefresh=Ko,Js.useMemoCache=be,Js.useHostTransitionStatus=bd,Js.useFormState=xr,Js.useActionState=xr,Js.useOptimistic=function(f,m){var S=ue();return sn!==null?Jn(S,sn,f,m):(S.baseState=f,[f,S.queue.dispatch])};var Eo={isMounted:function(f){return(f=f._reactInternals)?g(f)===f:!1},enqueueSetState:function(f,m,S){f=f._reactInternals;var E=Xi(),D=Xe(E);D.payload=m,S!=null&&(D.callback=S),m=ft(f,D,E),m!==null&&(vr(m,f,E),kt(m,f,E))},enqueueReplaceState:function(f,m,S){f=f._reactInternals;var E=Xi(),D=Xe(E);D.tag=1,D.payload=m,S!=null&&(D.callback=S),m=ft(f,D,E),m!==null&&(vr(m,f,E),kt(m,f,E))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var S=Xi(),E=Xe(S);E.tag=2,m!=null&&(E.callback=m),m=ft(f,E,S),m!==null&&(vr(m,f,S),kt(m,f,S))}},am=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var m=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(m))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},om=Error(s(461)),yi=!1,lm={dehydrated:null,treeContext:null,retryLane:0},xl=C(null),no=null,ea=null,Su=typeof AbortController<"u"?AbortController:function(){var f=[],m=this.signal={aborted:!1,addEventListener:function(S,E){f.push(E)}};this.abort=function(){m.aborted=!0,f.forEach(function(S){return S()})}},$_=Ws.unstable_scheduleCallback,q_=Ws.unstable_NormalPriority,wi={$$typeof:Ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},ry=cn.S;cn.S=function(f,m){typeof m=="object"&&m!==null&&typeof m.then=="function"&&Fe(f,m),ry!==null&&ry(f,m)};var Ao=C(null),Ro=!1,zi=!1,sy=!1,ri=typeof WeakSet=="function"?WeakSet:Set,xn=null,Nn=!1,tn=null,Sn=!1,Ni=null,ta=8192,wu={getCacheForType:function(f){var m=Rr(wi),S=m.data.get(f);return S===void 0&&(S=f(),m.data.set(f,S)),S}},Tu=0,Ra=1,Ei=2,io=3,Lo=4;if(typeof Symbol=="function"&&Symbol.for){var ah=Symbol.for;Tu=ah("selector.component"),Ra=ah("selector.has_pseudo_class"),Ei=ah("selector.role"),io=ah("selector.test_id"),Lo=ah("selector.text")}var La=typeof WeakMap=="function"?WeakMap:Map,$n=0,si=null,an=null,In=0,ui=0,Xr=null,Da=!1,na=!1,ur=!1,Yr=0,vi=0,ia=0,yl=0,af=0,ra=0,Do=0,oh=null,Hi=null,cm=!1,cs=0,Cu=1/0,of=null,hc=null,ro=!1,ko=null,lh=0,uc=0,hm=null,Mu=0,um=null;return vn.attemptContinuousHydration=function(f){if(f.tag===13){var m=We(f,67108864);m!==null&&vr(m,f,67108864),Hd(f,67108864)}},vn.attemptHydrationAtCurrentPriority=function(f){if(f.tag===13){var m=Xi(),S=We(f,m);S!==null&&vr(S,f,m),Hd(f,m)}},vn.attemptSynchronousHydration=function(f){switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=k(f.pendingLanes);if(m!==0){for(f.pendingLanes|=2,f.entangledLanes|=2;m;){var S=1<<31-os(m);f.entanglements[1]|=S,m&=~S}tt(f),($n&6)===0&&(Cu=Ca()+500,xt(0))}}break;case 13:m=We(f,2),m!==null&&vr(m,f,2),Id(),Hd(f,2)}},vn.batchedUpdates=function(f,m){return f(m)},vn.createComponentSelector=function(f){return{$$typeof:Tu,value:f}},vn.createContainer=function(f,m,S,E,D,B,J,he,Te,Ge){return i_(f,m,!1,null,S,E,B,J,he,Te,Ge,null)},vn.createHasPseudoClassSelector=function(f){return{$$typeof:Ra,value:f}},vn.createHydrationContainer=function(f,m,S,E,D,B,J,he,Te,Ge,ht,wt,Mt){return f=i_(S,E,!0,f,D,B,he,Te,Ge,ht,wt,Mt),f.context=tr(null),S=f.current,E=Xi(),D=Xe(E),D.callback=m??null,ft(S,D,E),f.current.lanes=E,G(f,E),tt(f),f},vn.createPortal=function(f,m,S){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sa,key:E==null?null:""+E,children:f,containerInfo:m,implementation:S}},vn.createRoleSelector=function(f){return{$$typeof:Ei,value:f}},vn.createTestNameSelector=function(f){return{$$typeof:io,value:f}},vn.createTextSelector=function(f){return{$$typeof:Lo,value:f}},vn.defaultOnCaughtError=function(f){console.error(f)},vn.defaultOnRecoverableError=function(f){am(f)},vn.defaultOnUncaughtError=function(f){am(f)},vn.deferredUpdates=function(f){var m=cn.T,S=ul();try{return Wr(32),cn.T=null,f()}finally{Wr(S),cn.T=m}},vn.discreteUpdates=function(f,m,S,E,D){var B=cn.T,J=ul();try{return Wr(2),cn.T=null,f(m,S,E,D)}finally{Wr(J),cn.T=B,$n===0&&(Cu=Ca()+500)}},vn.findAllNodes=Od,vn.findBoundingRects=function(f,m){if(!Jl)throw Error(s(363));m=Od(f,m),f=[];for(var S=0;S<m.length;S++)f.push(Gx(m[S]));for(m=f.length-1;0<m;m--){S=f[m];for(var E=S.x,D=E+S.width,B=S.y,J=B+S.height,he=m-1;0<=he;he--)if(m!==he){var Te=f[he],Ge=Te.x,ht=Ge+Te.width,wt=Te.y,Mt=wt+Te.height;if(E>=Ge&&B>=wt&&D<=ht&&J<=Mt){f.splice(m,1);break}else if(E!==Ge||S.width!==Te.width||Mt<B||wt>J){if(!(B!==wt||S.height!==Te.height||ht<E||Ge>D)){Ge>E&&(Te.width+=Ge-E,Te.x=E),ht<D&&(Te.width=D-Ge),f.splice(m,1);break}}else{wt>B&&(Te.height+=wt-B,Te.y=B),Mt<J&&(Te.height=J-wt),f.splice(m,1);break}}}return f},vn.findHostInstance=Bp,vn.findHostInstanceWithNoPortals=function(f){return f=_(f),f=f!==null?T(f):null,f===null?null:uu(f.stateNode)},vn.findHostInstanceWithWarning=function(f){return Bp(f)},vn.flushPassiveEffects=Xa,vn.flushSyncFromReconciler=function(f){var m=$n;$n|=1;var S=cn.T,E=ul();try{if(Wr(2),cn.T=null,f)return f()}finally{Wr(E),cn.T=S,$n=m,($n&6)===0&&xt(0)}},vn.flushSyncWork=Id,vn.focusWithin=function(f,m){if(!Jl)throw Error(s(363));for(f=tu(f),m=Ms(f,m),m=Array.from(m),f=0;f<m.length;){var S=m[f++],E=S.tag;if(!fu(S)){if((E===5||E===26||E===27)&&d_(S.stateNode))return!0;for(S=S.child;S!==null;)m.push(S),S=S.sibling}}return!1},vn.getFindAllNodesFailureDescription=function(f,m){if(!Jl)throw Error(s(363));var S=0,E=[];f=[tu(f),0];for(var D=0;D<f.length;){var B=f[D++],J=B.tag,he=f[D++],Te=m[he];if((J!==5&&J!==26&&J!==27||!fu(B))&&(Gl(B,Te)&&(E.push(Mx(Te)),he++,he>S&&(S=he)),he<m.length))for(B=B.child;B!==null;)f.push(B,he),B=B.sibling}if(S<m.length){for(f=[];S<m.length;S++)f.push(Mx(m[S]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+f.join(" > ")}return null},vn.getPublicRootInstance=function(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 27:case 5:return uu(f.child.stateNode);default:return f.child.stateNode}},vn.injectIntoDevTools=function(){var f={bundleType:0,version:Ix,rendererPackageName:Wd,currentDispatcherRef:cn,findFiberByHostInstance:o_,reconcilerVersion:"19.0.0"};if(hu!==null&&(f.rendererConfig=hu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")f=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)f=!0;else{try{Zi=m.inject(f),As=m}catch{}f=!!m.checkDCE}}return f},vn.isAlreadyRendering=function(){return!1},vn.observeVisibleRects=function(f,m,S,E){if(!Jl)throw Error(s(363));f=Od(f,m);var D=f_(f,S,E).disconnect;return{disconnect:function(){D()}}},vn.shouldError=function(){return null},vn.shouldSuspend=function(){return!1},vn.startHostTransition=function(f,m,S,E){if(f.tag!==5)throw Error(s(476));var D=yo(f).queue;Vh(f,D,m,Ql,S===null?r:function(){var B=yo(f).next.queue;return Ol(f,B,{},Xi()),S(E)})},vn.updateContainer=function(f,m,S,E){var D=m.current,B=Xi();return su(D,B,f,m,S,E),B},vn.updateContainerSync=function(f,m,S,E){return m.tag===0&&Xa(),su(m.current,2,f,m,S,E),2},vn},t.exports.default=t.exports,Object.defineProperty(t.exports,"__esModule",{value:!0})}(jC)),jC.exports}var F3;function v0e(){return F3||(F3=1,bC.exports=y0e()),bC.exports}var _0e=v0e();const b0e=hv(_0e);var TC={exports:{}},CC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U3;function j0e(){return U3||(U3=1,function(t){function e(O,q){var V=O.length;O.push(q);e:for(;0<V;){var le=V-1>>>1,W=O[le];if(0<s(W,q))O[le]=q,O[V]=W,V=le;else break e}}function i(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var q=O[0],V=O.pop();if(V!==q){O[0]=V;e:for(var le=0,W=O.length,re=W>>>1;le<re;){var de=2*(le+1)-1,fe=O[de],ae=de+1,pe=O[ae];if(0>s(fe,V))ae<W&&0>s(pe,fe)?(O[le]=pe,O[ae]=V,le=ae):(O[le]=fe,O[de]=V,le=de);else if(ae<W&&0>s(pe,V))O[le]=pe,O[ae]=V,le=ae;else break e}}return q}function s(O,q){var V=O.sortIndex-q.sortIndex;return V!==0?V:O.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var h=[],d=[],p=1,g=null,v=3,_=!1,j=!1,T=!1,C=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function L(O){for(var q=i(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=O)r(d),q.sortIndex=q.expirationTime,e(h,q);else break;q=i(d)}}function k(O){if(T=!1,L(O),!j)if(i(h)!==null)j=!0,K();else{var q=i(d);q!==null&&ee(k,q.startTime-O)}}var I=!1,z=-1,U=5,H=-1;function P(){return!(t.unstable_now()-H<U)}function N(){if(I){var O=t.unstable_now();H=O;var q=!0;try{e:{j=!1,T&&(T=!1,w(z),z=-1),_=!0;var V=v;try{t:{for(L(O),g=i(h);g!==null&&!(g.expirationTime>O&&P());){var le=g.callback;if(typeof le=="function"){g.callback=null,v=g.priorityLevel;var W=le(g.expirationTime<=O);if(O=t.unstable_now(),typeof W=="function"){g.callback=W,L(O),q=!0;break t}g===i(h)&&r(h),L(O)}else r(h);g=i(h)}if(g!==null)q=!0;else{var re=i(d);re!==null&&ee(k,re.startTime-O),q=!1}}break e}finally{g=null,v=V,_=!1}q=void 0}}finally{q?G():I=!1}}}var G;if(typeof A=="function")G=function(){A(N)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,Q=te.port2;te.port1.onmessage=N,G=function(){Q.postMessage(null)}}else G=function(){C(N,0)};function K(){I||(I=!0,G())}function ee(O,q){z=C(function(){O(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){j||_||(j=!0,K())},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return i(h)},t.unstable_next=function(O){switch(v){case 1:case 2:case 3:var q=3;break;default:q=v}var V=v;v=q;try{return O()}finally{v=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var V=v;v=O;try{return q()}finally{v=V}},t.unstable_scheduleCallback=function(O,q,V){var le=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?le+V:le):V=le,O){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,O={id:p++,callback:q,priorityLevel:O,startTime:V,expirationTime:W,sortIndex:-1},V>le?(O.sortIndex=V,e(d,O),i(h)===null&&O===i(d)&&(T?(w(z),z=-1):T=!0,ee(k,V-le))):(O.sortIndex=W,e(h,O),j||_||(j=!0,K())),O},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(O){var q=v;return function(){var V=v;v=q;try{return O.apply(this,arguments)}finally{v=V}}}}(CC)),CC}var z3;function S0e(){return z3||(z3=1,TC.exports=j0e()),TC.exports}var H3=S0e();const w0e=t=>typeof t=="object"&&typeof t.then=="function",Vf=[];function aG(t,e,i=(r,s)=>r===s){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let s=0;s<r;s++)if(!i(t[s],e[s]))return!1;return!0}function oG(t,e=null,i=!1,r={}){e===null&&(e=[t]);for(const a of Vf)if(aG(e,a.keys,a.equal)){if(i)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!i)throw a.promise}const s={keys:e,equal:r.equal,remove:()=>{const a=Vf.indexOf(s);a!==-1&&Vf.splice(a,1)},promise:(w0e(t)?t:t(...e)).then(a=>{s.response=a,r.lifespan&&r.lifespan>0&&(s.timeout=setTimeout(s.remove,r.lifespan))}).catch(a=>s.error=a)};if(Vf.push(s),!i)throw s.promise}const T0e=(t,e,i)=>oG(t,e,!1,i),C0e=(t,e,i)=>void oG(t,e,!0,i),M0e=t=>{if(t===void 0||t.length===0)Vf.splice(0,Vf.length);else{const e=Vf.find(i=>aG(t,i.keys,i.equal));e&&e.remove()}};function DR(t,e,i){if(!t)return;if(i(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const s=DR(r,e,i);if(s)return s;r=e?null:r.sibling}}function lG(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const kR=lG(ze.createContext(null));class cG extends ze.Component{render(){return ze.createElement(kR.Provider,{value:this._reactInternals},this.props.children)}}function hG(){const t=ze.useContext(kR);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=ze.useId();return ze.useMemo(()=>{for(const i of[t,t?.alternate]){if(!i)continue;const r=DR(i,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(r)return r}},[t,e])}const E0e=Symbol.for("react.context"),A0e=t=>t!==null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===E0e;function R0e(){const t=hG(),[e]=ze.useState(()=>new Map);e.clear();let i=t;for(;i;){const r=i.type;A0e(r)&&r!==kR&&!e.has(r)&&e.set(r,ze.use(lG(r))),i=i.return}return e}function L0e(){const t=R0e();return ze.useMemo(()=>Array.from(t.keys()).reduce((e,i)=>r=>ze.createElement(e,null,ze.createElement(i.Provider,{...r,value:t.get(i)})),e=>ze.createElement(cG,{...e})),[t])}function uG(t){let e=t.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const dG=t=>t&&t.isOrthographicCamera,D0e=t=>t&&t.hasOwnProperty("current"),k0e=t=>t!=null&&(typeof t=="string"||typeof t=="number"||t.isColor),Pv=((t,e)=>typeof window<"u"&&(((t=window.document)==null?void 0:t.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?ze.useLayoutEffect:ze.useEffect;function fG(t){const e=ze.useRef(t);return Pv(()=>void(e.current=t),[t]),e}function N0e(){const t=hG(),e=L0e();return ze.useMemo(()=>({children:i})=>{const s=!!DR(t,!0,a=>a.type===ze.StrictMode)?ze.StrictMode:ze.Fragment;return n.jsx(s,{children:n.jsx(e,{children:i})})},[t,e])}function P0e({set:t}){return Pv(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}const O0e=(t=>(t=class extends ze.Component{constructor(...i){super(...i),this.state={error:!1}}componentDidCatch(i){this.props.set(i)}render(){return this.state.error?null:this.props.children}},t.getDerivedStateFromError=()=>({error:!0}),t))();function pG(t){var e;const i=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],i),t[1]):t}function Fm(t){var e;return(e=t.__r3f)==null?void 0:e.root.getState()}const $i={obj:t=>t===Object(t)&&!$i.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,nul:t=>t===null,arr:t=>Array.isArray(t),equ(t,e,{arrays:i="shallow",objects:r="reference",strict:s=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if($i.str(t)||$i.num(t)||$i.boo(t))return t===e;const a=$i.obj(t);if(a&&r==="reference")return t===e;const o=$i.arr(t);if(o&&i==="reference")return t===e;if((o||a)&&t===e)return!0;let l;for(l in t)if(!(l in e))return!1;if(a&&i==="shallow"&&r==="shallow"){for(l in s?e:t)if(!$i.equ(t[l],e[l],{strict:s,objects:"reference"}))return!1}else for(l in s?e:t)if(t[l]!==e[l])return!1;if($i.und(l)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function B0e(t){const e={nodes:{},materials:{},meshes:{}};return t&&t.traverse(i=>{i.name&&(e.nodes[i.name]=i),i.material&&!e.materials[i.material.name]&&(e.materials[i.material.name]=i.material),i.isMesh&&!e.meshes[i.name]&&(e.meshes[i.name]=i)}),e}function I0e(t){t.type!=="Scene"&&(t.dispose==null||t.dispose());for(const e in t){const i=t[e];i?.type!=="Scene"&&(i==null||i.dispose==null||i.dispose())}}const mG=["children","key","ref"];function F0e(t){const e={};for(const i in t)mG.includes(i)||(e[i]=t[i]);return e}function L1(t,e,i,r){const s=t;let a=s?.__r3f;return a||(a={root:e,type:i,parent:null,children:[],props:F0e(r),object:s,eventCount:0,handlers:{},isHidden:!1},s&&(s.__r3f=a)),a}function cv(t,e){let i=t[e];if(!e.includes("-"))return{root:t,key:e,target:i};i=t;for(const s of e.split("-")){var r;e=s,t=i,i=(r=i)==null?void 0:r[e]}return{root:t,key:e,target:i}}const V3=/-\d+$/;function D1(t,e){if($i.str(e.props.attach)){if(V3.test(e.props.attach)){const s=e.props.attach.replace(V3,""),{root:a,key:o}=cv(t.object,s);Array.isArray(a[o])||(a[o]=[])}const{root:i,key:r}=cv(t.object,e.props.attach);e.previousAttach=i[r],i[r]=e.object}else $i.fun(e.props.attach)&&(e.previousAttach=e.props.attach(t.object,e.object))}function k1(t,e){if($i.str(e.props.attach)){const{root:i,key:r}=cv(t.object,e.props.attach),s=e.previousAttach;s===void 0?delete i[r]:i[r]=s}else e.previousAttach==null||e.previousAttach(t.object,e.object);delete e.previousAttach}const yE=[...mG,"args","dispose","attach","object","onUpdate","dispose"],G3=new Map;function U0e(t){let e=G3.get(t.constructor);try{e||(e=new t.constructor,G3.set(t.constructor,e))}catch{}return e}function z0e(t,e){const i={};for(const r in e)if(!yE.includes(r)&&!$i.equ(e[r],t.props[r])){i[r]=e[r];for(const s in e)s.startsWith(`${r}-`)&&(i[s]=e[s])}for(const r in t.props){if(yE.includes(r)||e.hasOwnProperty(r))continue;const{root:s,key:a}=cv(t.object,r);if(s.constructor&&s.constructor.length===0){const o=U0e(s);$i.und(o)||(i[a]=o[a])}else i[a]=0}return i}const H0e=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],V0e=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Zu(t,e){var i;const r=t.__r3f,s=r&&uG(r).getState(),a=r?.eventCount;for(const l in e){let h=e[l];if(yE.includes(l))continue;if(r&&V0e.test(l)){typeof h=="function"?r.handlers[l]=h:delete r.handlers[l],r.eventCount=Object.keys(r.handlers).length;continue}if(h===void 0)continue;let{root:d,key:p,target:g}=cv(t,l);if(g instanceof Pg&&h instanceof Pg)g.mask=h.mask;else if(g instanceof Dt&&k0e(h))g.set(h);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof g.copy=="function"&&h!=null&&h.constructor&&g.constructor===h.constructor)g.copy(h);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&Array.isArray(h))typeof g.fromArray=="function"?g.fromArray(h):g.set(...h);else if(g!==null&&typeof g=="object"&&typeof g.set=="function"&&typeof h=="number")typeof g.setScalar=="function"?g.setScalar(h):g.set(h);else{var o;d[p]=h,s&&!s.linear&&H0e.includes(p)&&(o=d[p])!=null&&o.isTexture&&d[p].format===Fs&&d[p].type===Xo&&(d[p].colorSpace=Bs)}}if(r!=null&&r.parent&&s!=null&&s.internal&&(i=r.object)!=null&&i.isObject3D&&a!==r.eventCount){const l=r.object,h=s.internal.interaction.indexOf(l);h>-1&&s.internal.interaction.splice(h,1),r.eventCount&&l.raycast!==null&&s.internal.interaction.push(l)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&rx(r),t}function rx(t){var e;if(!t.parent)return;t.props.onUpdate==null||t.props.onUpdate(t.object);const i=(e=t.root)==null||e.getState==null?void 0:e.getState();i&&i.internal.frames===0&&i.invalidate()}function G0e(t,e){t.manual||(dG(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix())}const ca=t=>t?.isObject3D;function yj(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function gG(t,e,i,r){const s=i.get(e);s&&(i.delete(e),i.size===0&&(t.delete(r),s.target.releasePointerCapture(r)))}function $0e(t,e){const{internal:i}=t.getState();i.interaction=i.interaction.filter(r=>r!==e),i.initialHits=i.initialHits.filter(r=>r!==e),i.hovered.forEach((r,s)=>{(r.eventObject===e||r.object===e)&&i.hovered.delete(s)}),i.capturedMap.forEach((r,s)=>{gG(i.capturedMap,e,r,s)})}function q0e(t){function e(h){const{internal:d}=t.getState(),p=h.offsetX-d.initialClick[0],g=h.offsetY-d.initialClick[1];return Math.round(Math.sqrt(p*p+g*g))}function i(h){return h.filter(d=>["Move","Over","Enter","Out","Leave"].some(p=>{var g;return(g=d.__r3f)==null?void 0:g.handlers["onPointer"+p]}))}function r(h,d){const p=t.getState(),g=new Set,v=[],_=d?d(p.internal.interaction):p.internal.interaction;for(let w=0;w<_.length;w++){const A=Fm(_[w]);A&&(A.raycaster.camera=void 0)}p.previousRoot||p.events.compute==null||p.events.compute(h,p);function j(w){const A=Fm(w);if(!A||!A.events.enabled||A.raycaster.camera===null)return[];if(A.raycaster.camera===void 0){var L;A.events.compute==null||A.events.compute(h,A,(L=A.previousRoot)==null?void 0:L.getState()),A.raycaster.camera===void 0&&(A.raycaster.camera=null)}return A.raycaster.camera?A.raycaster.intersectObject(w,!0):[]}let T=_.flatMap(j).sort((w,A)=>{const L=Fm(w.object),k=Fm(A.object);return!L||!k?w.distance-A.distance:k.events.priority-L.events.priority||w.distance-A.distance}).filter(w=>{const A=yj(w);return g.has(A)?!1:(g.add(A),!0)});p.events.filter&&(T=p.events.filter(T,p));for(const w of T){let A=w.object;for(;A;){var C;(C=A.__r3f)!=null&&C.eventCount&&v.push({...w,eventObject:A}),A=A.parent}}if("pointerId"in h&&p.internal.capturedMap.has(h.pointerId))for(let w of p.internal.capturedMap.get(h.pointerId).values())g.has(yj(w.intersection))||v.push(w.intersection);return v}function s(h,d,p,g){if(h.length){const v={stopped:!1};for(const _ of h){let j=Fm(_.object);if(j||_.object.traverseAncestors(T=>{const C=Fm(T);if(C)return j=C,!1}),j){const{raycaster:T,pointer:C,camera:w,internal:A}=j,L=new oe(C.x,C.y,0).unproject(w),k=P=>{var N,G;return(N=(G=A.capturedMap.get(P))==null?void 0:G.has(_.eventObject))!=null?N:!1},I=P=>{const N={intersection:_,target:d.target};A.capturedMap.has(P)?A.capturedMap.get(P).set(_.eventObject,N):A.capturedMap.set(P,new Map([[_.eventObject,N]])),d.target.setPointerCapture(P)},z=P=>{const N=A.capturedMap.get(P);N&&gG(A.capturedMap,_.eventObject,N,P)};let U={};for(let P in d){let N=d[P];typeof N!="function"&&(U[P]=N)}let H={..._,...U,pointer:C,intersections:h,stopped:v.stopped,delta:p,unprojectedPoint:L,ray:T.ray,camera:w,stopPropagation(){const P="pointerId"in d&&A.capturedMap.get(d.pointerId);if((!P||P.has(_.eventObject))&&(H.stopped=v.stopped=!0,A.hovered.size&&Array.from(A.hovered.values()).find(N=>N.eventObject===_.eventObject))){const N=h.slice(0,h.indexOf(_));a([...N,_])}},target:{hasPointerCapture:k,setPointerCapture:I,releasePointerCapture:z},currentTarget:{hasPointerCapture:k,setPointerCapture:I,releasePointerCapture:z},nativeEvent:d};if(g(H),v.stopped===!0)break}}}return h}function a(h){const{internal:d}=t.getState();for(const p of d.hovered.values())if(!h.length||!h.find(g=>g.object===p.object&&g.index===p.index&&g.instanceId===p.instanceId)){const v=p.eventObject.__r3f;if(d.hovered.delete(yj(p)),v!=null&&v.eventCount){const _=v.handlers,j={...p,intersections:h};_.onPointerOut==null||_.onPointerOut(j),_.onPointerLeave==null||_.onPointerLeave(j)}}}function o(h,d){for(let p=0;p<d.length;p++){const g=d[p].__r3f;g==null||g.handlers.onPointerMissed==null||g.handlers.onPointerMissed(h)}}function l(h){switch(h){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return d=>{const{internal:p}=t.getState();"pointerId"in d&&p.capturedMap.has(d.pointerId)&&requestAnimationFrame(()=>{p.capturedMap.has(d.pointerId)&&(p.capturedMap.delete(d.pointerId),a([]))})}}return function(p){const{onPointerMissed:g,internal:v}=t.getState();v.lastEvent.current=p;const _=h==="onPointerMove",j=h==="onClick"||h==="onContextMenu"||h==="onDoubleClick",C=r(p,_?i:void 0),w=j?e(p):0;h==="onPointerDown"&&(v.initialClick=[p.offsetX,p.offsetY],v.initialHits=C.map(L=>L.eventObject)),j&&!C.length&&w<=2&&(o(p,v.interaction),g&&g(p)),_&&a(C);function A(L){const k=L.eventObject,I=k.__r3f;if(!(I!=null&&I.eventCount))return;const z=I.handlers;if(_){if(z.onPointerOver||z.onPointerEnter||z.onPointerOut||z.onPointerLeave){const U=yj(L),H=v.hovered.get(U);H?H.stopped&&L.stopPropagation():(v.hovered.set(U,L),z.onPointerOver==null||z.onPointerOver(L),z.onPointerEnter==null||z.onPointerEnter(L))}z.onPointerMove==null||z.onPointerMove(L)}else{const U=z[h];U?(!j||v.initialHits.includes(k))&&(o(p,v.interaction.filter(H=>!v.initialHits.includes(H))),U(L)):j&&v.initialHits.includes(k)&&o(p,v.interaction.filter(H=>!v.initialHits.includes(H)))}}s(C,p,w,A)}}return{handlePointer:l}}const $3=t=>!!(t!=null&&t.render),xG=ze.createContext(null),W0e=(t,e)=>{const i=m0e((l,h)=>{const d=new oe,p=new oe,g=new oe;function v(w=h().camera,A=p,L=h().size){const{width:k,height:I,top:z,left:U}=L,H=k/I;A.isVector3?g.copy(A):g.set(...A);const P=w.getWorldPosition(d).distanceTo(g);if(dG(w))return{width:k/w.zoom,height:I/w.zoom,top:z,left:U,factor:1,distance:P,aspect:H};{const N=w.fov*Math.PI/180,G=2*Math.tan(N/2)*P,te=G*(k/I);return{width:te,height:G,top:z,left:U,factor:k/te,distance:P,aspect:H}}}let _;const j=w=>l(A=>({performance:{...A.performance,current:w}})),T=new it;return{set:l,get:h,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(w=1)=>t(h(),w),advance:(w,A)=>e(w,A,h()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new CR,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const w=h();_&&clearTimeout(_),w.performance.current!==w.performance.min&&j(w.performance.min),_=setTimeout(()=>j(h().performance.max),w.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:v},setEvents:w=>l(A=>({...A,events:{...A.events,...w}})),setSize:(w,A,L=0,k=0)=>{const I=h().camera,z={width:w,height:A,top:L,left:k};l(U=>({size:z,viewport:{...U.viewport,...v(I,p,z)}}))},setDpr:w=>l(A=>{const L=pG(w);return{viewport:{...A.viewport,dpr:L,initialDpr:A.viewport.initialDpr||L}}}),setFrameloop:(w="always")=>{const A=h().clock;A.stop(),A.elapsedTime=0,w!=="never"&&(A.start(),A.elapsedTime=0),l(()=>({frameloop:w}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:ze.createRef(),active:!1,frames:0,priority:0,subscribe:(w,A,L)=>{const k=h().internal;return k.priority=k.priority+(A>0?1:0),k.subscribers.push({ref:w,priority:A,store:L}),k.subscribers=k.subscribers.sort((I,z)=>I.priority-z.priority),()=>{const I=h().internal;I!=null&&I.subscribers&&(I.priority=I.priority-(A>0?1:0),I.subscribers=I.subscribers.filter(z=>z.ref!==w))}}}}}),r=i.getState();let s=r.size,a=r.viewport.dpr,o=r.camera;return i.subscribe(()=>{const{camera:l,size:h,viewport:d,gl:p,set:g}=i.getState();if(h.width!==s.width||h.height!==s.height||d.dpr!==a){s=h,a=d.dpr,G0e(l,h),d.dpr>0&&p.setPixelRatio(d.dpr);const v=typeof HTMLCanvasElement<"u"&&p.domElement instanceof HTMLCanvasElement;p.setSize(h.width,h.height,v)}l!==o&&(o=l,g(v=>({viewport:{...v.viewport,...v.viewport.getCurrentViewport(l)}})))}),i.subscribe(l=>t(l)),i};function yG(){const t=ze.useContext(xG);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function X0e(t=i=>i,e){return yG()(t,e)}function vG(t,e=0){const i=yG(),r=i.getState().internal.subscribe,s=fG(t);return Pv(()=>r(s,e,i),[e,r,i]),null}const q3=new WeakMap,Y0e=t=>{var e;return typeof t=="function"&&(t==null||(e=t.prototype)==null?void 0:e.constructor)===t};function _G(t,e){return function(i,...r){let s;return Y0e(i)?(s=q3.get(i),s||(s=new i,q3.set(i,s))):s=i,t&&t(s),Promise.all(r.map(a=>new Promise((o,l)=>s.load(a,h=>{ca(h?.scene)&&Object.assign(h,B0e(h.scene)),o(h)},e,h=>l(new Error(`Could not load ${a}: ${h?.message}`))))))}}function Yu(t,e,i,r){const s=Array.isArray(e)?e:[e],a=T0e(_G(i,r),[t,...s],{equal:$i.equ});return Array.isArray(e)?a:a[0]}Yu.preload=function(t,e,i){const r=Array.isArray(e)?e:[e];return C0e(_G(i),[t,...r])};Yu.clear=function(t,e){const i=Array.isArray(e)?e:[e];return M0e([t,...i])};function K0e(t){const e=b0e(t);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:ze.version}),e}const bG=0,Fg={},Z0e=/^three(?=[A-Z])/,Qw=t=>`${t[0].toUpperCase()}${t.slice(1)}`;let Q0e=0;const J0e=t=>typeof t=="function";function eve(t){if(J0e(t)){const e=`${Q0e++}`;return Fg[e]=t,e}else Object.assign(Fg,t)}function jG(t,e){const i=Qw(t),r=Fg[i];if(t!=="primitive"&&!r)throw new Error(`R3F: ${i} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(t==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function tve(t,e,i){var r;return t=Qw(t)in Fg?t:t.replace(Z0e,""),jG(t,e),t==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,L1(e.object,i,t,e)}function nve(t){if(!t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?k1(t.parent,t):ca(t.object)&&(t.object.visible=!1),t.isHidden=!0,rx(t)}}function SG(t){if(t.isHidden){var e;t.props.attach&&(e=t.parent)!=null&&e.object?D1(t.parent,t):ca(t.object)&&t.props.visible!==!1&&(t.object.visible=!0),t.isHidden=!1,rx(t)}}function NR(t,e,i){const r=e.root.getState();if(!(!t.parent&&t.object!==r.scene)){if(!e.object){var s,a;const o=Fg[Qw(e.type)];e.object=(s=e.props.object)!=null?s:new o(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Zu(e.object,e.props),e.props.attach)D1(t,e);else if(ca(e.object)&&ca(t.object)){const o=t.object.children.indexOf(i?.object);if(i&&o!==-1){const l=t.object.children.indexOf(e.object);if(l!==-1){t.object.children.splice(l,1);const h=l<o?o-1:o;t.object.children.splice(h,0,e.object)}else e.object.parent=t.object,t.object.children.splice(o,0,e.object),e.object.dispatchEvent({type:"added"}),t.object.dispatchEvent({type:"childadded",child:e.object})}else t.object.add(e.object)}for(const o of e.children)NR(e,o);rx(e)}}function MC(t,e){e&&(e.parent=t,t.children.push(e),NR(t,e))}function W3(t,e,i){if(!e||!i)return;e.parent=t;const r=t.children.indexOf(i);r!==-1?t.children.splice(r,0,e):t.children.push(e),NR(t,e,i)}function wG(t){if(typeof t.dispose=="function"){const e=()=>{try{t.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():H3.unstable_scheduleCallback(H3.unstable_IdlePriority,e)}}function vE(t,e,i){if(!e)return;e.parent=null;const r=t.children.indexOf(e);r!==-1&&t.children.splice(r,1),e.props.attach?k1(t,e):ca(e.object)&&ca(t.object)&&(t.object.remove(e.object),$0e(uG(e),e.object));const s=e.props.dispose!==null&&i!==!1;for(let a=e.children.length-1;a>=0;a--){const o=e.children[a];vE(e,o,s)}e.children.length=0,delete e.object.__r3f,s&&e.type!=="primitive"&&e.object.type!=="Scene"&&wG(e.object),i===void 0&&rx(e)}function ive(t,e){for(const i of[t,t.alternate])if(i!==null)if(typeof i.ref=="function"){i.refCleanup==null||i.refCleanup();const r=i.ref(e);typeof r=="function"&&(i.refCleanup=r)}else i.ref&&(i.ref.current=e)}const Gj=[];function rve(){for(const[i]of Gj){const r=i.parent;if(r){i.props.attach?k1(r,i):ca(i.object)&&ca(r.object)&&r.object.remove(i.object);for(const s of i.children)s.props.attach?k1(i,s):ca(s.object)&&ca(i.object)&&i.object.remove(s.object)}i.isHidden&&SG(i),i.object.__r3f&&delete i.object.__r3f,i.type!=="primitive"&&wG(i.object)}for(const[i,r,s]of Gj){i.props=r;const a=i.parent;if(a){var t,e;const o=Fg[Qw(i.type)];i.object=(t=i.props.object)!=null?t:new o(...(e=i.props.args)!=null?e:[]),i.object.__r3f=i,ive(s,i.object),Zu(i.object,i.props),i.props.attach?D1(a,i):ca(i.object)&&ca(a.object)&&a.object.add(i.object);for(const l of i.children)l.props.attach?D1(i,l):ca(l.object)&&ca(i.object)&&i.object.add(l.object);rx(i)}}Gj.length=0}const EC=()=>{},X3={};let vj=bG;const sve=0,ave=4,_E=K0e({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:tve,removeChild:vE,appendChild:MC,appendInitialChild:MC,insertBefore:W3,appendChildToContainer(t,e){const i=t.getState().scene.__r3f;!e||!i||MC(i,e)},removeChildFromContainer(t,e){const i=t.getState().scene.__r3f;!e||!i||vE(i,e)},insertInContainerBefore(t,e,i){const r=t.getState().scene.__r3f;!e||!i||!r||W3(r,e,i)},getRootHostContext:()=>X3,getChildHostContext:()=>X3,commitUpdate(t,e,i,r,s){var a,o,l;jG(e,r);let h=!1;if((t.type==="primitive"&&i.object!==r.object||((a=r.args)==null?void 0:a.length)!==((o=i.args)==null?void 0:o.length)||(l=r.args)!=null&&l.some((p,g)=>{var v;return p!==((v=i.args)==null?void 0:v[g])}))&&(h=!0),h)Gj.push([t,{...r},s]);else{const p=z0e(t,r);Object.keys(p).length&&(Object.assign(t.props,p),Zu(t.object,p))}(s.sibling===null||(s.flags&ave)===sve)&&rve()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:t=>t?.object,prepareForCommit:()=>null,preparePortalMount:t=>L1(t.getState().scene,t,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:nve,unhideInstance:SG,createTextInstance:EC,hideTextInstance:EC,unhideTextInstance:EC,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:ze.createContext(null),setCurrentUpdatePriority(t){vj=t},getCurrentUpdatePriority(){return vj},resolveUpdatePriority(){var t;if(vj!==bG)return vj;switch(typeof window<"u"&&((t=window.event)==null?void 0:t.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Vj.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Vj.ContinuousEventPriority;default:return Vj.DefaultEventPriority}},resetFormInstance(){}}),ap=new Map,Um={objects:"shallow",strict:!1};function ove(t,e){if(!e&&typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:i,height:r,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:i,height:r,top:s,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function lve(t){const e=ap.get(t),i=e?.fiber,r=e?.store;e&&console.warn("R3F.createRoot should only be called once!");const s=typeof reportError=="function"?reportError:console.error,a=r||W0e(SE,K3),o=i||_E.createContainer(a,Vj.ConcurrentRoot,null,!1,null,"",s,s,s,null);e||ap.set(t,{fiber:o,store:a});let l,h,d=!1,p=null;return{async configure(g={}){let v;p=new Promise(re=>v=re);let{gl:_,size:j,scene:T,events:C,onCreated:w,shadows:A=!1,linear:L=!1,flat:k=!1,legacy:I=!1,orthographic:z=!1,frameloop:U="always",dpr:H=[1,2],performance:P,raycaster:N,camera:G,onPointerMissed:te}=g,Q=a.getState(),K=Q.gl;if(!Q.gl){const re={canvas:t,powerPreference:"high-performance",antialias:!0,alpha:!0},de=typeof _=="function"?await _(re):_;$3(de)?K=de:K=new sG({...re,..._}),Q.set({gl:K})}let ee=Q.raycaster;ee||Q.set({raycaster:ee=new ZV});const{params:O,...q}=N||{};if($i.equ(q,ee,Um)||Zu(ee,{...q}),$i.equ(O,ee.params,Um)||Zu(ee,{params:{...ee.params,...O}}),!Q.camera||Q.camera===h&&!$i.equ(h,G,Um)){h=G;const re=G?.isCamera,de=re?G:z?new Nv(0,0,0,0,.1,1e3):new es(75,0,.1,1e3);re||(de.position.z=5,G&&(Zu(de,G),de.manual||("aspect"in G||"left"in G||"right"in G||"bottom"in G||"top"in G)&&(de.manual=!0,de.updateProjectionMatrix())),!Q.camera&&!(G!=null&&G.rotation)&&de.lookAt(0,0,0)),Q.set({camera:de}),ee.camera=de}if(!Q.scene){let re;T!=null&&T.isScene?(re=T,L1(re,a,"",{})):(re=new aR,L1(re,a,"",{}),T&&Zu(re,T)),Q.set({scene:re})}C&&!Q.events.handlers&&Q.set({events:C(a)});const V=ove(t,j);if($i.equ(V,Q.size,Um)||Q.setSize(V.width,V.height,V.top,V.left),H&&Q.viewport.dpr!==pG(H)&&Q.setDpr(H),Q.frameloop!==U&&Q.setFrameloop(U),Q.onPointerMissed||Q.set({onPointerMissed:te}),P&&!$i.equ(P,Q.performance,Um)&&Q.set(re=>({performance:{...re.performance,...P}})),!Q.xr){var le;const re=(ae,pe)=>{const De=a.getState();De.frameloop!=="never"&&K3(ae,!0,De,pe)},de=()=>{const ae=a.getState();ae.gl.xr.enabled=ae.gl.xr.isPresenting,ae.gl.xr.setAnimationLoop(ae.gl.xr.isPresenting?re:null),ae.gl.xr.isPresenting||SE(ae)},fe={connect(){const ae=a.getState().gl;ae.xr.addEventListener("sessionstart",de),ae.xr.addEventListener("sessionend",de)},disconnect(){const ae=a.getState().gl;ae.xr.removeEventListener("sessionstart",de),ae.xr.removeEventListener("sessionend",de)}};typeof((le=K.xr)==null?void 0:le.addEventListener)=="function"&&fe.connect(),Q.set({xr:fe})}if(K.shadowMap){const re=K.shadowMap.enabled,de=K.shadowMap.type;if(K.shadowMap.enabled=!!A,$i.boo(A))K.shadowMap.type=m0;else if($i.str(A)){var W;const fe={basic:o6,percentage:vw,soft:m0,variance:wl};K.shadowMap.type=(W=fe[A])!=null?W:m0}else $i.obj(A)&&Object.assign(K.shadowMap,A);(re!==K.shadowMap.enabled||de!==K.shadowMap.type)&&(K.shadowMap.needsUpdate=!0)}return qn.enabled=!I,d||(K.outputColorSpace=L?ld:Bs,K.toneMapping=k?Dc:$A),Q.legacy!==I&&Q.set(()=>({legacy:I})),Q.linear!==L&&Q.set(()=>({linear:L})),Q.flat!==k&&Q.set(()=>({flat:k})),_&&!$i.fun(_)&&!$3(_)&&!$i.equ(_,K,Um)&&Zu(K,_),l=w,d=!0,v(),this},render(g){return!d&&!p&&this.configure(),p.then(()=>{_E.updateContainer(n.jsx(cve,{store:a,children:g,onCreated:l,rootElement:t}),o,null,()=>{})}),a},unmount(){TG(t)}}}function cve({store:t,children:e,onCreated:i,rootElement:r}){return Pv(()=>{const s=t.getState();s.set(a=>({internal:{...a.internal,active:!0}})),i&&i(s),t.getState().events.connected||s.events.connect==null||s.events.connect(r)},[]),n.jsx(xG.Provider,{value:t,children:e})}function TG(t,e){const i=ap.get(t),r=i?.fiber;if(r){const s=i?.store.getState();s&&(s.internal.active=!1),_E.updateContainer(null,r,null,()=>{s&&setTimeout(()=>{try{var a,o,l,h;s.events.disconnect==null||s.events.disconnect(),(a=s.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(l=s.gl)==null||l.forceContextLoss==null||l.forceContextLoss(),(h=s.gl)!=null&&h.xr&&s.xr.disconnect(),I0e(s.scene),ap.delete(t)}catch{}},500)})}}const hve=new Set,uve=new Set,dve=new Set;function AC(t,e){if(t.size)for(const{callback:i}of t.values())i(e)}function T0(t,e){switch(t){case"before":return AC(hve,e);case"after":return AC(uve,e);case"tail":return AC(dve,e)}}let RC,LC;function bE(t,e,i){let r=e.clock.getDelta();e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),RC=e.internal.subscribers;for(let s=0;s<RC.length;s++)LC=RC[s],LC.ref.current(LC.store.getState(),r,i);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let N1=!1,jE=!1,DC,Y3,zm;function CG(t){Y3=requestAnimationFrame(CG),N1=!0,DC=0,T0("before",t),jE=!0;for(const i of ap.values()){var e;zm=i.store.getState(),zm.internal.active&&(zm.frameloop==="always"||zm.internal.frames>0)&&!((e=zm.gl.xr)!=null&&e.isPresenting)&&(DC+=bE(t,zm))}if(jE=!1,T0("after",t),DC===0)return T0("tail",t),N1=!1,cancelAnimationFrame(Y3)}function SE(t,e=1){var i;if(!t)return ap.forEach(r=>SE(r.store.getState(),e));(i=t.gl.xr)!=null&&i.isPresenting||!t.internal.active||t.frameloop==="never"||(e>1?t.internal.frames=Math.min(60,t.internal.frames+e):jE?t.internal.frames=2:t.internal.frames=1,N1||(N1=!0,requestAnimationFrame(CG)))}function K3(t,e=!0,i,r){if(e&&T0("before",t),i)bE(t,i,r);else for(const s of ap.values())bE(t,s.store.getState());e&&T0("after",t)}const kC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function fve(t){const{handlePointer:e}=q0e(t);return{priority:1,enabled:!0,compute(i,r,s){r.pointer.set(i.offsetX/r.size.width*2-1,-(i.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(kC).reduce((i,r)=>({...i,[r]:e(r)}),{}),update:()=>{var i;const{events:r,internal:s}=t.getState();(i=s.lastEvent)!=null&&i.current&&r.handlers&&r.handlers.onPointerMove(s.lastEvent.current)},connect:i=>{const{set:r,events:s}=t.getState();if(s.disconnect==null||s.disconnect(),r(a=>({events:{...a.events,connected:i}})),s.handlers)for(const a in s.handlers){const o=s.handlers[a],[l,h]=kC[a];i.addEventListener(l,o,{passive:h})}},disconnect:()=>{const{set:i,events:r}=t.getState();if(r.connected){if(r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o]=kC[s];r.connected.removeEventListener(o,a)}i(s=>({events:{...s.events,connected:void 0}}))}}}}function Z3(t,e){let i;return(...r)=>{window.clearTimeout(i),i=window.setTimeout(()=>t(...r),e)}}function pve({debounce:t,scroll:e,polyfill:i,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const s=i||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=ze.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=ze.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),h=t?typeof t=="number"?t:t.scroll:null,d=t?typeof t=="number"?t:t.resize:null,p=ze.useRef(!1);ze.useEffect(()=>(p.current=!0,()=>void(p.current=!1)));const[g,v,_]=ze.useMemo(()=>{const w=()=>{if(!l.current.element)return;const{left:A,top:L,width:k,height:I,bottom:z,right:U,x:H,y:P}=l.current.element.getBoundingClientRect(),N={left:A,top:L,width:k,height:I,bottom:z,right:U,x:H,y:P};l.current.element instanceof HTMLElement&&r&&(N.height=l.current.element.offsetHeight,N.width=l.current.element.offsetWidth),Object.freeze(N),p.current&&!yve(l.current.lastBounds,N)&&o(l.current.lastBounds=N)};return[w,d?Z3(w,d):w,h?Z3(w,h):w]},[o,r,h,d]);function j(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(w=>w.removeEventListener("scroll",_,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null),l.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",l.current.orientationHandler))}function T(){l.current.element&&(l.current.resizeObserver=new s(_),l.current.resizeObserver.observe(l.current.element),e&&l.current.scrollContainers&&l.current.scrollContainers.forEach(w=>w.addEventListener("scroll",_,{capture:!0,passive:!0})),l.current.orientationHandler=()=>{_()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",l.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",l.current.orientationHandler))}const C=w=>{!w||w===l.current.element||(j(),l.current.element=w,l.current.scrollContainers=MG(w),T())};return gve(_,!!e),mve(v),ze.useEffect(()=>{j(),T()},[e,_,v]),ze.useEffect(()=>j,[]),[C,a,g]}function mve(t){ze.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function gve(t,e){ze.useEffect(()=>{if(e){const i=t;return window.addEventListener("scroll",i,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",i,!0)}},[t,e])}function MG(t){const e=[];if(!t||t===document.body)return e;const{overflow:i,overflowX:r,overflowY:s}=window.getComputedStyle(t);return[i,r,s].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...MG(t.parentElement)]}const xve=["x","y","top","bottom","left","right","width","height"],yve=(t,e)=>xve.every(i=>t[i]===e[i]);function vve({ref:t,children:e,fallback:i,resize:r,style:s,gl:a,events:o=fve,eventSource:l,eventPrefix:h,shadows:d,linear:p,flat:g,legacy:v,orthographic:_,frameloop:j,dpr:T,performance:C,raycaster:w,camera:A,scene:L,onPointerMissed:k,onCreated:I,...z}){ze.useMemo(()=>eve(l0e),[]);const U=N0e(),[H,P]=pve({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=ze.useRef(null),G=ze.useRef(null);ze.useImperativeHandle(t,()=>N.current);const te=fG(k),[Q,K]=ze.useState(!1),[ee,O]=ze.useState(!1);if(Q)throw Q;if(ee)throw ee;const q=ze.useRef(null);Pv(()=>{const le=N.current;if(P.width>0&&P.height>0&&le){q.current||(q.current=lve(le));async function W(){await q.current.configure({gl:a,scene:L,events:o,shadows:d,linear:p,flat:g,legacy:v,orthographic:_,frameloop:j,dpr:T,performance:C,raycaster:w,camera:A,size:P,onPointerMissed:(...re)=>te.current==null?void 0:te.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(l?D0e(l)?l.current:l:G.current),h&&re.setEvents({compute:(de,fe)=>{const ae=de[h+"X"],pe=de[h+"Y"];fe.pointer.set(ae/fe.size.width*2-1,-(pe/fe.size.height)*2+1),fe.raycaster.setFromCamera(fe.pointer,fe.camera)}}),I?.(re)}}),q.current.render(n.jsx(U,{children:n.jsx(O0e,{set:O,children:n.jsx(ze.Suspense,{fallback:n.jsx(P0e,{set:K}),children:e??null})})}))}W()}}),ze.useEffect(()=>{const le=N.current;if(le)return()=>TG(le)},[]);const V=l?"none":"auto";return n.jsx("div",{ref:G,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:V,...s},...z,children:n.jsx("div",{ref:H,style:{width:"100%",height:"100%"},children:n.jsx("canvas",{ref:N,style:{display:"block"},children:i})})})}function _ve(t){return n.jsx(cG,{children:n.jsx(vve,{...t})})}const bve=({position:t,size:e,textures:i,isSelected:r,onClick:s})=>{const a=ze.useRef(null),o=Yu(Lf,i.front),l=Yu(Lf,i.back),h=Yu(Lf,i.side),d=Yu(Lf,i.top),p=Yu(Lf,i.bottom),g=Yu(Lf,i.pages);return vG(()=>{if(a.current){const v=r?t[2]+1:t[2];a.current.position.z+=(v-a.current.position.z)*.1,r?a.current.rotation.y>-1.6&&(a.current.rotation.y-=.04,setTimeout(()=>{a.current&&(a.current.scale.y<2||a.current.scale.z<2)&&a.current.scale.set(1,a.current.scale.y+.1,a.current.scale.z+.1)},300)):(a.current.scale.set(1,1,1),a.current.rotation.y=0)}}),n.jsxs("mesh",{ref:a,position:t,onClick:v=>{v.stopPropagation(),s()},children:[n.jsx("boxGeometry",{args:e}),n.jsx("meshStandardMaterial",{attach:"material-0",map:o})," ",n.jsx("meshStandardMaterial",{attach:"material-1",map:l})," ",n.jsx("meshStandardMaterial",{attach:"material-2",map:d})," ",n.jsx("meshStandardMaterial",{attach:"material-3",map:p})," ",n.jsx("meshStandardMaterial",{attach:"material-4",map:h})," ",n.jsx("meshStandardMaterial",{attach:"material-5",map:g})," "]})},jve=t=>{const{books:e,selectedBookId:i,onBookClick:r}=t,s=4,a=5,o=.5,l=1.5,h=1.2,d=.9,p=1.2,g=e.map(({id:v,textures:_},j)=>{const T=s-1-Math.floor(j/a),C=j%a;return{id:v,position:[(-2.5+C)*o,T*l-s*l/2+p/2,-.5],size:[.3,p,d],textures:_}});return n.jsxs("group",{children:[n.jsxs("mesh",{position:[-.2,-1.5*s/2-.05,-.6],children:[n.jsx("boxGeometry",{args:[2.7,.1,h]}),n.jsx("meshStandardMaterial",{color:"#5c4033",roughness:.9})]}),Array.from({length:s-1}).map((v,_)=>n.jsxs("mesh",{position:[-.2,.6+(_+1)*l-s*l/2-p/2,-.5],children:[n.jsx("boxGeometry",{args:[2.7,.1,h]}),n.jsx("meshStandardMaterial",{color:"#5c4033",roughness:.9})]},_)),g.map((v,_)=>n.jsx(bve,{id:v.id,position:v.position,size:v.size,textures:v.textures,isSelected:i===v.id,onClick:()=>r(v.id)},_))]})},Sve="/assets/book_top-BeQskpo3.webp",wve="/assets/book_bottom-CJLN1Way.webp",Tve="/assets/book_pages-DL-rbroe.webp",Cve=$0.map(t=>({id:t.id,textures:{front:t.book.cover.front,back:t.book.cover.back,side:t.book.cover.side,top:Sve,bottom:wve,pages:Tve}}));function Mve({selectedBookId:t}){const{camera:e}=X0e(),i=ze.useRef(new oe(5,5,10));return vG(()=>{e.position.lerp(i.current,.05),e.lookAt(0,0,0)}),t?i.current.set(0,5,18):i.current.set(5,5,10),null}const Eve=()=>{const t=po(),[e,i]=ze.useState(null),r=s=>{Ho(e).with(s,()=>{const o=$0.find(l=>l.id===s);return o?confirm(`"${o.name}" 책을 보시겠습니까?`):!1}).otherwise(()=>!1)&&t.navigate({to:`/experiencies/${s}`}),i(o=>o===s?null:s)};return n.jsxs(_ve,{camera:{position:[5,5,10],zoom:2},className:"h-[calc(100vh-64px)] w-full",style:{height:window.innerHeight-64},children:[n.jsx(Mve,{selectedBookId:e}),n.jsx("ambientLight",{}),n.jsx("directionalLight",{position:[2,5,5]}),n.jsx(jve,{books:Cve,selectedBookId:e,onBookClick:r})]})},Ave=()=>n.jsx(ze.Suspense,{children:n.jsx(Eve,{})}),Rve=ve("/_layout/experiencies/")({component:Ave}),Se=({children:t})=>n.jsxs("div",{className:"px-6 py-4 md:py-8 md:px-0 w-full md:max-w-(--breakpoint-md) mx-auto",children:[n.jsxs("h1",{className:"text-5xl font-bold mb-12 w-full",children:["TIL",n.jsx("div",{className:"text-xl font-normal text-gray-500 dark:text-gray-400",children:"(=Today I Learned)"})]}),t]});function Q3(t){const e={a:"a",h1:"h1",h2:"h2",li:"li",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Table Of Contents"}),`
`,n.jsx(e.h2,{children:"accessibility"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/accessibility/optimal-text-contrast-calculation",children:"optimal-text-contrast-calculation.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"algorithm"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/algorithm/depth-first-search-algorithm",children:"depth-first-search-algorithm.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/algorithm/implementation-algorithm",children:"implementation-algorithm.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/algorithm/prefix-sum-algorithm",children:"prefix-sum-algorithm.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/algorithm/tortoise-and-hare-algorithm",children:"tortoise-and-hare-algorithm.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/algorithm/two-pointer-algorithm",children:"two-pointer-algorithm.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"browser"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/browser/2024-05-new-feature-of-chrome",children:"2024-05-new-feature-of-chrome.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/browser/checking-the-console-log-in-mobile-chrome",children:"checking-the-console-log-in-mobile-chrome.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/browser/how-to-work-browser",children:"how-to-work-browser.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/browser/page-visibility-api",children:"page-visibility-api.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/browser/reflow-and-repaint",children:"reflow-and-repaint.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/browser/service-worker/",children:"service-worker/index.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/browser/view-in-html-Layer-3d",children:"view-in-html-Layer-3d.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"cli"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cli/bat",children:"bat.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cli/concurrently_js",children:"concurrently_js.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cli/latest-unix-tools",children:"latest-unix-tools.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"conference"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/conference/deview-2024",children:"deview-2024.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"cs"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cs/aot_and_jit_compiler",children:"aot_and_jit_compiler.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cs/ast",children:"ast.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cs/how-to-change-kernel-parameters",children:"how-to-change-kernel-parameters.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cs/how-to-check-system-uptime-and-system-load",children:"how-to-check-system-uptime-and-system-load.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cs/machine-learning",children:"machine-learning.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/cs/optical-character-recognition",children:"optical-character-recognition.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"css"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/about-css-pseudo-class-the-empty",children:"about-css-pseudo-class-the-empty.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/accent-color",children:"accent-color.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/animation",children:"animation.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/at-rules-page",children:"at-rules-page.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/backdrop-filter",children:"backdrop-filter.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/background-position",children:"background-position.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/box-shadow",children:"box-shadow.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/break-afeter-and-before-and-inside",children:"break-afeter-and-before-and-inside.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/clamp",children:"clamp.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/color-scheme",children:"color-scheme.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/conic-gradient",children:"conic-gradient.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/css-functions",children:"css-functions.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/flexbox",children:"flexbox.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/focus-within-and-focus-visible",children:"focus-within-and-focus-visible.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/foit-and-fout",children:"foit-and-fout.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/font-size",children:"font-size.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/grid",children:"grid.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/how-to-maintain-the-image-ratio",children:"how-to-maintain-the-image-ratio.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/hsl",children:"hsl.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/ios-safe-area",children:"ios-safe-area.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/object-fit",children:"object-fit.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/placeholder-shown",children:"placeholder-shown.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/problem-of-sticky",children:"problem-of-sticky.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/pseudo-class-lang",children:"pseudo-class-lang.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/replaced-elements",children:"replaced-elements.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/tailwind-css",children:"tailwind-css.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/typography",children:"typography.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/css/writing-mode",children:"writing-mode.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"database"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/database/basic-of-partitioning",children:"basic-of-partitioning.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"docker"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/docker/docker-compose",children:"docker-compose.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"editor"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/editor/auto-nvm-use-in-zsh",children:"auto-nvm-use-in-zsh.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/editor/autocomplete-commit-message-in-vscode-with-copilot",children:"autocomplete-commit-message-in-vscode-with-copilot.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/editor/git-shortcuts-command-in-zsh",children:"git-shortcuts-command-in-zsh.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/editor/how-to-go-to-line-in-vscode",children:"how-to-go-to-line-in-vscode.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/editor/learn-vim",children:"learn-vim.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/editor/neovim",children:"neovim.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/editor/vscode-language-extensions",children:"vscode-language-extensions.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"education"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/education/taxonomy-of-bloom",children:"taxonomy-of-bloom.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"experience"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/experience/garden9-2023/",children:"garden9-2023/index.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"firebase"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/firebase/remote-config",children:"remote-config.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"flutter"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/add-flavor",children:"add-flavor.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/assert",children:"assert.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/basic-handling-errors",children:"basic-handling-errors.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/cocoapod",children:"cocoapod.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/final-and-const",children:"final-and-const.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/flutter-method-channel",children:"flutter-method-channel.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/flutterflow",children:"flutterflow.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/future-and-stream",children:"future-and-stream.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/how-to-go-store",children:"how-to-go-store.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/learning-dart",children:"learning-dart.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/lifecycle",children:"lifecycle.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/replace-entry-point-with-cli",children:"replace-entry-point-with-cli.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/sealed-class",children:"sealed-class.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/tip-for-web-developer",children:"tip-for-web-developer.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/flutter/typedef",children:"typedef.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"frontend"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/frontend/microinteraction",children:"microinteraction.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"frontend_framework"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/frontend_framework/action-of-nextjs",children:"action-of-nextjs.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/frontend_framework/difference-between-csrand-ssr",children:"difference-between-csrand-ssr.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/frontend_framework/docusaurus",children:"docusaurus.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/frontend_framework/how-to-use-browserslist-on-nextjs",children:"how-to-use-browserslist-on-nextjs.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/frontend_framework/nextjs-v14-summary",children:"nextjs-v14-summary.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/frontend_framework/nextjs",children:"nextjs.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"functional_programing"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/functional_programing/algebraic-data-type",children:"algebraic-data-type.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/functional_programing/map",children:"map.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/functional_programing/patial-application",children:"patial-application.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/functional_programing/point-free-style",children:"point-free-style.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"git"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/checkout-previous-branch",children:"checkout-previous-branch.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/creating-branch-from-commit",children:"creating-branch-from-commit.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/force-with-lease-option",children:"force-with-lease-option.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/git-bisect-command",children:"git-bisect-command.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/gitmoji",children:"gitmoji.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/how-to-initialize-all-changes",children:"how-to-initialize-all-changes.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/how-to-use-two-accounts",children:"how-to-use-two-accounts.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/import-only-one-file-from-a-stash",children:"import-only-one-file-from-a-stash.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/key-commit-message-abbreviations",children:"key-commit-message-abbreviations.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/lightweight-tag-and-annotated-tag",children:"lightweight-tag-and-annotated-tag.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/resurrection-of-commit",children:"resurrection-of-commit.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/submodule",children:"submodule.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/git/switch",children:"switch.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"github"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/github/how-to-search-for-repo-using-public-api",children:"how-to-search-for-repo-using-public-api.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"graphql"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/graphql/thinking-in-graphs",children:"thinking-in-graphs.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"html"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/html/basic",children:"basic.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/html/good-image-files-on-the-web-SVG",children:"good-image-files-on-the-web-SVG.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/html/lazy-loading",children:"lazy-loading.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/html/meta-tag-charset",children:"meta-tag-charset.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/html/new-html-element-search",children:"new-html-element-search.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/html/picture",children:"picture.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/html/popover-attribute",children:"popover-attribute.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/html/pre-tag",children:"pre-tag.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"http"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/http/basic",children:"basic.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"javascript"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/canvas-api",children:"canvas-api.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/closure",children:"closure.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/custom-event",children:"custom-event.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/defining-function-with-new-keyword",children:"defining-function-with-new-keyword.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/document-animate",children:"document-animate.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/ECMAScript-2023",children:"ECMAScript-2023.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/hidden-class",children:"hidden-class.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/iterable",children:"iterable.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/javascript-trick-1",children:"javascript-trick-1.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/javascript-trick-2",children:"javascript-trick-2.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/object-is",children:"object-is.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/performance-comparison-of-array-find-and-array-indexOf",children:"performance-comparison-of-array-find-and-array-indexOf.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/promise-all-settled-and-promise-all",children:"promise-all-settled-and-promise-all.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/proxy-grammar",children:"proxy-grammar.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/shallow-merge-and-deep-merge",children:"shallow-merge-and-deep-merge.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/javascript/the-easiest-way-to-create-uuid-in-js",children:"the-easiest-way-to-create-uuid-in-js.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"library"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/library/es-git",children:"es-git.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/library/framer-motion",children:"framer-motion.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/library/gritql",children:"gritql.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/library/how-to-change-default-url-in-next-auth",children:"how-to-change-default-url-in-next-auth.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/library/nuqs",children:"nuqs.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/library/style-dictionary",children:"style-dictionary.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/library/turborepo",children:"turborepo.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"machine-learning"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/machine-learning/perceptron",children:"perceptron.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"mcp"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/mcp/what-is-mcp",children:"what-is-mcp.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"mobile"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/mobile/android-icon-name",children:"android-icon-name.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"network"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/network/abortController",children:"abortController.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/network/cookie",children:"cookie.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/network/DNS-domain-name-system",children:"DNS-domain-name-system.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"opensource"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/opensource/code_of_conduct",children:"code_of_conduct.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/opensource/open-source-initiative",children:"open-source-initiative.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"package"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/package/automatically-sink-the-node-version-using-nvmrc",children:"automatically-sink-the-node-version-using-nvmrc.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/package/basic-yarn-berry",children:"basic-yarn-berry.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"php"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/php/basic",children:"basic.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"react"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react/how-to-check-children-in-react-component",children:"how-to-check-children-in-react-component.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react/how-to-use-beforeunload",children:"how-to-use-beforeunload.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react/overuse-of-useMemo-and-useCallback",children:"overuse-of-useMemo-and-useCallback.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react/react-server-component",children:"react-server-component.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react/relay",children:"relay.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react/scroll-restoration",children:"scroll-restoration.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react/the-difference-between-useEffect-and-useLayoutEffect",children:"the-difference-between-useEffect-and-useLayoutEffect.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react/what-is-new-in-react-19",children:"what-is-new-in-react-19.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"react_native"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react_native/",children:"index.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react_native/metro",children:"metro.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react_native/nativewind",children:"nativewind.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/react_native/react-navigation",children:"react-navigation.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"README.mdx"}),`
`,n.jsx(e.h2,{children:"scala"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/scala/basic",children:"basic.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"software_engineering"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/software_engineering/refactoring-with-the-separation-of-oncerns-rinciple",children:"refactoring-with-the-separation-of-oncerns-rinciple.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/software_engineering/software-development-principles",children:"software-development-principles.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"svelte"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/svelte/how-does-svelte-work",children:"how-does-svelte-work.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"tauri"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/tauri/about-tauri",children:"about-tauri.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"testing"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/testing/false-positive-and-false-negative",children:"false-positive-and-false-negative.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/testing/monkey-testing-and-gorilla-testing",children:"monkey-testing-and-gorilla-testing.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/testing/snapshot-test",children:"snapshot-test.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/testing/test-coverage",children:"test-coverage.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"typescript"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/create-utility-type-reverse",children:"create-utility-type-reverse.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/declaration-merging",children:"declaration-merging.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/error-handling-with-typescript",children:"error-handling-with-typescript.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/import-type-only",children:"import-type-only.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/keyword-satisfies-to-support-safe-upcast",children:"keyword-satisfies-to-support-safe-upcast.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/numerical-string-type",children:"numerical-string-type.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/tagged-union-type",children:"tagged-union-type.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/ts-ignore-and-ts-expect-error",children:"ts-ignore-and-ts-expect-error.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/ts-pattern",children:"ts-pattern.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/typescript/typescript-infer-keyword",children:"typescript-infer-keyword.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"web"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/web/a11y",children:"a11y.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/web/activityPub",children:"activityPub.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/web/cookie-and-session",children:"cookie-and-session.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/web/designMode",children:"designMode.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/web/how-does-the-internet-work",children:"how-does-the-internet-work.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/web/sitemap",children:"sitemap.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/web/sounds-and-recording-on-web",children:"sounds-and-recording-on-web.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/web/web-component",children:"web-component.mdx"})}),`
`]}),`
`,n.jsx(e.h2,{children:"webassembly"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/webassembly/",children:"index.mdx"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"/til/webassembly/v8-engine-pipeline.webp/",children:"v8-engine-pipeline.webp/index.mdx"})}),`
`]})]})}function Lve(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(Q3,{...t})}):Q3(t)}const Dve=je({});function kve(){return n.jsx(Se,{children:n.jsx(Lve,{components:Dve})})}const Nve=ve("/_layout/til/README")({component:kve,head:()=>({meta:[{title:"README"}]})}),EG=()=>{const t=()=>{window.location.href="/"};return n.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-neutral-900 text-gray-900 dark:text-white",children:[n.jsxs("div",{className:"relative text-8xl font-bold flex gap-4",children:[n.jsx("span",{className:"animate-bounce",children:"4"}),n.jsx("span",{className:"animate-pulse",children:"0"}),n.jsx("span",{className:"animate-bounce",children:"4"})]}),n.jsx("h1",{className:"mt-6 text-2xl font-semibold text-center",children:"페이지를 찾을 수 없어요."}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-2",children:["요청하신 페이지가 존재하지 않아요. ",n.jsx("br",{})," 주소를 확인해주세요."]}),n.jsx(Th,{variant:"primary",className:"mt-6",onClick:t,children:"홈으로 가기"}),n.jsx("div",{className:"absolute bottom-10 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl"})]})},Wy=({id:t="",label:e="",variant:i="default",className:r,children:s})=>n.jsxs("section",{id:t,className:Us("w-full md:max-w-(--breakpoint-md) mx-auto snap-always p-4 snap-start min-h-[calc(100dvh-48px)] md:min-h-[calc(100dvh-64px)] break-words text-left",{"flex items-center justify-center":i==="cover"},r),children:[e&&n.jsx("div",{className:Us("h-12",{"py-1 rounded-xl flex items-center text-3xl md:text-5xl font-bold mb-4 md:mb-8":i==="default"&&e!==""}),children:e}),s&&n.jsx("div",{className:"flex flex-col w-full justify-start items-center",children:s})]});function P1(t){return Ho({typeof:typeof t,isValidElement:ze.isValidElement(t),node:t}).with({node:fs.union(fs.nullish,fs.boolean)},()=>"").with({node:fs.union(fs.string,fs.number)},e=>String(e.node)).with({node:{props:{children:fs.nonNullable}}},({node:e})=>{const i=e;return ze.Children.toArray(i.props.children).map(P1).join("")}).with({typeof:"object",node:{type:fs.nonNullable}},({node:e})=>typeof e.type=="function"?P1(e.type()):"").otherwise(()=>"")}const wE=t=>{const e=[];return Ho({typeof:typeof t,isValidElement:ze.isValidElement(t),node:t}).with({typeof:"object",node:{type:fs.union("h1","h2","h3","h4","h5","h6")}},({node:i})=>{const r=i;return[...e,{level:typeof r.type=="string"?Number.parseInt(r.type.slice(1),10):0,id:`${r.type}-${P1(r.props.children)}`,text:P1(r.props.children)}]}).with({node:{props:{children:fs.nonNullable}}},({node:i})=>[...e,...ze.Children.toArray(i.props.children).flatMap(wE)]).with({typeof:"object",node:{type:fs.nonNullable}},({node:i})=>typeof i.type=="function"?[...e,...wE(i.type())]:e).otherwise(()=>e).flat()},Pve=({experience:t})=>{const{content:e}=t,i=wE(e),r=o=>{const l=[],h=[];for(const d of o){const p={...d,children:[]};for(;h.length>0&&h[h.length-1].level>=d.level;)h.pop();h.length===0?l.push(p):h[h.length-1].children.push(p),h.push(p)}return l},s=(o,l=1)=>n.jsx("ol",{className:`list-decimal space-y-2 ${l>1?"pl-5 mt-2":"pl-5"}`,children:o.map(h=>n.jsxs("li",{className:"space-y-1",children:[n.jsx(zg,{to:"/",hash:h.id,className:"font-semibold",hashScrollIntoView:{behavior:"smooth",block:"start",inline:"nearest"},children:h.text}),h.children.length>0&&s(h.children,l+1)]},h.id))}),a=r(i.map(o=>({...o,children:[]})));return n.jsx("div",{className:"w-full text-left",children:s(a)})},Ove=({experience:t})=>{const{name:e,book:i,content:r}=t;return n.jsxs("article",{className:"snap-y snap-mandatory h-[calc(100dvh-48px)] md:h-[calc(100dvh-64px)] overflow-y-scroll w-full",children:[n.jsx(Wy,{variant:"cover",children:n.jsx("img",{src:i.cover.front,loading:"lazy",className:"w-full max-h-[80dvh] object-contain",alt:"식봄 프로젝트 정면 표지","aria-label":"식봄 프로젝트 정면 표지"})}),n.jsx(Wy,{className:"flex items-center justify-center",children:n.jsx("h1",{className:"text-3xl md:text-6xl! font-bold my-6 w-full text-center",children:e})}),n.jsx(Wy,{label:"Table of Contents",children:n.jsx(Pve,{experience:t})}),n.jsx(Wy,{className:"flex justify-start py-20",children:r}),n.jsx(Wy,{variant:"cover",children:n.jsx("img",{src:i.cover.back,loading:"lazy",className:"w-full max-h-[80dvh] object-contain",alt:"식봄 프로젝트 정면 표지","aria-label":"식봄 프로젝트 정면 표지"})})]})},Bve=()=>{const{experienceId:t}=F1({from:"/_layout/experiencies/$experienceId"}),e=$0.find(i=>i.id===t);return Ho(e).with(fs.nonNullable,i=>n.jsx(Ove,{experience:i})).otherwise(()=>n.jsx(EG,{}))},Ive=()=>n.jsx(ze.Suspense,{children:n.jsx(Bve,{})}),Fve=ve("/_layout/experiencies/$experienceId")({component:Ive});function J3(t){const e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:`title: Web Assembly
image: /images/blogs/default_thumbnail.webp
summary: web assembly에 대한 내용을 정리하였습니다.
description: web assembly에 대한 내용을 정리하였습니다.
author: Gitsunmin
date: 2024-05-21 12:00:00
math: true
draft: false`}),`
`,n.jsx(e.h2,{children:"서론"}),`
`,n.jsx(e.p,{children:"WebAssembly는 V8 엔진에서 실행할 수 있는 Javascript 외의 포맷입니다. 이 포맷은 Javascript 보다 더 저수준 언어에 가깝고 평균적으로 더 나은 성능으로 실행될 수 있습니다. 그렇다면, 어떠한 차이 때문에 이러한 결과가 도출되었는지 알아보고, 사용 방법도 알아보겠습니다."}),`
`,n.jsx(e.h2,{children:"본론"}),`
`,n.jsx(e.h3,{children:"V8 엔진은 무엇인가?"}),`
`,n.jsx(e.p,{children:"서론에서 언급했듯이, WebAssembly는 V8 엔진에서 실행되는 저수준 포맷입니다. 그렇다면, WebAssembly를 알기 전에 V8 엔진은 무엇일까요? 간단하게라도 조사하고 넘어가야겠다는 생각이 들어서 찾아보았습니다."}),`
`,n.jsx(e.p,{children:"V8 엔진은 Google에서 만든 오픈소스 프로젝트이며 Javascript와 WebAssembly를 실행할 수 있는 엔진입니다. 예를 들어, Javascript는 분석되어 기계어(Machine Code)로 변환되며, 이를 통해 컴퓨터의 CPU가 해당 명령을 수행할 수 있습니다."}),`
`,n.jsxs(e.p,{children:[`더 자세한 내용이 궁금하시다면, 아래의 링크에서 좀 더 찾아보면 도움이 될 것 같습니다.
`,n.jsx(e.a,{href:"https://v8.dev/",children:"Link"})]}),`
`,n.jsx(e.h3,{children:"V8엔진에서의 Javascript"}),`
`,n.jsx(e.p,{children:"이 글의 주제는 WebAssembly이지만, WebAssembly의 동작 방식을 알기 전에 Javascript가 V8엔진에서 어떻게 동작하는지 간단히 알아보고, WebAssembly의 동작을 살펴보도록 하겠습니다."}),`
`,n.jsxs(e.p,{children:["아래의 이미지는 ",n.jsx(e.a,{href:"https://medium.com/dailyjs/understanding-v8s-bytecode-317d46c94775",children:"Link"}),`에서 가지고온 V8엔진에서의 Javascript의 동작 순서를 그려낸 것입니다.
`,n.jsx(e.img,{src:"/til/webassembly/v8-engine-pipeline.webp",alt:"v8_engine_pipeline"})]}),`
`,n.jsx(e.p,{children:"자바스크립트 소스 코드는 구체적인 문법 규칙을 따르는 텍스트 형태로 존재합니다. 이러한 텍스트는 문법적 분석을 통해 기계가 이해할 수 있는 형태로 번역될 수 있습니다. 이 번역 과정을 효율적으로 수행하기 위해, 소스 코드는 먼저 구조화된 데이터 형태인 추상 구문 트리(Abstract Syntax Tree, AST)로 변환됩니다."}),`
`,n.jsx(e.p,{children:"Google의 V8 엔진은 자바스크립트 코드를 처리하기 위해 파서(Parser)를 사용하여 이러한 AST를 생성합니다. AST는 소스 코드의 구문적 구조를 반영하며, 각 노드는 개별 코드 구성 요소(예: 변수 선언, 함수 호출 등)를 나타냅니다. 생성된 AST는 코드의 의미를 분석하고 실행 계획을 세우는 기반으로 사용됩니다."}),`
`,n.jsx(e.p,{children:"V8 엔진에 내장된 Ignition이라는 인터프리터는 이 AST를 해석하여 바이트코드로 변환하는 역할을 수행합니다. 바이트코드는 V8 엔진의 저수준 언어로, 더 빠른 실행을 가능하게 하는 중간 표현 형태입니다. 이 바이트코드는 TurboFan이라고 불리는 고급 최적화 컴파일러에 의해 처리됩니다."}),`
`,n.jsx(e.p,{children:"TurboFan은 실행 중에 수집된 성능 데이터를 분석하고, 바이트코드를 최적화된 기계어 코드로 변환합니다. 이 과정은 코드의 실행 속도를 크게 향상시킬 수 있으며, 자바스크립트 애플리케이션의 전반적인 성능을 최적화하는 데 중요한 역할을 합니다."}),`
`,n.jsx(e.p,{children:"단, 빨간색 화살표의 내용이 다시 Bytecode로 변환되어지는 것이라고 오해할 수 있지만, 그런 의미가 아니라, 다음 동작을 하기 위해서 다시 Ignition으로 돌아간다고 이해하면 좋을 것 같습니다. 컴파일의 최종 결과물의 형태는 기계가 해석할 수 있는 기계어(Machin Code)가 맞습니다."}),`
`,n.jsx(e.h3,{children:"v8엔진에서의 WebAssembly"}),`
`,n.jsx(e.p,{children:"V8 엔진에서 Javascript는 소스 코드를 분석하고, AST(Abstract Syntax Tree) 변환을 거쳐, Ignition 인터프리터를 통해 바이트 코드로 변환됩니다. 반면, WebAssembly는 이진 코드 형태로 브라우저에 전달되며, 간단하고 빠른 파싱 후에 바로 기계어로 컴파일이 가능한 상태가 됩니다. 이 과정을 담당하는 V8 엔진의 컴파일러는 Liftoff라고 불립니다. Liftoff는 WebAssembly를 바로 실행 가능한 기계어로 빠르게 변환할 수 있습니다. 성능 최적화가 필요한 경우, 추가적인 최적화를 위해 TurboFan 컴파일러가 사용됩니다."}),`
`,n.jsx(e.p,{children:"Liftoff는 WebAssembly의 빠른 컴파일을 책임지며, 최적화가 필요한 경우 TurboFan으로 코드를 넘겨 더 깊은 최적화를 수행합니다. 이 두 컴파일러의 협력을 통해 V8 엔진은 WebAssembly 코드를 효율적으로 처리하며, 빠른 시작과 고성능 유지를 동시에 달성할 수 있습니다."}),`
`,n.jsx(e.h3,{children:"WebAssembly를 사용해 보기"}),`
`,n.jsx(e.h4,{children:"Next에서 WebAssembly 사용해보기"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["Next에서 제공하는 example을 방문한다. ",n.jsx(e.a,{href:"https://github.com/vercel/next.js/tree/canary/examples/with-webassembly",children:"HERE"})]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"제공하는 프로젝트 생성 방법을 따라해본다. (하지만, 나는 Bun으로 함.)"}),`
`]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`bunx create-next-app --example with-webassembly with-webassembly-app
`})}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"생성된 프로젝트에서 pakage.json의 script를 확인하여 컴파일 명령어를 실행한다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`bun build-rust
`})}),`
`,n.jsxs(e.ol,{start:"4",children:[`
`,n.jsx(e.li,{children:"프로젝트를 확인한다."}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["root에 ",n.jsx(e.code,{children:"add.wasm"})," 파일이 생성된 것을 확인할 수 있다."]}),`
`,n.jsxs(e.li,{children:["root에 ",n.jsx(e.code,{children:"add.wasm.d.ts"})," 파일이 생성된 것을 확인할 수 있다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"src/"})," 폴더에 .rs 확장자인 Rust 소스 파일이 있는 것을 확인할 수 있다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"components/RustServerComponent.tsx"}),"를 확인해본다."]}),`
`]}),`
`,n.jsx(e.p,{children:"위 파일들을 확인하면 간단하게라도 흐름을 파악할 수 있습니다."}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"components/RustServerComponent.tsx"}),"에서 import한 .wasm 파일에서 함수를 추출하여 바로 사용할 수 있는 점이 조금 신기하네요."]}),`
`,n.jsx(e.h4,{children:"간단한 성능 테스트해보기"}),`
`,n.jsx(e.p,{children:"간단하게라도 성능을 한 번 테스트 해보기 위해서 ts(js)와 rust로 피보나치수열을 계산해주는 함수를 각각 만들어 비교를 해 보았습니다."}),`
`,n.jsx(e.p,{children:"위에서 생성하였던 프로젝트에서 조금 수정을 해보았습니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"src/fibonacci.rs"}),"을 추가"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"src/fibonacci.rs"}),"파일의 내용을 아래와 같이 수정"]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-rs",children:`#[no_mangle]
pub extern "C" fn fibonacci(n: usize) -> u64 {
    if n == 0 {
        return 0;
    }

    let mut a = 0;
    let mut b = 1;
    for _ in 1..n {
        let temp = a + b;
        a = b;
        b = temp;
    }

    a
}
`})}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"package.json"}),"파일의 script 수정"]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`- "build-rust": "rustc --target wasm32-unknown-unknown -O --crate-type=cdylib src/fibonacci.rs -o fibonacci.wasm",
`})}),`
`,n.jsxs(e.ol,{start:"4",children:[`
`,n.jsxs(e.li,{children:["root에 ",n.jsx(e.code,{children:"fibonacci.wasm.d.ts"}),"파일 추가"]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`export function fibonacci(number: number): number;
`})}),`
`,n.jsxs(e.ol,{start:"5",children:[`
`,n.jsx(e.li,{children:"3번에서 추가하였던 script를 실행"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`bun build-rust
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["root에 ",n.jsx(e.code,{children:"fibonacci.wasm"})," 파일이 생성되어짐."]}),`
`]}),`
`,n.jsxs(e.ol,{start:"6",children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"components/RustServerComponent.tsx"}),"을 수정."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`
const TS = {
  fibonacci(n: number): number {
    let a = 0;
    let b = 1;
  
    for (let i = 1; i < n; i++) {
      let temp = a + b;
      a = b;
      b = temp;
    }
  
    return a;
  }
}

export async function RustServerComponent({ number }: { number: number }) {
  const Rust = await import("../fibonacci.wasm");

  console.log('fibonacci number:', number);

  console.group('Typescript Calculate');
  console.time('ts');
  const tsResult = TS.ibonacci(number).toString();
  console.timeEnd('ts');
  console.log('tsResult:', tsResult);
  console.groupEnd();
  console.group('Rust Calculate');
  console.time('rs');
  const rsResult = Rust.fibonacci(number).toString();
  console.timeEnd('rs');
  console.log('rsResult:', rsResult);
  console.groupEnd();


  return <>
    <p>
      <h2>Typescript vs Rust(Wasm)</h2>
      <h3>결과는 Server Console 창을 확인해주세요. 서버 컴포넌트니깐</h3>
    </p>
  </>;
}
`})}),`
`,n.jsx(e.p,{children:"4번 연속으로 실행을 해서 아래와 같은 데이터를 얻을 수 있었습니다."}),`
`,n.jsx(e.p,{children:`|순서| 언어      | 실행 시간 (ms) |
|---|-----------|----------------|
| 1 | Typescript | 3.792          |
| 1 | Rust       | 0.060          |
| 2 | Typescript | 0.007          |
| 2 | Rust       | 0.023          |
| 3 | Typescript | 0.004          |
| 3 | Rust       | 0.006          |
| 4 | Typescript | 0.007          |
| 4 | Rust       | 0.029          |`}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsx(e.p,{children:"위에서 설명한 것처럼 Javascript와 WebAssembly는 각각 다른 목적과 특성을 가지고 있습니다. WebAssembly는 특정 고성능 로직을 최적화된 형태로 실행하기 위해 개발된 기술로, 크롬 브라우저 뿐만 아니라 V8 엔진을 사용하는 모든 곳에서 바이너리 코드로 실행됩니다. 초기 실험에서 보았듯, WebAssembly는 처음 실행 시 빠른 성능을 보여주지만, 반복 실행에서는 자바스크립트(여기서는 Typescript)가 JIT 최적화를 통해 성능이 향상되며, 경우에 따라 WebAssembly보다 빠르게 실행될 수 있습니다. 이는 WebAssembly가 모든 상황에서 최선의 선택은 아님을 시사합니다. 초기 로딩 속도가 중요하거나, 고성능이 필수적인 작업에서 WebAssembly의 사용을 고려할 수 있으며, 일반적인 웹 애플리케이션 개발에서는 자바스크립트의 유연성과 성능 최적화가 더 적합할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"참조"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://tecoble.techcourse.co.kr/post/2021-11-24-web-assembly/",children:"웹어셈블리"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://dongwoo.blog/2017/06/06/%eb%b2%88%ec%97%ad-%ec%b9%b4%ed%88%b0%ec%9c%bc%eb%a1%9c-%ec%86%8c%ea%b0%9c%ed%95%98%eb%8a%94-%ec%9b%b9%ec%96%b4%ec%85%88%eb%b8%94%eb%a6%ac/",children:"카툰으로 소개하는 웹어셈블리"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://v8.dev/docs",children:"v8 docs"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://docs.google.com/document/d/11T2CRex9hXxoJwbYqVQ32yIPMh0uouUZLdyrtmMoL44/edit",children:"Ignition: V8 Interpreter"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://v8.dev/docs/wasm-compilation-pipeline",children:"WebAssembly compilation pipeline"})}),`
`]})]})}function Uve(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(J3,{...t})}):J3(t)}const zve=je({});function Hve(){return n.jsx(Se,{children:n.jsx(Uve,{components:zve})})}const Vve=ve("/_layout/til/webassembly/")({component:Hve,head:()=>({meta:[{title:"webassembly"}]})});function eP(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"React Native"}),`
`,n.jsx(e.h2,{children:"Installation"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`npx create-expo-app@latest
`})}),`
`,n.jsx(e.h2,{children:"Core Components and Native Components"}),`
`,n.jsx(e.p,{children:`React Native의 UI 컴포넌트는 크게 Core Component와 Native Component로 구분됩니다.
Core Components는 React Native에서 제공하는 기본 UI 컴포넌트들이며, 빌드 시 각 타깃에 맞는 Native Component로 변환됩니다.
즉, Native Component는 각 플랫폼에서 사용되는 Swift, Java 혹은 Kotlin 코드로 만들어진 컴포넌트입니다.
또한, React Native에서는 필요에 따라 네이티브 모듈을 작성하여 Core Component와 통합된 Native Component를 만들 수 있습니다.`}),`
`,n.jsx(e.p,{children:"컴포넌트의 구조는 아래와 같이 표현할 수 있습니다."}),`
`,n.jsx(e.h1,{children:`======================== React Component =========================
= ------------------- React Native Component ------------------- =
= -                                                            - =
= -                Community Components                        - =
= -                Core Components                             - =
= -                Native Components                           - =
= -                                                            - =
= -------------------------------------------------------------- =`}),`
`,n.jsx(e.p,{children:"대부분의 UI Component는 React와 Props의 이름이 다를 뿐 이벤트 혹은 기본 Style등 비슷해 보입니다."}),`
`,n.jsx(e.h2,{children:"Platform-Specific Components"}),`
`,n.jsx(e.p,{children:'Flutter를 하면서 느낀 것은, "Multi Platform인데도 불과하고, 분기를 계속 쳐주는 것이 불편하다." 였습니다. 그런데, React Native에서는 해당 Class가 정말 유용하게 사용될 것 같다는 생각이 들었습니다.'}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import {Platform, StyleSheet} from 'react-native';

const styles = StyleSheet.create({
  height: Platform.OS === 'ios' ? 200 : 100,
});
`})}),`
`,n.jsxs(e.p,{children:["이런식으로 OS별로 다른 Style 객체를 만들 수 있을 뿐만아니라, ",n.jsx(e.code,{children:"Select"})," Method를 사용하면,"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import {Platform, StyleSheet} from 'react-native';

const styles = StyleSheet.create({
  container: {
    flex: 1,
    ...Platform.select({
      ios: {
        backgroundColor: 'red',
      },
      android: {
        backgroundColor: 'green',
      },
      default: {
        // other platforms, web for example
        backgroundColor: 'blue',
      },
    }),
  },
});
`})}),`
`,n.jsx(e.p,{children:"처럼 OS 별로 간편하게 분기를 할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"UI Components"}),`
`,n.jsx(e.h3,{children:"View"}),`
`,n.jsx(e.p,{children:"View는 가장 기본적인 컨테이너 컴포넌트로, 다른 컴포넌트를 그룹화하고 레이아웃을 구성하는 데 사용됩니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React from 'react';
import { View } from 'react-native';

const App = () => (
  <View style={{ flex: 1, justifyContent: 'center', alignItems: 'center' }}>
    <Text>Hello World</Text>
  </View>
);
`})}),`
`,n.jsx(e.h3,{children:"Text"}),`
`,n.jsx(e.p,{children:"Text는 텍스트를 렌더링하는 컴포넌트입니다. iOS와 Android에서 각각 네이티브의 텍스트 렌더링 방식을 사용합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React from 'react';
import { Text } from 'react-native';

const App = () => (
  <Text style={{ fontSize: 20, color: 'blue' }}>Welcome to React Native!</Text>
);
`})}),`
`,n.jsx(e.h3,{children:"TextInput"}),`
`,n.jsx(e.p,{children:"TextInput은 사용자가 텍스트를 입력할 수 있는 컴포넌트입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React, { useState } from 'react';
import { TextInput } from 'react-native';

const App = () => {
  const [value, setValue] = useState('');

  return (
    <TextInput
      style={{ height: 40, borderColor: 'gray', borderWidth: 1 }}
      onChangeText={text => setValue(text)}
      value={value}
      placeholder="Enter text"
    />
  );
};
`})}),`
`,n.jsx(e.h3,{children:"ScrollView"}),`
`,n.jsx(e.p,{children:"ScrollView는 자식 컴포넌트를 스크롤할 수 있게 해주는 컨테이너입니다. 스크롤 가능한 콘텐츠가 많을 때 유용합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React from 'react';
import { ScrollView, Text } from 'react-native';

const App = () => (
  <ScrollView>
    <Text>Content 1</Text>
    <Text>Content 2</Text>
    {/* 많은 텍스트들 */}
  </ScrollView>
);
`})}),`
`,n.jsx(e.h3,{children:"FlatList"}),`
`,n.jsx(e.p,{children:"FlatList는 많은 데이터 항목을 효율적으로 렌더링하는 컴포넌트로, 가상화된 목록을 생성합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React from 'react';
import { FlatList, Text } from 'react-native';

const data = [{ key: '1', value: 'Item 1' }, { key: '2', value: 'Item 2' }];

const App = () => (
  <FlatList
    data={data}
    renderItem={({ item }) => <Text>{item.value}</Text>}
    keyExtractor={item => item.key}
  />
);
`})}),`
`,n.jsx(e.h3,{children:"Button"}),`
`,n.jsx(e.p,{children:"Button은 네이티브의 버튼 UI를 감싸는 컴포넌트입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React from 'react';
import { Button } from 'react-native';

const App = () => (
  <Button
    onPress={() => alert('Button pressed!')}
    title="Press Me"
    color="#841584"
  />
);
`})}),`
`,n.jsx(e.h3,{children:"TouchableOpacity"}),`
`,n.jsx(e.p,{children:"TouchableOpacity는 사용자가 클릭할 수 있는 터치 가능한 영역을 제공하며, 클릭 시 불투명도를 조정하는 애니메이션 효과가 적용됩니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React from 'react';
import { TouchableOpacity, Text } from 'react-native';

const App = () => (
  <TouchableOpacity onPress={() => alert('TouchableOpacity pressed!')}>
    <Text>Press Me</Text>
  </TouchableOpacity>
);
`})}),`
`,n.jsx(e.h2,{children:"Style"}),`
`,n.jsx(e.p,{children:"다행스러운 점은 기본적으로 React를 사용할 때 처럼 카멜케이스로 style prop에 주입해주면 바로 사용가능합니다."}),`
`,n.jsx(e.p,{children:"다만, 아래와 같은 방식을 권장하는 듯 합니다. 테마 적용이나 스타일을 관리하기 위해서는 아래의 방법이 더 좋아 보이긴 합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React from 'react';
import {StyleSheet, Text, View} from 'react-native';

const LotsOfStyles = () => {
  return (
    <View style={styles.container}>
      <Text style={styles.red}>just red</Text>
      <Text style={styles.bigBlue}>just bigBlue</Text>
      <Text style={[styles.bigBlue, styles.red]}>bigBlue, then red</Text>
      <Text style={[styles.red, styles.bigBlue]}>red, then bigBlue</Text>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    marginTop: 50,
  },
  bigBlue: {
    color: 'blue',
    fontWeight: 'bold',
    fontSize: 30,
  },
  red: {
    color: 'red',
  },
});

export default LotsOfStyles;
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Tailwind CSS 처럼 사용할 수 있는 ",n.jsx(e.a,{href:"https://www.nativewind.dev/",children:"NativeWind"}),"도 있습니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"Images"}),`
`,n.jsx(e.p,{children:"이미지를 사용하는 경우 아래와 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React from 'react';
import {Image, StyleSheet, Text, View} from 'react-native';

const ImageExample = () => {
  return (
    <View style={styles.container}> 
      <Image
        source={require('./image.png')}
        style={styles.image}
        resizeMode="contain"
      />
      <Text style={styles.text}>Hello World!</Text>
    </View>
  );
};
`})}),`
`,n.jsx(e.p,{children:"다만, 주의해서 사용해야할 부분이 있다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// GOOD
<Image source={require('./my-icon.png')} />;

// BAD
const icon = this.props.active
  ? 'my-icon-active'
  : 'my-icon-inactive';
<Image source={require('./' + icon + '.png')} />;

// GOOD
const icon = this.props.active
  ? require('./my-icon-active.png')
  : require('./my-icon-inactive.png');
<Image source={icon} />;
`})}),`
`,n.jsx(e.p,{children:"React Native에서는 위 BAD 형태를 권장하지 않습니다. require를 통해서 해당 경로를 미리 알고 있는 것이 좋은 패턴으로 판단하고 있습니다."}),`
`,n.jsx(e.h3,{children:"Network Images"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// GOOD
<Image source={{uri: 'https://reactjs.org/logo-og.png'}}
       style={{width: 400, height: 400}} />

// BAD
<Image source={{uri: 'https://reactjs.org/logo-og.png'}} />

`})}),`
`,n.jsx(e.p,{children:"외부 자원인 경우에는 width와 height를 지정하여 사용해야합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<Image
  source={{
    uri: 'https://reactjs.org/logo-og.png',
    method: 'POST',
    headers: {
      Pragma: 'no-cache',
    },
    cache: 'only-if-cached',
    body: 'Your Body goes here',
  }}
  style={{width: 400, height: 400}}
/>
`})}),`
`,n.jsx(e.p,{children:"uri를 설정할 때에, 간단한 Network 설정들을 조작할 수 있습니다."}),`
`,n.jsx(e.p,{children:`참고로 cache 정책은 아래와 같습니다.
default: Use the native platforms default strategy.
reload: The data for the URL will be loaded from the originating source. No existing cache data should be used to satisfy a URL load request.
force-cache: The existing cached data will be used to satisfy the request, regardless of its age or expiration date. If there is no existing data in the cache corresponding the request, the data is loaded from the originating source.
only-if-cached: The existing cache data will be used to satisfy a request, regardless of its age or expiration date. If there is no existing data in the cache corresponding to a URL load request, no attempt is made to load the data from the originating source, and the load is considered to have failed.`}),`
`,n.jsx(e.h2,{children:"Bundling"}),`
`,n.jsxs(e.p,{children:[`React Native는 Metro Bundler라는 번들러를 사용하고 있습니다.
자세한 내용은 `,n.jsx(e.a,{href:"/til/react_native/metro",children:"Metro"}),"을 참고하시기 바랍니다."]})]})}function Gve(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(eP,{...t})}):eP(t)}const $ve=je({});function qve(){return n.jsx(Se,{children:n.jsx(Gve,{components:$ve})})}const Wve=ve("/_layout/til/react_native/")({component:qve,head:()=>({meta:[{title:"react native"}]})});function tP(t){const e={code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h2,{children:"Web Components"}),`
`,n.jsx(e.p,{children:"웹 컴포넌트(Web Components)는 재사용 가능한 사용자 인터페이스를 만들기 위해 웹 플랫폼의 네이티브 기능을 활용하는 방법입니다. 웹 컴포넌트는 크게 3가지 기술로 구성되어 있습니다:"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"커스텀 엘리먼트(Custom Elements)"}),": 웹에서 사용자 정의 태그를 생성하고 동작을 정의할 수 있게 해줍니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"HTML 템플릿(HTML Templates)"}),": 마크업 구조를 '템플릿'으로 저장하여 필요할 때 렌더링하도록 돕습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Shadow DOM"}),": 주요 DOM에서 독립적인 DOM을 생성하여 스타일과 코드가 주변 코드나 스타일에 영향을 주거나 받지 않도록 합니다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"예시: 웹 컴포넌트 만들기"}),`
`,n.jsx(e.p,{children:"아래는 간단한 웹 컴포넌트를 만드는 예시입니다. 이 예시에서는 'user-card'라는 사용자 카드 컴포넌트를 만듭니다."}),`
`,n.jsx(e.h4,{children:"HTML 템플릿 정의"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<template id="user-card-template">
  <style>
    .card {
      border: 1px solid gray;
      padding: 10px;
      border-radius: 5px;
    }
  </style>
  <div class="card">
    <p><slot name="username"></slot></p>
    <p><slot name="email"></slot></p>
  </div>
</template>
`})}),`
`,n.jsx(e.h4,{children:"커스텀 엘리먼트 정의"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`class UserCard extends HTMLElement {
  constructor() {
    super();

    // Shadow DOM을 연결
    const shadowRoot = this.attachShadow({ mode: 'open' });

    // 템플릿 가져오기 및 복제
    const template = document.getElementById('user-card-template');
    const instance = template.content.cloneNode(true);

    // Shadow DOM에 템플릿 붙이기
    shadowRoot.appendChild(instance);
  }
}

// 커스텀 엘리먼트 등록
customElements.define('user-card', UserCard);
`})}),`
`,n.jsx(e.h4,{children:"HTML 페이지에서 사용"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<user-card>
  <span slot="username">홍길동</span>
  <span slot="email">hong@example.com</span>
</user-card>
`})}),`
`,n.jsx(e.h4,{children:"커스텀 엘리먼트 LifeCycle"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"constructor: 커스텀 엘리먼트가 생성될 때 호출됩니다."}),`
`,n.jsx(e.li,{children:"connectedCallback: 커스텀 엘리먼트가 DOM에 연결될 때 호출됩니다."}),`
`,n.jsx(e.li,{children:"adoptedCallback: 커스텀 엘리먼트가 새 문서로 이동할 때 호출됩니다."}),`
`,n.jsx(e.li,{children:"attributeChangedCallback: 커스텀 엘리먼트의 속성이 추가, 제거, 변경될 때 호출됩니다."}),`
`,n.jsx(e.li,{children:"disconnectedCallback: 커스텀 엘리먼트가 DOM에서 제거될 때 호출됩니다."}),`
`]}),`
`,n.jsx(e.p,{children:"ex)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`class UserCard extends HTMLElement {
  constructor() {
    super();
    this.attachShadow({ mode: 'open' });
  }

  connectedCallback() {
    this.shadowRoot.innerHTML = \`
      <style>
        .card {
          border: 1px solid gray;
          padding: 10px;
          border-radius: 5px;
        }
      </style>
      <div class="card">
        <p><slot name="username"></slot></p>
        <p><slot name="email"></slot></p>
      </div>
    \`;
  }

  static get observedAttributes() {
    return ['username', 'email'];
  }

  attributeChangedCallback(name, oldValue, newValue) {
    if (name === 'username') {
      this.querySelector('[slot="username"]').textContent = newValue;
    }
    if (name === 'email') {
      this.querySelector('[slot="email"]').textContent = newValue;
    }
  }

  disconnectedCallback() {
    console.log('UserCard가 DOM에서 제거되었습니다.');
  }

  adoptedCallback() {
    console.log('UserCard가 새 문서로 이동되었습니다.');
  }

  set username(value) {
    this.setAttribute('username', value);
  }

  get username() {
    return this.getAttribute('username');
  }

  set email(value) {
    this.setAttribute('email', value);
  }

  get email() {
    return this.getAttribute('email');
  }
}
`})}),`
`,n.jsx(e.p,{children:"props는 위에서와 같이 getter, setter를 사용하여 구현할 수 있습니다."}),`
`,n.jsx(e.h3,{children:"장점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"재사용성"}),": 동일한 컴포넌트를 여러 프로젝트 또는 페이지에서 재사용할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"독립성"}),": Shadow DOM 덕분에 스타일과 로직이 주변 환경과 격리되어 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"호환성"}),": 웹 컴포넌트는 웹 표준을 기반으로 하므로 다양한 프레임워크와 라이브러리와 호환됩니다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"결론"}),`
`,n.jsx(e.p,{children:"웹 컴포넌트는 웹에서 네이티브로 지원하는 컴포넌트 시스템을 활용하여 독립적이고 재사용 가능한 UI 구성 요소를 만드는 방법입니다. 이를 통해 개발자는 효과적으로 코드를 구성하고 유지 관리할 수 있습니다."})]})}function Xve(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(tP,{...t})}):tP(t)}const Yve=je({});function Kve(){return n.jsx(Se,{children:n.jsx(Xve,{components:Yve})})}const Zve=ve("/_layout/til/web/web-component")({component:Kve,head:()=>({meta:[{title:"web component"}]})});function nP(t){const e={code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Sounds and Recording on Web"}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"1. 소리의 본질: 파형(Waveform)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"소리는 공기의 압력 변화가 시간에 따라 전파되는 **파동(wave)**이다."}),`
`,n.jsx(e.li,{children:"디지털로는 시간에 따른 진폭(Amplitude)으로 표현된다."}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Waveform"}),"은 소리의 시간 축과 진폭 축을 표현한 가장 기본적인 시각화 방식이다."]}),`
`,n.jsx(e.li,{children:"주기(Frequency)가 짧을수록 높은 음, 길수록 낮은 음을 의미한다."}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"2. 주파수 분석: 푸리에 변환 (Fourier Transform)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"복잡한 파형을 단순한 주파수 성분들의 조합으로 분해하는 수학적 도구이다."}),`
`,n.jsx(e.li,{children:"**FFT(Fast Fourier Transform)**는 이를 빠르게 계산할 수 있는 알고리즘이다."}),`
`,n.jsx(e.li,{children:"**주파수 스펙트럼(Spectrum)**은 각 주파수 대역에 얼마나 강한 에너지가 존재하는지를 시각화한다."}),`
`,n.jsxs(e.li,{children:["Web Audio API의 ",n.jsx(e.code,{children:"AnalyserNode.getByteFrequencyData()"}),"로 구현 가능하다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"3. 시간 + 주파수: 스펙트로그램 (Spectrogram)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스펙트럼을 시간 축에 따라 변화하는 형태로 표현한 시각화 방법."}),`
`,n.jsx(e.li,{children:"x축: 시간 / y축: 주파수 / 색상: 에너지 또는 볼륨"}),`
`,n.jsx(e.li,{children:"소리의 세부 구조나 감정적 특징 분석에 유용함."}),`
`,n.jsx(e.li,{children:"음성 인식, 새소리 분류, 음악 분류 등의 ML 분야에서 활용됨."}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"4. 음의 높이(Pitch) 표현"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"음의 높이는 **기본 주파수(Fundamental Frequency)**에 의해 결정됨."}),`
`,n.jsx(e.li,{children:"A4는 440Hz, 반음마다 2^(1/12)씩 차이 남."}),`
`,n.jsx(e.li,{children:"Pitch Detection 알고리즘: Autocorrelation, YIN, Harmonic Product Spectrum 등"}),`
`,n.jsx(e.li,{children:"실제 구현 시 Web Audio API의 주파수 분석 + 커스텀 알고리즘을 결합"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"5. 볼륨/에너지 표현"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"소리의 크기는 RMS(Root Mean Square) 등의 수학적 계산으로 나타냄"}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"AnalyserNode.getByteTimeDomainData()"}),"도 사용 가능"]}),`
`,n.jsx(e.li,{children:"실시간 볼륨 바, LED Meter 구현에 활용"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"6. 웹 시각화 구현 예시 (Web Audio API)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`const analyser = audioContext.createAnalyser();
analyser.fftSize = 2048;
const dataArray = new Uint8Array(analyser.frequencyBinCount);
analyser.getByteFrequencyData(dataArray);
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"위 데이터를 기반으로 Canvas나 SVG로 시각화 가능"}),`
`,n.jsx(e.li,{children:"주파수 막대, 파형 애니메이션 등 구현 가능"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"7. 관련 이론 및 키워드 정리"}),`
`,n.jsx(e.p,{children:`| 분야    | 키워드                             |
| ----- | ------------------------------- |
| 신호 처리 | FFT, STFT, Windowing            |
| 음향학   | Frequency, Amplitude, Phase     |
| 청각 이론 | Equal-loudness curve, Mel scale |
| 음악 이론 | Pitch, Timbre, Overtones        |
| ML 활용 | MFCC, Spectrograms, CNN         |`}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"8. 추천 라이브러리/도구"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Tone.js"})," : 음악 시퀀싱, 신디사이저 기능까지 포함한 Web Audio 라이브러리"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Howler.js"})," : 오디오 재생 중심의 견고한 JS 라이브러리"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"use-sound"})," : React에서 Howler.js 기반의 훅 제공"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"p5.sound"})," : 시각화와 함께 배우기에 유용"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Sonic Visualiser"})," : 실제 오디오 데이터를 시각화할 수 있는 툴"]}),`
`]}),`
`,n.jsx(e.hr,{})]})}function Qve(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(nP,{...t})}):nP(t)}const Jve=je({});function e_e(){return n.jsx(Se,{children:n.jsx(Qve,{components:Jve})})}const t_e=ve("/_layout/til/web/sounds-and-recording-on-web")({component:e_e,head:()=>({meta:[{title:"sounds and recording on web"}]})});function iP(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Sitemap"}),`
`,n.jsx(e.h2,{children:"Sitemap이란?"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Sitemap은 웹사이트의 ",n.jsx(e.strong,{children:"페이지 구조를 검색엔진에 알려주는 XML 파일"}),"이다."]}),`
`,n.jsxs(e.li,{children:["검색엔진은 sitemap을 통해 ",n.jsx(e.strong,{children:"모든 중요한 URL"}),"을 빠르게 발견하고 크롤링할 수 있다."]}),`
`,n.jsxs(e.li,{children:["일반적으로 ",n.jsx(e.code,{children:"sitemap.xml"}),"이라는 이름으로 사용되며, 도메인 루트에 위치한다 (",n.jsx(e.code,{children:"https://example.com/sitemap.xml"}),")."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"기본 구조"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-xml",children:`<?xml version="1.0" encoding="UTF-8"?>
<urlset xmlns="https://www.sitemaps.org/schemas/sitemap/0.9">
  <url>
    <loc>https://example.com/</loc>
    <lastmod>2025-06-16</lastmod>
    <changefreq>weekly</changefreq>
    <priority>1.0</priority>
  </url>
</urlset>
`})}),`
`,n.jsx(e.h3,{children:"주요 태그 설명"}),`
`,n.jsxs(e.p,{children:[`| 태그             | 필수 여부 | 설명                               |
| -------------- | ----- | -------------------------------- |
| `,n.jsx(e.code,{children:"<loc>"}),`        | ✅ 필수  | 절대 URL 주소                        |
| `,n.jsx(e.code,{children:"<lastmod>"}),`    | ⭕ 선택  | 마지막 수정일 (ISO 8601 형식)            |
| `,n.jsx(e.code,{children:"<changefreq>"})," | ⭕ 선택  | 페이지 변경 빈도 (",n.jsx(e.code,{children:"daily"}),", ",n.jsx(e.code,{children:"weekly"}),`, 등) |
| `,n.jsx(e.code,{children:"<priority>"}),"   | ⭕ 선택  | 상대적 중요도 (0.0 ~ 1.0)             |"]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"제한 사항"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"최대 URL 수"}),": 하나의 sitemap에는 최대 ",n.jsx(e.strong,{children:"50,000개 URL"}),"까지 포함 가능"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"파일 크기 제한"}),": 압축되지 않은 상태로 ",n.jsx(e.strong,{children:"50MB 이하"})]}),`
`,n.jsxs(e.li,{children:["이를 초과하면 sitemap을 나누고 **",n.jsx(e.code,{children:"sitemap_index.xml"}),"**로 묶어서 제출해야 함"]}),`
`]}),`
`,n.jsx(e.h3,{children:"Sitemap Index 예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-xml",children:`<sitemapindex xmlns="https://www.sitemaps.org/schemas/sitemap/0.9">
  <sitemap>
    <loc>https://example.com/sitemap-1.xml</loc>
    <lastmod>2025-06-15</lastmod>
  </sitemap>
  <sitemap>
    <loc>https://example.com/sitemap-2.xml</loc>
    <lastmod>2025-06-16</lastmod>
  </sitemap>
</sitemapindex>
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"SPA에서 Sitemap 생성 방법"}),`
`,n.jsxs(e.p,{children:["SPA(예: React + Vite 등)를 사용하는 경우에는 sitemap을 수동으로 작성하거나 빌드 시 생성하는 방식이 필요하다. 반면, ",n.jsx(e.strong,{children:"Next.js"}),"나 ",n.jsx(e.strong,{children:"Astro"}),"와 같은 프레임워크는 ",n.jsx(e.strong,{children:"정적 사이트 생성을 지원하므로 sitemap 생성 기능이 내장되어 있거나 플러그인으로 쉽게 확장 가능"}),"하다."]}),`
`,n.jsx(e.p,{children:"즉, TanStack Router와 같은 순수 SPA 라우터를 사용하는 경우에는 sitemap을 직접 생성하거나, Node 스크립트를 활용한 자동화가 필요하다."}),`
`,n.jsxs(e.h3,{children:["방법 1: ",n.jsx(e.code,{children:"sitemap"})," 패키지 사용"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"설치"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`npm install sitemap
`})}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsxs(e.li,{children:["스크립트 작성 (",n.jsx(e.code,{children:"scripts/sitemap-generator.js"}),")"]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`const { SitemapStream, streamToPromise } = require('sitemap');
const { createWriteStream } = require('fs');

async function generateSitemap() {
  const sitemap = new SitemapStream({ hostname: 'https://example.com' });

  sitemap.write({ url: '/', changefreq: 'weekly', priority: 1.0 });
  sitemap.write({ url: '/about', changefreq: 'monthly', priority: 0.8 });

  sitemap.end();
  const data = await streamToPromise(sitemap);
  createWriteStream('./public/sitemap.xml').end(data);
}

generateSitemap();
`})}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"빌드시 실행하도록 연결"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-json",children:`"scripts": {
  "generate:sitemap": "node scripts/sitemap-generator.js",
  "build": "npm run generate:sitemap && vite build"
}
`})}),`
`,n.jsxs(e.h3,{children:["방법 2: 동적 라우트 적용 (예: ",n.jsx(e.code,{children:"/blog/:slug"}),")"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"API로 슬러그 목록을 받아 동적으로 sitemap에 추가"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"🤖 검색엔진에 제출"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://search.google.com/search-console/",children:"Google Search Console"}),'에 접속 → 도메인 인증 → "사이트맵" 메뉴에 ',n.jsx(e.code,{children:"sitemap.xml"})," 제출"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"robots.txt"})," 파일에 경로 명시"]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-txt",children:`Sitemap: https://example.com/sitemap.xml
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"🧠 기타 확장"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"다국어 지원"}),": ",n.jsx(e.code,{children:'<xhtml:link rel="alternate" hreflang="..." />'})," 사용"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"이미지 sitemap"}),": ",n.jsx(e.code,{children:"<image:image>"})," 태그 사용"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"동영상, 뉴스"})," 등의 특별 sitemap도 존재함"]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"✅ 요약 정리"}),`
`,n.jsxs(e.p,{children:[`| 항목            | 설명                                                                                 |
| ------------- | ---------------------------------------------------------------------------------- |
| 파일 형식         | XML (표준 구조 따라야 함)                                                                  |
| URL 수         | 50,000개 이하                                                                         |
| 파일 크기         | 50MB 이하 (미압축 기준)                                                                   |
| robots.txt 연동 | `,n.jsx(e.code,{children:"Sitemap: https://example.com/sitemap.xml"}),` 명시 필요                                   |
| 제출 경로         | Google Search Console 등                                                            |
| 동적 생성 가능      | Node.js + `,n.jsx(e.code,{children:"sitemap"}),` 패키지 이용 가능                                                      |
| 다국어 처리        | `,n.jsx(e.code,{children:'<xhtml:link hreflang="..." />'}),` 태그를 이용해 언어별 URL을 명시하고, 동일 콘텐츠에 대해 언어 버전을 함께 연결해야 함 |
| 항목            | 설명                                                                                 |
| ------        | ------                                                                             |
| 파일 형식         | XML (표준 구조 따라야 함)                                                                  |
| URL 수         | 50,000개 이하                                                                         |
| 파일 크기         | 50MB 이하 (미압축 기준)                                                                   |
| robots.txt 연동 | `,n.jsx(e.code,{children:"Sitemap: https://example.com/sitemap.xml"}),` 명시 필요                                   |
| 제출 경로         | Google Search Console 등                                                            |
| 동적 생성 가능      | Node.js + `,n.jsx(e.code,{children:"sitemap"})," 패키지 이용 가능                                                      |"]}),`
`,n.jsx(e.hr,{})]})}function n_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(iP,{...t})}):iP(t)}const i_e=je({});function r_e(){return n.jsx(Se,{children:n.jsx(n_e,{components:i_e})})}const s_e=ve("/_layout/til/web/sitemap")({component:r_e,head:()=>({meta:[{title:"sitemap"}]})});function rP(t){const e={a:"a",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How does the Internet work"}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"/til/algorithm/depth-first-search-algorithm",children:"aaaa"})}),`
`,n.jsx(e.h2,{children:"인터넷의 역사"}),`
`,n.jsx(e.h3,{children:"초기 시작과 ARPANET"}),`
`,n.jsx(e.p,{children:"인터넷의 시작은 1960년대 미국에서 비롯되었습니다. 당시 미국 국방부는 군사 연구 프로젝트의 일환으로 ARPANET[^1]을 개발했습니다. ARPANET은 네트워크 상의 컴퓨터들이 서로 데이터를 주고받을 수 있는 시스템으로, 1969년 미국의 몇몇 대학과 연구소를 연결하면서 처음 실험되었습니다. 이는 인터넷의 태동기로 볼 수 있습니다."}),`
`,n.jsx(e.h3,{children:"TCP/IP와 네트워크의 확장"}),`
`,n.jsx(e.p,{children:"1980년대에 들어와서, 인터넷은 더 넓은 범위의 네트워크를 연결할 필요가 있었습니다. 이를 가능하게 한 것이 TCP/IP[^2]라는 프로토콜입니다. 프로토콜이란, 컴퓨터 간에 데이터를 주고받기 위한 규칙입니다. TCP/IP는 네트워크 간의 데이터 전송을 표준화하여, 다양한 네트워크가 서로 연결되고 통신할 수 있게 해주었습니다."}),`
`,n.jsx(e.h3,{children:"월드 와이드 웹의 탄생과 대중화"}),`
`,n.jsx(e.p,{children:"1990년대 초반, 팀 버너스 리(Tim Berners-Lee)가 월드 와이드 웹[^3]을 개발하면서 인터넷은 혁신적인 변화를 맞이했습니다. 월드 와이드 웹은 인터넷 상의 정보를 하이퍼텍스트(링크)를 통해 쉽게 접근할 수 있도록 만든 시스템입니다. 이후 그래픽 웹 브라우저인 모자이크(Mosaic)가 등장하면서, 텍스트뿐만 아니라 이미지와 멀티미디어를 포함한 다양한 콘텐츠를 쉽게 볼 수 있게 되었습니다. 이는 일반 대중이 인터넷을 사용하게 된 중요한 계기였습니다."}),`
`,n.jsx(e.h2,{children:"인터넷의 원리"}),`
`,n.jsx(e.h3,{children:"패킷 교환"}),`
`,n.jsx(e.p,{children:"인터넷의 핵심 원리는 '패킷 교환(Packet Switching)'[^4]입니다. 패킷 교환은 데이터를 작은 조각인 패킷으로 나누어 전송하는 방식입니다. 예를 들어, 이메일을 보내면 그 내용이 작은 패킷들로 쪼개져 각각 목적지로 전송됩니다. 각 패킷은 송신지와 수신지의 주소를 포함하고 있으며, 최적의 경로를 통해 전달됩니다. 목적지에 도착한 패킷들은 원래의 데이터로 재조립됩니다."}),`
`,n.jsx(e.h3,{children:"TCP/IP 프로토콜"}),`
`,n.jsx(e.p,{children:"TCP/IP는 데이터가 신뢰성 있게 전달되도록 하는 규칙입니다. TCP[^5]는 데이터를 패킷으로 나누고, 전송된 패킷들이 제대로 도착했는지 확인하며, 손실된 패킷이 있으면 재전송합니다. IP[^6]는 각 패킷에 송신지와 수신지의 주소를 부여하여, 패킷이 목적지까지 도달할 수 있게 합니다. 이 두 프로토콜이 함께 작동하여, 인터넷 상에서 안정적이고 신뢰성 있는 데이터 전송을 가능하게 합니다."}),`
`,n.jsx(e.h2,{children:"인터넷의 주인"}),`
`,n.jsx(e.h3,{children:"분산된 소유 구조"}),`
`,n.jsx(e.p,{children:"인터넷은 특정 개인이나 단체의 소유가 아닙니다. 오히려 인터넷은 수많은 독립적인 네트워크들이 상호 연결된 거대한 시스템입니다. 이러한 네트워크는 다양한 기관, 기업, 정부 등에 의해 운영됩니다. 예를 들어, 구글, 아마존, 페이스북 같은 기업들은 자체적인 대규모 네트워크를 운영하며, 각국의 통신사들도 국가 단위의 네트워크를 관리합니다."}),`
`,n.jsx(e.h3,{children:"국제 기구와 협회"}),`
`,n.jsx(e.p,{children:"인터넷의 운영과 관리는 여러 국제 기구와 협회에 의해 조정됩니다. 대표적인 기구로는 ICANN[^7]과 IETF[^8]가 있습니다. ICANN은 도메인 이름과 IP 주소의 할당을 관리합니다. 예를 들어, 우리가 사용하는 'google.com'과 같은 도메인 이름을 관리합니다. IETF는 인터넷 표준을 개발하고 유지하며, 인터넷이 전 세계적으로 원활하게 작동하도록 돕습니다."}),`
`,n.jsx(e.h2,{children:"인터넷의 연결"}),`
`,n.jsx(e.h3,{children:"물리적 인프라"}),`
`,n.jsx(e.p,{children:"인터넷 연결은 물리적인 인프라를 통해 이루어집니다. 이는 광케이블, 구리선, 위성, 무선 통신 등을 포함합니다. 이러한 물리적 매체를 통해 데이터가 전송됩니다. 예를 들어, 가정에서 인터넷을 사용할 때, 데이터는 집 내부의 와이파이(무선) 네트워크를 통해 인터넷 서비스 제공업체(ISP)[^9]의 네트워크로 전달됩니다."}),`
`,n.jsx(e.h3,{children:"인터넷 서비스 제공업체(ISP)"}),`
`,n.jsx(e.p,{children:"ISP는 인터넷을 제공하는 회사입니다. 예를 들어, KT, LG유플러스, SK브로드밴드와 같은 회사들이 ISP입니다. ISP는 사용자와 인터넷 백본(Backbone)[^10] 간의 연결을 담당합니다. 백본은 주요 인터넷 트래픽을 처리하는 대규모 네트워크로, 글로벌 ISP와 지역 ISP를 연결합니다. 이 과정에서 라우터[^11]와 스위치[^12]와 같은 네트워크 장비가 사용되어 데이터를 목적지까지 효율적으로 전달합니다."}),`
`,n.jsx(e.h2,{children:"인터넷의 흐름"}),`
`,n.jsx(e.h3,{children:"클라이언트-서버 모델"}),`
`,n.jsx(e.p,{children:"인터넷의 데이터 흐름은 주로 클라이언트-서버 모델[^13]에 의해 이루어집니다. 클라이언트는 웹 브라우저, 이메일 클라이언트, 모바일 앱과 같은 사용자의 디바이스를 의미합니다. 서버는 데이터를 제공하는 원격 컴퓨터입니다. 예를 들어, 사용자가 웹사이트에 접속하면, 그 웹사이트의 서버가 사용자에게 웹페이지 데이터를 전송합니다."}),`
`,n.jsx(e.h3,{children:"DNS의 역할"}),`
`,n.jsx(e.p,{children:"DNS(Domain Name System)[^14]는 도메인 이름을 IP 주소로 변환하는 시스템입니다. 예를 들어, 사용자가 'google.com'을 입력하면, DNS는 이 도메인을 '142.250.207.206'와 같은 IP 주소로 변환하여 사용자가 원하는 웹사이트에 접속할 수 있게 합니다. 이는 전화번호부에서 이름으로 전화번호를 찾는 것과 유사한 역할을 합니다."}),`
`,n.jsx(e.h3,{children:"데이터 전송 프로토콜"}),`
`,n.jsx(e.p,{children:"인터넷에서 데이터는 다양한 프로토콜을 통해 전송됩니다. 가장 일반적인 프로토콜은 HTTP[^15](웹 페이지 전송), HTTPS[^16](보안 웹 페이지 전송), FTP[^17](파일 전송), SMTP[^18](이메일 전송) 등이 있습니다. 이러한 프로토콜은 데이터 전송의 규칙을 정의하며, 데이터의 무결성과 보안을 보장합니다. 예를 들어, HTTPS는 웹페이지 데이터를 암호화하여 사용자와 서버 간의 통신을 보호합니다."}),`
`,n.jsx(e.hr,{}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["[^1]: ",n.jsx(e.strong,{children:"ARPANET"}),": Advanced Research Projects Agency Network의 약자. 미국 국방부의 연구 프로젝트로 시작된 초기 인터넷 네트워크."]}),`
`,n.jsxs(e.li,{children:["[^2]: ",n.jsx(e.strong,{children:"TCP/IP"}),": Transmission Control Protocol/Internet Protocol의 약자. 데이터 전송의 표준 규칙."]}),`
`,n.jsxs(e.li,{children:["[^3]: ",n.jsx(e.strong,{children:"월드 와이드 웹"}),": 인터넷 상의 정보를 하이퍼텍스트를 통해 접근할 수 있도록 만든 시스템."]}),`
`,n.jsxs(e.li,{children:["[^4]: ",n.jsx(e.strong,{children:"패킷 교환"}),": 데이터를 작은 조각으로 나누어 전송하는 방식."]}),`
`,n.jsxs(e.li,{children:["[^5]: ",n.jsx(e.strong,{children:"TCP"}),": Transmission Control Protocol의 약자. 데이터를 패킷으로 나누고 전송을 확인하는 프로토콜."]}),`
`,n.jsxs(e.li,{children:["[^6]: ",n.jsx(e.strong,{children:"IP"}),": Internet Protocol의 약자. 패킷에 주소를 부여하여 전달하는 프로토콜."]}),`
`,n.jsxs(e.li,{children:["[^7]: ",n.jsx(e.strong,{children:"ICANN"}),": Internet Corporation for Assigned Names and Numbers의 약자. 도메인 이름과 IP 주소 할당을 관리하는 기구."]}),`
`,n.jsxs(e.li,{children:["[^8]: ",n.jsx(e.strong,{children:"IETF"}),": Internet Engineering Task Force의 약자. 인터넷 표준을 개발하고 유지하는 기구."]}),`
`,n.jsxs(e.li,{children:["[^9]: ",n.jsx(e.strong,{children:"ISP"}),": Internet Service Provider의 약자. 인터넷 서비스를 제공하는 회사."]}),`
`,n.jsxs(e.li,{children:["[^10]: ",n.jsx(e.strong,{children:"백본"}),": 주요 인터넷 트래픽을 처리하는 대규모 네트워크."]}),`
`,n.jsxs(e.li,{children:["[^11]: ",n.jsx(e.strong,{children:"라우터"}),": 네트워크 간의 데이터 경로를 설정하는 장비."]}),`
`,n.jsxs(e.li,{children:["[^12]: ",n.jsx(e.strong,{children:"스위치"}),": 네트워크 내에서 데이터를 전달하는 장비."]}),`
`,n.jsxs(e.li,{children:["[^13]: ",n.jsx(e.strong,{children:"클라이언트-서버 모델"}),": 사용자의 디바이스(클라이언트)와 데이터를 제공하는 컴퓨터(서버) 간의 데이터 흐름 모델."]}),`
`,n.jsxs(e.li,{children:["[^14]: ",n.jsx(e.strong,{children:"DNS"}),": Domain Name System의 약자. 도메인 이름을 IP 주소로 변환하는 시스템."]}),`
`,n.jsxs(e.li,{children:["[^15]: ",n.jsx(e.strong,{children:"HTTP"}),": HyperText Transfer Protocol의 약자. 웹 페이지 전송을 위한 프로토콜."]}),`
`,n.jsxs(e.li,{children:["[^16]: ",n.jsx(e.strong,{children:"HTTPS"}),": HyperText Transfer Protocol Secure의 약자. 보안 웹 페이지 전송을 위한 프로토콜."]}),`
`,n.jsxs(e.li,{children:["[^17]: ",n.jsx(e.strong,{children:"FTP"}),": File Transfer Protocol의 약자. 파일 전송을 위한 프로토콜."]}),`
`,n.jsxs(e.li,{children:["[^18]: ",n.jsx(e.strong,{children:"SMTP"}),": Simple Mail Transfer Protocol의 약자. 이메일 전송을 위한 프로토콜."]}),`
`]})]})}function a_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(rP,{...t})}):rP(t)}const o_e=je({});function l_e(){return n.jsx(Se,{children:n.jsx(a_e,{components:o_e})})}const c_e=ve("/_layout/til/web/how-does-the-internet-work")({component:l_e,head:()=>({meta:[{title:"how does the internet work"}]})});function sP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"DesignMode"}),`
`,n.jsx(e.p,{children:"chrome browser의 console에서 아래와 같은 코드를 실행하여 화면을 직접 수정하는 것이 가능한 상태로 변경할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`document.designMode = "on"; // 종료하기 위해서는 "off"
`})}),`
`,n.jsx(e.p,{children:"document의 element를 수정하는게 아니라 직접 화면을 수정할 수 있고, Drag & Drop도 가능합니다."})]})}function h_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(sP,{...t})}):sP(t)}const u_e=je({});function d_e(){return n.jsx(Se,{children:n.jsx(h_e,{components:u_e})})}const f_e=ve("/_layout/til/web/designMode")({component:d_e,head:()=>({meta:[{title:"designMode"}]})});function aP(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Cookie and Session"}),`
`,n.jsx(e.p,{children:"HTTP는 Stateless 프로토콜이기 때문에 클라이언트의 상태를 기억할 수 없다. 이를 보완하기 위한 방법이 바로 쿠키(Cookie)와 세션(Session)이다. 두 기술은 비슷해 보이지만, 저장 위치, 보안, 성능 측면에서 차이가 있으며, 상황에 따라 적절한 선택이 필요하다."}),`
`,n.jsx(e.h2,{children:"쿠키 (Cookie)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"저장 위치: 클라이언트(브라우저)"}),`
`,n.jsx(e.li,{children:"사용 목적: 사용자의 상태를 클라이언트에 저장 (예: 자동 로그인, 테마 설정)"}),`
`,n.jsxs(e.li,{children:["특징",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"HTTP 요청 시마다 자동으로 서버에 전송됨"}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Set-Cookie"})," 헤더로 서버가 생성"]}),`
`,n.jsxs(e.li,{children:["만료일 설정 가능 (",n.jsx(e.code,{children:"Expires"}),", ",n.jsx(e.code,{children:"Max-Age"}),")"]}),`
`,n.jsx(e.li,{children:"보안 취약점 있음: XSS, 탈취 등의 위험"}),`
`,n.jsxs(e.li,{children:["보호 방법: ",n.jsx(e.code,{children:"HttpOnly"}),", ",n.jsx(e.code,{children:"Secure"}),", ",n.jsx(e.code,{children:"SameSite"})," 속성"]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"세션 (Session)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"저장 위치: 서버"}),`
`,n.jsx(e.li,{children:"사용 목적: 로그인 상태 유지, 사용자 인증 등 민감한 정보 처리"}),`
`,n.jsxs(e.li,{children:["특징",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["세션 ID만 클라이언트에 저장 (",n.jsx(e.code,{children:"Set-Cookie: sessionId=..."}),")"]}),`
`,n.jsx(e.li,{children:"서버가 실제 데이터를 저장하고 관리"}),`
`,n.jsx(e.li,{children:"보안성이 높음 (데이터가 클라이언트에 노출되지 않음)"}),`
`,n.jsx(e.li,{children:"리소스 소비가 커서 사용자 수가 많으면 서버 부담 가능"}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"쿠키 vs 세션 비교"}),`
`,n.jsx(e.p,{children:`| 항목    | 쿠키             | 세션                |
| ----- | -------------- | ----------------- |
| 저장 위치 | 클라이언트          | 서버                |
| 보안성   | 낮음 (노출 가능성 있음) | 높음 (서버에서만 접근 가능)  |
| 용량 제한 | 약 4KB          | 제한 없음 (서버 리소스 기반) |
| 유효 시간 | 지정 가능          | 브라우저 종료 시 or 타임아웃 |
| 서버 부담 | 낮음             | 높음                |
| 사용 예시 | 자동 로그인, 방문 기록  | 로그인 상태, 인증 유지     |`}),`
`,n.jsx(e.h2,{children:"오늘의 인사이트"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"쿠키는 브라우저에 저장되므로 클라이언트 중심의 상태 관리에 적합."}),`
`,n.jsx(e.li,{children:"세션은 서버가 상태를 관리하므로 보안이 중요한 정보에 적합."}),`
`,n.jsx(e.li,{children:"실제 웹 애플리케이션에서는 둘을 조합해서 사용하는 경우가 많다. 예: 쿠키에 토큰을 저장하고, 서버는 토큰 검증을 통해 세션을 유지."}),`
`]}),`
`,n.jsx(e.h2,{children:"추가 학습 예정"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"express-session"}),", ",n.jsx(e.code,{children:"cookie-parser"})," 등 Node.js에서의 쿠키/세션 사용법"]}),`
`,n.jsx(e.li,{children:"JWT (JSON Web Token)와의 차이점"}),`
`,n.jsx(e.li,{children:"SameSite 쿠키 정책과 CORS 관련 보안 이슈"}),`
`]})]})}function p_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(aP,{...t})}):aP(t)}const m_e=je({});function g_e(){return n.jsx(Se,{children:n.jsx(p_e,{components:m_e})})}const x_e=ve("/_layout/til/web/cookie-and-session")({component:g_e,head:()=>({meta:[{title:"cookie and session"}]})});function oP(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"ActivityPub"}),`
`,n.jsx(e.h2,{children:"ActivityPub이란?"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"ActivityPub"}),"은 W3C(World Wide Web Consortium)에서 표준으로 제정한 ",n.jsx(e.strong,{children:"분산 소셜 네트워크 프로토콜"}),"입니다. 소셜 네트워크 플랫폼 간의 상호운용성을 가능하게 해주는 백엔드 통신 규약으로, 유저의 활동(게시, 댓글, 좋아요 등)을 표현하고 전달하는 ",n.jsx(e.strong,{children:"ActivityStreams 2.0"}),"을 기반으로 동작합니다."]}),`
`,n.jsx(e.h3,{children:"주요 개념"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Actor"}),": 활동 주체. 개인 사용자일 수도 있고, 봇이나 서비스일 수도 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Activity"}),": 행위. ex) Create, Follow, Like 등."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Object"}),": 행위의 대상. ex) 게시글, 댓글, 사용자 등."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Inbox/Outbox"}),": Actor가 메시지를 송수신하는 곳. Outbox는 본인의 행동, Inbox는 외부에서 온 행동(팔로우, 댓글 등)."]}),`
`]}),`
`,n.jsx(e.h3,{children:"예시"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["A 사용자가 B를 팔로우: ",n.jsx(e.code,{children:"Follow"})," 액티비티를 B의 inbox에 전송."]}),`
`,n.jsxs(e.li,{children:["A 사용자가 글을 올림: ",n.jsx(e.code,{children:"Create"})," 액티비티가 자신의 outbox에 게시됨."]}),`
`]}),`
`,n.jsx(e.h2,{children:"Fediverse란?"}),`
`,n.jsxs(e.p,{children:["**Fediverse(Federated + Universe)**는 ActivityPub과 같은 표준 프로토콜을 기반으로 하는 ",n.jsx(e.strong,{children:"분산된 소셜 네트워크들의 생태계"}),"입니다. 각 서비스는 독립적인 서버(노드)로 운영되며, 서로 연결되어 있어 다양한 플랫폼 간 상호작용이 가능합니다."]}),`
`,n.jsx(e.h3,{children:"구성 요소"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"서버"}),": 개별 독립 인스턴스. 운영자는 누구나 서버를 만들 수 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"사용자"}),": 서버에 가입한 유저. 서로 다른 서버에 있는 사용자끼리도 소통 가능."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"프로토콜"}),": ActivityPub 외에도 Diaspora*, OStatus, Zot 등이 있음. 하지만 ActivityPub이 가장 널리 사용됨."]}),`
`]}),`
`,n.jsx(e.h3,{children:"예시 서비스"}),`
`,n.jsx(e.p,{children:`| 서비스      | 설명                  | 비고             |
| -------- | ------------------- | -------------- |
| Mastodon | 트위터 유사 마이크로블로깅      | ActivityPub 지원 |
| Pixelfed | 인스타그램 유사 이미지 공유     | ActivityPub 지원 |
| PeerTube | 유튜브 유사 분산 동영상 플랫폼   | ActivityPub 지원 |
| Misskey  | Mastodon 유사 SNS 플랫폼 | ActivityPub 호환 |`}),`
`,n.jsx(e.h3,{children:"연동 시나리오"}),`
`,n.jsx(e.p,{children:"Mastodon 사용자 A가 Pixelfed 사용자 B의 사진을 좋아요 할 수 있고, 댓글도 달 수 있음. 이 모든 활동은 ActivityPub 메시지로 서로의 서버를 통해 전달됨."}),`
`,n.jsx(e.h2,{children:"장점과 한계"}),`
`,n.jsx(e.h3,{children:"장점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"탈중앙화"}),": 트위터나 페이스북처럼 하나의 회사가 모든 데이터를 통제하지 않음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"자유로운 운영"}),": 누구나 서버를 만들어 자율적으로 운영 가능."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"상호운용성"}),": 다양한 앱 간 자유로운 소통이 가능."]}),`
`]}),`
`,n.jsx(e.h3,{children:"단점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"UX 통일성 부족"}),": 플랫폼마다 UI/UX가 상이함."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Moderation 이슈"}),": 분산 시스템 특성상 콘텐츠 필터링/통제가 어려움."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Onboarding 난이도"}),": 일반 사용자에게는 진입 장벽이 다소 있음."]}),`
`]})]})}function y_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(oP,{...t})}):oP(t)}const v_e=je({});function __e(){return n.jsx(Se,{children:n.jsx(y_e,{components:v_e})})}const b_e=ve("/_layout/til/web/activityPub")({component:__e,head:()=>({meta:[{title:"activityPub"}]})});function lP(t){const e={code:"code",h1:"h1",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"A11y"}),`
`,n.jsxs(e.p,{children:["a11y는 accessibiliy의 약자로서 a와 y의 사이에 11개의 글자가 있어서 a11y로 표기하고 있습니다. 이 a11y는 장애인, 비장애인의 구분 없이 웹 서비스를 이용할 수 있도록 하기 위한 지침인데, 한국에서는 ",n.jsx(e.code,{children:"인식의 용이성"}),", ",n.jsx(e.code,{children:"운용의 용이성"}),", ",n.jsx(e.code,{children:"이해의 용이성"}),", ",n.jsx(e.code,{children:"견고성"})," 4가지를 원칙으로 가지고 있습니다."]}),`
`,n.jsx(e.p,{children:"a11y관련하여 지침이 잘 지켜지고 있는지 체크하는 라이브러리들도 많이 제공되니, 사용하면 좋을것 같습니다."}),`
`,n.jsx(e.p,{children:"a11y 지침의 예)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["이미지에 대한 대체 텍스트에 자세한 설명을 포함해야한다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:'<img src="..." alt="gitsunmin 카페 오픈 안내 그림 - 카페 gitsunmin이 오픈 하였습니다. 누구나 언제든 커피를 마실 수 있도록 준비 되어 있습니다.">'})}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["저시력자, 노인 등 콘텐츠를 인식할 수 있도록, 배경과 텍스트의 명도 대비는 ",n.jsx(e.code,{children:"4.5:1"})," 이상으로 제공해야합니다."]}),`
`,n.jsx(e.li,{children:"광과민성 발직을 예방하기 위해서 초당 3~50회 주기로 깜빡이는 콘텐츠를 제공하지 않아야한다."}),`
`,n.jsx(e.li,{children:"등등.."}),`
`]})]})}function j_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(lP,{...t})}):lP(t)}const S_e=je({});function w_e(){return n.jsx(Se,{children:n.jsx(j_e,{components:S_e})})}const T_e=ve("/_layout/til/web/a11y")({component:w_e,head:()=>({meta:[{title:"a11y"}]})});function cP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Typescript infer keyword"}),`
`,n.jsx(e.p,{children:"Typescript에는 함수를 이용하여 함수의 반환 타입을 만들 수 있는 유틸리티 타입인 ReturnType이 있는데, 아래와 같이 생겼습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`type ReturnType<
	    T extends (...args: any) => any
    > = T extends (...args: any) => infer R ?
    R : any;
`})}),`
`,n.jsxs(e.p,{children:["여기서 ",n.jsx(e.code,{children:"infer"}),"라는 키워드를 볼 수 있는데, 이 ",n.jsx(e.code,{children:"infer"})," 의 사전적 의미로는 “추론”이라는 뜻이 있습니다. 단순히 ReturnType을 읽어보면, ",n.jsx(e.code,{children:"T"})," 는 ",n.jsx(e.code,{children:"(…args: any) ⇒ any"})," 함수의 Type 집합 안에 있고, ",n.jsx(e.code,{children:"T"}),"의 결과값을 ",n.jsx(e.code,{children:"R"}),"이라는 값으로 추론합니다."]}),`
`,n.jsxs(e.p,{children:["즉, ",n.jsx(e.code,{children:"infer"}),"는 ",n.jsx(e.code,{children:"extends"})," 키워드를 이용하여 새로운 Type으로 치환하여 이 치환된 Type을 이용할 수 있도록 도와주는 키워드입니다."]})]})}function C_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(cP,{...t})}):cP(t)}const M_e=je({});function E_e(){return n.jsx(Se,{children:n.jsx(C_e,{components:M_e})})}const A_e=ve("/_layout/til/typescript/typescript-infer-keyword")({component:E_e,head:()=>({meta:[{title:"typescript infer keyword"}]})});function hP(t){const e={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"ts-pattern"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://github.com/gvergnaud/ts-pattern",children:"ts-pattern"}),"은 Typescript로 함수형 프로그래밍 언어에서 지원하는 Pattern Matching(=패턴 매칭)이라는 문법을 사용할 수 있도록 지원하는 라이브러리 입니다."]}),`
`,n.jsx(e.p,{children:"패턴 매칭은 위에서도 이야기 했듯이, 함수형 프로그래밍 언어에서 유래한 코드 분기 기법으로, 선언적 방식으로 값의 구조를 면밀히 조사할 수 있습니다. 특히 복잡한 데이터 구조나 여러 값에 대해 분기할 때 명령형 대안(if/else/스위치 문)에 비해 덜 장황하고 강력합니다."}),`
`,n.jsx(e.p,{children:"ts-pattern은 아래와 같이 예시를 제공해 주고 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { match, P } from 'ts-pattern';

type Data =
  | { type: 'text'; content: string }
  | { type: 'img'; src: string };

type Result =
  | { type: 'ok'; data: Data }
  | { type: 'error'; error: Error };

const result: Result = ...;

const html = match(result)
  .with({ type: 'error' }, () => \`<p>Oups! An error occured</p>\`)
  .with({ type: 'ok', data: { type: 'text' } }, (res) => \`<p>\${res.data.content}</p>\`)
  .with({ type: 'ok', data: { type: 'img', src: P.select() } }, (src) => \`<img src=\${src} />\`)
  .exhaustive();
`})}),`
`,n.jsxs(e.p,{children:["이렇게 ",n.jsx(e.code,{children:"match"}),"로 입력값을 받아서, ",n.jsx(e.code,{children:".with()"}),"와 같은 함수를 연속으로 사용하여 분기 처리를 할 수 있습니다. 또, ",n.jsx(e.code,{children:".with()"}),"안에 object로 구성된 패턴을 입력하면, 이 패턴과 매칭된 경우에는 패턴 다음으로 입력받은 콜백함수가 실행됩니다."]}),`
`,n.jsxs(e.p,{children:["추가적으로, 마지막에 ",n.jsx(e.code,{children:"exhaustive()"}),"와 같은 함수를 사용하여 예외에 대한 검증을 추가할 수 있습니다."]})]})}function R_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(hP,{...t})}):hP(t)}const L_e=je({});function D_e(){return n.jsx(Se,{children:n.jsx(R_e,{components:L_e})})}const k_e=ve("/_layout/til/typescript/ts-pattern")({component:D_e,head:()=>({meta:[{title:"ts pattern"}]})});function uP(t){const e={a:"a",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"ts-ignore and ts-expect-error"}),`
`,n.jsx(e.p,{children:"아래와 같은 Typescript 코드가 있다고 가정해보겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`function main() {
    let a = 1;
    
    a = 0; // OK
    a = false; // Not OK
//  ^ Type 'boolean' is not assignable to type 'number'. ts(2322)
}
`})}),`
`,n.jsxs(e.p,{children:["이러한 상황에서는 에러가 발생할 것이다. 하지만, ",n.jsx(e.code,{children:"// @ts-ignore"}),"를 사용하면 에러를 무시할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`function main() {
    let a = 1;
    
    a = 0; // OK
    // @ts-ignore
    a = false; // OK
}
`})}),`
`,n.jsx(e.p,{children:`하지만, 기껏 만들어준 에러를 무시하는게, 좋은 방법은 아니라고 생각합니다.
(몰래몰래 사용하면 될 것 같습니다.)`}),`
`,n.jsxs(e.p,{children:["이러한 케이스 외에도 Test 코드에서 사용하면 좋을 ",n.jsx(e.code,{children:"// @ts-expect-error"}),"가 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { match, P } from 'ts-pattern';

describe('exhaustive()', () => {
  describe('should exclude matched patterns from subsequent \`.with()\` clauses', () => {
    it('string literals', () => {
        match(input)
        .with('b', (x) => {
            type t = Expect<Equal<typeof x, 'b'>>;
            return 1;
        })
        // @ts-expect-error
        .exhaustive();
    });
  });
});

`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["참조: ",n.jsx(e.a,{href:"https://github.com/gvergnaud/ts-pattern",children:"ts-pattern repository"})]}),`
`]})]})}function N_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(uP,{...t})}):uP(t)}const P_e=je({});function O_e(){return n.jsx(Se,{children:n.jsx(N_e,{components:P_e})})}const B_e=ve("/_layout/til/typescript/ts-ignore-and-ts-expect-error")({component:O_e,head:()=>({meta:[{title:"ts ignore and ts expect error"}]})});function dP(t){const e={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Tagged Union Type (Discriminated Union)"}),`
`,n.jsx(e.p,{children:"먼저, union Type의 정의를 알아보자면, 아래와 같습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"컴퓨터 과학에서 'union type'은 여러 다른 타입 중 하나를 가질 수 있는 변수를 나타냅니다."}),`
`]}),`
`,n.jsx(e.p,{children:"이를 TypeScript에서는 아래와 같이 표현할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`interface Cash {
  amount: number;
}

interface PayPal {
  email: string;
}

interface CreditCard {
  cardNumber: string;
  securityCode: string;
}

type PaymentMethod = Cash | PayPal | CreditCard;
`})}),`
`,n.jsx(e.p,{children:"하지만, 위 코드는 PaymentMethod Type을 갖는 변수가 runtime 환경에서 어떤 타입을 갖는지 알 수 없습니다. 이를 해결하기 위해, Tagged Union Type을 사용할 수 있습니다."}),`
`,n.jsx(e.p,{children:"Tagged Union Type은 아래와 같이 표현할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`interface Cash {
  type: "cash";
  amount: number;
}

interface PayPal {
  type: "paypal";
  email: string;
}

interface CreditCard {
  type: "creditcard";
  cardNumber: string;
  securityCode: string;
}

type PaymentMethod = Cash | PayPal | CreditCard;
`})}),`
`,n.jsxs(e.p,{children:["위 코드에서는 각각의 Type에 ",n.jsx(e.code,{children:"type"}),"이라는 공통된 속성을 추가하였습니다. 이를 통해, runtime 환경에서 어떤 타입을 갖는지 알 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`function processPayment(method: PaymentMethod) {
  switch (method.type) {
    case "cash":
      return \`\${method.amount}\`;
    case "paypal":
      return \`\${method.email}\`;
    case "creditcard":
      return \`\${method.cardNumber}\`;
  }
}
`})}),`
`,n.jsxs(e.p,{children:["위 코드에서는 ",n.jsx(e.code,{children:"switch"}),"문을 통해, ",n.jsx(e.code,{children:"method"}),"의 ",n.jsx(e.code,{children:"type"}),"을 확인하고, 각각의 ",n.jsx(e.code,{children:"type"}),"에 맞는 처리를 하고 있습니다."]}),`
`,n.jsxs(e.p,{children:["이렇게 Tagged Union Type을 사용하면, runtime 환경에서 어떤 타입을 갖는지 알 수 있기 때문에, ",n.jsx(e.code,{children:"switch"}),"문을 통해 각각의 타입에 맞는 처리를 할 수 있습니다."]})]})}function I_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(dP,{...t})}):dP(t)}const F_e=je({});function U_e(){return n.jsx(Se,{children:n.jsx(I_e,{components:F_e})})}const z_e=ve("/_layout/til/typescript/tagged-union-type")({component:U_e,head:()=>({meta:[{title:"tagged union type"}]})});function fP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Numerical String Type"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`type NumericalString = \`\${number}\`;

let str: NumericalString = '120'; // OK
let num: NumericalString = 120; // ERROR

let someOtherStr: NumericalString = '나는 숫자가 될거야.'; // ERROR
`})}),`
`,n.jsx(e.p,{children:"이렇게 타입을 정의하면, 숫자로 변환이 가능한 문자 혹은 숫자만 사용된 문자열을 타입으로 지정할 수 있습니다."})]})}function H_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(fP,{...t})}):fP(t)}const V_e=je({});function G_e(){return n.jsx(Se,{children:n.jsx(H_e,{components:V_e})})}const $_e=ve("/_layout/til/typescript/numerical-string-type")({component:G_e,head:()=>({meta:[{title:"numerical string type"}]})});function pP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Keyword satisfies to upport safe upcast"}),`
`,n.jsxs(e.p,{children:["typescript 4.9버전부터 사용 가능한 ",n.jsx(e.code,{children:"satisfies"}),"는 기존에 사용하던 as처럼 사용하여 upcast를 가능하게 하지만, 조금 더 엄격하게 type을 확인하고, 컴파일타임에서 에러를 확인하는 것이 가능합니다."]}),`
`,n.jsx(e.p,{children:"as:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`// 편리하지만 안전하지 않음 (as)  
const object = {  
    a: 10,  
    b: { a: 10, b: 20 } as { a: number } // no error  
    b: {} as { a: number } // no error (!!!)  
}
`})}),`
`,n.jsx(e.p,{children:"satisfies:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`// 편리하고 안전함  
const object = {  
    a: 10,  
    b: { a: 10, b: 20 } satisfies { a: number } // no error  
    // b: {} satisfies { a: number } // error  
}
`})})]})}function q_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(pP,{...t})}):pP(t)}const W_e=je({});function X_e(){return n.jsx(Se,{children:n.jsx(q_e,{components:W_e})})}const Y_e=ve("/_layout/til/typescript/keyword-satisfies-to-support-safe-upcast")({component:X_e,head:()=>({meta:[{title:"keyword satisfies to support safe upcast"}]})});function mP(t){const e={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Import type only"}),`
`,n.jsx(e.p,{children:`Typescript에서 TS -> JS로 컴파일할 때, Type들은 모두 사용하지 않게 되는데, 부득이하게, export, import를 해서 사용하는 경우가 많습니다.
이러한 경우에 컴파일 후에는 사용되지 않는 값이라는 것을 명시하는 방법을 아래에 소개하였습니다.`}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`// TS 3.8+ syntax
import type { A, B, C } from "./letters";
// TS 4.5+ syntax
import { type D, E } from "./moreLetters";
// TS 3.8+ syntax
export type { F, G } from "./letters";
// TS 4.5+ syntax
export { type H, I } from "./moreLetters";
`})}),`
`,n.jsx(e.p,{children:"4.5 버전 이상 부터는 import와 export를 모두 사용 가능합니다."}),`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://www.typescriptlang.org/play",children:"typescript playground"}),"에서 테스트 가능합니다."]})]})}function K_e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(mP,{...t})}):mP(t)}const Z_e=je({});function Q_e(){return n.jsx(Se,{children:n.jsx(K_e,{components:Z_e})})}const J_e=ve("/_layout/til/typescript/import-type-only")({component:Q_e,head:()=>({meta:[{title:"import type only"}]})});function gP(t){const e={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Error handling with typescript"}),`
`,n.jsx(e.p,{children:"Typescript의 에러에는 3가지 종류가 있음"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"ReferenceError"})," - 코드에 존재하지 않는 변수를 참조한 경우에 발생"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"TypeError"})," - 예상한 값이 아닌 경우에 발생"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"SyntaxError"})," - 코드가 구분적으로 올바르지 않을 경우에 발생"]}),`
`]}),`
`,n.jsx(e.p,{children:"catch에서 특정 에러 잡아내기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`try {
  throw new ReferenceError();
} catch (error) {
  if (error instanceof ReferenceError) {
    console.error(error.message);
  }
}
`})}),`
`,n.jsx(e.p,{children:"새로운 Error를 추가하기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`export class OtherError extends Error {
  ...
}

`})})]})}function ebe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(gP,{...t})}):gP(t)}const tbe=je({});function nbe(){return n.jsx(Se,{children:n.jsx(ebe,{components:tbe})})}const ibe=ve("/_layout/til/typescript/error-handling-with-typescript")({component:nbe,head:()=>({meta:[{title:"error handling with typescript"}]})});function xP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Declaration Merging"}),`
`,n.jsx(e.p,{children:"typescript에서 같은 이름으로 선언을 했을 경우에는 병합이 되도록 설계가 되어 있어 다음과 같은 병합이 가능합니다. 단, class와 type은 같은 이름을 허용하지 않습니다."}),`
`,n.jsx(e.p,{children:"interface:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`interface Human {
	name: string;
}
interface Human {
	age: number;
}
interface Human {
	isHuman: boolean
}

// 위 코드와 같습니다.

interface Human {
	name: string;
	age: number;
	isHuman: boolean;
}
`})}),`
`,n.jsx(e.p,{children:"namespace:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`namespace Animals {
  export class Zebra {}
}
namespace Animals {
  export interface Legged {
    numberOfLegs: number;
  }
  export class Dog {}
}
`})}),`
`,n.jsx(e.p,{children:"단, export하지 않은 내용을 병합되지 않습니다."}),`
`,n.jsx(e.p,{children:"enum:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`enum Animals {
    ZEBRA = 1,
}

enum Animals {
    Dog = 2,
}

enum Animals {
    ZEBRA = 1,
    Dog = 2,
}
`})})]})}function rbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(xP,{...t})}):xP(t)}const sbe=je({});function abe(){return n.jsx(Se,{children:n.jsx(rbe,{components:sbe})})}const obe=ve("/_layout/til/typescript/declaration-merging")({component:abe,head:()=>({meta:[{title:"declaration merging"}]})});function yP(t){const e={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Create utility type Reverse"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`type Reverse<Tuple> = Tuple extends [infer Head, ...infer Rest]
       ? [...Reverse<Rest>, Head] : [];

const test: Reverse<[1,2,3,4]> = [4,3,2,1];
// test: [4,3,2,1]
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Generic으로 받은 Tuple을 첫 번째 인덱스 요소인 Head와 나머지 요소인 Rest로 분리."}),`
`,n.jsx(e.li,{children:"[1,2,3,4]"}),`
`,n.jsx(e.li,{children:"Head: 1, Rest: 2,3,4"}),`
`,n.jsx(e.li,{children:"Rest를 다시 재귀 호출"}),`
`,n.jsx(e.li,{children:"Head: 2, Rest: 3,4"}),`
`,n.jsx(e.li,{children:"Head: 3, Rest: 4"}),`
`,n.jsx(e.li,{children:"Head: 4, Rest:"}),`
`,n.jsx(e.li,{children:"[4,3,2,1]"}),`
`]}),`
`,n.jsx(e.p,{children:"이러한 식으로 호출이 되어집니다. 그러므로 test의 type은 [4,3,2,1]이 되고 기존의 값의 순서가 변경된 것을 알 수 있습니다."})]})}function lbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(yP,{...t})}):yP(t)}const cbe=je({});function hbe(){return n.jsx(Se,{children:n.jsx(lbe,{components:cbe})})}const ube=ve("/_layout/til/typescript/create-utility-type-reverse")({component:hbe,head:()=>({meta:[{title:"create utility type reverse"}]})});function vP(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Test Coverage"}),`
`,n.jsx(e.p,{children:'테스트 커버리지란 시스템 또는 소프트웨어의 테스트를 논할 때 얼마나 테스트가 충분한가를 나타낸 것이다. 보통 "OO 커버리지에서 100% 통과되었다." 등 처럼 사용하는 용어입니다.'}),`
`,n.jsx(e.p,{children:"이러한 테스트 커버리지는 당연하게 높은 것이 더 안정적인 소프트웨어이지만, 100%를 달성했다고 해서, 해당 소프트웨어를 100% 믿는 것은 위험합니다. 왜냐하면, 테스트 커버리지에 속하지 않는 부분은 테스트가 되지 않았기 때문입니다."}),`
`,n.jsx(e.p,{children:"이러한 테스트 커버리지에는 다양한 종류가 있는데 아래에 몇 가지 소개하겠습니다."}),`
`,n.jsx(e.h2,{children:"코드 커버리지의 종류"}),`
`,n.jsx(e.h3,{children:"구문 커버리지(Statement Coverage)"}),`
`,n.jsx(e.p,{children:"Statement Coverage는 프로그램 코드의 각각의 문장이 최소한 한 번은 실행되는지 확인하는 것입니다."}),`
`,n.jsx(e.p,{children:"예를 들어, 아래와 같은 JavaScript 코드가 있다고 가정해봅시다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function example(a) {
    if (a) {
        return true;
    }
    return false;
}
`})}),`
`,n.jsx(e.p,{children:"위의 코드에 대한 Statement Coverage 테스트는 다음과 같이 작성될 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const assert = require('assert');
describe('Statement Coverage Test', function() {
    it('should return true when a is true', function() {
        assert.equal(example(true), true);
    });
    it('should return false when a is false', function() {
        assert.equal(example(false), false);
    });
});
`})}),`
`,n.jsx(e.h3,{children:"결정 커버리지(Decision Coverage)"}),`
`,n.jsx(e.h4,{children:"정의"}),`
`,n.jsx(e.p,{children:"Decision Coverage는 프로그램 코드의 각각의 결정점(조건문 등)이 true와 false를 모두 가질 수 있도록 하는 것입니다. 이는 각각의 결정점이 모든 가능한 결과를 가질 수 있도록 하여, 결정점이 올바르게 작동하는지 확인합니다."}),`
`,n.jsx(e.h4,{children:"예시"}),`
`,n.jsx(e.p,{children:"아래와 같은 코드가 있다고 가정해보겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function example(a, b) {
    if (a > b) {
        return true;
    } else {
        return false;
    }
}
`})}),`
`,n.jsx(e.p,{children:"위의 코드에 대한 Decision Coverage 테스트는 다음과 같이 작성될 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const assert = require('assert');
describe('Decision Coverage Test', function() {
    it('should return true when a is greater than b', function() {
        assert.equal(example(2, 1), true);
    });
    it('should return false when a is less than b', function() {
        assert.equal(example(1, 2), false);
    });
    it('should return false when a is equal to b', function() {
        assert.equal(example(1, 1), false);
    });
});
`})}),`
`,n.jsx(e.p,{children:"위의 테스트 코드는 if (a > b)라는 결정점이 true와 false를 모두 가질 수 있도록 테스트가 작성되었습니다. 이렇게 각각의 결정점이 모든 가능한 결과를 가질 수 있도록 하는 것이 Decision Coverage 테스트의 핵심입니다."}),`
`,n.jsx(e.h3,{children:"변형 조건/결정 커버리지(Modified Condition/Decision Coverage)"}),`
`,n.jsx(e.h4,{children:"정의"}),`
`,n.jsx(e.p,{children:"Modified Condition/Decision Coverage (MC/DC)는 각각의 조건이 결정에 영향을 미치는지 확인하는 것입니다. 이는 각각의 조건이 true와 false를 모두 가질 수 있도록 하며, 다른 조건들은 그대로 유지하면서 각각의 조건이 결과에 영향을 미치는지 확인합니다."}),`
`,n.jsx(e.h4,{children:"예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function example(a, b, c) {
    if (a && b || c) {
        return true;
    } else {
        return false;
    }
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const assert = require('assert');
describe('MC/DC Test', function() {
    it('should return true when a is true, b is true, and c is false', function() {
        assert.equal(example(true, true, false), true);
    });
    it('should return false when a is false, b is true, and c is false', function() {
        assert.equal(example(false, true, false), false);
    });
    it('should return true when a is false, b is false, and c is true', function() {
        assert.equal(example(false, false, true), true);
    });
    it('should return false when a is false, b is false, and c is false', function() {
        assert.equal(example(false, false, false), false);
    });
});
`})}),`
`,n.jsx(e.p,{children:"위의 테스트 코드는 각각의 조건(a, b, c)이 결과에 어떤 영향을 미치는지 확인합니다. 이렇게 각각의 조건이 결과에 영향을 미치는지 확인하는 것이 MC/DC 테스트의 핵심입니다."})]})}function dbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(vP,{...t})}):vP(t)}const fbe=je({});function pbe(){return n.jsx(Se,{children:n.jsx(dbe,{components:fbe})})}const mbe=ve("/_layout/til/testing/test-coverage")({component:pbe,head:()=>({meta:[{title:"test coverage"}]})});function _P(t){const e={code:"code",h1:"h1",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Shapshot Test"}),`
`,n.jsx(e.h3,{children:"1. 스냅샵 테스트란?"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["스냅샵 테스트는 ",n.jsx(e.strong,{children:"컨포넌트나 함수의 출력 결과를 파일로 저장하고, 이후 실행 시 결과와 비교"}),"하여 변경 유물을 감지하는 테스트 방식이다."]}),`
`,n.jsx(e.li,{children:"흐름이 UI 컨포넌트의 DOM 구조나 함수의 문자열 반환값 등을 검증하는 데 활용된다."}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h3,{children:"2. 동작 환혈 이해"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`# 첫 실행 - 스냅샵이 없다면 자동 생성
bun test

# 이후 실행 - 스냅샵과 비교
bun test

# 스냅샵을 의도적으로 갱신
bun test -u
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:".snap"})," 파일은 ",n.jsx(e.code,{children:"__snapshots__/파일명.snap"})," 경로에 저장된다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"toMatchSnapshot()"})," 메서드가 스냅샵 비교를 수행한다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h3,{children:"3. Snapshot Test의 동작 개발 가설"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`if (!snapshotExists()) {
  writeSnapshot(currentOutput); // 생성
} else {
  if (snapshot !== currentOutput) {
    if (updateFlag) {
      writeSnapshot(currentOutput); // 갱신
    } else {
      throw new Error("Snapshot mismatch"); // 실패
    }
  }
}
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h3,{children:"4. React 컨포넌트에서의 스냅샵 테스트"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Vitest에서는 React 컨포넌트를 스냅샵 테스트할 수 있고, **반드시 React Testing Library(RTL)**를 사용해야 하는 것은 아니다."}),`
`,n.jsx(e.li,{children:"그러나 **실제 DOM 렌더링 결과를 기반으로 스냅샵을 지적하고 싶다면 RTL을 사용하는 것이 사실상 표준이다."}),`
`]}),`
`,n.jsx(e.h4,{children:"React Testing Library 예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import { render } from '@testing-library/react';
import { MyComponent } from './MyComponent';
import { describe, it, expect } from 'vitest';

describe('MyComponent', () => {
  it('matches snapshot', () => {
    const { container } = render(<MyComponent />);
    expect(container).toMatchSnapshot();
  });
});
`})}),`
`,n.jsxs(e.h4,{children:["대안: ",n.jsx(e.code,{children:"react-dom/server"}),", ",n.jsx(e.code,{children:"react-test-renderer"})]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// renderToString 방식
import { renderToString } from 'react-dom/server';
const html = renderToString(<MyComponent />);
expect(html).toMatchSnapshot();
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// react-test-renderer 방식
import renderer from 'react-test-renderer';
const tree = renderer.create(<MyComponent />).toJSON();
expect(tree).toMatchSnapshot();
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h3,{children:"5. Serializer란?"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["스냅샵에 저장되는 내용을 ",n.jsx(e.strong,{children:"사랑이 읽기 좋게 직렬화하는 함수 또는 규칙 집합"}),"."]}),`
`,n.jsxs(e.li,{children:["기본적으로 내장된 Serializer가 있으며, 필요에 따라 ",n.jsx(e.code,{children:"addSerializer()"}),"로 커스터링화 가능."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`import { addSerializer } from 'vitest';

addSerializer({
  test: (val) => typeof val === 'string' && val.startsWith('>>>'),
  print: (val) => \`"CUSTOM_SERIALIZED: \${val}"\`,
});
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h3,{children:"6. 요약 정보 정보"}),`
`,n.jsxs(e.p,{children:[`| 항목         | 내용                                    |
| ---------- | ------------------------------------- |
| 스냅샵 생성     | `,n.jsx(e.code,{children:"bun test"}),` 첫 실행 시 자동 생성               |
| 비교 동작      | 이후 테스트 시 기존 스냅샵과 자동 비교                |
| 갱신 명령어     | `,n.jsx(e.code,{children:"bun test -u"})," 또는 ",n.jsx(e.code,{children:"--update"}),`           |
| React 테스트  | React Testing Library 사용 권장 (필수는 아니다) |
| Serializer | 스냅샵 직렬화 방식 정의 및 커스터링 가능               |`]}),`
`,n.jsx(e.hr,{})]})}function gbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(_P,{...t})}):_P(t)}const xbe=je({});function ybe(){return n.jsx(Se,{children:n.jsx(gbe,{components:xbe})})}const vbe=ve("/_layout/til/testing/snapshot-test")({component:ybe,head:()=>({meta:[{title:"snapshot test"}]})});function bP(t){const e={h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Monkey Testing And Gorilla Testing"}),`
`,n.jsx(e.h2,{children:"Monkey Testing"}),`
`,n.jsx(e.p,{children:"Monkey Testing은 테스트 케이스를 작성하지 않고 무작위로 테스트를 진행하는 방식을 이야기 합니다. 즉, 원숭이가 서비스를 이리저리 막 사용해보는 것 처럼 테스트 하는 것을 의미하며, 예상치 못한 결과를 발견하는데 목적이 있습니다."}),`
`,n.jsx(e.p,{children:"하지만, 이러한 Monkey Testing에도 Monkey를 구분하여 테스트를 진행하는 방식이 있습니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:`Dump Monkey
Dump Monkey 테스터는 시스템과 그 기능에 대해 전혀 알지 못하며, 테스트 케이스의 유효성에 대해서도 확신할 수 없습니다.`}),`
`,n.jsx(e.li,{children:`Smart Monkey
Smart Monkey 테스터는 시스템의 목적과 기능에 대해 정확하게 알고 있습니다. 테스터는 시스템을 탐색하고 테스트를 수행하기 위해 유효한 입력을 제공합니다.`}),`
`,n.jsx(e.li,{children:`Brilliant Monkey
Brilliant Monkey 테스터는 사용자의 행동에 따라 테스트를 수행하며 버그가 발생할 확률을 지정할 수 있습니다.`}),`
`]}),`
`,n.jsx(e.h2,{children:"Gorilla Testing"}),`
`,n.jsx(e.p,{children:'Gorilla Testing는 프로그램의 한 모듈을 반복적으로 테스트하여 해당 모듈이 올바르게 작동하고 버그가 없는지 확인하는 소프트웨어 테스트 기법입니다. 하나의 모듈을 동일한 방식으로 수백 번 이상 테스트할 수 있습니다. 그래서 고릴라 테스트는 "Frustrating Testing"라고도 합니다.'})]})}function _be(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(bP,{...t})}):bP(t)}const bbe=je({});function jbe(){return n.jsx(Se,{children:n.jsx(_be,{components:bbe})})}const Sbe=ve("/_layout/til/testing/monkey-testing-and-gorilla-testing")({component:jbe,head:()=>({meta:[{title:"monkey testing and gorilla testing"}]})});function jP(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"False Positive And False Negative"}),`
`,n.jsx(e.h2,{children:"False positive"}),`
`,n.jsxs(e.p,{children:["False positive는 ",n.jsx(e.code,{children:"위양성"}),", ",n.jsx(e.code,{children:"거짓양성"})," 등으로 번역이 되어지며, 같은 의미로는 ",n.jsx(e.code,{children:"Type 1 긍정 오류"}),`라고도 합니다.
뜻은 실제로는 음성이지만, 양성으로 판정되는 것을 말합니다.`]}),`
`,n.jsx(e.h3,{children:"Example"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스팸 메일 판독 프로그램을 테스트 하는데, 실제로 스팸 메일이 아닌데, 스팸 메일로 판정하는 것을 False Positive라고 한다."}),`
`]}),`
`,n.jsx(e.h2,{children:"False Negative"}),`
`,n.jsxs(e.p,{children:["False Negative는 ",n.jsx(e.code,{children:"위음성"}),", ",n.jsx(e.code,{children:"거짓음성"})," 등으로 번역이 되어지며, 같은 의미로는 ",n.jsx(e.code,{children:"Type 2 부정 오류"}),`라고도 합니다.
뜻은 실제로는 양성이지만, 음성으로 판정되는 것을 말합니다.`]}),`
`,n.jsx(e.h3,{children:"Example"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스팸 메일 판독 프로그램을 테스트 하는데, 실제로 스팸 메일인데, 스팸 메일이 아니라고 판정하는 것을 False Negative라고 한다."}),`
`]}),`
`,n.jsx(e.h2,{children:"More examples"}),`
`,n.jsx(e.p,{children:`| 가설 | False Positive | False Negative |
| -------- | -------- | -------- |
| 늑대가 없다. / 있다. | 늑대가 없는데도 양치기는 늑대가 나타났다고 외친다. | 늑대가 나타났는데도 양치기는 늑대가 없다고 생각한다 |
| 용의자는 무죄이다	/ 유죄이다. | 범죄를 저지르지 않은 용의자가 유죄 판결을 받는다	 | 범죄를 저지른 용의자가 무죄 판결을 받는다 |
| A약이 질병 B를 치료 못 한다 / 치료한다  | A로 B를 치료했지만, 치료하지 못했다고 판단한다 | A로 B를 치료하지 못했지만, 치료했다고 판단한다 |
| 메소드 A에 버그가 없다. / 있다. | 메소드 A에 버그가 없는데 버그가 있다고 판정한다	 | 메소드 A에 버그가 있는데 버그가 없다고 판정한다 |`}),`
`,n.jsx(e.h2,{children:"Conclusion"}),`
`,n.jsx(e.p,{children:"False Positive와 False Negative 중에 서비스 운영에 더 치명적인 상황이 예상 된다면, 해당 부분에 대허서 테스트를 더 강화하여야 합니다. (만약 둘 다 치명적이면 둘 다...);"})]})}function wbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(jP,{...t})}):jP(t)}const Tbe=je({});function Cbe(){return n.jsx(Se,{children:n.jsx(wbe,{components:Tbe})})}const Mbe=ve("/_layout/til/testing/false-positive-and-false-negative")({component:Cbe,head:()=>({meta:[{title:"false positive and false negative"}]})});function SP(t){const e={h1:"h1",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"about tauri"}),`
`,n.jsx(e.p,{children:"Tauri는 Electron과 비슷한 Desktop Application을 빌드하는 도구이며, HTML, CSS, JAVASCRIPT를 이용하여 개발 가능합니다. Electron과의 차이점은 Rust를 이용개발 개발되었고, CLI는 node로 사용가능합니다. 그리고 실행시간, 번들 크기와 메모리 사용량 등 성능면에서 Electron보다 이점이 있습니다. 다만, 2019년 12월에 pre-Alpha 출시를 한 만큼 아직 커뮤니티의 규모가 작은 상태입니다. 앞으로는 mobile app도 지원 예정이라고 하니, 성장 가능성이 충분해 보입니다."})]})}function Ebe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(SP,{...t})}):SP(t)}const Abe=je({});function Rbe(){return n.jsx(Se,{children:n.jsx(Ebe,{components:Abe})})}const Lbe=ve("/_layout/til/tauri/about-tauri")({component:Rbe,head:()=>({meta:[{title:"about tauri"}]})});function wP(t){const e={a:"a",code:"code",em:"em",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:`title: Svelte의 동작
summary: Svelte의 동작을 자세하게 살펴보았습니다.
description: Svelte의 동작을 자세하게 살펴보았습니다.
date: 2021-09-28 12:00:00
image: /images/blogs/default_thumbnail.webp
author: 'Gitsunmin'
categories:`}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:`'2021'
tags:`}),`
`,n.jsx(e.li,{children:"Frontend"}),`
`,n.jsx(e.li,{children:"Svelte"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"1. 목표"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Svelte가 화면을 어떻게 그려내고 있는지를 확인한다."}),`
`]}),`
`,n.jsx(e.h2,{children:"2. svelte를 compile하는 방법"}),`
`,n.jsx(e.p,{children:"(저는 svelte 3.43.0버전을 사용하였습니다.)"}),`
`,n.jsx(e.p,{children:"svelte가 설치된 npm 프로젝트를 생성한다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`npm init -y
npm i --save-dev svelte
`})}),`
`,n.jsx(e.p,{children:"Root Path에 아래와 같이 코드를 작성 후에 실행을 시켜준다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// file 관련된 node 기본 라이브러리
const fs = require('fs');
const path = require('path');
// svelte의 compiler
const svelteCompiler = require('svelte/compiler');

// svelte파일
const pathToComponent = path.join(__dirname, './src/component.svelte');
// svelte파일을 text로 변환
const svelteCode = fs.readFileSync(pathToComponent, 'utf-8');
// 변환된 text를 input으로하여 svelte의 compiler를 실행
const compiled = svelteCompiler.compile(svelteCode);
/* 
compile method가 리턴하는 것들
  js
  css
  ast
  warnings
  vars
  stat
*/

// compiler의 output을 ./output.js 경로의 파일로 리턴 (js만 이용하여 리턴)
fs.writeFileSync(
  path.join(__dirname, './output.js'),
  compiled.js.code,
  'utf-8'
);
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`node ./index.js
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:".svelte"})," 파일은 svelte 문법에 맞게 작성하기만 하면 된다. 저는 ",n.jsx(e.a,{href:"https://github.com/gitsunmin/how-to-run-svelte-compiler/blob/master/src/component.svelte",children:"github"}),"에 이렇게 작성했습니다."]}),`
`,n.jsxs(e.p,{children:["그러면 ",n.jsx(e.a,{href:"https://github.com/gitsunmin/how-to-run-svelte-compiler/blob/master/output.js",children:"github repository의 output"})," 처럼 compile된 javascript 코드를 확인할 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"3. svelte complier는 어떤 것들을 리턴하는가"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://svelte.dev/docs#svelte_compile",children:"svelte 공식 docs"})," 에 나와있는 내용과 직접 로그를 찍어 확인한 결과는 아래와 같습니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["배경지식",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["source map",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"소스맵은 말 그대로 원본소스와 변환된 소스를 맵핑해 주는 방법을 제안한 것이다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["AST(abstract syntax tree, 추상 구문 트리)",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsxs(e.a,{href:"https://ko.wikipedia.org/wiki/%EC%B6%94%EC%83%81_%EA%B5%AC%EB%AC%B8_%ED%8A%B8%EB%A6%AC",children:["https://ko.wikipedia.org/wiki/추상",n.jsx(e.em,{children:"구문"}),"트리"]})}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"js"})," 와 ",n.jsx(e.code,{children:"css"})," 는 다음과 같은 properties를 가지는 Object입니다:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"code"})," : JavaScript 문자열"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"map"})," : sourcemap(빌드한 파일과 원본 파일을 서로 연결시켜주는 정보)"]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"ast"})," : 구성 요소의 구조를 나타내는 AST(abstract syntax tree)입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"warnings"})," : 컴파일하는 동안 생성된 경고 Object의 Array입니다. 각 warning에는 다음과 같은 여러 속성이 있습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"code"})," : 경고 범주를 식별하는 문자열입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"message"})," : 사람이 읽을 수 있는 용어로 문제를 설명합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"start"})," 와 ",n.jsx(e.code,{children:"end"})," :",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["특정 위치에 관한 경우와 개체 ",n.jsx(e.code,{children:"line"}),", ",n.jsx(e.code,{children:"column"}),"및 ",n.jsx(e.code,{children:"character"}),"(문자 위치) 속성"]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"frame"}),": 해당하는 경우 문제가 되는 코드를 줄 번호로 강조 표시하는 문자열"]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"vars"}),": Object의 Array이며, 변수나 함수 등을 설명합니다. Object는 아래와 같은 속성이 있습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"name"}),": 각 변수의 이름."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"export_name"})," : export하는 이름. (설정하지 않으면, ",n.jsx(e.code,{children:"name"})," 으로 설정.)"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"injected"})," : ",n.jsx(e.code,{children:"true"})," 일 경우에는 직접작성한 것이 아닌, svelte에 의해 주입된 것"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"module"})," : ",n.jsx(e.code,{children:'<script context="module">'})," 를 사용했을 경우에 ",n.jsx(e.code,{children:"true"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"mutated"}),": ",n.jsx(e.code,{children:"true"}),"일 경우 component 내부에 할당된 변수.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"→ (어떻게 쓰이는지를 정확히 알아내지 못했습니다.)"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"reassigned"})," :",n.jsx(e.code,{children:"true"})," 일 경우에는 Component 내부에서 재할당이 이루어진 변수임."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"referenced"}),": ",n.jsx(e.code,{children:"true"}),"일 경우 Template(svelte의 html영역)에서 참조중(사용중)."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"referenced_from_script"}),": ",n.jsx(e.code,{children:"true"}),"일 경우 ",n.jsx(e.code,{children:"<script>"})," 에서 참조중(사용중)."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"writable"}),": ",n.jsx(e.code,{children:"true"})," 인 경우에는 ",n.jsx(e.code,{children:"let"})," or ",n.jsx(e.code,{children:"var"})," 에 의해 선언된 것. (",n.jsx(e.code,{children:"const"}),", ",n.jsx(e.code,{children:"class"})," 또는 ",n.jsx(e.code,{children:"function"})," 은 ",n.jsx(e.code,{children:"false"}),")"]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"stats"}),": 컴파일러 진단을 위해 Svelte 개발자 팀에서 사용하는 객체입니다. 동일하게 유지하기 위해 그것에 의존하지 말라고 하네요!"]}),`
`]}),`
`,n.jsx(e.h2,{children:"4. compile된 javascript 코드는 화면을 어떻게 그리고있을까?"}),`
`,n.jsxs(e.p,{children:["간단하게 ",n.jsx(e.code,{children:"click"})," 버튼을 만들고, 버튼을 클릭하면, True/False가 토글되면서 보여지는 애플리케이션을 예시로, ",n.jsx(e.code,{children:"compile"}),"된 output.js를 간단하게 만들어 보았습니다. → ",n.jsx(e.a,{href:"https://github.com/gitsunmin/how-to-run-svelte-compiler/blob/master/output.js",children:"output.js"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["처음 화면을 로드할 때의 실행 ",n.jsx(e.code,{children:"init()"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"component.$"})," 초기화 (component 관련 ",n.jsx(e.em,{children:"state, lifecycle, 등"}),")",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"component.$"})," 의 ",n.jsx(e.code,{children:"interface"}),"와 실제 초기화되는 로직"]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`interface T$ {
  dirty: number[];
  ctx: null | any;
  bound: any;
  update: () => void;
  callbacks: any;
  after_update: any[];
  props: Record<string, 0 | string>;
  fragment: null | false | Fragment;
  not_equal: any;
  before_update: any[];
  context: Map<any, any>;
  on_mount: any[];
  on_destroy: any[];
  skip_bound: boolean;
  on_disconnect: any[];
  root: Element | ShadowRoot;
}

const $: T$ = (component.$ = {
  fragment: null,
  ctx: null,

  // state
  props,
  update: noop,
  not_equal,
  bound: blank_object(),

  // lifecycle
  on_mount: [],
  on_destroy: [],
  on_disconnect: [],
  before_update: [],
  after_update: [],
  context: new Map(
    options.context || (parent_component ? parent_component.$.context : [])
  ),

  // everything else
  callbacks: blank_object(),
  dirty,
  skip_bound: false,
  root: options.target || parent_component.$.root,
});
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"$.ctx"})," 셋팅, output.js의 ",n.jsx(e.code,{children:"instance"}),"함수 실행 결과값 저장"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"instance 예시"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function instance($self, $props, $invalidate) {
  let isClick = false;

  function SMButtonClick() {
    $invalidate(0, (isClick = !isClick));
  }

  return [isClick, SMButtonClick];
}

// 실제 동작하는 부분을 함수로 뺴둔 것입니다.
const $invalidate = (i, ret, ...rest) => {
  const value = rest.length ? rest[0] : ret;
  if ($.ctx && not_equal($.ctx[i], ($.ctx[i] = value))) {
    if (!$.skip_bound && $.bound[i]) $.bound[i](value);
    if (ready) make_dirty(component, i);
  }
};
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"$.fragment"})," 생성"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"interface Fragment"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`/**
 * INTERNAL, DO NOT USE. Code may change at any time.
 */
export interface Fragment {
  key: string | null;
  first: null;
  /* create  */ c: () => void;
  /* claim   */ l: (nodes: any) => void;
  /* hydrate */ h: () => void;
  /* mount   */ m: (target: HTMLElement, anchor: any) => void;
  /* update  */ p: (ctx: any, dirty: any) => void;
  /* measure */ r: () => void;
  /* fix     */ f: () => void;
  /* animate */ a: () => void;
  /* intro   */ i: (local: any) => void;
  /* outro   */ o: (local: any) => void;
  /* destroy */ d: (detaching: 0 | 1) => void;
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"output.js"})," 예시"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function create_fragment(ctx) {
  let h1;
  let t1;
  let div;
  let t2;
  let t3;
  let button;
  let mounted;
  let dispose;

  return {
    c() {
      h1 = element('h1');
      h1.textContent = 'Svelte Compiler는 어떻게 실행될까?';
      t1 = space();
      div = element('div');
      t2 = text(/*isClick*/ ctx[0]);
      t3 = space();
      button = element('button');
      button.textContent = '클릭';
      attr(div, 'class', 'cl svelte-17q3uc1');
    },
    m(target, anchor) {
      insert(target, h1, anchor);
      insert(target, t1, anchor);
      insert(target, div, anchor);
      append(div, t2);
      insert(target, t3, anchor);
      insert(target, button, anchor);

      if (!mounted) {
        dispose = listen(button, 'click', /*SMButtonClick*/ ctx[1]());
        mounted = true;
      }
    },
    p(ctx, [dirty]) {
      if (dirty & /*isClick*/ 1) set_data(t2, /*isClick*/ ctx[0]);
    },
    i: noop,
    o: noop,
    d(detaching) {
      if (detaching) detach(h1);
      if (detaching) detach(t1);
      if (detaching) detach(div);
      if (detaching) detach(t3);
      if (detaching) detach(button);
      mounted = false;
      dispose();
    },
  };
}
`})}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"$.fragment.c()"}),` 실행
`,n.jsx(e.code,{children:"output.js"}),"의 예시"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`c() {
  h1 = element("h1");
  h1.textContent = "Svelte Compiler는 어떻게 실행될까?";
  t1 = space();
  div = element("div");
  t2 = text(/*isClick*/ ctx[0]);
  t3 = space();
  button = element("button");
  button.textContent = "클릭";
  attr(div, "class", "cl svelte-17q3uc1");
},
// type에 맞게 선언이 되어짐.
// text() 예시
export function text(data: string) {
  return document.createTextNode(data); // 텍스트 노드를 리턴
  // https://developer.mozilla.org/ko/docs/Web/API/Document/createTextNode
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"mount_component()"})," → ",n.jsx(e.code,{children:"$.fragment.m() 실행"})]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// https://github.dev/sveltejs/svelte
// src/runtime/internal/Component.ts
export function mount_component(component, target, anchor, customElement) {
  const { fragment, on_mount, on_destroy, after_update } = component.$;

  fragment && fragment.m(target, anchor);

  if (!customElement) {
    // onMount happens before the initial afterUpdate
    add_render_callback(() => {
      const new_on_destroy = on_mount.map(run).filter(is_function);
      if (on_destroy) {
        on_destroy.push(...new_on_destroy);
      } else {
        // Edge case - component was destroyed immediately,
        // most likely as a result of a binding initialising
        run_all(new_on_destroy);
      }
      component.$.on_mount = [];
    });
  }

  after_update.forEach(add_render_callback);
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"$.fragment.m()"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// output.js
m(target, anchor) {
  insert(target, h1, anchor);
  insert(target, t1, anchor);
  insert(target, div, anchor);
  append(div, t2);
  insert(target, t3, anchor);
  insert(target, button, anchor);

  if (!mounted) {
    dispose = listen(button, "click", /*SMButtonClick*/ ctx[1]());
    mounted = true;
  }
},

// https://github.dev/sveltejs/svelte
// src/runtime/internal/dom.ts
export function insert(target: Node, node: Node, anchor?: Node) {
  target.insertBefore(node, anchor || null);
}

export function append(target: Node, node: Node) {
  target.appendChild(node);
}

export function listen(node: EventTarget, event: string, handler: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions | EventListenerOptions) {
  node.addEventListener(event, handler, options);
  return () => node.removeEventListener(event, handler, options);
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"flush()"})}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"수정사항을 DOM에 반영하는 방법을 간단하게 소개하자면 아래와 같습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["변경사항이 있을 때, ",n.jsx(e.code,{children:"$.dirty"})," 라는 변수로 값의 수정 여부를 반영하여 저장함."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"make_dirty()"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// src/runtime/internal/Component.ts
function make_dirty(component, i) {
  if (component.$.dirty[0] === -1) {
    dirty_components.push(component);
    schedule_update(); // 예약
    component.$.dirty.fill(0);
  }
  component.$.dirty[(i / 31) | 0] |= 1 << i % 31;
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["dirty를 추가하는 방식 ",n.jsx(e.a,{href:"https://blog.bitsrc.io/the-art-of-bitmasking-ec58ab1b4c03",children:"bitmasks"})]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`component.$.dirty[(i / 31) | 0] |= 1 << i % 31;
// case 1
// i = 1
// $.dirty[0] = 0b0000000000000000000000000000001 (2진법)
// case 2
// i = 32
// $.dirty[1] = 0b0000000000000000000000000000001 (2진법)
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"$.dirty"}),"의 타입은 ",n.jsx(e.code,{children:"number[]"}),"이고, javascript에서 number로 31비트까지 저장을 할 수 있다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"(32비트인데 마이너스 부호가 1비트를 차지한다.)"}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"그러므로 $$.dirty의 한 index에 31가지의 True/False의 값을 저장할 수 있다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["변경한 내용으로 DOM을 업데이트하도록 예약을 합니다. → ",n.jsx(e.code,{children:"schedule_update()"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"schedule_update()"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// src/runtime/internal/scheduler.ts
export function schedule_update() {
  if (!update_scheduled) {
    update_scheduled = true;
    resolved_promise.then(flush);
  }
}
`})}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"$.dirty"}),"로 표시한 각 구성 요소에 대해 업데이트를 호출합니다. → ",n.jsx(e.code,{children:"flush()"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"flush()"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// src/runtime/internal/scheduler.ts
export function flush() {
  if (flushing) return;
  flushing = true;

  do {
    // first, call beforeUpdate functions
    // and update components
    for (let i = 0; i < dirty_components.length; i += 1) {
      const component = dirty_components[i];
      set_current_component(component);
      update(component.$);
    }
    set_current_component(null);

    dirty_components.length = 0;

    while (binding_callbacks.length) binding_callbacks.pop()();

    // then, once components are updated, call
    // afterUpdate functions. This may cause
    // subsequent updates...
    for (let i = 0; i < render_callbacks.length; i += 1) {
      const callback = render_callbacks[i];

      if (!seen_callbacks.has(callback)) {
        // ...so guard against infinite loops
        seen_callbacks.add(callback);

        callback();
      }
    }

    render_callbacks.length = 0;
  } while (dirty_components.length);

  while (flush_callbacks.length) {
    flush_callbacks.pop()();
  }

  update_scheduled = false;
  flushing = false;
  seen_callbacks.clear();
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"update()"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function update($) {
  if ($.fragment !== null) {
    $.update();
    run_all($.before_update);
    const dirty = $.dirty;
    $.dirty = [-1]; // dirty를 초기화할 수 있도록 값을 변경
    $.fragment && $.fragment.p($.ctx, dirty);

    $.after_update.forEach(add_render_callback);
  }
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.code,{children:"$.fragment.p($.ctx, dirty)"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// output.js
p(ctx, [dirty]) {
  // dirty에 저장될 때, 2진법으로 변환 되어서 2^0에 1로 저장이 되어있는지 확인
  // (수정이 되었는지 확인)
  if (dirty & /*isClick*/ 1) {
    set_data(t2, /*isClick*/ ctx[0]);
    // isClick을 변경
  }
},

// https://github.dev/sveltejs/svelte
// src/runtime/internal/dom.ts
export function set_data(text, data) {
  data = '' + data;
  if (text.wholeText !== data) text.data = data;
}
`})}),`
`]}),`
`]}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"5.결론"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"VirtureDOM을 사용하지 않고, DOM API만을 이용하여 화면을 그리고 있으며, 변경사항을 관리하는 방법을 bitmasks라는 것을 이용하여 변경사항을 관리함."}),`
`]}),`
`,n.jsx(e.h2,{children:"참조"}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://ichi.pro/ko/meolis-sog-e-svelte-keompail-247581368156757",children:"https://ichi.pro/ko/meolis-sog-e-svelte-keompail-247581368156757"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://ichi.pro/ko/meolis-sog-e-svelte-keompailhagi-part-2-153926413705372",children:"https://ichi.pro/ko/meolis-sog-e-svelte-keompailhagi-part-2-153926413705372"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://github.dev/sveltejs/svelte/blob/master/src/runtime/internal/dom.ts",children:"https://github.dev/sveltejs/svelte/blob/master/src/runtime/internal/dom.ts"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://svelte.dev/docs#svelte_compile",children:"https://svelte.dev/docs#svelte_compile"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://stackoverflow.com/questions/59541070/how-is-svelte-making-a-component-dirty",children:"https://stackoverflow.com/questions/59541070/how-is-svelte-making-a-component-dirty"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://rebro.kr/63",children:"https://rebro.kr/63"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://90byt.es/svelte/",children:"https://90byt.es/svelte/"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://velog.io/@vnthf/svelte%EA%B0%80-%EB%B9%A0%EB%A5%B8-%EC%9D%B4%EC%9C%A0",children:"https://velog.io/@vnthf/svelte가-빠른-이유"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://blog.bitsrc.io/the-art-of-bitmasking-ec58ab1b4c03",children:"https://blog.bitsrc.io/the-art-of-bitmasking-ec58ab1b4c03"})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://dev.to/somedood/bitmasks-a-very-esoteric-and-impractical-way-of-managing-booleans-1hlf",children:"https://dev.to/somedood/bitmasks-a-very-esoteric-and-impractical-way-of-managing-booleans-1hlf"})})]})}function Dbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(wP,{...t})}):wP(t)}const kbe=je({});function Nbe(){return n.jsx(Se,{children:n.jsx(Dbe,{components:kbe})})}const Pbe=ve("/_layout/til/svelte/how-does-svelte-work")({component:Nbe,head:()=>({meta:[{title:"how does svelte work"}]})});function TP(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Software Development Principles"}),`
`,n.jsx(e.h2,{children:"KISS"}),`
`,n.jsx(e.p,{children:'"Keep it simple, stupid" (KISS)는 프로그래밍 원리 중 하나입니다. 이 원리는 소프트웨어 디자인의 가장 기본적인 원칙 중 하나로, 가능한 한 간단하게 유지하도록 권장합니다.'}),`
`,n.jsx(e.p,{children:"KISS 원칙은 다양한 의미로 해석될 수 있지만, 대개는 코드의 복잡성을 최소화하고, 코드를 이해하고 유지보수하기 쉽도록 하는 것을 의미합니다. 이를 위해서는 필요한 최소한의 기능만 구현하고, 간단한 알고리즘과 구조를 사용하며, 코드를 최대한 재사용 가능하게 작성해야 합니다."}),`
`,n.jsx(e.p,{children:"또한 KISS 원칙은 코드의 가독성을 향상시키는 데도 도움이 됩니다. 코드가 간단하고 명확하면, 다른 개발자들이 코드를 이해하고 수정하는 데 어려움을 덜 겪게 됩니다."}),`
`,n.jsx(e.p,{children:"추가로, KISS 원칙의 간단한 예시가 아래에 있습니다."}),`
`,n.jsx(e.h3,{children:"KISS 원칙의 예시"}),`
`,n.jsx(e.h4,{children:"함수의 크기 제한"}),`
`,n.jsx(e.p,{children:"함수를 작성할 때, KISS 원칙에 따라 가능한 한 함수를 작고 간단하게 유지해야 합니다. 이를 위해 함수의 크기를 일정한 수준으로 제한하거나, 함수가 한 가지 기능만 수행하도록 만듭니다. 이렇게 하면 코드의 가독성과 유지보수성이 향상됩니다."}),`
`,n.jsx(e.h4,{children:"중복 코드 제거"}),`
`,n.jsx(e.p,{children:"중복 코드는 코드의 복잡성을 증가시키고 유지보수성을 낮춥니다. 따라서 KISS 원칙에 따라 중복 코드를 최소화하고, 가능한 경우 함수나 클래스 등으로 모듈화하여 재사용성을 높이는 것이 좋습니다."}),`
`,n.jsx(e.h4,{children:"단순한 데이터 구조 사용"}),`
`,n.jsx(e.p,{children:"데이터 구조를 선택할 때도 KISS 원칙을 적용할 수 있습니다. 가능한 경우 간단한 데이터 구조를 사용하여 코드의 복잡성을 낮추고 성능을 향상시킬 수 있습니다."}),`
`,n.jsx(e.h4,{children:"일관된 네이밍 규칙 사용"}),`
`,n.jsx(e.p,{children:"KISS 원칙은 코드의 가독성을 향상시키는 것도 중요하다고 강조합니다. 따라서 변수, 함수, 클래스 등의 네이밍에 일관된 규칙을 적용하여 코드의 가독성을 높이는 것이 좋습니다."}),`
`,n.jsx(e.h4,{children:"불필요한 코드 제거"}),`
`,n.jsx(e.p,{children:"불필요한 코드는 코드의 복잡성을 증가시키고 디버깅을 어렵게 만듭니다. 따라서 KISS 원칙에 따라 불필요한 코드를 제거하고, 가능한 최소한의 코드만 유지하는 것이 좋습니다."}),`
`,n.jsx(e.h4,{children:"간단한 코드 예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// Bad
const getFormattedDate = (date) => {
  const year = date.getFullYear();
  const month = date.getMonth() + 1;
  const day = date.getDate();
  const hour = date.getHours();
  const minute = date.getMinutes();
  const second = date.getSeconds();
  return \`\${year}/\${month}/\${day} \${hour}:\${minute}:\${second}\`;
};

// Good
const getFormattedDate = (date) => date.toLocaleString();
`})})]})}function Obe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(TP,{...t})}):TP(t)}const Bbe=je({});function Ibe(){return n.jsx(Se,{children:n.jsx(Obe,{components:Bbe})})}const Fbe=ve("/_layout/til/software_engineering/software-development-principles")({component:Ibe,head:()=>({meta:[{title:"software development principles"}]})});function CP(t){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:`title: 관심사의 분리로 해보는 리팩토링
summary: 관심사의 분리 원칙으로 리팩토링하여 코드의 품질을 향상시킨 경험을 공유합니다.
description: 관심사의 분리 원칙으로 리팩토링하여 코드의 품질을 향상시킨 경험을 공유합니다.
date: 2023-01-07 12:00:00
image: /images/blogs/default_thumbnail.webp
author: 'Gitsunmin'
categories:`}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:`'2023'
tags:`}),`
`,n.jsx(e.li,{children:"Refactoring"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h1,{children:"서론"}),`
`,n.jsx(e.p,{children:'총 40만줄이 넘는 프로젝트를 운영하며 코드와 로직이 모두 복잡하여 유지보수에 어려움을 겪었습니다. "어떻게든 해야, 나라도 코드를 수정할 수 있겠다."는 생각으로 리펙토링을 고려해보았습니다. 가장 먼저 각 로직을 분석하기 위해서 "일단 나누자"는 생각으로 접근하여, "관심사의 분리"를 이용한 경험을 이야기 해보려고 합니다.'}),`
`,n.jsx(e.h1,{children:"본론"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"본론의 내용 및 코드는 이해를 돕기 위해서 축약 및 과장되었을 수 있습니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"관심사의 분리란?"}),`
`,n.jsx(e.h3,{children:"정의"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://ko.wikipedia.org/wiki/%EC%BB%B4%ED%93%A8%ED%84%B0_%EA%B3%BC%ED%95%99",title:"컴퓨터 과학",children:"컴퓨터 과학"}),"에서 ",n.jsx(e.strong,{children:"관심사 분리"}),"(separation of concerns, ",n.jsx(e.strong,{children:"SoC"}),")는 ",n.jsx(e.a,{href:"https://ko.wikipedia.org/wiki/%EC%BB%B4%ED%93%A8%ED%84%B0_%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8",title:"컴퓨터 프로그램",children:"컴퓨터 프로그램"}),"을 구별된 부분으로 분리시키는 디자인 원칙으로, 각 부문은 개개의 관심사를 해결한다."]}),`
`]}),`
`,n.jsx(e.p,{children:"간단하게 요약해보면, 관심사의 분리란 코드나 로직에서 관심을 가질 수 있는 부분을 분리시키는 것을 이야기합니다. 이렇게하면, 사람으로 하여금 단위 코드 혹은 로직당 받아들여야하는 정보의 양이 작아질 수 있기 때문에, 코드나 로직을 파악하기에 좀 더 쉽다는 느낌이 들 수 있습니다."}),`
`,n.jsx(e.p,{children:"아래에 관심사의 분리 방법에 대해서 이야기할 것인데, 이름이 왜 Horizontal, Vertical인지 보다는 어떻게 직교하는지에 촛점을 두고 보면 이해하기 더 쉽습니다."}),`
`,n.jsx(e.p,{children:"우선, 요리를 하는 로직에서 수평분할(Horizontal Separation)과 수직 분함(vertical Separation)에 대해서 이야기 해보겠습니다."}),`
`,n.jsx(e.h3,{children:"수평분할(Horizontal Separation)"}),`
`,n.jsx(e.p,{children:"수평분할은 만약에 라면을 끓인다고 가정하였을 때, 라면을 끓이는 행위를 아래와 같이 분할하는 것을 이야기합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"라면을 끓인다."}),`
`]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"냄비를 준비한다."}),`
`,n.jsx(e.li,{children:"물을 끓인다."}),`
`,n.jsx(e.li,{children:"면을 넣는다."}),`
`,n.jsx(e.li,{children:"스프류를 넣는다."}),`
`,n.jsx(e.li,{children:"3~5분을 기다린다."}),`
`,n.jsx(e.li,{children:"완료 콜백을 보낸다."}),`
`]}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"라면은 내맘대로 끓였습니다. 이렇게 먹어도 맛있습니다. ㅡㅡ"}),`
`]}),`
`,n.jsx(e.p,{children:"위에서 보았듯이, 라면을 끓인다는 하나의 로직을 각 행위로 분할이 되어진 것을 볼 수 있습니다. 이제 실제 프로젝트에서는 어떻게 적용할 수 있는지를 한 번 살펴보겠습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"상품을 구입하는 서비스를 만든다."}),`
`]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"UI"}),`
`,n.jsx(e.li,{children:"Data"}),`
`,n.jsx(e.li,{children:"Business Logic"}),`
`,n.jsx(e.li,{children:"Resources"}),`
`]}),`
`,n.jsx(e.p,{children:"이 예시를 보시면, 상품을 구입하는 서비스를 구성하는 UI와 Data 그리고 Business Logic과 Resources들로 관심사를 분리한 것을 볼 수 있습니다."}),`
`,n.jsx(e.p,{children:"만약에, 한 파일의 한 함수에 UI를 구성하고, Data를 조회 및 수정하며, 구입이 이루어지는 모든 Business Logic과 이미지와 같은 것들이 그냥 절차대로 추상화 없이 전부 나열되어있는 코드가 있다고 상상해보십시오."}),`
`,n.jsx(e.p,{children:'"안 분리 불안"이 오지 않을까요? 아마 분리하고 싶어서 불안하고 초조한 상태가 될 것입니다.'}),`
`,n.jsx(e.h3,{children:"수직분할(Vertical Separation)"}),`
`,n.jsx(e.p,{children:"수직분할도 요리로 예시를 들어보려고 하는데, 이 수직 분할은 아래와 같이 예시를 들 수 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"라면을 끓이면서 햇반을 데웁니다. 그리고 출출함을 방지하기 위해서 햄버거 배달 주문을 하겠습니다."}),`
`,n.jsx(e.li,{children:"라면을 끓인다."}),`
`,n.jsx(e.li,{children:"햇반을 전자레인지에 데운다."}),`
`,n.jsx(e.li,{children:"햄버거를 배달 주문한다."}),`
`]}),`
`,n.jsx(e.p,{children:'위에서 보았듯이, 배고플 때에는 정신없이 요리를 준비하기에 바쁩니다. 이해는 하지만, 저것들을 누군가에게 명령을 해야한다고 생각해보면, 듣는 입장에서는 또 "안 분리 불안"이 옵니다. 저는 위와 같이 하나의 요리씩 분리해서 명령을 내려주면 좋을 것 같습니다. 이와 같은 예시를 실제 프로젝트에서는 어떻게 적용할 수 있는지를 한 번 살펴보겠습니다.'}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"상품 구입을 하면서 같은 소비자들끼리 채팅을 할 수 있는 서비스를 만든다."}),`
`,n.jsx(e.li,{children:"상품을 구입하는 기능"}),`
`,n.jsx(e.li,{children:"소비자의 정보를 조회하는 기능"}),`
`,n.jsx(e.li,{children:"채팅 기능"}),`
`]}),`
`,n.jsxs(e.p,{children:["이 예시를 보시면, 서비스에 많은 기능이 있습니다. 이 또한 상품을 조회하고, 상품을 선택하고 채팅 내용을 조회하거나 하는 모든 기능들이 ",n.jsx(e.code,{children:"renderChatableProductsPage()"}),'라는 함수에 전부 절차대로 혹은 채팅 처럼 코드의 순서로는 파악하기 힘든 로직이 막 쓰여있다고 생각해 보겠습니다. "안 분리 불안"이 올 것 같습니다.']}),`
`,n.jsx(e.p,{children:"위 내용처럼 프로그래밍에서 관심사의 분리란, 한 행동을 여러 작은 행동으로 분할하거나, 여러 행동을 공통되는 행동끼리 분리하는 것을 이야기합니다."}),`
`,n.jsx(e.p,{children:"사람은 컴퓨터와 마찬가지로 한 번에 받아들일 수 있는 정보에 제한이 있습니다. 분리되지 않은 코드는 사람이 한 번에 많은 양의 코드를 분석하도록 합니다. 하지만, 분리된 코드는 마치 Map 자료구조처럼 하나의 Key로 요약을 하여 정보를 받아들일 수 있습니다. 그렇기 때문에, 관심사의 분리는 프로그램의 성능보다는 사람이 읽고 파악하기 쉽게 하기 위해서 사용할 수 있습니다. 저는 꼭 필요한 원칙이라고 생각합니다."}),`
`,n.jsx(e.h2,{children:"리팩토링"}),`
`,n.jsx(e.p,{children:"관심사의 분리가 필요하다고 생각된 코드는 상품을 등록하기 위해서 상품 선택 다이얼로그를 띄우고, 상품을 여러개 선택하여 여러건을 한 번에 등록하여 거래 전표를 작성하는 기능이었습니다."}),`
`,n.jsx(e.p,{children:"이 기능의 코드를 각색하여 Before & After로 표현해보겠습니다."}),`
`,n.jsx(e.h3,{children:"기존 코드의 문제점"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`const onClick = async () => {
  const config = {
    closingDate: '2020-12-31', // 상품 등록 마감일
    minOrderQuantity: 1, // 최소 주문 수량
    maxOrderQuantity: 100, // 최대 주문 수량
    customerClosingData: '2020-12-31', // 거래처 상품 등록 마감일
    stockQuantityMap: {
      1: 10,
      2: 20,
      3: 30,
    }, // 재고량 맵, key: 상품 id, value: 재고량
    limitAmount: 100000, // 총 금액 한도
    totalAmountNotation: 2, // 총 금액 표기법 (소수점 2째 자리에서 반올림)
    vatNotation: 1, // 부가세 표기법 (소수점 1째 자리에서 반올림)
    // 여러가지 설정들...
  };

  const itemDialog = await openItemDialog(config);

  if (itemDialog.result) {
    const checkedItems = checkItems(itemDialog.items, config);
    if (_.isEmpty(checkedItems)) {
      openToast({ message: '등록된 상품이 없습니다.' });
    } else {
      // store에 상품을 등록한다.
      mutateDetail(checkedItems);

      // 그리드에 상품을 등록한다.
      insertMultiRows(checkedItems);

      // 등록된 상품에 포커스를 준다.
      focusItem(checkedItems);

      reSortItems(checkedItems);
    }
  } else {
    openToast({ message: '등록된 상품이 없습니다.' });
  }
};

/**
 * checkItems 함수는 아래와 같은 일을 한다.
 * 기존에 등록된 상품이 있는지 체크한다.
 * 상품 등록 기간이 마감되었는지 체크한다.
 * 거래처에서 상품등록을 마감했는지 체크한다.
 * 상품 수량이 재고량을 초과하였는지 체크한다.
 * 상품 등록 최대수량 및 최소 수량을 초과 혹은 미달하였는지 체크한다.
 * 총 상품의 가격이 최대 한도를 초과하였는지 체크한다.
 *
 * 상품의 총 금액에 사용자가 설정한 총 금액 표기법을 적용한다.
 * 상품의 부가세에 사용자가 설정한 부가세 표기법을 적용한다.
 */
const checkItems = (items: any[], config: any) => {
  let run = true;

  run = items.some((item) => {
    item.closingDate > config.closingDate;
  });

  if (!run) return [];

  run = items.some((item) => {
    item.customerClosingDate > config.customerClosingDate;
  });

  if (!run) return [];

  items = items.filter((item) => {
    item.stockQuantity > config.stockQuantityMap[item.id];
  });

  if (items.length === 0) return [];

  run = items.some((item) => {
    item.totalAmount > config.limitAmount;
  });

  if (!run) return [];

  let totalAmount = 0;
  items.forEach((item) => {
    totalAmount = totalAmount + item.totalAmount;
  });

  if (totalAmount > config.limitAmount) return [];

  return items.map((item) => ({
    ...item,
    totalAmount: item.totalAmount.toFixed(config.totalAmountNotation),
    vat: item.vat.toFixed(config.vatNotation),
  }));
};
`})}),`
`,n.jsx(e.p,{children:"위 코드는 실제 코드를 요약한 것으로서, 더욱 복잡하였지만, 관심사의 분리의 필요성에 대해서 이야기하기에는 충분한 것 같습니다."}),`
`,n.jsxs(e.p,{children:["해당 코드는 ",n.jsx(e.code,{children:"onClick"}),"만 보았을 때에는, 심각하게 이해하기 힘들다는 생각이 들지는 않습니다. 하지만 ",n.jsx(e.code,{children:"checkItems"}),"함수는 보게되면, 어떤 역할을 하는지, 어떤 변경이 일어나는지를 파악하기에 어렵습니다. 또한, ",n.jsx(e.code,{children:"checkItems"}),"함수는 단순히 상품을 확인만 하는 것이 아니라, 값을 변경하고 있습니다."]}),`
`,n.jsx(e.p,{children:"물론 이 부분은 기획된 내용 조차도 너무 복잡합니다. 위에서 이야기하였던 마치 자료구조의 Map처럼 하나의 키로서 요약을 하더라도 키가 너무 많습니다. 하지만, 이 부분을 분리하여 코드를 이해하기 쉽게 만들 수 있습니다. (키가 많은건 어쩔 수 없더라고요..키ㅋ)"}),`
`,n.jsx(e.h3,{children:"수정된 코드"}),`
`,n.jsx(e.p,{children:"기존 코드의 문제점을 개선하기 위한 관심사의 분리를 적용한 수정된 코드입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`// 1. UI 업데이트 관련 코드를 별도의 함수로 분리
function updateUIWithItems(checkedItems: any[]) {
  // 그리드에 상품을 등록한다.
  insertMultiRows(checkedItems);
  // 등록된 상품에 포커스를 준다.
  focusItem(checkedItems);
  // 상품을 재정렬한다.
  reSortItems(checkedItems);
}

// 2. 상품 검증 로직을 별도의 함수로 분리
function validateItems(items: any[], config: any): any[] {
  // 상품 등록 기간, 거래처 마감일, 재고량, 최대 한도 체크 등의 복잡한 로직을 분리하여 처리
  const validItems = items.filter((item) => {
    return (
      isWithinClosingDate(item, config) &&
      isCustomerClosingDateValid(item, config) &&
      isStockSufficient(item, config) &&
      isQuantityValid(item, config) &&
      isTotalAmountWithinLimit(item, config)
    );
  });

  return applyNotationsToItems(validItems, config);
}

// 3. 각 조건별 검증 로직을 더 작은 함수로 분리
function isWithinClosingDate(item: any, config: any): boolean {
  return item.closingDate <= config.closingDate;
}

function isCustomerClosingDateValid(item: any, config: any): boolean {
  return item.customerClosingDate <= config.customerClosingDate;
}

function isStockSufficient(item: any, config: any): boolean {
  return item.stockQuantity <= config.stockQuantityMap[item.id];
}

function isQuantityValid(item: any, config: any): boolean {
  return (
    item.orderQuantity >= config.minOrderQuantity &&
    item.orderQuantity <= config.maxOrderQuantity
  );
}

function isTotalAmountWithinLimit(item: any, config: any): boolean {
  return item.totalAmount <= config.limitAmount;
}

// 4. 금액 관련 표기법 적용 로직 분리
function applyNotationsToItems(items: any[], config: any): any[] {
  return items.map((item) => ({
    ...item,
    totalAmount: item.totalAmount.toFixed(config.totalAmountNotation),
    vat: item.vat.toFixed(config.vatNotation),
  }));
}

// 5. 이벤트 핸들러에서 분리된 로직 사용
const onClick = async () => {
  const config = {
    closingDate: '2020-12-31', // 상품 등록 마감일
    minOrderQuantity: 1, // 최소 주문 수량
    maxOrderQuantity: 100, // 최대 주문 수량
    customerClosingData: '2020-12-31', // 거래처 상품 등록 마감일
    stockQuantityMap: {
      1: 10,
      2: 20,
      3: 30,
    }, // 재고량 맵, key: 상품 id, value: 재고량
    limitAmount: 100000, // 총 금액 한도
    totalAmountNotation: 2, // 총 금액 표기법 (소수점 2째 자리에서 반올림)
    vatNotation: 1, // 부가세 표기법 (소수점 1째 자리에서 반올림)
    // 여러가지 설정들...
  }; // 설정 객체는 동일하게 유지
  const itemDialog = await openItemDialog(config);

  if (itemDialog.result) {
    const checkedItems = validateItems(itemDialog.items, config);
    if (_.isEmpty(checkedItems)) {
      openToast({ message: '등록된 상품이 없습니다.' });
    } else {
      // store에 상품을 등록한다.
      mutateDetail(checkedItems);
      // UI 업데이트
      updateUIWithItems(checkedItems);
    }
  } else {
    openToast({ message: '상품 선택이 취소되었습니다.' });
  }
};
`})}),`
`,n.jsx(e.p,{children:"이 수정된 코드는 다음과 같은 방법으로 관심사를 분리하였습니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"UI 업데이트"}),": UI와 관련된 코드를 ",n.jsx(e.code,{children:"updateUIWithItems"})," 함수로 분리하여, 데이터 처리 로직과 분리시킵니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"상품 검증 로직"}),": ",n.jsx(e.code,{children:"validateItems"})," 함수에서는 상품의 유효성 검증만을 수행합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"검증 조건 분리"}),": 각각의 검증 조건을 작은 함수로 분리하여, 각각의 검증 로직을 명확하게 합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"금액 표기법 적용"}),": 금액 표기법을 적용하는 로직을 ",n.jsx(e.code,{children:"applyNotationsToItems"})," 함수로 분리하여, 변환 로직의 책임을 명확히 합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"이벤트 핸들링"}),": 최종적으로 ",n.jsx(e.code,{children:"onClick"})," 이벤트 핸들러에서는 이러한 함수들을 호출하여, 각 함수가 독립적으로 관심사를 처리하도록 구성합니다."]}),`
`]}),`
`,n.jsx(e.p,{children:"이벤트 핸들러에서는 이러한 함수들을 호출하여, 각 함수가 독립적으로 관심사를 처리하도록 구성합니다."}),`
`,n.jsx(e.p,{children:"이와 같이 코드를 작성함으로써 각 함수는 명확한 역할과 책임을 가지며, 수정 및 유지보수가 용이한 구조가 되었습니다."}),`
`,n.jsx(e.h1,{children:"결론"}),`
`,n.jsx(e.p,{children:"이 프로젝트의 리팩토링은 관심사의 분리 원칙을 적용하여 복잡한 코드베이스를 명확하고 관리 가능한 단위로 재구성하는 과정을 포함합니다. 기존 코드에서 분석한 문제점을 토대로, 개선 방향을 설정하고 구체적인 개선 사항을 실행하는 단계로 진행되었습니다."}),`
`,n.jsx(e.p,{children:"리팩토링을 통해 개선된 코드는 다음과 같은 장점을 가집니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"가독성 향상"}),": 함수와 모듈이 각각의 책임에 따라 분리되어, 코드를 이해하고 파악하기 쉬워졌습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"유지보수 용이성"}),": 작은 단위로 분할된 코드는 개별적으로 수정 및 확장이 용이하며, 버그 발생 시 추적과 수정이 간결해집니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"테스트 가능성 증가"}),": 각 함수가 단일 책임을 가지므로, 단위 테스트를 통한 검증이 용이해집니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"재사용성"}),": 공통 로직을 재사용 가능한 함수로 분리함으로써, 코드 중복을 줄이고 효율성을 높입니다."]}),`
`]}),`
`,n.jsx(e.p,{children:"앞으로의 개발 과정에서도 이 원칙들을 유지하면서, 코드의 개선과 확장성을 위한 기반을 마련하려고 합니다."}),`
`,n.jsx(e.p,{children:"최종적으로, 이 프로젝트에서 리팩토링을 통해 얻은 교훈은 단순히 코드의 성능 개선을 넘어서 개발자의 작업 효율성과 코드의 질적인 면에서의 향상에 기여한다는 것입니다. 따라서, 지속적인 리팩토링과 코드 품질 관리는 소프트웨어 개발의 핵심적인 부분임을 재확인할 수 있었습니다."}),`
`,n.jsx(e.p,{children:"이 프로젝트의 경험을 바탕으로, 향후 유사한 규모와 복잡성을 지닌 다른 프로젝트에서도 관심사의 분리와 같은 원칙들이 적극적으로 채택되어, 지속 가능하고 유연한 소프트웨어 아키텍처를 구축하는 데 도움이 되기를 기대합니다."}),`
`,n.jsx(e.h1,{children:"참조"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"https://velog.io/@seanlion/soc1"}),`
`,n.jsx(e.li,{children:"https://kaki104.tistory.com/725"}),`
`]})]})}function Ube(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(CP,{...t})}):CP(t)}const zbe=je({});function Hbe(){return n.jsx(Se,{children:n.jsx(Ube,{components:zbe})})}const Vbe=ve("/_layout/til/software_engineering/refactoring-with-the-separation-of-oncerns-rinciple")({component:Hbe,head:()=>({meta:[{title:"refactoring with the separation of oncerns rinciple"}]})});function MP(t){const e={h1:"h1",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Scala Basic"}),`
`,n.jsx(e.h3,{children:"스칼라(Scala) 프로그래밍 언어 개요"}),`
`,n.jsx(e.h4,{children:"역사와 배경"}),`
`,n.jsx(e.p,{children:'스칼라(Scala)는 "Scalable Language"의 약자로, 2003년 스위스 로잔 연방 공과대학교(EPFL)의 마틴 오더스키(Martin Odersky) 교수가 설계한 프로그래밍 언어입니다. 스칼라는 객체지향 프로그래밍과 함수형 프로그래밍의 장점을 결합한 언어로, 대규모 소프트웨어 시스템의 복잡성을 효과적으로 관리할 수 있도록 설계되었습니다.'}),`
`,n.jsx(e.h4,{children:"주요 특징"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"객체지향 프로그래밍 (OOP) 지원"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스칼라는 순수 객체지향 언어입니다. 모든 값이 객체이며, 클래스와 객체를 통해 상속, 다형성, 캡슐화 같은 OOP 개념을 지원합니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"함수형 프로그래밍 (FP) 지원"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스칼라는 함수형 프로그래밍 언어로서, 일급 함수(first-class functions), 불변성(immutability), 패턴 매칭(pattern matching), 고차 함수(higher-order functions) 등을 제공합니다. 이를 통해 코드의 표현력을 높이고, 함수 조합을 통한 간결한 데이터 처리와 변환이 가능합니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"정적 타입 시스템"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스칼라는 강력한 정적 타입 시스템을 갖추고 있어, 컴파일 시점에 많은 오류를 사전에 잡아낼 수 있습니다. 타입 추론(type inference) 기능도 제공하여, 코드의 간결성을 유지하면서도 타입 안전성을 보장합니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"JVM 호환성"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스칼라는 JVM(Java Virtual Machine) 위에서 실행되므로, 기존 Java 라이브러리와의 호환성이 뛰어납니다. 이는 스칼라가 Java와의 상호 운용성을 높여, 기존 Java 프로젝트에 쉽게 통합될 수 있음을 의미합니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"동시성"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스칼라는 액터(actor) 모델을 포함한 강력한 동시성(concurrency) 지원 기능을 제공합니다. 대표적으로 Akka 라이브러리를 사용하여, 대규모 분산 시스템과 동시성 문제를 효과적으로 해결할 수 있습니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"확장성"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"스칼라는 높은 확장성을 자랑합니다. 메타프로그래밍(metaprogramming) 기능을 통해, 새로운 언어 기능을 추가하거나 기존 기능을 확장할 수 있습니다."}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h4,{children:"TypeScript와의 차이점"}),`
`,n.jsx(e.p,{children:"TypeScript는 Microsoft에서 개발한 프로그래밍 언어로, JavaScript의 상위 집합(superset)으로 설계되었습니다. 주요 차이점을 살펴보면 다음과 같습니다:"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"언어 패러다임"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"스칼라"}),": 객체지향 프로그래밍과 함수형 프로그래밍을 결합한 언어입니다. 정적 타입 시스템을 갖추고 있으며, JVM 위에서 실행됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"TypeScript"}),": JavaScript의 상위 집합으로, 주로 웹 개발에서 사용됩니다. 동적 타입의 JavaScript에 정적 타입을 추가하여, 코드의 오류를 사전에 방지하고 개발 생산성을 높입니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"런타임 환경"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"스칼라"}),": JVM에서 실행됩니다. Java와의 높은 호환성을 유지하며, 대규모 서버 애플리케이션 개발에 주로 사용됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"TypeScript"}),": JavaScript로 컴파일되며, 브라우저와 Node.js 환경에서 실행됩니다. 주로 프론트엔드와 백엔드 웹 개발에 사용됩니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"타입 시스템"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"스칼라"}),": 정적 타입 시스템을 사용합니다. 강력한 타입 추론 기능을 제공하여, 코드의 안전성과 정확성을 높입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"TypeScript"}),": JavaScript에 정적 타입을 추가한 형태입니다. 타입 주석을 사용하여 타입을 정의하고, 컴파일 시 타입 검사를 수행합니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"목적과 사용 사례"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"스칼라"}),": 대규모 시스템 개발, 데이터 처리, 동시성 프로그래밍 등에 강점을 가지고 있습니다. JVM 기반의 엔터프라이즈 애플리케이션에서 많이 사용됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"TypeScript"}),": 대규모 JavaScript 코드베이스 관리, 프론트엔드 프레임워크(예: Angular, React)와 백엔드(Node.js) 개발에 많이 사용됩니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h4,{children:"결론"}),`
`,n.jsx(e.p,{children:"스칼라는 객체지향과 함수형 프로그래밍을 결합한 강력한 언어로, 대규모 시스템과 복잡한 데이터 처리를 효과적으로 관리할 수 있습니다. 반면, TypeScript는 JavaScript의 상위 집합으로, 웹 개발에서의 생산성과 코드 안전성을 높이는 데 중점을 둡니다. 두 언어는 각각의 강점을 살려 다양한 개발 분야에서 활용되고 있습니다."})]})}function Gbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(MP,{...t})}):MP(t)}const $be=je({});function qbe(){return n.jsx(Se,{children:n.jsx(Gbe,{components:$be})})}const Wbe=ve("/_layout/til/scala/basic")({component:qbe,head:()=>({meta:[{title:"basic"}]})});function EP(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"React Navigation"}),`
`,n.jsx(e.p,{children:"React Native에서 가장 많이 사용하는 Navigation 라이브러리입니다."}),`
`,n.jsx(e.h2,{children:"지원하는 Navigation"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Stack Navigation"}),`
`,n.jsx(e.li,{children:"Drawer Navigation"}),`
`,n.jsx(e.li,{children:"Bottom Tab Navigation"}),`
`,n.jsx(e.li,{children:"Material Top Tab Navigation"}),`
`]}),`
`,n.jsx(e.h3,{children:"Stack Navigation"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"화면을 쌓아올리는 형태의 Navigation입니다."}),`
`,n.jsx(e.li,{children:"화면을 전환할 때 애니메이션 효과를 줄 수 있습니다."}),`
`,n.jsx(e.li,{children:"화면을 쌓아올리기 때문에 뒤로가기 버튼을 눌렀을 때 이전 화면으로 돌아갈 수 있습니다."}),`
`]}),`
`,n.jsx(e.h4,{children:"예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`// App.tsx
import React from 'react';
import { createStackNavigator } from 'react-navigation';
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import HomeScreen from './screens/HomeScreen';
import ProfileScreen from './screens/ProfileScreen';
import SettingsScreen from './screens/SettingsScreen';

const Stack = createNativeStackNavigator();

const App = () => {
  return (
    <NavigationContainer>
      <Stack.Navigator>
        <Stack.Screen name="Home" component={HomeScreen} />
        <Stack.Screen name="Profile" component={ProfileScreen} />
        <Stack.Screen name="Settings" component={SettingsScreen} />
      </Stack.Navigator>
    </NavigationContainer>
  );
};

export default App;
`})}),`
`,n.jsx(e.h3,{children:"Drawer Navigation"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"화면을 좌우로 슬라이드하여 메뉴를 열 수 있는 Navigation입니다."}),`
`,n.jsx(e.li,{children:"화면을 전환할 때 애니메이션 효과를 줄 수 있습니다."}),`
`]}),`
`,n.jsx(e.h4,{children:"예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`// App.tsx
import React from 'react';
import { createDrawerNavigator } from 'react-navigation';
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import HomeScreen from './screens/HomeScreen';
import ProfileScreen from './screens/ProfileScreen';
import SettingsScreen from './screens/SettingsScreen';

const Drawer = createDrawerNavigator();

const App = () => {
  return (
    <NavigationContainer>
      <Drawer.Navigator>
        <Drawer.Screen name="Home" component={HomeScreen} />
        <Drawer.Screen name="Profile" component={ProfileScreen} />
        <Drawer.Screen name="Settings" component={SettingsScreen} />
      </Drawer.Navigator>
    </NavigationContainer>
  );
};

export default App;
`})}),`
`,n.jsx(e.h3,{children:"Bottom Tab Navigation"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"화면 하단에 Tab Bar를 추가하여 화면을 전환할 수 있는 Navigation입니다."}),`
`,n.jsx(e.li,{children:"화면을 전환할 때 애니메이션 효과를 줄 수 있습니다."}),`
`]}),`
`,n.jsx(e.h4,{children:"예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`// App.tsx
import React from 'react';
import { createBottomTabNavigator } from 'react-navigation';
import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import HomeScreen from './screens/HomeScreen';
import ProfileScreen from './screens/ProfileScreen';
import SettingsScreen from './screens/SettingsScreen';

const Tab = createBottomTabNavigator();

const App = () => {
  return (
    <NavigationContainer>
      <Tab.Navigator>
        <Tab.Screen name="Home" component={HomeScreen} />
        <Tab.Screen name="Profile" component={ProfileScreen} />
        <Tab.Screen name="Settings" component={SettingsScreen} />
      </Tab.Navigator>
    </NavigationContainer>
    );
};
export default App;
`})}),`
`,n.jsx(e.h3,{children:"Material Top Tab Navigation"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"화면 상단에 Tab Bar를 추가하여 화면을 전환할 수 있는 Navigation입니다."}),`
`,n.jsx(e.li,{children:"화면을 전환할 때 애니메이션 효과를 줄 수 있습니다."}),`
`]}),`
`,n.jsx(e.h4,{children:"예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`// App.tsx
import React from 'react';
import { createMaterialTopTabNavigator } from 'react-navigation';

import { NavigationContainer } from '@react-navigation/native';
import { createNativeStackNavigator } from '@react-navigation/native-stack';
import HomeScreen from './screens/HomeScreen';
import ProfileScreen from './screens/ProfileScreen';
import SettingsScreen from './screens/SettingsScreen';

const Tab = createMaterialTopTabNavigator();

const App = () => {
  return (
    <NavigationContainer>
      <Tab.Navigator>
        <Tab.Screen name="Home" component={HomeScreen} />
        <Tab.Screen name="Profile" component={ProfileScreen} />
        <Tab.Screen name="Settings" component={SettingsScreen} />
      </Tab.Navigator>
    </NavigationContainer>
  );
};

export default App;
`})}),`
`,n.jsx(e.h2,{children:"지원하는 다양한 Hooks"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"useNavigation"}),`
`,n.jsx(e.li,{children:"useRoute"}),`
`,n.jsx(e.li,{children:"useNavigationState"}),`
`,n.jsx(e.li,{children:"useFocusEffect"}),`
`,n.jsx(e.li,{children:"useIsFocused"}),`
`,n.jsx(e.li,{children:"usePreventRemove"}),`
`,n.jsx(e.li,{children:"useRoutePath"}),`
`,n.jsx(e.li,{children:"useLinkTo"}),`
`,n.jsx(e.li,{children:"useLinkProps"}),`
`,n.jsx(e.li,{children:"useLinkBuilder"}),`
`,n.jsx(e.li,{children:"useScrollToTop"}),`
`,n.jsx(e.li,{children:"useTheme"}),`
`]}),`
`,n.jsx(e.h3,{children:"useNavigation"}),`
`,n.jsx(e.p,{children:"useNavigation은 navigation 객체에 접근할 수 있는 hook입니다. 이 hook은 navigation 객체를 컴포넌트에 직접 prop으로 전달할 수 없거나, 깊게 중첩된 자식 컴포넌트에 전달하고 싶지 않을 때 유용합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useNavigation } from '@react-navigation/native';

function MyBackButton() {
  const navigation = useNavigation();

  return (
    <Button
      onPress={() => {
        navigation.goBack();
      }}
    >
      Back
    </Button>
  );
}
`})}),`
`,n.jsx(e.h3,{children:"useRoute"}),`
`,n.jsx(e.p,{children:"useRoute은 현재 선택된 화면의 route 객체를 가져올 수 있는 hook입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useRoute } from '@react-navigation/native';

function MyText() {
  const route = useRoute();

  return <Text>{route.params.caption}</Text>;
}
`})}),`
`,n.jsx(e.h3,{children:"useNavigationState"}),`
`,n.jsx(e.p,{children:"useNavigationState은 현재 선택된 화면의 route 객체와 navigation 객체를 가져올 수 있는 hook입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useNavigationState } from '@react-navigation/native';

function useIsFirstRouteInParent() {
  const route = useRoute();
  const isFirstRouteInParent = useNavigationState(
    (state) => state.routes[0].key === route.key
  );

  return isFirstRouteInParent;
}

function usePreviousRouteName() {
  return useNavigationState((state) =>
    state.routes[state.index - 1]?.name
      ? state.routes[state.index - 1].name
      : 'None'
  );
}
`})}),`
`,n.jsx(e.h3,{children:"useFocusEffect"}),`
`,n.jsx(e.p,{children:"화면이 집중되어 있을 때 사이드 이펙트를 실행하고 싶을 때가 있습니다. 부수 효과에는 이벤트 리스너 추가, 데이터 가져오기, 문서 제목 업데이트 등과 같은 것들이 포함될 수 있습니다. 포커스 및 흐림 이벤트를 사용하면 이러한 작업을 수행할 수 있지만 인체공학적으로 좋지 않습니다..."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useFocusEffect } from '@react-navigation/native';

function MyText() {
  useFocusEffect(
    React.useCallback(() => {
      // Do something when the screen gains focus
    }, [])
  );

  return <Text>Hello</Text>;
}
`})}),`
`,n.jsx(e.h3,{children:"useIsFocused"}),`
`,n.jsx(e.p,{children:"화면의 현재 포커스 상태에 따라 다른 콘텐츠를 렌더링하고 싶을 수 있습니다. 라이브러리는 이를 쉽게 하기 위해 useIsFocused hook을 내보냅니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useIsFocused } from '@react-navigation/native';

function ProfileScreen() {
  // This hook returns \`true\` if the screen is focused, \`false\` otherwise
  const isFocused = useIsFocused();

  return (
    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>
      <Text>{isFocused ? 'focused' : 'unfocused'}</Text>
    </View>
  );
}
`})}),`
`,n.jsx(e.h3,{children:"usePreventRemove"}),`
`,n.jsx(e.p,{children:"usePreventRemove 훅을 사용하면 사용자가 화면을 떠나지 못하도록 할 수 있습니다. 예를 들어 저장되지 않은 변경사항이 있는 경우 사용자가 이동하기 전에 확인 대화 상자를 표시하고 싶을 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`const EditTextScreen = () => {
  const [text, setText] = React.useState('');
  const navigation = useNavigation();

  const hasUnsavedChanges = Boolean(text);

  usePreventRemove(hasUnsavedChanges, ({ data }) => {
    if (Platform.OS === 'web') {
      const discard = confirm(
        'You have unsaved changes. Discard them and leave the screen?'
      );

      if (discard) {
        navigation.dispatch(data.action);
      }
    } else {
      Alert.alert(
        'Discard changes?',
        'You have unsaved changes. Discard them and leave the screen?',
        [
          { text: "Don't leave", style: 'cancel', onPress: () => {} },
          {
            text: 'Discard',
            style: 'destructive',
            onPress: () => navigation.dispatch(data.action),
          },
        ]
      );
    }
  });

  return (
    <View style={styles.content}>
      <TextInput
        autoFocus
        style={styles.input}
        value={text}
        placeholder="Type something…"
        onChangeText={setText}
      />
    </View>
  );
};
`})}),`
`,n.jsx(e.h3,{children:"useRoutePath"}),`
`,n.jsx(e.p,{children:"useRoutePath 훅을 사용하면 현재 화면의 경로를 가져올 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useRoutePath } from '@react-navigation/native';

function MyComponent() {
  const path = useRoutePath();

  // Construct a URL using the path and app's base URL
  const url = new URL(path, 'https://example.com');

  return <Text>Shareable URL: {url.href}</Text>;
}
`})}),`
`,n.jsx(e.h3,{children:"useLinkTo"}),`
`,n.jsx(e.p,{children:"useLinkTo 훅을 사용하면 연결 옵션에 따라 화면 이름 대신 경로를 사용하여 화면으로 이동할 수 있습니다. 탐색할 경로를 수신하는 함수를 반환합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useLinkTo } from '@react-navigation/native';

// ...

function Home() {
  const linkTo = useLinkTo();

  return (
    <Button onPress={() => linkTo('/profile/jane')}>
      Go to Jane's profile
    </Button>
  );
}
`})}),`
`,n.jsx(e.h3,{children:"useLinkProps"}),`
`,n.jsxs(e.p,{children:["useLinkProps 훅은 커스텀 링크 컴포넌트를 만들 수 있도록 도와줍니다. 이 링크 컴포넌트는 화면으로 이동하기 위한 버튼으로 사용할 수 있습니다. 웹에서는 ",n.jsx(e.code,{children:"<a>"})," 태그로 렌더링되며, ",n.jsx(e.code,{children:"href"}),' 속성을 포함하여 링크의 접근성 기능을 모두 유지합니다. 예를 들어, "오른쪽 클릭 -> 새 탭에서 링크 열기", Ctrl+클릭/⌘+클릭 등의 기능을 사용할 수 있습니다.']}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useLinkProps } from '@react-navigation/native';

// ...

const LinkButton = ({ screen, params, action, href, children, ...rest }) => {
  const props = useLinkProps({ screen, params, action, href });

  const [isHovered, setIsHovered] = React.useState(false);

  return (
    <Pressable {...props} {...rest}>
      <Text>{children}</Text>
    </Pressable>
  );
};
`})}),`
`,n.jsx(e.h3,{children:"useLinkBuilder"}),`
`,n.jsx(e.p,{children:"useLinkBuilder 훅은 링크 설정에 따라 href 또는 action을 생성하는 데 도움이 되는 헬퍼를 반환합니다. 이 훅은 다음과 같은 속성을 포함한 객체를 반환합니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"buildHref"}),`
`,n.jsx(e.li,{children:"buildAction"}),`
`]}),`
`,n.jsx(e.h4,{children:"buildHref"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useLinkBuilder } from '@react-navigation/native';
import { PlatformPressable } from '@react-navigation/elements';

// ...

function DrawerContent({ state, descriptors, navigation }) {
  const { buildHref } = useLinkBuilder();

  return state.routes((route) => (
    <PlatformPressable
      href={buildHref(route.name, route.params)}
      onPress={() => navigation.navigate(route.name, route.params)}
    >
      {descriptors[route.key].options.title}
    </PlatformPressable>
  ));
}
`})}),`
`,n.jsx(e.h4,{children:"buildAction"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { Link, CommonActions, useLinkBuilder } from '@react-navigation/native';
import { Button } from '@react-navigation/elements';

// ...

function MyComponent() {
  const { buildAction } = useLinkBuilder();

  return (
    <Button onPress={() => navigation.dispatch(buildAction('/users/jane'))}>
      Go to Jane's profile
    </Button>
  );
}
`})}),`
`,n.jsx(e.h3,{children:"useScrollToTop"}),`
`,n.jsx(e.p,{children:`스크롤 가능한 컴포넌트의 기본 동작은 네이티브 탭 바에서 기대할 수 있듯이 활성 탭을 탭할 때 상단으로 스크롤되는 이벤트에 반응하는 것입니다.
이를 구현하기 위해 ScrollView나 FlatList와 같은 스크롤 가능한 컴포넌트의 ref를 받아들이는 useScrollToTop을 제공합니다.`}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { ScrollView } from 'react-native';
import { useScrollToTop } from '@react-navigation/native';

function Albums() {
  const ref = React.useRef(null);

  useScrollToTop(ref);

  return (
    <ScrollView ref={ref}>
      {/* content */}
    </ScrollView>
  );
}
`})}),`
`,n.jsx(e.h3,{children:"useTheme"}),`
`,n.jsx(e.p,{children:"useTheme 훅을 사용하면 현재 활성화된 테마에 접근할 수 있습니다. 이 훅을 사용하여 테마 변경에 반응하는 컴포넌트를 만들 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useTheme } from '@react-navigation/native';

function MyButton() {
  const { colors } = useTheme();

  return (
    <TouchableOpacity style={{ backgroundColor: colors.card }}>
      <Text style={{ color: colors.text }}>Button!</Text>
    </TouchableOpacity>
  );
}
`})}),`
`,n.jsx(e.h2,{children:"Reference"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://reactnavigation.org/",children:"React Navigation"})}),`
`]})]})}function Xbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(EP,{...t})}):EP(t)}const Ybe=je({});function Kbe(){return n.jsx(Se,{children:n.jsx(Xbe,{components:Ybe})})}const Zbe=ve("/_layout/til/react_native/react-navigation")({component:Kbe,head:()=>({meta:[{title:"react navigation"}]})});function AP(t){const e={br:"br",code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Native Wind"}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"NativeWind?"}),`
`,n.jsx(e.p,{children:"NativeWind는 Tailwind CSS의 문법을 React Native에서 사용할 수 있게 해주는 라이브러리입니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"className"}),"으로 스타일을 지정"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"tailwind.config.js"}),"로 컨테트 커스텀 가능"]}),`
`,n.jsx(e.li,{children:"다크모드, 카스텝 테마, 디자인 시스템 적용 가능"}),`
`,n.jsx(e.li,{children:"코드가 간결해지고, 스타일 일괄성 유지가 쉽음"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"기본 사용 예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import { Text, View } from 'react-native';

export default function App() {
  return (
    <View className="flex-1 justify-center items-center bg-white dark:bg-black">
      <Text className="text-lg font-bold text-black dark:text-white">
        Hello NativeWind!
      </Text>
    </View>
  );
}
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"카스텝 디자인 시스템 연동"}),`
`,n.jsxs(e.p,{children:["Tailwind의 ",n.jsx(e.code,{children:"theme.extend"}),"를 통해 Figma에서 출첤한 디자인 토큰을 반영 가능:"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`// tailwind.config.js
theme: {
  extend: {
    colors: {
      primary: "#007AFF",
      text: "#1A1A1A",
    },
    spacing: {
      s: 8,
      m: 16,
      l: 24,
    },
    borderRadius: {
      md: 8,
      lg: 16,
    },
  },
},
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"🌙 다크모드 대응"}),`
`,n.jsxs(e.p,{children:["React Native의 ",n.jsx(e.code,{children:"useColorScheme()"}),"와 NativeWind의 ",n.jsx(e.code,{children:"dark:"})," prefix로 쉽게 처리 가능:"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<View className="bg-white dark:bg-black">
  <Text className="text-black dark:text-white">다크모드 지원!</Text>
</View>
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"🔍 도입 시 장점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Tailwind에 익스케롤한 팀이라면 진입장법 없음"}),`
`,n.jsx(e.li,{children:"스타일 일괄성 유지에 유니"}),`
`,n.jsx(e.li,{children:"빠른 UI 프로토타이핑 가능"}),`
`,n.jsx(e.li,{children:"디자인 토큰 적용이 쉽음"}),`
`,n.jsx(e.li,{children:"다크모드, 반응형 클래스도 지원"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"📌 마무리"}),`
`,n.jsxs(e.p,{children:["NativeWind는 디자인 시스템 적용과 생산성 효율 상에서 매우 효과적인 선택입니다.",n.jsx(e.br,{}),`
`,"성능 이수는 특정 상황에 한정되며, 대부모의 일반적인 사용에서는 큰 문제가 없습니다.",n.jsx(e.br,{}),`
`,"디자인 토큰 기반으로 Figma 연동까지 고려한다면 더욱 강력한 도구가 됩니다."]})]})}function Qbe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(AP,{...t})}):AP(t)}const Jbe=je({});function eje(){return n.jsx(Se,{children:n.jsx(Qbe,{components:Jbe})})}const tje=ve("/_layout/til/react_native/nativewind")({component:eje,head:()=>({meta:[{title:"nativewind"}]})});function RP(t){const e={h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Metro"}),`
`,n.jsx(e.h2,{children:"Metro Bundler란?"}),`
`,n.jsx(e.p,{children:"Metro Bundler는 React Native 프로젝트에서 사용되는 기본 번들러입니다. 모바일 애플리케이션을 위해 설계되었으며, 주로 iOS 및 Android 네이티브 환경에서 JavaScript 코드를 번들링하고 실행 가능한 상태로 만들어줍니다."}),`
`,n.jsx(e.h2,{children:"Metro Bundler의 주요 기능:"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"번들링(Bundling): Metro는 모든 JavaScript 모듈을 하나 이상의 파일로 번들링하여 모바일 장치에서 최적화된 방식으로 실행될 수 있게 합니다. 이 과정에서 불필요한 코드를 제거하여 파일 크기를 최소화하고 로딩 시간을 단축시킵니다."}),`
`,n.jsx(e.li,{children:"핫 모듈 리플레이스먼트(HMR): Metro는 HMR을 지원하여 개발자가 코드 변경 사항을 즉시 확인할 수 있도록 도와줍니다. 앱을 다시 빌드하지 않고도 변경 사항이 실시간으로 반영됩니다."}),`
`,n.jsx(e.li,{children:"트리 쉐이킹(Tree Shaking): 코드에서 사용되지 않는 부분을 제거하여 최종 번들 크기를 줄입니다."}),`
`,n.jsx(e.li,{children:"빠른 캐싱(Fast Caching): 변경되지 않은 파일을 캐싱하여 다시 번들링할 때 빠르게 처리할 수 있습니다."}),`
`,n.jsx(e.li,{children:"소스 맵(Source Maps): 소스 맵을 생성하여 디버깅 시 번들된 코드 대신 원본 코드를 추적할 수 있습니다."}),`
`,n.jsx(e.li,{children:"파일 타입 지원: JavaScript, JSON, 이미지 등의 파일 형식을 지원하며, 애플리케이션에 필요한 리소스를 함께 관리할 수 있습니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"React Native에서 Metro Bundler의 동작 방식:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"iOS 및 Android: Metro Bundler는 iOS와 Android 플랫폼 모두에서 동일하게 사용되며, 두 플랫폼의 네이티브 코드와 JavaScript 코드를 번들링하여 하나의 애플리케이션으로 실행됩니다. 이를 통해 React Native의 Bridge가 JavaScript와 네이티브 코드 간의 통신을 원활하게 해줍니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"Metro Bundler와 Vite 비교:"}),`
`,n.jsx(e.p,{children:"Metro Bundler와 Vite는 각각 모바일과 웹 환경에 최적화된 번들러로, 그 목적과 동작 방식이 다릅니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"주된 사용 환경: Metro는 모바일 애플리케이션(React Native) 개발에 중점을 두고, Vite는 웹 애플리케이션 개발에 최적화되어 있습니다."}),`
`,n.jsx(e.li,{children:"핫 리로딩(HMR): 두 도구 모두 HMR을 지원하지만, Vite는 웹 브라우저 환경에서, Metro는 모바일 장치에서 동작하도록 설계되었습니다."}),`
`,n.jsx(e.li,{children:"번들링 성능: Vite는 웹에서 빠른 빌드를 제공하기 위해 ESM을 활용하고, Metro는 모바일 환경에서 효율적인 번들링을 제공합니다."}),`
`]})]})}function nje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(RP,{...t})}):RP(t)}const ije=je({});function rje(){return n.jsx(Se,{children:n.jsx(nje,{components:ije})})}const sje=ve("/_layout/til/react_native/metro")({component:rje,head:()=>({meta:[{title:"metro"}]})});function LP(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"What is new in React 19"}),`
`,n.jsx(e.h2,{children:"useActionState"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function ChangeName({ name, setName }) {
  const [error, submitAction, isPending] = useActionState(
    async (previousState, formData) => {
      const error = await updateName(formData.get("name"));

      if (error) return error; 

      redirect("/path");

      return null;
    },
    null,
  );

  return (
    <form action={submitAction}>
      <input type="text" name="name" />
      <button type="submit" disabled={isPending}>Update</button>
      {error && <p>{error}</p>}
    </form>
  );
}
`})}),`
`,n.jsxs(e.p,{children:["위에서 본 것 처럼 ",n.jsx(e.code,{children:"useActionState"}),`는 input으로 비동기 Callback을 받고, Tuple로 3가지의 값을 반환합니다. Input으로 받는 Callback은 submitAction이 실행되어질 때에 호출되는 로직입니다. 이전값과 입력받은 값을 사용합니다. 이 Callback에서 반환하는 값을 useActionState의 첫 번째 인자인 error로 사용됩니다. 마지막으로 isPending은 Callback의 비동기가 완료되어질 때까지 True 상태를 가집니다.
이 `,n.jsx(e.code,{children:"useActionState"}),"는 ",n.jsx(e.code,{children:"<form />"})," 태그와 함께 사용되며, 기존에 useState와 useTransition을 사용하던 방식으로 사용할 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"useFormStatus"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const { pending, data, method, action } = useFormStatus();
`})}),`
`,n.jsx(e.p,{children:`useFormStatus는 사용자가 폼을 제출하는 동안 사용할 수 있는 값을 반환합니다.
각 값은 아래와 같은 의미가 있습니다.`}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["pending: Type은 boolean이며, ",n.jsx("form",{}),"dl 제출이 진행중인 경우 true를 반환합니다. 그렇지 않으면 false를 반환합니다."]}),`
`,n.jsxs(e.li,{children:["data: Type은 object이며, 제출한 데이터를 담고 있는 객체입니다. 제출이 진행중이거나 ",n.jsx("form",{}),"dl이 없으면 null을 반환합니다."]}),`
`,n.jsx(e.li,{children:"method: Type은 string이며, 제출하는 Method를 나타냅니다. 기본값은 GET입니다. 이 값은 사용자가 제출할 때 필요한 Method을 지정할 수 있습니다."}),`
`,n.jsx(e.li,{children:"action: Type은 function이며, 제출하는 동안 사용할 수 있는 Action입니다. 이 값은 사용자가 제출할 때 필요한 Action을 지정할 수 있습니다."}),`
`]}),`
`,n.jsx(e.p,{children:"아래와 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import { useFormStatus } from "react-dom";

function Submit() {
  const { pending, action } = useFormStatus();

  return (
    <button type="submit" disabled={pending}>
      {pending ? "Submitting..." : "Submit"}
    </button>
  );
}

function Form({ action }) {
  return (
    <form action={action}>
      <Submit />
    </form>
  );
}

export default function App() {
  return <Form action={action} />;
}

`})}),`
`,n.jsx(e.h2,{children:"useOptimistic"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function ChangeName({currentName, onUpdateName}) {
  const [optimisticName, setOptimisticName] = useOptimistic(currentName);

  const submitAction = async formData => {
    const newName = formData.get("name");
    setOptimisticName(newName);
    const updatedName = await updateName(newName);
    onUpdateName(updatedName);
  };

  return (
    <form action={submitAction}>
      <p>Your name is: {optimisticName}</p>
      <p>
        <label>Change Name:</label>
        <input
          type="text"
          name="name"
          disabled={currentName !== optimisticName}
        />
      </p>
    </form>
  );
}
`})}),`
`,n.jsx(e.p,{children:"useOptimistic은 일반적으로 async action이 진행중일 때 다른 상태를 표시할 떄 사용합니다. 말 그대로, 비동기 함수가 종료되기 전에 낙관적으로 복사된 상태를 보여줍니다."}),`
`,n.jsx(e.h2,{children:"use"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function Comments({commentsPromise}) {
  // \`use\` will suspend until the promise resolves.
  const comments = use(commentsPromise);
  return comments.map(comment => <p key={comment.id}>{comment}</p>);
}

function Page({commentsPromise}) {
  // When \`use\` suspends in Comments,
  // this Suspense boundary will be shown.
  return (
    <Suspense fallback={<div>Loading...</div>}>
      <Comments commentsPromise={commentsPromise} />
    </Suspense>
  )
}
`})}),`
`,n.jsxs(e.p,{children:["이 use 훅은 Promise를 resolve하고, 값을 반환하도록 합니다. 이 Promise가 resolve 되는 동안에는 ",n.jsx(e.code,{children:"<Sespense >"}),"를 표시합니다."]}),`
`,n.jsx(e.h2,{children:"Ref"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function MyInput({placeholder, ref}) {
  return <input placeholder={placeholder} ref={ref} />
}

//...
<MyInput ref={ref} />
`})}),`
`,n.jsx(e.p,{children:"이제 Custom Component에서도 ref props를 그냥 사용할 수 있습니다. 😋"}),`
`,n.jsx(e.h2,{children:"hydration errors"}),`
`,n.jsx(e.p,{children:"이제 hydration errors의 위치를 정확하게 Console에서 확인할 수 있습니다."}),`
`,n.jsx(e.h1,{children:"References"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"https://react.dev/blog/2024/04/25/react-19"}),`
`]})]})}function aje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(LP,{...t})}):LP(t)}const oje=je({});function lje(){return n.jsx(Se,{children:n.jsx(aje,{components:oje})})}const cje=ve("/_layout/til/react/what-is-new-in-react-19")({component:lje,head:()=>({meta:[{title:"what is new in react 19"}]})});function DP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"The difference between useEffect and useLayoutEffect"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:"`render`: render tree를 만들기 위한 계산을 하는 과정.\n`paint`: 위 단계에서 만들어진 render tree를 이용하여 실제 화면에 그리는 과정.\n"})}),`
`,n.jsx(e.p,{children:"웹 브라우저에는 위와 같은 단계가 있는데, useEffect와 useLayoutEffect는 두 단계의 어느 지점에서 실행되는지를 결정한다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:"`useEffect`: render, paint 모두 끝나고, 실행된다.   \n`useLayoutEffect`: render가 끝나고 실행되며, 실행이 완료된 후에 paint 과정을 거친다.\n"})}),`
`,n.jsx(e.p,{children:"그렇기 때문에 useEffect를 사용한 경우에는 화면이 깜빡거리는 현상을 볼 수 있고, useLayoutEffect는 너무 오래 걸리는 작업을 할 경우에는 화면이 늦게 그려지는 현상을 볼 수 있다."}),`
`,n.jsx(e.p,{children:"둘 다 시점과 연산 복잡도에 따라서 적절히 사용해야할 것 같다."})]})}function hje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(DP,{...t})}):DP(t)}const uje=je({});function dje(){return n.jsx(Se,{children:n.jsx(hje,{components:uje})})}const fje=ve("/_layout/til/react/the-difference-between-useEffect-and-useLayoutEffect")({component:dje,head:()=>({meta:[{title:"the difference between useEffect and useLayoutEffect"}]})});function kP(t){const e={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Scroll Restoration"}),`
`,n.jsx(e.p,{children:"소개"}),`
`,n.jsx(e.p,{children:`이 훅은 페이지 전환 또는 뒤로가기/앞으로가기 시 이전 스크롤 위치를 자동으로 저장하고 복원합니다.
SessionStorage를 활용해 각 경로마다 스크롤 위치를 기억하며, 브라우저 히스토리 내에서 부드럽고 자연스러운 사용자 경험을 제공합니다.`}),`
`,n.jsx(e.p,{children:"⸻"}),`
`,n.jsx(e.p,{children:"주요 기능"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"페이지 이동 전 스크롤 위치 저장"}),`
`,n.jsx(e.li,{children:"뒤로가기/앞으로가기 시 위치 복원"}),`
`,n.jsx(e.li,{children:"SessionStorage 기반의 경량 구현"}),`
`,n.jsx(e.li,{children:"React Router, Next.js 등 라우팅 방식에 관계없이 활용 가능"}),`
`]}),`
`,n.jsx(e.p,{children:"⸻"}),`
`,n.jsx(e.p,{children:"설치 및 준비"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"SessionStorage 유틸 생성"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// utils/sessionStorage.ts
const SessionStorage = {
  set: (key: string, value: string) => {
    if (typeof window !== 'undefined') {
      sessionStorage.setItem(key, value);
    }
  },
  get: (key: string) => {
    if (typeof window !== 'undefined') {
      return sessionStorage.getItem(key);
    }
    return null;
  },
  getWithDefault: (key: string, defaultValue: string) => {
    const val = SessionStorage.get(key);
    return val ?? defaultValue;
  },
  remove: (key: string) => {
    if (typeof window !== 'undefined') {
      sessionStorage.removeItem(key);
    }
  },
};

export default SessionStorage;
`})}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsx(e.li,{children:"useScrollRestoration 훅 생성"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// hooks/useScrollRestoration.ts
import { useEffect } from 'react';
import { useLocation } from 'react-router-dom'; // react-router-dom 기반 Next에서는 Next Router 사용. (url 정보 필요)
import SessionStorage from '@/utils/sessionStorage';

const SCROLL_POSITION_KEY_PREFIX = 'scroll_pos_';

const hashKey = (path: string) => {
  let hash = 0;
  for (let i = 0; i < path.length; i++) {
    hash = (hash << 5) - hash + path.charCodeAt(i);
    hash |= 0;
  }
  return Math.abs(hash).toString(36);
};

type Options = {
  replace?: boolean;
};

export const useScrollRestoration = (options?: Options) => {
  const { replace = false } = options || {};
  const location = useLocation();
  const key = SCROLL_POSITION_KEY_PREFIX + hashKey(location.pathname + location.search);

  useEffect(() => {
    const saveScroll = () => {
      if (!replace) {
        SessionStorage.set(key, JSON.stringify({ x: window.scrollX, y: window.scrollY }));
      } else {
        SessionStorage.remove(key);
      }
    };

    const restoreScroll = () => {
      const saved = SessionStorage.getWithDefault(key, JSON.stringify({ x: 0, y: 0 }));
      const { x, y } = JSON.parse(saved);
      window.scrollTo({ left: x, top: y, behavior: 'instant' });
    };

    // 브라우저 종료, 새로고침 직전
    window.addEventListener('beforeunload', saveScroll);
    // 경로 이동 직후 복원
    restoreScroll();

    return () => {
      window.removeEventListener('beforeunload', saveScroll);
      saveScroll(); // cleanup 시 저장 (라우팅 전 이동 시)
    };
  }, [location.pathname, location.search, replace]);
};
`})}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"사용 방법"}),`
`]}),`
`,n.jsx(e.p,{children:"React Router 기반 프로젝트"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// App.tsx
import { BrowserRouter } from 'react-router-dom';
import { useScrollRestoration } from '@/hooks/useScrollRestoration';

function App() {
  useScrollRestoration();

  return (
    <BrowserRouter>
      {/* Routes 정의 */}
    </BrowserRouter>
  );
}
`})})]})}function pje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(kP,{...t})}):kP(t)}const mje=je({});function gje(){return n.jsx(Se,{children:n.jsx(pje,{components:mje})})}const xje=ve("/_layout/til/react/scroll-restoration")({component:gje,head:()=>({meta:[{title:"scroll restoration"}]})});function NP(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Relay"}),`
`,n.jsx(e.p,{children:"Relay는 GraphQL로 데이터를 Query하고, Mutation하는 데 사용되는 React 전용 라이브러리입니다. 기본적으로 뛰어난 성능을 제공하며, 스키마 기반으로 GraphQL 코드를 안정적으로 관리하기 위해 사용됩니다."}),`
`,n.jsx(e.h2,{children:"Relay의 특징"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Declarative data: 각 컴포넌트에 필요한 데이터를 선언하기만 하면, Relay가 로딩 상태를 처리합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Co-location and composability: 각 컴포넌트는 자체적으로 필요한 데이터를 선언하고, Relay는 이를 효율적인 쿼리로 결합합니다. 다른 화면에서 컴포넌트를 재사용하면 쿼리가 자동으로 업데이트됩니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Co-location: Co-location은 프로그래밍에서 데이터와 이를 사용하는 코드를 같은 위치에 두는 것을 의미합니다. 이는 코드의 가독성을 높이고, 관련 로직을 더 쉽게 추적할 수 있게 해줍니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Pre-fetching: Relay는 코드를 분석하여 코드를 다운로드하거나 실행하기 전에 쿼리를 가져올 수 있습니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"UI patterns: Relay는 로딩 상태, 페이지네이션, refetching, 낙관적 업데이트, 롤백 및 기타 일반적인 UI 동작을 구현합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"낙관적 업데이트(optimistic updates): 서버에 변경 사항을 보내기 전에 먼저 UI를 업데이트하여 사용자에게 즉각적인 반응을 제공하는 방식을 의미합니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Consistent updates: Relay는 정규화된 데이터 저장소를 유지하므로 동일한 데이터를 관찰하는 컴포넌트는 다른 쿼리로 도달하더라도 동기화됩니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Streaming and deferred data: 쿼리의 일부를 선언적으로 지연시키고, Relay는 데이터가 스트리밍됨에 따라 UI를 점진적으로 다시 렌더링합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Great developer experience: Relay는 GraphQL 스키마에 대한 자동 완성 및 정의로 이동 기능을 제공합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Type safety: Relay는 오류를 런타임이 아닌 정적으로 잡아내도록 타입 정의를 생성합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Manage local data: 서버 데이터와 로컬 클라이언트 상태에 동일한 API를 사용합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Hyper-optimized runtime: Relay는 끊임없이 최적화됩니다. JIT 친화적인 런타임은 어떤 페이로드를 기대할지 정적으로 결정하여 들어오는 데이터를 더 빠르게 처리합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"JIT (Just In Time): 프로그램이 실행되는 도중에 필요한 부분만을 즉석에서 컴파일하는 방식을 의미합니다. 프로그램이 실행되는 도중에 필요한 부분만을 즉석에서 컴파일하는 방식을 의미합니다."}),`
`,n.jsx(e.li,{children:"AOT (Ahead Of Time): 프로그램이 실행되기 전에 필요한 부분을 미리 컴파일하는 방식을 의미합니다."}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"Relay Compiler"}),`
`,n.jsx(e.p,{children:"Relay Compiler는 GraphQL 쿼리를 JavaScript 코드로 변환합니다. 또한 한 페이지에서 독립적으로 사용중인 Query가 있을 경우에 이를 하나의 쿼리로 결합합니다."}),`
`,n.jsxs(e.p,{children:[`직접 실행해볼수도 있다.
`,n.jsx(e.a,{href:"https://relay.dev/compiler-explorer/#enc=1&schemaText=C4TwDgpgBAqgzhATlA3gKClAdgQwLYQBcUAysIgJZYDmGUO1RUAklsHQEYRzAD6AZpQhYAJsXhI0AXzRpQkKAEUArkhCo6BcQkTSgA&documentText=I4VwpgTgngBAslAiuaMDeAoGMC2Z1bYwB2AhnodgHQ0CCA5mAGISn17EAulMARmAGdOAfQBmEAJZhiAEwJEiNKg2at207goC%2BhHTozi2HTjBUsjGmAHtiMAKoDI8kuTAYdQA&outputType=operation&no_inline=true&enable_3d_branch_arg_generation=true&actor_change_support=true&text_artifacts=true&language=typescript",children:"여기"})]}),`
`,n.jsx(e.h2,{children:"Fragment"}),`
`,n.jsx(e.p,{children:"Relay는 GraphQL의 Fragment를 사용하여 컴포넌트에 필요한 데이터를 선언합니다. Fragment는 GraphQL의 Query와 유사하지만, 이름이 있고, 재사용 가능하며, 컴포넌트에 필요한 데이터만을 포함합니다."}),`
`,n.jsx(e.h3,{children:"Fragment 사용법"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"정의하기"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`import { graphql } from 'relay-runtime';

const ImageFragment = graphql\`
  fragment ImageFragment on Image {
    url
  }
\`;
`})}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsx(e.li,{children:"사용하기"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`const StoryFragment = graphql\`
  fragment StoryFragment on Story {
    title
    summary
    postedAt
    poster {
      ...PosterBylineFragment
    }
    thumbnail {
      ...ImageFragment
    }
  }
\`;
`})}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"useFragment로 사용하기"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import { useFragment } from 'react-relay';
import type { ImageFragment$key } from "./__generated__/ImageFragment.graphql";

type Props = {
  image: ImageFragment$key;
  ...
};

function Image({image}: Props) {
  const data = useFragment(ImageFragment, image);
  return <img key={data.url} src={data.url} ... />
}
`})}),`
`,n.jsx(e.h2,{children:"Glossary"}),`
`,n.jsx(e.h3,{children:"Directive"}),`
`,n.jsx(e.p,{children:"릴레이 컴파일러나 서버에 특수 명령을 제공하는 graphql 리터럴 또는 graphql 파일에 포함되어 있습니다."}),`
`,n.jsx(e.h4,{children:"@arguments"}),`
`,n.jsx(e.p,{children:"fragment spread에 인자를 전달할 때 사용합니다. 인자는 fragment 정의에서 @argument로 선언되어야 합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`const StoryFragment = graphql\`
  fragment StoryFragment on Story {
    title
    summary
    postedAt
    poster {
      ...PosterBylineFragment @arguments(line: "22")
    }
    thumbnail {
      ...ImageFragment
    }
  }
\`;
`})}),`
`,n.jsx(e.h4,{children:"@argumentDefinitions"}),`
`,n.jsx(e.p,{children:"fragment 정의를 수정하고 프래그먼트가 사용할 수 있는 로컬 인수의 이름과 타입을 정의하는 지시문입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`const StoryFragment = graphql\`
  fragment StoryFragment on Story @argumentDefinitions(line: {type: "Int"}) {
    title
    summary
    postedAt
    poster {
      ...PosterBylineFragment @arguments(line: $line)
    }
    thumbnail {
      ...ImageFragment
    }
  }
\`;
`})}),`
`,n.jsx(e.h4,{children:"@connection"}),`
`,n.jsx(e.p,{children:"이 @connection은 커서 기반의 페이지네이션을 구현하는 데 사용되며, Relay의 쿼리에서 페이징을 관리하기 위한 메커니즘을 제공합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`graphql\`
  query ExampleQuery {
    user(id: "123") {
      friends(first: 10, after: $cursor) @connection(key: "ExampleQuery_friends") {
        edges {
          node {
            id
            name
          }
        }
      }
    }
  }
\`

`})}),`
`,n.jsx(e.p,{children:'이 예시에서는 user 오브젝트의 friends 필드에 대해 페이징 처리를 하기 위해 @connection 지시어를 사용합니다. key 인자는 "ExampleQuery_friends"로 설정되어 Relay가 이 커넥션을 식별할 수 있도록 합니다. first와 after 인자는 페이지네이션을 제어하는 데 사용됩니다.'}),`
`,n.jsx(e.h4,{children:"@include"}),`
`,n.jsx(e.p,{children:"@include는 주어진 조건이 true일 때 쿼리의 특정 부분을 포함시키는 데 사용됩니다. 이는 동적인 쿼리 작성에 유용하며, 필요에 따라 서버로부터 받아오는 데이터를 조절할 수 있게 해줍니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`graphql\`
  query ExampleQuery($isDetailed: Boolean!, $skipUser: Boolean!) {
    user(id: "123") {
      id
      name
      ...UserDetails @include(if: $isDetailed)
    }
  }
\`
`})}),`
`,n.jsx(e.h4,{children:"@skip"}),`
`,n.jsx(e.p,{children:"@skip은 주어진 조건이 true일 때 쿼리의 특정 부분을 제외시키는 데 사용됩니다. 이를 통해 불필요한 데이터의 요청을 줄이고, 네트워크 트래픽과 서버 부하를 감소시킬 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`graphql\`
  query ExampleQuery($isDetailed: Boolean!, $skipUser: Boolean!) {
    user(id: "123") {
      id
      name
      ...UserContacts @skip(if: $skipUser)
    }
  }
\`

`})}),`
`,n.jsx(e.h2,{children:"Store"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://relay.dev/docs/api-reference/store/",children:"here"}),`
Relay는 GraphQL 데이터를 캐싱하는 저장소가 존재합니다. 이 저장소에 접근하는 방법에 대해서 알아보겠습니다.`]}),`
`,n.jsx(e.h3,{children:"RecordSourceSelectorProxy"}),`
`,n.jsx(e.p,{children:"RecordSourceSelectorProxy는 업데이터 함수가 인수로 받는 저장소 유형입니다. 다음은 RecordSourceSelectorProxy 인터페이스입니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`interface RecordSourceSelectorProxy {
  create(dataID: string, typeName: string): RecordProxy;
  delete(dataID: string): void;
  get(dataID: string): ?RecordProxy;
  getRoot(): RecordProxy;
  getRootField(fieldName: string): ?RecordProxy;
  getPluralRootField(fieldName: string): ?Array<?RecordProxy>;
  invalidateStore(): void;
}
`})}),`
`,n.jsx(e.h4,{children:"create(dataID: string, typeName: string): RecordProxy"}),`
`,n.jsx(e.p,{children:"GraphQL 스키마에 정의된 데이터ID와 유형 이름이 주어지면 스토어에 새 레코드를 생성합니다. 새로 생성된 레코드를 변경하는 인터페이스 역할을 하는 RecordProxy를 반환합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`const record = store.create(dataID, 'Todo');
`})}),`
`,n.jsx(e.h4,{children:"delete(dataID: string): void"}),`
`,n.jsx(e.p,{children:"주어진 데이터ID를 가진 레코드를 스토어에서 삭제합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`store.delete(dataID);
`})}),`
`,n.jsx(e.h4,{children:"get(dataID: string): ?RecordProxy"}),`
`,n.jsx(e.p,{children:"주어진 데이터ID를 가진 레코드를 반환합니다. 레코드가 존재하지 않으면 null을 반환합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`const record = store.get(dataID);
`})}),`
`,n.jsx(e.h4,{children:"getRoot(): RecordProxy"}),`
`,n.jsx(e.p,{children:"스토어의 루트 레코드를 반환합니다. 루트 레코드는 스키마의 Query 타입에 해당합니다."}),`
`,n.jsx(e.p,{children:"아래와 같이 정의되어 있을 떄,"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`viewer {
  id
}
`})}),`
`,n.jsx(e.p,{children:"아래와 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`const root = store.getRoot();
`})}),`
`,n.jsx(e.h4,{children:"getPluralRootField(fieldName: string)"}),`
`,n.jsx(e.p,{children:"GraphQL 문서에 정의된 대로 fieldName이 주어진 스토어에서 컬렉션을 나타내는 루트 필드를 검색합니다. 레코드 프록시 배열을 반환합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`nodes(first: 10) {
  # ...
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`const nodes = store.getPluralRootField('nodes');
`})}),`
`,n.jsx(e.h4,{children:"invalidateStore(): void"}),`
`,n.jsx(e.p,{children:"릴레이 스토어를 전역적으로 무효화합니다. 이렇게 하면 무효화가 발생하기 전에 스토어에 기록된 모든 데이터가 부실 데이터로 간주되어 다음에 environment.check()로 쿼리를 검사할 때 다시 가져와야 하는 것으로 간주됩니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`store.invalidateStore();

environment.check(query) === 'stale'
`})}),`
`,n.jsx(e.p,{children:"1"})]})}function yje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(NP,{...t})}):NP(t)}const vje=je({});function _je(){return n.jsx(Se,{children:n.jsx(yje,{components:vje})})}const bje=ve("/_layout/til/react/relay")({component:_je,head:()=>({meta:[{title:"relay"}]})});function PP(t){const e={h1:"h1",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"React Server Component"}),`
`,n.jsx(e.p,{children:"먼저, Server Side Rendering에(= SSR) 대해서 먼저 알아야하는데, 이 SSR은 JSP와 같이 서버에서 html, js, css를 만들어서 클라이언트에게 전달하는 방식이다. 이렇게 하면, 클라이언트는 서버에서 받은 html, js, css를 그대로 렌더링하면 되기 때문에, 전체적인 로딩 속도가 빠르다는 장점이 있다. 하지만, SSR은 서버에 부하가 많이 걸리고, 서버에서 만들어진 html, js, css를 클라이언트에게 전달하는 과정에서 네트워크 비용이 발생하기 때문에, 전체적인 속도는 빠르지만, 서버에 부하가 많이 걸리고, 네트워크 비용이 발생한다는 단점이 있다."}),`
`,n.jsx(e.p,{children:"그렇다면, 기존에 주로 사용하였던 Cient Side Rendering(= CSR)은 어떤 방식일까? CSR은 서버에서 html, js, css를 만들어서 클라이언트에게 전달하는 방식이 아니라, 서버에서는 html만 전달하고, js, css는 클라이언트에서 렌더링하는 방식이다. 이렇게 하면, 서버에 부하가 적고, 네트워크 비용도 적게 발생하지만, 클라이언트에서 js, css를 렌더링하는 과정에서 전체적인 로딩 속도가 느리다는 단점이 있다."}),`
`,n.jsx(e.p,{children:"지금 보면 SSR과 CSR이 많은 차이가 있어 보이지만, 사실 첫 로딩만 차이가 있었고, 이후에는 클라이언트 입장에서 큰 차이를 느낄 수 없었을 것입니다."}),`
`,n.jsx(e.p,{children:`React는 이점에서 개선점을 발견하여 Component라는 역할은 그대로 남겨두고, 이를 서버에서 렌더링하는 방식을 제공하는 방법을 제공하게 되었습니다. 이것이 바로 React Server Component입니다.
(tsx, jsx파일의 가장 위에 'use strict'라고 작성하면 서버 컴포넌트, 'use client'라고 작성하면 클라이언트 컴포넌트로 인식합니다.)`}),`
`,n.jsx(e.p,{children:"React Server Component와 기존의 React Client Component는 어떤 점이 다를까요? React Server Component는 서버에서 렌더링되기 때문에, 서버에서만 사용할 수 있는 기능들이 있습니다. 예를 들어, 서버에서는 window, document같은 객체를 사용할 수 없습니다. 그리고 server에서 client의 State를 모두 가지고 있을 수 없기 때문에 React Server Component는 State를 가질 수 없습니다."})]})}function jje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(PP,{...t})}):PP(t)}const Sje=je({});function wje(){return n.jsx(Se,{children:n.jsx(jje,{components:Sje})})}const Tje=ve("/_layout/til/react/react-server-component")({component:wje,head:()=>({meta:[{title:"react server component"}]})});function OP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Overuse of useMemo and useCallback"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"useMemo"})," 와 ",n.jsx(e.code,{children:"useCallback"}),"은 분명히 성능 향상에 도움이 됩니다. 하지만 과사용은 오히려 성능에 좋지 않은 결과를 가져옵니다. 한 가지 예를 들면, dependency array에 object를 넣고 사용하면, react의 함수형 컴포넌트가 실행 될 때마다 re-rendering이 됩니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const user = {
  name: "sunmin",
  gender: "M",
};

// ❌ user가 새롭게 할당되면서 변화로 인지하게 됩니다.
useMemo(() => {
  return \`my name is \${user.name}\`;
}, [user]);

// 🟢 원시 타입의 변수는 값이 변해야 변화로 인지하게 됩니다.
useMemo(() => {
  return \`my name is \${user.name}\`;
}, [user.name]);
`})})]})}function Cje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(OP,{...t})}):OP(t)}const Mje=je({});function Eje(){return n.jsx(Se,{children:n.jsx(Cje,{components:Mje})})}const Aje=ve("/_layout/til/react/overuse-of-useMemo-and-useCallback")({component:Eje,head:()=>({meta:[{title:"overuse of useMemo and useCallback"}]})});function BP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to Use beforeunload"}),`
`,n.jsxs(e.p,{children:["React Page가 닫히거나 새로고침 될 때 사용자에게 경고를 표시하려면 ",n.jsx(e.code,{children:"beforeunload"})," 이벤트를 사용할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import React, { useEffect } from 'react';

const useBeforeUnload = (enabled: boolean) => {
  useEffect(() => {
    const handler = (event: BeforeUnloadEvent) => {
      event.preventDefault();
      event.returnValue = '';
    };

    if (enabled) {
      window.addEventListener('beforeunload', handler);
    }

    return () => {
      window.removeEventListener('beforeunload', handler);
    };
  }, [enabled]);
};

const App = () => {
  useBeforeUnload(true);

  return <div>App</div>;
};

export default App;
`})}),`
`,n.jsxs(e.p,{children:["위 코드는 페이지가 닫히거나 새로고침 될 때 사용자에게 경고를 표시합니다. ",n.jsx(e.code,{children:"useBeforeUnload"})," 훅은 ",n.jsx(e.code,{children:"enabled"})," 값이 ",n.jsx(e.code,{children:"true"}),"일 때만 ",n.jsx(e.code,{children:"beforeunload"})," 이벤트를 추가하고, ",n.jsx(e.code,{children:"false"}),"일 때는 제거합니다."]})]})}function Rje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(BP,{...t})}):BP(t)}const Lje=je({});function Dje(){return n.jsx(Se,{children:n.jsx(Rje,{components:Lje})})}const kje=ve("/_layout/til/react/how-to-use-beforeunload")({component:Dje,head:()=>({meta:[{title:"how to use beforeunload"}]})});function IP(t){const e={code:"code",h2:"h2",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h2,{children:"How to check children in React Component"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import React from 'react';

const ComponentA = ({ children }) => {
  let hello;
  React.Children.forEach(children, (child) => {
    console.log(child);
    /**
     * {
     * 		$typeof: 	Symbol(react.element)
     * 		key		: 	component에 설정한 key
     * 		props	:	component에 설정한 props
     * 		ref		: 	component에 설정한 ref
     * 		type	: 	component의 정보를 담고있는 객체
     * }
     **/
  });

  return hello;
};
`})})]})}function Nje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(IP,{...t})}):IP(t)}const Pje=je({});function Oje(){return n.jsx(Se,{children:n.jsx(Nje,{components:Pje})})}const Bje=ve("/_layout/til/react/how-to-check-children-in-react-component")({component:Oje,head:()=>({meta:[{title:"how to check children in react component"}]})});function FP(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Basic"}),`
`,n.jsx(e.p,{children:"Server Side Scripting Language라고 불리는 PHP는 HTML 문서 내에 PHP 코드를 삽입하여 동적인 웹 페이지를 생성하는 데 사용되는 언어입니다. PHP는 다른 서버 측 스크립트 언어와 마찬가지로 서버에서 실행되기 때문에 클라이언트에게 PHP 코드를 보여주지 않습니다."}),`
`,n.jsx(e.h2,{children:"PHP의 장점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"PHP는 HTML 문서 내에 삽입되어 사용되기 때문에 HTML 문법을 그대로 사용할 수 있습니다."}),`
`,n.jsx(e.li,{children:"PHP는 다양한 데이터베이스와 호환되는 데이터베이스 연동 기능을 제공합니다."}),`
`,n.jsx(e.li,{children:"PHP는 다양한 서버와 호환되는 서버 연동 기능을 제공합니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"PHP의 단점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"PHP는 다른 서버 측 스크립트 언어에 비해 속도가 느립니다."}),`
`,n.jsx(e.li,{children:"PHP는 다른 서버 측 스크립트 언어에 비해 보안에 취약합니다."}),`
`,n.jsx(e.li,{children:"PHP는 다른 서버 측 스크립트 언어에 비해 확장성이 떨어집니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"PHP의 기본 문법"}),`
`,n.jsxs(e.p,{children:["PHP 코드는 ",n.jsx(e.code,{children:"<?php"}),"로 시작하여 ",n.jsx(e.code,{children:"?>"}),"로 끝납니다. PHP 코드는 HTML 문서 내에 삽입되어 사용되기 때문에 HTML 문법을 그대로 사용할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<!DOCTYPE html>
<html>
<body>
<h1>My first PHP page</h1>

<?php
echo "Hello World!";
?>

</body>
</html>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드는 ",n.jsx(e.code,{children:"<!DOCTYPE html>"}),"부터 ",n.jsx(e.code,{children:"</html>"}),"까지는 HTML 문법을 사용하고 있고, ",n.jsx(e.code,{children:"<?php"}),"부터 ",n.jsx(e.code,{children:"?>"}),"까지는 PHP 코드를 사용하고 있습니다. PHP 코드는 ",n.jsx(e.code,{children:"echo"})," 함수를 사용하여 출력할 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 주석"}),`
`,n.jsxs(e.p,{children:["PHP 코드 내에 주석을 사용할 수 있습니다. PHP의 주석은 ",n.jsx(e.code,{children:"//"})," 또는 ",n.jsx(e.code,{children:"#"}),"로 시작하여 줄의 끝까지 주석으로 처리할 수 있습니다. 또한 ",n.jsx(e.code,{children:"/*"}),"로 시작하여 ",n.jsx(e.code,{children:"*/"}),"로 끝나는 여러 줄의 주석을 사용할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
// 박주석

# 이주석

/*
김주석
*/
?>
`})}),`
`,n.jsx(e.h2,{children:"PHP의 변수"}),`
`,n.jsx(e.p,{children:"PHP의 변수는 `# Basic"}),`
`,n.jsx(e.p,{children:"Server Side Scripting Language라고 불리는 PHP는 HTML 문서 내에 PHP 코드를 삽입하여 동적인 웹 페이지를 생성하는 데 사용되는 언어입니다. PHP는 다른 서버 측 스크립트 언어와 마찬가지로 서버에서 실행되기 때문에 클라이언트에게 PHP 코드를 보여주지 않습니다."}),`
`,n.jsx(e.h2,{children:"PHP의 장점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"PHP는 HTML 문서 내에 삽입되어 사용되기 때문에 HTML 문법을 그대로 사용할 수 있습니다."}),`
`,n.jsx(e.li,{children:"PHP는 다양한 데이터베이스와 호환되는 데이터베이스 연동 기능을 제공합니다."}),`
`,n.jsx(e.li,{children:"PHP는 다양한 서버와 호환되는 서버 연동 기능을 제공합니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"PHP의 단점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"PHP는 다른 서버 측 스크립트 언어에 비해 속도가 느립니다."}),`
`,n.jsx(e.li,{children:"PHP는 다른 서버 측 스크립트 언어에 비해 보안에 취약합니다."}),`
`,n.jsx(e.li,{children:"PHP는 다른 서버 측 스크립트 언어에 비해 확장성이 떨어집니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"PHP의 기본 문법"}),`
`,n.jsxs(e.p,{children:["PHP 코드는 ",n.jsx(e.code,{children:"<?php"}),"로 시작하여 ",n.jsx(e.code,{children:"?>"}),"로 끝납니다. PHP 코드는 HTML 문서 내에 삽입되어 사용되기 때문에 HTML 문법을 그대로 사용할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<!DOCTYPE html>
<html>
<body>
<h1>My first PHP page</h1>

<?php
echo "Hello World!";
?>

</body>
</html>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드는 ",n.jsx(e.code,{children:"<!DOCTYPE html>"}),"부터 ",n.jsx(e.code,{children:"</html>"}),"까지는 HTML 문법을 사용하고 있고, ",n.jsx(e.code,{children:"<?php"}),"부터 ",n.jsx(e.code,{children:"?>"}),"까지는 PHP 코드를 사용하고 있습니다. PHP 코드는 ",n.jsx(e.code,{children:"echo"})," 함수를 사용하여 출력할 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 주석"}),`
`,n.jsxs(e.p,{children:["PHP 코드 내에 주석을 사용할 수 있습니다. PHP의 주석은 ",n.jsx(e.code,{children:"//"})," 또는 ",n.jsx(e.code,{children:"#"}),"로 시작하여 줄의 끝까지 주석으로 처리할 수 있습니다. 또한 ",n.jsx(e.code,{children:"/*"}),"로 시작하여 ",n.jsx(e.code,{children:"*/"}),"로 끝나는 여러 줄의 주석을 사용할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
// 박주석

# 이주석

/*
김주석
*/
?>
`})}),`
`,n.jsx(e.h2,{children:"PHP의 변수"}),`
`,n.jsx(e.p,{children:"PHP의 변수는 로 시작합니다. 변수의 이름은 문자나 밑줄로 시작해야 하며, 숫자로 시작할 수 없습니다. 변수의 이름은 대소문자를 구분합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
$txt = "Hello World!";
$x = 5;
$y = 10.5;
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서 ",n.jsx(e.code,{children:"$txt"}),"는 문자열을 저장하는 변수, ",n.jsx(e.code,{children:"$x"}),"는 정수를 저장하는 변수, ",n.jsx(e.code,{children:"$y"}),"는 실수를 저장하는 변수입니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 데이터 타입"}),`
`,n.jsx(e.p,{children:"PHP는 다음과 같은 데이터 타입을 지원합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"String"}),`
`,n.jsx(e.li,{children:"Integer"}),`
`,n.jsx(e.li,{children:"Float"}),`
`,n.jsx(e.li,{children:"Boolean"}),`
`,n.jsx(e.li,{children:"Array"}),`
`,n.jsx(e.li,{children:"Object"}),`
`,n.jsx(e.li,{children:"NULL"}),`
`,n.jsx(e.li,{children:"Resource"}),`
`]}),`
`,n.jsx(e.h2,{children:"PHP의 문자열"}),`
`,n.jsxs(e.p,{children:["PHP의 문자열은 작은따옴표(",n.jsx(e.code,{children:"'"}),") 또는 큰따옴표(",n.jsx(e.code,{children:'"'}),")로 묶어서 사용할 수 있습니다. 작은따옴표로 묶은 문자열은 그대로 출력되지만, 큰따옴표로 묶은 문자열은 변수의 값이 출력됩니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
$txt1 = "Hello World!";
$txt2 = 'Hello World!';
echo $txt1;
echo "<br>";
echo $txt2;
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서 ",n.jsx(e.code,{children:"$txt1"}),"은 큰따옴표로 묶인 문자열이기 때문에 변수의 값이 출력되고, ",n.jsx(e.code,{children:"$txt2"}),"는 작은따옴표로 묶인 문자열이기 때문에 그대로 출력됩니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 상수"}),`
`,n.jsxs(e.p,{children:["PHP의 상수는 ",n.jsx(e.code,{children:"define()"})," 함수를 사용하여 정의할 수 있습니다. 상수는 대소문자를 구분하지 않습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
define("GREETING", "Welcome to W3Schools.com!");
echo GREETING;
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서 ",n.jsx(e.code,{children:"GREETING"}),"이라는 상수를 정의하고, ",n.jsx(e.code,{children:"GREETING"})," 상수를 출력하고 있습니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 연산자"}),`
`,n.jsx(e.p,{children:"PHP는 다양한 연산자를 지원합니다. 산술 연산자, 비교 연산자, 논리 연산자, 문자열 연산자, 배열 연산자 등이 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
$x = 10;
$y = 6;
echo $x + $y; // 16
echo $x - $y; // 4
echo $x * $y; // 60
echo $x / $y; // 1.6666666666667
echo $x % $y; // 4
?>
`})}),`
`,n.jsx(e.p,{children:"위의 코드에서는 산술 연산자를 사용하여 덧셈, 뺄셈, 곱셈, 나눗셈, 나머지 연산을 수행하고 있습니다."}),`
`,n.jsx(e.h2,{children:"PHP의 조건문"}),`
`,n.jsxs(e.p,{children:["PHP는 ",n.jsx(e.code,{children:"if"}),", ",n.jsx(e.code,{children:"else"}),", ",n.jsx(e.code,{children:"elseif"})," 등의 조건문을 지원합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
$t = date("H");

if ($t < "20") {
    echo "Have a good day!";
} else {
    echo "Have a good night!";
}
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서는 현재 시간을 구하여 ",n.jsx(e.code,{children:"$t"})," 변수에 저장하고, ",n.jsx(e.code,{children:"if"}),' 조건문을 사용하여 현재 시간이 20시보다 작으면 "Have a good day!"를 출력하고, 그렇지 않으면 "Have a good night!"를 출력하고 있습니다.']}),`
`,n.jsx(e.h2,{children:"PHP의 반복문"}),`
`,n.jsxs(e.p,{children:["PHP는 ",n.jsx(e.code,{children:"for"}),", ",n.jsx(e.code,{children:"while"}),", ",n.jsx(e.code,{children:"do...while"}),", ",n.jsx(e.code,{children:"foreach"})," 등의 반복문을 지원합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
for ($x = 0; $x <= 10; $x++) {
    echo "The number is: $x <br>";
}
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서는 ",n.jsx(e.code,{children:"for"})," 반복문을 사용하여 0부터 10까지의 숫자를 출력하고 있습니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 배열"}),`
`,n.jsx(e.p,{children:"PHP의 배열은 다양한 데이터 타입을 저장할 수 있는 데이터 구조입니다. PHP는 숫자로 된 인덱스 배열과 문자열로 된 연관 배열을 지원합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
$cars = array("Volvo", "BMW", "Toyota");
echo "I like " . $cars[0] . ", " . $cars[1] . " and " . $cars[2] . ".";
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서는 ",n.jsx(e.code,{children:"$cars"})," 배열에 세 개의 자동차 브랜드를 저장하고, ",n.jsx(e.code,{children:"echo"})," 함수를 사용하여 배열의 값을 출력하고 있습니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 함수"}),`
`,n.jsxs(e.p,{children:["PHP는 사용자 정의 함수를 지원합니다. 함수는 ",n.jsx(e.code,{children:"function"})," 키워드를 사용하여 정의할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
function writeMsg() {
    echo "Hello world!";
}

writeMsg(); // call the function
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서는 ",n.jsx(e.code,{children:"writeMsg"}),"라는 함수를 정의하고, ",n.jsx(e.code,{children:"writeMsg"})," 함수를 호출하고 있습니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 파일 처리"}),`
`,n.jsxs(e.p,{children:["PHP는 파일을 읽고 쓰는 기능을 제공합니다. 파일을 읽기 위해서는 ",n.jsx(e.code,{children:"fopen()"}),", ",n.jsx(e.code,{children:"fread()"}),", ",n.jsx(e.code,{children:"fclose()"})," 함수를 사용하고, 파일을 쓰기 위해서는 ",n.jsx(e.code,{children:"fopen()"}),", ",n.jsx(e.code,{children:"fwrite()"}),", ",n.jsx(e.code,{children:"fclose()"})," 함수를 사용합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
$myfile = fopen("webdictionary.txt", "r") or die("Unable to open file!");
echo fread($myfile, filesize("webdictionary.txt"));
fclose($myfile);
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서는 ",n.jsx(e.code,{children:"webdictionary.txt"})," 파일을 읽어서 파일의 내용을 출력하고 있습니다."]}),`
`,n.jsx(e.h2,{children:"PHP의 에러 처리"}),`
`,n.jsxs(e.p,{children:["PHP는 에러 처리를 위한 다양한 함수를 제공합니다. ",n.jsx(e.code,{children:"die()"}),", ",n.jsx(e.code,{children:"trigger_error()"}),", ",n.jsx(e.code,{children:"set_error_handler()"})," 등의 함수를 사용하여 에러를 처리할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
function customError($errno, $errstr) {
    echo "<b>Error:</b> [$errno] $errstr";
}

set_error_handler("customError");

echo($test);
?>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서는 ",n.jsx(e.code,{children:"set_error_handler()"})," 함수를 사용하여 사용자 정의 에러 핸들러를 등록하고 있습니다. 그리고 ",n.jsx(e.code,{children:"echo($test)"})," 코드에서 에러가 발생하면 ",n.jsx(e.code,{children:"customError"})," 함수가 호출됩니다."]}),`
`,n.jsx(e.h2,{children:"String Concatenation"}),`
`,n.jsxs(e.p,{children:["PHP는 문자열 연결을 위해 ",n.jsx(e.code,{children:"."})," 연산자를 사용합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-php",children:`<?php
$txt1 = "Hello";
$txt2 = " world!";
echo $txt1 . $txt2; // Hello world!
?>
`})})]})}function Ije(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(FP,{...t})}):FP(t)}const Fje=je({});function Uje(){return n.jsx(Se,{children:n.jsx(Ije,{components:Fje})})}const zje=ve("/_layout/til/php/basic")({component:Uje,head:()=>({meta:[{title:"basic"}]})});function UP(t){const e={code:"code",h1:"h1",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Basic Yarn Berry"}),`
`,n.jsx(e.p,{children:"기존 yarn v1에서는 사용되는 모든 패키지들이 마치 javascript에서의 호이스팅처럼 package.json에 명시하지도 않은 패키지를 import하여 사용할 수 있는 유령 의존성(Phantom Dependency)을 갖는 문제가 있었습니다."}),`
`,n.jsxs(e.p,{children:["yarn berry(Yarn v2)는 패키지들과 그 패키지들이 의존하는 모든 패키지들의 관계를 정의하였고, 그로인하여 생긴 방대한 module들은 ",n.jsx(e.code,{children:".zip"})," 파일로 관리하여 패키지 용량을 최소화 하였습니다."]}),`
`,n.jsx(e.p,{children:"yarn berry는 아래와 같은 방식을 사용합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"node_modules"}),"를 생성하지 않고, ",n.jsx(e.code,{children:".yarn/cache"})," 라는 폴더에 ",n.jsx(e.code,{children:".pnp.cjs"}),"라는 파일로 각 패키지의 의존 관계를 명확히 정의합니다."]}),`
`,n.jsxs(e.li,{children:["모든 패키지들은 ",n.jsx(e.code,{children:".yarn/cashe"})," 폴더에 ",n.jsx(e.code,{children:".zip"})," 파일로 관리합니다."]}),`
`,n.jsxs(e.li,{children:["node에서 사용되는 ",n.jsx(e.code,{children:"require"})," 함수를 오버라이딩 하여 ",n.jsx(e.code,{children:".zip"})," 파일을 이용할 수 있도록합니다."]}),`
`,n.jsxs(e.li,{children:["패키지들을 상대적으로 용량이 적은 ",n.jsx(e.code,{children:".zip"})," 파일로 관리하기 때문에, git repository에 함께 올려서 zero install을 가능하게 합니다."]}),`
`]})]})}function Hje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(UP,{...t})}):UP(t)}const Vje=je({});function Gje(){return n.jsx(Se,{children:n.jsx(Hje,{components:Vje})})}const $je=ve("/_layout/til/package/basic-yarn-berry")({component:Gje,head:()=>({meta:[{title:"basic yarn berry"}]})});function zP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Automatically sink the node version using .nvmrc"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:".nvmrc"}),"라는 파일을 이용하여 버전을 정의하면, ",n.jsx(e.code,{children:"nvm use"})," 명령어를 실행하여 node 버전을 프로젝트에 맞게 쉽게 변경이 가능합니다."]}),`
`,n.jsxs(e.p,{children:["그렇다면, 디렉토리 내에 ",n.jsx(e.code,{children:".nvmrc"}),"파일이 있는 경우에 자동으로 ",n.jsx(e.code,{children:"nvm use"}),"를 실행 시켜주는 스크립트가 있으면 얼마나 좋을까요."]}),`
`,n.jsx(e.p,{children:"그래서 만들었습니다."}),`
`,n.jsxs(e.p,{children:["참고로 저는 ",n.jsx(e.code,{children:"zsh"}),"를 사용하고 있고 ",n.jsx(e.code,{children:"mac"})," 환경에서 테스트 해 보았습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`# ~/.zshrc

# Add this to the end of the file
autoload -U add-zsh-hook
load-nvmrc() {
  local node_version="$(nvm version)"
  local nvmrc_path="$(nvm_find_nvmrc)"

  if [ -n "$nvmrc_path" ]; then
    local nvmrc_node_version=$(nvm version "$(cat "\${nvmrc_path}")")

    if [ "$nvmrc_node_version" = "N/A" ]; then
      nvm install
    elif [ "$nvmrc_node_version" != "$node_version" ]; then
      nvm use
    fi
  elif [ "$node_version" != "$(nvm version default)" ]; then
    echo "Reverting to nvm default version"
    nvm use default
  fi
}
add-zsh-hook chpwd load-nvmrc
load-nvmrc

`})}),`
`,n.jsxs(e.p,{children:["이 스크립트는 새 터미널 세션을 시작할 때와 디렉토리를 변경할 때마다 실행됩니다. 디렉토리에 ",n.jsx(e.code,{children:".nvmrc"})," 파일이 있는 경우, 해당 파일에서 지정한 Node.js 버전을 사용하도록 ",n.jsx(e.code,{children:"nvm use"}),"를 실행합니다. ",n.jsx(e.code,{children:".nvmrc"})," 파일이 없는 경우, 기본 Node.js 버전을 사용하도록 설정합니다."]}),`
`,n.jsxs(e.p,{children:["이 설정을 적용하려면 위의 코드를 ",n.jsx(e.code,{children:"~/.zshrc"})," 파일의 맨 아래에 추가한 후 파일을 저장하고 닫습니다. 그리고 기존 command창을 껐다가 키는 방법 혹은 아래 명령어를 실행합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`source ~/.zshrc
`})})]})}function qje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(zP,{...t})}):zP(t)}const Wje=je({});function Xje(){return n.jsx(Se,{children:n.jsx(qje,{components:Wje})})}const Yje=ve("/_layout/til/package/automatically-sink-the-node-version-using-nvmrc")({component:Xje,head:()=>({meta:[{title:"automatically sink the node version using nvmrc"}]})});function HP(t){const e={a:"a",blockquote:"blockquote",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Open Source Initiative"}),`
`,n.jsx(e.p,{children:"Open Source Initiative (OSI)는 오픈 소스 소프트웨어 사용을 정리하기 위하여 만들어진 단체입니다. OSI는 오픈 소스 소프트웨어의 정의를 제공하고, 오픈 소스 소프트웨어의 사용을 정리하는 데에 도움을 주고 있습니다."}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsxs(e.p,{children:["사이트에 방문하여 오픈소스에 대해서 더 자세한 내용을 일 수 있었습니다. ",n.jsx(e.a,{href:"https://opensource.org/",children:"opensource.org"})]}),`
`]}),`
`,n.jsx(e.h2,{children:"오픈 소스 소프트웨어의 정의"}),`
`,n.jsx(e.p,{children:"OSI에서는 오픈 소스 소프트웨어를 단순히 소스 코드를 공개하는 것이 아닌, 다음과 같은 10가지 조건을 만족하는 소프트웨어라고 정의하고 있습니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"재배포 가능성"}),`
`,n.jsx(e.p,{children:"소프트웨어의 라이선스는 재배포를 허용해야 합니다. 라이선스가 재배포를 허용하지 않는다면, 소스 코드를 공개하더라도 오픈 소스 소프트웨어가 아닙니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`소스 코드
소프트웨어의 소스 코드는 반드시 공개되어야 합니다. 고의적으로 난독화를 하거나 소스 코드가 공개되지 않는다면, 오픈 소스 소프트웨어가 아닙니다.`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`파생 저작물
소프트웨어의 라이선스는 파생 저작물을 허용해야 합니다. 피셍 저장물을 허용하고 같은 라이선스를 사용하도록 강제하는 것이 일반적입니다.`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`원저자의 소스 코드의 무결성
소프트웨어의 라이선스는 원저자의 소스 코드의 무결성을 보장해야 합니다. 소스 코드가 수정되었다면, 수정된 부분을 명확하게 표시해야 합니다.`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`개인 또는 집단에 대한 차별 금지
소프트웨어의 라이선스는 개인 또는 집단에 대한 차별을 금지해야 합니다. 라이선스가 특정 개인 또는 집단에 대한 차별을 허용한다면, 오픈 소스 소프트웨어가 아닙니다.`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`노력 분야에 대한 차별 금지
라이선스는 특정 분야에서 프로그램을 사용하는 것을 제한해서는 안 됩니다. 예를 들어, 비즈니스에서 프로그램을 사용하거나 유전자 연구에 사용하는 것을 제한해서는 안 됩니다.`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`라이선스의 배포
기밀 유지 계약을 요구하는 등 간접적인 방법으로 소프트웨어를 폐쇄하는 행위를 금지하기 위해서 라이선스가 프로그램에 첨부되어야 하며 재배포 시에도 모든 사람에게 제공되어야 합니다.`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`라이선스는 제품에 한정되어서는 안 됩니다.
프로그램에 부여된 권리는 프로그램이 특정 소프트웨어 배포판의 일부인지 여부에 따라 달라져서는 안 됩니다. 해당 배포판에서 프로그램을 추출하여 프로그램의 라이선스 조건 내에서 사용 또는 배포하는 경우, 프로그램을 재배포하는 모든 당사자는 원래 소프트웨어 배포판과 함께 부여된 것과 동일한 권리를 가져야 합니다.`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`라이선스는 다른 소프트웨어에 대한 제한을 포함해서는 안 됩니다.
라이선스는 라이선스가 부여된 소프트웨어와 함께 배포되는 다른 소프트웨어에 대한 제한을 두지 않아야 합니다. 예를 들어, 라이선스는 동일한 매체에 배포되는 다른 모든 프로그램이 오픈 소스 소프트웨어여야 한다고 주장해서는 안 됩니다.`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:`라이선스는 기술 중립적이어야 합니다.
라이선스는 특정 기술이나 인터페이스에 대한 의존성을 강제해서는 안 됩니다. 예를 들어, 라이선스는 특정 인터페이스를 사용하도록 강제해서는 안 됩니다.`}),`
`]}),`
`]}),`
`,n.jsxs(e.p,{children:["추가로 이러한 정의가 데미안 소프트웨어 가이드라인에서 파생되었다고 하여 함께 링크를 첨부합니다. ",n.jsx(e.a,{href:"https://www.debian.org/social_contract#guidelines",children:"링크"})]})]})}function Kje(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(HP,{...t})}):HP(t)}const Zje=je({});function Qje(){return n.jsx(Se,{children:n.jsx(Kje,{components:Zje})})}const Jje=ve("/_layout/til/opensource/open-source-initiative")({component:Qje,head:()=>({meta:[{title:"open source initiative"}]})});function VP(t){const e={a:"a",h1:"h1",h3:"h3",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Code Of Conduct"}),`
`,n.jsx(e.p,{children:"CODE_OF_CONDUCT.md 파일은 오픈소스 프로젝트에서 기여자들이 지켜야 할 행동 규칙을 정의합니다."}),`
`,n.jsxs(e.p,{children:["이 파일은 ",n.jsx(e.a,{href:"https://www.contributor-covenant.org/",children:"Contributor Covenant"}),"의 ",n.jsx(e.a,{href:"https://www.contributor-covenant.org/version/2/0/code_of_conduct/",children:"Code of Conduct"}),"을 기반으로 작성되어 질 수 있으며, 각 프로젝트에 맞게 수정할 수 있습니다."]}),`
`,n.jsx(e.h3,{children:"주요 포인트들은 다음과 같습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"존중과 포용성: 모든 참여자에게 존중과 포용성을 강조합니다."}),`
`,n.jsx(e.li,{children:`긍정적인 환경 조성: 서로 다른 의견과 경험을 존중하고, 긍정적인 분위기를 조성합니다.
부적절한 행동 정의: 성적인 언어 사용, 인신공격, 괴롭힘 등 부적절한 행동을 명확히 규정합니다.`}),`
`,n.jsx(e.li,{children:"책임과 집행: 프로젝트 관리자의 책임과 권한, 그리고 부적절한 행동에 대한 집행 방안을 명시합니다."}),`
`,n.jsx(e.li,{children:"적용 범위: 코드의 적용 범위를 프로젝트 내외부로 명시합니다."}),`
`,n.jsx(e.li,{children:`집행 절차: 부적절한 행동을 보고하는 방법과 그 처리 절차를 제공합니다.
각 조직이나 커뮤니티는 이 템플릿을 기반으로 하여 자체적인 CODE_OF_CONDUCT를 개발하고, 이를 모든 참여자가 쉽게 접근하고 이해할 수 있도록 만드는 것이 중요합니다. 이렇게 함으로써, 건강하고 생산적인 커뮤니티 환경을 조성하고 유지하는 데 도움이 됩니다.`}),`
`]})]})}function eSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(VP,{...t})}):VP(t)}const tSe=je({});function nSe(){return n.jsx(Se,{children:n.jsx(eSe,{components:tSe})})}const iSe=ve("/_layout/til/opensource/code_of_conduct")({component:nSe,head:()=>({meta:[{title:"code of conduct"}]})});function GP(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Cookie"}),`
`,n.jsx(e.p,{children:"쿠키(Cookie)는 웹 브라우저와 웹 서버 간에 정보를 주고받을 때 사용되는 작은 텍스트입니다. 쿠키는 사용자의 웹 브라우저에 저장되며, 웹 사이트에서 정보를 추적하고 상태를 유지하는 데 유용합니다."}),`
`,n.jsx(e.h2,{children:"쿠키 저장 방법"}),`
`,n.jsx(e.p,{children:"웹 서버는 HTTP 응답 헤더의 Set-Cookie 헤더를 사용하여 쿠키를 생성하고 클라이언트(브라우저)에 전송합니다. 쿠키는 클라이언트에서만 저장됩니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`Set-Cookie: username=johndoe; expires=Wed, 21 Oct 2022 07:28:00 GMT; path=/; domain=.example.com; secure; httponly
`})}),`
`,n.jsx(e.p,{children:"Set-Cookie 헤더에는 쿠키 이름(username), 값(johndoe), 만료 일자(expires), 경로(path), 도메인(domain), 보안(secure), HTTP 전용(httponly) 등의 정보를 플래그와 함께 포함할 수 있습니다. (쿠키의 보안에서 각 플래그에 대해 설명합니다.)"}),`
`,n.jsx(e.h2,{children:"쿠키 사용 예시"}),`
`,n.jsx(e.p,{children:"쿠키는 웹 개발 및 온라인 경험을 개선하기 위해 다양한 용도로 활용됩니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"세션 관리: 사용자가 로그인한 상태를 유지하고 웹 애플리케이션의 세션을 관리하기 위해 사용됩니다."}),`
`,n.jsx(e.li,{children:"개인화: 사용자 경험을 개선하기 위해 사용자 선호도, 테마, 언어 등의 정보를 추적하고 제공합니다."}),`
`,n.jsx(e.li,{children:"쇼핑 카트: 온라인 쇼핑 사이트에서 장바구니 정보를 저장하고 관리합니다."}),`
`,n.jsx(e.li,{children:"추적 및 분석: 웹 사이트의 방문자 동작 및 트래픽을 추적하고 분석하여 사용자 행동을 이해하고 개선합니다."}),`
`,n.jsx(e.li,{children:"광고 타겟팅: 사용자 관심사에 기반하여 광고를 표시하고 타겟팅합니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"쿠키의 보안"}),`
`,n.jsx(e.p,{children:"쿠키는 민감한 정보를 저장할 수 있으므로 보안에 주의해야 합니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["expires 플래그: expires 플래그를 사용하여 쿠키의 만료 일자를 설정합니다. 만료 일자가 지나면 쿠키가 삭제됩니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"만약 expires 옵션이 설정되지 않으면 쿠키는 세션 쿠키로 간주되어 브라우저 세션이 종료될 때까지 유지됩니다."}),`
`,n.jsx(e.li,{children:"expires 옵션은 GMT(그리니치 표준시) 형식으로 날짜를 표시합니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["path 플래그: 옵션은 쿠키가 어떤 경로에서 유효한지를 지정하는 데 사용됩니다. 이 경로는 URL 경로와 비교됩니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"쿠키의 path 옵션이 설정되면 해당 경로 또는 하위 경로에서만 쿠키를 사용할 수 있습니다. 다른 경로에서는 쿠키에 접근할 수 없습니다."}),`
`,n.jsx(e.li,{children:"기본적으로 path 옵션이 설정되지 않으면 쿠키는 해당 경로에 관계없이 모든 경로에서 사용 가능합니다."}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"Secure 플래그: 웹 서버에서 중요한 정보를 다룰 때는 Secure 플래그를 사용하여 HTTPS 연결을 통해서만 쿠키를 전송합니다."}),`
`,n.jsxs(e.li,{children:["HttpOnly 플래그: HttpOnly 플래그를 설정하면 클라이언트 측 JavaScript가 쿠키에 접근할 수 없으므로 XSS(Cross-Site Scripting) 공격을 방지할 수 있습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"HttpOnly 플래그를 설정하면 쿠키를 HTTP 요청에만 사용할 수 있습니다. 즉, JavaScript에서 쿠키에 접근할 수 없습니다."}),`
`,n.jsx(e.li,{children:"HttpOnly 플래그를 설정하지 않으면 쿠키를 HTTP 요청 및 JavaScript에서 모두 사용할 수 있습니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["SameSite 플래그: SameSite 플래그를 설정하여 쿠키의 Cross-Site 요청 제어를 강화하고 CSRF(Cross-Site Request Forgery) 공격을 방지할 수 있습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["SameSite 플래그는 Strict, Lax, None으로 설정할 수 있습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Strict: 쿠키는 동일한 사이트에서만 사용할 수 있습니다."}),`
`,n.jsx(e.li,{children:"Lax: 쿠키는 동일한 사이트에서만 사용할 수 있으며, 다른 사이트에서는 GET 요청에만 사용할 수 있습니다."}),`
`,n.jsx(e.li,{children:"None: 쿠키는 동일한 사이트 및 다른 사이트에서 모두 사용할 수 있습니다."}),`
`]}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"쿠키 관리 및 제거"}),`
`,n.jsx(e.p,{children:"웹 브라우저에서 쿠키를 관리하고 제거할 수 있습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:'쿠키 확인: 대부분의 웹 브라우저에서는 개발자 도구를 사용하여 현재 페이지에서 설정된 쿠키를 확인할 수 있습니다. "Application" 탭에서 확인할 수 있습니다.'}),`
`,n.jsx(e.li,{children:"쿠키 삭제: 웹 브라우저 설정에서 쿠키를 삭제하거나 개별적으로 쿠키를 삭제할 수 있습니다."}),`
`]})]})}function rSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(GP,{...t})}):GP(t)}const sSe=je({});function aSe(){return n.jsx(Se,{children:n.jsx(rSe,{components:sSe})})}const oSe=ve("/_layout/til/network/cookie")({component:aSe,head:()=>({meta:[{title:"cookie"}]})});function $P(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"AbortController"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"AbortController"})," 인터페이스는 javascript로 fetch하는 network 요청을 중단할 수 있게 해주는 api 입니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const controller = new AbortController();
const signal = controller.signal;

fetch(url, { signal }).then(function(response) {
  ...
})

abortBtn.addEventListener('click', function() {
  controller.abort();
  console.log('Download aborted');
});
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"controller.abort();"})," 가 실행이 되면 ",n.jsx(e.code,{children:"fetch"}),"함수는 ",n.jsx(e.code,{children:"AbortError(DOMException)"}),"으로 reject 됩니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"AbortSignal.timeout"})," 를 이용하면 timeout로 설정할 수 있습니다."]})]})}function lSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx($P,{...t})}):$P(t)}const cSe=je({});function hSe(){return n.jsx(Se,{children:n.jsx(lSe,{components:cSe})})}const uSe=ve("/_layout/til/network/abortController")({component:hSe,head:()=>({meta:[{title:"abortController"}]})});function qP(t){const e={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h2,{children:"DNS (Domain Name System)"}),`
`,n.jsx(e.p,{children:"Domain Name System(이하 DNS)은 사용자가 입력한 URL 주소를 IP 주소로 변환하여 실제 서버가 운영되는 IP주소를 알 수 있도록 도와주는 System입니다."}),`
`,n.jsxs(e.p,{children:["우리가 브라우저 창에서 URL(",n.jsx(e.code,{children:"gitsunmin.dev"}),")을 입력한다면, 컴퓨터는 해당 URL(",n.jsx(e.code,{children:"gitsunmin.dev"}),")을 LOCAL_DOMAIN_NAME_SERVER로 요청을 보내게 되는데, 이 LOCAL_DOMAIN_NAME_SERVER는 Internet Service Providers, ",n.jsx(e.a,{href:"https://ko.wikipedia.org/wiki/%EC%9D%B8%ED%84%B0%EB%84%B7_%EC%84%9C%EB%B9%84%EC%8A%A4_%EC%A0%9C%EA%B3%B5%EC%9E%90",children:"ISP"})," 라고 부르는 제공자가 운영하는 DNS 서버로서 요청받은 URL을 받아서 실제 IP 주소가 우리 컴퓨터에 전달 되도록 돕는다. 돕는 과정중에는 캐싱되어 있는 IP주소를 내보내주기도 하며, 아래의 그림 처럼 가장 상단의 ROOT_NAME_SERVER에게 URL을 보내고, 받은 하위 NAME_SERVER의 주소로 다시 하위 NAME_SERVER에게 URL주소를 요청하여 실제 IP 주소를 받기 위해 반복적으로 요청을 보냅니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-mermaid",children:`graph LR
  MY_COMPUTER -->|gitsunmin.dev| LOCAL_NAME_SERVER
	LOCAL_NAME_SERVER --->|캐싱 데이터 OR 받은 IP 주소| MY_COMPUTER
	LOCAL_NAME_SERVER -->|gitsunmin.dev| ROOT_NAME_SERVER --->|TOP_LEVEL_DOMAIN_NAME_SERVER_주소| LOCAL_NAME_SERVER
	LOCAL_NAME_SERVER -->|gitsunmin.dev| TOP_LEVEL_DOMAIN_NAME_SERVER --->|SUB_DOMAIN_NAME_SERVER_주소| LOCAL_NAME_SERVER
	LOCAL_NAME_SERVER -->|gitsunmin.dev| SUB_DOMAIN_NAME_SERVER --->|실제 IP 주소| LOCAL_NAME_SERVER
	LOCAL_NAME_SERVER -->|...| SUB_DOMAIN_NAME_SERVERS... --->|...| LOCAL_NAME_SERVER
`})}),`
`,n.jsx(e.p,{children:"이렇게 IP를 찾을 수 있는 이유는 DOMAIN이라고 하는 것이 아래의 그림처럼 계층 구조를 갖고 있기 떄문입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-mermaid",children:`graph TD
	ROOT --> .com
	ROOT --> .org
	ROOT --> .dev
	ROOT --> ...
	.com --> naver
	.com --> google
	.dev --> gitsunmin
	gitsunmin --> www
	gitsunmin --> sandbox

	ROOT_DOMAIN --- TOP_LEVEL_DOMAIN --- SUB_DOMAIN --- ....
	
`})}),`
`,n.jsx(e.p,{children:"참고할 사항"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["우리나라에 등록된 ISP (",n.jsx(e.a,{href:"https://db-ip.com/country/KR",children:"주소"}),")"]}),`
`,n.jsxs(e.li,{children:["ROOT DOMAIN NAME SERVER (",n.jsx(e.a,{href:"https://ko.wikipedia.org/wiki/%EB%A3%A8%ED%8A%B8_%EB%84%A4%EC%9E%84_%EC%84%9C%EB%B2%84",children:"주소"}),")"]}),`
`]})]})}function dSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(qP,{...t})}):qP(t)}const fSe=je({});function pSe(){return n.jsx(Se,{children:n.jsx(dSe,{components:fSe})})}const mSe=ve("/_layout/til/network/DNS-domain-name-system")({component:pSe,head:()=>({meta:[{title:"DNS domain name system"}]})});function WP(t){const e={h1:"h1",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Android Icon Name"}),`
`,n.jsx(e.p,{children:"안드로이드 개발에서 아이콘으로 사용되는 이미지들은 다음과 같다."}),`
`,n.jsx(e.p,{children:"크기로 구분하자면,"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"mipmap-ldpi(Low Density) : 대략 120dpi(dots per inch) 정도의 해상도를 가진 기기에 사용되는 아이콘, 크기는 36x36"}),`
`,n.jsx(e.li,{children:"mipmap-mdpi(Medium Density) : 대략 160dpi(dots per inch) 정도의 해상도를 가진 기기에 사용되는 아이콘, 크기는 48x48"}),`
`,n.jsx(e.li,{children:"mipmap-hdpi(High Density) : 대략 240dpi(dots per inch) 정도의 해상도를 가진 기기에 사용되는 아이콘, 크기는 72x72"}),`
`,n.jsx(e.li,{children:"mipmap-xhdpi(Xtra High Density) : 대략 320dpi(dots per inch) 정도의 해상도를 가진 기기에 사용되는 아이콘, 크기는 96x96"}),`
`,n.jsx(e.li,{children:"mipmap-xxhdpi(XXtra High Density) : 대략 480dpi(dots per inch) 정도의 해상도를 가진 기기에 사용되는 아이콘, 크기는 144x144"}),`
`,n.jsx(e.li,{children:"mipmap-xxxhdpi(XXXtra High Density) : 대략 640dpi(dots per inch) 정도의 해상도를 가진 기기에 사용되는 아이콘, 크기는 192x192"}),`
`,n.jsx(e.li,{children:"mipmap-anydpi-v26 : 안드로이드 8.0(Oreo) 이상에서 사용되는 아이콘, 크기는 512x512"}),`
`]}),`
`,n.jsx(e.p,{children:"이렇게 구분할 수 있습니다."}),`
`,n.jsx(e.p,{children:"그리고 안드로이드 프로젝트의 res 폴더들은 minimap 뿐만아니라 drawable로도 구분할 수 있습니다."}),`
`,n.jsx(e.p,{children:"이 drawable은 아이콘 뿐만 아니라, 이미지 리소스들을 모아놓는 폴더입니다. (예를들면, splash 이미지 등)"})]})}function gSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(WP,{...t})}):WP(t)}const xSe=je({});function ySe(){return n.jsx(Se,{children:n.jsx(gSe,{components:xSe})})}const vSe=ve("/_layout/til/mobile/android-icon-name")({component:ySe,head:()=>({meta:[{title:"android icon name"}]})});function XP(t){const e={h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"What is MCP"}),`
`,n.jsx(e.p,{children:"Model Context Protocol (MCP)는 애플리케이션이 대규모 언어 모델(LLM)에 컨텍스트를 제공하는 방식을 표준화한 오픈 프로토콜(Open Protocol)입니다. 이 프로토콜은 LLM 기반 도구들이 보다 정확하고 상황에 맞는 응답을 생성할 수 있도록, 모델에 유의미한 컨텍스트 정보를 효율적으로 제공하는 것을 목적으로 합니다."}),`
`,n.jsx(e.h2,{children:"MCP의 구성 요소"}),`
`,n.jsx(e.p,{children:"MCP는 여러 컴포넌트로 구성되며, 각 요소는 다음과 같은 역할을 수행합니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"MCP Host"}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"정의: MCP를 통해 데이터를 접근하려는 주요 애플리케이션입니다."}),`
`,n.jsxs(e.li,{children:["예시:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Claude Desktop과 같은 LLM 애플리케이션"}),`
`,n.jsx(e.li,{children:"개발용 IDE (예: VSCode, IntelliJ)"}),`
`,n.jsx(e.li,{children:"AI 기반 툴 또는 어시스턴트 앱"}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"이들은 LLM이 특정 작업을 수행할 수 있도록 외부 데이터를 요청하고, 그 데이터를 MCP를 통해 받아들이는 중심적인 역할을 합니다."}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsx(e.li,{children:"MCP Client"}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"정의: MCP 서버와 1:1 연결을 유지하는 프로토콜 클라이언트입니다."}),`
`,n.jsx(e.li,{children:"MCP Client는 Host와 Server 간의 중계자 역할을 하며, 필요한 데이터를 요청하고 결과를 전달합니다."}),`
`,n.jsx(e.li,{children:"Client는 다양한 서버에 동시에 연결될 수 있으며, 서버로부터 오는 응답을 통합하여 Host로 전달합니다."}),`
`]}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"MCP Server"}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"정의: 특정 기능 또는 데이터를 MCP를 통해 외부에 제공하는 경량화된 프로그램입니다."}),`
`,n.jsxs(e.li,{children:["기능:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"특정 파일 시스템에 접근해 파일을 읽어 제공"}),`
`,n.jsx(e.li,{children:"로컬 데이터베이스에서 쿼리 실행"}),`
`,n.jsx(e.li,{children:"외부 API를 호출하여 실시간 데이터를 수집"}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"서버는 일반적으로 한 가지 유형의 데이터를 제공하도록 설계되며, MCP 프로토콜을 따릅니다."}),`
`,n.jsxs(e.ol,{start:"4",children:[`
`,n.jsx(e.li,{children:"로컬 데이터 소스 (Local Data Sources)"}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용자의 컴퓨터 내에 존재하는 데이터",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"예: 문서 파일, 코드베이스, 로컬 SQLite DB, 설정 파일 등"}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"MCP Server는 이러한 로컬 데이터를 안전하게 접근하고, 필요에 따라 정제하여 Host로 전달합니다."}),`
`]}),`
`,n.jsxs(e.ol,{start:"5",children:[`
`,n.jsx(e.li,{children:"원격 서비스 (Remote Services)"}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"MCP Server가 외부 네트워크를 통해 접근 가능한 리소스입니다."}),`
`,n.jsxs(e.li,{children:["예시:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"외부 REST API"}),`
`,n.jsx(e.li,{children:"클라우드 저장소 (예: Google Drive, Dropbox)"}),`
`,n.jsx(e.li,{children:"온라인 데이터베이스"}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"이를 통해 모델은 로컬 환경을 넘어서 더 풍부하고 시의성 있는 정보를 확보할 수 있습니다."})]})}function _Se(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(XP,{...t})}):XP(t)}const bSe=je({});function jSe(){return n.jsx(Se,{children:n.jsx(_Se,{components:bSe})})}const SSe=ve("/_layout/til/mcp/what-is-mcp")({component:jSe,head:()=>({meta:[{title:"what is mcp"}]})});function YP(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Perceptron"}),`
`,n.jsx(e.h2,{children:"1. 퍼셉트론이란?"}),`
`,n.jsx(e.p,{children:"퍼셉트론은 1957년 프랭크 로젠블랫이 고안한 인공 뉴런 모델로, 생물학적 뉴런의 작동 원리를 수학적으로 모사한 것이다. 이는 머신러닝에서 가장 기초적인 지도 학습 알고리즘 중 하나로, 이진 분류 문제를 해결할 수 있다."}),`
`,n.jsx(e.p,{children:"퍼셉트론은 입력과 출력을 가지는 하나의 함수로 볼 수 있으며, 입력값과 가중치의 선형 결합에 바이어스를 더한 후 활성화 함수를 적용해 결과를 도출한다."}),`
`,n.jsx(e.h2,{children:"2. 퍼셉트론의 구조"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"입력(Input)"}),": $x_1, x_2, ..., x_n$"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"가중치(Weight)"}),": $w_1, w_2, ..., w_n$"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"바이어스(Bias)"}),": $b$"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"가중합(Sum)"}),": $z = \\sum w_i x_i + b$"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"출력(Output)"}),": 계단 함수에 따라 $z > 0$이면 1, 그렇지 않으면 0"]}),`
`]}),`
`,n.jsx(e.p,{children:"이러한 구조는 논리 회로의 AND, OR 게이트와 유사하게 동작할 수 있다."}),`
`,n.jsx(e.h2,{children:"3. 퍼셉트론의 학습"}),`
`,n.jsx(e.p,{children:"퍼셉트론은 처음에는 어떤 게이트인지 알지 못한다. 학습은 주어진 입력과 정답(출력)을 비교하며, 오차를 바탕으로 가중치와 바이어스를 조정하는 과정이다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"오차(Error)"}),": $\\text",정답," - \\text",예측,"$"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"가중치 업데이트"}),": $w_i \\leftarrow w_i + \\eta (y - \\hat",y,") x_i$"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"바이어스 업데이트"}),": $b \\leftarrow b + \\eta (y - \\hat",y,")$"]}),`
`]}),`
`,n.jsx(e.p,{children:"이를 통해 퍼셉트론은 점점 더 정답에 가까운 출력을 하도록 학습하게 된다."}),`
`,n.jsx(e.h2,{children:"4. 주요 용어의 어원과 의미"}),`
`,n.jsx(e.h3,{children:"4.1 Bias (바이어스)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"어원"}),': "편향, 치우침"이라는 뜻의 영어 단어']}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"의미"}),": 입력값이 0일 때에도 출력이 일정 수준을 넘도록 결정 경계를 이동시키는 역할"]}),`
`]}),`
`,n.jsx(e.h3,{children:"4.2 Epoch (에포크)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"어원"}),': 그리스어 "epokhē", 영어로는 "시대, 주기"']}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"의미"}),": 학습 데이터 전체를 모델에 한 번 학습시키는 주기"]}),`
`]}),`
`,n.jsx(e.h3,{children:"4.3 Weight (가중치)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"어원"}),": 무게(weight), 중요도"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"의미"}),": 입력값이 출력에 얼마나 중요한 영향을 미치는지를 나타내는 계수"]}),`
`]}),`
`,n.jsx(e.h2,{children:"5. Python을 이용한 퍼셉트론 구현 (OR 게이트 예시)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-python",children:`training_data = [
    ([0, 0], 0),
    ([0, 1], 1),
    ([1, 0], 1),
    ([1, 1], 1)
]

weights = [0.0, 0.0]
bias = 0.0
learning_rate = 0.1

def step_function(x):
    return 1 if x > 0 else 0

for epoch in range(10):
    for inputs, target in training_data:
        weighted_sum = sum(w * i for w, i in zip(weights, inputs)) + bias
        output = step_function(weighted_sum)
        error = target - output
        for i in range(len(weights)):
            weights[i] += learning_rate * error * inputs[i]
        bias += learning_rate * error
`})}),`
`,n.jsx(e.h2,{children:"6. Learning Rate (학습률)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"역할"}),": 학습할 때 오차에 대해 얼마나 빠르게 가중치를 업데이트할지를 결정"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"작을 경우"}),": 수렴은 안정적이지만 학습 속도가 느림"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"클 경우"}),": 빠르게 학습하나 불안정하거나 발산할 위험 존재"]}),`
`]}),`
`,n.jsx(e.p,{children:"적절한 값을 선택하는 것이 중요하며, 보통 0.1 또는 0.01에서 시작해 실험적으로 조정한다."})]})}function wSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(YP,{...t})}):YP(t)}const TSe=je({});function CSe(){return n.jsx(Se,{children:n.jsx(wSe,{components:TSe})})}const MSe=ve("/_layout/til/machine-learning/perceptron")({component:CSe,head:()=>({meta:[{title:"perceptron"}]})});function KP(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Turborepo"}),`
`,n.jsx(e.h2,{children:"Turborepo 소개"}),`
`,n.jsx(e.p,{children:"Turborepo는 JavaScript 및 TypeScript 모노레포를 위한 고성능 빌드 시스템으로, 작업을 병렬로 실행하고 캐싱하여 빌드 시간을 단축합니다. 이를 통해 대규모 코드베이스에서도 효율적인 개발 환경을 구축할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"프로젝트 구조 설계"}),`
`,n.jsx(e.p,{children:"모노레포에서는 일반적으로 애플리케이션과 패키지를 별도의 디렉토리에 분리하여 관리합니다. 예를 들어, apps/ 디렉토리에는 배포 가능한 애플리케이션을, packages/ 디렉토리에는 공유 라이브러리나 설정을 위치시킵니다.  ￼"}),`
`,n.jsx(e.p,{children:"프로젝트 구조 예시:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`my-turborepo/
├── apps/
│   ├── web/
│   └── docs/
└── packages/
    ├── ui/
    ├── eslint-config-custom/
    └── tsconfig/
`})}),`
`,n.jsx(e.h2,{children:"Turborepo 초기 설정"}),`
`,n.jsx(e.p,{children:"Turborepo는 create-turbo 명령어를 통해 빠르게 초기 설정을 할 수 있습니다. 이 명령어는 기본적인 모노레포 구조를 자동으로 생성해 줍니다. ￼"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`npx create-turbo@latest
`})}),`
`,n.jsx(e.p,{children:"명령어 실행 후, 사용할 패키지 매니저를 선택하면 기본적인 폴더 구조와 설정 파일이 생성됩니다."}),`
`,n.jsx(e.h2,{children:"애플리케이션 및 패키지 생성"}),`
`,n.jsx(e.p,{children:"이제 두 개의 Next.js 애플리케이션과 하나의 공유 UI 라이브러리를 생성해 보겠습니다."}),`
`,n.jsx(e.h3,{children:"Next.js 애플리케이션 생성"}),`
`,n.jsx(e.p,{children:"각 애플리케이션은 apps/ 디렉토리에 위치하며, Next.js를 기반으로 합니다."}),`
`,n.jsx(e.h4,{children:"web 애플리케이션 생성"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`npx create-next-app apps/web
`})}),`
`,n.jsx(e.h4,{children:"docs 애플리케이션 생성"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`npx create-next-app apps/docs
`})}),`
`,n.jsx(e.h3,{children:"공유 UI 라이브러리 생성"}),`
`,n.jsx(e.p,{children:"공유 UI 컴포넌트는 packages/ui 디렉토리에 위치하며, 다른 애플리케이션에서 재사용할 수 있습니다. ￼"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`mkdir packages/ui
`})}),`
`,n.jsx(e.p,{children:"packages/ui 디렉토리에 package.json 파일을 생성하고 다음과 같이 설정합니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`{
  "name": "@myorg/ui",
  "version": "0.1.0",
  "main": "index.js"
}
`})}),`
`,n.jsx(e.p,{children:"이제 packages/ui 디렉토리에 공유할 컴포넌트를 추가하고, 이를 apps/web 및 apps/docs에서 사용할 수 있도록 설정합니다. ￼"}),`
`,n.jsx(e.h2,{children:"의존성 관리 및 빌드 설정"}),`
`,n.jsx(e.p,{children:"각 애플리케이션과 패키지의 package.json 파일에서 의존성을 설정하고, Turborepo의 캐싱 및 병렬 실행 기능을 활용하여 빌드 시간을 단축할 수 있습니다."}),`
`,n.jsx(e.p,{children:"예를 들어, turbo.json 파일을 다음과 같이 설정하여 빌드 파이프라인을 정의할 수 있습니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`{
  "$schema": "https://turbo.build/schema.json",
  "pipeline": {
    "build": {
      "outputs": [".next/**", "!.next/cache/**"]
    },
    "lint": {},
    "test": {}
  }
}
`})}),`
`,n.jsx(e.p,{children:"이러한 설정을 통해 Turborepo는 각 작업을 효율적으로 실행하고, 변경된 부분만을 다시 빌드하여 개발 속도를 향상시킵니다."}),`
`,n.jsx(e.h2,{children:"개발 서버 실행"}),`
`,n.jsx(e.p,{children:"모든 설정이 완료되면, 다음 명령어로 모든 애플리케이션과 패키지를 동시에 개발 모드로 실행할 수 있습니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`npm run dev
`})}),`
`,n.jsxs(e.p,{children:["이렇게 하면 ",n.jsx(e.code,{children:"apps/web"}),"과 ",n.jsx(e.code,{children:"apps/docs"})," 애플리케이션이 동시에 실행되며, ",n.jsx(e.code,{children:"packages/ui"}),"의 변경 사항도 실시간으로 반영됩니다."]})]})}function ESe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(KP,{...t})}):KP(t)}const ASe=je({});function RSe(){return n.jsx(Se,{children:n.jsx(ESe,{components:ASe})})}const LSe=ve("/_layout/til/library/turborepo")({component:RSe,head:()=>({meta:[{title:"turborepo"}]})});function ZP(t){const e={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Style Dictionary"}),`
`,n.jsxs(e.p,{children:["디자인 토큰(Design Tokens)을 코드로 관리하고, 여러 플랫폼(iOS, Android, Web 등)에 맞춰 변환해주는 오픈소스 도구입니다. 디자인 시스템을 구축하거나 운영하는 팀에서 ",n.jsx(e.strong,{children:"디자인의 일관성"}),"과 ",n.jsx(e.strong,{children:"자동화된 유지관리"}),"를 위해 널리 사용됩니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"주요 개념"}),`
`,n.jsx(e.h3,{children:"디자인 토큰(Design Token)이란?"}),`
`,n.jsxs(e.p,{children:["디자인 토큰은 색상, 폰트, 간격, 그림자 등 UI 구성 요소의 ",n.jsx(e.strong,{children:"기본 속성값"}),"을 의미합니다.",n.jsx(e.br,{}),`
`,"예:"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-json",children:`{
  "color": {
    "primary": {
      "value": "#FF5733"
    }
  },
  "spacing": {
    "sm": {
      "value": "8px"
    },
    "md": {
      "value": "16px"
    }
  }
}



⸻

Style Dictionary 설치 및 초기화

npm install --save-dev style-dictionary
npx style-dictionary init

초기화하면 다음 구조의 폴더가 생성됩니다:

├── tokens/
│   └── color.json
├── config.json



⸻

설정 파일(config.json) 예시

{
  "source": ["tokens/**/*.json"],
  "platforms": {
    "css": {
      "transformGroup": "css",
      "buildPath": "build/css/",
      "files": [
        {
          "destination": "variables.css",
          "format": "css/variables"
        }
      ]
    },
    "scss": {
      "transformGroup": "scss",
      "buildPath": "build/scss/",
      "files": [
        {
          "destination": "_variables.scss",
          "format": "scss/variables"
        }
      ]
    },
    "js": {
      "transformGroup": "js",
      "buildPath": "build/js/",
      "files": [
        {
          "destination": "tokens.js",
          "format": "javascript/es6"
        }
      ]
    }
  }
}



⸻

변환 결과 예시

입력 (tokens/color.json)

{
  "color": {
    "primary": {
      "value": "#FF5733"
    },
    "secondary": {
      "value": "#33C1FF"
    }
  }
}

출력

1. CSS 변수 (build/css/variables.css)

:root {
  --color-primary: #FF5733;
  --color-secondary: #33C1FF;
}

2. SCSS 변수 (build/scss/_variables.scss)

$color-primary: #FF5733;
$color-secondary: #33C1FF;

3. JS 객체 (build/js/tokens.js)

export const color = {
  primary: "#FF5733",
  secondary: "#33C1FF"
};



⸻

확장 기능
- Custom Transform: 새로운 형식으로 변환 정의 가능
- Custom Format: 출력 파일 포맷 직접 정의
- Custom Action: 빌드 시 후처리 작업 추가 가능 (예: 파일 복사, 알림 등)

⸻

사용 시 이점

이점	설명
일관된 UI 유지	색상, 간격 등의 속성을 하나로 관리 가능
협업 효율 향상	디자이너와 개발자가 같은 토큰 기준으로 작업
자동화	모든 플랫폼에 맞는 파일 자동 생성
확장성	테마 분기, 다국어 적용 등 커스터마이징 가능



⸻

실제 프로젝트 적용 팁
- Figma 플러그인으로 디자인 토큰을 추출 후 Style Dictionary 포맷으로 변환 가능
- CI/CD 파이프라인에 Style Dictionary 빌드 포함하여 자동 반영
- 다양한 테마(light, dark)를 theme-light.json, theme-dark.json 식으로 분리 가능

⸻

📚 참고 자료
- GitHub 저장소: https://github.com/amzn/style-dictionary
`})})]})}function DSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(ZP,{...t})}):ZP(t)}const kSe=je({});function NSe(){return n.jsx(Se,{children:n.jsx(DSe,{components:kSe})})}const PSe=ve("/_layout/til/library/style-dictionary")({component:NSe,head:()=>({meta:[{title:"style dictionary"}]})});function QP(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"NUQS"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://github.com/47ng/nuqs",children:"nuqs"}),"는 React 애플리케이션에서 ",n.jsx(e.strong,{children:"URL 쿼리 문자열을 상태 관리에 활용"}),"할 수 있도록 도와주는 ",n.jsx(e.strong,{children:"타입 안전한 쿼리 상태 관리 라이브러리"}),"입니다. ",n.jsx(e.code,{children:"useState"}),"와 유사한 API를 제공하면서, 상태를 URL에 동기화할 수 있어 ",n.jsx(e.strong,{children:"공유"}),", ",n.jsx(e.strong,{children:"북마크"}),", ",n.jsx(e.strong,{children:"브라우저 히스토리 활용"})," 등이 쉬워집니다."]}),`
`,n.jsx(e.h2,{children:"✨ 주요 기능"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"URL 기반 상태 관리"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"상태를 URL 쿼리 문자열로 유지함으로써 URL이 상태의 단일 진실 소스(Single Source of Truth)가 됩니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"타입 안전성(Type Safety)"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"다양한 기본 파서(int, float, boolean 등) 및 커스텀 파서를 제공하여, 타입 안정성이 보장됩니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"React의 다양한 라우터 지원"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Next.js 14.2+, React SPA (18.3 / 19), Remix v2+, React Router v6/v7 등을 지원합니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"히스토리 모드"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["상태 변경 시 ",n.jsx(e.code,{children:"replace"})," 또는 ",n.jsx(e.code,{children:"push"})," 방식 선택 가능 (",n.jsx(e.code,{children:"useHistoryMode"}),")."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"서버 컴포넌트 지원 (Next.js)"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"searchParams"}),"를 타입 안전하게 다루는 서버 캐시 제공."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"트랜지션 연동"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"useTransition"}),"과 함께 사용하여 서버 업데이트의 로딩 상태를 관리할 수 있습니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"🧩 설치"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`pnpm add nuqs
# 또는
npm install nuqs
yarn add nuqs
bun add nuqs
`})}),`
`,n.jsx(e.h2,{children:"Example"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`'use client';

import { useQueryState } from 'nuqs';

export default function ExampleComponent() {
  const [name, setName] = useQueryState('name');

  return (
    <>
      <h1>Hello, {name || 'anonymous visitor'}!</h1>
      <input value={name || ''} onChange={e => setName(e.target.value)} />
      <button onClick={() => setName(null)}>Clear</button>
    </>
  );
}
`})})]})}function OSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(QP,{...t})}):QP(t)}const BSe=je({});function ISe(){return n.jsx(Se,{children:n.jsx(OSe,{components:BSe})})}const FSe=ve("/_layout/til/library/nuqs")({component:ISe,head:()=>({meta:[{title:"nuqs"}]})});function JP(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to change default URL in Next Auth"}),`
`,n.jsxs(e.p,{children:["환경 변수에 ",n.jsx(e.code,{children:"NEXTAUTH_URL"}),"을 설정하여 Next Auth의 기본 URL을 변경할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`NEXTAUTH_URL=http://localhost:3000
`})}),`
`,n.jsxs(e.p,{children:["이렇게 하면 Next Auth가 ",n.jsx(e.code,{children:"http://localhost:3000/api/auth"}),"를 사용합니다."]}),`
`,n.jsxs(e.p,{children:["참고로 window 객체가 있는 client에서는 해당 환경 변수를 참조할 수 없기 때문에, ",n.jsx(e.code,{children:"NEXT_PUBLIC_NEXTAUTH_URL"}),"를 선언 후에 아래와 같이 next.config.js에서 치환을 해주어야합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`const nextConfig = {
  env: {
    ...
    // Nuxt-Auth 설정
    NEXTAUTH_URL: process.env.NEXT_PUBLIC_NEXTAUTH_URL,
  },
  ...
}
`})})]})}function USe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(JP,{...t})}):JP(t)}const zSe=je({});function HSe(){return n.jsx(Se,{children:n.jsx(USe,{components:zSe})})}const VSe=ve("/_layout/til/library/how-to-change-default-url-in-next-auth")({component:HSe,head:()=>({meta:[{title:"how to change default url in next auth"}]})});function eO(t){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Gritql"}),`
`,n.jsx(e.h2,{children:"GritQL이란?"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"GritQL"}),"은 코드베이스에서 특정 패턴을 **검색(Search)**하고 **변환(Transform)**하기 위한 ",n.jsx(e.strong,{children:"선언적 쿼리 언어"}),"입니다. Tree-sitter 기반 AST 매칭을 사용해 코드 구조를 이해하며, 코드 리팩토링, API 마이그레이션, 린트 규칙 자동화에 강력하게 활용됩니다."]}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsxs(e.p,{children:['"코드 그 자체를 쿼리로 쓴다"는 콘셉트로, ',n.jsx(e.code,{children:"console.log($msg)"}),"와 같이 코드 예시 그대로 패턴을 정의할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"주요 특징"}),`
`,n.jsx(e.h3,{children:"1. 코드 기반 패턴 매칭"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["코드 스니펫을 ",n.jsx(e.strong,{children:"백틱(``)"})," 으로 감싸 패턴으로 사용"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"$변수"}),`로 메타변수를 지정해 다양한 코드 구조를 매칭 가능
`,n.jsx(e.strong,{children:"CODE_BLOCK_0"})]}),`
`]}),`
`,n.jsx(e.h3,{children:"2. 코드 변환 (Rewrite)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"=>"}),` 연산자를 통해 매치된 코드를 새 코드로 대체 가능
`,n.jsx(e.strong,{children:"CODE_BLOCK_1"})]}),`
`]}),`
`,n.jsxs(e.h3,{children:["3. 조건 필터링 (",n.jsx(e.code,{children:"where"})," 절)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`매칭된 패턴에 조건 추가 가능 (e.g., 특정 블록 내/외부 여부)
`,n.jsx(e.strong,{children:"CODE_BLOCK_2"})]}),`
`]}),`
`,n.jsx(e.h3,{children:"4. 복합 패턴 조합 (or / and)"}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"CODE_BLOCK_3"})}),`
`,n.jsxs(e.h3,{children:["5. 문맥 한정자 (",n.jsx(e.code,{children:"within"}),", ",n.jsx(e.code,{children:"contains"}),", ",n.jsx(e.code,{children:"after"}),", ",n.jsx(e.code,{children:"before"}),")"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`AST 계층 구조를 활용한 문맥 제약 가능
`,n.jsx(e.strong,{children:"CODE_BLOCK_4"})]}),`
`]}),`
`,n.jsx(e.h3,{children:"6. 다중 언어 지원"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"JS/TS, Python, Rust, Go, SQL, JSON, YAML, Terraform 등"}),`
`,n.jsx(e.li,{children:"동일 문법으로 다양한 언어 처리 가능"}),`
`]}),`
`,n.jsx(e.h3,{children:"7. 패턴 라이브러리와 커스터마이징"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["기본 제공되는 수백 개의 표준 패턴 (예: ",n.jsx(e.code,{children:"react_to_hooks"}),")"]}),`
`,n.jsx(e.li,{children:"사용자 정의 패턴 모듈 작성 및 재사용 가능"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"설치 방법"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"CODE_BLOCK_5"}),`
또는:
`,n.jsx(e.strong,{children:"CODE_BLOCK_6"})]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"사용 예시"}),`
`,n.jsxs(e.h3,{children:["✅ 콘솔 로그를 ",n.jsx(e.code,{children:"winston.log"}),"로 교체"]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"CODE_BLOCK_7"})}),`
`,n.jsxs(e.h3,{children:["✅ ",n.jsx(e.code,{children:"console.log"})," 삭제 (단, try 블록 안은 유지)"]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"CODE_BLOCK_8"})}),`
`,n.jsx(e.h3,{children:"✅ 테스트 함수 안에서는 변경하지 않기"}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"CODE_BLOCK_9"})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"활용 사례"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["대규모 ",n.jsx(e.strong,{children:"API 변경 및 리팩토링"})]}),`
`,n.jsxs(e.li,{children:["프레임워크 마이그레이션 (예: ",n.jsx(e.code,{children:"react_to_hooks"}),")"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"자동 린트 및 코드 품질 검사"})," (CI에서 ",n.jsx(e.code,{children:"grit check"})," 사용)"]}),`
`,n.jsx(e.li,{children:"보안 패턴 탐지 및 자동 수정"}),`
`,n.jsx(e.li,{children:"다국어 코드베이스 구조적 검색"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsxs(e.h3,{children:["🔗 공식 문서: ",n.jsx(e.a,{href:"https://docs.grit.io",children:"https://docs.grit.io"})]}),`
`,n.jsxs(e.h3,{children:["📦 GitHub: ",n.jsx(e.a,{href:"https://github.com/getgrit/gritql",children:"https://github.com/getgrit/gritql"})]})]})}function GSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(eO,{...t})}):eO(t)}const $Se=je({});function qSe(){return n.jsx(Se,{children:n.jsx(GSe,{components:$Se})})}const WSe=ve("/_layout/til/library/gritql")({component:qSe,head:()=>({meta:[{title:"gritql"}]})});function tO(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Framer Motion"}),`
`,n.jsx(e.p,{children:"Framer Motion은 React 애니메이션 라이브러리입니다. Framer Motion은 모션을 위한 강력한 API를 제공하며, 모션을 위한 간단한 구문을 제공합니다."}),`
`,n.jsx(e.h2,{children:"설치"}),`
`,n.jsx(e.p,{children:"Framer Motion은 npm을 통해 설치할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`npm install framer-motion
`})}),`
`,n.jsx(e.h2,{children:"Animation"}),`
`,n.jsx(e.h3,{children:"Basic"}),`
`,n.jsxs(e.p,{children:["Anmation은 ",n.jsx(e.code,{children:"motion"})," 컴포넌트에서 animate 속성을 변경함으로서 최종 값으로 변하는 Animation이 동작하도록 동작합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`
<motion.div animate={{ x: 100 }} />

`})}),`
`,n.jsx(e.p,{children:"또한 Animation의 초기에 동작 여부 혹은 초기 값과 마지막 값을 지정하는 것이 가능합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div
  initial={{ opacity: 0 }}
  exit={{ opacity: 0 }}
  animate={{ x: 100 }}
/>
`})}),`
`,n.jsxs(e.p,{children:["animation을 다룰 떄 가장 중요한 ",n.jsx(e.code,{children:"Keyframe"}),"을 다루는 것도 가능합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div
  animate={{ x: [0, 100, 0] }}
/>
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"여기서는 null을 할당함으로서 초기 값을 초기 Keyframe값으로 설정하는 것이 가능합니다."}),`
`]}),`
`,n.jsx(e.p,{children:"또한 Animation에 variants를 설정하는 것이 가능한데, 이는 여러가지 상태를 설정할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const variants = {
  hidden: { opacity: 0 },
  visible: { opacity: 1 }
}

<motion.div
  variants={variants}
  initial="hidden"
  animate="visible"
/>
`})}),`
`,n.jsx(e.p,{children:"이 Variant 속성은 만약, 자식 요소가 있는 경우에는 자식 요소에 까지 전파가 되어집니다. 그렇기 때문에, 전역으로 설정하는 것 또한 가능합니다."}),`
`,n.jsx(e.p,{children:"또한 동적으로 할당하여 사용하는 것도 가능합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const variants = {
  visible: i => ({
    opacity: 1,
    transition: {
      delay: i * 0.3,
    },
  }),
  hidden: { opacity: 0 },
}

return items.map((item, i) => (
  <motion.li
    custom={i}
    animate="visible"
    variants={variants}
  />
))
`})}),`
`,n.jsx(e.p,{children:"하나 이상의 variant를 사용하는 것도 가능합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.ul variants={["open", "primary"]} />
`})}),`
`,n.jsx(e.h3,{children:"Gestures"}),`
`,n.jsx(e.p,{children:"Framer Motion은 제스처를 사용하여 애니메이션을 다루는 것이 가능합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div whileHover={{ scale: 1.1 }} />
`})}),`
`,n.jsx(e.p,{children:"이러한 Gestures는 아래와 같이 다양하게 사용할 수 있습니다."}),`
`,n.jsx(e.h4,{children:"Hover"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"whileHover: 속성 또는 제스처가 인식되는 동안 애니메이션을 적용할 변형 레이블을 설정합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div whileHover={{ scale: 1.2 }} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onHoverStart: 마우스가 요소에 올라갔을 때"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div onHoverStart={() => console.log('Hover starts')} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onHoverEnd: 마우스가 요소에서 벗어났을 때"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div onHoverEnd={() => console.log('Hover ends')} />
`})}),`
`,n.jsx(e.h4,{children:"Focus"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"whileFocus: 속성 또는 변형 레이블을 추가하여 초점 제스처가 인식되는 동안 애니메이션을 적용할 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div whileFocus={{ scale: 1.2 }} />
`})}),`
`,n.jsx(e.h4,{children:"Tap"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"whileTap: 컴포넌트를 누르는 동안 애니메이션을 적용할 속성 또는 변형 레이블을 선택합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div whileTap={{ scale: 0.9 }} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onTap: 컴포넌트를 누르는 동작을 감지합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onTap(event, info) {
  console.log(info.point.x, info.point.y)
}

<motion.div
    onTap={onTap}
/>
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onTapStart: 컴포넌트를 누르기 시작할 때"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onTapStart(event, info) {
  console.log(info.point.x, info.point.y)
}

<motion.div onTapStart={onTapStart} />

`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onTapCancel: 컴포넌트를 누르는 동작이 취소될 때"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onTapCancel(event, info) {
  console.log(info.point.x, info.point.y)
}

<motion.div onTapCancel={onTapCancel} />
`})}),`
`,n.jsx(e.h4,{children:"Pan"}),`
`,n.jsx(e.p,{children:"이동 제스처는 포인터가 컴포넌트를 누르고 3픽셀 이상 이동하면 이를 인식합니다. 포인터를 놓으면 팬 제스처가 종료됩니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onPan: 이 요소에서 이동 제스처가 인식되면 실행되는 콜백 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// event: MouseEvent | TouchEvent | PointerEvent
// info: PanInfo

// A PanInfo object containing x and y values for:

// point: Relative to the device or page.
// delta: Distance moved since the last event.
// offset: Offset from the original pan event.
// velocity: Current velocity of the pointer.
function onPan(event, info) {
  console.log(info.offset.x, info.offset.y)
}

<motion.div onPan={onPan} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onPanStart: 이동 제스처가 시작될 때 실행되는 콜백 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onPanStart(event, info) {
  console.log(info.offset.x, info.offset.y)
}

<motion.div onPanStart={onPanStart} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onPanEnd: 이동 제스처가 종료될 때 실행되는 콜백 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onPanEnd(event, info) {
  console.log(info.offset.x, info.offset.y)
}

<motion.div onPanEnd={onPanEnd} />
`})}),`
`,n.jsx(e.h4,{children:"Drag"}),`
`,n.jsx(e.p,{children:"드래그 제스처는 이동 제스처의 규칙을 따르지만 컴포넌트의 x축 및/또는 y축에 포인터 이동을 적용합니다."}),`
`,n.jsx(e.p,{children:"우선, drag가 가능하도록 설정을 해주어야합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div drag />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"whileDrag: 속성 또는 변형 레이블을 드래그 제스처가 인식되는 동안 애니메이션을 적용할 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div whileDrag={{ scale: 1.2 }} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"drag: 축별로 드래그 제스처를 활성화할 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div drag="x" />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"dragConstraints: 드래그 제스처의 제약 조건을 설정할 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div dragConstraints={{ left: 0, right: 100, top: 0, bottom: 100 }} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"dragSnapToOrigin: 드래그 제스처가 종료될 때 컴포넌트를 원래 위치로 스냅합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div dragSnapToOrigin />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"dragElastic: 드래그 제스처가 제약 조건을 벗어날 때 컴포넌트를 제약 조건으로 되돌릴 때까지의 시간을 설정합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div dragElastic={0.5} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"dragMomentum: 드래그 제스처가 종료될 때 컴포넌트의 모멘텀을 활성화합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div dragMomentum />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"dragTransition: 드래그 제스처가 종료될 때 컴포넌트의 애니메이션을 설정합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div dragTransition={{ bounceDamping: 10, bounceStiffness: 100 }} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"dragPropagation: 드래그 제스처가 인식되는 동안 자식 요소에 드래그 제스처를 전파합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div dragPropagation />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"dragControls: 드래그 제스처를 사용하여 컴포넌트를 제어할 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const dragControls = useDragControls()

function startDrag(event) {
  dragControls.start(event, { snapToCursor: true })
}

return (
  <>
    <div onPointerDown={startDrag} />
    <motion.div drag="x" dragControls={dragControls} />
  </>
)
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"dragListener: 이벤트 리스너에서 드래그 제스처를 트리거할지 여부를 결정합니다. dragControls를 전달하는 경우 이 값을 false로 설정하면 드래그 가능한 요소의 포인터다운 이벤트가 아닌 컨트롤에 의해서만 드래그가 시작될 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`<motion.div dragListener={false} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onDrag: 드래그 제스처가 인식되면 실행되는 콜백 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onDrag(event, info) {
  console.log(info.point.x, info.point.y)
}

<motion.div onDrag={onDrag} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onDragStart: 드래그 제스처가 시작될 때 실행되는 콜백 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onDragStart(event, info) {
  console.log(info.point.x, info.point.y)
}

<motion.div onDragStart={onDragStart} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onDragEnd: 드래그 제스처가 종료될 때 실행되는 콜백 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onDragEnd(event, info) {
  console.log(info.point.x, info.point.y)
}

<motion.div onDragEnd={onDragEnd} />
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"onDirectionLock: 드래그 제스처가 인식되면 실행되는 콜백 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function onDirectionLock(axis) {
  console.log(axis)
}

<motion.div onDirectionLock={onDirectionLock} />
`})})]})}function XSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(tO,{...t})}):tO(t)}const YSe=je({});function KSe(){return n.jsx(Se,{children:n.jsx(XSe,{components:YSe})})}const ZSe=ve("/_layout/til/library/framer-motion")({component:KSe,head:()=>({meta:[{title:"framer motion"}]})});function nO(t){const e={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Es-git"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://es-git.slash.page/ko/getting-started.html",children:"es-git"}),"은 Node.js 환경에서 Git을 사용할 수 있도록 지원하는 라이브러리 입니다. 기존에는 ",n.jsx(e.code,{children:"child_process"})," 혹은 ",n.jsx(e.a,{href:"https://github.com/nodegit/nodegit",children:"nodeGit"}),"을 사용해왔습니다. ",n.jsx(e.code,{children:"child_process"}),`는
사용성이 너무 복잡하다는 문제가 있었고, nodeGit은 C++로 작성된 libgit2 라이브러리에 의존하며, 설치 시 node-gyp를 사용하여 네이티브 빌드를 수행해야 합니다. 이로 인해 설치 과정이 복잡하고, 시스템 환경에 따라 추가적인 설정이 필요할 수 있습니다.`]}),`
`,n.jsxs(e.p,{children:["이러한 불편함을 해소하여 ",n.jsx(e.code,{children:"es-git"}),"은 사전 빌드된 네이티브 바이너리를 제공하여 설치가 빠르고 간편함을 제공합니다. 또한 ",n.jsx(e.code,{children:"typescript"}),"의 Type을 제공하여 컴파일 타임에 안정성을 확보하는 것이 가능합니다."]}),`
`,n.jsxs(e.p,{children:["또한 Rust로 작성된 바이너리 코드이기 때문에 메모리 누수에 대한 안정성을 확보할 수 있으며 성능 또한 기존의 ",n.jsx(e.code,{children:"nodeGit"}),"과 비슷한 수준으로서 사용함에 무리가 없어보입니다."]}),`
`,n.jsx(e.p,{children:"아래에는 커밋을 하는 간단한 예시를 작성하였습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-sh",children:`import { openRepository } from 'es-git';
import fs from 'node:fs/promises';

const repo = await openRepository('.');
 
await fs.writeFile('README.md', 'Hello World!', 'utf8');

const index = repo.index();
index.addPath('README.md');
index.write();

const tree = repo.head().peelToTree();
const signature = { name: 'Seokju Na', email: 'seokju.me@toss.im' };
const sha = repo.commit(tree, 'added new file', {
  author: signature,
  committer: signature,
});

const commit = repo.getCommit(sha);
console.log(commit.summary()); // "added new file"
`})}),`
`,n.jsxs(e.p,{children:["자세한 내용은 공식 문서를 확인해주세요. ",n.jsx(e.a,{href:"https://es-git.slash.page/ko/",children:"es-git"})]})]})}function QSe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(nO,{...t})}):nO(t)}const JSe=je({});function e1e(){return n.jsx(Se,{children:n.jsx(QSe,{components:JSe})})}const t1e=ve("/_layout/til/library/es-git")({component:e1e,head:()=>({meta:[{title:"es git"}]})});function iO(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"The easiest way to create UUID in JS"}),`
`,n.jsxs(e.p,{children:["보통 UUID를 생성할 때는 ",n.jsx(e.code,{children:"uuid"})," 라이브러리를 사용합니다. 하지만, 라이브러리를 사용하지 않고도 간단하게 UUID를 생성할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:"const uuid = () => {\n  const s4 = () =>\n    Math.floor((1 + Math.random()) * 0x10000)\n      .toString(16)\n      .substring(1);\n  return `${s4()}${s4()}-${s4()}-${s4()}-${s4()}-${s4()}${s4()}${s4()}`;\n};\n"})}),`
`,n.jsx(e.p,{children:"하지만 위에 방법은 가정 쉬운 방법은 아닙니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`let uuid = self.crypto.randomUUID();
console.log(uuid); // uuid 값이 나옵니다.
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"crypto.randomUUID()"})," 를 사용하면 간단하게 UUID를 생성할 수 있습니다."]})]})}function n1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(iO,{...t})}):iO(t)}const i1e=je({});function r1e(){return n.jsx(Se,{children:n.jsx(n1e,{components:i1e})})}const s1e=ve("/_layout/til/javascript/the-easiest-way-to-create-uuid-in-js")({component:r1e,head:()=>({meta:[{title:"the easiest way to create uuid in js"}]})});function rO(t){const e={a:"a",code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"shallow Merge And Deep Merge"}),`
`,n.jsx(e.p,{children:"javascript에서의 object를 병합하는 방법이 두 가지가 있습니다. 하나는 shallow merge, 또 다른 하나는 deep merge입니다."}),`
`,n.jsx(e.p,{children:"이 두 가지는 depth가 2 이상인 경우에 처리하는 방법에 따라서 달라집니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`const objA = {
	a: {
		aa: 1,
		bb: 2,
	},
	b: {
		aa: 3
	}
};

const objB = {
	a: {
		cc: 11,
		dd: 22,
	},
	c: {
		aa: 33,
	},
};

`})}),`
`,n.jsx(e.h3,{children:"shallow merge"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`const objC = { ...objA, ...objB };
const objD = Object.assign({}, objA, objB );

// objC, objD result
{
	a: {
		cc: 11,
		dd: 22,
	},
	b: {
		aa: 3
	}
	c: {
		aa: 33,
	},
}
`})}),`
`,n.jsx(e.h3,{children:"deep merge"}),`
`,n.jsxs(e.p,{children:["deep merge는 사실 javascript에서 따로 문법을 제공하지는 않고, 따로 만들어야한다. 우리는 간단하게 라이브러리를 사용하겠습니다. (참고: ",n.jsx(e.a,{href:"https://www.npmjs.com/package/deepmerge",children:"deepmerge"}),")"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`import deepmerge from 'deepmerge';

const objE = deepmerge(objA, objB);

// objE result
{
	a: {
		aa: 1,
		bb: 2,
		cc: 11,
		dd: 22,
	},
	b: {
		aa: 3
	}
	c: {
		aa: 33,
	},
}
`})}),`
`,n.jsx(e.p,{children:"deep merge는 가장 마지막 depth의 field가 같지 않다면, override하지 않고 추가한다."})]})}function a1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(rO,{...t})}):rO(t)}const o1e=je({});function l1e(){return n.jsx(Se,{children:n.jsx(a1e,{components:o1e})})}const c1e=ve("/_layout/til/javascript/shallow-merge-and-deep-merge")({component:l1e,head:()=>({meta:[{title:"shallow merge and deep merge"}]})});function sO(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Proxy Grammar"}),`
`,n.jsx(e.p,{children:"Proxy 객체를 사용하면 한 객체에 대한 기본 작업을 가로채고 재정의하는 프록시를 만들 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const target = {
  message1: "hello",
  message2: "everyone"
};

const handler2 = {
  get(target, prop, receiver) {
    return "world";
  }
};

const proxy2 = new Proxy(target, handler2);
`})}),`
`,n.jsx(e.p,{children:"이렇게 작성하고, log를 찍어보면, 아래처럼 world, world가 나오는 것을 확인할 수 있다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`console.log(proxy2.message1, proxy2.message2); 
// world, world
`})}),`
`,n.jsx(e.p,{children:"proxy는 vaildation하거나, 값을 수정할 때 쓰일 수 있습니다."})]})}function h1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(sO,{...t})}):sO(t)}const u1e=je({});function d1e(){return n.jsx(Se,{children:n.jsx(h1e,{components:u1e})})}const f1e=ve("/_layout/til/javascript/proxy-grammar")({component:d1e,head:()=>({meta:[{title:"proxy grammar"}]})});function aO(t){const e={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Promise.allSettled And Promise.all"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`const promise1 = Promise.resolve(3);
const promise2 = new Promise((resolve, reject) => setTimeout(reject, 100, 'foo'));
const promises = [promise1, promise2];

Promise.allSettled(promises).
  then((results) => results.forEach((result, index) => console.log(index, result.status)));

Promise.all(promises).
  then((results) => results.forEach((result, index) => console.log(index, result.status)));
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Promise.allSettled"}),"와 ",n.jsx(e.code,{children:"Promise.all"}),"는 모두 input으로 제공한 ",n.jsx(e.code,{children:"Promise"})," 들을 비동기로 실행하고, 모두 종료 되었을 때, 동시에 모든 결과값을 받을 수 있습니다. 그렇다면, 두 API의 차이점을 무엇일까요?"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Promise.allSettled"}),"는 ",n.jsx(e.code,{children:"promise1"}),"처럼 실패한 ",n.jsx(e.code,{children:"Promise"}),"를 비동기 함수를 제외하고, ",n.jsx(e.code,{children:"Promise2"}),", ",n.jsx(e.code,{children:"Promise3"}),"의 결과값을 받아온다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`0 'fulfilled'
1 'rejected'
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Promise.all"}),"는 ",n.jsx(e.code,{children:"promise1"}),"처럼 실패한 ",n.jsx(e.code,{children:"Promise"}),"가 있는 경우에는 모든 비동기 함수 들의 결과를 받아올 수 없다. (Error)"]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`Uncaught (in promise) foo
`})})]})}function p1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(aO,{...t})}):aO(t)}const m1e=je({});function g1e(){return n.jsx(Se,{children:n.jsx(p1e,{components:m1e})})}const x1e=ve("/_layout/til/javascript/promise-all-settled-and-promise-all")({component:g1e,head:()=>({meta:[{title:"promise all settled and promise all"}]})});function oO(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Performance comparison of Array.find and Array.indexOf"}),`
`,n.jsx(e.p,{children:"javascript에서 Array.find and Array.indexOf의 성능을 비교해 보면,"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const item = arr.find(item => item == AAA);
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const index = arr.indexOf(AAA);
`})}),`
`,n.jsx(e.p,{children:"indexOf가 훨신 빠릅니다. 물론 index를 이용해서 Array를 참고해야하는 부분이 귀찮긴한거같다."})]})}function y1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(oO,{...t})}):oO(t)}const v1e=je({});function _1e(){return n.jsx(Se,{children:n.jsx(y1e,{components:v1e})})}const b1e=ve("/_layout/til/javascript/performance-comparison-of-array-find-and-array-indexOf")({component:_1e,head:()=>({meta:[{title:"performance comparison of array find and array indexOf"}]})});function lO(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Object.is"}),`
`,n.jsx(e.h2,{children:"정의"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`Object.is(value1, value2)
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Object.is"})," 메서드는 두 값이 동일한지 비교합니다. 이 메서드는 ",n.jsx(e.code,{children:"==="})," 연산자와 유사하지만, 몇 가지 중요한 차이점이 있습니다."]}),`
`,n.jsx(e.h2,{children:"주요 차이점"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"NaN"}),"은 ",n.jsx(e.code,{children:"Object.is"}),"로 비교할 때 동일하다고 간주됩니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`console.log(NaN === NaN); // false
console.log(Object.is(NaN, NaN)); // true
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"+0"}),"과 ",n.jsx(e.code,{children:"-0"}),"은 ",n.jsx(e.code,{children:"Object.is"}),"로 비교할 때 서로 다르다고 간주됩니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`console.log(+0 === -0); // true
console.log(Object.is(+0, -0)); // false
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["그 외의 경우는 ",n.jsx(e.code,{children:"==="}),"와 동일하게 작동합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`console.log(1 === "1"); // false
console.log(Object.is(1, "1")); // false
`})}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"사용 예제"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`// NaN 비교
console.log(Object.is(NaN, NaN)); // true

// +0과 -0 비교
console.log(Object.is(+0, -0)); // false

// 일반적인 비교
console.log(Object.is(1, 1)); // true
console.log(Object.is(1, "1")); // false
console.log(Object.is("hello", "hello")); // true
console.log(Object.is({}, {})); // false (서로 다른 객체)
`})}),`
`,n.jsx(e.h2,{children:"참조"}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is",children:"MDN Web Docs - Object.is"})})]})}function j1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(lO,{...t})}):lO(t)}const S1e=je({});function w1e(){return n.jsx(Se,{children:n.jsx(j1e,{components:S1e})})}const T1e=ve("/_layout/til/javascript/object-is")({component:w1e,head:()=>({meta:[{title:"object is"}]})});function cO(t){const e={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Javascript Trick 2 - Scope"}),`
`,n.jsx(e.h1,{children:"TIL - Javascript 함수 스코프와 변수 탐색"}),`
`,n.jsx(e.h2,{children:"문제 상황"}),`
`,n.jsx(e.p,{children:"아래 코드를 보면:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`var x = 1;
function foo() {
 var x = 10;
 bar();
}
function bar() {
 console.log(x);
}

foo();
bar();
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"예상"}),": ",n.jsx(e.code,{children:"10"}),"이 두 번 출력될 것이라고 생각했다.",n.jsx(e.br,{}),`
`,n.jsx(e.strong,{children:"실제 결과"}),": ",n.jsx(e.code,{children:"1"}),"이 두 번 출력되었다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`1
1
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"코드 해석"}),`
`,n.jsx(e.h3,{children:"1. 스코프(Scope)와 변수 탐색 규칙"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Javascript는 렉시컬 스코프(Lexical Scope)"})," 기반 언어이다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"렉시컬 스코프"}),'란, "함수가 정의될 때" 결정된 스코프 체인을 따라 변수를 참조한다는 의미이다.']}),`
`,n.jsxs(e.li,{children:['함수가 "어디서 호출되는가"가 아니라 "어디서 ',n.jsx(e.strong,{children:"정의"}),'되었는가"가 중요하다.']}),`
`]}),`
`,n.jsx(e.h3,{children:"2. 코드 동작 흐름"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"var x = 1;"}),n.jsx(e.br,{}),`
`,"\\u2192 ",n.jsx(e.strong,{children:"전역 변수"})," ",n.jsx(e.code,{children:"x"}),"가 1로 설정된다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"function foo() {...}"}),n.jsx(e.br,{}),`
`,"\\u2192 ",n.jsx(e.code,{children:"foo"})," 함수가 정의된다. 내부에 ",n.jsx(e.code,{children:"x = 10"}),"을 선언하지만, 이는 ",n.jsx(e.code,{children:"foo"})," 함수 내부에만 존재하는 ",n.jsx(e.strong,{children:"지역 변수"}),"이다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"function bar() {...}"}),n.jsx(e.br,{}),`
`,"\\u2192 ",n.jsx(e.code,{children:"bar"})," 함수가 정의된다.",n.jsx(e.br,{}),`
`,n.jsx(e.code,{children:"bar"})," 함수 안에서는 ",n.jsx(e.code,{children:"x"}),"를 찾을 때, 자신이 ",n.jsx(e.strong,{children:"정의된 스코프"}),"(즉, ",n.jsx(e.strong,{children:"전역 스코프"}),")를 기준으로 찾는다.",n.jsx(e.br,{}),`
`,"(",n.jsx(e.code,{children:"bar"})," 함수는 ",n.jsx(e.code,{children:"foo"})," 내부에서 정의된 것이 아님!)"]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"foo();"})," 호출",n.jsx(e.br,{}),`
`,"\\u2192 ",n.jsx(e.code,{children:"foo"})," 함수가 실행되면서 ",n.jsx(e.code,{children:"var x = 10;"}),"이 생기고, 이어서 ",n.jsx(e.code,{children:"bar();"}),"를 호출한다.",n.jsx(e.br,{}),`
`,"하지만 ",n.jsx(e.code,{children:"bar"}),"는 전역 스코프에서 정의됐기 때문에, 여전히 ",n.jsx(e.strong,{children:"전역 스코프"}),"를 참조한다.",n.jsx(e.br,{}),`
`,"전역 ",n.jsx(e.code,{children:"x"})," 값은 여전히 ",n.jsx(e.code,{children:"1"}),"이므로, ",n.jsx(e.strong,{children:"1이 출력"}),"된다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"bar();"})," 호출",n.jsx(e.br,{}),`
`,"\\u2192 이번엔 아예 전역 컨텍스트에서 ",n.jsx(e.code,{children:"bar"}),"를 호출한다. 마찬가지로 전역 ",n.jsx(e.code,{children:"x"}),"를 찾게 되므로 ",n.jsx(e.strong,{children:"1이 또 출력"}),"된다."]}),`
`]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"예상과 실제의 차이 정리"}),`
`,n.jsxs(e.p,{children:[`| 예상 | 실제 |
|:---|:---|
| `,n.jsx(e.code,{children:"foo"})," 내부의 ",n.jsx(e.code,{children:"x = 10"}),"을 ",n.jsx(e.code,{children:"bar"}),"가 참조할 것이다. | ",n.jsx(e.code,{children:"bar"}),"는 정의된 스코프(전역)에서 ",n.jsx(e.code,{children:"x"}),`를 찾는다. |
| 호출 시점에 따라 스코프가 결정된다. | 정의 시점에 스코프가 결정된다. |`]}),`
`,n.jsxs(e.p,{children:["✅ ",n.jsx(e.strong,{children:'Javascript에서는 "호출 시점"이 아니라 "정의 시점"에 스코프가 결정된다.'})]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"추가로 기억할 것"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"bar"}),"가 ",n.jsx(e.code,{children:"foo"})," 안에서 정의되었다면, 결과가 달라졌을 것이다:"]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`var x = 1;
function foo() {
 var x = 10;
 function bar() {
   console.log(x);
 }
 bar();
}
foo();
`})}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"출력:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`10
`})}),`
`]}),`
`,n.jsx(e.p,{children:n.jsxs(e.strong,{children:[n.jsx(e.code,{children:"bar"}),"가 ",n.jsx(e.code,{children:"foo"})," 내부에 정의되면, ",n.jsx(e.code,{children:"bar"}),"는 ",n.jsx(e.code,{children:"foo"}),"의 지역변수 x를 참조할 수 있게 된다."]})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"한 문장 요약"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:'Javascript의 스코프는 "함수 정의 시점"에 결정되며, 함수 호출 시점과는 무관하다.'}),`
`]})]})}function C1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(cO,{...t})}):cO(t)}const M1e=je({});function E1e(){return n.jsx(Se,{children:n.jsx(C1e,{components:M1e})})}const A1e=ve("/_layout/til/javascript/javascript-trick-2")({component:E1e,head:()=>({meta:[{title:"javascript trick 2"}]})});function hO(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Javascript Trick 1"}),`
`,n.jsx(e.h2,{children:"오늘의 퀴즈"}),`
`,n.jsx(e.p,{children:"아래 코드를 실행하면 어떤 결과가 나올까?"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`const person = {
    'last-name': 'Kim',
    first: 'sunmin'
};
console.log(person.last-name);
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Node.js"}),": ",n.jsx(e.code,{children:"ReferenceError: name is not defined"})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"브라우저"}),": ",n.jsx(e.code,{children:"NaN"})]}),`
`]}),`
`,n.jsx(e.h2,{children:"왜 이렇게 결과가 나올까?"}),`
`,n.jsxs(e.h3,{children:["1. ",n.jsx(e.code,{children:"person.last"})," 평가"]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"person.last-name"})," 코드는 Javascript 엔진에서는 아래와 같이 평가가 됩니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`person.last - name
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"person.last"}),"는 person에 존재하지 않기 때문에 ",n.jsx(e.code,{children:"undefined"}),"로 평가됨"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"undefined - name"}),"은 ",n.jsx(e.code,{children:"undefined"}),"에서 ",n.jsx(e.code,{children:"name"}),"을 뺀다는 의미"]}),`
`,n.jsxs(e.li,{children:["브라우저에서는 window의 이름으로 ",n.jsx(e.code,{children:"name"})," 변수가 전역으로 존재함."]}),`
`,n.jsxs(e.li,{children:["Node.js에서는 전역 스코프에 ",n.jsx(e.code,{children:"name"}),"이라는 식별자가 존재하지 않음"]}),`
`]}),`
`,n.jsx(e.p,{children:"이런 코드는 아래와 같이 평가됩니다."}),`
`,n.jsx(e.h3,{children:"2. 각 실행 환경에 따라 결과가 다른 이유"}),`
`,n.jsx(e.h4,{children:"Node.js"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["전역 스코프에 ",n.jsx(e.code,{children:"name"}),"이라는 식별자가 존재하지 않음"]}),`
`,n.jsxs(e.li,{children:["→ ",n.jsx(e.code,{children:"ReferenceError"})," 발생"]}),`
`]}),`
`,n.jsx(e.h4,{children:"브라우저"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["전역 객체 ",n.jsx(e.code,{children:"window"}),"에 기본적으로 ",n.jsx(e.code,{children:"name"})," 프로퍼티가 존재 (",n.jsx(e.code,{children:"window.name"}),")"]}),`
`,n.jsxs(e.li,{children:["기본값은 빈 문자열 ",n.jsx(e.code,{children:"''"})]}),`
`,n.jsxs(e.li,{children:["→ ",n.jsx(e.code,{children:"undefined - ''"}),"는 ",n.jsx(e.code,{children:"NaN"})]}),`
`]}),`
`,n.jsx(e.h2,{children:"정리"}),`
`,n.jsxs(e.p,{children:[`| 환경      | 결과                          | 이유                                      |
|-----------|-------------------------------|-------------------------------------------|
| Node.js   | `,n.jsx(e.code,{children:"ReferenceError"}),"              | ",n.jsx(e.code,{children:"name"}),`이라는 식별자가 없음                |
| 브라우저  | `,n.jsx(e.code,{children:"NaN"}),"                          | ",n.jsx(e.code,{children:"window.name"}),"이 빈 문자열로 존재함        |"]}),`
`,n.jsx(e.h3,{children:"참고"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"name"}),"같은 전역 식별자는 ",n.jsx(e.strong,{children:"브라우저에서는 암묵적으로 존재"}),"하지만, Node.js에서는 그렇지 않음"]}),`
`,n.jsx(e.li,{children:"전역 객체의 차이는 실행 환경의 차이에 따라 발생하므로, 디버깅 시 환경을 꼭 고려하자"}),`
`]})]})}function R1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(hO,{...t})}):hO(t)}const L1e=je({});function D1e(){return n.jsx(Se,{children:n.jsx(R1e,{components:L1e})})}const k1e=ve("/_layout/til/javascript/javascript-trick-1")({component:D1e,head:()=>({meta:[{title:"javascript trick 1"}]})});function uO(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Iterable"}),`
`,n.jsxs(e.p,{children:["Iterable이란 객체가 ",n.jsx(e.code,{children:"Symbol.iterator"})," 속성을 가지고 있고, 이 속성이 ",n.jsx(e.code,{children:"next"})," 메소드를 반환해야 합니다. 이러한 것을 Iterable Protocol을 만족 한다고 표현합니다."]}),`
`,n.jsx(e.p,{children:"즉, Iterable이란, Iterable Protocol을 만족하는 객체를 말합니다."}),`
`,n.jsx(e.p,{children:"아래에 Iterable Protocol을 만족하는 객체의 예시를 보여드리겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const iterable = {
  [Symbol.iterator]() {
    let i = 0;
    return {
      next() {
        return {
          value: i++,
          done: i > 3,
        };
      },
    };
  },
};
`})}),`
`,n.jsx(e.p,{children:"그리고 이 Iterable 객체는 아래와 같은 특징을 가집니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"for...of"})," 구문을 통해 순회할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`for (const value of iterable) {
  console.log(value);
}
// 0
// 1
// 2
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Spread Syntax"}),"를 통해 배열로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [...iterable];
console.log(arr); // [0, 1, 2]
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Destructuring"}),"을 통해 배열로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const [a, b, c] = iterable;
console.log(a, b, c); // 0 1 2
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Array.from"})," 메소드를 통해 배열로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = Array.from(iterable);
console.log(arr); // [0, 1, 2]
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Set"})," 생성자를 통해 Set 객체로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const set = new Set(iterable);
console.log(set); // Set { 0, 1, 2 }
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Map"})," 생성자를 통해 Map 객체로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const map = new Map([
  [0, 'a'],
  [1, 'b'],
  [2, 'c'],
]);
console.log(map); // Map { 0 => 'a', 1 => 'b', 2 => 'c' }
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Promise.all"})," 메소드를 통해 Promise 객체로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const promise = Promise.all(iterable);
console.log(promise); // Promise { <pending> }
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"..."}),`
`]}),`
`,n.jsx(e.h2,{children:"javascript의 Generator"}),`
`,n.jsxs(e.p,{children:["Generator는 Iterable Protocol을 만족하는 객체를 생성하는 함수입니다. Generator 함수는 ",n.jsx(e.code,{children:"function*"})," 키워드를 사용하여 정의하며, 함수 내부에서 ",n.jsx(e.code,{children:"yield"})," 키워드를 사용하여 값을 반환합니다."]}),`
`,n.jsx(e.p,{children:"아래에 Generator 함수의 예시를 보여드리겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function* generator() {
  yield 0;
  yield 1;
  yield 2;
}

const iterable = generator();
`})}),`
`,n.jsx(e.p,{children:"그리고 이 Generator 함수는 아래와 같은 특징을 가집니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"for...of"})," 구문을 통해 순회할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`for (const value of iterable) {
  console.log(value);
}
// 0
// 1
// 2
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Spread Syntax"}),"를 통해 배열로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [...iterable];
console.log(arr); // [0, 1, 2]
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Destructuring"}),"을 통해 배열로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const [a, b, c] = iterable;
console.log(a, b, c); // 0 1 2
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Array.from"})," 메소드를 통해 배열로 변환할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = Array.from(iterable);
console.log(arr); // [0, 1, 2]
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"... 위에서 Iterable 객체의 특징과 동일합니다."}),`
`]})]})}function N1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(uO,{...t})}):uO(t)}const P1e=je({});function O1e(){return n.jsx(Se,{children:n.jsx(N1e,{components:P1e})})}const B1e=ve("/_layout/til/javascript/iterable")({component:O1e,head:()=>({meta:[{title:"iterable"}]})});function dO(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Hidden Class"}),`
`,n.jsx(e.h2,{children:"개요"}),`
`,n.jsx(e.p,{children:'JavaScript는 동적 타이핑 언어로, 객체에 프로퍼티를 자유롭게 추가하거나 삭제할 수 있습니다. 이러한 유연성은 개발에 편리함을 제공하지만, 성능 측면에서는 도전 과제가 될 수 있습니다. V8 엔진은 이러한 문제를 해결하기 위해 "히든 클래스(Hidden Class)"라는 내부 메커니즘을 도입하여 객체의 구조를 추적하고 최적화합니다.'}),`
`,n.jsx(e.h2,{children:"히든 클래스란?"}),`
`,n.jsx(e.p,{children:"히든 클래스는 V8 엔진이 JavaScript 객체의 구조를 추적하고 최적화하기 위해 사용하는 내부 메타데이터 구조입니다. 객체의 프로퍼티 이름과 추가 순서 등을 기반으로 생성되며, 동일한 구조를 가진 객체들은 동일한 히든 클래스를 공유합니다. 이를 통해 프로퍼티 접근 시 메모리 오프셋을 이용한 빠른 접근이 가능해집니다."}),`
`,n.jsx(e.h2,{children:"히든 클래스의 구성 요소"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Map"}),": 객체의 구조(프로퍼티 정보 등)를 설명하는 메타데이터 객체로, 해당 객체가 어떤 프로퍼티를 어떤 순서로 가지는지를 정의합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"DescriptorArray"}),": 각 프로퍼티의 이름, 타입, 접근자 등을 저장한 배열입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"TransitionArray"}),": 현재 히든 클래스에서 새로운 프로퍼티가 추가되었을 때 어떤 히든 클래스로 전이되는지를 설명하는 정보입니다."]}),`
`]}),`
`,n.jsx(e.p,{children:"많은 경우, TransitionArray 대신 단일 포인터 전이가 사용되며 이는 더 빠른 탐색을 가능하게 합니다."}),`
`,n.jsx(e.h2,{children:"히든 클래스의 생성과 전이 예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function Peak(name, height, extra) {
  this.name = name;
  this.height = height;
  if (isNaN(extra)) {
    this.experience = extra;
  } else {
    this.prominence = extra;
  }
}

const m1 = new Peak("Matterhorn", 4478, 1040);   // prominence 속성 보유
const m2 = new Peak("Wendelstein", 1838, "good"); // experience 속성 보유
`})}),`
`,n.jsxs(e.p,{children:["위 코드에서 ",n.jsx(e.code,{children:"m1"}),"과 ",n.jsx(e.code,{children:"m2"}),"는 서로 다른 구조를 가지므로, 서로 다른 히든 클래스를 생성하게 됩니다. 이러한 전이(transitions)는 히든 클래스 간의 트리를 형성하게 되며, 최적화된 객체 탐색이 가능하게 됩니다."]}),`
`,n.jsx(e.h2,{children:"TypeScript와 히든 클래스 최적화의 관계"}),`
`,n.jsx(e.p,{children:"TypeScript는 정적 타입 시스템을 제공하여 코드 작성 시점에 객체 구조를 명확히 정의할 수 있게 합니다. 런타임에 직접적인 최적화를 수행하진 않지만, 다음과 같은 간접적인 이점이 존재합니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"객체 구조를 사전에 명확히 정의하게 하여 일관성을 유지하게 유도합니다."}),`
`,n.jsx(e.li,{children:"동일한 구조의 객체를 생성하도록 도와 V8 엔진이 히든 클래스를 재사용할 수 있게 합니다."}),`
`]}),`
`,n.jsx(e.p,{children:"예시:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`type User = {
  id: number;
  name: string;
  age: number;
};

const a: User = { id: 1, name: "Kim", age: 30 };
const b: User = { id: 2, name: "Lee", age: 28 };
`})}),`
`,n.jsx(e.p,{children:"이러한 코드 구조는 a, b 객체가 같은 히든 클래스를 공유하도록 하여 V8 최적화에 유리한 패턴을 형성합니다."}),`
`,n.jsxs(e.p,{children:["주의할 점은 TypeScript에서도 ",n.jsx(e.code,{children:"as any"}),", ",n.jsx(e.code,{children:"delete"}),", 동적 속성 추가 등은 히든 클래스 최적화를 방해할 수 있다는 것입니다:"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`const obj = {} as any;
obj.x = 1;
obj.y = 2;
delete obj.x;
`})}),`
`,n.jsx(e.h2,{children:"히든 클래스 최적화를 위한 팁"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"생성자 함수 내에서 객체의 모든 속성을 초기화하세요."}),`
`,n.jsx(e.li,{children:"객체 생성 이후에는 가능한 프로퍼티를 추가하거나 삭제하지 마세요."}),`
`,n.jsx(e.li,{children:"프로퍼티를 항상 동일한 순서로 추가하세요."}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"delete"})," 키워드를 지양하세요. 이는 객체를 사전(dictionary) 모드로 전환시켜 성능 저하를 초래합니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsx(e.p,{children:"히든 클래스는 V8 엔진이 JavaScript의 유연한 객체 모델을 고성능으로 유지할 수 있도록 해주는 중요한 최적화 메커니즘입니다. 코드 작성 시 객체의 구조를 일관되게 유지하고 불필요한 동적 변경을 피하면, 엔진 최적화의 혜택을 누릴 수 있습니다."}),`
`,n.jsx(e.p,{children:"특히 TypeScript와 함께 사용하면 객체 구조의 일관성을 자연스럽게 유지할 수 있으므로, 히든 클래스 기반 최적화를 유도하는 데에도 큰 도움이 됩니다."}),`
`,n.jsxs(e.p,{children:["자세한 사항은 V8 공식 문서 ",n.jsx(e.a,{href:"https://v8.dev/docs/hidden-classes",children:"https://v8.dev/docs/hidden-classes"})," 를 참고하면 좋습니다."]})]})}function I1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(dO,{...t})}):dO(t)}const F1e=je({});function U1e(){return n.jsx(Se,{children:n.jsx(I1e,{components:F1e})})}const z1e=ve("/_layout/til/javascript/hidden-class")({component:U1e,head:()=>({meta:[{title:"hidden class"}]})});function fO(t){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Document Animate"}),`
`,n.jsx(e.h2,{children:"1. Web Animation API란?"}),`
`,n.jsx(e.p,{children:"CSS 애니메이션과 자바스크립트를 통합하여 애니메이션을 제어할 수 있는 API"}),`
`,n.jsx(e.h2,{children:"2. Web Animation API 사용하기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Element.animate()"}),`
`]}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"Animation = Element.animate(Keyframes, duration)"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`var animationInterface = document.getElementById("code1").animate([
	{ transform: 'scale(1)', opacity: 1},
	{ transform: 'scale(.5)', opacity: .5},
	{ transform: 'scale(.667)', opacity: .667},
	{ transform: 'scale(.6)', opacity: .6}
], 3000);
`})}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://www.w3.org/TR/web-animations/#animation",children:"Animation Interface"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`animate(keyframes: Keyframe[] | PropertyIndexedKeyframes | null, options?: number | KeyframeAnimationOptions): Animation;

/** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation) */
interface Animation extends EventTarget {
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/currentTime) */
    currentTime: CSSNumberish | null;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/effect) */
    effect: AnimationEffect | null;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/finished) */
    readonly finished: Promise<Animation>;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/id) */
    id: string;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/cancel_event) */
    oncancel: ((this: Animation, ev: AnimationPlaybackEvent) => any) | null;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/finish_event) */
    onfinish: ((this: Animation, ev: AnimationPlaybackEvent) => any) | null;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/remove_event) */
    onremove: ((this: Animation, ev: Event) => any) | null;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/pending) */
    readonly pending: boolean;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/playState) */
    readonly playState: AnimationPlayState;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/playbackRate) */
    playbackRate: number;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/ready) */
    readonly ready: Promise<Animation>;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/replaceState) */
    readonly replaceState: AnimationReplaceState;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/startTime) */
    startTime: CSSNumberish | null;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/timeline) */
    timeline: AnimationTimeline | null;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/cancel) */
    cancel(): void;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/commitStyles) */
    commitStyles(): void;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/finish) */
    finish(): void;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/pause) */
    pause(): void;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/persist) */
    persist(): void;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/play) */
    play(): void;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/reverse) */
    reverse(): void;
    /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/Animation/updatePlaybackRate) */
    updatePlaybackRate(playbackRate: number): void;
    addEventListener<K extends keyof AnimationEventMap>(type: K, listener: (this: Animation, ev: AnimationEventMap[K]) => any, options?: boolean | AddEventListenerOptions): void;
    addEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | AddEventListenerOptions): void;
    removeEventListener<K extends keyof AnimationEventMap>(type: K, listener: (this: Animation, ev: AnimationEventMap[K]) => any, options?: boolean | EventListenerOptions): void;
    removeEventListener(type: string, listener: EventListenerOrEventListenerObject, options?: boolean | EventListenerOptions): void;
}
`})}),`
`,n.jsx(e.h3,{children:"파라미터 설명"}),`
`,n.jsx(e.p,{children:"effect:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"null인 경우에는 전역 객체인 document를 사용하며, 그렇지 않은 경우에는 effect를 사용한다. effect는 애니메이션의 효과를 정의하는 객체이다. Array로 여러 개의 effect를 넣을 수도 있다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`interface Keyframe {
    composite?: CompositeOperationOrAuto;
    easing?: string;
    offset?: number | null;
    [property: string]: string | number | null | undefined;
}
`})}),`
`,n.jsx(e.p,{children:"timeline:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"애니메이션의 타임라인을 정의하는 객체이다. 기본적으로 숫자를 사용할 수도 있지만, duration, delay, easing, iterations, fill 등을 정의하는 객체를 넣을 수도 있다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`interface KeyframeAnimationOptions extends KeyframeEffectOptions {
    id?: string;
    timeline?: AnimationTimeline | null;
}

interface KeyframeEffectOptions extends EffectTiming {
    composite?: CompositeOperation;
    iterationComposite?: IterationCompositeOperation;
    pseudoElement?: string | null;
}

interface EffectTiming {
    delay?: number;
    direction?: PlaybackDirection;
    duration?: number | CSSNumericValue | string;
    easing?: string;
    endDelay?: number;
    fill?: FillMode;
    iterationStart?: number;
    iterations?: number;
    playbackRate?: number;
}

`})}),`
`,n.jsx(e.p,{children:"파라미터뿐만 아니라 새로운 Animation 객체를 생성하여 다양한 Methods를 사용할 수 있다."})]})}function H1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(fO,{...t})}):fO(t)}const V1e=je({});function G1e(){return n.jsx(Se,{children:n.jsx(H1e,{components:V1e})})}const $1e=ve("/_layout/til/javascript/document-animate")({component:G1e,head:()=>({meta:[{title:"document animate"}]})});function pO(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Defining a function with the new keyword"}),`
`,n.jsx(e.h2,{children:"개요"}),`
`,n.jsxs(e.p,{children:["JavaScript에서는 함수를 선언하는 다양한 방법이 있으며, 그 중 ",n.jsx(e.code,{children:"new Function()"})," 생성자를 사용해 런타임에 동적으로 함수를 정의할 수 있는 방식이 있다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const sum = new Function('x', 'y', 'return x + y');
console.log(sum(2, 3)); // 5
`})}),`
`,n.jsx(e.h2,{children:"사용법"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Function"})," 생성자의 기본 문법은 다음과 같다:"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`new Function([인자1[, 인자2[, ...]], 함수 본문])
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"각 인자는 문자열로 전달되며,"}),`
`,n.jsxs(e.li,{children:["마지막 인자는 함수의 본문(",n.jsx(e.code,{children:"return"}),"문 포함)이다."]}),`
`]}),`
`,n.jsx(e.p,{children:"예시:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const multiply = new Function('a', 'b', 'return a * b');
console.log(multiply(4, 5)); // 20
`})}),`
`,n.jsx(e.h2,{children:"사용 시기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"사용자 입력을 코드로 실행해야 할 때"}),`
`,n.jsx(e.li,{children:"템플릿 엔진이나 DSL을 직접 구현할 때"}),`
`]}),`
`,n.jsx(e.h2,{children:"주의사항"}),`
`,n.jsx(e.h3,{children:"1. 보안 이슈"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"new Function()"}),"은 ",n.jsx(e.code,{children:"eval()"}),"과 유사하게 동적으로 코드를 실행하기 때문에 ",n.jsx(e.strong,{children:"보안상 매우 위험"}),"할 수 있다. 사용자 입력을 그대로 실행하는 경우 XSS(크로스사이트스크립팅)나 코드 인젝션 등의 공격이 가능해진다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const dangerous = new Function('input', 'return eval(input)');
`})}),`
`,n.jsx(e.h3,{children:"2. 성능 문제"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"런타임에 파싱 및 컴파일이 이루어지므로 일반 함수 정의 방식보다 느리다."}),`
`,n.jsx(e.li,{children:"최적화가 어려워 성능 저하가 발생할 수 있다."}),`
`]}),`
`,n.jsx(e.h3,{children:"3. 스코프 제한"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"new Function()"}),"으로 생성된 함수는 외부 렉시컬 스코프(closure)에 접근할 수 없다. 오직 전역 변수나 함수 내부의 로컬 변수만 접근할 수 있다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`let a = 10;
const f = new Function('return a'); // ReferenceError: a is not defined
`})}),`
`,n.jsx(e.h2,{children:"요약"}),`
`,n.jsxs(e.p,{children:[`| 항목         | 설명 |
|--------------|------|
| 장점         | 동적으로 코드 생성 가능 |
| 단점         | 보안 취약, 성능 저하, 외부 스코프 접근 불가 |
| 권장 대안     | 일반 함수 또는 화살표 함수 사용 |
| 유사 기능     | `,n.jsx(e.code,{children:"eval()"})," (하지만 더 위험함) |"]}),`
`,n.jsx(e.h2,{children:"참고 자료"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"MDN 문서: https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Function"}),`
`,n.jsx(e.li,{children:"OWASP JavaScript 보안 가이드"}),`
`]})]})}function q1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(pO,{...t})}):pO(t)}const W1e=je({});function X1e(){return n.jsx(Se,{children:n.jsx(q1e,{components:W1e})})}const Y1e=ve("/_layout/til/javascript/defining-function-with-new-keyword")({component:X1e,head:()=>({meta:[{title:"defining function with new keyword"}]})});function mO(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Custom Event"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"onclick"}),", ",n.jsx(e.code,{children:"oninput"}),"과 같이 DOM에 이벤트를 listen하는 것처럼, custom event를 listen할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const pizzaEvent = new CustomEvent('gitsunmin', {
  detail: {
    name: 'sunmin',
  },
});

window.addEventListener('gitsunmin', (e) => console.log(e.detail.name));
window.dispatchEvent(pizzaEvent); // -> 'sunmin'
`})}),`
`,n.jsx(e.p,{children:"혹은 이를 이용하여 EventTarget을 상속받은 클래스에서 직접 이벤트를 발생시킬 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`class Gitsunmin extends EventTarget {
  constructor() {
    super();
  }
  addTil(flavor) {
    // 클래스에서 직접 이벤트를 발생시킵니다.
    this.dispatchEvent(
      new CustomEvent('til-added', {
        detail: {
          pizza: flavor,
        },
      })
    );
  }
}

const gitsunmin = new Gitsunmin();

gitsunmin.addEventListener('til-added', (e) =>
  console.log('added til:', e.detail.pizza)
);
gitsunmin.addTil('custom event'); // -> 'added til: custom event'
`})})]})}function K1e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(mO,{...t})}):mO(t)}const Z1e=je({});function Q1e(){return n.jsx(Se,{children:n.jsx(K1e,{components:Z1e})})}const J1e=ve("/_layout/til/javascript/custom-event")({component:Q1e,head:()=>({meta:[{title:"custom event"}]})});function gO(t){const e={blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Closure"}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"1. 클로저(Closure)란 무엇인가?"})}),`
`,n.jsxs(e.p,{children:["클로저는 ",n.jsx(e.strong,{children:"함수와 그 함수가 선언된 렉시컬 환경(Lexical Environment)을 함께 기억하는 함수"}),"를 의미합니다.",n.jsx(e.br,{}),`
`,"쉽게 말해, ",n.jsx(e.strong,{children:"외부 함수의 변수에 접근할 수 있는 내부 함수"}),"를 클로저라고 부릅니다."]}),`
`,n.jsx(e.p,{children:"JavaScript에서는 함수가 생성될 때 자신의 렉시컬 환경을 저장하기 때문에, 클로저를 통해 외부 함수가 종료된 이후에도 그 환경에 접근할 수 있습니다."}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"2. 클로저의 원리"})}),`
`,n.jsx(e.p,{children:"JavaScript의 클로저는 다음과 같은 두 가지 개념을 기반으로 작동합니다."}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"1) 렉시컬 스코핑(Lexical Scoping)"})}),`
`,n.jsxs(e.p,{children:["JavaScript는 함수를 선언할 때의 스코프를 기준으로 변수의 범위를 결정합니다.",n.jsx(e.br,{}),`
`,"따라서 내부 함수는 자신이 선언된 위치의 스코프에 접근할 수 있습니다."]}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:`렉시컬(lexical)의 의미는 사전전으로는 "어휘"라는 의미이다. 자바스크립트에서는 프로그램이 구현된 "코드"와 관련돼 있음을 의미한다.
변수를 검색할 때 함수가 실행되는 환경을 근거로 판단하는것이 아니라 함수를 정의한 코드의 문맥을 근거로 판단한다는 것이다.`}),`
`]}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"2) 스코프 체인(Scope Chain)"})}),`
`,n.jsxs(e.p,{children:["내부 함수는 자신의 스코프뿐만 아니라, 외부 함수나 전역 스코프의 변수에도 접근할 수 있습니다.",n.jsx(e.br,{}),`
`,'클로저는 이러한 스코프 체인을 유지하여 외부 함수의 변수를 "기억"합니다.']}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"3. 클로저의 예제"})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"기본 예제"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function outerFunction(outerVariable) {
    return function innerFunction(innerVariable) {
        console.log(\`Outer Variable: \${outerVariable}\`);
        console.log(\`Inner Variable: \${innerVariable}\`);
    };
}

const newFunction = outerFunction("outside");
newFunction("inside");
// 출력:
// Outer Variable: outside
// Inner Variable: inside
`})}),`
`,n.jsxs(e.p,{children:["위 예제에서 내부 함수 ",n.jsx(e.code,{children:"innerFunction"}),"은 외부 함수 ",n.jsx(e.code,{children:"outerFunction"}),"의 ",n.jsx(e.code,{children:"outerVariable"}),"을 클로저로 캡처하여 접근합니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:'4. 클로저와 "폐쇄"라는 의미'})}),`
`,n.jsxs(e.p,{children:['"Closure"는 영어로 ',n.jsx(e.strong,{children:'"닫힌 상태"'}),' 또는 **"종결"**이라는 뜻을 가지고 있습니다.',n.jsx(e.br,{}),`
`,"JavaScript에서 클로저는 이 뜻을 다음과 같은 방식으로 구현합니다."]}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"1) 외부 스코프의 닫힌 환경을 캡처한다"})}),`
`,n.jsxs(e.p,{children:["클로저는 외부 함수의 변수를 닫힌 상태로 내부 함수에 캡슐화합니다.",n.jsx(e.br,{}),`
`,'즉, 외부 함수가 실행을 종료하더라도, 내부 함수는 외부 스코프를 "닫힌 환경"으로 유지하며 접근할 수 있습니다.']}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function outer() {
    let count = 0;
    return function inner() {
        count++;
        console.log(count);
    };
}

const counter = outer();
counter(); // 1
counter(); // 2
`})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"2) 데이터 보호"})}),`
`,n.jsxs(e.p,{children:["클로저는 외부 변수에 대한 직접 접근을 막고, 내부 함수에서만 접근할 수 있도록 제한합니다.",n.jsx(e.br,{}),`
`,"이로 인해 데이터가 은닉되어 외부 간섭으로부터 보호됩니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"5. 클로저의 실제 활용 사례"})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"1) 데이터 은닉"})}),`
`,n.jsx(e.p,{children:"클로저를 사용하면 외부에서 직접 접근할 수 없는 변수를 생성할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function createCounter() {
    let count = 0; // 은닉된 변수

    return {
        increment: function () {
            count++;
            console.log(\`Count: \${count}\`);
        },
        decrement: function () {
            count--;
            console.log(\`Count: \${count}\`);
        },
        getCount: function () {
            return count;
        },
    };
}

const counter = createCounter();
counter.increment(); // Count: 1
counter.increment(); // Count: 2
console.log(counter.getCount()); // 2
counter.decrement(); // Count: 1
`})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"2) 이벤트 핸들러"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function attachEventHandlers() {
    const buttons = document.querySelectorAll("button");

    buttons.forEach((button, index) => {
        button.addEventListener("click", function () {
            console.log(\`Button \${index} clicked\`);
        });
    });
}
attachEventHandlers();
`})}),`
`,n.jsxs(e.p,{children:["위 코드에서 클로저는 각 버튼의 ",n.jsx(e.code,{children:"index"})," 값을 기억하여 클릭 이벤트 시 정확히 출력할 수 있습니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"6. 클로저의 장점과 단점"})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"장점"})}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"데이터 은닉"}),": 외부에서 변수에 직접 접근하지 못하게 하여 캡슐화를 구현할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"상태 유지"}),": 함수 호출 이후에도 특정 상태를 유지할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"모듈화"}),": 클로저를 사용해 모듈 패턴을 쉽게 구현할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"단점"})}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"메모리 사용 증가"}),": 클로저는 자신이 참조하는 변수들을 계속해서 유지하므로, 메모리 누수가 발생할 가능성이 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"디버깅 어려움"}),": 여러 스코프가 얽혀 있기 때문에 디버깅이 복잡할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"7. 클로저와 관련된 추가 개념"})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"1) 즉시 실행 함수 표현(IIFE)와 클로저"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const counter = (function () {
    let count = 0;
    return function () {
        count++;
        return count;
    };
})();

console.log(counter()); // 1
console.log(counter()); // 2
`})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"2) 클로저와 메모리 누수 방지"})}),`
`,n.jsxs(e.p,{children:["불필요한 참조를 제거하거나, 함수 호출이 끝난 뒤 필요 없는 데이터는 ",n.jsx(e.code,{children:"null"}),"로 설정하여 메모리 누수를 방지할 수 있습니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"8. 클로저를 활용한 실용적인 패턴"})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"1) 커링(Currying)"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function multiply(a) {
    return function (b) {
        return a * b;
    };
}

const multiplyByTwo = multiply(2);
console.log(multiplyByTwo(5)); // 10
`})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"2) 디바운스(Debounce)"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`function debounce(func, delay) {
    let timeoutId;
    return function (...args) {
        clearTimeout(timeoutId);
        timeoutId = setTimeout(() => func.apply(this, args), delay);
    };
}

const log = debounce(() => console.log("Debounced!"), 300);
log();
log();
log();
// 마지막 호출로부터 300ms 후에 "Debounced!" 출력
`})})]})}function ewe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(gO,{...t})}):gO(t)}const twe=je({});function nwe(){return n.jsx(Se,{children:n.jsx(ewe,{components:twe})})}const iwe=ve("/_layout/til/javascript/closure")({component:nwe,head:()=>({meta:[{title:"closure"}]})});function xO(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Canvas API"}),`
`,n.jsx(e.h2,{children:"설명"}),`
`,n.jsx(e.p,{children:"Canvas API는 HTML5에서 새롭게 추가된 기능으로, HTML5에서 동적으로 그래픽을 그릴 수 있게 해준다. Canvas API는 2D 그래픽을 그리는 CanvasRenderingContext2D와 3D 그래픽을 그리는 WebGLRenderingContext로 구성되어 있다."}),`
`,n.jsx(e.h2,{children:"사용법"}),`
`,n.jsx(e.h3,{children:"1. 객체 생성"}),`
`,n.jsx(e.p,{children:"index.html"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<canvas id="canvas" width="500" height="500"></canvas>
`})}),`
`,n.jsx(e.p,{children:"index.js"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');
`})}),`
`,n.jsx(e.h3,{children:"2. 선 그리기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.beginPath();
ctx.moveTo(100, 100);
ctx.lineTo(200, 200);
ctx.stroke();
`})}),`
`,n.jsx(e.h3,{children:"3. 원 그리드"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.beginPath();
ctx.arc(100, 100, 50, 0, Math.PI * 2, true);
ctx.stroke();
`})}),`
`,n.jsx(e.h3,{children:"4. 사각형 그리기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.beginPath();
ctx.rect(100, 100, 100, 100);
ctx.stroke();
`})}),`
`,n.jsx(e.h3,{children:"5. 이미지 그리기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const img = new Image();
img.src = 'image.png';
img.onload = function() {
    ctx.drawImage(img, 100, 100);
};
`})}),`
`,n.jsx(e.h3,{children:"6. 텍스트 그리기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.font = '20px Arial';
ctx.fillText('Hello World!', 100, 100);
`})}),`
`,n.jsx(e.h3,{children:"7. 색상 설정"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.fillStyle = 'red';
ctx.strokeStyle = 'blue';
`})}),`
`,n.jsx(e.h3,{children:"8. 투명도 설정"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.globalAlpha = 0.5;
`})}),`
`,n.jsx(e.h3,{children:"9. 그림자 설정"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.shadowColor = 'black';
ctx.shadowOffsetX = 5;
ctx.shadowOffsetY = 5;
ctx.shadowBlur = 5;
`})}),`
`,n.jsx(e.h3,{children:"10. 선 스타일 설정"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.lineWidth = 5;
ctx.lineCap = 'round';
ctx.lineJoin = 'round';
ctx.miterLimit = 10;
`})}),`
`,n.jsx(e.h3,{children:"11. 캔버스 초기화"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.clearRect(0, 0, canvas.width, canvas.height);
`})}),`
`,n.jsx(e.h3,{children:"12. 캔버스 저장"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.save();
`})}),`
`,n.jsx(e.h3,{children:"13. 캔버스 복원"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`ctx.restore();
`})}),`
`,n.jsx(e.h3,{children:"14. 캔버스 크기 설정"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`canvas.width = 500;
canvas.height = 500;
`})}),`
`,n.jsx(e.h3,{children:"15. 캔버스 크기 가져오기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const width = canvas.width;
const height = canvas.height;
`})}),`
`,n.jsx(e.h3,{children:"16. 캔버스 스타일 설정"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`canvas.style.border = '1px solid black';
`})}),`
`,n.jsx(e.h3,{children:"17. 캔버스 위치 설정"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`canvas.style.position = 'absolute';
canvas.style.left = '100px';
canvas.style.top = '0px';
`})}),`
`,n.jsx(e.h3,{children:"18. 캔버스 이벤트 설정"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`canvas.addEventListener('click', function(e) {
    const x = e.offsetX;
    const y = e.offsetY;
});
`})}),`
`,n.jsx(e.h3,{children:"19. 캔버스 애니메이션"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const x = 100;
const y = 100;

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    ctx.beginPath();
    ctx.arc(x, y, 50, 0, Math.PI * 2, true);
    ctx.stroke();
    requestAnimationFrame(draw);
}

requestAnimationFrame(draw);
`})})]})}function rwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(xO,{...t})}):xO(t)}const swe=je({});function awe(){return n.jsx(Se,{children:n.jsx(rwe,{components:swe})})}const owe=ve("/_layout/til/javascript/canvas-api")({component:awe,head:()=>({meta:[{title:"canvas api"}]})});function yO(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"ECMAScript 2023"}),`
`,n.jsx(e.h2,{children:"toReversed"}),`
`,n.jsx(e.p,{children:"기존에 주로 사용하였던, Array.prototype.reverse():"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [1, 2, 3, 4];

const r_arr = arr.reverse();

console.log(arr);
// [4, 3, 2, 1]
console.log(r_arr);
// [4, 3, 2, 1]
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"reverse()"})," method를 사용하였더니, 기존값인 arr의 순서 또한 역전이 되어버렸습니다. 이를 방지하기 위해서 ",n.jsx(e.code,{children:"toReversed"}),"라는 method가 새로 추가 되었습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [1, 2, 3, 4];

const r_arr = arr.toReversed();

console.log(arr);
// [1, 2, 3, 4]
console.log(r_arr);
// [4, 3, 2, 1]
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"toReversed()"}),"는 기존값은 변경하지 않고, 리턴하는 Array의 순서만 역전되어집니다."]}),`
`,n.jsx(e.h2,{children:"toSorted"}),`
`,n.jsx(e.p,{children:"기존에 주로 사용하였던, Array.prototype.sort():"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [3, 4, 2, 1];

const s_arr = arr.sort();

console.log(arr);
// [1, 2, 3, 4]
console.log(s_arr);
// [1, 2, 3, 4]
`})}),`
`,n.jsxs(e.p,{children:["이 또한 기존값인 arr의 순서가 정렬이 되어버렸습니다. 이를 방지하기 위해서 ",n.jsx(e.code,{children:"toSorted()"}),"라는 method가 새로 추가되었습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [3, 4, 2, 1];

const s_arr = arr.toSorted();

console.log(arr);
// [3, 4, 2, 1]
console.log(s_arr);
// [1, 2, 3, 4]
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"toSorted()"}),"는 기존값은 변경하지 않고, 리턴하는 Array의 순서만 정렬이 되어집니다."]}),`
`,n.jsx(e.h2,{children:"toSpliced"}),`
`,n.jsx(e.p,{children:"기존에 주로 사용하였던, Array.prototype.splice():"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [3, 4, 2, 1];

const s_arr = arr.splice(1,1, 0);

console.log(arr);
// [3, 0, 2, 1]
console.log(s_arr);
// [4]
`})}),`
`,n.jsxs(e.p,{children:["이 또한 기존값인 arr에서 1번쨰 인덱스의 값이 0으로 변경되었습니다. 이를 방지하기 위해서 ",n.jsx(e.code,{children:"toSpliced()"}),"라는 method가 새로 추가되었습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [3, 4, 2, 1];

const s_arr = arr.toSpliced(1,1, 0);

console.log(arr);
// [3, 4, 2, 1]
console.log(s_arr);
// [3, 0, 2, 1]
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"toSpliced()"}),"는 기존값은 변경하지 않고, 리턴하는 Array의 1번째 인덱스틔 값만 0으로 변경되었습니다."]}),`
`,n.jsx(e.h2,{children:"with"}),`
`,n.jsxs(e.p,{children:["기존에는 Array의 특정 인덱스의 요소를 변경하기 위해서는 ",n.jsx(e.code,{children:"splice"}),"를 이용하거나 다른 여러가지 복잡한 방법을 사용해야 했습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [1, 2, 3, 4];

arr.splice(1, 1, 0);

console.log(arr);
// [1, 0 ,3, 4];
`})}),`
`,n.jsxs(e.p,{children:["물론, 다양한 방법이 있지만, 어떤 방법을 쓰더라도 두 개 이상의 method를 사용하거나 ",n.jsx(e.code,{children:"arr.splice()"}),"처럼 많은 인자를 받아서 기존값을 변경해야 했습니다. 이러한 불편함을 해결하기 위해서 ",n.jsx(e.code,{children:"with"})," method가 새로 추가 되었습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [1, 2, 3, 4];

const w_arr = arr.with(1, 0);

console.log(arr);
// [1, 2, 3, 4]
console.log(w_arr);
// [1, 0, 3, 4]
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"with"})," method를 사용하면 위 처럼 기존값은 변경하지 않고 특정 인덱스의 값을 변경할 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"findLast"}),`
`,n.jsx(e.p,{children:"기존의 Array.prototype.find():"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [3, 4, 2, 1];

const f = arr.find((a) => {
    console.log('a:', a);
    return a === 1;
});
// a: 3
// a: 4
// a: 2
// a: 1

console.log(arr);
// [3, 4, 2, 1]
console.log(f);
// 1
`})}),`
`,n.jsxs(e.p,{children:["로그가 찍힌 것을 보면, 인덱스가 작은 순서부터 탐색을 수행한 것을 알 수 있습니다. 하지만 요소가 많고 인덱스가 높은 곳에 분포되어 있을 것으로 예상되는 요소를 찾는 경우에는 인덱스가 높은 곳부터 탐색을 수행하는 것이 더 효율적입니다. 그렇기 때문에 ",n.jsx(e.code,{children:"find()"})," method가 새로 추가되었습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [3, 4, 2, 1];

const f = arr.findLast((a) => {
    console.log('a:', a);
    return a === 1;
});

// a: 1

console.log(arr);
// [3, 4, 2, 1]
console.log(f);
// 1
`})}),`
`,n.jsx(e.p,{children:"로그를 보면, 인덱스가 높은 곳에서 부터 탐색을 하여 한 번의 탐색으로 원하는 결과를 얻었습니다."}),`
`,n.jsx(e.h2,{children:"findLastIndex"}),`
`,n.jsx(e.p,{children:"기존의 Array.prototype.findIndex():"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [3, 4, 2, 1];

const f_i = arr.findIndex((a) => {
    console.log('a:', a);
    return a === 1;
});

// a: 3
// a: 4
// a: 2
// a: 1

console.log(arr);
// [3, 4, 2, 1]
console.log(f_i);
// 3
`})}),`
`,n.jsxs(e.p,{children:["이 또한, 로그가 찍힌 것을 보면, 인덱스가 작은 순서부터 탐색을 수행한 것을 알 수 있습니다. 하지만 위 ",n.jsx(e.code,{children:"find()"})," 같은 이유로 ",n.jsx(e.code,{children:"findLastIndex()"})," method가 새로 추가되었습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`const arr = [3, 4, 2, 1];

const f_l_i = arr.findLastIndex((a) => {
    console.log('a:', a);
    return a === 1;
});

// a: 1

console.log(arr);
// [3, 4, 2, 1]
console.log(f_l_i);
// 3
`})}),`
`,n.jsx(e.p,{children:"로그를 보면, 인덱스가 높은 곳에서 부터 탐색을 하여 한 번의 탐색으로 원하는 결과를 얻었습니다."})]})}function lwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(yO,{...t})}):yO(t)}const cwe=je({});function hwe(){return n.jsx(Se,{children:n.jsx(lwe,{components:cwe})})}const uwe=ve("/_layout/til/javascript/ECMAScript-2023")({component:hwe,head:()=>({meta:[{title:"ECMAScript 2023"}]})});function vO(t){const e={h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Basic"}),`
`,n.jsx(e.p,{children:"HTTP는 확장 가능한 *프로토콜로 리소스 및 URI(Uniform Resource Identifier), 간단한 메시지 구조, 클라이언트-서버 통신 흐름과 같은 개념에 의존합니다. 이러한 기본 개념을 토대로, 새로운 HTTP 메서드나 헤더의 생성을 통해 새로운 기능과 새로운 의미를 더하는 수많은 확장들이 수년간 생겨났습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"*프로토콜은 컴퓨터 내부에서, 또는 컴퓨터 사이에서 데이터의 교환 방식을 정의하는 규칙 체계입니다. 기기 간 통신은 교환되는 데이터의 형식에 대해 상호 합의를 요구합니다. 이런 형식을 정의하는 규칙의 집합을 프로토콜이라고 합니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"HTTP 개요"}),`
`,n.jsx(e.p,{children:"HTTP는 HTML 문서와 같은 리소스들을 가져올 수 있도록 해주는 프로토콜입니다. HTTP는 웹에서 이루어지는 모든 데이터 교환의 기초이며, *클라이언트-서버 프로토콜이기도 합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"*클라이언트: 특정 자원을 요청하는 쪽. (웹 브라우저, 스마트폰, 태블릿, 데스크톱 애플리케이션 등)"}),`
`,n.jsx(e.li,{children:"*서버: 클라이언트의 요청에 응답으로 자원을 제공하는 쪽. (웹 서버, 데이터베이스 서버, 애플리케이션 서버 등)"}),`
`,n.jsx(e.li,{children:"*클라이언트-서버 프로토콜이란 (보통 웹브라우저인) 수신자 측에 의해 요청이 초기화되는 프로토콜을 의미합니다. 하나의 완전한 문서는 텍스트, 레이아웃 설명, 이미지, 비디오, 스크립트 등 불러온(fetched) 하위 문서들로 재구성됩니다."}),`
`]}),`
`,n.jsx(e.p,{children:"1990년대 초에 설계된 HTTP는 거듭하여 진화해온 확장 가능한 프로토콜입니다. HTTP는 애플리케이션 계층의 프로토콜로, 신뢰 가능한 전송 프로토콜이라면 이론상으로는 무엇이든 사용할 수 있으나 *TCP 혹은 암호화된 TCP 연결인 *TLS를 통해 전송됩니다. HTTP의 확장성 덕분에, 오늘날 하이퍼텍스트 문서 뿐만 아니라 이미지와 비디오 혹은 HTML 폼 결과와 같은 내용을 서버로 포스트(POST)하기 위해서도 사용됩니다. HTTP는 또한 필요할 때마다 웹 페이지를 갱신하기 위해 문서의 일부를 가져오는데 사용될 수도 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"TCP: Transmission Control Protocol. 인터넷 상에서 데이터를 메세지의 형태로 보내기 위해 IP와 함께 사용하는 프로토콜입니다. TCP는 IP와 함께 TCP/IP의 기본 프로토콜로서, IP가 데이터의 배달을 처리한다면 TCP는 패킷의 추적 및 전송을 담당합니다."}),`
`,n.jsx(e.li,{children:"TLS: Transport Layer Security. 네트워크 통신에서 주고받는 데이터를 암호화하는 목적으로 설계된 암호화 프로토콜입니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"HTTP의 기본"}),`
`,n.jsx(e.p,{children:"우리가 사용하는 인터넷 브라우저는 HTTP를 통해 서버로부터 웹 페이지를 가져옵니다. 브라우저는 사용자가 요청한 페이지의 주소를 입력받아, 서버에게 해당 페이지를 가져오라고 요청합니다. 서버는 요청받은 페이지를 찾아서 브라우저에게 보내줍니다. 이때 서버는 요청받은 페이지를 찾지 못했을 수도 있습니다. 이럴 경우 서버는 사용자에게 404 Not Found라는 메시지를 보내줍니다."}),`
`,n.jsx(e.p,{children:"이러한 일련의 과정은 위에서 설명하였듯이 HTTP 프로토콜을 통해 이루어집니다."}),`
`,n.jsx(e.h2,{children:"HTTP에서 제어할 수 있는 것"}),`
`,n.jsx(e.p,{children:"HTTP의 확장 가능한 특성은 수년 간에 걸쳐 웹의 점점 더 많은 기능들을 제어하도록 허용되어 왔습니다. 캐시 혹은 인증 메서드는 HTTP에 초기부터 제어해왔던 기능이며, 반면에 origin 제약사항을 완화시키는 조치는 2010년에 들어서 추가되었습니다."}),`
`,n.jsx(e.p,{children:"HTTP는 또한 새로운 기능을 추가하기 위해 확장되었습니다. 예를 들어, HTTP/1.1은 *쿠키와 *범용 리소스 식별자(URI)를 도입했으며, HTTP/2는 *서버 푸시와 *헤더 압축을 도입했습니다. 이러한 확장들은 HTTP의 기본적인 특성을 확장하거나, 더 나은 성능을 위해 새로운 기능을 추가하는 데 사용됩니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"*쿠키: 서버가 클라이언트의 요청에 대해 HTTP 헤더에 Set-Cookie를 통해 쿠키를 설정하면, 클라이언트는 이후 요청 시 HTTP 헤더에 Cookie를 포함하여 서버에게 쿠키를 전송합니다. 이를 통해 서버는 클라이언트를 식별하고, 클라이언트의 상태를 유지할 수 있습니다."}),`
`,n.jsx(e.li,{children:"*범용 리소스 식별자(URI): 인터넷에 있는 자원을 나타내는 유일한 주소입니다. URI는 URL과 URN으로 나뉩니다. URL은 리소스의 위치를 나타내고, URN은 리소스의 이름을 나타냅니다."}),`
`,n.jsx(e.li,{children:"*서버 푸시: 서버가 클라이언트의 요청에 대해 필요한 리소스를 클라이언트에게 미리 전송하는 기능입니다. 이를 통해 클라이언트는 서버로부터 리소스를 요청하지 않아도 되므로, 페이지 로딩 시간을 단축할 수 있습니다."}),`
`,n.jsx(e.li,{children:"*헤더 압축: HTTP/2에서 도입된 기능으로, 헤더를 압축하여 전송함으로써 네트워크 대역폭을 절약할 수 있습니다."}),`
`,n.jsx(e.li,{children:"*HTTP/1.1, HTTP/2: HTTP의 버전을 나타냅니다. HTTP/1.1은 1997년에 표준으로 제정되었으며, HTTP/2는 2015년에 표준으로 제정되었습니다."}),`
`,n.jsx(e.li,{children:"*HTTP 헤더: HTTP 요청이나 응답에 대한 부가적인 정보를 담고 있는 헤더입니다. 헤더는 키-값 쌍으로 이루어져 있으며, 헤더의 종류에 따라 요청 헤더와 응답 헤더로 나뉩니다."}),`
`]}),`
`,n.jsx(e.p,{children:"HTTP에서는 아래와 같은 기능을 제어할 수 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"캐시: HTTP로 문서가 캐시되는 방식을 제어할 수 있습니다. 서버는 캐시 대상과 기간을 프록시와 클라이언트에 지시할 수 있고 클라이언트는 저장된 문서를 무시하라고 중간 캐시 프록시에게 지시할 수 있습니다."}),`
`,n.jsx(e.li,{children:"origin 제약사항을 완화하기: *스누핑과 다른 프라이버시 침해를 막기 위해, 브라우저는 웹 사이트 간의 엄격한 분리를 강제합니다. 동일한 origin으로부터 온 페이지만이 웹 페이지의 전체 정보에 접근할 수 있죠. 그런 제약 사항은 서버에 부담이 되지만, HTTP 헤더를 통해 그것을 완화시킬 수 있습니다. 그런 덕분에 문서는 다른 도메인으로부터 전달된 정보를 패치워크할 수 있습니다(그렇게 하려면 어떤 경우에 보안과 관련된 사항이 있을 수도 있습니다)."}),`
`,n.jsx(e.li,{children:"인증: 어떤 페이지들은 보호되어 오로지 특정 사용자만이 그것에 접근할 수도 있습니다. 기본 인증은 HTTP를 통해 WWW-Authenticate (en-US) 또는 유사한 헤더를 사용해 제공되거나, HTTP 쿠키를 사용해 특정 세션을 설정하여 이루어질 수도 있습니다."}),`
`,n.jsx(e.li,{children:"프록시와 터널링: 서버 혹은 클라이언트 혹은 그 둘 모두는 종종 인트라넷에 위치하며 다른 개체들에게 그들의 실제 주소를 숨기기도 합니다. HTTP 요청은 네트워크 장벽을 가로지르기 위해 프록시를 통해 나가게 되죠. 모든 프록시가 HTTP 프록시는 아닙니다. 예를 들면 SOCKS 프로토콜은 좀 더 저수준에서 동작합니다. FTP와 같은 다른 프로토콜도 이 프록시를 통해 처리될 수 있습니다."}),`
`,n.jsx(e.li,{children:"세션: 쿠키 사용은 서버 상태를 요청과 연결하도록 해줍니다. 이것은 HTTP가 기본적으로 상태없는 프로토콜임에도 세션을 만들어주는 계기가 됩니다. 이것은 e-커머스 쇼핑 바구니를 위해서 유용할 뿐만 아니라 사용자 구성을 허용하는 모든 사이트에 대해서 유용합니다."}),`
`]})]})}function dwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(vO,{...t})}):vO(t)}const fwe=je({});function pwe(){return n.jsx(Se,{children:n.jsx(dwe,{components:fwe})})}const mwe=ve("/_layout/til/http/basic")({component:pwe,head:()=>({meta:[{title:"basic"}]})});function _O(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Pre Tag"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"<pre />"}),"는 미리 서식을 지정한 텍스트를 나타내며, HTML에 작성한 내용 그대로 표현합니다. 텍스트는 보통 고정폭 글꼴을 사용해 렌더링하고, 요소 내 공백문자를 그대로 유지합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<pre>
      ___________________________
    <      나는 강아지일까 소일까?      >
      ---------------------------
          \\   ^__^
           \\  (oo)\\_______
              (__)\\       )\\/\\
                  ||----w |
                  ||     ||
=========================================
</pre>
`})}),`
`,n.jsx(e.p,{children:"이렇게 작성하면 그래도 나온다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`      ___________________________
    <      나는 강아지일까 소일까?      >
      ---------------------------
          \\   ^__^
           \\  (oo)\\_______
              (__)\\       )\\/\\
                  ||----w |
                  ||     ||
=========================================
`})}),`
`,n.jsxs(e.p,{children:["다만, 접근성을 고려해서 위와 같은 그림이나 다이어그램인 경우에는 ",n.jsx(e.code,{children:"<figcaption>"}),", ARIA를 사용해서 설명을 달아주면 좋습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<pre role="img" aria-label="COW OR DOG">
      ___________________________
    <      나는 강아지일까 소일까?      >
      ---------------------------
          \\   ^__^
           \\  (oo)\\_______
              (__)\\       )\\/\\
                  ||----w |
                  ||     ||
=========================================
</pre>

<figcaption id="cow-or-dog-caption">
소인지 강아지인지 구분이 잘 안되는 동물 그림이 "나는 강아지일까 소일까?"라는 텍스트 상자를 띄우고 있다.
</figcaption>
`})})]})}function gwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(_O,{...t})}):_O(t)}const xwe=je({});function ywe(){return n.jsx(Se,{children:n.jsx(gwe,{components:xwe})})}const vwe=ve("/_layout/til/html/pre-tag")({component:ywe,head:()=>({meta:[{title:"pre tag"}]})});function bO(t){const e={h1:"h1",h2:"h2",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Popover Attribute"}),`
`,n.jsx(e.p,{children:"HTML의 popover 글로벌 속성은 요소를 팝오버 요소로 지정하는 데 사용됩니다. 이 요소들은 기본적으로 숨겨져 있으며, 제어 요소 또는 JavaScript 호출에 의해 활성화될 때 보이게 됩니다. 팝오버 요소들은 다른 컨텐츠 위에 나타나며, 부모 요소의 위치나 오버플로 스타일의 영향을 받지 않습니다. 이 속성은 “auto” (기본값) 또는 “manual” 값이 있으며, 이는 그들의 동작과 닫힘 방식을 결정합니다. 하지만 이 기능은 모든 주요 브라우저에서 일관되게 지원되지 않으므로 주의해서 사용해야 합니다."}),`
`,n.jsx(e.h2,{children:"Example"}),`
`,n.jsx(e.p,{children:"'''html"}),`
`,n.jsx("button",{popovertarget:"my-popover",children:"Open Popover"}),`
`,n.jsx("div",{popover:!0,id:"my-popover",children:"Greetings, one and all!"}),`
`,n.jsx(e.p,{children:"'''"}),`
`,n.jsx(e.h2,{children:"주의"}),`
`,n.jsx(e.p,{children:"firefox를 제외한 최신 브라우저에서 사용 가능합니다."})]})}function _we(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(bO,{...t})}):bO(t)}const bwe=je({});function jwe(){return n.jsx(Se,{children:n.jsx(_we,{components:bwe})})}const Swe=ve("/_layout/til/html/popover-attribute")({component:jwe,head:()=>({meta:[{title:"popover attribute"}]})});function jO(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Picture"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"<picture>"})," 태그는 ",n.jsx(e.code,{children:"<img />"})," 요소의 다중 이미지 리소스(multiple image resources)를 위한 컨테이너를 정의할 때 사용합니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"<picture>"})," 요소는 뷰포트(viewport)의 너비에 따라 커지거나 작아지는 하나의 이미지를 사용하는 대신 서로 다른 디스플레이나 기기에서 해당 뷰포트에 알맞게 채워질 수 있도록 여러 개의 이미지 중에서 적절한 이미지를 사용할 수 있도록 해줍니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"<picture>"})," 요소는 0개 이상의 ",n.jsx(e.code,{children:"<source>"})," 요소와 하나의 ",n.jsx(e.code,{children:"<img>"})," 요소로 구성되며, 브라우저는 ",n.jsx(e.code,{children:"<source>"})," 요소 중에서 해당 뷰포트와 가장 잘 어울리는 ",n.jsx(e.code,{children:"<source>"})," 요소를 다음과 같은 방법을 사용하여 선택합니다."]}),`
`,n.jsxs(e.p,{children:["브라우저는 ",n.jsx(e.code,{children:"<source>"})," 요소들의 속성값을 각각 확인해 나가며 조건을 만족하는 첫 번째 ",n.jsx(e.code,{children:"<source>"})," 요소를 사용하고, 나머지 ",n.jsx(e.code,{children:"<source>"})," 요소들은 무시합니다. 이 때 ",n.jsx(e.code,{children:"<img>"})," 요소는 ",n.jsx(e.code,{children:"<picture>"})," 요소의 자식 요소 중에서 가장 마지막에 위치해야 합니다. 이러한 ",n.jsx(e.code,{children:"<img>"})," 요소는 ",n.jsx(e.code,{children:"<picture>"})," 요소를 지원하지 않는 브라우저를 위한 하위 호환성(backward compatibility)을 위해 사용되거나 명시된 ",n.jsx(e.code,{children:"<source>"})," 요소가 모두 조건을 만족하지 못 할 경우 사용됩니다."]}),`
`,n.jsx(e.h2,{children:"예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<picture>
  <source media="(min-width: 650px)" srcset="img_pink_flowers.jpg" />
  <source media="(min-width: 465px)" srcset="img_white_flower.jpg" />
  <img src="img_orange_flowers.jpg" alt="Flowers" style="width:auto;" />
</picture>
`})}),`
`,n.jsx(e.p,{children:"설명하자면, 브라우저는 뷰포트의 너비가 650px 이상일 경우 img_pink_flowers.jpg를 사용하고, 465px 이상일 경우 img_white_flower.jpg를 사용하며, 두 조건을 모두 만족하지 못할 경우 img_orange_flowers.jpg를 사용합니다."})]})}function wwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(jO,{...t})}):jO(t)}const Twe=je({});function Cwe(){return n.jsx(Se,{children:n.jsx(wwe,{components:Twe})})}const Mwe=ve("/_layout/til/html/picture")({component:Cwe,head:()=>({meta:[{title:"picture"}]})});function SO(t){const e={blockquote:"blockquote",code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"New HTML Element: search"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"<search>"})," Element는 검색 또는 필터링에 사용되는 섹션을 나타냅니다. 여기에는 텍스트 입력, 드롭다운, 버튼 등의 양식 컨트롤이 포함되어야 하며, 검색 또는 필터링 범위는 한 문서에서부터 인터넷 전체에 이르기까지 무엇이든 될 수 있습니다."]}),`
`,n.jsx("details",{children:n.jsxs(e.p,{children:[n.jsx("summary",{children:"주의"}),`
만약, 검색된 결과만을 보여주기 위해서 Search Element를 사용하는 것은 적절하지 않습니다.`]})}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsxs(e.p,{children:[`Example 1
아래의 예시는 `,n.jsx(e.code,{children:"<form>"})," Element를 감싸기 위해서 ",n.jsx(e.code,{children:"<search>"})," Element를 사용하였습니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<search>
  <label for=s>Site</label>
  <input type=search id=s>
  <button>Go!</button>
</search>
`})}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:`Example 2
아래의 예시는 한 페이지에 두 가지 검색 영역을 같는 케이스 입니다.`}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<body>
  <header>
    ...
    <search title="Website">
      ...
    </search>
  </header>
  <main>
    <h1>Hotels near your location</h1>
     <search>
       <h2>Filter results</h2>
       ...
     </search>
     <article>
      <!-- search result content -->
    </article>
  </main>
</body>
`})}),`
`,n.jsxs(e.p,{children:["이 ",n.jsx(e.code,{children:"<search>"}),' Element는 2023년 5월 기준으로, 추가된지 얼마 되지 않는 스펙이기 때문에, 모든 브라우저에서 제공되지는 않습니다. 이 점을 고려하여 role="search"를 사용하는 방법도 좋은 방법입니다. 물론 점차 ',n.jsx(e.code,{children:"<search>"})," Element의 사용 하는것이 좋습니다."]})]})}function Ewe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(SO,{...t})}):SO(t)}const Awe=je({});function Rwe(){return n.jsx(Se,{children:n.jsx(Ewe,{components:Awe})})}const Lwe=ve("/_layout/til/html/new-html-element-search")({component:Rwe,head:()=>({meta:[{title:"new html element search"}]})});function wO(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Meta Tag Charset"}),`
`,n.jsx(e.p,{children:"HTML에서 Meta Tag Charset은 HTML 문서의 문자 인코딩을 지정하는 것이 가능합니다. 물론 보통 utf-8을 사용하기 때문에, 잘 모르고 있었던 내용이었지만, 다른 인코딩을 사용하거나, 특별한 경우에 필요할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"Syntax"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<meta charset="utf-8" />
`})}),`
`,n.jsx(e.p,{children:"설정 가능한 값은 다음과 같습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"utf-8"}),`
`,n.jsx(e.li,{children:"iso-8859-1"}),`
`,n.jsx(e.li,{children:"Windows-1252"}),`
`,n.jsx(e.li,{children:"..."}),`
`]})]})}function Dwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(wO,{...t})}):wO(t)}const kwe=je({});function Nwe(){return n.jsx(Se,{children:n.jsx(Dwe,{components:kwe})})}const Pwe=ve("/_layout/til/html/meta-tag-charset")({component:Nwe,head:()=>({meta:[{title:"meta tag charset"}]})});function TO(t){const e={h1:"h1",h2:"h2",li:"li",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Lazy Loading"}),`
`,n.jsx(e.h2,{children:"개요"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["HTML ",n.jsx("img",{}),' 태그의 loading="lazy" 속성 활용.']}),`
`,n.jsx(e.li,{children:"이미지가 브라우저 뷰포트에 나타날 때까지 로딩 지연."}),`
`]}),`
`,n.jsx(e.h2,{children:"장점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"초기 페이지 로딩 시간 감소."}),`
`,n.jsx(e.li,{children:"사용되지 않는 이미지의 리소스 절약."}),`
`,n.jsx(e.li,{children:"서버 부하 감소."}),`
`]}),`
`,n.jsx(e.h2,{children:"브라우저 지원"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"대부분의 최신 웹 브라우저에서 지원."}),`
`,n.jsx(e.li,{children:"추가적인 자바스크립트 구현 필요 없음."}),`
`]})]})}function Owe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(TO,{...t})}):TO(t)}const Bwe=je({});function Iwe(){return n.jsx(Se,{children:n.jsx(Owe,{components:Bwe})})}const Fwe=ve("/_layout/til/html/lazy-loading")({component:Iwe,head:()=>({meta:[{title:"lazy loading"}]})});function CO(t){const e={h1:"h1",li:"li",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Good image files on the web, SVG"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"SVG는 Short for Scalable Vector Graphics의 약자이며, 웹에서 2차원 그래픽을 그리기 위한 포맷입니다."}),`
`,n.jsx(e.li,{children:"SVG는 Zooming했을 때, vector이기 때문에 이미지가 깨지지 않습니다. raster images(.png, .jpg는 깨집니다.)"}),`
`,n.jsx(e.li,{children:"SVG 파일은 픽셀이 부족하므로 고품질 디지털 사진을 표현하기는 어렵습니다. 디테일이 풍부한 사진에는 JPEG 파일이 더 좋습니다."}),`
`]})]})}function Uwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(CO,{...t})}):CO(t)}const zwe=je({});function Hwe(){return n.jsx(Se,{children:n.jsx(Uwe,{components:zwe})})}const Vwe=ve("/_layout/til/html/good-image-files-on-the-web-SVG")({component:Hwe,head:()=>({meta:[{title:"good image files on the web SVG"}]})});function MO(t){const e={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h4:"h4",h5:"h5",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Basic"}),`
`,n.jsx(e.h2,{children:"HTML의 구조"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<p>my name is sunmin.</p>
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["위 태그에서 p를 ",n.jsx(e.code,{children:"<>"}),", ",n.jsx(e.code,{children:"</>"}),"로 감싸는 것을 ",n.jsx(e.strong,{children:"태그"}),"라고 한다."]}),`
`,n.jsxs(e.li,{children:["첫 번째 태그는 ",n.jsx(e.strong,{children:"시작 태그(Opening tag)"}),", 두 번째 태그는 **종료 태그(Closing tag)**라고 한다."]}),`
`,n.jsx(e.li,{children:"'my name is sunmin.'은 **내용(Content)**이라고 한다."}),`
`,n.jsx(e.li,{children:"태그와 내용을 합쳐 **요소(Element)**라고 한다."}),`
`,n.jsx(e.li,{children:"요소는 **요소 이름(Element name)**과 **속성(Attribute)**으로 구성된다."}),`
`,n.jsx(e.li,{children:"요소 이름은 **태그 이름(Tag name)**이라고도 한다."}),`
`,n.jsxs(e.li,{children:["요소 이름과 속성은 ",n.jsx(e.strong,{children:"대소문자를 구분하지 않는다"}),". (HTML5에서는 소문자로 통일)"]}),`
`,n.jsxs(e.li,{children:["몇몇 요소는 ",n.jsx(e.strong,{children:"종료 태그가 없다"}),". (예: br, hr, img)"]}),`
`,n.jsx(e.li,{children:"요소는 **중첩(Nesting)**될 수 있다."}),`
`,n.jsxs(e.li,{children:["요소는 ",n.jsx(e.strong,{children:"중첩되는 순서가 중요하다"}),"."]}),`
`,n.jsxs(e.li,{children:["요소는 ",n.jsx(e.strong,{children:"중첩되는 순서에 따라 의미가 달라진다"}),"."]}),`
`,n.jsxs(e.li,{children:["요소는 ",n.jsx(e.strong,{children:"중첩되는 순서에 따라 브라우저에 표시되는 모습이 달라진다"}),".",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["예: ",n.jsx(e.code,{children:"<strong><em>안녕하세요</em></strong>"})," vs ",n.jsx(e.code,{children:"<em><strong>안녕하세요</strong></em>"})]}),`
`,n.jsxs(e.li,{children:["전자는 ",n.jsx(e.strong,{children:"굵은 글씨로 강조"}),"되고, 후자는 ",n.jsx(e.strong,{children:"기울임꼴로 강조"}),"된다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"Glossary"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.em,{children:"메타데이터"}),": 데이터를 설명하는 데이터 예를 들어, HTML은 데이터입니다. 그리고 HTML의 ",n.jsx(e.code,{children:"<head>"})," 안에는 문서 작성자나 문서 요약과 같이 문서를 설명하는 데이터, 즉 메타데이터를 넣을 수 있습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Global attributes: 모든 HTML 요소에 사용할 수 있는 속성"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"evnet-handler: 이벤트 핸들러 속성은 이벤트가 발생했을 때 실행할 스크립트를 지정합니다."}),`
`,n.jsxs(e.li,{children:["accesskey: 요소에 키보드 단축키를 지정합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<button accesskey="b">버튼</button>'})]}),`
`,n.jsx(e.li,{children:"운영체제, 브라우저에 따라 단축키를 사용하는 방법이 다릅니다."}),`
`,n.jsxs(e.li,{children:["예시로서 Mac + Chrome에서는 ",n.jsx(e.code,{children:"control + option + b"}),"를 누르면 버튼 클릭 이벤트와 동일한 이벤트가 발생합니다."]}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"id: 요소의 고유한 식별자를 나타냅니다."}),`
`,n.jsx(e.li,{children:"class: 요소의 클래스를 나타냅니다."}),`
`,n.jsx(e.li,{children:"style: 요소에 적용할 CSS 스타일을 나타냅니다."}),`
`,n.jsx(e.li,{children:"title: 요소와 관련된 추가 정보를 나타냅니다."}),`
`,n.jsx(e.li,{children:"lang: 요소의 언어를 나타냅니다."}),`
`,n.jsx(e.li,{children:"..."}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes",children:"책깔피"})}),`
`,n.jsx(e.h2,{children:"Tags"}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<!DOCTYPE html>"})}),`
`,n.jsx(e.p,{children:"이 태그는 html파일의 가장 첫 줄에 위치해야 하며, doctype은 자동 오류 확인이나 다른 유용한 것을 의미하는 좋은 HTML로 인정받기 위해 HTML 페이지가 따라야 할 일련의 규칙으로의 연결통로로써 작동하는 것을 의미하였습니다."}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<html></html>"})}),`
`,n.jsx(e.p,{children:"이 요소는 페이지 전체의 콘텐츠를 감싸며, 루트(root) 요소라고도 합니다."}),`
`,n.jsx(e.h5,{children:"속성"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"lang: 이 lang 속성은 스크린 리더와 같은 보조 기술을 사용하는 사람들에게 문서가 어떤 언어로 작성되었는지 알려주며, 검색 엔진에게도 도움이 됩니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<html lang="ko">
  ...
</html>
`})}),`
`,n.jsx(e.p,{children:"이 외에도 manifest, xmlns, xmlns:xlink 등의 속성이 있지만, 최근에는 사용되지 않는 속성들이므로 생략하도록 하겠습니다."}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<head></head>"})}),`
`,n.jsx(e.p,{children:"이 요소는 문서에 대한 메타데이터를 포함하며, 문서 제목, 스크립트, 스타일 시트, 기타 메타 정보를 포함할 수 있습니다."}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsxs(e.p,{children:["참고: ",n.jsx(e.code,{children:"<head>"}),"의 주 목적은 기계 처리를 위한 정보이고, 사람이 읽을 수 있는 정보가 아닙니다. 최상위 제목, 작성자 목록 등 사람에게 보여야 할 정보는 ",n.jsx(e.code,{children:"<header>"})," 요소를 사용하세요."]}),`
`]}),`
`,n.jsxs(e.p,{children:["또힌. 사용되는 문서가 ",n.jsx(e.code,{children:"<iframe>"}),", srcdoc 문서거나, 제목 정보가 더 높은 단계의 규약에 존재하는 경우(HTML 이메일의 제목처럼) 0개 이상의 메타에이터 콘텐츠."]}),`
`,n.jsxs(e.p,{children:["이외에는 하나 이상의 메타데이터 콘텐츠. 단, 정확히 한 개의 ",n.jsx(e.code,{children:"<title>"})," 요소를 포함해야 합니다."]}),`
`,n.jsx(e.h5,{children:"속성"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["profile: 이 profile 속성은 문서에 대한 프로필 링크를 정의합니다. 이 속성은 더 이상 사용되지 않으며, 대신 ",n.jsx(e.code,{children:'<link rel="profile">'}),"을 사용하세요."]}),`
`]}),`
`,n.jsx(e.h5,{children:"Example"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<!DOCTYPE html>
<html>
  <head>
    <title>문서 제목</title>
  </head>
</html>
`})}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<meta>"})}),`
`,n.jsxs(e.p,{children:["HTML ",n.jsx(e.code,{children:"<meta>"})," 요소는 ",n.jsx(e.code,{children:"html"}),"문서의 ",n.jsx(e.em,{children:"메타데이터"}),"를 나타냅니다."]}),`
`,n.jsx(e.h5,{children:"속성"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:'charset: 페이지의 문자 인코딩을 선언합니다. 이 특성이 존재할 경우, 그 값은 반드시 문자열 "utf-8"의 대소문자 구분 없는 ASCII 표현이어야 합니다.'}),`
`,n.jsx(e.li,{children:"name: 메타 요소가 어떤 정보의 형태를 갖고 있는지 알려줍니다."}),`
`,n.jsx(e.li,{children:"content: 실제 메타데이터의 컨텐츠입니다."}),`
`]}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"facebook에서는 더 풍부한 메타데이터를 사용하기 위해서 아래와 같은 프로토콜을 사용하고 있습니다."}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://ogp.me/",children:"Open Graph Data"})}),`
`]}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<title></title>"})}),`
`,n.jsx(e.p,{children:"이 요소는 문서의 제목을 정의합니다. 제목은 브라우저의 제목 표시줄이나 페이지의 탭에 표시됩니다. 또한 검색 엔진의 결과 페이지에 표시됩니다."}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<link>"})}),`
`,n.jsxs(e.p,{children:["이 요소는 ",n.jsx(e.code,{children:"<head/>"})," 내부에 선언되며, 현재 문서와 외부 리소스의 관계를 정의합니다. 파비콘, 스타일 시트, 스크립트 등을 연결할 때 사용합니다."]}),`
`,n.jsx(e.p,{children:"아래의 예시는 파비콘을 연결하는 예시입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<link rel="shortcut icon" href="favicon.ico" type="image/x-icon" 
  sizes="16x16 32x32"
/>
`})}),`
`,n.jsx(e.p,{children:"아래 예시는 스타일 시트를 연결하는 예시입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<link rel="stylesheet" href="styles.css" />
`})}),`
`,n.jsx(e.p,{children:"아래 예시는 자바스크립트를 연결하는 예시입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<link rel="preload" href="script.js" as="script" />
`})}),`
`,n.jsx(e.h5,{children:"속성"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"rel: 현재 문서와 링크된 문서 사이의 관계를 나타냅니다."}),`
`,n.jsx(e.li,{children:"href: 링크된 리소스의 URL을 나타냅니다."}),`
`,n.jsx(e.li,{children:"type: 링크된 리소스의 MIME 타입을 나타냅니다."}),`
`,n.jsx(e.li,{children:"sizes: 링크된 리소스의 크기를 나타냅니다."}),`
`,n.jsxs(e.li,{children:["as: ",n.jsx(e.code,{children:"<link>"}),' 요소에 rel="preload" 또는 rel="modulepreload" 특성을 지정했을 때만 사용합니다 as 특성은 ',n.jsx(e.code,{children:"<link>"}),' 요소가 불러오는 콘텐츠의 유형을 지정합니다. 요청 매칭, 올바른 콘텐츠 보안 정책의 적용, 올바른 Accept 요청 헤더 적용에 필요합니다. 이에 더해, rel="preload"는 as 특성을 사용해 요청 우선순위를 매깁니다. 다음 표는 특성의 유효한 값과, 해당 값이 적용되는 요소 또는 리소스를 나열합니다.']}),`
`,n.jsxs(e.li,{children:["crossorigin: 리소스를 가져올 때 CORS를 사용해야 하는지 나타내는 열거형 특성입니다. CORS 활성화 이미지는 ",n.jsx(e.code,{children:"<canvas>"}),' 요소를 "오염"(taint)시키지 않고 재사용할 수 있습니다. 가능한 값은 다음과 같습니다.']}),`
`,n.jsx(e.li,{children:"anonymous, use-credentials: 교차 출처 요청(Origin HTTP 헤더를 가진 요청)을 수행하지만 인증 정보, 즉 쿠키, X.509 인증서, HTTP Basic 인증 중 어떠한 것도 전송하지 않습니다. 서버에서 Access-Control-Allow-Origin HTTP 헤더를 설정하지 않아서 출처 사이트에 인증 정보를 전달하지 않으면 리소스가 오염되어 사용처가 제한됩니다."}),`
`,n.jsx(e.li,{children:"hreflang: 연결할 리소스가 사용하는 언어입니다. 오직 제안하는 용도로만 사용합니다. 가능한 값은 RFC 5646(BCP 47)에 따릅니다. href 특성이 존재할 때만 사용하세요."}),`
`,n.jsx(e.li,{children:'imagesizes: rel="preload" 와 as="image" 에 한하여, imagesizes 특성은 img 요소에 사용되는 적절한 리소스를 해당 srcset 과 sizes 특성으로 preload 하도록 하는 크기 특성입니다.'}),`
`,n.jsx(e.li,{children:'imagesrcset: rel="preload" 와 as="image" 에 한하여, imagesrcset 특성은 img 요소에 사용되는 적절한 리소스를 해당 srcset 과 sizes 특성으로 preload 하도록 하는 소스 세트 특성입니다.'}),`
`,n.jsx(e.li,{children:"integrity: 인라인 메타데이터를 포함합니다. 브라우저에게 가져오도록 지시하려는 리소스(파일)의 Base64로 인코딩된 암호학적 해시입니다. 이를 이용해 브라우저는 가져온 리소스가 예기치 못한 조작 없이 전달되었는지 확인할 수 있습니다. 하위 리소스 무결성을 참고하십시오."}),`
`,n.jsxs(e.li,{children:["referrerpolicy:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"no-referrer 는 Referer 헤더가 전달되지 않을 것을 의미합니다."}),`
`,n.jsx(e.li,{children:"no-referrer-when-downgrade 는 TLS (HTTPS) 없이 출처로 이동할 때 Referer 헤더가 전달되지 않을 것을 의미합니다. 이것은 따로 지정한 정책이 없는 경우의 사용자 에이전트 기본 동작입니다."}),`
`,n.jsx(e.li,{children:"origin 은 레퍼러가 페이지의 출처(대략적으로 scheme, host, port)가 됨을 의미합니다."}),`
`,n.jsx(e.li,{children:"origin-when-cross-origin 은 다른 출처로의 이동이 scheme, host, port로 제한되며, 같은 출처로의 이동에는 레퍼러의 경로가 포함됨을 의미합니다."}),`
`,n.jsx(e.li,{children:"unsafe-url 은 레퍼러에 출처와 경로 (fragment, password, username은 제외)가 포함됨을 의미합니다. 이 경우 TLS로 보호된 리소스의 출처와 경로가 안전하지 않은 출처로 유출될 수 있으므로 안전하지 않습니다."}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:'media: 연결할 리소스가 사용하는 미디어나 장치를 나타냅니다. 이 특성은 rel="stylesheet" 일 때만 사용합니다. 이 특성을 사용해 미디어 유형이나 쿼리를 지정할 수도 있습니다. 그러면 해당 미디어 조건을 만족할 때만 리소스를 불러옵니다.'}),`
`,n.jsxs(e.li,{children:["title: title 특성은 ",n.jsx(e.code,{children:"<link>"}),' 요소에서 특수한 의미를 가집니다. rel="stylesheet" 에 사용되었을 경우, title은 기본 혹은 대체 스타일시트를 정의합니다.']}),`
`]}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<body></body>"})}),`
`,n.jsx(e.p,{children:"이 요소는 문서의 본문을 나타냅니다. 브라우저는 이 요소의 콘텐츠 즉, 보여지는 부분을 표시합니다. 그렇기 때문에, 보여지는 부분의 전역적인 콜백을 정의하는 것이 가능합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:`onafterprint
사용자가 문서를 출력한 뒤 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onbeforeprint
사용자가 문서 출력을 요청했을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onblur
문서가 포커스를 상실했을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onerror
문서를 제대로 불러오지 못했을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onfocus
문서가 포커스를 받을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onhashchange
문서의 현재 주소 중 Fragment identifier part(해시('#') 문자로 시작)가 변경됐을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onlanguagechange Experimental
선호 언어 변경 시 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onload
문서를 다 불러왔을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onmessage
문서가 메시지를 받았을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onoffline
네트워크 연결이 끊겼을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`ononline
네트워크 연결을 복구했을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onpopstate
사용자가 세션 기록을 따라 이동했을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onundo
사용자가 되돌리기 변경 기록(undo transaction history)에서 이전으로 이동했을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onredo
사용자가 되돌리기 변경 기록(undo transaction history)에서 다시 이후로 이동했을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onresize
문서의 크기가 바뀔 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onstorage
저장 영역이 변경되었을 때 호출할 함수.`}),`
`,n.jsx(e.li,{children:`onunload
문서를 처분(unload) 중일 때 호출할 함수.`}),`
`]}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<h1, 2, 3, 4, 5, 6></h1, 2, 3, 4, 5, 6>"})}),`
`,n.jsxs(e.p,{children:["이 요소는 문서의 섹션 제목을 나타냅니다. ",n.jsx(e.code,{children:"<h1>"}),"은 가장 중요한 제목을 나타내며, ",n.jsx(e.code,{children:"<h6>"}),"은 가장 낮은 수준의 제목을 나타냅니다."]}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<img>"})}),`
`,n.jsx(e.p,{children:"이 요소는 이미지를 문서에 삽입합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"src: 이미지의 URL을 나타냅니다."}),`
`,n.jsx(e.li,{children:"alt: 이미지를 불러오지 못 할 경우에 대체 텍스트를 나타냅니다."}),`
`,n.jsx(e.li,{children:"width: 이미지의 너비를 나타냅니다."}),`
`,n.jsx(e.li,{children:"height: 이미지의 높이를 나타냅니다."}),`
`,n.jsxs(e.li,{children:["srcset: 같은 비율의 다양한 크기를 가지는 동일 이미지들을 최소 2개 이상 명시하는 속성",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"브라우저에 이미지 선택권을 위임하는 속성"}),`
`,n.jsx(e.li,{children:"뷰포트의 크기에 따라 다른 이미지를 보여주는 것을 가능하게 합니다."}),`
`,n.jsx(e.li,{children:"브라우저가 지원하지 않는 경우에는 src 속성을 사용합니다."}),`
`,n.jsx(e.li,{children:"브라우저가 srcset을 지원하지 않는 경우에는 src 속성을 사용합니다."}),`
`,n.jsxs(e.li,{children:["예를들면, 이렇게 사용하면 됩니다. ",n.jsx(e.code,{children:'<img src="small.jpg" srcset="medium.jpg 1000w, large.jpg 2000w" alt="A rad wolf">'})]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["sizes: 이미지의 크기를 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<img src="small.jpg" sizes="(max-width: 600px) 200px, (max-width: 1000px) 400px, 800px" alt="A rad wolf">'})]}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"crossorigin: 이미지를 가져올 때 CORS를 사용할지 여부를 나타냅니다."}),`
`,n.jsx(e.li,{children:"usemap: 이미지와 연결된 이미지 맵을 나타냅니다."}),`
`,n.jsx(e.li,{children:"ismap: 이미지가 이미지 맵을 나타내는지 여부를 나타냅니다."}),`
`,n.jsx(e.li,{children:'anonymous: 자격 증명 없이 교차 출처 요청을 전송합니다. 즉, Origin HTTP 헤더를 쿠키, X.509 인증서, HTTP Basic 인증 없이 전송합니다. 서버에서 Access-Control-Allow-Origin HTTP 헤더를 지정하지 않음으로써 요청 출처 사이트에 자격 증명을 보내지 않는다면 이미지는 "오염"되고, 사용처가 제한됩니다.'}),`
`,n.jsx(e.li,{children:'use-credentials: 자격 증명과 함께 교차 출처 요청을 전송합니다. 즉, Origin HTTP 헤더를 쿠키, X 509 인증서, 또는 HTTP Basic 이증과 함께 전송합니다. 서버에서 Access-Control-Allow-Credentials HTTP 헤더를 통한 자격 증명을 요청 출처 사이트에 보내지 않는다면 이미지는 "오염"되고, 사용처가 제한됩니다.'}),`
`,n.jsxs(e.li,{children:["decoding: 이미지 디코딩에 관해 브라우저에 제공할 힌트. 가능한 값은 다음과 같습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"auto: 브라우저가 이미지를 디코딩하는 방법을 결정합니다."}),`
`,n.jsx(e.li,{children:"sync: 이미지를 동기적으로 디코딩합니다."}),`
`,n.jsx(e.li,{children:"async: 이미지를 비동기적으로 디코딩합니다."}),`
`,n.jsxs(e.li,{children:["예시: ",n.jsx(e.code,{children:'<img src="image.png" decoding="async" alt="A rad wolf">'})]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["loading: 이미지 로딩 전략을 나타냅니다. 가능한 값은 다음과 같습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"auto: 브라우저가 이미지 로딩 전략을 결정합니다."}),`
`,n.jsx(e.li,{children:"eager: 이미지를 즉시 로딩합니다."}),`
`,n.jsx(e.li,{children:"lazy: 이미지를 지연 로딩합니다."}),`
`,n.jsxs(e.li,{children:["예시: ",n.jsx(e.code,{children:'<img src="image.png" loading="lazy" alt="A rad wolf">'})]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<h1, 2, 3, 4, 5, 6></h1, 2, 3, 4, 5, 6>"})}),`
`,n.jsxs(e.p,{children:["이 요소는 문서의 섹션 제목을 나타냅니다. ",n.jsx(e.code,{children:"<h1>"}),"은 가장 중요한 제목을 나타내며, ",n.jsx(e.code,{children:"<h6>"}),"은 가장 낮은 수준의 제목을 나타냅니다."]}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<p></p>"})}),`
`,n.jsx(e.p,{children:"이 요소는 문단을 나타냅니다."}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<a></a>"})}),`
`,n.jsx(e.p,{children:"이 요소는 하이퍼링크를 나타냅니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["href: 링크의 URL을 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["sheme: 링크의 URL의 스키마를 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="https://developer.mozilla.org/">MDN</a>'})]}),`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="mailto: [email protected]">Send email</a>'})]}),`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="tel:+12015550123">Call me</a>'})]}),`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="sms:+12015550123">Send a message</a>'})]}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["target: 링크를 열 위치를 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"_self: 현재 창에서 링크를 엽니다."}),`
`,n.jsx(e.li,{children:"_blank: 새 창에서 링크를 엽니다."}),`
`,n.jsx(e.li,{children:"_parent: 부모 창에서 링크를 엽니다."}),`
`,n.jsx(e.li,{children:"_top: 최상위 창에서 링크를 엽니다. 부모 window가 없으면 _self와 같은 효과를 냅니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["download: 링크를 다운로드할 때 사용할 파일 이름을 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="image.png" download="radwolf.png">Download</a>'})]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["rel: 현재 문서와 링크된 문서 사이의 관계를 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="https://developer.mozilla.org/" rel="external">MDN</a>'})]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["type: 링크된 리소스의 MIME 타입을 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="image.png" type="image/png">Download</a>'})]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["referrerpolicy: 링크된 리소스에 대한 referrer 정보를 제어합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="https://developer.mozilla.org/" referrerpolicy="no-referrer">MDN</a>'})]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["ping: 링크된 리소스에 대한 클릭 정보를 전송합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="https://developer.mozilla.org/" ping="https://example.com/tracker">MDN</a>'})]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["hreflang: 링크된 리소스의 언어를 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<a href="https://developer.mozilla.org/" hreflang="en">MDN</a>'})]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<li></li>"})}),`
`,n.jsx(e.p,{children:"이 요소는 목록의 항목을 나타냅니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["value: 항목의 순서를 나타냅니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["사용 예시: ",n.jsx(e.code,{children:'<ol><li value="2">두 번째 항목</li></ol>'})]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<ul></ul>"})}),`
`,n.jsx(e.p,{children:"이 요소는 순서 없는 목록을 나타냅니다. unordered list의 약자입로서 순서가 없는 목록을 나타냅니다."}),`
`,n.jsx(e.h4,{children:n.jsx(e.code,{children:"<ol></ol>"})}),`
`,n.jsx(e.p,{children:"이 요소는 순서 있는 목록을 나타냅니다. ordered list의 약자로서 순서가 있는 목록을 나타냅니다."})]})}function Gwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(MO,{...t})}):MO(t)}const $we=je({});function qwe(){return n.jsx(Se,{children:n.jsx(Gwe,{components:$we})})}const Wwe=ve("/_layout/til/html/basic")({component:qwe,head:()=>({meta:[{title:"basic"}]})});function EO(t){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{children:["Thinking in Graphs ",n.jsx(e.a,{href:"https://graphql.org/learn/thinking-in-graphs/",children:"번역"})]}),`
`,n.jsx(e.h2,{children:"층층이 쌓여있는 그래프"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"GraphQL을 사용하면 비즈니스 도메인을 Graph로 모델링할 수 있습니다."}),`
`]}),`
`,n.jsx(e.p,{children:"그래프는 우리의 자연스러운 정신 모델과 기본 프로세스에 대한 언어적 설명과 유사하기 때문에 많은 실제 현상을 모델링하는 데 강력한 도구입니다. GraphQL을 사용하면 스키마를 정의하여 비즈니스 도메인을 그래프로 모델링하고, 스키마 내에서 다양한 유형의 노드와 이들이 서로 연결/관련되는 방식을 정의할 수 있습니다. 클라이언트에서는 객체 지향 프로그래밍과 유사한 패턴, 즉 다른 유형을 참조하는 유형이 생성됩니다. 서버에서는 GraphQL이 인터페이스만 정의하기 때문에 모든 백엔드(신규 또는 레거시!)에서 자유롭게 사용할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"공유 언어"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"어떤 것의 이름을 지정하는 것은 직관적인 API를 구축하는 데 있어 어렵지만 중요한 부분입니다."}),`
`]}),`
`,n.jsx(e.p,{children:"GraphQL 스키마는 팀과 사용자를 위한 표현력 있는 공유 언어라고 생각하세요. 좋은 스키마를 구축하려면 비즈니스를 설명하는 데 사용하는 일상적인 언어를 살펴보세요. 예를 들어 이메일 앱을 평이한 말로 설명해 봅시다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"사용자는 여러 개의 이메일 계정을 가질 수 있습니다."}),`
`,n.jsx(e.li,{children:"각 이메일 계정에는 주소, 받은 편지함, 임시 보관함, 삭제된 항목, 보낸 항목이 있습니다."}),`
`,n.jsx(e.li,{children:"각 이메일에는 발신자, 수신 날짜, 제목 및 본문이 있습니다."}),`
`,n.jsx(e.li,{children:"사용자는 받는 사람 주소가 없으면 이메일을 보낼 수 없습니다."}),`
`]}),`
`,n.jsx(e.p,{children:"이름을 짓는 것은 직관적인 API를 구축하는 데 있어 어렵지만 중요한 부분이므로, 문제 도메인과 사용자에게 적합한 이름이 무엇인지 신중하게 생각해 보세요. GraphQL 스키마에서 노드와 관계에 대해 직관적이고 내구성 있는 이름을 선택해야 하므로 팀은 이러한 비즈니스 도메인 규칙에 대한 공유된 이해와 합의를 개발해야 합니다. 실행하고자 하는 몇 가지 쿼리를 상상해 보세요:"}),`
`,n.jsx(e.p,{children:"내 모든 계정의 받은 편지함에 있는 읽지 않은 이메일 수 가져오기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`{
  accounts {
    inbox {
      unreadEmailCount
    }
  }
}
`})}),`
`,n.jsx(e.p,{children:"메인 계정에서 처음 20개의 초안에 대한 '미리 보기 정보'를 가져옵니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`{
  mainAccount {
    drafts(first: 20) {
      ...previewInfo
    }
  }
}
 
fragment previewInfo on Email {
  subject
  bodyPreviewSentence
}
`})}),`
`,n.jsx(e.h2,{children:"비즈니스 로직 계층"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"비즈니스 로직 계층은 비즈니스 도메인 규칙을 적용하기 위한 단일 소스 역할을 해야 합니다."}),`
`]}),`
`,n.jsx(e.p,{children:"실제 비즈니스 로직을 어디에 정의해야 할까요? 유효성 검사 및 권한 확인은 어디에서 수행해야 할까요? 정답은 전용 비즈니스 로직 계층 내부입니다. 비즈니스 로직 계층은 비즈니스 도메인 규칙을 적용하기 위한 단일 소스 역할을 해야 합니다."}),`
`,n.jsx(e.h2,{children:"레거시 데이터로 작업하기"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"레거시 데이터베이스 스키마를 미러링하는 대신 클라이언트가 데이터를 사용하는 방식을 설명하는 GraphQL 스키마를 구축하는 것을 선호합니다."}),`
`]}),`
`,n.jsx(e.p,{children:"클라이언트가 데이터를 소비하는 방식을 완벽하게 반영하지 않는 레거시 데이터 소스로 작업하는 경우가 있습니다. 이러한 경우에는 레거시 데이터베이스 스키마를 미러링하는 대신 클라이언트가 데이터를 사용하는 방식을 설명하는 GraphQL 스키마를 구축하는 것이 좋습니다."}),`
`,n.jsx(e.p,{children:"'무엇'이 아닌 '어떻게'를 표현하도록 GraphQL 스키마를 구축하세요. 그러면 이전 클라이언트와의 인터페이스를 손상시키지 않고도 구현 세부 사항을 개선할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"One Step at a time"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"더 자주 유효성 검사 및 피드백 받기"}),`
`]}),`
`,n.jsx(e.p,{children:"전체 비즈니스 도메인을 한 번에 모델링하려고 하지 마세요. 그보다는 한 번에 하나의 시나리오에 필요한 스키마 부분만 구축하세요. 스키마를 점진적으로 확장하면 검증과 피드백을 더 자주 받아 올바른 솔루션을 구축하는 방향으로 나아갈 수 있습니다."})]})}function Xwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(EO,{...t})}):EO(t)}const Ywe=je({});function Kwe(){return n.jsx(Se,{children:n.jsx(Xwe,{components:Ywe})})}const Zwe=ve("/_layout/til/graphql/thinking-in-graphs")({component:Kwe,head:()=>({meta:[{title:"thinking in graphs"}]})});function AO(t){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to search for repo using public api"}),`
`,n.jsx(e.p,{children:"github에서 제공하는 Public REST API를 사용하여 github의 자원을 fetch할 수 있는 방법을 알아 보았습니다."}),`
`,n.jsx(e.p,{children:"제가 알아본 것은 간단한 Repository의 자원을 fetch하는 방법이었고, readme 뿐만 아니라, Repository의 특정 경로의 파일또한 조회하는 것이 가능했습니다."}),`
`,n.jsx(e.h2,{children:"API Ruel"}),`
`,n.jsx(e.h3,{children:"특정 Repository의 README 파일을 조회하는 경우"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"GET /repos/:owner/:repo/readme"}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Example"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`fetch('https://api.github.com/repos/gitsunmin/til/readme')
  .then(res => res.json())
  .then((json) => {
    fetch(json.download_url)
      .then(res => res.text())
      .then(console.log)
  })
  .catch(console.error)
`})}),`
`,n.jsx(e.h3,{children:"특정 Repository의 특정 경로의 파일을 조회하는 경우"}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"GET /repos/:owner/:repo/contents/:path"}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Example"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`fetch('https://api.github.com/repos/gitsunmin/til/contents/flutter/assert.md')
  .then(res => res.json())
  .then((json) => {
    fetch(json.download_url)
      .then(res => res.text())
      .then(console.log)
  })
  .catch(console.error)
`})})]})}function Qwe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(AO,{...t})}):AO(t)}const Jwe=je({});function eTe(){return n.jsx(Se,{children:n.jsx(Qwe,{components:Jwe})})}const tTe=ve("/_layout/til/github/how-to-search-for-repo-using-public-api")({component:eTe,head:()=>({meta:[{title:"how to search for repo using public api"}]})});function RO(t){const e={code:"code",h1:"h1",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Switch"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"git switch"}),"는 Git에서 브랜치를 전환할 때 사용하는 명령어입니다. 기존에는 ",n.jsx(e.code,{children:"git checkout"})," 명령어로 브랜치 전환을 했지만, ",n.jsx(e.code,{children:"git switch"}),"는 브랜치 관련 작업을 더 명확하게 하기 위해 도입된 새로운 명령어입니다. ",n.jsx(e.code,{children:"git checkout"}),"은 브랜치 전환뿐만 아니라 파일 체크아웃 등 다양한 기능을 포함하고 있어 혼란을 줄 수 있었는데, ",n.jsx(e.code,{children:"git switch"}),"는 브랜치 전환만을 위한 명령어입니다."]}),`
`,n.jsx(e.h3,{children:"주요 사용법:"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"기존 브랜치로 전환:"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git switch 브랜치이름
`})}),`
`,n.jsx(e.p,{children:"현재 작업 중인 브랜치에서 다른 브랜치로 전환할 수 있습니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"새 브랜치 생성 및 전환:"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git switch -c 새브랜치이름
`})}),`
`,n.jsx(e.p,{children:"새로운 브랜치를 만들고 동시에 그 브랜치로 전환할 수 있습니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"기존 브랜치로의 전환을 강제:"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git switch -f 브랜치이름
`})}),`
`,n.jsx(e.p,{children:"작업 중인 변경 사항을 무시하고 강제로 브랜치를 전환할 수 있습니다."}),`
`]}),`
`]}),`
`,n.jsxs(e.h3,{children:[n.jsx(e.code,{children:"git switch"}),"와 ",n.jsx(e.code,{children:"git checkout"})," 비교:"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"git checkout"}),"은 브랜치 전환 외에도 특정 커밋이나 파일을 워킹 디렉토리로 복원하는 등 다양한 작업을 수행할 수 있지만, ",n.jsx(e.code,{children:"git switch"}),"는 오직 브랜치 전환을 위해 사용됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"git switch"}),"는 Git 2.23.0 버전에서 도입되었습니다."]}),`
`]}),`
`,n.jsxs(e.p,{children:["브랜치 관리를 보다 직관적으로 하고 싶을 때 ",n.jsx(e.code,{children:"git switch"}),"를 사용하면 좋습니다."]})]})}function nTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(RO,{...t})}):RO(t)}const iTe=je({});function rTe(){return n.jsx(Se,{children:n.jsx(nTe,{components:iTe})})}const sTe=ve("/_layout/til/git/switch")({component:rTe,head:()=>({meta:[{title:"switch"}]})});function LO(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"submodule"}),`
`,n.jsx(e.p,{children:"submodule은 git repository를 다른 git repository의 하위 디렉토리로 사용할 수 있게 해주는 기능을 말합니다."}),`
`,n.jsx(e.p,{children:"사용법은 다음과 같습니다."}),`
`,n.jsx(e.h2,{children:"submodule 초기화하기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git submodule init
`})}),`
`,n.jsx(e.p,{children:"submodule과 관련된 기본적인 로컬 환경설정 파일을 준비합니다."}),`
`,n.jsx(e.h2,{children:"submodule 추가하기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git submodule add <repositoryURL> <path>
`})}),`
`,n.jsx(e.p,{children:"이렇게만 하면, 해당 path에 해당 repository의 내용이 clone됩니다."}),`
`,n.jsx(e.h2,{children:"submodule의 내용을 가져오기"}),`
`,n.jsx(e.p,{children:"submodule의 내용을 추가한 후에 변경이 되었다면 새로 submodule을 가져와야 합니다. 아래 명령어를 사용하면 fetch후에 merge까지 해줍니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git submodule update --remote <path>
`})}),`
`,n.jsx(e.p,{children:"참고, 여기서 path를 입력하지 않으면 모든 submodule을 가져옵니다."}),`
`,n.jsx(e.p,{children:"만약에, 수정을 한 뒤에 기존 저장소에서 변경된 내용을 가져오고 싶다면, 아래 명령어를 사용합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git submodule update --remote --merge <path>
`})}),`
`,n.jsx(e.h2,{children:"submodule에 포함된 repository, clone하기"}),`
`,n.jsx(e.p,{children:"submodule에 포함된 repository를 clone하기 위해서는 아래 명령어를 사용합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git clone --recurse-submodules <repositoryURL>
`})}),`
`,n.jsx(e.h2,{children:"submodule 삭제하기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git submodule deinit -f <path>
`})}),`
`,n.jsx(e.p,{children:"다음으로는 .git/modules 폴더에 들어가서 해당 폴더를 삭제합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`rm -rf .git/modules/<path>
`})}),`
`,n.jsx(e.p,{children:"마지막으로 git에서 해당 폴더를 제거해주면 됩니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git rm -f <path>
`})})]})}function aTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(LO,{...t})}):LO(t)}const oTe=je({});function lTe(){return n.jsx(Se,{children:n.jsx(aTe,{components:oTe})})}const cTe=ve("/_layout/til/git/submodule")({component:lTe,head:()=>({meta:[{title:"submodule"}]})});function DO(t){const e={code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Resurrection of commit"}),`
`,n.jsxs(e.p,{children:["git을 사용하다 보면, ",n.jsx(e.code,{children:"git rebase"}),"를 하거나 ",n.jsx(e.code,{children:"git reset"}),"을 해서 ",n.jsx(e.code,{children:"commit"}),"을 지우는 일을 할 경우가 많습니다. 하지만 이 또한 실수로 지우는 경우가 생기는데, 이러한 경우에는 ",n.jsx(e.code,{children:"git reflog"}),"를 사용해서 ",n.jsx(e.code,{children:"commit"}),"을 살릴 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`> git reflog
`})}),`
`,n.jsx(e.p,{children:"를 입력하면, commit, rebase 또는 reset등 git 명령어를 수행한 로그를 hash id와 함께 볼 수 있습니다."}),`
`,n.jsx(e.h3,{children:"sample"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`54934aa HEAD@{1}: rebase (finish): returning to refs/heads/master
54934aa HEAD@{2}: rebase (pick): add Page Visibility API til and edit README.md
7520b7d HEAD@{3}: rebase (pick): add shallow Merge And Deep Merge til
b80015e HEAD@{4}: rebase (pick): add Promise.allSettled And Promise.all til
66992c1 HEAD@{5}: rebase (start): checkout HEAD~5
bfd8b53 HEAD@{6}: pull: Fast-forward
66992c1 HEAD@{7}: reset: moving to HEAD
`})}),`
`,n.jsx(e.p,{children:"위 에서 원하는 hash id를 선택한 후 아래 명령어를 수행하여 commit을 살리거나,"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`> git reset --hard <hash id>
`})}),`
`,n.jsx(e.p,{children:"또는"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`> git checkout -b <삭제한 브랜치명> <hash id>
`})}),`
`,n.jsx(e.p,{children:"이런식으로 삭제된 브랜치도 살릴 수 있습니다."})]})}function hTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(DO,{...t})}):DO(t)}const uTe=je({});function dTe(){return n.jsx(Se,{children:n.jsx(hTe,{components:uTe})})}const fTe=ve("/_layout/til/git/resurrection-of-commit")({component:dTe,head:()=>({meta:[{title:"resurrection of commit"}]})});function kO(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Lightweight Tag nd Annotated Tag"}),`
`,n.jsx(e.h2,{children:"Lightweight Tag"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Lightweight tags는 단지 특정 커밋을 가리키는 참조(reference)하는 역할만 합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ git tag <tag-name>
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"위 명령어를 통해 현재 HEAD가 가리키는 커밋에 태그를 생성합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ git tag <tag-name> <commit-id>
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"위 명령어를 통해 특정 커밋에 태그를 생성합니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"Annotated Tag"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Annotated tags는 태그를 만든 사람의 이름, 이메일, 날짜, 태그 메시지를 포함하는 GPG 서명이 담긴 태그 객체를 만들어 저장합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ git tag -a <tag-name> -m "<tag-message>"
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"위 명령어를 통해 현재 HEAD가 가리키는 커밋에 태그를 생성합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ git tag -a <tag-name> <commit-id> -m "<tag-message>"
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"위 명령어를 통해 특정 커밋에 태그를 생성합니다."}),`
`]})]})}function pTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(kO,{...t})}):kO(t)}const mTe=je({});function gTe(){return n.jsx(Se,{children:n.jsx(pTe,{components:mTe})})}const xTe=ve("/_layout/til/git/lightweight-tag-and-annotated-tag")({component:gTe,head:()=>({meta:[{title:"lightweight tag and annotated tag"}]})});function NO(t){const e={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Key commit message abbreviations"}),`
`,n.jsx(e.p,{children:"코드의 변경사항을 추적하는 것은 소프트웨어 개발의 중요한 부분입니다. Git은 이를 위한 강력한 도구이며, 커밋 메시지는 이 변경사항을 이해하는데 도움을 주는 핵심적인 요소입니다. 이 글에서는 효과적인 Git 커밋 메시지를 작성하기 위한 메시지 약어를 나열하였습니다. 약어는 코드 변경 이력을 보다 명확하게 표현하는 데 도움이 됩니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"feat"}),': "feature"의 줄임말로, 새로운 기능이 추가될 때 사용됩니다.',`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "feat: 사용자 인증 기능 추가"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"fix"}),": 버그 수정을 의미합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "fix: 버그 수정"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"refactor"}),": 코드의 재구성을 의미합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "refactor: 코드 구조 개선"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"docs"}),': "documentation"의 줄임말로, 문서나 주석 등을 추가하거나 업데이트할 때 사용합니다.',`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "docs: API 문서 업데이트"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"style"}),": 스타일 관련 변경사항을 의미합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "style: 코드 포맷팅 적용"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"test"}),": 테스트 관련 변경사항을 의미합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "test: 새로운 유닛 테스트 추가"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"chore"}),": 일반적인 작업을 의미합니다. 패키지 업데이트, 빌드 스크립트 수정 등이 이에 해당합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "chore: 패키지 업데이트"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"revert"}),": 이전 커밋을 되돌리는 작업을 의미합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:` git commit -m "revert: 이전 커밋 되돌리기"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"merge"}),": 브랜치를 병합하는 작업을 의미합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "merge: 브랜치 병합"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"release"}),": 새로운 버전을 릴리즈할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "release: v1.0.0"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"hotfix"}),": 긴급하게 수정해야 하는 버그를 의미합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "hotfix: 긴급 버그 수정"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"config"}),": 설정 파일을 수정할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "config: 설정 파일 수정"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"init"}),": 프로젝트를 초기화할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "init: 프로젝트 초기화"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"rename"}),": 파일이나 코드의 이름을 변경할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "rename: 파일 이름 변경"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"upgrade"}),": 버전을 업그레이드할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "upgrade: 버전 업그레이드"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"downgrade"}),": 버전을 다운그레이드할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "downgrade: 버전 다운그레이드"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"remove"}),": 파일이나 코드를 삭제할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "remove: 파일 삭제"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"move"}),": 파일이나 코드를 이동할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "move: 파일 이동"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"optimize"}),": 코드를 최적화할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`git commit -m "optimize: 코드 최적화"
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"add"}),": 파일이나 코드를 추가할 때 사용합니다.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-git",children:`  git commit -m "add: 파일 추가"
`})}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"이러한 커밋 메시지 약어들을 사용하면 코드의 변경 이력을 보다 명확하게 표현할 수 있습니다. 이를 통해 다른 개발자들이 변경사항을 빠르게 이해하고, 코드 리뷰나 디버깅을 효율적으로 수행할 수 있습니다."})]})}function yTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(NO,{...t})}):NO(t)}const vTe=je({});function _Te(){return n.jsx(Se,{children:n.jsx(yTe,{components:vTe})})}const bTe=ve("/_layout/til/git/key-commit-message-abbreviations")({component:_Te,head:()=>({meta:[{title:"key commit message abbreviations"}]})});function PO(t){const e={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Import Only One File From A Stash"}),`
`,n.jsx(e.p,{children:"git에서는 commit SHA만 있으면, 그 branch에서 한 파일만 가져오는 것 이 가능합니다. 이와 같은 개념으로, 한 stash에서 하나의 파일만 가져오는 것 또한 가능합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"특정 commit에서 한 파일 가져오기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git checkout ###### -- filename
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"특정 stash에서 한 파일 가져오기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git checkout stash@{1} -- filename
`})}),`
`]}),`
`]})]})}function jTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(PO,{...t})}):PO(t)}const STe=je({});function wTe(){return n.jsx(Se,{children:n.jsx(jTe,{components:STe})})}const TTe=ve("/_layout/til/git/import-only-one-file-from-a-stash")({component:wTe,head:()=>({meta:[{title:"import only one file from a stash"}]})});function OO(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to use two accounts"}),`
`,n.jsx(e.p,{children:"이 글에서는 하나의 컴퓨터에서 두 개의 git 계정을 사용하는 방법에 대해 알아보겠습니다."}),`
`,n.jsx(e.h2,{children:"Step 1: .gitconfig 파일 수정"}),`
`,n.jsx(e.p,{children:"Root의 .gitconfig 파일을 수정합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ cd
$ vi .gitconfig
`})}),`
`,n.jsx(e.p,{children:"아래와 같이 수정합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`# .gitconfig

[includeIf "gitdir:~/workspace/my/"]
    path = ~/.gitconfig-my
[includeIf "gitdir:~/workspace/work/"]
    path = ~/.gitconfig-work
`})}),`
`,n.jsx(e.h2,{children:"Step 2: .gitconfig-my, .gitconfig-work 파일 생성"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ cd
$ vi .gitconfig-my
`})}),`
`,n.jsx(e.p,{children:"아래와 같이 생성 또는 수정합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`# .gitconfig-my
[user]
    name = myname
    email = myemail@email.com
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ cd
$ vi .gitconfig-work
`})}),`
`,n.jsx(e.p,{children:"아래와 같이 생성 또는 수정합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`# .gitconfig-work
[user]
    name = workname
    email = workingemail@email.com
`})}),`
`,n.jsx(e.h2,{children:"Step 3: 확인하기"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ cd ~/workspace/my

$ mkdir test
$ cd test
$ git init
$ git config -l

user.name=myname
user.email=myname@email.com
...
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ cd ~/workspace/work

$ mkdir test
$ cd test
$ git init
$ git config -l

user.name=workname
user.email=workingemail@email.com
...
`})}),`
`,n.jsx(e.p,{children:"지금까지의 절차만으로도 사용이 가능하지만, 보통 회사의 프로젝트에서는 비공개 저장소를 사용하기 때문에, 아래와 같이 추가적인 절차가 필요합니다."}),`
`,n.jsx(e.h2,{children:"Step 4: SSH key 분기"}),`
`,n.jsx(e.p,{children:"이미 각 저장소별로 생성된 ssh가 있다고 가정한 뒤에 분기 되는 방법을 설명하겠습니다."}),`
`,n.jsx(e.p,{children:"Root의 .ssh/config 파일을 수정합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ cd
$ vi .ssh/config
`})}),`
`,n.jsx(e.p,{children:"아래와 같이 수정합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`# .ssh/config
Host github.com-my
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_rsa_my

Host github.com-work
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_rsa_work
`})}),`
`,n.jsx(e.p,{children:"이렇게 설정하고 private 저장소를 ssh로 인증하여 사용할 수 있습니다."})]})}function CTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(OO,{...t})}):OO(t)}const MTe=je({});function ETe(){return n.jsx(Se,{children:n.jsx(CTe,{components:MTe})})}const ATe=ve("/_layout/til/git/how-to-use-two-accounts")({component:ETe,head:()=>({meta:[{title:"how to use two accounts"}]})});function BO(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to initialize all changes"}),`
`,n.jsx(e.p,{children:"Git을 사용하다가 보면, 수정하였던 모든 것을 파기해야할 순간이 옵니다. 물론 저는 VScode를 사용하고 있기 때문에, discard를 해도 되지만, 이미 알고 있는 명령어로도 충분히 Changes에 있는 목록을 초기화할 수 있습니다."}),`
`,n.jsx(e.p,{children:"그것은 바로 현재 브랜치로 checkout을 하는 것입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`$ git checkout .
`})}),`
`,n.jsx(e.p,{children:"이렇게하면, changes에 있는 모든 수정사항이 사라집니다."})]})}function RTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(BO,{...t})}):BO(t)}const LTe=je({});function DTe(){return n.jsx(Se,{children:n.jsx(RTe,{components:LTe})})}const kTe=ve("/_layout/til/git/how-to-initialize-all-changes")({component:DTe,head:()=>({meta:[{title:"how to initialize all changes"}]})});function IO(t){const e={code:"code",h1:"h1",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Gitmoji"}),`
`,n.jsxs(e.p,{children:[`// 마크다운 테이블
| 아이콘 | 코드 | 설명 | 원문 |
|:---:|:---:|:---:|:---:|
| 🎨 | `,n.jsx(e.code,{children:":art:"}),` | 코드의 구조/형태 개선 | Improve structure / format of the code. |
| ⚡️ | `,n.jsx(e.code,{children:":zap:"}),` | 성능 개선 | Improve performance. |
| 🔥 | `,n.jsx(e.code,{children:":fire:"}),` | 코드/파일 삭제 | Remove code or files. |
| 🐛 | `,n.jsx(e.code,{children:":bug:"}),` | 버그 수정 | Fix a bug. |
| 🚑 | `,n.jsx(e.code,{children:":ambulance:"}),` | 긴급 수정 | Critical hotfix. |
| ✨ | `,n.jsx(e.code,{children:":sparkles:"}),` | 새 기능 | Introduce new features. |
| 📝 | `,n.jsx(e.code,{children:":memo:"}),` | 문서 추가/수정 | Add or update documentation. |
| 💄 | `,n.jsx(e.code,{children:":lipstick:"}),` | UI/스타일 파일 추가/수정 | Add or update the UI and style files. |
| 🎉 | `,n.jsx(e.code,{children:":tada:"}),` | 프로젝트 시작 | Begin a project. |
| ✅ | `,n.jsx(e.code,{children:":white_check_mark:"}),` | 테스트 추가/수정 | Add or update tests. |
| 🔒 | `,n.jsx(e.code,{children:":lock:"}),` | 보안 이슈 수정 | Fix security issues. |
| 🔖 | `,n.jsx(e.code,{children:":bookmark:"}),` | 릴리즈/버전 태그 | Release / Version tags. |
| 💚 | `,n.jsx(e.code,{children:":green_heart:"}),` | CI 빌드 수정 | Fix CI Build. |
| 📌 | `,n.jsx(e.code,{children:":pushpin:"}),` | 특정 버전 의존성 고정 | Pin dependencies to specific versions. |
| 👷 | `,n.jsx(e.code,{children:":construction_worker:"}),` | CI 빌드 시스템 추가/수정 | Add or update CI build system. |
| 📈 | `,n.jsx(e.code,{children:":chart_with_upwards_trend:"}),` | 분석, 추적 코드 추가/수정 | Add or update analytics or track code. |
| ♻️ | `,n.jsx(e.code,{children:":recycle:"}),` | 코드 리팩토링 | Refactor code. |
| ➕ | `,n.jsx(e.code,{children:":heavy_plus_sign:"}),` | 의존성 추가 | Add a dependency. |
| ➖ | `,n.jsx(e.code,{children:":heavy_minus_sign:"}),` | 의존성 제거 | Remove a dependency. |
| 🔧 | `,n.jsx(e.code,{children:":wrench:"}),` | 구성 파일 추가/삭제 | Add or update configuration files. |
| 🔨 | `,n.jsx(e.code,{children:":hammer:"}),` | 개발 스크립트 추가/수정 | Add or update development scripts. |
| 🌐 | `,n.jsx(e.code,{children:":globe_with_meridians:"}),` | 국제화/현지화 | Internationalization and localization. |
| 💩 | `,n.jsx(e.code,{children:":poop:"}),` | 똥싼 코드 | Write bad code that needs to be improved. |
| ⏪ | `,n.jsx(e.code,{children:":rewind:"}),` | 변경 내용 되돌리기 | Revert changes. |
| 🔀 | `,n.jsx(e.code,{children:":twisted_rightwards_arrows:"}),` | 브랜치 합병 | Merge branches. |
| 📦 | `,n.jsx(e.code,{children:":package:"}),` | 컴파일된 파일 추가/수정 | Add or update compiled files or packages. |
| 👽 | `,n.jsx(e.code,{children:":alien:"}),` | 외부 API 변화로 인한 수정 | Update code due to external API changes. |
| 🚚 | `,n.jsx(e.code,{children:":truck:"}),` | 리소스 이동, 이름 변경 | Move or rename resources (e.g.: files paths routes). |
| 📄 | `,n.jsx(e.code,{children:":page_facing_up:"}),` | 라이센스 추가/수정 | Add or update license. |
| 💡 | `,n.jsx(e.code,{children:":bulb:"}),` | 주석 추가/수정 | Add or update comments in source code. |
| 🍻 | `,n.jsx(e.code,{children:":beers:"}),` | 술 취해서 쓴 코드 | Write code drunkenly. |
| 🗃 | `,n.jsx(e.code,{children:":card_file_box:"}),` | 데이버베이스 관련 수정 | Perform database related changes. |
| 🔊 | `,n.jsx(e.code,{children:":loud_sound:"}),` | 로그 추가/수정 | Add or update logs. |
| 🙈 | `,n.jsx(e.code,{children:":see_no_evil:"})," | .gitignore 추가/수정 | Add or update a .gitignore file. |"]})]})}function NTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(IO,{...t})}):IO(t)}const PTe=je({});function OTe(){return n.jsx(Se,{children:n.jsx(NTe,{components:PTe})})}const BTe=ve("/_layout/til/git/gitmoji")({component:OTe,head:()=>({meta:[{title:"gitmoji"}]})});function FO(t){const e={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Git Bisect Command"}),`
`,n.jsx(e.p,{children:"git-bisect - 이진 검색을 사용하여 버그를 발생시킨 커밋을 찾는다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git bisect <subcommand> <options>
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"git bisect"}),"는 commit log를 이진 검색하면서 버그를 찾는데 사용할 수 있습니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"버그가 일어나는 commit을 선택합니다."}),`
`,n.jsx(e.li,{children:"버그가 일어나지 않는 commit을 선택합니다."}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"git bisect"}),"는 이 두 commit 사이에서 이진 탐색으로 commit을 선택하고 선택한 commit이 버그가 일어나는 commit인지 아닌지 묻습니다. (이진 탐색)"]}),`
`,n.jsxs(e.li,{children:["버그가 일어난다면, ",n.jsx(e.code,{children:"bad"}),", 버그가 일어나지 않는다면, ",n.jsx(e.code,{children:"good"}),"을 입력합니다."]}),`
`,n.jsx(e.li,{children:"이 과정을 반복하면서 버그가 일어나는 commit을 찾습니다."}),`
`]}),`
`,n.jsxs(e.p,{children:["위와 같은 방식으로 버그를 찾는 것이 ",n.jsx(e.code,{children:"git bisect"}),"입니다."]}),`
`,n.jsx(e.p,{children:"아래에 예시를 보여드리겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-mermaid",children:`gitGraph
       commit
       commit
       commit
       commit
       commit type: REVERSE id: "ERROR"
       commit
       commit
       commit
`})}),`
`,n.jsxs(e.p,{children:["위와 같은 commit log가 있고, ",n.jsx(e.code,{children:"ERROR"}),"라고 명시된 commit에서 버그가 발생했다고 가정하겠습니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"git bisect"}),"를 사용하여 버그가 발생한 commit을 찾아보겠습니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"git bisect start"}),"를 입력하면 ",n.jsx(e.code,{children:"git bisect"}),"를 시작합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git bisect start
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-console",children:`> status: waiting for both good and bad commits
`})}),`
`,n.jsxs(e.p,{children:["그리고, 현재 브랜치의 현재 커밋이 에러가 발생한다면, ",n.jsx(e.code,{children:"git bisect bad"}),"를 입력합니다. 혹은 커밋이 아니라면 ",n.jsx(e.code,{children:"git chekcout"}),"을 이용해서 에러가 발생하는 커밋으로 이동하여 ",n.jsx(e.code,{children:"git bisect bad"}),"를 입력합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git bisect bad
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-console",children:`> status: waiting for good commit(s), bad commit known
`})}),`
`,n.jsx(e.p,{children:"그리고, 에러가 발생하지 않는 커밋으로 이동합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git checkout 0-28e2d1c
`})}),`
`,n.jsxs(e.p,{children:["해당 커밋을 확인하고, 에러가 발생하지 않는다면 ",n.jsx(e.code,{children:"git bisect good"}),"을 입력합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git bisect good
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-console",children:`> Bisecting: 2 revisions left to test after this (roughly 2 steps)
[hashcodehashcodehashcode] (commit message)
`})}),`
`,n.jsxs(e.p,{children:["그러면 ",n.jsx(e.code,{children:"git bisect"}),"가 이진 탐색을 하면서 commit을 선택해줍니다. 그리고, 해당 commit에서 에러가 발생하는지 확인하면 되는 겁니다."]}),`
`,n.jsxs(e.p,{children:["만약, 에러가 발생한다면 ",n.jsx(e.code,{children:"git bisect bad"}),"를 입력하고, 에러가 발생하지 않는다면 ",n.jsx(e.code,{children:"git bisect good"}),"을 입력합니다."]}),`
`,n.jsxs(e.p,{children:["계속 반복을 하다가, ",n.jsx(e.code,{children:"bad"}),"인 commit을 찾는다면, 해당 커밋으로 부터 버그가 유지가 되었다고 판단할 수 있습니다. git bisect는 이러한 방식으로 버그를 찾아줍니다."]}),`
`,n.jsx(e.p,{children:"몇 가지 TIP:"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"이미 알고 있다면, checkout을 하지 않아도 됩니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ git bisect good <commit>
$ git bisect bad <commit>
$ git bisect reset <commit>
`})}),`
`,n.jsx(e.p,{children:"이렇게 checkout을 하지 않고도 대항 커밋에 대한 체크 및 초기화를 할 수 있습니다."}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsxs(e.li,{children:["꼭, ",n.jsx(e.code,{children:"good"}),", ",n.jsx(e.code,{children:"bad"}),"를 입력하지 않아도 됩니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ git bisect start --term-old <term-old> --term-new <term-new>
`})}),`
`,n.jsxs(e.p,{children:["이렇게 ",n.jsx(e.code,{children:"--term-old"}),"와 ",n.jsx(e.code,{children:"--term-new"}),"를 이용해서 ",n.jsx(e.code,{children:"git bisect"}),"를 원하는 이름으로 시작할 수 있습니다."]}),`
`,n.jsx(e.p,{children:"예시)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git bisect start --term-old fast --term-new slow
`})}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"현재 상태를 체크할 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ git bisect log
`})}),`
`,n.jsxs(e.ol,{start:"4",children:[`
`,n.jsx(e.li,{children:"확인이 불가능한 경우에는"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ git bisect skip
$ git bisect skip <commit>
`})})]})}function ITe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(FO,{...t})}):FO(t)}const FTe=je({});function UTe(){return n.jsx(Se,{children:n.jsx(ITe,{components:FTe})})}const zTe=ve("/_layout/til/git/git-bisect-command")({component:UTe,head:()=>({meta:[{title:"git bisect command"}]})});function UO(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Force With Lease Option"}),`
`,n.jsx(e.h2,{children:"Force Push"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`git push --force
`})}),`
`,n.jsx(e.p,{children:"이라는 명령어는 원격 저장소에 강제로 push를 하는 명령어입니다."}),`
`,n.jsx(e.h2,{children:"Force With Lease"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`git push --force-with-lease
`})}),`
`,n.jsx(e.p,{children:"이 명령어는 원격 저장소에 강제로 push를 하되, 다른 사람이 push를 한 경우에는 push를 하지 않고 에러를 발생시킵니다."}),`
`,n.jsx(e.p,{children:"좀 더 안전하고 강하게 푸시할 수 있습니다."})]})}function HTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(UO,{...t})}):UO(t)}const VTe=je({});function GTe(){return n.jsx(Se,{children:n.jsx(HTe,{components:VTe})})}const $Te=ve("/_layout/til/git/force-with-lease-option")({component:GTe,head:()=>({meta:[{title:"force with lease option"}]})});function zO(t){const e={code:"code",h1:"h1",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Creating a Branch from a Commit"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`git checkout -b <new-branch-name> <commit-sha>
`})})]})}function qTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(zO,{...t})}):zO(t)}const WTe=je({});function XTe(){return n.jsx(Se,{children:n.jsx(qTe,{components:WTe})})}const YTe=ve("/_layout/til/git/creating-branch-from-commit")({component:XTe,head:()=>({meta:[{title:"creating branch from commit"}]})});function HO(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Checkout Previous Branch"}),`
`,n.jsx(e.p,{children:"git에서 checkout 명령어를 사용해서 현재 브랜치를 변경하는 작업을 많이 합니다. 가끔 실수로 브랜치를 바꾸거나, 브랜치를 반복적으로 이전 브랜치와 스위칭하며 작업하는 경우가 있는데, 이런 경우에는 아래 명령어를 사용하여 쉽게 이전 브랜치로 돌아갈 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`> git checkout -
`})}),`
`,n.jsx(e.p,{children:"추가적으로, 2번, 3번, n번 전으로 돌아가는 방법도 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`> git checkout @{-2}
> git checkout @{-3}
> git checkout @{-n}
`})})]})}function KTe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(HO,{...t})}):HO(t)}const ZTe=je({});function QTe(){return n.jsx(Se,{children:n.jsx(KTe,{components:ZTe})})}const JTe=ve("/_layout/til/git/checkout-previous-branch")({component:QTe,head:()=>({meta:[{title:"checkout previous branch"}]})});function VO(t){const e={code:"code",h1:"h1",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Point Free Style"}),`
`,n.jsx(e.p,{children:"Point-free 스타일은 함수의 인자를 명시적으로 사용하지 않는 프로그래밍 스타일입니다. 대신 함수를 다른 함수와 조합하여 작동하게 합니다."}),`
`,n.jsx(e.h3,{children:"예시 1: 명시적 인자 사용"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`const add = (x: number, y: number): number => x + y;
const increment = (x: number): number => add(x, 1);
`})}),`
`,n.jsx(e.h3,{children:"예시 2: Point-Free 스타일"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`const add =
  (x: number) =>
  (y: number): number =>
    x + y;
const increment = add(1);
`})}),`
`,n.jsxs(e.p,{children:["위의 예시에서, ",n.jsx(e.code,{children:"increment"})," 함수는 인자를 명시적으로 사용하지 않고 ",n.jsx(e.code,{children:"add(1)"}),"을 통해 정의됩니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"장점:"})}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"간결성"}),": 일단 익숙해지면, point-free 스타일은 코드를 더 간결하게 만들 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"함수의 조합"}),": 이 스타일은 함수의 조합을 강조하므로 코드의 의도가 더 명확해질 수 있습니다."]}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"단점:"})}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"가독성"}),": Point-free 스타일은 때때로 코드의 가독성을 저하시킬 수 있습니다. 너무 복잡한 함수 조합은 다른 개발자들에게 혼란을 줄 수 있습니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:"결론적으로, point-free 스타일은 TypeScript에서도 사용할 수 있지만, 언제 어떻게 사용할지를 잘 판단해야 합니다. 항상 코드의 가독성과 유지보수성을 고려하여 적절한 스타일을 선택하는 것이 중요합니다."})]})}function e2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(VO,{...t})}):VO(t)}const t2e=je({});function n2e(){return n.jsx(Se,{children:n.jsx(e2e,{components:t2e})})}const i2e=ve("/_layout/til/functional_programing/point-free-style")({component:n2e,head:()=>({meta:[{title:"point free style"}]})});function GO(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Patial Application"}),`
`,n.jsx(e.p,{children:"Partial Application은 특정 함수에게 일부 인자만을 미리 제공하고 나머지 인자들은 나중에 제공할 수 있도록 하는 방식입니다. 이렇게 해서 만들어진 새로운 함수는 나중에 더 적은 인자들만을 제공받아도 원래의 함수를 실행할 수 있게 됩니다"}),`
`,n.jsx(e.p,{children:"가장 쉬운 예시로는 아래와 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`const add = (a, b) => a + b;
const add10 = add.bind(null, 10);

add10(20); // 30
`})}),`
`,n.jsx(e.p,{children:"이 방법은 커링과 비슷한 방법으로서 사용할 수 있습니다. 하지만 커링은 함수를 반환하는 방식이라면, Partial Application은 함수를 실행하는 방식입니다. 이는 커링과 Partial Application의 차이점이라고 할 수 있습니다."})]})}function r2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(GO,{...t})}):GO(t)}const s2e=je({});function a2e(){return n.jsx(Se,{children:n.jsx(r2e,{components:s2e})})}const o2e=ve("/_layout/til/functional_programing/patial-application")({component:a2e,head:()=>({meta:[{title:"patial application"}]})});function $O(t){const e={blockquote:"blockquote",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.p,{children:"우선 Map에 대해서 이야기를 해보려고 합니다."}),`
`,n.jsx(e.p,{children:"보통 Map이라고 하면 어떤 것들이 생각 나시나요?"}),`
`,n.jsx(e.p,{children:"저는 아래 세 가지가 생각 나더라고요."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"지도"}),`
`,n.jsx(e.li,{children:"데이터 타입의 Map"}),`
`,n.jsx(e.li,{children:"함수 Map"}),`
`]}),`
`,n.jsx(e.p,{children:"Map이 뭐길래 이렇게 같지만 다른 의미로 사용 되고 있을까요?"}),`
`,n.jsx(e.h2,{children:"지도"}),`
`,n.jsx(e.p,{children:"Map이 왜 지도 일까요? 고대 라틴어를 사용하던 시기로 가보겠습니다. 고대 라틴어에서는 지도를 종이가 아닌 천이나 가죽에 그려서 가지고 다녔다고 합니다. 그래서 천이나 옷이라는 뜻의 mappa와 세계라는 뜻의 mundi라는 단어의 합성으로서 “mappa mundi”라는 단어로서 세계지도 라는 단어를 만들었죠. 그리고 이 “mappa mundi”는 프랑스어를 어쳐서 고대 영어로 “mapemounde”라는 단어로 사용이 되었다고 합니다. 너무 긴 이 단어는 축약이 되어서 결국 map이 되었죠."}),`
`,n.jsx(e.p,{children:"그리고 우리는 보통 “mapping”이라는 단어를 많이 사용 하잖아요. 3차원의 구 형태인 지구를 잘게 쪼개서 조각 조각들을 2차원 형태인 종이에 옮겨서 그려내는 작업을 mapping이라고 한다네요."}),`
`,n.jsx(e.h2,{children:"데이터 타입"}),`
`,n.jsx(e.p,{children:"다음으로 데이터 타입의 Map을 한 번 알아볼게요."}),`
`,n.jsx(e.p,{children:"map은 기본적으로 key와 value를 가진 아래와 같은 형태를 가집니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`{
  a: 1,
  b: 2,
  c: 3,
  d: 4,
}
`})}),`
`,n.jsx(e.p,{children:"a, b, c, d를 1, 2, 3, 4로 mapping하고 있습니다."}),`
`,n.jsx(e.p,{children:"엇 지도를 설명할 때에 mapping이 있었는데, 여기도 나오네요."}),`
`,n.jsx(e.p,{children:"잘 생각해보면, a, b, c, d가 지구의 조각들이고, 1, 2, 3, 4가 지도로 옮겨진 조각들이라고 생각하면 어떨까요?"}),`
`,n.jsx(e.p,{children:"데이터 타입의 map과 mapping이라는 단어들은 이렇게 만들어졌습니다."}),`
`,n.jsx(e.p,{children:"결국 같은 의미를 가지고 있었네요."}),`
`,n.jsx(e.h2,{children:"함수"}),`
`,n.jsx(e.p,{children:"그럼 함수인 Map은 또 뭘까요?"}),`
`,n.jsx(e.p,{children:"보통 javascript 개발자라면, 아래와 같은 예시를 생각하실 것 같습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const array = ['a', 'b', 'c', 'd'];

const output = array.map((_, index) => index + 1);

console.log('output:', output);
// [1, 2, 3, 4];
`})}),`
`,n.jsx(e.p,{children:"그런데, 어디서 많이 본, Input과 Output인 것 같습니다."}),`
`,n.jsx(e.p,{children:"함수인 Map도 사실 같은 의미를 가지고 있습니다. 원본 데이터를 사용자가 원하는 과정을 통해서 다른 데이터를 반환하는 함수 입니다. 아래 처럼 바꾸면 조금 더 쉬울 것 같습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const 지구_조각들 = ['a', 'b', 'c', 'd'];

const mapping = (_, index) => index + 1;

const 지도_조각들 = 지구_조각들.map(mapping);

console.log('지도_조각들:', 지도_조각들);
// [1, 2, 3, 4];
`})}),`
`,n.jsx(e.p,{children:"위 코드를 보면 진짜 전에 등장 하였던 내용들을 모두 포함하고 있는 내용 같네요. 다만, 유심히 봐야할 것이 있습니다. 데이터 구조가 바뀌지는 않았다는 것입니다. 잘 생각해보면, 지구의 조각들을 다 버리거나 다른 조각을 추가하여 지도를 만들지 않았듯이, 함수의 map도 이전과 이후가 구조가 바뀌면 map이라고 부를 수 없습니다. 이 점을 추가하여 함수에서의 Map을 한 번 정의해 보겠습니다."}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"함수에서의 Map은 데이터 구조의 모든 원소에 동일한 함수를 적용하여 새로운 데이터 구조를 생성하는 함수이다. 단, 이 때, 원본 데이터 구조를 변경하지 않고, 각 원소에 함수를 적용한 결과를 새로운 데이터 구조로 반환해야한다."}),`
`]}),`
`,n.jsx(e.h2,{children:"Functor"}),`
`,n.jsx(e.p,{children:"위에서 Map이 가진 의미 3가지가 사실은 같은 어원을 가지고 있다는 것을 알게 되었습니다. 이 섹션에서는 “mapping 가능한 어떠한 것”을 만들어 보려고 합니다. 마치 javascript의 array 처럼요."}),`
`,n.jsx(e.p,{children:"mapping 가능한 어떠한 것을 만들기 위해서는 어떠한 것이 일단 필요할 것 같습니다. 또 이 어떠한 것은 원본 데이터를 가지고 있어야할 것 같습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`class 어떠한_것 {
  constructor (value) {
    this.value = value
  }
}
`})}),`
`,n.jsxs(e.p,{children:["이제 원본 데이터를 가진 ",n.jsx(e.code,{children:"어떠한_것"}),"을 정의하였으니, map함수를 넣어보겠습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`class 어떠한_것 {
  constructor(value: string) {
    this.value = value;
  }

  value: string;

  map = (fn: (value: string) => string) => {
    return new 어떠한_것(fn(this.value));
  };
}
`})}),`
`,n.jsxs(e.p,{children:["그런데, 우리 이 ",n.jsx(e.code,{children:"어떠한_것"}),"을 왜 만들었을까요?"]}),`
`,n.jsx(e.p,{children:"이 어떠한_것은 사실 함수형프로그래밍에서 사용하는 “Functor”라고 하는 개념입니다. Functor끼리는 합성이 가능하고, 원본 데이터를 변경하지 않기 때문에, 함수형 프로그래밍에서 필수 개념중에 하나 입니다. (다음 포스트에서 더욱 자세히 다루어 보겠습니다.)"}),`
`,n.jsx(e.p,{children:"External Reference"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"https://www.mediafine.co.kr/news/articleView.html?idxno=10360"}),`
`,n.jsx(e.li,{children:"https://en.wikipedia.org/wiki/Map_(mathematics)"}),`
`]})]})}function l2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx($O,{...t})}):$O(t)}const c2e=je({});function h2e(){return n.jsx(Se,{children:n.jsx(l2e,{components:c2e})})}const u2e=ve("/_layout/til/functional_programing/map")({component:h2e,head:()=>({meta:[{title:"map"}]})});function qO(t){const e={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Algebraic data type"}),`
`,n.jsxs(e.p,{children:["Algebraic이라는 단어는 한국어로 ",n.jsx(e.code,{children:"대수학"}),"이라고 번역할 수 있습니다. 즉, 대수학적 데이터 타입에 대해서 공부할 것을 간단하게 정리 해 보겠습니다."]}),`
`,n.jsx(e.p,{children:'먼저, "대수학"이란, 숫자, 기호, 연산자들을 사용하여 등식이나 부등식을 만들고 이를 해결하는데 초점을 맞추고 있습니다. 예시를 들어보자면,'}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:`    y = x + 1
`})}),`
`,n.jsx(e.p,{children:"이러한 문제가 주어졌을 때, x에 대해서 문제를 푸는 것 또한 대수학이라고 할 수 있습니다."}),`
`,n.jsx(e.p,{children:"그렇다면, Algebric data type은 무엇일까요?"}),`
`,n.jsxs(e.p,{children:["Algebraic data type이라고 해서 모든 대수학의 이론을 이용하여 data type을 설명하는 것은 아니며, ",n.jsx(e.code,{children:"합"}),"과 ",n.jsx(e.code,{children:"곱"}),"이라는 두 가지 기본적인 대수적 연산을 데이터 타입에 적용하는 것입니다. 여기서 이야기하는 ",n.jsx(e.code,{children:"합"}),"과 ",n.jsx(e.code,{children:"곱"}),"은 다음과 같은 의미를 지닙니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"합 타입(Sum Type): 합 타입은 여러 가지 타입 중 하나를 선택할 수 있는 상황을 나타냅니다. 즉, 하나의 데이터 타입이 여러 타입 중 하나의 값을 가질 수 있게 합니다. Typescript에서 아래와 같은 예시를 만들 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`type Fruit = "Apple" | "Banana" | "Grape";

let myFruit: Fruit;
myFruit = "Apple";  // 올바른 할당
myFruit = "Banana"; // 올바른 할당
myFruit = "Grape";  // 올바른 할당
myFruit = "Pear";   // 컴파일 에러: Type '"Pear"' is not assignable to type 'Fruit'.
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"곱 타입(Product Type): 곱 타입은 여러 가지 타입을 동시에 가질 수 있는 상황을 나타냅니다. 이는 프로그래밍에서 'AND'의 개념으로 이해할 수 있습니다. Typescript에서 아래와 같은 예시를 만들 수 있습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`type Person = {
  name: string;
  age: number;
};

let person: Person;
person = { name: "Alice", age: 25 }; // 올바른 할당
person = { name: "Bob" };            // 컴파일 에러: Property 'age' is missing in type '{ name: string; }' but required in type 'Person'.
`})})]})}function d2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(qO,{...t})}):qO(t)}const f2e=je({});function p2e(){return n.jsx(Se,{children:n.jsx(d2e,{components:f2e})})}const m2e=ve("/_layout/til/functional_programing/algebraic-data-type")({component:p2e,head:()=>({meta:[{title:"algebraic data type"}]})});function WO(t){const e={h1:"h1",li:"li",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Next js V 14 Summary"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Next compiler: Turbopack 기반, 5,000 여개의 테스트 통과 상태 약 90% 정도. 개발 서버에서 지원. 개발 서버가 53%의 더 빨라지도 업데이트는 94% 정도 빨라짐, 추후에는 Rust 기반 컴파일러의 안정화를 증진할 예정."}),`
`,n.jsx(e.li,{children:"Server Actions: Next.js 13 에서 소개 된 Server Actions 의 안정화 버전 포함. 서버-컴포넌트에서 상황에 따라 form 의 action 이나 React 의 formAction 으로 사용 가능"}),`
`,n.jsx(e.li,{children:"Partial Prerendering: 기본 응답 데이터와 스트리밍 동적 컨텐츠 전달 기능을 React 의 Suspend 기반 위에서 구현. 현재 Preview 단계"}),`
`,n.jsx(e.li,{children:"Next.js Learn: App Router, 인증, 데이터 베이스를 포함한 새로운 학습 코스가 추가."}),`
`]})]})}function g2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(WO,{...t})}):WO(t)}const x2e=je({});function y2e(){return n.jsx(Se,{children:n.jsx(g2e,{components:x2e})})}const v2e=ve("/_layout/til/frontend_framework/nextjs-v14-summary")({component:y2e,head:()=>({meta:[{title:"nextjs v14 summary"}]})});function XO(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Learning Next js"}),`
`,n.jsx(e.h2,{children:"install nextjs"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`npx create-next-app@latest
`})}),`
`,n.jsx(e.h2,{children:"Routing(App Router)"}),`
`,n.jsx(e.p,{children:"next의 App Router는 pages 디렉토리에 있는 파일들을 기반으로 자동으로 라우팅을 해줍니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`├── README.md
├── next-env.d.ts
├── next.config.js
├── node_modules
├── package-lock.json
├── package.json
├── pnpm-lock.yaml
├── postcss.config.js
├── public
├── src
    └── app
        ├── favicon.ico # favicon
        ├── globals.css # 글로벌 css
        ├── loading.tsx # 로딩 화면
        ├── error.tsx # 에러 화면
        ├── global-error.tsx # 글로벌 에러 화면
        ├── template.tsx # 템플릿 파일
        ├── not-found.tsx # 404 화면
        ├── layout.tsx # UI의 레이아웃을 담당하는 파일
        └── page.tsx # 페이지를 담당하는 파일
├── tailwind.config.ts
└── tsconfig.json
`})}),`
`,n.jsx(e.p,{children:"app 폴더의 안에 app폴더를 만들었습니다. 이 app폴더는 위에서 이야기한대로, 폴더에 있는 파일들을 기반으로 자동으로 라우팅을 해주는 역할을 합니다. 그리고 app폴더 안에는 favicon, 글로벌 css, 로딩 화면, 에러 화면, 글로벌 에러 화면, 템플릿 파일, 404 화면, UI의 레이아웃을 담당하는 파일, 페이지를 담당하는 파일이 있습니다."}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"loading.tsx"}),"파일은 페이지가 로딩될 때 보여지는 화면을 담당합니다. 특이한 점은 app 하위 페이지 또는 모든 곳에 사용이 가능하며 각각 다른 loading 화면을 보여줄 수 있습니다. 그리고, 이는 우선순위에 따라서 호출과 하이드레이션을 나누어 진행하여 사용자에게 더 나은 경험을 제공할 수 있습니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"error.tsx"}),", ",n.jsx(e.code,{children:"global-error.tsx"}),"는 error boundary를 제공하여 사용자에게 오류에 대한 메시지를 진해 또는 회복할 수 있는 방법을 제공합니다."]}),`
`,n.jsx(e.h3,{children:"Dynamic Routes"}),`
`,n.jsx(e.p,{children:"또 다른 path를 만들기 위해서는 app폴더 안에 새로운 폴더를 만들어 주면 됩니다. 예를 들면"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`└── app
    ├── blog
        ├── ...
        ├── layout.tsx # UI의 레이아웃을 담당하는 파일
        └── page.tsx # 페이지를 담당하는 파일
    ├── dashboard
        ├── ...
        ├── layout.tsx # UI의 레이아웃을 담당하는 파일
        └── page.tsx # 페이지를 담당하는 파일
    ├── ...
    ├── layout.tsx # UI의 레이아웃을 담당하는 파일
    └── page.tsx # 페이지를 담당하는 파일
`})}),`
`,n.jsx(e.p,{children:"이런식으로 만들어 주면 됩니다."}),`
`,n.jsx(e.p,{children:"또 특별한 형식을 이용해서 root path에 다른 경로를 만들 수도 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`└── app
    ├── [...slug]
        ├── ...
        ├── layout.tsx # UI의 레이아웃을 담당하는 파일
        └── page.tsx # 페이지를 담당하는 파일
    ├── ...
    ├── layout.tsx # UI의 레이아웃을 담당하는 파일
    └── page.tsx # 페이지를 담당하는 파일
`})}),`
`,n.jsx(e.p,{children:"이렇게 만들어진 페이지는 다음과 같이 접근할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`http://localhost:3000/1
http://localhost:3000/2
http://localhost:3000/3
`})}),`
`,n.jsx(e.p,{children:"또, 단순히 폴더를 분리하기 위해서는 다음과 같이 만들어 줄 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`└── app
    ├── (blog)
        ├── [...slug]
            ├── ...
            ├── layout.tsx # UI의 레이아웃을 담당하는 파일
            └── page.tsx # 페이지를 담당하는 파일
    ├── ...
    ├── layout.tsx # UI의 레이아웃을 담당하는 파일
    └── page.tsx # 페이지를 담당하는 파일
`})}),`
`,n.jsx(e.p,{children:`이렇게 구성하면 blog라는 폴더는 라우팅이 되지 않습니다.
이 구조 또한 위와 같이`}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`http://localhost:3000/1
http://localhost:3000/2
http://localhost:3000/3
`})}),`
`,n.jsx(e.p,{children:"의 접근이 가능합니다."}),`
`,n.jsx(e.h3,{children:"Parallel Routes"}),`
`,n.jsx(e.p,{children:"nextjs은 같은 path에 두 개의 페이지를 랜더링 할 수 있습니다. 이는 다음과 같이 구성할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`└── app
    ├── @dashboard
            ├── ...
            ├── layout.tsx # UI의 레이아웃을 담당하는 파일
            └── page.tsx # 페이지를 담당하는 파일
    ├── @blog
            ├── ...
            ├── layout.tsx # UI의 레이아웃을 담당하는 파일
            └── page.tsx # 페이지를 담당하는 파일
        ├── ...
        ├── layout.tsx # UI의 레이아웃을 담당하는 파일
        └── page.tsx # 페이지를 담당하는 파일
`})}),`
`,n.jsx(e.p,{children:"이렇게 구성 후에 root Layout에서 아래와 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`export default function Layout(props: {
  children: React.ReactNode;
  dashboard: React.ReactNode;
  blog: React.ReactNode;
}) {
  return (
    <>
      {props.children}
      {props.dashboard}
      {props.blog}
    </>
  );
}
`})}),`
`,n.jsx(e.h3,{children:"Intercepting Routes"}),`
`,n.jsx(e.p,{children:"이름처럼 이 Intercepting Routes는 사용자가 접근한 경로를 가로채서, 실제 페이지의 이동이 아닌, 마치 팝업처럼 화면에 보여줄 수 있습니다."}),`
`,n.jsxs(e.p,{children:["예를 들어서 ",n.jsx(e.code,{children:"card/list"}),"에서 이미지를 클릭하여 ",n.jsx(e.code,{children:"photo/123"}),"으로 route를 이동하며, 바닥에 카드 리스트가 있는 상태에서 오버레이와 함께 photo페이지의 123이라는 파람을 가진 페이지를 보여줄 수 있습니다. 또한, 새로고침을 하거나 직접 ",n.jsx(e.code,{children:"photo/123"}),"으로 접근을 하면, 독립적으로 photo페이지를 보여줄 수 있습니다."]}),`
`,n.jsx(e.p,{children:"이 기능은 다음과 같이 구현할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`└── app
    ├── photo
        ├── @modal
            └── (..)photo
                └── [id]
                    ├── ...
                    ├── layout.tsx # UI의 레이아웃을 담당하는 파일
                    └── page.tsx # 페이지를 담당하는 파일
    ├── card
        └── list
            ├── ...
            ├── layout.tsx # UI의 레이아웃을 담당하는 파일
            └── page.tsx # 페이지를 담당하는 파일
`})}),`
`,n.jsx(e.p,{children:"또한, 이 (..)같은 표현은 조금 이질감이 느껴지지만,,, 받아드려야할 것 같네요. 아래와 같은 정의가 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"(.) 현재 디렉토리를 가리킵니다."}),`
`,n.jsx(e.li,{children:"(..) 바로 상위 디렉토리를 가리킵니다."}),`
`,n.jsx(e.li,{children:"(..)(..) 두 단계 상위 디렉토리를 가리킵니다."}),`
`,n.jsx(e.li,{children:"(...) root 디렉토리를 가리킵니다."}),`
`]}),`
`,n.jsx(e.h3,{children:"Route Handlers"}),`
`,n.jsx(e.p,{children:"Next에서는 page를 제공하는 route 외에도 api를 제공하는 route를 생성할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`└── app
    ├── api
        └── route.ts # <- api route
    ├── ...
    ├── layout.tsx
    └── page.tsx
`})}),`
`,n.jsx(e.p,{children:"이 API는 모든 METHOD를 지원합니다. 그리고, 이 API는 다음과 같이 정의할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import { NextResponse } from 'next/server';

export async function GET() {
  const res = await fetch('https://gitsunmin.dev/...', {
    headers: {
      'Content-Type': 'application/json',
    },
  });
  const data = await res.json();

  return NextResponse.json({ data });
}
`})}),`
`,n.jsx(e.p,{children:"fetch api를 사용하여 다른 METHOD를 사용할 수 있으며 cashing과 다른 option의 사용이 가능합니다."}),`
`,n.jsx(e.p,{children:"또 header와 cookie를 제공하는 것도 가능합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"cookie"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import { cookies } from 'next/headers';

export async function GET(request: Request) {
  const cookieStore = cookies();
  const token = cookieStore.get('token');

  return new Response('Hello, Next.js!', {
    status: 200,
    headers: { 'Set-Cookie': \`token=\${token.value}\` },
  });
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"header"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import { headers } from 'next/headers';

export async function GET(request: Request) {
  const headersList = headers();
  const referer = headersList.get('referer');

  return new Response('Hello, Next.js!', {
    status: 200,
    headers: { referer: referer },
  });
}
`})}),`
`,n.jsx(e.p,{children:"redirect도 가능합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`import { redirect } from 'next/navigation';

export async function GET(request: Request) {
  redirect('https://nextjs.org/');
}
`})}),`
`,n.jsx(e.p,{children:"이 api는 아래와 route와 비슷하게 아래 처럼 사용 가능합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["app/items/[slug]/route.js",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"요청: /items/a"}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"{ slug: 'a' }"})}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["app/items/[slug]/route.js",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"요철: /items/b"}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"{ slug: 'b' }"})}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["app/items/[slug]/route.js",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"요청: /items/c"}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"{ slug: 'c' }"})}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`export async function GET(
  request: Request,
  { params }: { params: { slug: string } }
) {
  const slug = params.slug; // 'a', 'b', or 'c'
}
`})}),`
`,n.jsx(e.h3,{children:"Middleware"}),`
`,n.jsx(e.p,{children:"next에서 제공하는 미들웨어를 사용하기 위해서는 src/middleware.ts 파일을 생성해야 합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// middleware.ts
import { NextResponse } from 'next/server';
import type { NextRequest } from 'next/server';

// This function can be marked \`async\` if using \`await\` inside
export function middleware(request: NextRequest) {
  console.log('야호!');
}

// See "Matching Paths" below to learn more
export const config = {
  matcher: '/*',
};
`})}),`
`,n.jsx(e.p,{children:"이렇게 정의 하면 모든 페이지에 방문할 때 마다 middleware가 실행됩니다. (야호!)"}),`
`,n.jsx(e.p,{children:"이 기능을 이용하여 Redirect, Cookie 사용, Header 업데이트를 할 수 있습니다. 그리고 config의 matcher는 정규 표현식을 사용하며 array로 선언하여 다중 matcher를 사용할 수 있습니다."}),`
`,n.jsx(e.p,{children:"다만, 이 기능은 SSR에서만 사용이 가능하며, 단순 페이지 이동 api 통신 뿐만아니라 서버에서 받아오는 모든 파일에 적용이 됩니다. 그렇기 때문에, 이 기능을 사용할 때에는 불필요한 middleware를 호출을 막기 위해서 matcher를 잘 적용해두어야합니다."}),`
`,n.jsx(e.p,{children:"예시로서 다음과 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`// middleware.ts
...


export const config = {
  matcher: [
    '/((?!_next/static|_next/images|images|favicon.ico|application/views/pegasus/__assets/).*)',
  ],
};
`})}),`
`,n.jsx(e.p,{children:"위 코드는 _next/static, _next/images, images, favicon.ico, application/views/pegasus/__assets/를 제외한 모든 경로에 middleware를 적용합니다. 이렇게 하면, 불필요한 middleware를 호출하는 것을 막을 수 있습니다."})]})}function _2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(XO,{...t})}):XO(t)}const b2e=je({});function j2e(){return n.jsx(Se,{children:n.jsx(_2e,{components:b2e})})}const S2e=ve("/_layout/til/frontend_framework/nextjs")({component:j2e,head:()=>({meta:[{title:"nextjs"}]})});function YO(t){const e={a:"a",code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to use browserslist on Next.js"}),`
`,n.jsx(e.p,{children:"Next.js에서는 특정 브라우저와 버전에 대해서 지원을 제한하는 browserslist을 사용할 수 있습니다."}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"package.json"})," browserslist은 아래와 같이 정의할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-json",children:`{
  "browserslist": {
    "production": [
      ">0.2%",
      "not dead",
      "not op_mini all"
    ],
    "development": [
      "last 1 chrome version",
      "last 1 firefox version",
      "last 1 safari version"
    ]
  }
}
`})}),`
`,n.jsx(e.p,{children:"이런식으로 정의를 해두면, Next.js에서는 빌드 시 브라우저에 맞는 Polyfills를 제공해줍니다."}),`
`,n.jsxs(e.p,{children:["해당 내용은 Next.js의 공식 홈페이지에서도 자세히 나와있기 때문에 ",n.jsx(e.a,{href:"https://nextjs.org/docs/14/architecture/supported-browsers",children:"링크"}),"에서 확인할 있습니다."]})]})}function w2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(YO,{...t})}):YO(t)}const T2e=je({});function C2e(){return n.jsx(Se,{children:n.jsx(w2e,{components:T2e})})}const M2e=ve("/_layout/til/frontend_framework/how-to-use-browserslist-on-nextjs")({component:C2e,head:()=>({meta:[{title:"how to use browserslist on nextjs"}]})});function KO(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Docusaurus"}),`
`,n.jsx(e.p,{children:"Docusaurus은 오픈 소스 문서 정적 웹사이트를 만들기 위한 도구입니다. 이것은 특히 기술 문서, 개발자 문서, 블로그, 제품 문서 등을 작성하고 배포하는 데 유용합니다."}),`
`,n.jsx(e.p,{children:"Docusaurus의 주요 특징과 장점은 다음과 같습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"간단한 구성"}),": Docusaurus는 몇 가지 설정만으로도 문서 웹사이트를 만들 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Markdown 사용"}),": Markdown을 사용하여 문서를 작성하고, Docusaurus는 이를 자동으로 HTML로 변환합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"커스터마이징"}),": 사용자 정의 가능한 테마와 레이아웃을 통해 외관을 개선할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"검색 기능"}),": 검색 엔진을 통해 문서 내용을 쉽게 검색할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"버전 관리"}),": 여러 버전의 문서를 지원하고, 이전 버전과 최신 버전을 비교할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.p,{children:"Docusaurus은 Facebook에서 개발한 도구로 시작되었으며, 개발자 커뮤니티와 확장 가능한 플러그인 생태계를 갖추고 있습니다. 이를 사용하여 사용자 친화적이고 멋진 문서 웹사이트를 구축할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"Project structure"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`my-website
├── blog
│   ├── 2019-05-28-hola.md
│   ├── 2019-05-29-hello-world.md
│   └── 2020-05-30-welcome.md
├── docs
│   ├── doc1.md
│   ├── doc2.md
│   ├── doc3.md
│   └── mdx.md
├── src
│   ├── css
│   │   └── custom.css
│   └── pages
│       ├── styles.module.css
│       └── index.js
├── static
│   └── img
├── docusaurus.config.js
├── package.json
├── README.md
├── sidebars.js
└── yarn.lock
`})}),`
`,n.jsx(e.h2,{children:"Project structure rundown"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/blog/"}),": 블로그 마크다운 파일이 들어 있습니다. 블로그 플러그인을 비활성화한 경우 디렉토리를 삭제할 수 있으며, 경로 옵션을 설정한 후 이름을 변경할 수도 있습니다. 자세한 내용은 블로그 가이드에서 확인할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/docs/"}),": 문서에 대한 마크다운 파일이 들어 있습니다.sidebars.js에서 문서 사이드바의 순서를 사용자 정의할 수 있습니다. 문서 플러그인을 비활성화한 경우 디렉토리를 삭제할 수 있으며, 경로 옵션을 설정한 후 이름을 변경할 수도 있습니다. 자세한 내용은 문서 가이드에서 확인할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/src/"}),": 페이지나 사용자 정의 React 컴포넌트와 같은 문서가 아닌 파일이 들어 있습니다. 문서가 아닌 파일을 엄격하게 이 디렉토리에 놓을 필요는 없지만, 중앙 집중식 디렉토리에 놓으면 린팅/처리를 수행해야 하는 경우 쉽게 지정할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/src/pages"}),": 이 디렉토리 내의 모든 JSX/TSX/MDX 파일은 웹사이트 페이지로 변환됩니다. 자세한 내용은 페이지 가이드에서 확인할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/static/"}),": 정적 디렉토리입니다. 여기에 있는 모든 내용은 최종 빌드 디렉토리의 루트로 복사됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/docusaurus.config.js"}),": 사이트 구성을 포함하는 구성 파일입니다. 이것은 Docusaurus v1의 siteConfig.js와 동일합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/package.json"}),": Docusaurus 웹사이트는 React 앱입니다. 원하는 npm 패키지를 설치하고 사용할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/sidebars.js"}),": 문서에서 문서 사이드바의 문서 순서를 지정하는 데 사용됩니다."]}),`
`]})]})}function E2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(KO,{...t})}):KO(t)}const A2e=je({});function R2e(){return n.jsx(Se,{children:n.jsx(E2e,{components:A2e})})}const L2e=ve("/_layout/til/frontend_framework/docusaurus")({component:R2e,head:()=>({meta:[{title:"docusaurus"}]})});function ZO(t){const e={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Difference Between CSR and SSR"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"동적 데이터 처리의 함정: SSR 환경에서 Date.now() 사용 시 주의점"}),`
`]}),`
`,n.jsx(e.p,{children:"Cookie의 expires를 설정할 때 아래와 같이 사용하였다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`// COOKIE expires.ts
export const expires_1week = new Date(Date.now() + 1000 * 60 * 60 * 24 * 7);
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`// app.ts (SSR)

import { expires_1week } from './expires.ts';

cookie.set(
    name: 'session',
    value: '123',
    {
        expires: expires_1week,
    }
)
`})}),`
`,n.jsx(e.p,{children:"CSR에서는 화면이 랜더링될 때마다 새로운 Date.now()가 생성되지만, SSR에서는 서버가 시작될 때 생성된 Date.now()가 계속 사용된다. 따라서, SSR 환경에서 Date.now()를 사용할 때는 주의해야 한다."}),`
`,n.jsx(e.p,{children:"그래서 서버의 시작 시점의 시간을 사용하려는 의도라면 위와 같이 사용할 수 있지만, 화면이 랜더링될 때마다 새로운 시간을 사용하려면 아래와 같이 사용해야 한다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`// COOKIE expires.ts
export const expires_1week = () => new Date(Date.now() + 1000 * 60 * 60 * 24 * 7);
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ts",children:`// app.ts (SSR)

import { expires_1week } from './expires.ts';

cookie.set(
    name: 'session',
    value: '123',
    {
        expires: expires_1week(),
    }
)
`})})]})}function D2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(ZO,{...t})}):ZO(t)}const k2e=je({});function N2e(){return n.jsx(Se,{children:n.jsx(D2e,{components:k2e})})}const P2e=ve("/_layout/til/frontend_framework/difference-between-csrand-ssr")({component:N2e,head:()=>({meta:[{title:"difference between csrand ssr"}]})});function QO(t){const e={h1:"h1",li:"li",ol:"ol",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Action of nextjs"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"SSR 개요"}),`
`]}),`
`,n.jsx(e.p,{children:"Next.js의 SSR(Server-Side Rendering)은 클라이언트의 요청에 따라 서버에서 React 컴포넌트를 실행하고, HTML을 생성하여 반환하는 방식입니다. 이를 통해 초기 로딩 속도 향상, SEO 최적화, 첫 화면 표시 속도 개선 등의 장점이 있습니다."}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsx(e.li,{children:"SSR의 처리 과정"}),`
`]}),`
`,n.jsx(e.p,{children:"클라이언트 요청: 사용자가 특정 페이지를 요청하면 Next.js 서버가 해당 URL과 매핑된 페이지를 찾습니다."}),`
`,n.jsx(e.p,{children:"데이터 패칭: getServerSideProps를 사용해 서버에서 데이터를 가져옵니다."}),`
`,n.jsx(e.p,{children:"React 컴포넌트 렌더링: ReactDOMServer를 사용하여 React 요소를 HTML 문자열로 변환합니다."}),`
`,n.jsx(e.p,{children:"HTML 응답 전송: Next.js 서버가 완성된 HTML을 브라우저로 반환합니다."}),`
`,n.jsx(e.p,{children:"클라이언트 하이드레이션: React는 ReactDOM.hydrate()를 실행하여 이벤트 핸들러를 추가하고, 브라우저에서 React 앱을 활성화합니다."}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"React 코드의 컴파일과 HTML 변환 과정"}),`
`]}),`
`,n.jsx(e.p,{children:"Next.js는 빌드 시 서버 번들과 클라이언트 번들을 각각 생성합니다."}),`
`,n.jsx(e.p,{children:"SSR 요청 시, Next.js는 ReactDOMServer의 renderToString() 또는 renderToReadableStream()을 사용하여 React 컴포넌트를 HTML로 변환합니다."}),`
`,n.jsx(e.p,{children:"변환된 HTML을 _document.js의 템플릿과 결합하여 최종 HTML을 구성합니다."}),`
`,n.jsxs(e.ol,{start:"4",children:[`
`,n.jsx(e.li,{children:"Next.js SSR 구현의 핵심 라이브러리"}),`
`]}),`
`,n.jsx(e.p,{children:"(1) ReactDOMServer"}),`
`,n.jsx(e.p,{children:"renderToString(): SSR을 위해 React 컴포넌트를 HTML 문자열로 변환하는 API."}),`
`,n.jsx(e.p,{children:"renderToReadableStream(): React 18부터 추가된 스트리밍 SSR 지원 API."}),`
`,n.jsx(e.p,{children:"(2) 데이터 패칭 메커니즘"}),`
`,n.jsx(e.p,{children:"getServerSideProps: 요청 시 실행되며, 데이터를 가져와 SSR 페이지의 props로 전달됨."}),`
`,n.jsx(e.p,{children:"getStaticProps: 빌드 시 데이터를 가져와 정적 페이지를 생성하는 방식."}),`
`,n.jsx(e.p,{children:"getInitialProps: _app.js에서 실행되며, 전역적인 데이터 패칭을 담당함."}),`
`,n.jsx(e.p,{children:"(3) 번들링 및 코드 스플리팅"}),`
`,n.jsx(e.p,{children:"Next.js는 페이지별 코드 스플리팅을 수행하여 불필요한 자바스크립트 로드를 방지함."}),`
`,n.jsx(e.p,{children:"서버 전용 코드(getServerSideProps 등)는 클라이언트 번들에 포함되지 않음."}),`
`,n.jsxs(e.ol,{start:"5",children:[`
`,n.jsx(e.li,{children:"Hydration 과정 (클라이언트 처리)"}),`
`]}),`
`,n.jsx(e.p,{children:"초기 HTML 렌더링: 서버에서 받은 HTML이 먼저 표시됨."}),`
`,n.jsx(e.p,{children:"JS 번들 다운로드: 클라이언트에서 필요한 JavaScript 파일을 로드."}),`
`,n.jsx(e.p,{children:"React Hydration: ReactDOM.hydrate()를 실행하여 기존 DOM에 이벤트 핸들러와 React의 상태를 연결."}),`
`,n.jsx(e.p,{children:"인터랙션 활성화: Hydration이 완료되면 React 컴포넌트가 정상적으로 동작하며, 상태 변경 및 이벤트 처리가 가능해짐."}),`
`,n.jsxs(e.ol,{start:"6",children:[`
`,n.jsx(e.li,{children:"SSR의 장점 및 고려 사항"}),`
`]}),`
`,n.jsx(e.p,{children:"✅ 장점"}),`
`,n.jsx(e.p,{children:"SEO 최적화: 크롤러가 완전한 HTML을 수집 가능."}),`
`,n.jsx(e.p,{children:"빠른 초기 로딩: 브라우저가 즉시 HTML을 렌더링할 수 있음."}),`
`,n.jsx(e.p,{children:"서버 기반 데이터 패칭: 페이지 요청마다 최신 데이터를 반영할 수 있음."}),`
`,n.jsx(e.p,{children:"⚠️ 고려 사항"}),`
`,n.jsx(e.p,{children:"서버 부하: 요청마다 SSR이 실행되므로 트래픽이 많은 경우 부담이 커질 수 있음."}),`
`,n.jsx(e.p,{children:"Hydration 성능 문제: 서버에서 렌더링된 HTML과 클라이언트에서 생성한 React 가상 DOM이 일치해야 함."}),`
`,n.jsx(e.p,{children:"SSR + CSR 하이브리드 전략 필요: Next.js는 첫 페이지 로딩 후 클라이언트 내비게이션을 CSR 방식으로 수행함."}),`
`,n.jsxs(e.ol,{start:"7",children:[`
`,n.jsx(e.li,{children:"결론"}),`
`]}),`
`,n.jsx(e.p,{children:"Next.js의 SSR은 서버에서 React 컴포넌트를 실행하여 HTML을 생성하고, 클라이언트에서 Hydration을 통해 동적 기능을 활성화하는 방식입니다. 이를 통해 빠른 로딩, SEO 개선, 최신 데이터 제공 등의 이점을 얻을 수 있지만, 서버 부하 관리 및 Hydration 최적화가 중요합니다."})]})}function O2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(QO,{...t})}):QO(t)}const B2e=je({});function I2e(){return n.jsx(Se,{children:n.jsx(O2e,{components:B2e})})}const F2e=ve("/_layout/til/frontend_framework/action-of-nextjs")({component:I2e,head:()=>({meta:[{title:"action of nextjs"}]})});function JO(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"마이크로인터랙션"}),`
`,n.jsx(e.h2,{children:"마이크로인터랙션은 무엇인가?"}),`
`,n.jsx(e.h3,{children:"마이크로인터랙션이란?"}),`
`,n.jsx(e.p,{children:"마이크로인터랙션(Microinteraction)이란 사용자의 행동에 반응하여 제공되는 작은 단위의 상호작용을 의미합니다. 이는 사용자 경험(UX)을 향상시키고, 피드백을 제공하며, 직관적인 인터페이스를 만드는 데 중요한 역할을 합니다."}),`
`,n.jsx(e.p,{children:"마이크로인터랙션의 주요 목적은 다음과 같습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"사용자 피드백 제공"}),": 버튼을 클릭하거나 폼을 제출할 때 시각적/청각적 피드백을 제공"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"작업 상태 표시"}),": 로딩 애니메이션, 데이터 저장 상태 표시 등"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"사용자 행동 유도"}),": 애니메이션을 통해 특정 기능을 유도하거나 강조"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"감성적 경험 향상"}),": 재미있는 애니메이션이나 상호작용을 통해 감성적인 만족감 제공"]}),`
`]}),`
`,n.jsx(e.p,{children:"프론트엔드 개발에서는 CSS 애니메이션, JavaScript, 프레임워크(React, Vue 등)를 활용하여 마이크로인터랙션을 구현할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"마이크로인터랙션의 단계"}),`
`,n.jsx(e.p,{children:"마이크로인터랙션은 네 가지 주요 단계로 구성됩니다."}),`
`,n.jsx(e.h3,{children:"1. 트리거 (Trigger)"}),`
`,n.jsx(e.p,{children:"트리거는 마이크로인터랙션을 시작하는 요소입니다. 사용자의 직접적인 행동이나 시스템 상태 변화에 의해 트리거될 수 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"사용자 트리거"}),": 버튼 클릭, 입력 필드 포커스, 마우스 오버 등"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"시스템 트리거"}),": 네트워크 요청 후 응답이 도착했을 때, 배터리 상태 변경, 알람 등"]}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"예시 (사용자 트리거):"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<button class="like-btn">👍 좋아요</button>
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.like-btn:hover {
  transform: scale(1.1);
  transition: transform 0.2s ease-in-out;
}
`})}),`
`,n.jsx(e.h3,{children:"2. 동작규칙 (Rules)"}),`
`,n.jsx(e.p,{children:"동작규칙은 마이크로인터랙션이 작동하는 방식을 결정하는 규칙입니다. 특정 조건을 만족할 때 어떤 애니메이션이나 동작이 실행될지 정의합니다."}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"예시 (클릭 시 색상 변경):"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`document.querySelector('.like-btn').addEventListener('click', function() {
  this.classList.toggle('liked');
});
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.liked {
  color: red;
}
`})}),`
`,n.jsx(e.h3,{children:"3. 피드백 (Feedback)"}),`
`,n.jsx(e.p,{children:"피드백은 사용자가 동작을 수행했을 때 어떤 일이 발생했는지를 시각적, 청각적, 촉각적 요소로 전달하는 것입니다."}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"예시 (애니메이션 효과 추가):"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.liked {
  color: red;
  transform: scale(1.2);
  transition: all 0.3s ease-in-out;
}
`})}),`
`,n.jsx(e.h3,{children:"4. 순환과 모드 (Loops & Modes)"}),`
`,n.jsx(e.p,{children:"순환과 모드는 마이크로인터랙션이 반복되는지, 지속되는지 또는 특정 조건에서만 활성화되는지를 결정합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"순환 (Looping)"}),": 애니메이션이 지속적으로 반복되는지 여부 (예: 로딩 스피너)"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"모드 (Modes)"}),": 특정 상태에서만 동작하는지 여부 (예: 다크 모드 설정 유지)"]}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"예시 (로딩 스피너 구현):"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="loader"></div>
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.loader {
  border: 4px solid #f3f3f3;
  border-top: 4px solid #3498db;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
`})})]})}function U2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(JO,{...t})}):JO(t)}const z2e=je({});function H2e(){return n.jsx(Se,{children:n.jsx(U2e,{components:z2e})})}const V2e=ve("/_layout/til/frontend/microinteraction")({component:H2e,head:()=>({meta:[{title:"microinteraction"}]})});function eB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"typedef"}),`
`,n.jsx(e.p,{children:"typedef는 Type을 alias로 사용할 수 있게 해줍니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`typedef IntList = List<int>;
IntList il = [1,2,3];
`})}),`
`,n.jsx(e.p,{children:"함수를 정의할 때에도 사용이 가능합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`typedef Compare<T> = int Function(T a, T b);

int sort(int a, int b) => a - b;

void main() {
  assert(sort is Compare<int>); // True!
}
`})}),`
`,n.jsx(e.h2,{children:"Example"}),`
`,n.jsx(e.p,{children:"저는 Record를 포함하는 Map 타입을 alias로 사용하고 싶어서 enum과 typedef를 사용해 보았습니다."}),`
`,n.jsx(e.h3,{children:"AS-IS"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`class ErrorInfo {
  final String message;
  final String symbol;

  ErrorInfo({required this.message, required this.symbol});
}

final errorInfos = {
  'NetworkError': ErrorInfo(
    symbol: '📡',
    message: '네트워크 연결이 불안정합니다.',
  ),
  'default': ErrorInfo(
    symbol: '🙏',
    message: '''일시적인 에러가 발생하였습니다.
    잠시 후 다시 시도해주세요.''',
  ),
};
`})}),`
`,n.jsx(e.h3,{children:"TO-BE"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`
typedef ErrorInfo = ({
  String message,
  String symbol,
});

enum ErrorType {
  network,
  otherwise,
}

typedef ErrorInfoMap = Map<ErrorType, ErrorInfo>;

final ErrorInfoMap errorInfos = {
  ErrorType.network: (
    symbol: '📡',
    message: '네트워크 연결이 불안정합니다.',
  ),
  ErrorType.otherwise: (
    symbol: '🙏',
    message: '''일시적인 에러가 발생하였습니다.
    잠시 후 다시 시도해주세요.''',
  ),
};
`})})]})}function G2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(eB,{...t})}):eB(t)}const $2e=je({});function q2e(){return n.jsx(Se,{children:n.jsx(G2e,{components:$2e})})}const W2e=ve("/_layout/til/flutter/typedef")({component:q2e,head:()=>({meta:[{title:"typedef"}]})});function tB(t){const e={a:"a",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:`title: 'Flutter를 여행하는 웹 개발자를 위한 안내서'
summary: 웹 개발자가 Flutter를 사용할 때에 유용한 TIP을 소개합니다.
description: 웹 개발자가 Flutter를 사용할 때에 유용한 TIP을 소개합니다.
date: 2023-11-22 11:58:24
image: /images/blogs/flutter_thumbnail.webp
author: 'Gitsunmin'
categories:`}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:`'2023'
tags:`}),`
`,n.jsx(e.li,{children:"Flutter"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h1,{children:"서론"}),`
`,n.jsx(e.p,{children:"Flutter로 하이브리드 앱 개발 프로젝트를 진행하면서 알게된 내용들을 공유하기 위해서 문서를 작성하였습니다. 다만, 코드 레벨이나 사용법 보다는 개발 과정에서 유용한 TIP이나 추천 사이트 등 위주로 작성하였습니다."}),`
`,n.jsx(e.h1,{children:"본론"}),`
`,n.jsx(e.h2,{children:"Flutter 여행을 위한 준비물"}),`
`,n.jsx(e.p,{children:"안전하고 즐거운 여행이 되기 위해서는 꼭 필요한 준비물이니, 케리어에 미리 넣어두세요."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["언어(Dart)",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://docs.flutter.dev/get-started/flutter-for/web-devs",children:"웹 개발자를 위한 Flutter"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://dart.dev/guides",children:"공식 Dart Document"})}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["코드 편집기",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"저는 VSCode를 추천드리며, 아래의 Extension을 함께 추천드립니다."}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://dartcode.org/",children:"dart & flutter extension"})," - Flutter에서 공식적으로 제공하는 Extension입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://marketplace.visualstudio.com/items?itemName=oscarcs.dart-syntax-highlighting-only",children:"Dart (Syntax Highlighting Only)"})," - Flutter의 문법에 맞게 텍스트를 하이라이팅 해줍니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://marketplace.visualstudio.com/items?itemName=circlecodesolution.ccs-flutter-color",children:"Flutter Color"})," - Flutter에서는 웹과는 다른 문법으로도 제공하고 있기 때문에 필요."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://marketplace.visualstudio.com/items?itemName=alexisvt.flutter-snippets",children:"Flutter Widget Snippets"})," - Flutter 전용 Snippets를 제공"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://marketplace.visualstudio.com/items?itemName=naco-siren.gradle-language",children:"Gradle Language Support"})," - Android 개발 시 필요."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://marketplace.visualstudio.com/items?itemName=mathiasfrohlich.Kotlin",children:"Kotlin Language"})," - Android 개발 시 필요."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["Flutter",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://docs.flutter.dev/",children:"Flutter get started"})," - Javascript와는 다르게 문서화가 매우 잘 되어있습니다. 양이 많지만, 한 번 살펴보면 도움이 됩니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"Flutter의 문화"}),`
`,n.jsx(e.p,{children:"Flutter는 우리가 생활하던 웹과는 조금 다른 문화를 가지고 있습니다. 아래의 내용을 숙지하시고, 여행중에 있을 수 있는 문화차이를 예방하시기 바랍니다."}),`
`,n.jsx(e.h3,{children:"설치형 소프트웨어"}),`
`,n.jsx(e.p,{children:"Flutter로 Web을 개발하는 것이 가능하지만, 데스크탑 앱, 모바일 앱 등 대부분이 설치를 필요로하는 소프트웨어를 개발하게 될 것입니다."}),`
`,n.jsxs(e.p,{children:["1.",n.jsx(e.strong,{children:"배포 및 인증 프로세스"})]}),`
`,n.jsx(e.p,{children:"“웹”이라는 비교적 자유로운 공간이 아닌, App Store, Play Store 혹은 다른 **Store에 배포를 하여 클라이언트의 기기에 설치하는 것이기 때문에, 보안이나 품질 등 다양한 면에서의 검증이 필요합니다. 이러한 검증은 Store에 배포되기 전에 Store 측에서 인증을 해주어야하는데, 짧게는 2시간부터 길게는 일주일까지도 시간이 걸리게 됩니다. 웹에서와 같은 Hotfix 배포는 불가능하다고 생각하고, 좀 더 문제 발생에 대한 대비나 꼼꼼한 테스트가 요구되는 것 같습니다."}),`
`,n.jsxs(e.p,{children:["2.",n.jsx(e.strong,{children:"버전 다양성 관리"})]}),`
`,n.jsx(e.p,{children:"웹에서도 브라우저가 캐싱이 되어서 클라이언트가 이전 버전을 사용하는 경우가 종종있지만, 설치형 소프트웨어의 경우에는 진짜로 이전 버전의 소프트웨어가 설치되어 있는 것이다보니, 버전의 차이도 많이나고, 따로 설치하지 않는 한, 버전이 변경되지 않습니다. 이를 방지하기 위해서 강제 업데이트를 할 수 있도록 특정 버전의 사용을 막거나 백엔드 및 별도 서비스에서 하위 호환성을 고려하여 테스트 후에 배포 되어야 합니다."}),`
`,n.jsxs(e.p,{children:["3.",n.jsx(e.strong,{children:"운영체제 권한 관리"})]}),`
`,n.jsx(e.p,{children:"웹에서도 알림같은 경우에는 요청을 하여 권한을 얻어야하지만, 대표적인 설치형 소프트웨어인 모바일 앱에서는 카메라, 파일 등 많은 기능을 지원하기 위해서는 운영체제에 많은 기능의 권한을 요청하고, 또 사용자에게 고지해야합니다. 이러한 이유 때문에, 항상 권한을 얻지 못 한 경우에 대한 로직도 함께 작성해 주어야하는 점이 있습니다."}),`
`,n.jsx(e.h3,{children:"멀티 플랫폼 지원"}),`
`,n.jsx(e.p,{children:"Flutter는 웹, 앱(IOS, Android), 데스크탑 등 다양한 플랫폼에서 사용가능하며, 하나의 코드로 여러 플랫폼으로의 실행파일로 빌드가 가능합니다. 그렇기 때문에, Flutter 여행을 하기 위해서는 웹 뿐만 아니라 다른 플랫폼의 확장성을 고려하여 여행하는 것이 요구될 수 있습니다."}),`
`,n.jsx(e.h2,{children:"Flutter 여행하기 TIP"}),`
`,n.jsx(e.p,{children:"믿거나말거나 여행사 경력 15년에 빛나는 베스트 가이드의 Flutter 여행 TIP을 공개합니다."}),`
`,n.jsx(e.p,{children:"(p.s. 여행사 경력 없습니다. 😒)"}),`
`,n.jsx(e.h3,{children:"Flutter 여행중 꼭 가봐야 할 곳 Best 4"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://pub.dev/",children:"pub.dev"})," - 웹 개발에서 npm과 동일한 장소이며, 패키지들을 공유하고 관리합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://fluttergems.dev/",children:"fluttergems"})," - Flutter, dart package들을 카테고리화 해두어서 검색하기 좋게 해둔 장소입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://github.com/flutter/flutter",children:"flutter repo"})," - Flutter의 Github인데, 최신 버전, 이슈 등 정보를 확인할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://codelabs.developers.google.com/?product=flutter",children:"google code labs"})," - Google Code Labs에서 Flutter 내용을 다루고 있습니다. 첫 여행자에게는 간단하게 여행을 체험할 수 있는 장소입니다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"취향이 독특한 여행자를 위한 TIP"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["개발자라면 CLI를 써야지.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["대부분의 가이드에서는 에디터의 디버그를 실행하여 앱을 기동하지만, 에디터의 디버그를 사용할 경우에는 에디터가 종료되었을 때, 앱의 기동이 함꼐 종료됩니다. Flutter의 CLI는 강력하기 때문에, 여러가지 옵션을 활용하면 CLI에서 앱을 기동하는 것도 가능하며, 에러와 인스펙터 등 CLI에서 확인 가능합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://docs.flutter.dev/reference/flutter-cli",children:"https://docs.flutter.dev/reference/flutter-cli"})}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["함수형 프로그래밍 줘.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["함수형 TS 개발자라면, ",n.jsx(e.a,{href:"https://gcanti.github.io/fp-ts/",children:"fp-ts"}),"를 알고 계실 것입니다. 이 fp-ts에서 영감을 받은 ",n.jsx(e.a,{href:"https://pub.dev/packages/fpdart",children:"fpdart"}),"도 있으니 사용하시면, Dart로도 함수형 프로그래밍이 가능합니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h3,{children:"Flutter 여행을 더 안전하게 즐기는 방법"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:["기본적인 테스트: Flutter/Dart에서는 기본적으로 Unit Test, Widget Test(Component Test) 그리고 Integration Test를 모두 제공하고 있습니다. → ",n.jsx(e.a,{href:"https://docs.flutter.dev/testing/overview",children:"Here"})]}),`
`,n.jsxs(e.li,{children:["스토어 배포 전에 테스트: Play Store나 App Store와 같은 곳에 배포를 하기 전에 간편하게 특정 사용자에게 앱을 공개하여 테스트를 진행할 수 있습니다.",`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://firebase.google.com/docs/app-distribution?authuser=0&hl=ko",children:"Firebase App Distribution"})," : Firebase에서 제공하는 배포 테스트 툴입니다. 사용 방법이 어렵지 않아서 추천합니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["Others",`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://firebase.google.com/docs/test-lab?hl=ko",children:"Firebase Test Lab"})," : 빌드된 앱을 다양한 기기에서 테스트할 수 있도록 제공해주는 Firebase의 툴입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.a,{href:"https://patrol.leancode.co/",children:"Patrol"})," : Flutter의 UI 테스팅 프레임워크로서 알림, 웹뷰 등 다양한 케이스를 테스트할 수 있습니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h1,{children:"결론"}),`
`,n.jsx(e.p,{children:"웹 개발자로서 Flutter로 앱을 개발하는 TIP을 공유했습니다. 조금이나마 길잡이가 되었으면 좋겠습니다."}),`
`,n.jsx(e.h1,{children:"참조"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://docs.flutter.dev/",children:"https://docs.flutter.dev/"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://dart.dev/guides",children:"https://dart.dev/guides"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://firebase.google.com/docs/app-distribution?authuser=0&hl=ko",children:"https://firebase.google.com/docs/app-distribution?authuser=0&hl=ko"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://pub.dev/",children:"https://pub.dev/"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://fluttergems.dev/",children:"https://fluttergems.dev/"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://github.com/flutter/flutter",children:"https://github.com/flutter/flutter"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://codelabs.developers.google.com/?product=flutter",children:"https://codelabs.developers.google.com/?product=flutter"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://gcanti.github.io/fp-ts/",children:"https://gcanti.github.io/fp-ts/"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://pub.dev/packages/fpdart",children:"https://pub.dev/packages/fpdart"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://firebase.google.com/docs/test-lab?hl=ko",children:"https://firebase.google.com/docs/test-lab?hl=ko"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://patrol.leancode.co/",children:"https://patrol.leancode.co/"})}),`
`]})]})}function X2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(tB,{...t})}):tB(t)}const Y2e=je({});function K2e(){return n.jsx(Se,{children:n.jsx(X2e,{components:Y2e})})}const Z2e=ve("/_layout/til/flutter/tip-for-web-developer")({component:K2e,head:()=>({meta:[{title:"tip for web developer"}]})});function nB(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Sealed Class"}),`
`,n.jsx(e.p,{children:'Sealed는 "봉인된"이라는 뜻이로써 어떠한 것을 감싸는 의미를 가지고 있다. 이 sealed class는 Kotlin and Scala 언어에서도 이미 사용되고 있는 키워드입니다.'}),`
`,n.jsx(e.p,{children:"sealed class는 abstract class와 유사한 성질을 가지고 있습니다. 하지만 sealed class는 abstract class와는 다르게, sealed class를 상속받은 클래스는 sealed class를 상속받은 클래스 내부에서만 상속이 가능합니다."}),`
`,n.jsx(e.p,{children:"sealed class는 다음과 같은 특징을 가지고 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"sealed class는 자체적으로 생성될 수 없습니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"sealed class는 factory constructor를 가질 수 있습니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"sealed class는 자신의 하위 클래스가 사용할 수 있는 constructor를 정의할 수 있습니다."}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"Sealed Class의 사용"}),`
`,n.jsx(e.p,{children:"sealed class는 다음과 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`
sealed class Vehicle {}

class Car extends Vehicle {}

class Truck implements Vehicle {}

class Bicycle extends Vehicle {}

// ERROR: Cannot be instantiated
Vehicle myVehicle = Vehicle();

// Subclasses can be instantiated
Vehicle myCar = Car();

String getVehicleSound(Vehicle vehicle) {
    // ERROR: The switch is missing the Bicycle subtype or a default case.
    return switch (vehicle) {
        Car() => 'vroom',
        Truck() => 'VROOOOMM',
    };
}

`})}),`
`,n.jsx(e.h2,{children:"Sealed Class의 장점"}),`
`,n.jsx(e.p,{children:"sealed class는 다음과 같은 장점을 가지고 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"switch case문을 작성할 때에, class의 속성(상태)도 함께 고려할 수 있습니다."}),`
`,n.jsx(e.li,{children:"switch case문을 작성할 때에, 모든 경우의 수를 고려할 수 있습니다. (컴파일 타임에서 오류를 미리 알 수 있습니다.)"}),`
`]}),`
`,n.jsx(e.h2,{children:"응용"}),`
`,n.jsx(e.p,{children:"sealed class는 다음과 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`sealed class Vehicle {
    String get sound;
}

class Car extends Vehicle {
  String get sound => 'voo';
}

class Truck implements Vehicle {
  String get sound => 'Vooooo';
}

class Bicycle extends Vehicle {
  String get sound => 'VOOOOO';
}

String getVehicleSound(Vehicle vehicle) => switch (vehicle) {
        Car(sound: final sound) => sound,
        Truck(sound: final sound) => sound,
        Bicycle(sound: final sound) => sound,
    };


void main() {
  print(getVehicleSound(Car())); // voo
  print(getVehicleSound(Truck())); // Vooooo
  print(getVehicleSound(Bicycle())); // VOOOOO
}
`})}),`
`,n.jsx(e.p,{children:"위 Pattern Matching에서 Matching된 Vehicle의 sound를 반환하는 함수를 작성할 수 있습니다."})]})}function Q2e(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(nB,{...t})}):nB(t)}const J2e=je({});function eCe(){return n.jsx(Se,{children:n.jsx(Q2e,{components:J2e})})}const tCe=ve("/_layout/til/flutter/sealed-class")({component:eCe,head:()=>({meta:[{title:"sealed class"}]})});function iB(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Replace Entry point with CLI"}),`
`,n.jsx(e.p,{children:"Flutter에서 기본 Entry point는 lib/main.dart 입니다."}),`
`,n.jsx(e.p,{children:"하지만 특수한 목적에 따라서 entry point를 변경하여 Flutter를 실행 시키는 방법이 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`flutter run -t ./lib/main.dev.dart
`})}),`
`,n.jsx(e.p,{children:"위 명령어를 사용하면 (-t : target) Entry point를 변경하여 Flutter를 실행시킬 수 있습니다."}),`
`,n.jsx(e.p,{children:"저는 개발환경에서 다른 동작을 위해서 사용하였습니다."})]})}function nCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(iB,{...t})}):iB(t)}const iCe=je({});function rCe(){return n.jsx(Se,{children:n.jsx(nCe,{components:iCe})})}const sCe=ve("/_layout/til/flutter/replace-entry-point-with-cli")({component:rCe,head:()=>({meta:[{title:"replace entry point with cli"}]})});function rB(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:`title: Flutter APP & Widget Life Cycle
summary: Flutter의 라이프사이클을 설명하였습니다.
description: Flutter의 라이프사이클을 설명하였습니다.
date: 2023-08-17 12:00:00
author: 'Gitsunmin'
image: /images/blogs/flutter_thumbnail.webp
categories:`}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:`'2023'
tags:`}),`
`,n.jsx(e.li,{children:"Flutter"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h1,{children:"서론"}),`
`,n.jsx(e.p,{children:"Flutter는 세련된 UI와 뛰어난 성능을 제공하는 모바일 앱 개발 프레임워크입니다. APP과 Widget의 라이프사이클은 Flutter에서 앱의 행동과 성능을 이해하는 핵심요소입니다."}),`
`,n.jsx(e.h1,{children:"본론"}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"Flutter APP 라이프사이클"})}),`
`,n.jsx(e.p,{children:"Flutter APP의 라이프사이클은 기본적으로 기기의 OS에 따라 결정됩니다. Android와 iOS 모두 APP의 상태 변화에 따른 이벤트를 발생시키는데, 이 이벤트들은 Flutter에서 특정 콜백 메서드를 통해 처리됩니다. 주요 라이프사이클 상태는 다음과 같습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"inactive"})}),": APP이 활성 상태에서 벗어났지만 아직 메모리에 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"paused"})}),": APP이 백그라운드로 이동하였으나, 아직 실행 중입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"resumed"})}),": APP이 백그라운드에서 포그라운드로 돌아왔습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"detached"})}),": APP이 종료되기 직전의 상태입니다."]}),`
`]}),`
`,n.jsx(e.p,{children:"각 상태는 APP의 생명주기 내에서 특정 시점에 발생하며, 해당 상태에 따라 APP의 동작과 자원 사용을 최적화할 수 있습니다."}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"예제 코드:"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`import 'package:flutter/material.dart';
import 'package:logger/logger.dart';

final logger = Logger(
  printer: PrettyPrinter(),
);

void main() {
  runApp(const MyApp());
}

class MyApp extends StatelessWidget {
  const MyApp({super.key});

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      title: 'Gitsunmin Service',
      theme: ThemeData(
        primarySwatch: Colors.blue,
        visualDensity: VisualDensity.adaptivePlatformDensity,
      ),
      home: const MyHomePage(title: 'gitsunmin'),
    );
  }
}

class MyHomePage extends StatefulWidget {
  const MyHomePage({super.key, required this.title});
  final String title;

  @override
  State<MyHomePage> createState() => _MyHomePageState();
}

class _MyHomePageState extends State<MyHomePage> with WidgetsBindingObserver {
  @override
  void initState() {
    //앱 상태 변경 이벤트 등록
    WidgetsBinding.instance.addObserver(this);
    super.initState();
  }

  @override
  void dispose() {
    //앱 상태 변경 이벤트 해제
    //문제는 앱 종료시 dispose함수가 호출되지 않아 해당 함수를 실행 할 수가 없다.
    WidgetsBinding.instance.removeObserver(this);
    super.dispose();
  }

  // 앱 상태 변경시 호출
  @override
  void didChangeAppLifecycleState(AppLifecycleState state) {
    switch (state) {
      case AppLifecycleState.inactive:
        // 앱이 비활성화 되었을때
        logger.d("inactive");
        break;
      case AppLifecycleState.resumed:
        // 앱이 재개 되었을때
        logger.d("resumed");
        break;
      case AppLifecycleState.paused:
        // 앱이 일시정지 되었을때
        logger.d("paused");
        break;
      case AppLifecycleState.detached:
        // 앱이 종료되었을때
        logger.d("detached");
        break;
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text(widget.title),
      ),
      body: const Center(child: Text("Test WidgetsBindingObserver.")),
    );
  }
}
`})}),`
`,n.jsx(e.h2,{children:n.jsx(e.strong,{children:"Flutter Widget 라이프사이클"})}),`
`,n.jsx(e.p,{children:"Flutter Widget의 라이프사이클은 Widget의 생성부터 소멸까지의 과정을 설명합니다. 주요 메서드는 다음과 같습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"createState()"}),": StatefulWidget이 생성될 때 호출되며, State 객체를 생성합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"initState()"}),": State 객체의 초기화가 일어나는 메서드입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"didChangeDependencies()"}),": Widget이 부모 Widget으로부터 데이터를 받거나, 외부 데이터 소스와의 연결이 필요할 때 호출됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"build()"}),": Widget을 화면에 그리기 위한 메서드입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"didUpdateWidget()"}),": 부모 Widget으로부터 새로운 설정을 받았을 때 호출됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"setState()"}),": 데이터 변경을 통해 UI를 갱신할 필요가 있을 때 호출됩니다. 이 메서드를 호출하면 Widget은 ",n.jsx(e.code,{children:"dirty"})," 상태가 되어 ",n.jsx(e.code,{children:"build()"}),"가 다시 호출됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"deactivate()"}),": Widget이 위젯 트리에서 제거될 준비가 되면 호출됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"dispose()"}),": Widget의 생명주기가 종료되고 메모리에서 해제될 준비가 되면 호출됩니다."]}),`
`]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"dirty"}),"와 ",n.jsx(e.code,{children:"clean"})," 개념: Widget은 그려질 준비가 되었을 때 ",n.jsx(e.code,{children:"clean"})," 상태입니다. 하지만 ",n.jsx(e.code,{children:"setState()"}),"를 호출하면 ",n.jsx(e.code,{children:"dirty"})," 상태가 되어 다시 그려질 필요가 생깁니다. ",n.jsx(e.code,{children:"build()"})," 메서드가 호출된 후에는 Widget은 다시 ",n.jsx(e.code,{children:"clean"})," 상태가 됩니다."]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"예제 코드:"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`import 'package:flutter/material.dart';
import 'package:logger/logger.dart';

final logger = Logger(
  printer: PrettyPrinter(),
);

class LifecycleWidget extends StatefulWidget {
  const LifecycleWidget({super.key});

  @override
  State<LifecycleWidget> createState() => _LifecycleWidgetState();
}

class _LifecycleWidgetState extends State<LifecycleWidget> {
  @override
  void initState() {
    super.initState();
    logger.d("initState() called");
  }

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    logger.d("didChangeDependencies() called");
  }

  @override
  Widget build(BuildContext context) {
    logger.d("build() called");
    return IconButton(
      icon: const Icon(Icons.add),
      onPressed: () {
        setState(() {
          // Widget becomes dirty
          logger.d("setState() called");
        });
      },
    );
  }

  @override
  void didUpdateWidget(covariant LifecycleWidget oldWidget) {
    super.didUpdateWidget(oldWidget);
    logger.d("didUpdateWidget() called");
  }

  @override
  void deactivate() {
    super.deactivate();
    logger.d("deactivate() called");
  }

  @override
  void dispose() {
    super.dispose();
    logger.d("dispose() called");
  }
}
`})}),`
`,n.jsx(e.h1,{children:"결론"}),`
`,n.jsx(e.p,{children:"Flutter의 APP과 Widget 라이프사이클은 앱의 성능과 사용자 경험을 최적화하는 데 중요한 역할을 합니다. 이를 통해 Flutter 앱 개발 시 앱의 동작을 더 잘 이해하고 최적화 할 수 있습니다."}),`
`,n.jsx(e.h1,{children:"참조"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Flutter 공식 문서: ",n.jsx(e.a,{href:"https://flutter.dev/docs",children:"Flutter Docs"})]}),`
`,n.jsxs(e.li,{children:["Flutter App Lifecycles: ",n.jsx(e.a,{href:"https://api.flutter.dev/flutter/dart-ui/AppLifecycleState.html",children:"Flutter App Lifecycle"})]}),`
`,n.jsxs(e.li,{children:["Flutter Widget Lifecycle: ",n.jsx(e.a,{href:"https://api.flutter.dev/flutter/widgets/State-class.html",children:"Flutter Widget Lifecycle"})]}),`
`]})]})}function aCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(rB,{...t})}):rB(t)}const oCe=je({});function lCe(){return n.jsx(Se,{children:n.jsx(aCe,{components:oCe})})}const cCe=ve("/_layout/til/flutter/lifecycle")({component:lCe,head:()=>({meta:[{title:"lifecycle"}]})});function sB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Learning Dart"}),`
`,n.jsx(e.p,{children:"Dart 공식 문서를 읽으면서, Typescript나 Javascript만 사용한 나에게 새롭거나 잘 안 외워지는 것들을 적어보았습니다."}),`
`,n.jsx(e.h2,{children:"Null safety"}),`
`,n.jsx(e.p,{children:"Dart에서는 Null 역참조 오류를 run-time이 아닌, compile-time에서 확인할 수 있습니다. 그렇기 때문에, 빌드가 되었다면 run-time에서 안전하게 변수를 사용할 수 있습니다."}),`
`,n.jsx(e.p,{children:"아래와 같이 참고할 수 있는 3가지 성질이 있습니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"변수를 선언할 때에, Null을 활성화 하는 것이 가능합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:"String? name  // Nullable type. Can be `null` or string.\n\nString name   // Non-nullable type. Cannot be `null` but can be string.\n"})}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"변수를 사용하기 전에 초기화해야 합니다. 널 가능 변수는 기본값이 널이므로 기본적으로 초기화됩니다. Dart는 초기 값을 널이 아닌 유형으로 설정하지 않습니다. 초기값을 설정하도록 강제합니다."}),`
`,n.jsxs(e.li,{children:["널 가능 타입의 표현식에서는 프로퍼티에 액세스하거나 메서드를 호출할 수 없습니다. (",n.jsx(e.code,{children:"hashCode"}),"나 ",n.jsx(e.code,{children:"toString()"}),"과 같이 널이 지원하는 속성이나 메서드인 경우에도 동일한 예외가 적용됩니다.)"]}),`
`]}),`
`,n.jsx(e.h2,{children:"Late Variables"}),`
`,n.jsx(e.p,{children:"느리게 변수를 초기화하는 방식으로 변수를 선언하는 것입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`late String description;

void main() {
  description = 'Feijoada!';
  print(description);
}
`})}),`
`,n.jsxs(e.p,{children:["(만약에 ",n.jsx(e.code,{children:"description"})," 변수를 초기화 하지 않는다면, runtime환경에서 에러가 발생합니다.)"]}),`
`,n.jsxs(e.p,{children:["이 기능은 아래와 같이 사용하지 않을 수도 있는 변수를 선언할 때에 유용하게 동작할 수 있는데, 아래의 ",n.jsx(e.code,{children:"readThermometer"})," 함수는 ",n.jsx(e.code,{children:"temperature"})," 변수가 사용 되지 않으면, 실행되지 않도록 설계되었습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`// This is the program's only call to readThermometer().
late String temperature = readThermometer(); // Lazily initialized.
`})}),`
`,n.jsx(e.h2,{children:"Operator"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"~/"})," : 나누기 후 정수 결과만 반환."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"ex) 2/5 ⇒ 2.5, 2~/5 ⇒ 2"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Type test operators: runtime에서 Type을 확인할 때 사용하는 문법"}),`
`,n.jsx(e.p,{children:`| as | Typecast (also used to specify https://dart.dev/language/libraries#specifying-a-library-prefix) |
| --- | --- |
| is | True if the object has the specified type |
| is! | True if the object doesn’t have the specified type |`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Other operators"}),`
`,n.jsx(e.p,{children:`| ?[] | Conditional subscript access | Like [], but the leftmost operand can be null; example: fooList?[1] passes the int 1 to fooList to access the element at index 1 unless fooList is null (in which case the expression evaluates to null) |
| --- | --- | --- |
| ?. | Conditional member access | Like ., but the leftmost operand can be null; example: foo?.bar selects property bar from expression foo unless foo is null (in which case the value of foo?.bar is null) |
| ! | Null assertion operator | Casts an expression to its underlying non-nullable type, throwing a runtime exception if the cast fails; example: foo!.bar asserts foo is non-null and selects the property bar, unless foo is null in which case a runtime exception is thrown |`}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Cascade notation"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"객체 선언 후 재학습 필요."}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"Metadata"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"@Deprecated"}),`
`,n.jsx(e.li,{children:"@deprecated"}),`
`,n.jsx(e.li,{children:"@override"}),`
`,n.jsx(e.li,{children:"사용저 정의 가능."}),`
`]}),`
`,n.jsx(e.h2,{children:"Libraries & imports"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Specifying a library prefix"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`import 'package:lib1/lib1.dart';
import 'package:lib2/lib2.dart' as lib2;

// Uses Element from lib1.
Element element1 = Element();

// Uses Element from lib2.
lib2.Element element2 = lib2.Element();
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Importing only part of a library"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`// Import only foo.
import 'package:lib1/lib1.dart' show foo;

// Import all names EXCEPT foo.
import 'package:lib2/lib2.dart' hide foo;
`})}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"Types"}),`
`,n.jsx(e.h3,{children:"Number"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"int"}),"와 ",n.jsx(e.code,{children:"double"}),"은 모두 ",n.jsx(e.code,{children:"num"})," Type에 하위 개념."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"int"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Native에서는"}),`
`]}),`
`,n.jsxs(e.p,{children:[`$$
-2^`,63," ~~to~~ 2^",63,` - 1
$$`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Web에서는"}),`
`]}),`
`,n.jsxs(e.p,{children:[`$$
-2^`,53," ~~to~~ 2^",53,` - 1
$$`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"double"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"소수점을 표현하기 위한 Type"}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h3,{children:"Strings"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"문자열 합치기 (붙여서 나옴 → ‘String concatencation works even over line breaks.’)"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`var s1 = 'String '
    'concatenation'
    " works even over line breaks.";

`})}),`
`,n.jsx(e.h3,{children:"Symbols"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`void main() {
  var id = #radix;
  print(id); // Symbol("radix")
}
`})}),`
`,n.jsx(e.h3,{children:"Records"}),`
`,n.jsxs(e.p,{children:["Dart에서의 Record는 익명으로 사용이 가능하며, ",n.jsx(e.code,{children:"immutable"})," 한 Type으로 사용되고 있습니다.  얼핏 보면, 다른 Collection Type들과 비슷해 보이지만, size가 고정적인 것과, 서로 다른 Type들을 묶을 수 있는 점에서 다릅니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`(String, int, { int a, bool b }) record = ('first', 22, a: 1, b: true);
`})}),`
`,n.jsx(e.p,{children:"위 의 record를 보면, type도 요소별로 다르게 설정할 수 있고, javascript의 obejct와 같이 사용도 가능합니다. 특이하네요. 각 요소에 접근하는 방법은 아래와 같습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`void main() {
  print(record.$1); // first
  print(record.a); // 1
  print(record.b); // true
  print(record.$2); // 22
}
`})}),`
`,n.jsx(e.p,{children:"또, javascript와 다른 점은 변수의 참조 주소로 동등성 비교를 하지 않는 다는 점입니다. dart의 record는 필드와 값이 같다면, 같은 record로 판단됩니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`(String, int, { int a, bool b }) record = ('first', 22, a: 1, b: true);
(String, int, { int a, bool b }) record2 = ('first', 22, a: 1, b: true);

void main() {
  print(record == record2); // true
}
`})}),`
`,n.jsx(e.h2,{children:"Collections"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Map, List, Set 등 다른 Collection에서는 동등 비교를 Record 처럼 하지 않습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`({ int a, String b }) r1 = ( a: 1, b: 'ss' );
({ int a, String b }) r2 = ( a: 1, b: 'ss' );

Map<String, int> m1 = { 'a': 123, 'b': 234 };
Map<String, int> m2 = { 'a': 123, 'b': 234 };

List<int> l1 = [1,2,3,4];
List<int> l2 = [1,2,3,4];

Set<int> s1 = {1,2,3,4};
Set<int> s2 = {1,2,3,4};

void main() {
  print(r1 == r2); // True
  print(m1 == m2); // False
  print(l1 == l2); // False
  print(s1 == s2); // False
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"destructuring을 하게되면, 아래와 같은 것도 가능합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`Map<String, int> hist = {
  'a': 23,
  'b': 100,
};

for (var MapEntry(key: key, value: count) in hist.entries) {
  print('$key occurred $count times');
	// a occurred 23 times
  // b occurred 100 times
}
`})}),`
`,n.jsxs(e.p,{children:["그리고 다음과 같이 Key를 축약하는 것도 가능합니다. (",n.jsx(e.code,{children:"key: key"})," → ",n.jsx(e.code,{children:":key"}),")"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`for (var MapEntry(:key, value: count) in hist.entries)
`})}),`
`,n.jsx(e.h3,{children:"Dynamic"}),`
`,n.jsx(e.p,{children:"아래와 같이 사용 가능한 Dynamic Type을 제공함. (마치 javascript 같은..)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`List<dynamic> l1 = [1,2,'3', {2}];
  print(l1); // [1, 2, 3, {2}]
`})}),`
`,n.jsx(e.h3,{children:"Control-flow operators"}),`
`,n.jsx(e.p,{children:"Control-flow operators은 각 Collection을 정의할 때에 conrtol-flow를 사용할 수 있도록 제공하는 문법입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`var nav = ['Home', 'Furniture', 'Plants', if (promoActive) 'Outlet'];
// promoActive가 true -> ['Home', 'Furniture', 'Plants', 'Outlet']
// promoActive가 false -> ['Home', 'Furniture', 'Plants']
`})}),`
`,n.jsxs(e.p,{children:["위와 같이 작성하면, ",n.jsx(e.code,{children:"promoActive"}),"가 ",n.jsx(e.code,{children:"true"}),"인 경우에만 ",n.jsx(e.code,{children:"Outlet"}),"이 nav의 요소에 추가된 것을 볼 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`var listOfInts = [1, 2, 3, 4];
var listOfStrings = ['#0', for (var i in listOfInts) '#\${i}'];
print(listOfStrings);
// [#0, #1, #2, #3, #4]
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"Typedefs"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`typedef IntList = List<int>;
IntList il = [1, 2, 3];
`})}),`
`,n.jsx(e.p,{children:"이렇게 정의합니다."}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"is"})," keyword를 사용하여 아래와 같이 확인하는 것도 가능합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`typedef Compare<T> = int Function(T a, T b);

int sort(int a, int b) => a - b;

void main() {
  assert(sort is Compare<int>); // True!
}
`})}),`
`,n.jsx(e.h2,{children:"Type System"}),`
`,n.jsx(e.p,{children:"Super Class와 Sub Class가 있을 때, 아래와 같은 규칙이 적용됩니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Super Class, Method의 Return Type은 Sub Class에서 Override할 경우에 Super Class의 Method의 Return Type과 같거나 하위인 Type이 적용되어야 합니다."}),`
`,n.jsx(e.li,{children:"Super Class, Methods의 Parameter Type은 Sub Class에서 Override할 경우에 Super Class의 Method의 Parameter Type과 같거나 상위인 Type이 적용되어야 합니다."}),`
`,n.jsx(e.li,{children:"변수를 생성할 때에, Type의 할당은 Sub Class에 Super Class의 Type을 넣을 수는 있지만, 반대는 불가능합니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"Patterns"}),`
`,n.jsxs(e.p,{children:["dart에서는 Pattern matching을 ",n.jsx(e.code,{children:"switch"})," 문으로 제공을 하는데, 아래와 같은 Pattern을 제공합니다."]}),`
`,n.jsx(e.h3,{children:"Logical-or"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`var isPrimary = switch (color) {
  Color.red || Color.yellow || Color.blue => true,
  _ => false
};
`})}),`
`,n.jsx(e.h3,{children:"Logical-and"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`var isPrimary = switch (color) {
  Color.red && Color.yellow && Color.blue => true,
  _ => false
};
`})}),`
`,n.jsx(e.h3,{children:n.jsx(e.strong,{children:"Relational"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`String asciiCharType(int char) {
  const space = 32;
  const zero = 48;
  const nine = 57;

  return switch (char) {
    < space => 'control',
    == space => 'space',
    > space && < zero => 'punctuation',
    >= zero && <= nine => 'digit',
    _ => ''
  };
}

void main() {
  print(asciiCharType(40)); // punctuation
}
`})}),`
`,n.jsx(e.h3,{children:"Null-check"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`void main() {
  String? maybeString = 'my name is gitunmin';
  switch (maybeString) {
    case var s?:
      print('s: $s');
    case null:
      print('this is the null');
    case _:
      print('wildcard');
  }
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["위와 같은 경우에는 ",n.jsx(e.code,{children:"s: my name is gitsunmin"})," 으로 로그가 찍히고, maybeString이 ",n.jsx(e.code,{children:"null"})," 인 경우에는 ",n.jsx(e.code,{children:"this is the null"})," 이 로그에 찍힘"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"case var s?"})," vs ",n.jsx(e.code,{children:"case var s"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"?"})," keyword를 붙이지 않으면, ",n.jsx(e.code,{children:"null"}),"인 경우에도 첫 번째 ",n.jsx(e.code,{children:"case"}),"에 매칭됩니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h3,{children:"Null-assert"}),`
`,n.jsxs(e.p,{children:["아래와 같이 사용하게 되면, ",n.jsx(e.code,{children:"var name"}),"이 항상 null이 아님을 보증할 수 있습니다. 만약 null이라면 runtime 에러가 발생합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`void main() {
  List<String?> row = ['user', null];

  switch (row) {
    case ['user', var name!]:
      print('user Name');
    default:
      print('wildcard');
  }
}
`})}),`
`,n.jsx(e.h3,{children:"Rest element"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`var [a, b, ..., c, d] = [1, 2, 3, 4, 5, 6, 7];
// Prints "1 2 6 7".
print('$a $b $c $d');

var [a, b, ...rest, c, d] = [1, 2, 3, 4, 5, 6, 7];
// Prints "1 2 [3, 4, 5] 6 7".
print('$a $b $rest $c $d');
`})}),`
`,n.jsx(e.h2,{children:"Functions"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`
// arrow function
String ping() => 'pong';

void enabledFlags({bool? bold, required bool hidden, bool error = false}) {
  print('bold: $bold, hidden: $hidden, error: $error');
}

// function as first-class object
var loudify = (String message) => '!!!\${message.toUpperCase()}!!!';

void main() {
  // arrow function
  print('ping -> \${ping()}'); // ping -> pong
  // error가 기본값으로 채워짐
  enabledFlags(bold: true, hidden: false); // bold: true, hidden: false, error: false
  // bold가 null로 채워짐
  enabledFlags(hidden: true); // bold: null, hidden: true, error: false
  // error에 값을 할당함.
  enabledFlags(hidden: false, error: true); // bold: null, hidden: false, error: true
  // required 값이 채워지지 않으면 에러가 발생함.
  enabledFlags(bold: true); // ! Error: Required named parameter 'hidden' must be provided.

	print('\${loudify('퇴근하고싶다')}'); // !!!퇴근하고싶다!!!
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"return 하지 않는 Function은 null을 반환합니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:`foo() {}

assert(foo() == null);
`})}),`
`,n.jsx(e.h3,{children:"Generators"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Synchronous generator는 Iterable 객체를 반환하는 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`Iterable<int> naturalsTo(int n) sync* {
  int k = 0;
  while (k < n) yield k++;
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Asynchronous henerator는 Steam 객체를 반환하는 함수입니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`Stream<int> asynchronousNaturalsTo(int n) async* {
  int k = 0;
  while (k < n) yield k++;
}
`})})]})}function hCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(sB,{...t})}):sB(t)}const uCe=je({});function dCe(){return n.jsx(Se,{children:n.jsx(hCe,{components:uCe})})}const fCe=ve("/_layout/til/flutter/learning-dart")({component:dCe,head:()=>({meta:[{title:"learning dart"}]})});function aB(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to go store"}),`
`,n.jsx(e.p,{children:"flutter에서 deeplink를 이용해서 스토어를 찾아가는 방법이 있습니다."}),`
`,n.jsxs(e.p,{children:["저는 ",n.jsx(e.a,{href:"https://pub.dev/packages/url_launcher",children:"url_launcher"}),"를 이용해서 구현했습니다."]}),`
`,n.jsx(e.h2,{children:"Android"}),`
`,n.jsx(e.p,{children:"dart code"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`const url = Uri.parse('market://details/?id=패키지명'); // (예: com.example.flutter.flavor)

if (await canLaunch(url)) {
  await launch(url);
} else {
  throw 'Could not launch $url';
}

`})}),`
`,n.jsx(e.h2,{children:"iOS"}),`
`,n.jsx(e.p,{children:"dart code"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`const url = Uri.parse('https://apps.apple.com/kr/app/362057947'); // (예: com.example.flutter.flavor)

if (await canLaunch(url)) {
  await launch(url);
} else {
  throw 'Could not launch $url';
}
`})})]})}function pCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(aB,{...t})}):aB(t)}const mCe=je({});function gCe(){return n.jsx(Se,{children:n.jsx(pCe,{components:mCe})})}const xCe=ve("/_layout/til/flutter/how-to-go-store")({component:gCe,head:()=>({meta:[{title:"how to go store"}]})});function oB(t){const e={br:"br",code:"code",h1:"h1",h3:"h3",p:"p",pre:"pre",strong:"strong",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Future and Stream"}),`
`,n.jsxs(e.p,{children:["Dart 언어에서 ",n.jsx(e.code,{children:"Future"}),"와 ",n.jsx(e.code,{children:"Stream"}),"은 비동기 프로그래밍의 핵심 컴포넌트입니다. 이 두 개념을 이해하면 비동기적으로 동작하는 코드를 효과적으로 작성할 수 있습니다."]}),`
`,n.jsx(e.h3,{children:"1. Future"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"설명:"}),n.jsx(e.br,{}),`
`,n.jsx(e.code,{children:"Future"}),"는 Dart에서 비동기 작업의 결과를 나타내는 객체입니다. 흔히, 데이터베이스 쿼리나 네트워크 요청과 같이 시간이 걸리는 작업의 결과를 나타낼 때 사용됩니다. ",n.jsx(e.code,{children:"Future"}),"는 두 가지 상태를 가질 수 있습니다: 완료(completed) 상태와 미완료(not completed) 상태. ",n.jsx(e.code,{children:"Future"}),"는 완료되면 값을 반환하거나 오류를 발생시킬 수 있습니다."]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"예시:"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`Future<String> fetchUserData() async {
  await Future.delayed(Duration(seconds: 2)); // 2초의 지연을 나타냅니다.
  return 'User Data';
}

void main() async {
  print('Fetching user data...');
  String data = await fetchUserData();
  print(data); // 'User Data'
}
`})}),`
`,n.jsx(e.h3,{children:"2. Stream"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"설명:"}),n.jsx(e.br,{}),`
`,n.jsx(e.code,{children:"Stream"}),"은 시간에 따라 여러 값을 생성하는 비동기 시퀀스입니다. 간단히 말해서, ",n.jsx(e.code,{children:"Future"}),"가 단일 값이나 오류를 반환하는 반면, ",n.jsx(e.code,{children:"Stream"}),"은 시간에 따라 여러 개의 값이나 오류를 반환할 수 있습니다. 예를 들어, 사용자가 버튼을 누를 때마다 값을 생성하는 스트림 또는 파일을 읽을 때마다 데이터 청크를 생성하는 스트림과 같은 것을 생각해볼 수 있습니다."]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"예시:"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`Stream<int> countStream(int to) async* {
  for (int i = 1; i <= to; i++) {
    await Future.delayed(Duration(seconds: 1));
    yield i;
  }
}

void main() async {
  print('Start counting...');
  await for (var number in countStream(5)) {
    print(number);
  }
  print('Done.');
}
`})}),`
`,n.jsxs(e.p,{children:["위의 스트림 예제에서 ",n.jsx(e.code,{children:"countStream"}),"은 1부터 5까지의 숫자를 매 초마다 생성하는 스트림입니다. ",n.jsx(e.code,{children:"await for"})," 루프는 스트림에서 값을 하나씩 읽어들여 처리합니다."]})]})}function yCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(oB,{...t})}):oB(t)}const vCe=je({});function _Ce(){return n.jsx(Se,{children:n.jsx(yCe,{components:vCe})})}const bCe=ve("/_layout/til/flutter/future-and-stream")({component:_Ce,head:()=>({meta:[{title:"future and stream"}]})});function lB(t){const e={h1:"h1",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Flutterflow"}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"FlutterFlow란?"})}),`
`,n.jsx(e.p,{children:"FlutterFlow는 Google에서 제공하는 비주얼 프로그래밍 도구로, Flutter를 사용하여 모바일 앱을 개발할 수 있도록 도와줍니다. FlutterFlow를 사용하면 코드를 작성하지 않고도 앱의 UI를 디자인하고, 데이터베이스를 연결하고, 기능을 구현할 수 있습니다."}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"FlutterFlow의 특징"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"비주얼 프로그래밍:"})," 코드를 작성하지 않고도 앱의 UI를 디자인하고, 데이터베이스를 연결하고, 기능을 구현할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"빠른 개발:"})," FlutterFlow의 강력한 기능을 활용하면 빠르게 앱을 개발할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"협업:"})," FlutterFlow는 협업 기능을 제공하여 여러 사용자가 동시에 앱을 개발할 수 있습니다."]}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"FlutterFlow의 사용 방법"})}),`
`,n.jsx(e.p,{children:"FlutterFlow를 사용하려면 먼저 FlutterFlow 계정을 생성해야 합니다. 계정을 생성한 후에는 FlutterFlow의 웹사이트 또는 모바일 앱을 사용하여 앱을 개발할 수 있습니다."}),`
`,n.jsx(e.p,{children:"FlutterFlow의 웹사이트에서 앱을 개발하려면 다음 단계를 따르세요."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"새 앱을 만듭니다."})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"앱의 UI를 디자인합니다."})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"데이터베이스를 연결합니다."})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"기능을 구현합니다."})}),`
`]}),`
`,n.jsx(e.p,{children:"FlutterFlow의 모바일 앱에서 앱을 개발하려면 다음 단계를 따르세요."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"앱을 엽니다."})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"앱의 UI를 디자인합니다."})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"데이터베이스를 연결합니다."})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"기능을 구현합니다."})}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"FlutterFlow의 장점"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"코드 작성 없이 앱 개발 가능:"})," FlutterFlow를 사용하면 코드를 작성하지 않고도 앱을 개발할 수 있습니다. 이는 프로그래밍 경험이 없는 사용자도 쉽게 앱을 개발할 수 있는 방법을 제공합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"빠른 개발 가능:"})," FlutterFlow의 강력한 기능을 활용하면 빠르게 앱을 개발할 수 있습니다. 이는 개발 시간을 절약하고, 출시 속도를 높일 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"협업 가능:"})," FlutterFlow는 협업 기능을 제공하여 여러 사용자가 동시에 앱을 개발할 수 있습니다. 이는 대규모 프로젝트를 진행할 때 유용합니다."]}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"FlutterFlow의 단점"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"학습 곡선:"})," FlutterFlow를 사용하기 위해서는 어느 정도의 학습이 필요합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"강력한 의존:"})," Project를 수정하려면 Code로 수정은 힘들고, FlutterFlow를 통해 수정해야 합니다."]}),`
`]}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"결론"})}),`
`,n.jsx(e.p,{children:"FlutterFlow는 코드 작성 없이 Flutter를 사용하여 모바일 앱을 개발할 수 있는 비주얼 프로그래밍 도구입니다. FlutterFlow를 사용하면 빠르고 쉽게 앱을 개발할 수 있으며, 협업도 가능합니다. FlutterFlow는 프로그래밍 경험이 없는 사용자도 쉽게 앱을 개발할 수 있는 방법을 제공하며, 다양한 종류의 앱을 개발하는 데 사용할 수 있습니다."})]})}function jCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(lB,{...t})}):lB(t)}const SCe=je({});function wCe(){return n.jsx(Se,{children:n.jsx(jCe,{components:SCe})})}const TCe=ve("/_layout/til/flutter/flutterflow")({component:wCe,head:()=>({meta:[{title:"flutterflow"}]})});function cB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"FlutterMethodChannel"}),`
`,n.jsx(e.h2,{children:"FlutterMethodChannel 이란?"}),`
`,n.jsx(e.p,{children:"Flutter의 MethodChannel은 Flutter 앱과 호스트(안드로이드 또는 iOS) 플랫폼 간의 통신을 가능하게 하는 메커니즘입니다. 이를 사용하여 Flutter에서 네이티브 플랫폼의 코드를 호출하거나 반대로 네이티브 플랫폼에서 Flutter 코드를 호출할 수 있습니다. 이러한 방식은 Flutter에서 제공하지 않는 플랫폼별 기능을 구현하는 데 유용합니다."}),`
`,n.jsx(e.h2,{children:"FlutterMethodChannel 사용하기"}),`
`,n.jsx(e.h3,{children:"Flutter에서 네이티브 플랫폼의 코드 호출하기"}),`
`,n.jsx(e.p,{children:"Flutter에서 네이티브 플랫폼의 코드를 호출하려면 MethodChannel을 사용하여 네이티브 플랫폼의 코드를 호출하고 결과를 받아올 수 있습니다. 아래는 Flutter에서 네이티브 플랫폼의 코드를 호출하는 예제입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`// Flutter
static const platform = const MethodChannel('com.example.flutter_method_channel_example');

Future<void> _getBatteryLevel() async {
  String batteryLevel;
  try {
    final int result = await platform.invokeMethod('getBatteryLevel');
    batteryLevel = 'Battery level at $result % .';
  } on PlatformException catch (e) {
    batteryLevel = "Failed to get battery level: '\${e.message}'.";
  }
}
`})}),`
`,n.jsxs(e.p,{children:["먼저 Dart 코드에서 ",n.jsx(e.code,{children:"MethodChannel"}),"을 호출하고, 파라미터로 네임스페이스를 지정합니다. 이 네임스페이스는 네이티브 플랫폼의 코드에서 사용됩니다. 그리고 ",n.jsx(e.code,{children:"invokeMethod"}),"를 사용하여 네이티브 플랫폼의 코드를 호출합니다. 이때 ",n.jsx(e.code,{children:"invokeMethod"}),"의 파라미터로는 네이티브 플랫폼의 코드에서 사용할 메소드의 이름을 지정합니다. 그리고 ",n.jsx(e.code,{children:"invokeMethod"}),"의 결과로는 ",n.jsx(e.code,{children:"Future"}),"를 반환합니다. 이 ",n.jsx(e.code,{children:"Future"}),"는 네이티브 플랫폼의 코드가 실행되고 결과를 반환하면 완료됩니다. 이때 ",n.jsx(e.code,{children:"Future"}),"의 결과는 네이티브 플랫폼의 코드에서 반환한 값입니다."]}),`
`,n.jsx(e.p,{children:"이것이 Flutter에서 네이티브 플랫폼의 코드를 호출하는 방법입니다. 이제 네이티브 플랫폼의 코드에서 Flutter 코드를 호출하는 방법을 알아보겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-kotlin",children:`// Android (MainActivity.kt)

class MainActivity : FlutterActivity() {
  private val CHANNEL = "com.example.flutter_method_channel_example"

  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    GeneratedPluginRegistrant.registerWith(this)

    MethodChannel(flutterView, CHANNEL).setMethodCallHandler { call, result ->
      if (call.method == "getBatteryLevel") {
        val batteryLevel = getBatteryLevel()

        if (batteryLevel != -1) {
          result.success(batteryLevel)
        } else {
          result.error("UNAVAILABLE", "Battery level not available.", null)
        }
      } else {
        result.notImplemented()
      }
    }
  }

  private fun getBatteryLevel(): Int {
    val batteryLevel: Int
    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
      val batteryManager = getSystemService(Context.BATTERY_SERVICE) as BatteryManager
      batteryLevel = batteryManager.getIntProperty(BatteryManager.BATTERY_PROPERTY_CAPACITY)
    } else {
      val intent = ContextWrapper(applicationContext).registerReceiver(null, IntentFilter(Intent.ACTION_BATTERY_CHANGED))
      batteryLevel = intent!!.getIntExtra(BatteryManager.EXTRA_LEVEL, -1) * 100 / intent.getIntExtra(BatteryManager.EXTRA_SCALE, -1)
    }

    return batteryLevel
  }
}
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Android"}),"(kotlin)에서는 위와 같이 ",n.jsx(e.code,{children:"onCreate"})," 라이프사이클에서 ",n.jsx(e.code,{children:"MethodChannel"}),"을 생성하고, ",n.jsx(e.code,{children:"setMethodCallHandler"}),"를 사용하여 Flutter에서 호출한 메소드를 처리합니다. 이때 ",n.jsx(e.code,{children:"setMethodCallHandler"}),"의 파라미터로는 ",n.jsx(e.code,{children:"MethodCall"}),"과 ",n.jsx(e.code,{children:"Result"}),"를 파라미터로 받는 람다식을 지정합니다. ",n.jsx(e.code,{children:"MethodCall"}),"은 Flutter에서 호출한 메소드의 이름과 파라미터를 가지고 있습니다. 그리고 ",n.jsx(e.code,{children:"Result"}),"는 Flutter에 결과를 반환하는 메소드를 가지고 있습니다. 이때 ",n.jsx(e.code,{children:"Result"}),"의 ",n.jsx(e.code,{children:"success"})," 메소드는 Flutter에 성공적으로 결과를 반환할 때 사용합니다. 그리고 ",n.jsx(e.code,{children:"Result"}),"의 ",n.jsx(e.code,{children:"error"})," 메소드는 Flutter에 에러가 발생했을 때 사용합니다. 마지막으로 ",n.jsx(e.code,{children:"Result"}),"의 ",n.jsx(e.code,{children:"notImplemented"})," 메소드는 Flutter에서 호출한 메소드가 구현되지 않았을 때 사용합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-swift",children:`
// iOS (AppDelegate.swift)

import UIKit
import Flutter

@UIApplicationMain
@objc class AppDelegate: FlutterAppDelegate {
  private let CHANNEL = "com.example.flutter_method_channel_example"

  override func application(
    _ application: UIApplication,
    didFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey: Any]?
  ) -> Bool {
    GeneratedPluginRegistrant.register(with: self)

    let controller : FlutterViewController = window?.rootViewController as! FlutterViewController
    let batteryChannel = FlutterMethodChannel(name: CHANNEL, binaryMessenger: controller)

    batteryChannel.setMethodCallHandler({
      (call: FlutterMethodCall, result: FlutterResult) -> Void in
      if ("getBatteryLevel" == call.method) {
        let batteryLevel = self.getBatteryLevel()

        if (batteryLevel != -1) {
          result(batteryLevel)
        } else {
          result(FlutterError(code: "UNAVAILABLE", message: "Battery level not available.", details: nil))
        }
      } else {
        result(FlutterMethodNotImplemented)
      }
    })

    return super.application(application, didFinishLaunchingWithOptions: launchOptions)
  }

  private func getBatteryLevel() -> Int {
    let device = UIDevice.current
    device.isBatteryMonitoringEnabled = true
    if (device.batteryState == UIDeviceBatteryState.unknown) {
      return -1
    } else {
      return Int(device.batteryLevel * 100)
    }
  }
}
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"iOS"}),"에서는 위와 같이 ",n.jsx(e.code,{children:"application"})," 라이프사이클에서 ",n.jsx(e.code,{children:"FlutterMethodChannel"}),"을 생성하고, ",n.jsx(e.code,{children:"setMethodCallHandler"}),"를 사용하여 Flutter에서 호출한 메소드를 처리합니다. 이때 ",n.jsx(e.code,{children:"setMethodCallHandler"}),"의 파라미터로는 ",n.jsx(e.code,{children:"FlutterMethodCall"}),"과 ",n.jsx(e.code,{children:"FlutterResult"}),"를 파라미터로 받는 클로저를 지정합니다. ",n.jsx(e.code,{children:"FlutterMethodCall"}),"은 Flutter에서 호출한 메소드의 이름과 파라미터를 가지고 있습니다. 그리고 ",n.jsx(e.code,{children:"FlutterResult"}),"는 Flutter에 결과를 반환하는 메소드를 가지고 있습니다. 이때 ",n.jsx(e.code,{children:"FlutterResult"}),"의 ",n.jsx(e.code,{children:"success"})," 메소드는 Flutter에 성공적으로 결과를 반환할 때 사용합니다. 그리고 ",n.jsx(e.code,{children:"FlutterResult"}),"의 ",n.jsx(e.code,{children:"error"})," 메소드는 Flutter에 에러가 발생했을 때 사용합니다. 마지막으로 ",n.jsx(e.code,{children:"FlutterResult"}),"의 ",n.jsx(e.code,{children:"notImplemented"})," 메소드는 Flutter에서 호출한 메소드가 구현되지 않았을 때 사용합니다."]}),`
`,n.jsx(e.p,{children:"위 예시에서는 베터리량을 반환하는 메소드를 구현하였지만, 이렇게 구현한 메소드는 Flutter에서 호출한 메소드의 이름과 파라미터를 확인하여 해당하는 메소드를 구현하면 됩니다."})]})}function CCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(cB,{...t})}):cB(t)}const MCe=je({});function ECe(){return n.jsx(Se,{children:n.jsx(CCe,{components:MCe})})}const ACe=ve("/_layout/til/flutter/flutter-method-channel")({component:ECe,head:()=>({meta:[{title:"flutter method channel"}]})});function hB(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Final and Const"}),`
`,n.jsxs(e.h2,{children:["1. ",n.jsx(e.code,{children:"final"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"정의"}),": 한 번 초기화되면 그 이후로 값이 변경될 수 없는 변수를 선언할 때 사용됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"런타임에서 초기화"}),": ",n.jsx(e.code,{children:"final"})," 변수는 런타임에 초기화 될 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"유용성"}),": 객체의 불변성을 보장하기 위해 주로 사용됩니다. 예를 들어, Flutter에서 ",n.jsx(e.code,{children:"StatefulWidget"}),"의 ",n.jsx(e.code,{children:"State"})," 클래스 내부에서는 멤버 변수를 ",n.jsx(e.code,{children:"final"}),"로 선언하여 불변성을 보장하기도 합니다."]}),`
`]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"예시"}),":"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`class Car {
  final String model;
  Car(this.model); // 생성자에서 model 초기화
}

void main() {
  final car = Car("Sedan");
  // car.model = "SUV";   // 오류! final 변수는 재할당 할 수 없습니다.
}
`})}),`
`,n.jsxs(e.h2,{children:["2. ",n.jsx(e.code,{children:"const"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"정의"}),": 컴파일 타임 상수를 선언하는데 사용됩니다. 이것은 변하지 않고 항상 동일한 값을 가질 것임을 의미합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"컴파일 타임에서 초기화"}),": ",n.jsx(e.code,{children:"const"})," 값은 컴파일 타임에 알려져 있어야 합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"유용성"}),": 메모리 최적화를 위해 주로 사용됩니다. 동일한 ",n.jsx(e.code,{children:"const"})," 값을 여러 곳에서 사용할 때, 메모리 내에서 하나의 고정된 위치만 차지합니다."]}),`
`]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"예시"}),":"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`const double pi = 3.14159265359;

void main() {
  // const radius = getRadius(); // 오류! const는 컴파일 타임에 값을 알아야 합니다.
  const double radius = 10.0;
  final area = pi * radius * radius;  // 여기서는 const 값을 final 변수와 함께 사용할 수 있습니다.
}
`})}),`
`,n.jsx(e.h2,{children:"차이점 요약:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"final"}),"은 런타임에 초기화할 수 있지만 한 번 초기화된 후에는 변경할 수 없습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"const"}),"는 컴파일 타임에 값이 초기화되어야 하며, 항상 동일한 값을 가져야 합니다."]}),`
`]}),`
`,n.jsxs(e.h2,{children:[n.jsx(e.code,{children:"final"}),"과 ",n.jsx(e.code,{children:"const"}),"의 공통점:"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"재할당 불가"}),": 두 키워드 모두 변수에 값을 재할당하는 것을 금지합니다. 한 번 선언되면 그 변수의 참조(또는 값)는 변경될 수 없습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"불변성 보장"}),": 둘 다 값을 변경할 수 없게 만듭니다. 이를 통해 코드의 예측성을 높이고 버그 발생 확률을 줄일 수 있습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"선언 시 초기화 필요"}),": ",n.jsx(e.code,{children:"final"}),"과 ",n.jsx(e.code,{children:"const"}),"로 선언된 변수는 선언과 동시에 초기화되어야 합니다. 나중에 초기화할 수 없습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"클래스 멤버 변수로 사용 가능"}),": ",n.jsx(e.code,{children:"final"}),"과 ",n.jsx(e.code,{children:"const"})," 모두 클래스의 멤버 변수로 사용될 수 있습니다. 하지만 ",n.jsx(e.code,{children:"const"}),"는 클래스 내에서는 static const로 선언되어야 합니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"예시"}),":"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`class Example {
  // 1. final 멤버 변수: 생성자에서 초기화될 예정입니다.
  // 'final' 키워드를 사용한 변수는 선언과 동시에 초기화하거나 생성자에서 초기화해야 합니다.
  final String finalExample;

  // 2. 'late final'을 사용하면 초기화를 나중에 수행할 수 있습니다.
  // 이 경우, 초기화 전까지 해당 변수에 접근하면 오류가 발생합니다.
  late final String lateFinalExample;

  // 3. 클래스의 멤버 변수로 'const'를 사용할 때는 반드시 'static'이어야 합니다.
  // 'const' 변수는 컴파일 타임에 알려진 값을 가집니다.
  static const String constExample = "Const Value";

  // 생성자에서 'finalExample'을 초기화합니다.
  Example(this.finalExample);

  // 'lateFinalExample'을 초기화하는 메서드
  void initializeLateFinal() {
    lateFinalExample = "Late Final Value";
  }
}

void main() {
  // 'Example' 클래스의 인스턴스를 생성하면서 'finalExample'을 초기화합니다.
  final example = Example("Final Value Initialized in Constructor");

  // 'lateFinalExample' 초기화
  example.initializeLateFinal();

  // 값을 출력합니다.
  print(example.finalExample);       // 생성자에서 초기화된 값
  print(example.lateFinalExample);   // 메서드에서 초기화된 값
  print(Example.constExample);       // static const 변수의 값
}
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"final"}),"과 ",n.jsx(e.code,{children:"const"}),"는 Dart에서 변수의 불변성을 보장하는 공통점을 갖고 있습니다. 그러나 초기화의 타이밍과 사용하는 경우에 따라 적합한 키워드가 달라질 수 있으므로, 필요에 따라 적절하게 선택하여 사용해야 합니다."]})]})}function RCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(hB,{...t})}):hB(t)}const LCe=je({});function DCe(){return n.jsx(Se,{children:n.jsx(RCe,{components:LCe})})}const kCe=ve("/_layout/til/flutter/final-and-const")({component:DCe,head:()=>({meta:[{title:"final and const"}]})});function uB(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Cocoapod"}),`
`,n.jsx(e.p,{children:"CocoaPods는 Swift 및 Objective-C의 프로젝트의 패키지 관리자입니다. 저는 Flutter에서 ios 빌드를 하기 위해서 학습하였습니다."}),`
`,n.jsx(e.h2,{children:"설치"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ sudo gem install cocoapods
`})}),`
`,n.jsx(e.h2,{children:"사용법"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ pod init
`})}),`
`,n.jsx(e.p,{children:"위 명령어를 실행하면 Podfile이 생성됩니다. Podfile에는 아래와 같이 작성합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ruby",children:`# Uncomment the next line to define a global platform for your project
# platform :ios, '9.0'

target 'SomeProject' do
  # Comment the next line if you don't want to use dynamic frameworks
  use_frameworks!

end

`})}),`
`,n.jsx(e.p,{children:"그리고 아래 명령어를 실행합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ pod install
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"pod install"}),"을 실행하면 Podfile에 작성된 내용을 바탕으로 CocoaPods가 필요한 라이브러리를 설치합니다."]}),`
`,n.jsx(e.p,{children:"그러면"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Pods"}),`
`,n.jsx(e.li,{children:"Podfile.lock"}),`
`,n.jsx(e.li,{children:"SomeProject.xcodeproj"}),`
`,n.jsx(e.li,{children:"SomeProject.xcworkspace"}),`
`]}),`
`,n.jsx(e.p,{children:"이렇게 파일 및 폴더가 생성됩니다."}),`
`,n.jsx(e.p,{children:"각 역할을 설명하자면,"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Pods: CocoaPods가 설치한 라이브러리가 저장되는 폴더입니다."}),`
`,n.jsx(e.li,{children:"Podfile.lock: CocoaPods가 설치한 라이브러리의 버전을 저장합니다."}),`
`,n.jsx(e.li,{children:"SomeProject.xcodeproj: xcode에서 사용하는 프로젝트 파일로서 프로젝트의 설정을 담고 있습니다."}),`
`,n.jsx(e.li,{children:"SomeProject.xcworkspace: SomeProject.xcodeproj와 Pods를 통합하여 프로젝트를 관리하는 폴더입니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"cocoapods 사용하기"}),`
`,n.jsx(e.p,{children:"Podfile에 라이브러리를 추가하고 싶다면 아래와 같이 작성합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ruby",children:`# Uncomment the next line to define a global platform for your project
platform :ios, '9.0'

target 'SomeProject' do
  # Comment the next line if you don't want to use dynamic frameworks
  use_frameworks!

  # Pods for SomeProject
  pod '라이브러리 이름 1', '~> 4.7'
  pod '라이브러리 이름 2', '~> 4.0'
end

`})}),`
`,n.jsx(e.p,{children:"각 문법을 설명하자면,"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"platform"}),": 프로젝트에서 사용할 플랫폼의 버전을 설정합니다. 이 설정을 하지 않으면 최신 버전으로 설정됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"target"}),": 프로젝트의 타겟을 설정합니다. 이 타겟은 xcode에서 설정하는 타겟이며, 빌드가 될 때 해당 타겟의 설정을 따릅니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"do"}),": 타겟의 설정을 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"use_frameworks!"}),": 프레임워크를 사용하겠다는 의미입니다. 이 설정을 하지 않으면 라이브러리를 사용할 수 없습니다. ",n.jsx(e.code,{children:"!"}),"는 반드시 사용하겠다는 의미입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"pod '라이브러리 이름 1', '~> 4.7'"}),": ",n.jsx(e.code,{children:"라이브러리 이름 1"}),"을 설치하고 버전은 4.7 이상 5.0 미만으로 설치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"pod '라이브러리 이름 2', '~> 4.0'"}),": ",n.jsx(e.code,{children:"라이브러리 이름 2"}),"을 설치하고 버전은 4.0 이상 5.0 미만으로 설치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"end"}),": 타겟의 설정을 종료합니다."]}),`
`]}),`
`,n.jsx(e.p,{children:"추가적으로 많이 사용하는 문법으로는 아래와 같은 것들이 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"post_install"}),": 라이브러리 설치 후 실행할 스크립트를 작성합니다. 이 스크립트는 ",n.jsx(e.code,{children:"pod install"}),"을 실행할 때 실행됩니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["ex.",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-ruby",children:`post_install do |installer|
  installer.pods_project.targets.each do |target|
    target.build_configurations.each do |config|
      config.build_settings['ENABLE_BITCODE'] = 'NO'
    end
  end
end
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"post_install"}),": 라이브러리 설치 후 실행할 스크립트를 작성합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"installer"}),": CocoaPods의 설치 정보를 담고 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"installer.pods_project"}),": CocoaPods의 설치 정보 중 프로젝트 정보를 담고 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"installer.pods_project.targets"}),": CocoaPods의 설치 정보 중 프로젝트의 타겟 정보를 담고 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"target.build_configurations"}),": CocoaPods의 설치 정보 중 프로젝트의 타겟의 빌드 설정 정보를 담고 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"config.build_settings"}),": CocoaPods의 설치 시 설정한 빌드 설정 정보를 담고 있으며 Map에 접근하는 형태로 사용합니다. 위에서는 ",n.jsx(e.code,{children:"ENABLE_BITCODE"}),"를 ",n.jsx(e.code,{children:"NO"}),`로 설정하였습니다.
위 스크립트는 라이브러리 설치 후 `,n.jsx(e.code,{children:"ENABLE_BITCODE"}),"를 ",n.jsx(e.code,{children:"NO"}),"로 설정하며, .each 문을 통해 모든 타겟의 빌드 설정을 변경합니다. |blahblah|는 파이프라인으로서 앞의 결과를 뒤의 함수의 인자로 전달합니다."]}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["라이브러리의 버전은 아래와 같이 설정할 수 있습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"pod '라이브러리 이름', '~> 4.7'"}),": ",n.jsx(e.code,{children:"라이브러리 이름"}),"을 설치하고 버전은 4.7 이상 5.0 미만으로 설치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"pod '라이브러리 이름', '~> 4.7.1'"}),": ",n.jsx(e.code,{children:"라이브러리 이름"}),"을 설치하고 버전은 4.7.1 이상 4.8 미만으로 설치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"pod '라이브러리 이름', '> 4.7'"}),": ",n.jsx(e.code,{children:"라이브러리 이름"}),"을 설치하고 버전은 4.7 이상으로 설치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"pod '라이브러리 이름', '>= 4.7'"}),": ",n.jsx(e.code,{children:"라이브러리 이름"}),"을 설치하고 버전은 4.7 이상으로 설치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"pod '라이브러리 이름', '< 4.7'"}),": ",n.jsx(e.code,{children:"라이브러리 이름"}),"을 설치하고 버전은 4.7 미만으로 설치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"pod '라이브러리 이름', '<= 4.7'"}),": ",n.jsx(e.code,{children:"라이브러리 이름"}),"을 설치하고 버전은 4.7 이하로 설치합니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"참고"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://cocoapods.org/",children:"CocoaPods"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://flutter.dev/docs/development/ios-project-migration",children:"Flutter - Cocoapods"})}),`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://guides.cocoapods.org/using/getting-started.html",children:"CocoaPods - Getting Started"})}),`
`]})]})}function NCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(uB,{...t})}):uB(t)}const PCe=je({});function OCe(){return n.jsx(Se,{children:n.jsx(NCe,{components:PCe})})}const BCe=ve("/_layout/til/flutter/cocoapod")({component:OCe,head:()=>({meta:[{title:"cocoapod"}]})});function dB(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Basic Handling Errors"}),`
`,n.jsx(e.p,{children:"Flutter에서의 에러 처리는 크게 두 가지로 나눌 수 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Flutter 프레임워크에서 발생하는 에러"}),`
`,n.jsx(e.li,{children:"Flutter 프레임워크 외에서 발생하는 에러(사용자 코드에서 발생하는 에러)"}),`
`]}),`
`,n.jsx(e.h2,{children:"Flutter 프레임워크에서 발생하는 에러"}),`
`,n.jsxs(e.p,{children:["예를들면, 특정 행위 시 ",n.jsx(e.code,{children:"throw"}),"를 이용하여 에러가 발생되었을 때, Flutter에서는 아래와 같이 Handling할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`// 에러 발사 🚀
... throw Exception('에러 발생!');
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`// 에러 잡기 📷import 'dart:io';

import 'package:flutter/foundation.dart';
import 'package:flutter/material.dart';

void main() {
  FlutterError.onError = (details) {
    FlutterError.presentError(details);
    print('ERROR!!!!!');
    // if (kReleaseMode) exit(1); 앱을 종료할 수도 있습니다.
  };
  runApp(const MyApp());
}

`})}),`
`,n.jsx(e.h2,{children:"Flutter 프레임워크 외에서 발생하는 에러"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`// 에러 발사 🚀
OutlinedButton(
  child: const Text('Click me!'),
  onPressed: () async {
    const channel = MethodChannel('crashy-custom-channel')
    await channel.invokeMethod('blah')
  },
)
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`// 에러 잡기 📷
import 'package:flutter/material.dart';
import 'dart:ui';

void main() {
  PlatformDispatcher.instance.onError = (error, stack) {
    print('ERROR!!!!!');
    return true;
  };
  runApp(const MyApp());
}
`})})]})}function ICe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(dB,{...t})}):dB(t)}const FCe=je({});function UCe(){return n.jsx(Se,{children:n.jsx(ICe,{components:FCe})})}const zCe=ve("/_layout/til/flutter/basic-handling-errors")({component:UCe,head:()=>({meta:[{title:"basic handling errors"}]})});function fB(t){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Assert"}),`
`,n.jsx(e.p,{children:"Flutter(Dart)에서 Assert는 조건이 거진인 경우에 예외를 발생시키는 함수입니다."}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"참고) 개발 모드인 Debug 모드에서만 동작하도록 설계되었으며, Release 모드에서는 동작하지 않습니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"사용법"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`assert(조건, "예외 메시지");
assert(a == b); // 메시지 생략 가능

`})}),`
`,n.jsx(e.h2,{children:"예제"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`void main() {
  int a = 10;
  int b = 20;
  assert(a == b, "a와 b는 같아야 합니다.");
}
`})})]})}function HCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(fB,{...t})}):fB(t)}const VCe=je({});function GCe(){return n.jsx(Se,{children:n.jsx(HCe,{components:VCe})})}const $Ce=ve("/_layout/til/flutter/assert")({component:GCe,head:()=>({meta:[{title:"assert"}]})});function pB(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Add Flavor"}),`
`,n.jsx(e.h2,{children:"서론"}),`
`,n.jsx(e.p,{children:"Flutter 개발을 하면서 같은 코드로 여러 환경을 지원하기 위한 방법으로 Flavor를 사용할 수 있습니다. 이 글에서 Flavor를 사용하는 방법에 대해서 알아보겠습니다."}),`
`,n.jsx(e.h2,{children:"본론"}),`
`,n.jsx(e.h3,{children:"Flavor를 사용하는 이유"}),`
`,n.jsx(e.p,{children:"Flutter에서는 iOS와 Android를 동시에 개발할 수 있습니다. 그리고 iOS와 Android에서는 각각 다른 환경을 지원해야 합니다. 예를 들어, iOS에서는 개발, 스테이지, 프로덕션 환경을 지원해야 합니다. 그리고 Android에서는 개발, 스테이지, 프로덕션, QA 환경을 지원해야 합니다. 이렇게 여러 환경을 지원하기 위해서는 각 환경별로 다른 설정을 해야 합니다. 이때, Flavor를 사용하면 각 환경별로 다른 설정을 할 수 있습니다."}),`
`,n.jsx(e.p,{children:"사용 툴"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"macOS"}),`
`,n.jsx(e.li,{children:"flutter: 3.16.1"}),`
`,n.jsxs(e.li,{children:["vscode: 1.84.2",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"flutter extension: 3.76.0"}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h3,{children:"Flavor를 사용하는 방법"}),`
`,n.jsx(e.p,{children:"저는 예시로서 TEST와 PRODUCTION 환경을 지원하는 Flavor를 만들어 보겠습니다."}),`
`,n.jsx(e.h4,{children:"iOS에서 Flavor 적용하기"}),`
`,n.jsx(e.p,{children:"iOS에 Flavor을 적용하기 위해서는 Xcode를 사용해서 설정하는 것이 가장 쉽기 때문에 Xcode를 사용해서 설정하겠습니다."}),`
`,n.jsxs(e.p,{children:["아래의 Flutter 구조에서 ios 폴더를 우클릭하여 ",n.jsx(e.code,{children:"opne in Xcode"}),"를 클릭합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:`.
├── README.md
├── android
├── ios
├── lib
├── pubspec.lock
├── pubspec.yaml
└── test
`})}),`
`,n.jsx(e.p,{children:"Xcode에서의 동작들은 설명하겠습니다."}),`
`,n.jsx(e.h5,{children:"Configurations 추가하기"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"Xcode가 열리면, 왼쪽의 네비게이션에서 Runner와 Pods가 있을텐데, Runner를 클릭해주세요."}),`
`,n.jsx(e.li,{children:"Runner를 클릭하면, 중앙 상단에 탭중에서 info 탭을 클릭해주세요."}),`
`,n.jsx(e.li,{children:"info 탭에서 Configurations를 클릭해주세요."}),`
`,n.jsx(e.li,{children:"Debug와 Release 그리고 Profile이 있을텐데, + 버튼을 클릭하여 새로운 Configuration을 추가해주세요. 추가하실 때, 각 Configuration의 Based Configuration은 Debug, Release, Profile로 설정해주세요."}),`
`,n.jsxs(e.li,{children:["각 Configuration의 이름은 ",n.jsx(e.code,{children:"Debug-TEST"}),", ",n.jsx(e.code,{children:"Debug-PRODUCTION"}),", ",n.jsx(e.code,{children:"Release-TEST"}),", ",n.jsx(e.code,{children:"Release-PRODUCTION"}),", ",n.jsx(e.code,{children:"Profile-TEST"}),", ",n.jsx(e.code,{children:"Profile-PRODUCTION"}),"으로 설정해주세요."]}),`
`]}),`
`,n.jsx(e.h5,{children:"Schemes 추가하기"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"Xcode의 메뉴바에서 Product > Scheme > Edit Scheme...을 클릭해주세요."}),`
`,n.jsxs(e.li,{children:["Runner를 클릭하고, 팝업의 하단에 ",n.jsx(e.code,{children:"Duplicate Scheme"})," 버튼을 클릭해주세요."]}),`
`,n.jsxs(e.li,{children:["새로운 Scheme의 이름을 ",n.jsx(e.code,{children:"TEST"}),", ",n.jsx(e.code,{children:"PRODUCTION"}),"으로 설정해주세요."]}),`
`]}),`
`,n.jsx(e.h5,{children:"Build Settings 추가하기"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Configurations 추가하기"}),"에서 Runner를 클릭하고, PROJECT와 TARGETS 중에 TARGETS에 있는 Runner를 클릭해주세요."]}),`
`,n.jsx(e.li,{children:"중앙 상단에 탭중에서 Build Settings 탭을 클릭해주세요."}),`
`,n.jsxs(e.li,{children:["오른쪽 상단에 검색창에 ",n.jsx(e.code,{children:"Product Bundle Identifier"}),"를 검색해주세요."]}),`
`,n.jsx(e.li,{children:"각 Configuration의 Product Bundle Identifier를 설정해주세요."}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"ex)"}),`
`,n.jsx(e.li,{children:"Debug-TEST: com.example.flutter.flavor.test"}),`
`,n.jsx(e.li,{children:"Debug-PRODUCTION: com.example.flutter.flavor.production"}),`
`,n.jsx(e.li,{children:"Release-TEST: com.example.flutter.flavor.test"}),`
`,n.jsx(e.li,{children:"Release-PRODUCTION: com.example.flutter.flavor.production"}),`
`,n.jsx(e.li,{children:"Profile-TEST: com.example.flutter.flavor.test"}),`
`,n.jsx(e.li,{children:"Profile-PRODUCTION: com.example.flutter.flavor.production"}),`
`]}),`
`,n.jsx(e.h5,{children:"Info.plist 추가하기"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Build Settings 추가하기"}),"를 마친 후에 같은 메뉴 탭에서 오른쪽 상단에 + 버튼을 클릭해주세요."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Add User-Defined Setting"}),"을 클릭해주세요."]}),`
`,n.jsxs(e.li,{children:["변수명은 자유이지만, 에시로서 저는 ",n.jsx(e.code,{children:"APP_FLAVOR"}),", ",n.jsx(e.code,{children:"APP_NAME"}),"을 등록했습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"APP_FLAVOR"}),": Flovor의 이름을 설정합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"APP_NAME"}),": 모바일에서 보여질 앱의 이름을 설정합니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"APP_FLAVOR"}),"의 값은 각 Configuration의 이름과 동일하게 설정해주세요.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"ex)"}),`
`,n.jsx(e.li,{children:"Debug-TEST: TEST"}),`
`,n.jsx(e.li,{children:"Debug-PRODUCTION: PRODUCTION"}),`
`,n.jsx(e.li,{children:"Release-TEST: TEST"}),`
`,n.jsx(e.li,{children:"Release-PRODUCTION: PRODUCTION"}),`
`,n.jsx(e.li,{children:"Profile-TEST: TEST"}),`
`,n.jsx(e.li,{children:"Profile-PRODUCTION: PRODUCTION"}),`
`,n.jsxs(e.li,{children:["이렇게 설정하면, 각 Configuration의 이름에 따라서 ",n.jsx(e.code,{children:"APP_FLAVOR"}),"의 값이 변경됩니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"APP_NAME"}),"의 값은 이렇게 했습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"ex)"}),`
`,n.jsx(e.li,{children:"Debug-TEST: TEST"}),`
`,n.jsx(e.li,{children:"Debug-PRODUCTION: PRODUCTION"}),`
`,n.jsx(e.li,{children:"Release-TEST: TEST"}),`
`,n.jsx(e.li,{children:"Release-PRODUCTION: PRODUCTION"}),`
`,n.jsx(e.li,{children:"Profile-TEST: TEST"}),`
`,n.jsx(e.li,{children:"Profile-PRODUCTION: PRODUCTION"}),`
`,n.jsxs(e.li,{children:["이렇게 설정하면, 각 Configuration의 이름에 따라서 ",n.jsx(e.code,{children:"APP_NAME"}),"의 값이 변경됩니다."]}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"info탭을 눌러주세요."}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Bundle display name"}),"을 ",n.jsx(e.code,{children:"$(APP_NAME)"}),"으로 설정해주세요."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"Flvaor"}),"이라는 키를 추가하고, ",n.jsx(e.code,{children:"$(APP_FLAVOR)"}),"로 설정해주세요."]}),`
`]}),`
`,n.jsx(e.h4,{children:"Android에서 Flavor 적용하기"}),`
`,n.jsx(e.h5,{children:"build.gradle 를 설정"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"/android/app/src/build.gradle 파일을 열어주세요."}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"buildTypes"}),"에 아래의 코드를 추가해주세요."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-groovy",children:`flavorDimensions "default"
productFlavors {
    TEST {
        dimension "default"
        applicationIdSuffix ".test" // 원하는 suffix를 설정해주세요.
        versionNameSuffix "-TEST"
        resValue "string", "app_name", "TEST" // 원하는 앱 이름을 설정해주세요.
    }
    PRODUCTION {
        dimension "default"
        applicationIdSuffix ".production" // 원하는 suffix를 설정해주세요.
        versionNameSuffix "-PRODUCTION"
        resValue "string", "app_name", "PRODUCTION" // 원하는 앱 이름을 설정해주세요.
    }
}
`})}),`
`,n.jsx(e.h5,{children:"AndroidManifest.xml 설정"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"/android/app/src/main/AndroidManifest.xml 파일을 열어주세요."}),`
`,n.jsxs(e.li,{children:[n.jsx("application",{"android:label":"@string/app_name"}),"를 정의해주세요."]}),`
`]}),`
`,n.jsx(e.h4,{children:"Flutter에서 Flavor 사용하기"}),`
`,n.jsx(e.h5,{children:"Native와 소통하기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"ios"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"ios/Runner/AppDelegate.swift"})," 파일을 열어주세요."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"didFinishLaunchingWithOptions"})," 메소드에서 ",n.jsx(e.code,{children:"GeneratedPluginRegistrant.register(with: self)"})," 위에 아래의 코드를 추가해주세요."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-swift",children:`let channel = FlutterMethodChannel(name: "flavor", binaryMessenger: controller.binaryMessenger)
channel.setMethodCallHandler({
        (call: FlutterMethodCall, result: @escaping FlutterResult) -> Void in

        if (call.method == "getFlavor") {
          result(Bundle.main.infoDictionary?["Flavor"])
        } else {
          result("notImplemented")
        }
      })
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"android"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"android/app/src/main/kotlin/.../flavor/MainActivity.kt"})," 파일을 열어주세요."]}),`
`,n.jsx(e.li,{children:"아래의 코드를 작성해 주세요."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-kotlin",children:`package com.example.flavor_example  


import androidx.annotation.NonNull;  
import io.flutter.embedding.android.FlutterActivity  
import io.flutter.embedding.engine.FlutterEngine  
import io.flutter.plugin.common.MethodChannel  
import io.flutter.plugins.GeneratedPluginRegistrant  

class MainActivity: FlutterActivity() {  
  override fun configureFlutterEngine(@NonNull flutterEngine: FlutterEngine) {  
      GeneratedPluginRegistrant.registerWith(flutterEngine);  

      MethodChannel(flutterEngine.dartExecutor.binaryMessenger, "flavor").setMethodCallHandler {  
              call, result -> result.success(BuildConfig.FLAVOR)  
      }  
  }
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"flutter"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"lib/main.dart"})," 파일을 열어주세요."]}),`
`,n.jsx(e.li,{children:"아래의 함수를 작성해서 사용해주세요."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-dart",children:`import 'package:flutter/material.dart';
import 'package:flutter/services.dart';

Future<String> _getFlavorFromNative() async {
  const platform = MethodChannel('flavor');
  try {
    final String flavor = await platform.invokeMethod('getFlavor');
    return flavor;
  } on PlatformException catch (e) {
    return "Failed to get flavor: '\${e.message}'.";
  }
}
`})}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsxs(e.li,{children:["그리고 ",n.jsx(e.code,{children:"flutter run --flavor TEST"})," 또는 ",n.jsx(e.code,{children:"flutter run --flavor PRODUCTION"}),"을 실행해주세요."]}),`
`,n.jsxs(e.li,{children:["각 네이티브에서 설정한 ",n.jsx(e.code,{children:"FLAVOR"}),"의 값을 가져올 수 있습니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.p,{children:["이렇게 받아온 값을 이용하여 분기를 할 수 있습니다. 또한 앱에 각 환경에 맞는 라벨이 보이도록 할 수 있습니다. 이 패키지를 사용해 보시길 추천합니다. -> ",n.jsx(e.a,{href:"https://pub.dev/packages/flutter_flavor",children:"flutter_flavor"})]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsx(e.p,{children:"이렇게 각 환경별로 로직이나 화면을 분리하는 작업을 하는 방법을 알아 보았습니다. 이를 응용하면 여러가지 가능한 기능들이 많으니, 참고하시길 바랍니다."})]})}function qCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(pB,{...t})}):pB(t)}const WCe=je({});function XCe(){return n.jsx(Se,{children:n.jsx(qCe,{components:WCe})})}const YCe=ve("/_layout/til/flutter/add-flavor")({component:XCe,head:()=>({meta:[{title:"add flavor"}]})});function mB(t){const e={a:"a",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Remote Config"}),`
`,n.jsx(e.h2,{children:"Overview"}),`
`,n.jsx(e.p,{children:"Firebase Remote Config는 앱의 동작을 변경하고 사용자에게 맞춤형 콘텐츠를 제공하는 데 사용할 수 있는 클라우드 호스팅 서비스입니다. 앱의 동작을 변경하려면 앱을 업데이트하고 재배포해야 합니다. 그러나 Remote Config를 사용하면 앱을 업데이트하지 않고도 앱의 동작을 변경할 수 있습니다. Remote Config는 앱의 동작을 변경하는 데 사용할 수 있는 키-값 쌍을 제공합니다."}),`
`,n.jsx(e.p,{children:"쉽게 정리하자면, 앱의 외부에 API 서버를 설정합니다. 이 API 서버는 특정 데이터를 제공하고, 앱에서는 이 데이터를 조회하여 데이터에 따라서 동작을 분기합니다. 이렇게 한 뒤에, API 서버의 데이터를 변경하는 것에 따라서 앱의 동작을 변경할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"Getting Started"}),`
`,n.jsxs(e.p,{children:["Flutter의 간단한 사용법을 제공하고 있습니다. ",n.jsx(e.a,{href:"https://firebase.google.com/docs/remote-config?hl=ko",children:"link"})]}),`
`,n.jsx(e.p,{children:"이를 이용하여 A/B 테스트, 앱의 동작 변경 등을 할 수 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"일정 기능까지는 무료입니다. 😄"}),`
`]})]})}function KCe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(mB,{...t})}):mB(t)}const ZCe=je({});function QCe(){return n.jsx(Se,{children:n.jsx(KCe,{components:ZCe})})}const JCe=ve("/_layout/til/firebase/remote-config")({component:QCe,head:()=>({meta:[{title:"remote config"}]})});function gB(t){const e={h1:"h1",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Taxonomy of Bloom"}),`
`,n.jsx(e.p,{children:"다음은 더 풍부한 내용과 세부사항을 포함한 TIL 문서입니다. 이를 참고하여 더욱 완성된 TIL을 작성할 수 있습니다."}),`
`,n.jsx(e.h4,{children:"1. 블룸의 분류법 (Bloom's Taxonomy)"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"블룸의 분류법"}),"은 1956년 교육학자 벤저민 블룸이 제안한 학습 목표의 분류 체계다. 이 체계는 학습자가 어떻게 지식을 습득하고, 그 지식을 어떻게 활용할 수 있는지를 단계별로 나눈다. 블룸의 분류법을 바탕으로 학습 목표를 설계하면, 학습자는 단순한 암기를 넘어 복잡한 문제 해결 능력과 창의적 사고를 발전시킬 수 있다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"6가지 인지 단계"}),"는 다음과 같다:"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"기억"})," (Remembering)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 학습자가 배운 내용을 기억하고 상기할 수 있는 능력을 기르는 단계다. 이 단계는 기본적인 정보를 습득하는 것을 목표로 한다. 강의 초기에는 필수적인 지식이나 용어를 학습자가 암기할 수 있도록 돕는다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),': "HTML의 기본 구조를 기억하세요."']}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 이 단계에서는 학습자가 HTML, CSS, JavaScript 등 기본적인 문법과 개념을 숙지하도록 하는 문제를 제시할 수 있다. 예를 들어, 변수 선언 방법, 함수 정의 방식 등을 퀴즈로 출제한다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"이해"})," (Understanding)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 학습자가 배운 지식을 이해하고, 그것을 자신의 말로 설명할 수 있는 능력을 기르는 단계다. 학습자는 단순히 외운 것이 아니라, 개념 간의 관계를 이해하고 그것을 설명할 수 있어야 한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),': "HTML 태그의 역할과 속성의 차이를 설명하세요."']}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 학습자가 배운 개념을 다양한 상황에 적용할 수 있도록 질문을 던지거나, 자신만의 설명으로 개념을 표현하도록 유도한다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"적용"})," (Applying)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 학습자가 배운 개념을 실제로 적용할 수 있는 단계다. 이 단계에서는 학습자가 문제 상황에 직면했을 때, 배운 지식을 활용해 해결할 수 있어야 한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),': "CSS Flexbox를 사용해 기본적인 레이아웃을 구성해보세요."']}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 실제 웹 프로젝트나 코딩 과제를 통해 학습자가 배운 개념을 직접 적용하게 한다. 이를 통해 이론적인 지식이 실제 문제 해결로 이어질 수 있도록 돕는다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"분석"})," (Analyzing)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 복잡한 문제나 개념을 분해하고, 그 구조나 관계를 이해할 수 있는 능력을 기르는 단계다. 이 단계에서는 학습자가 문제의 요소들을 분석하고, 그 상호작용을 이해하는 것이 중요하다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),': "JavaScript 클로저(closure)의 동작 방식을 분석하고, 이를 사용한 코드의 장단점을 설명하세요."']}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 학습자에게 복잡한 코드나 프로젝트를 제시한 뒤, 그것의 구조와 작동 원리를 분석하게 한다. 또한, 코드의 문제점을 찾고 개선 방향을 제시하는 활동도 가능하다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"평가"})," (Evaluating)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 다양한 기준에 따라 지식이나 결과물을 평가하고, 자신의 판단에 따라 결론을 내릴 수 있는 능력을 기르는 단계다. 이 단계에서는 학습자가 비판적으로 사고하고, 결론을 내릴 수 있어야 한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),': "다양한 JavaScript 코드 최적화 기법을 비교하고, 어떤 기법이 효율적인지 평가하세요."']}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 학습자가 여러 가지 해결 방법을 평가하고, 가장 적합한 방안을 선택할 수 있도록 문제를 제시한다. 예를 들어, 동일한 문제를 해결하는 두 가지 방법을 제시하고, 장단점을 분석해 평가하게 한다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"창조"})," (Creating)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 학습자가 기존의 지식을 바탕으로 새로운 아이디어나 솔루션을 창출할 수 있는 능력을 기르는 단계다. 창의적인 사고와 문제 해결을 요구하는 이 단계는 학습자의 최고 수준의 사고 능력을 필요로 한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),': "React를 사용하여 특정 기능을 구현하는 새로운 컴포넌트를 설계하고 제작하세요."']}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 새로운 프로젝트나 해결책을 만들어보도록 유도한다. 예를 들어, 기존에 학습한 기술을 응용하여 복합적인 문제를 해결하는 웹 애플리케이션을 만들어보게 할 수 있다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h4,{children:"2. 기타 교수법"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"케이스 기반 학습"})," (Case-Based Learning)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 케이스 기반 학습은 현실적인 사례를 바탕으로 학습자가 문제를 해결할 수 있도록 유도하는 교수법이다. 실생활의 문제를 다룸으로써 학습자는 실제 상황에서 배운 지식을 응용할 수 있다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 웹 개발 프로젝트에서 발생할 수 있는 버그나 오류를 사례로 제시하고, 학습자가 직접 해결 방법을 찾아보게 한다. 이는 학습자가 문제 해결 능력을 키우는 데 도움을 준다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"직접 교수법"})," (Direct Instruction)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 교사가 명확한 설명과 단계별 예시를 통해 개념을 전달하는 교수법이다. 학습자가 따라하기 쉽도록 구체적인 예시와 설명이 포함되며, 기초적인 내용을 다룰 때 유용하다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": HTML, CSS, JavaScript 등 기본적인 개념을 설명할 때, 각 개념을 단계별로 시연하고, 실습 문제를 통해 학습자가 즉시 확인할 수 있게 한다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"발견 학습법"})," (Discovery Learning)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 학습자가 스스로 탐구하고 문제를 해결할 수 있도록 유도하는 교수법이다. 학습자는 문제 해결 과정을 통해 창의적 사고와 논리적 추론 능력을 발전시킬 수 있다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 특정 문제나 도전을 제시하고, 학습자가 스스로 그 해답을 찾도록 한다. 이후에는 해결 과정을 함께 검토하면서 잘못된 부분을 수정하고, 올바른 방법을 찾아가는 과정을 가르친다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"혼합형 교수법"})," (Blended Learning)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 전통적인 강의 방식과 온라인 학습 자료, 실습 문제를 결합한 교수법이다. 온라인과 오프라인 학습의 장점을 결합해 학습자의 몰입도를 높일 수 있다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"활용 방법"}),": 유튜브 강의에서 설명을 제공한 후, GitHub에 실습 자료를 올리거나, CodePen을 통해 직접 코드를 수정해보게 하여 학습자가 참여할 수 있는 환경을 제공한다."]}),`
`]}),`
`]}),`
`]})]})}function eMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(gB,{...t})}):gB(t)}const tMe=je({});function nMe(){return n.jsx(Se,{children:n.jsx(eMe,{components:tMe})})}const iMe=ve("/_layout/til/education/taxonomy-of-bloom")({component:nMe,head:()=>({meta:[{title:"taxonomy of bloom"}]})});function xB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"VScode Language Extensions"}),`
`,n.jsx(e.p,{children:"vscode은 다양한 Extension을 사용할 수 있는데, 이는 모두 개인 혹은 단체에서 제작된 add-on 소프트웨어 입니다. 이 Extension들은 많은 기능들 사용할 수 있는데 이 글에서는 그 중에서도 Code를 작성할 떄 도움이 되는 Extension을 개발하는 방법의 일부입니다."}),`
`,n.jsx(e.h2,{children:"Language Extension"}),`
`,n.jsx(e.p,{children:"vscode에서는 코드를 작성할 때 도움이 되는 Extension 기능중에는 크게 두 가지가 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Declarative language features"}),`
`,n.jsx(e.li,{children:"Programmatic language features"}),`
`]}),`
`,n.jsx(e.h3,{children:"Declarative language features"}),`
`,n.jsx(e.p,{children:"Declarative language features는 TextMate grammar을 사용하여 구현됩니다. 이는 TextMate grammar은 TextMate editor에서 사용되는 문법을 사용하여"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Syntax highlighting"}),`
`,n.jsx(e.li,{children:"Snippet completion"}),`
`,n.jsx(e.li,{children:"Bracket matching"}),`
`,n.jsx(e.li,{children:"Bracket autoclosing"}),`
`,n.jsx(e.li,{children:"Bracket autosurrounding"}),`
`,n.jsx(e.li,{children:"Comment toggling"}),`
`,n.jsx(e.li,{children:"Auto indentation"}),`
`,n.jsx(e.li,{children:"Folding (by markers)"}),`
`]}),`
`,n.jsx(e.p,{children:"위 기능들을 구현할 수 있습니다."}),`
`,n.jsxs(e.p,{children:["위 기능들은 ",n.jsx(e.code,{children:".json"})," 파일을 사용하여 vscode가 지원하는 기능들에 대한 문법에 따라서 작성이 되며, 아래 처럼 작성하면, 그 문법에 맞는 기능이 제공되는 형태입니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-json",children:`{
    "scopeName": "source.example",
    "patterns": [
        {
            "include": "#keyword"
        }
    ],
    "repository": {
        "keyword": {
            "match": "\\\\b(keyword)\\\\b",
            "name": "keyword.example"
        }
    }
}
`})}),`
`,n.jsx(e.h3,{children:"Programmatic language features"}),`
`,n.jsx(e.p,{children:"Programmatic language features는 Language Server Protocol (LSP)를 사용하여 구현됩니다. 이는 LSP는 Language Server와 Editor 사이의 통신을 위한 프로토콜로, Language Server는 코드를 분석하고, 에러를 검출하고, 코드를 완성하고, 코드를 정리하는 등의 작업을 수행합니다. 아래와 같은 기능은 LSP를 사용하여 구현할 수 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Hover information (vscode.languages.registerHoverProvider)"}),`
`,n.jsx(e.li,{children:"Auto completion (vscode.languages.registerCompletionItemProvider)"}),`
`,n.jsx(e.li,{children:"Jump to definition (vscode.languages.registerDefinitionProvider)"}),`
`,n.jsx(e.li,{children:"Error checking"}),`
`,n.jsx(e.li,{children:"Formatting"}),`
`,n.jsx(e.li,{children:"Refactoring"}),`
`,n.jsx(e.li,{children:"Folding"}),`
`]}),`
`,n.jsx(e.p,{children:"Programmatic language features는 설명과 같이 하나의 Server가 필요합니다. 아래에는 LSP를 사용하여 구현된 Language Server를 사용하는 예시입니다."}),`
`,n.jsx(e.h3,{children:"Language Server Protocol (LSP)"}),`
`,n.jsx(e.p,{children:"LSP(Language Server Protocol)는 Microsoft에서 제안한 프로토콜로, 언어 도구와 코드 편집기 간의 통신을 표준화합니다. 이 프로토콜이 등장한 이유와 그 역할을 요약하면 다음과 같습니다."}),`
`,n.jsx(e.h4,{children:"왜 Language Server(언어 서버) 일까?"}),`
`,n.jsx(e.p,{children:"언어 서버는 다양한 프로그래밍 언어의 편집 환경을 강화하는 특별한 종류의 Visual Studio Code 확장 프로그램입니다. 언어 서버를 사용하면 자동 완성, 오류 검사(진단), 정의로 이동 및 VS Code에서 지원되는 기타 여러 언어 기능을 구현할 수 있습니다."}),`
`,n.jsx(e.p,{children:"하지만 VS Code에서 언어 기능 지원을 구현하는 과정에서 세 가지 공통적인 문제를 발견했습니다:"}),`
`,n.jsx(e.p,{children:"첫째, 언어 서버는 일반적으로 네이티브 프로그래밍 언어로 구현되므로 Node.js 런타임을 사용하는 VS Code와 통합하는 데 어려움이 있습니다."}),`
`,n.jsx(e.p,{children:"또한 언어 기능은 리소스 집약적일 수 있습니다. 예를 들어, 파일을 올바르게 검증하려면 언어 서버는 대량의 파일을 구문 분석하고, 추상 구문 트리를 구축하고, 정적 프로그램 분석을 수행해야 합니다. 이러한 작업에는 상당한 CPU 및 메모리 사용량이 발생할 수 있으므로 VS Code의 성능에 영향을 미치지 않도록 해야 합니다."}),`
`,n.jsx(e.p,{children:"마지막으로, 여러 언어 툴링을 여러 코드 편집기와 통합하려면 상당한 노력이 필요할 수 있습니다. 언어 툴링의 입장에서는 서로 다른 API를 사용하는 코드 편집기에 적응해야 합니다. 코드 편집자의 입장에서는 언어 툴링에서 일관된 API를 기대할 수 없습니다. 따라서 N개의 코드 편집기에서 M개의 언어에 대한 언어 지원을 구현하는 것은 M * N의 작업이 됩니다."}),`
`,n.jsx(e.p,{children:"이러한 문제를 해결하기 위해 Microsoft는 언어 도구와 코드 편집기 간의 통신을 표준화하는 언어 서버 프로토콜을 지정했습니다. 이렇게 하면 언어 서버는 언어 서버 프로토콜을 통해 코드 편집기와 통신하므로 어떤 언어로든 구현할 수 있으며 자체 프로세스에서 실행하여 성능 비용을 절감할 수 있습니다. 또한 모든 LSP 호환 언어 툴링은 여러 LSP 호환 코드 편집기와 통합할 수 있으며, 모든 LSP 호환 코드 편집기는 여러 LSP 호환 언어 툴링을 쉽게 선택할 수 있습니다. LSP는 언어 툴링 제공업체와 코드 편집기 공급업체 모두에게 이득입니다!"}),`
`,n.jsx(e.h4,{children:"언어 서버 구현하기"}),`
`,n.jsx(e.p,{children:"VS Code에서 언어 서버는 두 부분으로 나뉩니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"언어 클라이언트: 자바스크립트/타입스크립트로 작성된 일반 VS 코드 확장 프로그램입니다. 이 확장자는 모든 VS 코드 네임스페이스 API에 액세스할 수 있습니다."}),`
`,n.jsx(e.li,{children:"언어 서버: 별도의 프로세스에서 실행되는 언어 분석 도구입니다."}),`
`]}),`
`,n.jsx(e.p,{children:"위에서 간략하게 설명한 것처럼 언어 서버를 별도의 프로세스에서 실행하면 두 가지 이점이 있습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"분석 도구는 언어 서버 프로토콜에 따라 언어 클라이언트와 통신할 수 있는 언어라면 어떤 언어로도 구현할 수 있습니다."}),`
`,n.jsx(e.li,{children:"언어 분석 도구는 CPU와 메모리 사용량이 많은 경우가 많으므로 별도의 프로세스에서 실행하면 성능 비용을 피할 수 있습니다."}),`
`]}),`
`,n.jsx(e.p,{children:"vscode에서 언어 서버를 사용하는 방법은 다음과 같습니다."}),`
`,n.jsx(e.p,{children:"우선 package.json configurations 설정을 수정합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-json",children:`{
  "name": "my-extension",
  "version": "0.0.1",
  "engines": {
    "vscode": "^1.74.0"
  },
  "activationEvents": [
    "onLanguage:javascript"
  ],
  "main": "./extension.js",
  "contributes": {
    "configuration": {
      "type": "object",
      "title": "Example configuration",
      "properties": {
        "myExtension.enable": {
          "type": "boolean",
          "default": true,
          "description": "Enable/disable the extension"
        }
      }
    },
    "languages": [
      {
        "id": "javascript",
        "aliases": [
          "JavaScript",
          "javascript"
        ],
        "extensions": [
          ".js",
          ".mjs",
          ".cjs",
          ".ts",
          ".tsx"
        ],
        "configuration": "./language-configuration.json"
      }
    ]
  }
}
`})}),`
`,n.jsx(e.p,{children:"이렇게 설정하면 언어 클라이언트와 언어 서버 모두 활성화 됩니다."}),`
`,n.jsx(e.p,{children:"그리고 언어 서버를 구현하는 프로세스를 만들어 줍니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`import * as path from 'path';
import { workspace, ExtensionContext } from 'vscode';

import {
  LanguageClient,
  LanguageClientOptions,
  ServerOptions,
  TransportKind
} from 'vscode-languageclient/node';

let client: LanguageClient;

export function activate(context: ExtensionContext) {
  // The server is implemented in node
  let serverModule = context.asAbsolutePath(path.join('server', 'out', 'server.js'));
  // The debug options for the server
  // --inspect=6009: runs the server in Node's Inspector mode so VS Code can attach to the server for debugging
  let debugOptions = { execArgv: ['--nolazy', '--inspect=6009'] };

  // If the extension is launched in debug mode then the debug server options are used
  // Otherwise the run options are used
  let serverOptions: ServerOptions = {
    run: { module: serverModule, transport: TransportKind.ipc },
    debug: {
      module: serverModule,
      transport: TransportKind.ipc,
      options: debugOptions
    }
  };

  // Options to control the language client
  let clientOptions: LanguageClientOptions = {
    // Register the server for plain text documents
    documentSelector: [{ scheme: 'file', language: 'plaintext' }],
    synchronize: {
      // Notify the server about file changes to '.clientrc files contained in the workspace
      fileEvents: workspace.createFileSystemWatcher('**/.clientrc')
    }
  };

  // Create the language client and start the client.
  client = new LanguageClient(
    'languageServerExample',
    'Language Server Example',
    serverOptions,
    clientOptions
  );

  // Start the client. This will also launch the server
  client.start();
}

export function deactivate(): Thenable<void> | undefined {
  if (!client) {
    return undefined;
  }
  return client.stop();
}
`})})]})}function rMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(xB,{...t})}):xB(t)}const sMe=je({});function aMe(){return n.jsx(Se,{children:n.jsx(rMe,{components:sMe})})}const oMe=ve("/_layout/til/editor/vscode-language-extensions")({component:aMe,head:()=>({meta:[{title:"vscode language extensions"}]})});function yB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Neovim"}),`
`,n.jsx(e.p,{children:"CLI에서 사용하는 텍스트 에디터인 vim의 차세대 에디터로 알려진 neovim을 활용하는 방법을 작성해보겠습니다."}),`
`,n.jsx(e.h2,{children:"설치"}),`
`,n.jsx(e.p,{children:"MacOS에서..."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`brew install neovim
`})}),`
`,n.jsx(e.h2,{children:"Vim-Plug 설치"}),`
`,n.jsx(e.p,{children:"vim-plug은 vim에서 플러그인을 설치하기 위한 패키지 관리자입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`sh -c 'curl -fLo "\${XDG_DATA_HOME:-$HOME/.local/share}"/nvim/site/autoload/plug.vim --create-dirs \\
       https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim'
`})})]})}function lMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(yB,{...t})}):yB(t)}const cMe=je({});function hMe(){return n.jsx(Se,{children:n.jsx(lMe,{components:cMe})})}const uMe=ve("/_layout/til/editor/neovim")({component:hMe,head:()=>({meta:[{title:"neovim"}]})});function vB(t){const e={br:"br",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Learn-vim"}),`
`,n.jsx(e.h2,{children:"커서 이동하기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방향키 움직이기 > 왼쪽 (h), 아래 (j), 위 (k), 오른쪽 (l)"}),`
`,n.jsxs(e.li,{children:["커서 움직이기 > 단어 단위 (w), 단어 단위 뒤로 (b), 문장 단위 (s), 문장 단위 뒤로 (e)",n.jsx(e.br,{}),`
`,"ex -> 2w: 2단어 뒤로, 3e: 3문장 뒤로, 그냥 w, e로 사용 가능"]}),`
`,n.jsx(e.li,{children:"커서 움직이기 > 문서 맨 앞 (gg), 문서 맨 뒤 (G), 페이지 위 (ctrl + u), 페이지 아래 (ctrl + d)"}),`
`,n.jsx(e.li,{children:"커서 움직이기 > 0을 사용하여 줄의 시작으로 이동합니다."}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"%"}),"를 사용하여 현재 괄호에 대응하는 괄호로 이동합니다. (), [], "]}),`
`]}),`
`,n.jsx(e.h2,{children:"검색하기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"/"}),"를 사용하여 검색을 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"?"}),"를 사용하여 역방향 검색을 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"n"}),"을 사용하여 다음 검색 결과로 이동합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"N"}),"을 사용하여 이전 검색 결과로 이동합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"*"}),"를 사용하여 커서가 위치한 단어를 검색합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"#"}),"를 사용하여 커서가 위치한 단어를 역방향으로 검색합니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"변경하기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":s/old/new"}),"를 사용하여 현재 줄에서 첫 번째 old를 new로 변경합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":s/old/new/g"}),"를 사용하여 현재 줄에서 모든 old를 new로 변경합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":%s/old/new/g"}),"를 사용하여 문서 전체에서 모든 old를 new로 변경합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":%s/old/new/gc"}),"를 사용하여 문서 전체에서 모든 old를 new로 변경하되, 변경 여부를 물어봅니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"#,#s/old/new/g"}),"를 사용하여 #번째 줄부터 #번째 줄까지의 모든 old를 new로 변경합니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"편집하기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"문서 편집 모드 > i (insert), a (append), o (open), O (open line)"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"i는 현재 커서 위치에 입력"}),`
`,n.jsx(e.li,{children:"a는 현재 커서 위치 다음에 입력"}),`
`,n.jsx(e.li,{children:"o는 현재 커서 위치 다음 줄에 입력"}),`
`,n.jsx(e.li,{children:"O는 현재 커서 위치 이전 줄에 입력"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["교체 모드 (Replace mode) ",n.jsx(e.code,{children:">"})," R"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"R을 누르면 현재 커서 위치부터 덮어씌움"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["Visual Mode ",n.jsx(e.code,{children:">"})," v"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"v를 누르면 현재 커서 위치부터 선택가능함 (v를 한번 더 누르면 선택이 해제됨)"}),`
`,n.jsx(e.li,{children:"y를 누르면 선택한 부분을 복사함"}),`
`,n.jsx(e.li,{children:"p를 누르면 선택한 부분을 붙여넣음"}),`
`,n.jsx(e.li,{children:"d를 누르면 선택한 부분을 삭제함"}),`
`,n.jsx(e.li,{children:"u를 누르면 선택한 부분을 소문자로 변경함"}),`
`,n.jsx(e.li,{children:"U를 누르면 선택한 부분을 대문자로 변경함"}),`
`,n.jsx(e.li,{children:"~를 누르면 선택한 부분을 대소문자를 변경함"}),`
`,n.jsx(e.li,{children:"c를 누르면 선택한 부분을 변경함"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"커서부터 다음 단어까지 지우기 (delete word) dw"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"커서부터 단어 끝까지 지우기 (delete end of word) de"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"커서부터 문장 끝까지 지우기 (delete end of line) d$"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"한 줄 삭제하기 (dd) ,한 줄 복사하기 (yy) ,한 줄 붙여넣기 (p)"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"커서부터 다음 단어까지 복사하기 (copy word) yw"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"커서부터 다음 단어까지 잘라내기 (cut word) cw"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"커서부터 몇 줄 지우기 (delete line) d숫자d"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"커서부터 몇 줄 복사하기 (copy line) y숫자y"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"커서부터 몇 줄 잘라내기 (cut line) c숫자c"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"이전 명령 취소하기 (u), 이전 명령 복구하기 (ctrl + r)"}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:">"}),"를 누르면 선택한 부분을 들여쓰기함"]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"명령하기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":!"}),"를 이용하여 Command-Line 명령어를 사용할 수 있음 EX) :!pwd, :!ls 등등"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":w FILE_NAME"}),"으로 저장하면, 현재 파일을 해당 FILE_NAME으로 저장함."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":wq"}),"로 저장하고 종료"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":q!"}),"로 저장하지 않고 종료"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":e FILE_NAME"}),"으로 해당 파일을 열 수 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":e!"}),"로 현재 파일을 다시 열 수 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":r FILE_NAME"}),"으로 해당 파일을 현재 파일에 삽입할 수 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":r !dir"}),"로 현재 파일에 dir 명령어의 결과를 삽입할 수 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":r !ls"}),"로 현재 파일에 ls 명령어의 결과를 삽입할 수 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"ctrl + n"})," or ",n.jsx(e.code,{children:"ctrl + p"}),"을 사용하여 자동완성을 할 수 있음."]}),`
`]}),`
`,n.jsx(e.h2,{children:"도움받기"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":help"}),"를 사용하여 도움말을 볼 수 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":help :w"}),"를 사용하여 :w 명령어에 대한 도움말을 볼 수 있음."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:":help w"}),"를 사용하여 w에 대한 도움말을 볼 수 있음."]}),`
`]}),`
`,n.jsx(e.h2,{children:"vimrc"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"vimrc 파일을 만들어서 설정을 저장할 수 있음."}),`
`,n.jsx(e.li,{children:"vimrc 파일은 ~/.vimrc에 위치함."}),`
`,n.jsx(e.li,{children:"vimrc 파일을 만들고 설정을 저장하면, vim을 실행할 때마다 설정을 적용할 수 있음."}),`
`]})]})}function dMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(vB,{...t})}):vB(t)}const fMe=je({});function pMe(){return n.jsx(Se,{children:n.jsx(dMe,{components:fMe})})}const mMe=ve("/_layout/til/editor/learn-vim")({component:pMe,head:()=>({meta:[{title:"learn vim"}]})});function _B(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to go to line in vscode"}),`
`,n.jsx(e.h2,{children:"Go to line hotkey"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Windows -> ",n.jsx(e.code,{children:"Ctrl + G"})]}),`
`,n.jsxs(e.li,{children:["Mac -> ",n.jsx(e.code,{children:"control + G"})]}),`
`]}),`
`,n.jsx(e.h2,{children:"Go to line with command palette"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Windows -> ",n.jsx(e.code,{children:"Ctrl + Shift + P"})]}),`
`,n.jsxs(e.li,{children:["Mac -> ",n.jsx(e.code,{children:"command + Shift + P"})]}),`
`]}),`
`,n.jsxs(e.p,{children:["을 이용하여 command palette를 열고 ",n.jsx(e.code,{children:">"}),"를 지우고 ",n.jsx(e.code,{children:":"})," 를 입력하면 line number를 입력할 수 있는 창이 나오고, 위 방법과 동일하게 이동이 가능합니다."]})]})}function gMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(_B,{...t})}):_B(t)}const xMe=je({});function yMe(){return n.jsx(Se,{children:n.jsx(gMe,{components:xMe})})}const vMe=ve("/_layout/til/editor/how-to-go-to-line-in-vscode")({component:yMe,head:()=>({meta:[{title:"how to go to line in vscode"}]})});function bB(t){const e={h1:"h1",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"git shortcuts command in zsh"}),`
`,n.jsx(e.p,{children:"이렇게 있다는 것을 최근에 알아서 편하게 사용중입니다."}),`
`,n.jsx(e.p,{children:`| Alias | Command |
| --- | --- |
| g | git |
| ga | git add |
| gaa | git add --all |
| gapa | git add --patch |
| gb | git branch |
| gba | git branch -a |
| gbda | git branch --merged | command grep -vE "^(*|\\smaster\\s$)" | command xargs -n 1 git branch -d |
| gbl | git blame -b -w |
| gbnm | git branch --no-merged |
| gbr | git branch --remote |
| gbs | git bisect |
| gbsb | git bisect bad |
| gbsg | git bisect good |
| gbsr | git bisect reset |
| gbss | git bisect start |
| gc | git commit -v |
| gc! | git commit -v --amend |
| gca | git commit -v -a |
| gcam | git commit -a -m |
| gca! | git commit -v -a --amend |
| gcan! | git commit -v -a -s --no-edit --amend |
| gcb | git checkout -b |
| gcf | git config --list |
| gcl | git clone --recursive |
| gclean | git reset --hard && git clean -dfx |
| gcm | git checkout master |
| gcmsg | git commit -m |
| gco | git checkout |
| gcount | git shortlog -sn |
| gcp | git cherry-pick |
| gcs | git commit -S |
| gd | git diff |
| gdca | git diff --cached |
| gdt | git diff-tree --no-commit-id --name-only -r |
| gdw | git diff --word-diff |
| gf | git fetch |
| gfa | git fetch --all --prune |
| gfo | git fetch origin |
| gg | git gui citool |
| gga | git gui citool --amend |
| ggpull | ggl |
| ggpur | ggu |
| ggpush | ggp |
| ggsup | git branch --set-upstream-to = origin/$(current_branch) |
| gignore | git update-index --assume-unchanged |
| gignored | git ls-files -v | grep "^[[:lower:]]" |
| git-svn-dcommit-push | git svn dcommit && git push github master:svntrunk |
| gk | \\gitk --all --branches |
| gke | \\gitk --all $(git log -g --pretty = format:%h) |
| gl | git pull |
| glg | git log --stat --color |
| glgg | git log --graph --color |
| glgga | git log --graph --decorate --all |
| glgm | git log --graph --max-count = 10 |
| glgp | git log --stat --color -p |
| glo | git log --oneline --decorate --color |
| glog | git log --oneline --decorate --color --graph |
| glol | git log --graph --pretty = format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue) |
| glola | git log --graph --pretty = format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue) |
| glp | _git_log_prettily |
| gm | git merge |
| gmom | git merge origin/master |
| gmt | git mergetool --no-prompt |
| gmtvim | git mergetool --no-prompt --tool = vimdiff |
| gmum | git merge upstream/master |
| gp | git push |
| gpd | git push --dry-run |
| gpoat | git push origin --all && git push origin --tags |
| gpu | git push upstream |
| gpv | git push -v |
| gr | git remote |
| gra | git remote add |
| grb | git rebase |
| grba | git rebase --abort |
| grbc | git rebase --continue |
| grbi | git rebase -i |
| grbm | git rebase master |
| grbs | git rebase --skip |
| grh | git reset HEAD |
| grhh | git reset HEAD --hard |
| grmv | git remote rename |
| grrm | git remote remove |
| grset | git remote set-url |
| grt | cd $(git rev-parse --show-toplevel || echo ".") |
| gru | git reset -- |
| grup | git remote update |
| grv | git remote -v |
| gsb | git status -sb |
| gsd | git svn dcommit |
| gsi | git submodule init |
| gsps | git show --pretty = short --show-signature |
| gsr | git svn rebase |
| gss | git status -s |
| gst | git status |
| gsta | git stash |
| gstaa | git stash apply |
| gstd | git stash drop |
| gstl | git stash list |
| gstp | git stash pop |
| gsts | git stash show --text |
| gsu | git submodule update |
| gts | git tag -s |
| gunignore | git update-index --no-assume-unchanged |
| gunwip | git log -n 1 | grep -q -c "--wip--" && git reset HEAD~1 |
| gup | git pull --rebase |
| gupv | git pull --rebase -v |
| gvt | git verify-tag |
| gwch | git whatchanged -p --abbrev-commit --pretty = medium |
| gwip | git add -A; git rm $(git ls-files --deleted) 2> /dev/null; git commit -m "--wip--" |`})]})}function _Me(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(bB,{...t})}):bB(t)}const bMe=je({});function jMe(){return n.jsx(Se,{children:n.jsx(_Me,{components:bMe})})}const SMe=ve("/_layout/til/editor/git-shortcuts-command-in-zsh")({component:jMe,head:()=>({meta:[{title:"git shortcuts command in zsh"}]})});function jB(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Autocomplete commit message in Vscode with Copilot"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"vscode setting 창으로 진입 (CMD + ,)"}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"copilot"})," 검색"]}),`
`,n.jsx(e.li,{children:"Github > Copilot: Enable의 Edit in settings.json 클릭"}),`
`,n.jsxs(e.li,{children:["값을 아래와 같이 수정",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-json",children:`"github.copilot.enable": {
     ...
     "scminput": true
}
`})}),`
`]}),`
`,n.jsx(e.li,{children:"vscode 재시작"}),`
`,n.jsx(e.li,{children:"commit message 가만히 멍 때리고 있으면 copilot이 동작한다."}),`
`]}),`
`,n.jsx(e.h2,{children:"참고"}),`
`,n.jsx(e.p,{children:"아직은 자동완성 수준인 것 같다."})]})}function wMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(jB,{...t})}):jB(t)}const TMe=je({});function CMe(){return n.jsx(Se,{children:n.jsx(wMe,{components:TMe})})}const MMe=ve("/_layout/til/editor/autocomplete-commit-message-in-vscode-with-copilot")({component:CMe,head:()=>({meta:[{title:"autocomplete commit message in vscode with copilot"}]})});function SB(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Auto nvm use in zsh"}),`
`,n.jsx(e.p,{children:"아래의 코드를 .zshrc에 추가하면 디렉토리에 .nvmrc 파일이 있을 경우 해당 버전의 노드를 사용하게 된다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`# ~/.zshrc

# Add this to the end of the file
autoload -U add-zsh-hook
load-nvmrc() {
  local node_version="$(nvm version)"
  local nvmrc_path="$(nvm_find_nvmrc)"

  if [ -n "$nvmrc_path" ]; then
    local nvmrc_node_version=$(nvm version "$(cat "\${nvmrc_path}")")

    if [ "$nvmrc_node_version" = "N/A" ]; then
      nvm install
    elif [ "$nvmrc_node_version" != "$node_version" ]; then
      nvm use
    fi
  elif [ "$node_version" != "$(nvm version default)" ]; then
    echo "Reverting to nvm default version"
    nvm use default
  fi
}
add-zsh-hook chpwd load-nvmrc
load-nvmrc
`})})]})}function EMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(SB,{...t})}):SB(t)}const AMe=je({});function RMe(){return n.jsx(Se,{children:n.jsx(EMe,{components:AMe})})}const LMe=ve("/_layout/til/editor/auto-nvm-use-in-zsh")({component:RMe,head:()=>({meta:[{title:"auto nvm use in zsh"}]})});function wB(t){const e={code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Docker Componse"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Docker Compose"}),"는 멀티 컨테이너 Docker 애플리케이션을 정의하고 실행하기 위한 도구입니다. ",n.jsx(e.code,{children:"Docker Compose"}),"를 사용하면 YAML 파일을 사용하여 애플리케이션의 서비스를 구성할 수 있습니다. 그런 다음 명령 한 번으로 구성에서 모든 서비스를 생성하고 시작할 수 있습니다."]}),`
`,n.jsxs(e.p,{children:["이러한 ",n.jsx(e.code,{children:"Docker Compose"}),"는 아래와 같은 기능을 가지고 있습니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"단일 호스트에 여러 개의 격리된 환경 보유"}),`
`,n.jsx(e.li,{children:"컨테이너 생성 시 볼륨 데이터 보존"}),`
`,n.jsx(e.li,{children:"변경된 컨테이너만 다시 생성"}),`
`,n.jsx(e.li,{children:"환경 간 변수 및 컴포지션 이동 지원"}),`
`]}),`
`,n.jsx(e.h1,{children:"예시"}),`
`,n.jsxs(e.p,{children:["아래는 ",n.jsx(e.code,{children:"Docker Compose"}),"를 사용하여 ",n.jsx(e.code,{children:"Wordpress"}),"를 실행하는 예시입니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-yaml",children:`version: '3.3',

services:
  db:
    image: mysql:5.7
    volumes:
      - db_data:/var/lib/mysql
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: wordpress
      MYSQL_DATABASE: wordpress
      MYSQL_USER: wordpress
      MYSQL_PASSWORD: wordpress

  wordpress:
    depends_on:
      - db
    image: wordpress:latest
    ports:
      - "8000:80"
    restart: always
    environment:
      WORDPRESS_DB_HOST: db
      WORDPRESS_DB_USER: wordpress
      WORDPRESS_DB_PASSWORD: wordpress
volumes:
    db_data:
`})}),`
`,n.jsxs(e.p,{children:["이렇게 만들어진 yaml 파일을 ",n.jsx(e.code,{children:"docker-compose up"})," 명령어를 통해 실행할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shel",children:`// 시작
$ docker-compose up

// 백그라운드에서 실행 가능
docker-compose up -d

// 종료
$ docker-compose down
`})}),`
`,n.jsx(e.p,{children:"참고로 위의 docker-compose.yml 파일은 볼륨, 네트워크, 컨테이너 등을 생성할 수 있기 때문에, 프론트엔드에서도 개발전용 환경이 필요할 경우에는 유용하게 사용할 수 있습니다."})]})}function DMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(wB,{...t})}):wB(t)}const kMe=je({});function NMe(){return n.jsx(Se,{children:n.jsx(DMe,{components:kMe})})}const PMe=ve("/_layout/til/docker/docker-compose")({component:NMe,head:()=>({meta:[{title:"docker compose"}]})});function TB(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Basic Of Partitioning"}),`
`,n.jsx(e.p,{children:"서비스의 규모가 커지게 되면, 테이블의 수, 데이터의 수가 증가하게 되고, 이로 인하여 Database의 성능이 저하되게 됩니다. 또, 한 테이블이 가용할 수 없는 상태가 되어버린다면, 전체 데이터에 문제가 발생하여 서비스에 큰 영향을 미칠 수 있습니다. 이러한 경우에는 Database의 파티셔닝(Partitioning)을 사용하여 성능과 가용성을 지킬 수 있습니다. 그렇다면, 이 파티셔닝이 무엇일까요?"}),`
`,n.jsx(e.h2,{children:"파티셔닝 (Partitioning)"}),`
`,n.jsxs(e.p,{children:["파티셔닝은 논리적인 데이터를 다 수의 entity로 분할하는 행위를 말하며, 행으로 파티션을 나누는 ",n.jsx(e.code,{children:"수평 파티셔닝"}),", 컬럼별로 파티션을 나누는 ",n.jsx(e.code,{children:"수직 파티션"}),"이 있습니다. 일반적으로는 수평 파티셔닝을 사용합니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["장점",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"query, update 등 데이터를 다룰 경우에 성능이 좋아진다."}),`
`,n.jsx(e.li,{children:"파티션 별로 백업 및 복구가 가능하기 때문에, 가용성에 이점이 있다."}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["단점",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"테이블간의 join 비용이 추가된다."}),`
`,n.jsx(e.li,{children:"데이터를 추가할 경우에 어떤 파티션에 추가할 것인지에 대한 연상 작업이 존재한다."}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"예시"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"파티션의 개념을 요약하자면 데이터를 나누는 것입니다. 그렇기 때문에, 여러가지 방법으로 데이터를 나눌 수 있고, 그에 따라서 이름이 존재합니다. 그 중에서 벙위에 따라서 파티션을 생성하는 범위 파티셔닝의 예시를 아래 적어 보았습니다."}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-sql",children:`CREATE TABLE t1 (
    id INT,
    year_col INT
)
PARTITION BY RANGE (year_col) (
    PARTITION p0 VALUES LESS THAN (1991),
    PARTITION p1 VALUES LESS THAN (1995),
    PARTITION p2 VALUES LESS THAN (1999)
);
`})})]})}function OMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(TB,{...t})}):TB(t)}const BMe=je({});function IMe(){return n.jsx(Se,{children:n.jsx(OMe,{components:BMe})})}const FMe=ve("/_layout/til/database/basic-of-partitioning")({component:IMe,head:()=>({meta:[{title:"basic of partitioning"}]})});function CB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Writing Mode"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"writing-mode"})," 속성은 텍스트의 가로 또는 세로 방향을 결정하는 속성으로, 문서의 쓰기 방향을 설정할 수 있습니다. 주로 동아시아 언어(중국어, 일본어, 한국어)나 세로쓰기 문서 레이아웃에서 사용되며, 웹 페이지나 애플리케이션에서 다양한 레이아웃을 구현할 때 유용합니다."]}),`
`,n.jsx(e.h2,{children:"기본값과 설정 가능한 값"}),`
`,n.jsxs(e.h3,{children:["1. ",n.jsx(e.code,{children:"horizontal-tb"})," (기본값)"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"텍스트가 왼쪽에서 오른쪽으로 수평 방향으로 쓰여집니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"대부분의 서구권 언어(영어, 독일어, 프랑스어 등)에서 기본적으로 사용되는 방향입니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"horizontal-tb"}),"는 ",n.jsx(e.code,{children:"text"}),"의 가로쓰기를 뜻하며, 텍스트는 왼쪽에서 오른쪽으로, 그리고 위에서 아래로 흐릅니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`writing-mode: horizontal-tb;
`})}),`
`]}),`
`]}),`
`,n.jsxs(e.h3,{children:["2. ",n.jsx(e.code,{children:"vertical-rl"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"텍스트가 위에서 아래로 세로 방향으로 쓰여지며, 줄이 오른쪽에서 왼쪽으로 이동합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"주로 전통적인 중국어, 일본어 등의 세로쓰기 방식에서 사용됩니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`writing-mode: vertical-rl;
`})}),`
`]}),`
`]}),`
`,n.jsxs(e.h3,{children:["3. ",n.jsx(e.code,{children:"vertical-lr"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"텍스트가 위에서 아래로 세로 방향으로 쓰여지며, 줄이 왼쪽에서 오른쪽으로 이동합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"동아시아 언어에서는 많이 사용되지 않지만, 세로쓰기 방식 중 하나입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`writing-mode: vertical-lr;
`})}),`
`]}),`
`]}),`
`,n.jsxs(e.h3,{children:["4. ",n.jsx(e.code,{children:"sideways-rl"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"텍스트가 수평이 아닌 세로로 배열되며, 오른쪽에서 왼쪽으로 쓰여집니다. 단, 각 문자의 배치 방향은 수평과 같고, 텍스트 블록이 90도 회전된 효과가 납니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`writing-mode: sideways-rl;
`})}),`
`]}),`
`]}),`
`,n.jsxs(e.h3,{children:["5. ",n.jsx(e.code,{children:"sideways-lr"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"텍스트가 수평이 아닌 세로로 배열되며, 왼쪽에서 오른쪽으로 쓰여집니다. 이 역시 문자가 90도 회전된 효과가 나며, 텍스트 블록이 수직으로 쓰여집니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`writing-mode: sideways-lr;
`})}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"사용 목적"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"다국어 지원"}),": 서로 다른 쓰기 방향을 가진 언어(예: 중국어의 세로쓰기, 영어의 가로쓰기)를 하나의 문서나 웹사이트에 함께 표시할 때 사용됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"전통 문서 레이아웃"}),": 일본어와 중국어의 전통적인 책이나 신문과 같은 레이아웃에서는 세로쓰기를 지원해야 할 필요가 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"디자인 요소"}),": 특이한 레이아웃을 원하거나, 텍스트 블록을 회전하여 레이아웃에 변화를 줄 때 활용할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"세로 형식 UI"}),": 예를 들어, 간판이나 세로 배너와 같은 UI 요소에 텍스트를 세로로 표시하는 경우에 사용됩니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"기타 CSS 속성들과의 조합"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"text-align"}),": 텍스트 정렬을 수직 및 수평으로 조정하는 속성으로, ",n.jsx(e.code,{children:"writing-mode"}),"와 함께 사용할 때 텍스트의 전체적인 배치를 더욱 세밀하게 제어할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`text-align: center;
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"line-height"}),": 줄 간격을 조정하여 ",n.jsx(e.code,{children:"writing-mode"}),"로 설정한 텍스트의 가독성을 높일 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`line-height: 1.5;
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"direction"}),": 텍스트의 흐름 방향을 설정하며, ",n.jsx(e.code,{children:"writing-mode"}),"와 조합하여 텍스트의 읽기 방향을 결정합니다. 예를 들어, 아랍어와 같은 언어는 오른쪽에서 왼쪽으로 읽는 것이 일반적이므로 ",n.jsx(e.code,{children:"direction: rtl;"}),"과 함께 사용할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`direction: rtl;
`})}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    .vertical-text {
      writing-mode: vertical-rl;
      text-align: center;
      border: 1px solid #000;
      padding: 20px;
      line-height: 1.5;
      height: 200px;
    }
  </style>
  <title>CSS Writing Mode Example</title>
</head>
<body>

  <div class="vertical-text">
    세로쓰기 예시 텍스트입니다.
  </div>

</body>
</html>
`})}),`
`,n.jsxs(e.p,{children:["위 예시에서, ",n.jsx(e.code,{children:"writing-mode: vertical-rl;"}),"을 사용하여 텍스트가 세로로 쓰여지도록 설정했습니다. 이와 같은 방식으로 세로쓰기 레이아웃을 손쉽게 구현할 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"writing-mode"})," 속성은 다양한 텍스트 레이아웃과 다국어 지원이 필요한 상황에서 매우 유용한 CSS 속성입니다. 기본적으로는 가로쓰기 레이아웃이지만, 세로쓰기가 필요한 경우나 독특한 텍스트 배치가 필요한 디자인에서는 필수적인 역할을 합니다."]})]})}function UMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(CB,{...t})}):CB(t)}const zMe=je({});function HMe(){return n.jsx(Se,{children:n.jsx(UMe,{components:zMe})})}const VMe=ve("/_layout/til/css/writing-mode")({component:HMe,head:()=>({meta:[{title:"writing mode"}]})});function MB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Typography"}),`
`,n.jsx(e.p,{children:"Typography는 글자의 디자인을 의미하여 이 디자인적 요소에는 서체(Typeface), 글꼴(Font) 등 다양한 것들이 있습니다. 이러한 요소를 먼저 학습한 뒤에, CSS로 이 요소를 구현하는 방법을 알아보겠습니다."}),`
`,n.jsx(e.h2,{children:"Typography의 요소"}),`
`,n.jsx(e.h3,{children:"서체(Typeface)"}),`
`,n.jsx(e.p,{children:"서체(Typeface)는 글자의 기본적인 형태와 스타일을 정의하는 요소입니다. 크기나 굵기 보다는 모양이 중점을 둔 요소입니다."}),`
`,n.jsx(e.h3,{children:"글꼴(Font)"}),`
`,n.jsx(e.p,{children:"글꼴(Font)은 서체(Typeface)의 구체적인 구현으로, 서체의 크기, 굵기, 스타일(이탤릭, 볼드 등)을 포함하는 요소입니다."}),`
`,n.jsx(e.h3,{children:"행간(Line Height)"}),`
`,n.jsx(e.p,{children:"행간은 두 줄 사이의 공간으로, 적절한 행간은 텍스트가 읽기 쉽도록 돕습니다. 너무 좁거나 넓으면 가독성이 떨어질 수 있습니다."}),`
`,n.jsx(e.h3,{children:"자간(Letter Spacing)과 단어 간격(Word Spacing)"}),`
`,n.jsx(e.p,{children:"자간(Letter Spacing)은 글자 사이의 공간을 정의하는 요소입니다. 단어 간격(Word Spacing)은 단어 사이의 공간을 정의하는 요소입니다."}),`
`,n.jsx(e.h3,{children:"계층(Hierarchy)"}),`
`,n.jsx(e.p,{children:"계층은 문서에서 중요도에 따라서 어떤 글자가 사용자의 시선을 더 끌 수 있는지를 구분한 뒤에, 중요한 내용은 시선을 더 끌 수 있도록하고, 중요하지 않은 내용은 시선을 비교적 덜 끌게하여, 사용자로 하여금 효율적으로 글자를 읽을 수 있도록 도와주는 요소입니다. 이 계층은 글꼴뿐만아니라, 행간, 자간 등 다양한 요소의 변화를 주어서 구성할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"Typography를 웹에서 적용하기"}),`
`,n.jsx(e.p,{children:"Typography를 웹에서 적용하기 위해서는 당연하게도 CSS를 사용해야합니다. 하지만, html5에서는 기본적으로 Typography를 정의하고 있으며, 개발자는 이 정의에 CSS를 덭붙여서 새로운 Typography를 구성할 수 있습니다."}),`
`,n.jsx(e.h3,{children:"html5에서의 Typography"}),`
`,n.jsx(e.p,{children:"html5에서는 글자의 의미에 따라서 다른 tag를 사용하도록 하는 것을 표준으로 하고 있습니다. 이러한 행동은 시각장애인으로 하여금 스크린리더가 글 혹은 글자의 의미를 잘 전달 할 수 있도록 도움을 줄 수 있고, 모든 사용자가 웹의 컨텐츠를 사용할 수 있도록 도와줍니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Heading tag"}),": ",n.jsx(e.code,{children:"<h1>, <h2>, <h3>, <h4>, <h5>, <h6>"}),"는 각 문서 혹은 문단의 제목을 나타내며, h1이 가장 중요한 제목으로서 일반적으로 크기가 가장 크고 h6은 가장 작다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Paragraph Tag"}),": ",n.jsx(e.code,{children:"<p>"}),"는 일반적인 텍스트 단락을 나타내며, 텍스트 콘텐츠를 감싸는 데 사용됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Strong Tag"}),": ",n.jsx(e.code,{children:"<strong>"}),"는 글에서 특정 단어나 문장을 강조하기 위해서 사용됩니다. ex. ",n.jsx(e.code,{children:"<p>"})," 저는 ",n.jsx(e.code,{children:"<strong>"}),"Gitsunmin",n.jsx(e.code,{children:"</strong>"}),"입니다. ",n.jsx(e.code,{children:"</p>"})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Emphasis Tag"}),": ",n.jsx(e.code,{children:"<em>"}),"도 ",n.jsx(e.code,{children:"<strong>"}),"와 마찬가지로 강조를 위한 Tag이지만, 굵기의 변화가 아닌, 기울임을 이용하여 글자를 강조합니다. ex. ",n.jsx(e.code,{children:"<p>"})," 저는 ",n.jsx(e.code,{children:"<em>"}),"Gitsunmin",n.jsx(e.code,{children:"</em>"}),"입니다. ",n.jsx(e.code,{children:"</p>"})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Mark Tag"}),": ",n.jsx(e.code,{children:"<mark>"})," 또한 강조를 의미하는 Tag이지만, 글자의 배경색에 변화를 주어 글자를 강조할 떄 사용되면, 일반적으로는 검색 결과에서 특정 단어를 강조하기 위해서 사용됩니다. ex. ",n.jsx(e.code,{children:"<p>"})," 저는 ",n.jsx(e.code,{children:"<mark>"}),"Gitsunmin",n.jsx(e.code,{children:"</mark>"}),"입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Quotation Tags"}),": ",n.jsx(e.code,{children:"<blockquote>"}),"는 긴 인용을 표시할 때 사용합니다. 보통 다른 사람의 말이나 문서를 인용할 때 사용하며, 기본적으로 들여쓰기가 적용됩니다. ex. ",n.jsx(e.code,{children:"<p>"})," gitsunmin이 말했다. ",n.jsx(e.code,{children:"<br/>"})," ",n.jsx(e.code,{children:"<blockquote>"})," 저는 Gitsunmin입니다. ",n.jsx(e.code,{children:"</blockquote>"})," 라고...",n.jsx(e.code,{children:"</p>"}),`
참고로 짧은 이용문인 경우에는 `,n.jsx(e.code,{children:"<q>"}),"를 사용하며 작은 따옴표를 붙여서 표시합니다. ex. ",n.jsx(e.code,{children:"<p>"})," gitsunmin이 말했다. ",n.jsx(e.code,{children:"<br/>"})," ",n.jsx(e.code,{children:"<q>"})," 저는 Gitsunmin입니다. ",n.jsx(e.code,{children:"</q>"})," 라고...",n.jsx(e.code,{children:"</p>"})]}),`
`]}),`
`,n.jsx(e.p,{children:"이 외에도 다양한 Tag를 사용하여 글자의 의미를 더 풍부하고, 간편하게 만들 수 있는 방법이 있습니다."}),`
`,n.jsx(e.h3,{children:"css를 Typography"}),`
`,n.jsx(e.p,{children:"html로 문자의 의미를 부여했다면, 그 의미에 부함하는 스타일 즉, Typography는 css로 구현을 하면 됩니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Font-family"}),": 서체(Typeface)의 이름을 지정하며, css에서 기본적으로 제공되는 serif, sans-serif와 같은 값들은 따옴표없이 작성할 수 있으며, custom으로 등록한 서체인 경우에는 따옴표를 이용하여 서체의 이름을 지정합니다. 또한 폰트가 사용자에게 설치되어 있지 않은 경우를 대비하여 font-family는 인자를 여러 개 받을 수 있습니다. 가장 왼쪽에 있는 내용부터 먼저 적용되며, 폰트가 없을 경우에는 바로 오른쪽의 서체가 적용되도록 설계 되어있습니다. ex. font-familty: 'Roboto', Arial, sans-serif;"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Font-Size"}),": 이 속성은 글자의 크기를 지정하는 속성이며, px나 pt등 절대적인 값을 지정할 수 있는 단위와 em나 rem등 relative 값을 지정할 수 있습니다. ex. font-size: 1.5em;"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Font-Weight"}),": 이 속성은 글자의 두께를 지정하는 속성이며, 글자의 두께를 100, 200, ..., 900 과 같이 100 배수의 숫자로 굵기의 정도를 1단계 ~ 9단계로 지정할 수도 있으며, normal, bold, lighter, bolder 등과 같이 css에서 제공하는 기본 값을 지정할 수도 있습니다. ex. font-weight: bold;"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Font-Style"}),": 이 속성은 글자의 스타일을 지정하는 속성이며, 기울어진 글자완 같은 설정을 위해서 사용될 수 있습니다. 일반적으로 지정할 수 있는 값은 normal, italic, oblique 등이 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Line-Height"}),": line-height는 행 간의 수직 간격을 설정하는 속성입니다. 이 속성은 텍스트가 여러 줄로 나눠졌을 때 각 줄 사이의 간격을 정의합니다. line-height는 단위가 옵션입니다. 즉, 단위 없이 숫자만 지정할 수도 있습니다. 단위 없이 숫자를 지정하면, 해당 숫자가 기본 폰트 크기에 대한 비율로 작용합니다. (1.4 ~ 1.6배의 line-height는 대부분의 텍스트에서 가독성이 좋습니다.) ex. line-height: 1.5;"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"letter-spacing"}),": 글자와 글자 사이의 수평 간격을 설정하는 속성입니다. 이 속성은 텍스트의 가독성과 디자인을 조정하는 데 사용됩니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"0em (기본값): 대부분의 폰트에서는 기본 간격이 잘 맞습니다. 특별히 조정할 필요가 없으면 기본값을 사용하세요."}),`
`,n.jsx(e.li,{children:"0.02em ~ 0.05em: 이 정도 간격은 가독성을 유지하면서 글자들이 너무 붙어 보이지 않게 합니다."}),`
`,n.jsx(e.li,{children:"0.1em 이상: 큰 제목이나 디자인을 강조하고 싶을 때 사용됩니다. 헤드라인에서 특히 효과적입니다."}),`
`]}),`
`]}),`
`]})]})}function GMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(MB,{...t})}):MB(t)}const $Me=je({});function qMe(){return n.jsx(Se,{children:n.jsx(GMe,{components:$Me})})}const WMe=ve("/_layout/til/css/typography")({component:qMe,head:()=>({meta:[{title:"typography"}]})});function EB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"TailwindCSS"}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"TailwindCSS에 대한 개요"})}),`
`,n.jsx(e.p,{children:"TailwindCSS는 재사용 가능한 유틸리티 클래스를 제공하는 저수준 유틸리티-퍼스트 CSS 프레임워크입니다. 이는 CSS 파일의 크기를 줄이기 위해 필요한 스타일만 포함하여 개발자가 빠르게 프론트엔드 디자인을 구축할 수 있도록 도와줍니다. 별도의 CSS를 작성하지 않고도 HTML 내에서 클래스를 조합하여 디자인을 할 수 있습니다."}),`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"TailwindCSS의 특징"})}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"유틸리티 클래스"}),": Tailwind는 수많은 작은, 단일 목적의 CSS 클래스를 제공합니다. 이러한 클래스들은 개별적인 스타일 속성에 직접 연결됩니다. 예를 들어, ",n.jsx(e.code,{children:"bg-blue-500"}),"은 배경색을 파란색으로 설정하고, ",n.jsx(e.code,{children:"text-center"}),"는 텍스트를 중앙에 정렬하는 등의 기능을 합니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"재사용성과 조합성"}),": 유틸리티 클래스의 장점은 간단한 클래스를 조합하여 복잡한 디자인을 만들 수 있다는 것입니다. 별도의 CSS를 작성하지 않고도 HTML에서 클래스를 조합하여 원하는 디자인을 쉽게 만들 수 있습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"커스터마이징"}),": ",n.jsx(e.code,{children:"tailwind.config.js"})," 파일을 통해 프로젝트의 요구사항에 맞게 Tailwind를 쉽게 커스터마이즈 할 수 있습니다. 색상, 간격, 크기 등의 기본 설정을 변경하거나 추가할 수 있습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"성능 최적화"}),": Tailwind는 개발 모드에서는 많은 유틸리티 클래스를 생성합니다. 하지만, 프로덕션 모드에서는 PurgeCSS를 사용하여 실제 HTML에서 사용되지 않는 스타일을 자동으로 제거하여 최종 CSS 파일의 크기를 줄입니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"작동 원리"}),":"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"CSS 생성"}),": Tailwind는 설정 파일에 기반하여 수천 개의 유틸리티 클래스를 포함한 큰 CSS 파일을 생성합니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"HTML에 적용"}),": 개발자는 HTML에서 이러한 유틸리티 클래스를 적용하여 디자인을 만듭니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"최적화"}),": 프로덕션 빌드 과정에서 사용되지 않는 클래스들은 제거됩니다. 이를 위해 Tailwind는 PurgeCSS와 같은 도구를 내장하고 있습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"반응형 디자인"}),": Tailwind는 반응형 디자인을 위한 유틸리티 클래스도 제공합니다. 예를 들면, ",n.jsx(e.code,{children:"md:bg-red-500"}),"는 중간 크기의 화면에서만 배경색을 빨간색으로 설정합니다."]}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"이러한 원리를 바탕으로, TailwindCSS는 유틸리티-퍼스트 방식을 사용하여 빠르고 유연하며 최적화된 웹 디자인을 가능하게 합니다. 유틸리티 클래스를 사용하면 별도의 CSS를 작성하지 않아도 대부분의 디자인 요구사항을 충족시킬 수 있습니다."}),`
`,n.jsx(e.h2,{children:"Transitions & Animation"}),`
`,n.jsx(e.h2,{children:"개요"}),`
`,n.jsxs(e.p,{children:["TailwindCSS의 ",n.jsx(e.strong,{children:"Transition Property"}),"는 요소의 스타일 변경 시 적용되는 속성(transition property)을 지정할 수 있게 해주는 유틸리티 클래스입니다. 이를 활용하면 특정 속성만 전환되도록 설정하거나, 기본적으로 모든 속성이 전환되도록 지정할 수 있습니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"기본 사용법"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"transition-property"})," 유틸리티를 사용하면 스타일 변경 시 어떤 속성이 전환될지 지정할 수 있습니다. TailwindCSS는 다음과 같은 기본 유틸리티 클래스를 제공합니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"클래스 목록"}),`
`,n.jsxs(e.h3,{children:["1. ",n.jsx(e.code,{children:"transition"})]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"설명"}),": 기본적으로 ",n.jsx(e.code,{children:"all"})," 속성에 전환 효과를 적용합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"사용 예시"}),":",`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<button class="transition duration-300 hover:bg-blue-500">
  버튼
</button>
`})}),`
`]}),`
`]}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"transition-none"}),`
`,n.jsx(e.p,{children:`•	설명: 전환 효과를 비활성화합니다.
•	사용 예시:`}),`
`]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<button class="transition-none hover:bg-blue-500">
  버튼
</button>
`})}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"속성별 클래스"}),`
`]}),`
`,n.jsx(e.p,{children:"아래의 클래스를 사용하여 특정 속성에만 전환 효과를 적용할 수 있습니다."}),`
`,n.jsx(e.p,{children:`|클래스|적용 속성|
|---|---|
|transition-all|모든 속성 (all)|
|transition-colors|색상 관련 속성|
|transition-opacity|투명도 (opacity)|
|transition-shadow|그림자 (box-shadow)|
|transition-transform|변형 (transform)|`}),`
`,n.jsx(e.p,{children:"예시: 특정 속성에 전환 효과 적용"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="transition-colors duration-500 hover:bg-red-500">
  배경색 전환
</div>

<div class="transition-opacity duration-300 hover:opacity-50">
  투명도 전환
</div>

<div class="transition-shadow duration-200 hover:shadow-lg">
  그림자 전환
</div>
`})}),`
`,n.jsx(e.p,{children:"동작 원리"}),`
`,n.jsx(e.p,{children:`transition-property는 CSS의 transition-property 속성과 동일한 역할을 수행합니다.
예를 들어, transition-colors는 다음과 같은 CSS로 컴파일됩니다:`}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`/* TailwindCSS에서 컴파일된 결과 */
.transition-colors {
  transition-property: background-color, border-color, color, fill, stroke;
}
`})}),`
`,n.jsx(e.p,{children:"관련 유틸리티"}),`
`,n.jsx(e.p,{children:"Transition Property는 아래와 같은 TailwindCSS 유틸리티와 함께 사용하면 더 효과적으로 동작합니다:"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:`transition-duration
전환 효과의 지속 시간을 설정합니다.
•	예시: duration-300 → 300ms 동안 전환.`}),`
`,n.jsx(e.li,{children:`transition-timing-function
전환 속도의 곡선(완급 조절)을 설정합니다.
•	예시: ease-in-out, ease-linear.`}),`
`,n.jsx(e.li,{children:`transition-delay
전환 효과가 시작되기 전의 지연 시간을 설정합니다.
•	예시: delay-200 → 200ms 지연 후 시작.`}),`
`]}),`
`,n.jsx(e.p,{children:"실전 예제"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"버튼 색상 전환"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<button class="transition-colors duration-300 ease-in-out bg-blue-500 hover:bg-green-500 text-white px-4 py-2 rounded">
  클릭하세요
</button>
`})}),`
`,n.jsx(e.p,{children:`•	transition-colors: 배경색과 관련된 속성만 전환.
•	duration-300: 300ms 동안 전환.
•	ease-in-out: 전환 속도를 점진적으로 조절.`}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsx(e.li,{children:"카드 호버 시 확대 효과"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="transition-transform duration-500 hover:scale-105 bg-white shadow-lg rounded-lg p-4">
  카드 내용
</div>
`})}),`
`,n.jsx(e.p,{children:`•	transition-transform: 변형 관련 속성(transform)에만 전환 효과 적용.
•	hover:scale-105: 호버 시 크기를 105%로 확대.`}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"다중 전환 효과 적용"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="transition-all duration-300 ease-out hover:shadow-lg hover:opacity-80 hover:scale-105">
  다중 효과
</div>
`})}),`
`,n.jsx(e.p,{children:`•	transition-all: 모든 속성에 전환 효과 적용.
•	다중 호버 효과: 그림자, 투명도, 크기 변화 동시에 적용.`})]})}function XMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(EB,{...t})}):EB(t)}const YMe=je({});function KMe(){return n.jsx(Se,{children:n.jsx(XMe,{components:YMe})})}const ZMe=ve("/_layout/til/css/tailwind-css")({component:KMe,head:()=>({meta:[{title:"tailwind css"}]})});function AB(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Replaced elements"}),`
`,n.jsxs(e.p,{children:["css에서 Replaced elements(대체 요소)는 css로 위치나 크기에 영향을 줄 수는 있지만, 컨텐츠 자체에는 영향을 줄 수 없는 요소를 말합니다. 대표적으로 ",n.jsx(e.code,{children:"<iframe />"}),", ",n.jsx(e.code,{children:"<img />"})," 등이 있습니다."]}),`
`,n.jsx(e.h2,{children:"Replaced elements"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"<iframe />"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"<video />"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"<embed />"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"<<img> />"})}),`
`]}),`
`,n.jsx(e.h2,{children:"특별한 경우에만 Replaced elements가 되는 요소들"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"<option />"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"<audio />"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"<canvas />"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"<object />"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:'<input type="image" />'})}),`
`]}),`
`,n.jsxs(e.p,{children:["추가적으로 css의 content 속성으로 추가된 객체도 Replaced elements이며, 마크업에서는 이름이 따로 존재하지 않기 때문에, ",n.jsx(e.code,{children:"anonymous replaced elements(익명 대체 요소)"}),"라고 합니다."]})]})}function QMe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(AB,{...t})}):AB(t)}const JMe=je({});function eEe(){return n.jsx(Se,{children:n.jsx(QMe,{components:JMe})})}const tEe=ve("/_layout/til/css/replaced-elements")({component:eEe,head:()=>({meta:[{title:"replaced elements"}]})});function RB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{children:["Pseudo Class ",n.jsx(e.code,{children:"Lang"})]}),`
`,n.jsxs(e.h2,{children:[n.jsx(e.code,{children:":lang"})," 선택자란?"]}),`
`,n.jsxs(e.p,{children:["CSS의 ",n.jsx(e.code,{children:":lang"})," 선택자는 HTML 문서에서 ",n.jsx(e.code,{children:"lang"})," 속성으로 지정된 언어 코드에 따라 요소를 스타일링하는 데 사용됩니다. 이는 다국어 웹사이트에서 특정 언어로 작성된 콘텐츠에 대해 적절한 스타일을 적용할 때 유용합니다."]}),`
`,n.jsxs(e.h2,{children:[n.jsx(e.code,{children:":lang"})," 선택자 사용법"]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:":lang"})," 선택자는 다음과 같은 구문을 가집니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`:lang(언어코드) {
  /* 스타일 속성 */
}
`})}),`
`,n.jsxs(e.p,{children:["여기서 ",n.jsx(e.code,{children:"언어코드"}),"는 ISO 639-1 언어 코드로 표현되며, 언어를 식별하는 역할을 합니다."]}),`
`,n.jsx(e.h2,{children:"예시: 다국어 웹사이트에서의 사용"}),`
`,n.jsxs(e.p,{children:["다음은 간단한 다국어 웹사이트의 예시를 통해 ",n.jsx(e.code,{children:":lang"})," 선택자의 활용을 보여드리겠습니다."]}),`
`,n.jsx(e.p,{children:"HTML 코드:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gitsunmin</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <h1 lang="en">Welcome to our website!</h1>

    <h1 lang="ko">안녕하세요!</h1>
    <p lang="ko">안녕히계세요!</p>
  </body>
</html>
`})}),`
`,n.jsxs(e.p,{children:["CSS 코드 (",n.jsx(e.code,{children:"styles.css"}),"):"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`:lang(en) {
  color: blue;
  font-weight: bold;
}

:lang(ko) {
  color: green;
  font-style: italic;
}
`})}),`
`,n.jsxs(e.p,{children:["이 예시에서는 영어로 작성된 요소에는 파란색 글자와 굵은 글꼴이 적용되며, 한국어로 작성된 요소에는 초록색 글자와 이탤릭체가 적용됩니다. ",n.jsx(e.code,{children:":lang"})," 선택자를 사용하여 각 언어에 맞는 스타일을 지정함으로써 사용자가 언어에 따라 다른 스타일을 보게 됩니다."]}),`
`,n.jsxs(e.p,{children:["이렇게 다국어 웹사이트에서 ",n.jsx(e.code,{children:":lang"})," 선택자를 활용하면 사용자 경험을 개선하고, 다양한 언어로 작성된 콘텐츠를 더욱 뚜렷하게 표현할 수 있습니다."]})]})}function nEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(RB,{...t})}):RB(t)}const iEe=je({});function rEe(){return n.jsx(Se,{children:n.jsx(nEe,{components:iEe})})}const sEe=ve("/_layout/til/css/pseudo-class-lang")({component:rEe,head:()=>({meta:[{title:"pseudo class lang"}]})});function LB(t){const e={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Problem of Sticky"}),`
`,n.jsx(e.p,{children:"CSS position: sticky 속성"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"sticky 속성의 기본 개념과 예시"}),`
`]}),`
`,n.jsx(e.p,{children:"position: sticky는 상대적 위치와 고정 위치의 특성을 모두 가진 CSS 속성입니다. 특정 임계 지점(예: top: 0px)에 도달하기 전까지는 일반적인 흐름에 따라 배치되고, 그 지점에 도달하면 마치 position: fixed처럼 지정한 위치에 고정됩니다 ￼. 이는 요소가 스크롤을 따라 움직이다가 지정된 offset 위치에 이르면 화면에 붙어서 더 이상 스크롤되지 않는 동작입니다. 고정된 이후에도 부모 영역을 벗어나지 않으며, 부모 요소의 끝에서는 다시 상대적으로 배치되어 더 이상 화면에 남아있지 않게 됩니다."}),`
`,n.jsx(e.p,{children:"또한 sticky 요소는 fixed와 달리 레이아웃 상의 자리를 차지합니다. 즉, 스크롤 전에는 원래 배치된 자리에서 다른 콘텐츠를 밀어내고 있다가, 스크롤하여 임계점에 도달해도 그 자리 공간을 유지한 채 화면에 고정됩니다 ￼. 이 때문에 fixed 요소처럼 문서 흐름에서 완전히 빠지지 않아, 다른 요소들이 갑자기 위치가 변경되는 것을 방지합니다."}),`
`,n.jsx(e.p,{children:"사용 방법: position: sticky를 적용할 때는 반드시 top, left, right, bottom 중 하나 이상의 offset 속성을 함께 지정해야 합니다. 지정한 offset 위치가 없다면 일반적인 relative처럼 동작해서 아무 효과가 없습니다 ￼. 예를 들어 아래와 같이 CSS를 작성할 수 있습니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<!-- HTML 예시 -->
<div class="container">
  <h2 class="sticky-header">고정 헤더 영역</h2>
  <p>긴 내용 ...</p>
  <p>긴 내용 ...</p>
  <!-- 내용이 충분히 길어 스크롤바가 생긴다고 가정 -->
</div>
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`
/* CSS 예시 */
.container {
  height: 300px;           /* 컨테이너에 고정 높이를 주어 스크롤 가능하게 함 */
  overflow-y: auto;        /* 세로로 스크롤 발생 */
}
.sticky-header {
  position: sticky;
  top: 0;                  /* 컨테이너 또는 뷰포트 기준 상단 0에 고정 */
  background: #ffea00;
  padding: 10px;
}
\`\`\`;

위 예시에서 .sticky-header 요소는 컨테이너 내에서 스크롤되다가, 컨테이너의 상단에 도달하면 상단에 고정되어 더 이상 위로 사라지지 않습니다. 이처럼 스크롤되는 영역 내에서 중요한 헤더나 메뉴 등을 항상 보이도록 할 때 sticky를 활용할 수 있습니다 ￼. (참고로 모든 최신 브라우저에서 position: sticky를 지원하지만, Internet Explorer에서는 지원하지 않으므로 IE에서는 그냥 static처럼 동작합니다 ￼.)

2. sticky 사용 시 발생하는 height 및 레이아웃 문제

position: sticky를 적용할 때 몇 가지 레이아웃 문제가 발생할 수 있습니다. 주요 이슈와 그 원인은 다음과 같습니다:
	•	부모 컨테이너의 높이와 overflow 문제: Sticky 요소는 자신이 속한 스크롤 컨테이너 내부에서만 동작합니다. 따라서 부모 요소(또는 조상) 중 하나가 스크롤 영역을 형성해야 하며, 보통 그 부모에 명시적인 높이(height)가 지정되어 있어야 스크롤이 가능합니다 ￼. 부모에 높이가 설정되지 않고 내용물에 따라 자동으로 늘어날 경우, 별도의 스크롤 영역이 생기지 않아 sticky 임계점이 발생하지 않을 수 있습니다. 또한 부모나 조상 요소에 overflow: hidden, auto, scroll와 같은 속성이 설정되어 있으면 sticky가 의도대로 동작하지 않게 됩니다 ￼. 예를 들어 전체 페이지에 가로 스크롤바를 제거하기 위해 최상위 요소에 overflow-x: hidden을 걸어두면, 해당 요소가 새로운 스크롤 컨테이너로 인식되어 자식 sticky가 페이지에 붙지 않고 그냥 스크롤돼버리는 식입니다 ￼. 이처럼 잘못된 부모 조건(높이 미지정이나 overflow 지정)으로 인해 sticky가 아예 작동하지 않거나, 예상과 다르게 작동하는 문제가 생길 수 있습니다.
	•	Sticky 요소의 높이 변화로 인한 레이아웃 점프: Sticky 요소가 화면에 붙는 순간 또는 떼어지는 순간에 자신의 크기(height)가 변하는 경우, 레이아웃이 튕기는 현상이 발생할 수 있습니다. 일반적으로 sticky 요소는 원래 자리 공간을 유지하므로 고정 자체만으로 레이아웃에 변화를 주지는 않지만 ￼, 고정되면서 요소의 높이가 줄어들거나 늘어나면 그 차이만큼 빈 공간이나 겹침이 발생하게 됩니다. 예를 들어 상단에 붙을 때 헤더의 내용을 축소하거나 padding을 제거해 높이가 작아지면, 본문 콘텐츠가 그만큼 위로 점프하며 올라오게 됩니다. 실제 사례로, 한 개발자는 sticky 헤더에 클래스가 붙으면서 높이가 달라질 때 <body> 높이가 변해 스크롤바 위치가 순간적으로 변하는 “점프” 현상을 겪었다고 보고했습니다 ￼. 이처럼 스크롤 진행 중 sticky 요소의 높이 변화나 DOM 변화가 일어나면 Layout Shift(레이아웃 이동)가 발생하여 사용자에게 깜빡이거나 튀는 느낌을 줄 수 있습니다. 특히 sticky가 붙었다 떨어지는 경계 지점에서 높이 변화가 생기면, 요소가 빠르게 붙었다 떨어졌다를 반복하면서 화면이 흔들리는 현상(flickering)까지 나타날 수 있습니다.

3. 문제 해결 방법 및 우회 방법

위와 같은 문제를 해결하거나 완화하기 위한 몇 가지 방법이 있습니다:
	•	여분 공간을 확보하는 패딩 이용: Sticky 요소의 높이가 고정되면서 변하는 경우, padding을 활용하여 높이 변화를 상쇄할 수 있습니다. 예를 들어, 평소에는 큰 헤더였다가 상단 고정 시 높이를 줄이고 싶다면, 고정 상태에서도 요소의 전체 높이는 유지하되 내용물만 작아지도록 디자인합니다. 구체적으로는 sticky 상태에서 콘텐츠를 작게 만들면서 그 아래에 동일한 크기의 padding이나 여백을 넣어주면, 시각적으로는 축소되지만 레이아웃 상 높이는 그대로여서 주변 요소의 위치 변동이 없게 됩니다. 이 기법을 사용하면 sticky 요소가 붙을 때 주변 내용이 밀려오는 것을 막아 레이아웃 점프를 최소화할 수 있습니다.
	•	플레이스홀더 요소 추가: Sticky 요소가 원래 자리에서 이탈해 생기는 공간 변화가 크다면, 빈 Placeholder 요소를 활용하는 방법이 있습니다. 즉, sticky 요소의 원래 자리(부모 내 위치)에 동일한 높이의 빈 <div> 등을 배치해두거나, sticky가 활성화될 때 그만큼의 높이를 가진 요소를 동적으로 삽입하여 공간을 차지하게 만드는 것입니다. 한 개발 사례에서는 sticky로 전환될 때 높이가 달라지는 헤더 문제를 해결하기 위해 *“일반 상태와 sticky 상태 높이 차이만큼의 placeholder 요소”*를 추가하는 방안을 제시했습니다 ￼. 이렇게 하면 헤더가 고정되어도 원래 자리의 공간이 보존되어, 콘텐츠가 튀어 올라가는 현상을 막아줄 수 있습니다.
	•	CSS를 통한 높이 고정: 가능한 경우, 아예 sticky 요소의 높이를 변하지 않도록 고정하는 것이 가장 간단한 해결책입니다. 헤더처럼 내용이 유동적이지 않다면 min-height나 구체적인 height 값을 지정해서 스크롤 전후에 높이가 일정하게 유지되도록 합니다. 앞서 언급한 문제에서, 한 개발자는 CSS에 고정 높이를 부여하여 sticky 헤더의 깜빡임 문제가 해결되었다고 합니다 ￼. 높이가 고정되면 스크롤 중에 레이아웃에 변경을 줄 일이 없어지므로 안정적인 동작을 기대할 수 있습니다. 다만 콘텐츠 길이에 따라 유동적으로 높이가 변해야 하는 경우에는 이 방법이 어렵기 때문에, 이럴 땐 다음의 스크립트 방식도 고려해야 합니다.
	•	자바스크립트를 활용한 동적 조정: CSS만으로 해결하기 어려운 복잡한 경우에는 JavaScript로 보조하는 방법도 있습니다. 예를 들어, Intersection Observer나 scroll 이벤트를 사용해 sticky 요소가 붙는 시점을 감지한 다음, 미리 정의한 보조 요소의 스타일을 조정하거나 클래스 추가/삭제를 통해 레이아웃을 보정할 수 있습니다. 스크롤 위치를 계산하여 sticky 요소에 추가적인 margin-top을 주거나, 또는 placeholder 요소의 높이를 조정하는 스크립트를 작성하면 높이 변화에 따른 깜빡임을 완화할 수 있습니다. 이 방법은 구현은 비교적 복잡하지만, sticky 동작을 세밀하게 제어할 수 있어 부모에 overflow를 제거할 수 없는 상황 등에서 대안이 될 수 있습니다 ￼. (실제로 Chrome 개발자 문서에서는 position: sticky 요소가 붙거나 떨어질 때 custom 이벤트를 발생시키는 예제를 보여주고 있습니다.)
`})})]})}function aEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(LB,{...t})}):LB(t)}const oEe=je({});function lEe(){return n.jsx(Se,{children:n.jsx(aEe,{components:oEe})})}const cEe=ve("/_layout/til/css/problem-of-sticky")({component:lEe,head:()=>({meta:[{title:"problem of sticky"}]})});function DB(t){const e={blockquote:"blockquote",code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Placeholder Shown"}),`
`,n.jsx(e.p,{children:"input 요소의 placeholder가 보여지는 상태를 선택할 수 있는 pseudo-class입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`/* placeholder-shown */
input:placeholder-shown {
  border: 2px dashed red;
  border-radius: 3px;
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<input type="text" placeholder="placeholder" />
`})}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"위와 같은 상황에서 input에 placeholder가 보여지면, 빨간색의 점선 테두리가 생깁니다."}),`
`]})]})}function hEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(DB,{...t})}):DB(t)}const uEe=je({});function dEe(){return n.jsx(Se,{children:n.jsx(hEe,{components:uEe})})}const fEe=ve("/_layout/til/css/placeholder-shown")({component:dEe,head:()=>({meta:[{title:"placeholder shown"}]})});function kB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Object Fit"}),`
`,n.jsxs(e.p,{children:["css에서 object-fit은 ",n.jsx(e.code,{children:"<img />"}),"나 ",n.jsx(e.code,{children:"<video />"}),"와 같은 css로 위치나 크기는 바꿀 수 있지만, 내부 컨텐츠에는 영향을 줄 수 없는 요소를 다룰 때 사용하며, 컨텐츠의 크기를 어떻게 맞출 것인지를 지정합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`object-fit: fill; /** <- default */
object-fit: contain;
object-fit: cover;
object-fit: none;
object-fit: scale-down;
`})}),`
`,n.jsx(e.h2,{children:n.jsx(e.code,{children:"fill"})}),`
`,n.jsx(e.p,{children:"콘텐츠의 가로, 세로 비율을 깨고, 컨텐츠를 늘려서 지정한 크기에 맞춥니다."}),`
`,n.jsx(e.h2,{children:n.jsx(e.code,{children:"contain"})}),`
`,n.jsx(e.p,{children:"컨텐츠의 가로, 세로 비율을 고정하고, 컨텐츠를 지정한 크기에 맞춥니다. 가로, 세로 비율을 맞추기 때문에, 빈 공간이 생길 수 있습니다."}),`
`,n.jsx(e.h2,{children:n.jsx(e.code,{children:"cover"})}),`
`,n.jsx(e.p,{children:"컨텐츠의 가로, 세로 비율을 고정하고, 컨텐츠를 지정한 크기에 맞춥니다. 단, 가로, 세로 비율이 맞지 않으면, 컨텐츠를 잘라냅니다."}),`
`,n.jsx(e.h2,{children:n.jsx(e.code,{children:"none"})}),`
`,n.jsx(e.p,{children:"컨텐츠의 크기를 조절하지 않고, 원본 사이즈로 처리됩니다. 크다면, 자르고, 작다면, 빈 공간이 생길 수 있습니다."}),`
`,n.jsx(e.h2,{children:n.jsx(e.code,{children:"scale-down"})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"none"}),"과 ",n.jsx(e.code,{children:"contain"}),"중에 컨텐츠의 크기를 더 작게 만드는 것을 적용합니다."]})]})}function pEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(kB,{...t})}):kB(t)}const mEe=je({});function gEe(){return n.jsx(Se,{children:n.jsx(pEe,{components:mEe})})}const xEe=ve("/_layout/til/css/object-fit")({component:gEe,head:()=>({meta:[{title:"object fit"}]})});function NB(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"iOS Safe Area"}),`
`,n.jsx(e.p,{children:"iOS 기기에 대응하기 위해서는 Safe Area를 사용하는 방법이 있습니다. Safe Area는 원래 TV 디바이스에서 TV 별로 화면의 비율이 다름에 따라서 화면에서 항상 보여지는 영역을 정의한 용어입니다. 모바일 환경에서도 기기가 점점 다양해짐에 따라, 모바일 디바이스에서도 Safe Area가 필요하게 되었고, CSS를 사용해서 이 Safe Area를 보장하는 방법도 생겨나게 되었습니다."}),`
`,n.jsx(e.h2,{children:"iOS에서 Safe Area"}),`
`,n.jsx(e.p,{children:"iOS X 버전 이후의 디바이스들을 살펴보면, 디바이스 자체의 모서리가 굴곡이 있거나, 노치와 같이 화면을 가리는 영역이 존재하는 경우가 있습니다. 이러한 경우에 사용자에게 제공하려고 하는 화면이 제대로 보여지지 않고, 가려지는 현상이 나타납니다. 만약 이 굴곡지거나 노치가 있는 부분을 미리 알 수 있다면, 화면 자체를 해당 부분에 영향을 받지 않는 영역으로 내려버리는 결정을 할 수 있습니다. 이 영향을 받지 않는 영역을 Safe Area라고 합니다."}),`
`,n.jsx(e.p,{children:"Safe Area는 화면의 가시성을 높여 사용자 경험을 개선하며, 특히 다음과 같은 경우에 유용합니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"노치 디자인이 있는 기기에서 상단의 알림 바가 가려지지 않도록 하는 경우"}),`
`,n.jsx(e.li,{children:"둥근 모서리를 가진 기기에서 콘텐츠가 잘리거나 왜곡되지 않도록 하는 경우"}),`
`,n.jsx(e.li,{children:"홈 인디케이터가 있는 하단 영역이 콘텐츠와 겹치지 않도록 하는 경우"}),`
`]}),`
`,n.jsx(e.h2,{children:"Safe Area 사용 예시"}),`
`,n.jsxs(e.p,{children:["기기별로 다양한 방법을 사용해야 할 것 같지만, CSS를 사용하면 간단하게 Safe Area를 정의할 수 있습니다. 이를 위해 CSS의 ",n.jsx(e.code,{children:"env()"})," 함수를 사용하여 기기의 Safe Area Insets를 가져와 활용할 수 있습니다. Safe Area Insets는 각 기기의 상단, 우측, 하단, 좌측의 안전 영역을 나타내며, 다음과 같은 CSS 변수로 접근할 수 있습니다:"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"safe-area-inset-top"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"safe-area-inset-right"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"safe-area-inset-bottom"})}),`
`,n.jsx(e.li,{children:n.jsx(e.code,{children:"safe-area-inset-left"})}),`
`]}),`
`,n.jsxs(e.p,{children:["이 변수들은 ",n.jsx(e.code,{children:"env()"})," 함수로 사용되며, 이를 통해 Safe Area를 정의할 수 있습니다. 예를 들어, 다음과 같은 CSS 코드를 통해 Safe Area를 보장할 수 있습니다:"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`body {
    padding-top: env(safe-area-inset-top);
    padding-right: env(safe-area-inset-right);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
}

.header {
    padding-top: calc(20px + env(safe-area-inset-top));
}

.footer {
    padding-bottom: calc(20px + env(safe-area-inset-bottom));
}
`})}),`
`,n.jsxs(e.p,{children:["이 코드는 Safe Area를 고려하여 상하좌우에 패딩을 적용함으로써, 콘텐츠가 기기의 노치나 둥근 모서리에 가려지지 않도록 합니다. ",n.jsx(e.code,{children:"env()"})," 함수는 기기의 Safe Area Insets 값을 반환하여 각 영역에 적절한 여백을 추가할 수 있게 합니다."]}),`
`,n.jsx(e.p,{children:"또한, 미디어 쿼리를 통해 특정 기기에서만 Safe Area를 적용할 수도 있습니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`@media (orientation: portrait) {
    .container {
        padding-top: env(safe-area-inset-top);
        padding-bottom: env(safe-area-inset-bottom);
    }
}

@media (orientation: landscape) {
    .container {
        padding-left: env(safe-area-inset-left);
        padding-right: env(safe-area-inset-right);
    }
}
`})}),`
`,n.jsx(e.p,{children:"이와 같이 Safe Area를 활용하면 다양한 기기에서 일관된 사용자 경험을 제공할 수 있습니다. Safe Area를 고려하여 디자인함으로써 사용자에게 최적의 화면을 제공하고, 기기의 특성에 따른 불편함을 최소화할 수 있습니다."})]})}function yEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(NB,{...t})}):NB(t)}const vEe=je({});function _Ee(){return n.jsx(Se,{children:n.jsx(yEe,{components:vEe})})}const bEe=ve("/_layout/til/css/ios-safe-area")({component:_Ee,head:()=>({meta:[{title:"ios safe area"}]})});function PB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"HSL"}),`
`,n.jsx(e.p,{children:"css에서 색을 표기하는 방식은 여러가지가 있습니다. 그 중에 HSL에 대해서 알아보겠습니다."}),`
`,n.jsx(e.h2,{children:"HSL이란?"}),`
`,n.jsx(e.p,{children:"HSL은 색을 표현하는 방식 중 하나입니다. HSL은 Hue, Saturation, Lightness의 약자입니다. 각각 색상, 채도, 명도를 나타냅니다."}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"색상"}),"은 0~360의 각도로 표현합니다. 0은 빨간색, 120은 초록색, 240은 파란색을 나타냅니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"채도"}),"는 0~100%로 표현합니다. 0%는 회색, 100%는 색이 가장 진한 상태를 나타냅니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"명도"}),"는 0~100%로 표현합니다. 0%는 검정색, 100%는 흰색을 나타냅니다."]}),`
`,n.jsx(e.h2,{children:"HSL 사용하기"}),`
`,n.jsx(e.p,{children:"HSL은 다음과 같이 사용합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`hsl(색상, 채도, 명도)
`})}),`
`,n.jsx(e.p,{children:"예를 들어, 빨간색을 표현하고 싶다면 다음과 같이 사용합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<p style="color: hsl(0, 100%, 50%)">
강렬함: hsl(0, 100%, 50%)
</p>
<p style="color: hsl(0, 50%, 50%)">
덜 강렬함: hsl(0, 50%, 50%)
</p>
<p style="color: hsl(0, 10%, 50%)">
나약함: hsl(0, 10%, 50%)
</p>

<p style="color: hsl(0, 100%, 100%)">
세상 밝음: hsl(0, 100%, 100%)
</p>

<p style="color: hsl(0, 100%, 70%)">
밝음: hsl(0, 100%, 70%)
</p>

<p style="color: hsl(0, 100%, 10%)">
어둠: hsl(0, 100%, 10%)
</p>
`})}),`
`,n.jsx(e.p,{children:"그런데, 색상은 알겠는데, 채도, 명도라는 것이 무엇인지 알 필요가 있었습니다. (위키백과에서 가져옴)"}),`
`,n.jsx(e.p,{children:"채도(Saturation): 색이 보다 선명할수록 채도가 높다고 말하며 회색이나 흰색 또는 검정과 같은 무채색에 가까울수록 채도가 낮다고 말한다. 채도가 높은 색을 말할 때는 흔히 '짙다'고 표현하고, 반대로 채도가 낮은 색을 말할 때는 흔히 '흐리다'는 표현을 사용한다. 예를 들어 짙은 노랑, 흐린 노랑과 같이 표현할 수 있다."}),`
`,n.jsx(e.p,{children:"명도(Lightness의): 색의 밝고 어두운 정도를 말한다. 명도가 높은 색을 말할 때는 흔히 '밝다'고 표현하고, 반대로 명도가 낮은 색을 말할 때는 흔히 '어둡다'는 표현을 사용한다. 예를 들어 밝은 노랑, 어두운 노랑과 같이 표현할 수 있다."})]})}function jEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(PB,{...t})}):PB(t)}const SEe=je({});function wEe(){return n.jsx(Se,{children:n.jsx(jEe,{components:SEe})})}const TEe=ve("/_layout/til/css/hsl")({component:wEe,head:()=>({meta:[{title:"hsl"}]})});function OB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to maintain the image ratio"}),`
`,n.jsx(e.p,{children:"이미지가 기기의 사이즈 별로 크기가 변해야 할 때 이미지의 비율을 유지하는 방법을 알아봅니다."}),`
`,n.jsx(e.h2,{children:"이미지 비율 유지하기"}),`
`,n.jsxs(e.p,{children:["이미지의 비율을 유지하려면 ",n.jsx(e.code,{children:"width"})," 또는 ",n.jsx(e.code,{children:"height"})," 중 하나를 고정하고 다른 하나를 ",n.jsx(e.code,{children:"auto"}),"로 설정하면 됩니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`img {
  width: 100%;
  height: auto;
}
`})}),`
`,n.jsx(e.p,{children:"이렇게 하면 이미지의 너비가 부모 요소의 너비에 맞게 조절되고, 높이는 비율에 맞게 자동으로 조절됩니다."}),`
`,n.jsx(e.h2,{children:"이미지 비율 유지하기 (background-image)"}),`
`,n.jsx(e.p,{children:"배경 이미지를 사용할 때도 이미지의 비율을 유지할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.bg-image {
  width: 100%;
  padding-top: 56.25%;
  background-image: url('image.jpg');
  background-size: cover;
}
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"padding-top"})," 속성을 사용하여 이미지의 비율을 유지하고, ",n.jsx(e.code,{children:"background-size"})," 속성을 사용하여 이미지를 조절합니다."]}),`
`,n.jsx(e.h2,{children:"이미지 비율 유지하기 (aspect-ratio)"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"aspect-ratio"})," 속성을 사용하면 이미지의 비율을 유지할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`img {
  width: 100%;
  aspect-ratio: 16 / 9;
}
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"aspect-ratio"})," 속성은 이미지의 비율을 유지하면서 이미지의 크기를 조절할 수 있습니다. ",n.jsx(e.code,{children:"16 / 9"})," 값은 이미지의 가로 세로 비율을 나타냅니다."]})]})}function CEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(OB,{...t})}):OB(t)}const MEe=je({});function EEe(){return n.jsx(Se,{children:n.jsx(CEe,{components:MEe})})}const AEe=ve("/_layout/til/css/how-to-maintain-the-image-ratio")({component:EEe,head:()=>({meta:[{title:"how to maintain the image ratio"}]})});function BB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Grid"}),`
`,n.jsx(e.p,{children:"CSS Grid Layout은 웹 페이지를 행(row)과 열(column)로 구성할 수 있는 2차원 레이아웃 시스템입니다. 이 시스템을 사용하면 페이지의 가로와 세로 공간을 모두 자유롭게 제어할 수 있습니다. Grid는 복잡한 레이아웃을 유연하게 만들 수 있는 강력한 도구입니다."}),`
`,n.jsx(e.h2,{children:"1. 기본 용어"}),`
`,n.jsx(e.p,{children:"CSS Grid를 배우기 전에 알아두어야 할 몇 가지 주요 용어가 있습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Grid Container"}),": 그리드 아이템을 포함하는 컨테이너입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Grid Items"}),": 그리드 컨테이너의 자식 요소로, 그리드 안에 배치됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Grid Lines"}),": 행과 열을 구분하는 보이지 않는 선입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Grid Tracks"}),": 두 인접한 그리드 라인 사이의 공간으로, 이는 행 또는 열이 될 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Grid Cell"}),": 그리드 아이템이 차지하는 공간입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Grid Area"}),": 하나 이상의 그리드 셀을 포함할 수 있는 공간입니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"2. 기본 그리드 만들기"}),`
`,n.jsxs(e.p,{children:["CSS Grid를 사용하려면 먼저 컨테이너를 정의하고, 이를 그리드로 선언해야 합니다. ",n.jsx(e.code,{children:"display: grid"}),"를 사용하여 그리드를 활성화할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="grid-container">
  <div class="grid-item">아이템 1</div>
  <div class="grid-item">아이템 2</div>
  <div class="grid-item">아이템 3</div>
</div>
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.grid-container {
  display: grid;
  grid-template-columns: 100px 200px 100px;
  grid-template-rows: 100px 100px;
}

.grid-item {
  background-color: lightblue;
  border: 1px solid black;
}
`})}),`
`,n.jsx(e.h3,{children:"설명:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"grid-template-columns"})}),": 각 열의 너비를 정의합니다. 이 예시에서는 100px, 200px, 100px의 세 개의 열을 가지고 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"grid-template-rows"})}),": 각 행의 높이를 정의합니다. 두 개의 행이 각각 100px로 설정되어 있습니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"3. 자동 크기 조정 열과 행"}),`
`,n.jsx(e.p,{children:"그리드의 열이나 행이 내부 콘텐츠 크기에 맞게 자동으로 조정되도록 설정할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.grid-container {
  display: grid;
  grid-template-columns: 100px auto 100px;
  grid-template-rows: auto;
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"auto"})}),": 콘텐츠 크기에 따라 자동으로 크기를 조정합니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"4. Fractional Unit (fr)"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"fr"})," 단위는 유연한 레이아웃을 만들 때 유용한 단위입니다. 이 단위는 사용 가능한 공간을 비율로 나눕니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.grid-container {
  display: grid;
  grid-template-columns: 1fr 2fr 1fr;
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"1fr 2fr 1fr"})}),": 그리드 컨테이너를 세 개의 열로 나눕니다. 가운데 열은 양 옆의 열보다 두 배의 공간을 차지합니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"5. 그리드 간격 설정"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"grid-gap"}),", ",n.jsx(e.code,{children:"grid-column-gap"}),", ",n.jsx(e.code,{children:"grid-row-gap"})," 속성을 사용하여 그리드 아이템 간의 간격을 설정할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.grid-container {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  grid-gap: 20px;
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"grid-gap"})}),": 행과 열 사이에 각각 20px의 간격을 설정합니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"6. 그리드 아이템 배치하기"}),`
`,n.jsxs(e.p,{children:["그리드 아이템을 특정 행과 열에 배치하려면 ",n.jsx(e.code,{children:"grid-column"}),"과 ",n.jsx(e.code,{children:"grid-row"})," 속성을 사용합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.grid-item {
  grid-column: 2 / 4;
  grid-row: 1 / 3;
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"grid-column: 2 / 4"})}),": 이 아이템은 2번째 열부터 4번째 열까지 차지합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"grid-row: 1 / 3"})}),": 이 아이템은 1번째 행부터 3번째 행까지 차지합니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"7. grid-template-areas: 명명된 영역을 사용한 레이아웃 정의"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"grid-template-areas"})," 속성은 그리드에서 사용자 정의 이름을 가진 영역을 정의할 수 있게 해줍니다. 복잡한 페이지 레이아웃을 관리할 때 매우 유용합니다."]}),`
`,n.jsx(e.h3,{children:"예시:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="grid-container">
  <div class="header">헤더</div>
  <div class="sidebar">사이드바</div>
  <div class="content">콘텐츠</div>
  <div class="footer">푸터</div>
</div>
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.grid-container {
  display: grid;
  grid-template-columns: 150px 1fr;
  grid-template-rows: 100px 1fr 100px;
  grid-template-areas: 
    "header header"
    "sidebar content"
    "footer footer";
  grid-gap: 10px;
}

.header {
  grid-area: header;
  background-color: lightcoral;
}

.sidebar {
  grid-area: sidebar;
  background-color: lightgreen;
}

.content {
  grid-area: content;
  background-color: lightblue;
}

.footer {
  grid-area: footer;
  background-color: lightgray;
}
`})}),`
`,n.jsx(e.h3,{children:"설명:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"grid-template-areas"})}),": 그리드 내에서 명명된 영역을 정의합니다. 이 예시에서는:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:'첫 번째 행은 두 개의 열을 가지고 있으며, 둘 다 "header" 영역에 속합니다.'}),`
`,n.jsx(e.li,{children:'두 번째 행은 첫 번째 열에 "sidebar", 두 번째 열에 "content"가 배치됩니다.'}),`
`,n.jsx(e.li,{children:'세 번째 행은 두 개의 열을 모두 "footer" 영역으로 설정합니다.'}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.p,{children:["이후 ",n.jsx(e.code,{children:"grid-area"}),"를 사용하여 아이템을 ",n.jsx(e.code,{children:"grid-template-areas"}),"에서 정의한 이름에 맞춰 배치합니다."]}),`
`,n.jsx(e.p,{children:"이 방식은 레이아웃을 재배치하거나 반응형 디자인을 처리할 때 매우 직관적입니다. HTML을 수정하지 않고도 영역 할당을 변경하여 그리드 구조를 쉽게 조정할 수 있습니다."}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"8. 명시적 그리드 vs 암시적 그리드"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"grid-template-columns"}),"와 ",n.jsx(e.code,{children:"grid-template-rows"}),"를 사용하여 명시적으로 그리드 행과 열을 정의할 수 있습니다. 그러나 정의된 그리드에 맞지 않는 아이템이 추가되면, 암시적인 그리드가 생성됩니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.grid-container {
  display: grid;
  grid-template-columns: repeat(2, 100px);
  grid-auto-rows: 50px;
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"grid-auto-rows"})}),": 그리드 아이템이 명시된 행을 초과할 경우, 높이가 50px인 행을 자동으로 생성합니다."]}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"9. 그리드 정렬"}),`
`,n.jsx(e.p,{children:"CSS Grid는 그리드 셀 내에서 아이템을 정렬할 수 있는 다양한 속성을 제공합니다. 주요 속성은 다음과 같습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"justify-items"})}),": 그리드 아이템을 수평으로 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"align-items"})}),": 그리드 아이템을 수직으로 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"justify-content"})}),": 그리드 전체를 컨테이너 내에서 수평으로 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"align-content"})}),": 그리드 전체를 컨테이너 내에서 수직으로 정렬합니다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"예시:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.grid-container {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  justify-items: center;
  align-items: center;
}
`})}),`
`,n.jsx(e.p,{children:"이 예시에서는 모든 그리드 아이템이 셀 내에서 수평, 수직 중앙에 정렬됩니다."}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"10. Grid vs. Flexbox"}),`
`,n.jsx(e.p,{children:"CSS Grid는 행과 열을 모두 사용하는 2차원 레이아웃에 적합하지만, Flexbox는 행 또는 열 중 하나만 사용하는 1차원 레이아웃에 더 적합합니다. 복잡한 레이아웃을 만들 때는 CSS Grid를, 단순한 레이아웃이나 컴포넌트(예: 네비게이션 바)를 만들 때는 Flexbox를 사용하는 것이 좋습니다."}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsxs(e.p,{children:["CSS Grid는 웹 페이지 레이아웃을 제어하는 데 있어 매우 강력하고 유연한 시스템입니다. ",n.jsx(e.code,{children:"grid-template-areas"}),", fractional unit, 그리드 정렬 속성 등을 통해 반응형이면서도 복잡한 레이아웃을 쉽게 만들 수 있습니다. 이러한 기술을 익히면 적은 노력으로 복잡한 웹 레이아웃을 설계할 수 있습니다."]}),`
`,n.jsx(e.h3,{children:"핵심 포인트:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"display: grid"}),"를 사용하여 그리드를 활성화합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"grid-template-columns"}),"와 ",n.jsx(e.code,{children:"grid-template-rows"}),"로 열과 행을 제어합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"grid-template-areas"}),"를 사용하여 명명된 레이아웃 영역을 정의합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"justify-items"}),", ",n.jsx(e.code,{children:"align-items"}),"와 같은 속성으로 아이템을 정렬합니다."]}),`
`]})]})}function REe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(BB,{...t})}):BB(t)}const LEe=je({});function DEe(){return n.jsx(Se,{children:n.jsx(REe,{components:LEe})})}const kEe=ve("/_layout/til/css/grid")({component:DEe,head:()=>({meta:[{title:"grid"}]})});function IB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Font Size"}),`
`,n.jsx(e.h2,{children:"1. 폰트 크기의 측정 기준"}),`
`,n.jsxs(e.p,{children:["폰트 크기는 텍스트의 ",n.jsx(e.strong,{children:"세로 높이"}),"를 의미합니다. 텍스트의 상단(ascender)부터 하단(descender)까지의 거리를 기준으로 크기가 결정됩니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"상단(Ascender)"}),": ",n.jsx(e.code,{children:"b"}),", ",n.jsx(e.code,{children:"d"}),", ",n.jsx(e.code,{children:"f"}),"와 같이 본문보다 더 높이 올라가는 부분입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"하단(Descender)"}),": ",n.jsx(e.code,{children:"g"}),", ",n.jsx(e.code,{children:"p"}),", ",n.jsx(e.code,{children:"q"}),"처럼 본문보다 아래로 내려가는 부분입니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"2. 폰트 크기를 정의하는 단위"}),`
`,n.jsx(e.h3,{children:"절대적 단위"}),`
`,n.jsx(e.p,{children:"고정된 크기를 의미하며, 주로 출력 매체에서 많이 사용됩니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"px (픽셀)"}),": 화면 상에서 고정된 크기입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"pt (포인트)"}),": 인쇄물에서 많이 사용하는 단위로 1pt는 1/72 인치입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"cm, mm, in (센티미터, 밀리미터, 인치)"}),": 물리적인 크기 단위로, 특정 상황에서 사용됩니다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"상대적 단위"}),`
`,n.jsx(e.p,{children:"다른 요소의 크기에 따라 상대적으로 크기가 설정됩니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"em"}),": 부모 요소의 폰트 크기를 기준으로 배수만큼 크기를 설정합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"rem"}),": ",n.jsx(e.code,{children:"em"}),"과 비슷하지만, 루트 요소(",n.jsx(e.code,{children:"html"}),")의 폰트 크기를 기준으로 설정됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"%"}),": 부모 요소의 폰트 크기를 기준으로 비율로 설정됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"vw"}),": 뷰포트 너비에 대한 백분율로 설정됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"vh"}),": 뷰포트 높이에 대한 백분율로 설정됩니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"3. 왜 다양한 단위가 필요할까?"}),`
`,n.jsxs(e.p,{children:["CSS는 ",n.jsx(e.strong,{children:"유연성"}),"을 위해 다양한 단위를 제공합니다. 고정된 크기가 필요할 때는 ",n.jsx(e.strong,{children:"절대적 단위"}),"를, 반응형 레이아웃을 위해서는 ",n.jsx(e.strong,{children:"상대적 단위"}),"를 사용합니다. 특히, 반응형 웹 디자인에서는 ",n.jsx(e.code,{children:"rem"}),", ",n.jsx(e.code,{children:"em"}),", ",n.jsx(e.code,{children:"vw"})," 같은 단위를 사용하여 다양한 화면 크기에 맞게 폰트 크기를 조정할 수 있습니다."]}),`
`,n.jsxs(e.h2,{children:["4. 폰트 크기에서 ",n.jsx(e.code,{children:"100%"}),"의 의미"]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"font-size: 100%"}),"는 화면 크기의 100%가 아니라 ",n.jsx(e.strong,{children:"부모 요소의 폰트 크기"}),"를 의미합니다."]}),`
`,n.jsx(e.h3,{children:"예시:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`html {
  font-size: 16px; /* 기본적으로 브라우저가 16px로 설정 */
}
body {
  font-size: 100%; /* 부모인 html 요소의 크기인 16px */
}
.text {
  font-size: 150%; /* body의 150%, 즉 24px */
}
`})}),`
`,n.jsxs(e.p,{children:["이 예시에서 ",n.jsx(e.code,{children:"100%"}),"는 부모 요소인 ",n.jsx(e.code,{children:"html"}),"의 16px을 기준으로, ",n.jsx(e.code,{children:"150%"}),"는 16px의 150%인 24px이 됩니다."]}),`
`,n.jsx(e.h2,{children:"5. 화면 크기에 맞춘 폰트 크기 조정"}),`
`,n.jsxs(e.p,{children:["화면 크기에 따라 폰트 크기를 조정하려면 ",n.jsx(e.strong,{children:"뷰포트 단위"}),"를 사용해야 합니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`font-size: 5vw; /* 뷰포트 너비의 5% */
`})}),`
`,n.jsx(e.p,{children:"이렇게 설정하면 화면의 너비가 변해도 폰트 크기가 화면 크기에 맞춰 동적으로 조정됩니다."})]})}function NEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(IB,{...t})}):IB(t)}const PEe=je({});function OEe(){return n.jsx(Se,{children:n.jsx(NEe,{components:PEe})})}const BEe=ve("/_layout/til/css/font-size")({component:OEe,head:()=>({meta:[{title:"font size"}]})});function FB(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"FOIT and FOUT"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Flash of Invisible Text (FOIT)"}),`
FOIT는 웹 폰트가 로드되는 동안 텍스트가 전혀 보이지 않는 현상을 말합니다. 이 기간 동안 사용자는 화면에 아무것도 표시되지 않는 것을 보게 됩니다. 웹 폰트가 로드되기 전까지는 텍스트가 완전히 숨겨져 있기 때문에, 폰트 로딩에 시간이 많이 걸릴 경우 사용자 경험이 저하될 수 있습니다. 이러한 현상은 보통 font-display 속성이 block으로 설정되었을 때 발생합니다. 이 설정은 폰트가 로드될 때까지 텍스트 렌더링을 차단합니다.`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Flash of Unstyled Text (FOUT)"}),`
FOUT는 웹 폰트가 로드되기 전에, 웹 페이지가 시스템 폰트나 기본 폰트로 먼저 텍스트를 표시한 다음, 웹 폰트가 로드되면 해당 폰트로 전환되는 현상을 말합니다. 이 과정에서 잠시 동안 스타일이 적용되지 않은 텍스트가 보이게 됩니다. FOUT는 사용자에게 텍스트 내용을 즉각적으로 제공하지만, 폰트가 변경되면서 페이지의 시각적 플래시가 발생할 수 있어, 이는 일부 사용자에게 혼란을 줄 수 있습니다. font-display: swap; 속성을 사용하면 이러한 현상을 관리할 수 있습니다. 이 속성은 웹 폰트가 로드될 때까지 대체 폰트를 사용하도록 합니다.`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"FOIT와 FOUT 관리"}),`
font-display 속성: 이 CSS 속성을 사용하여 웹 폰트의 로딩과 렌더링 방식을 제어할 수 있습니다. swap, fallback, optional 등의 값을 통해 FOIT와 FOUT의 영향을 줄일 수 있습니다.
폰트 로딩 전략: 웹 폰트 로딩에는 다양한 JavaScript 라이브러리(예: Web Font Loader)와 기술이 있어, FOIT나 FOUT 현상을 최소화하면서 폰트를 효율적으로 로드할 수 있습니다.
프리로드: `,n.jsx(e.code,{children:'<link rel="preload">'})," 태그를 사용해 중요한 웹 폰트를 미리 로드함으로써, FOIT와 FOUT의 영향을 줄일 수 있습니다."]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"font-display 속성"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`/* Keyword values */
font-display: auto;
font-display: block;
font-display: swap;
font-display: fallback;
font-display: optional;
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"auto: 사용자 에이전트가 정의합니다."}),`
`,n.jsx(e.li,{children:"block: 브라우저가 글꼴을 로드할 때까지 텍스트 렌더링을 차단합니다."}),`
`,n.jsx(e.li,{children:"swap: 브라우저가 글꼴을 로드할 때까지 시스템 글꼴을 사용하도록 합니다."}),`
`,n.jsx(e.li,{children:"fallback: 100ms 동안 글자를 숨기고, 3초 이내에 글꼴이 로드되면 웹 글꼴을 적용한다. 만약 3초(swap 기간) 동안 글꼴이 로드되지 않으면 시스템 글꼴을 사용한다"}),`
`,n.jsx(e.li,{children:"optional: fallback과 유사하게 동작한다. 그러나 fallback과 다른 점은, 네트워크 상황에 따라 브라우저가 글꼴 다운로드 여부를 결정한다는 점이다. 시스템 글꼴을 유지할지 웹 글꼴을 적용할지 브라우저가 결정한다. 만약 네트워크 상황이 좋지 않으면, 브라우저는 로딩된 웹 폰트를 캐시에 저장하고 시스템 글꼴을 사용한다. 그리고 다음 방문시에 캐시된 웹 폰트를 적용한다. 그래서 이 속성값은 사용자의 네트워크 속도에 따라 웹 폰트를 사용할지 여부를 결정할 수 있다."}),`
`]})]})}function IEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(FB,{...t})}):FB(t)}const FEe=je({});function UEe(){return n.jsx(Se,{children:n.jsx(IEe,{components:FEe})})}const zEe=ve("/_layout/til/css/foit-and-fout")({component:UEe,head:()=>({meta:[{title:"foit and fout"}]})});function UB(t){const e={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Focus Within And Focus Visible"}),`
`,n.jsx(e.h2,{children:":focus-within"}),`
`,n.jsx(e.p,{children:"이 pseudo-class는 요소의 자식 요소 중 하나가 포커스를 가지고 있을 때 요소에 적용된다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`/* focus-within */
.parent:focus-within {
  outline: 2px solid crimson;
  border: 2px dashed crimson;
  border-radius: 3px;
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="parent">
  <input type="text" />
</div>
`})}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"위와 같은 상황에서 input에 포커스가 가면, div는 배경색이 빨게집니다."}),`
`]}),`
`,n.jsx(e.h2,{children:":focus-visible"}),`
`,n.jsx(e.p,{children:"이 pseudo-class는 요소가 키보드 포커스를 가지고 있을 때 요소에 적용된다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`/* focus-visible */
input:focus-visible {
  outline: 2px solid red;

  border: 2px dashed red;
  border-radius: 3px;
}
`})}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"같은 html을 갖고 있을 경우에 input에 focus가 되면, 빨간색의 점선 테두리가 생깁니다."}),`
`]})]})}function HEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(UB,{...t})}):UB(t)}const VEe=je({});function GEe(){return n.jsx(Se,{children:n.jsx(HEe,{components:VEe})})}const $Ee=ve("/_layout/til/css/focus-within-and-focus-visible")({component:GEe,head:()=>({meta:[{title:"focus within and focus visible"}]})});function zB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Flexbox"}),`
`,n.jsx(e.p,{children:"flexbox는 뷰포트나 요소의 크기가 불명확하거나 동적으로 변할 때에도 효율적으로 요소를 배치, 정렬, 분산할 수 있는 방법을 제공하는 CSS3의 새로운 레이아웃 방식이다. flexbox의 장점을 한 마디로 표현하면 '복잡한 계산 없이 요소의 크기와 순서를 유연하게 배치할 수 있다'라고 할 수 있다. 정렬, 방향, 순서, 크기 등을 유연하게 조절할 수 있기 때문에 별도의 분기 처리를 줄일 수 있고, CSS만으로 다양한 레이아웃을 구현할 수 있다."}),`
`,n.jsx(e.h2,{children:"Flex Container와 Flex Item"}),`
`,n.jsxs(e.p,{children:["flexbox는 두 가지 개념을 기반으로 동작한다. 바로 ",n.jsx(e.code,{children:"flex container"}),"와 ",n.jsx(e.code,{children:"flex item"}),"이다. ",n.jsx(e.code,{children:"flex container"}),"는 ",n.jsx(e.code,{children:"display"})," 속성 값으로 ",n.jsx(e.code,{children:"flex"}),"를 갖는 요소를 말하며, ",n.jsx(e.code,{children:"flex item"}),"은 ",n.jsx(e.code,{children:"flex container"}),"의 자식 요소를 말한다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="flex-container">
  <div class="flex-item">1</div>
  <div class="flex-item">2</div>
  <div class="flex-item">3</div>
</div>
`})}),`
`,n.jsxs(e.p,{children:["위의 코드에서 ",n.jsx(e.code,{children:".flex-container"}),"는 ",n.jsx(e.code,{children:"flex container"}),"이고, ",n.jsx(e.code,{children:".flex-item"}),"은 ",n.jsx(e.code,{children:"flex item"}),"이다."]}),`
`,n.jsx(e.h2,{children:"Flex Container에 대해서"}),`
`,n.jsx(e.p,{children:"Flex Container는 Flex Layout을 구현하기 위한 최상위 요소이며, Flex Container의 자식 요소로 다시 Flex Container를 포함할 수도 있기 때문에, 원하는 Layout을 구현하는 것이 가능합니다."}),`
`,n.jsx(e.h3,{children:"display"}),`
`,n.jsxs(e.p,{children:["Flex Container를 정의하기 위해서는 ",n.jsx(e.code,{children:"display"})," 속성을 사용해야 합니다. ",n.jsx(e.code,{children:"display"})," 속성 값으로 ",n.jsx(e.code,{children:"flex"}),"를 사용하면 Flex Container로 정의됩니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.flex-container {
  display: flex;
}
`})}),`
`,n.jsx(e.h3,{children:"flex-direction"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"flex-direction"})," 속성은 Flex Container의 주축(main-axis)을 설정합니다. 주축은 Flex Item을 배치하는 방향을 설정하는데 사용됩니다. 기본값은 ",n.jsx(e.code,{children:"row"}),"입니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"row"}),": Flex Item을 수평축으로 배치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"row-reverse"}),": ",n.jsx(e.code,{children:"row"}),"와 같지만, Flex Item을 반대 방향으로 배치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"column"}),": Flex Item을 수직축으로 배치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"column-reverse"}),": ",n.jsx(e.code,{children:"column"}),"과 같지만, Flex Item을 반대 방향으로 배치합니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.flex-container {
  flex-direction: row;
}
`})}),`
`,n.jsx(e.h3,{children:"flex-wrap"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"flex-wrap"})," 속성은 Flex Item이 Flex Container의 크기에 맞게 줄을 바꿀지 여부를 설정합니다. 기본값은 ",n.jsx(e.code,{children:"nowrap"}),"입니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"nowrap"}),": Flex Item을 한 줄에 배치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"wrap"}),": Flex Item을 여러 줄에 배치합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"wrap-reverse"}),": ",n.jsx(e.code,{children:"wrap"}),"과 같지만, Flex Item을 반대 방향으로 배치합니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.flex-container {
  flex-wrap: wrap;
}
`})}),`
`,n.jsx(e.h3,{children:"flex-flow"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"flex-flow"})," 속성은 ",n.jsx(e.code,{children:"flex-direction"}),"과 ",n.jsx(e.code,{children:"flex-wrap"})," 속성을 한 번에 설정할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.flex-container {
  flex-flow: row wrap;
}
`})}),`
`,n.jsx(e.h3,{children:"justify-content"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"justify-content"})," 속성은 Flex Item을 Flex Container 내에서 정렬하는 방법을 설정합니다. 주축(main-axis)을 기준으로 동작합니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"flex-start"}),": Flex Item을 시작 부분에 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"flex-end"}),": Flex Item을 끝 부분에 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"center"}),": Flex Item을 가운데에 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"space-between"}),": 첫 번째 Flex Item은 시작 부분에, 마지막 Flex Item은 끝 부분에 정렬되고, 나머지 Flex Item은 사이에 고르게 정렬됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"space-around"}),": 모든 Flex Item을 균등한 여백을 포함하여 정렬합니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.flex-container {
  justify-content: center;
}
`})}),`
`,n.jsx(e.h3,{children:"align-items"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"align-items"})," 속성은 Flex Item을 Flex Container 내에서 정렬하는 방법을 설정합니다. 교차축(cross-axis)을 기준으로 동작합니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"flex-start"}),": Flex Item을 시작 부분에 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"flex-end"}),": Flex Item을 끝 부분에 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"center"}),": Flex Item을 가운데에 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"baseline"}),": Flex Item을 문자 기준선에 정렬합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"stretch"}),": Flex Item을 교차축(cross-axis)에 맞게 늘립니다."]}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.flex-container {
  align-items: center;
}
`})})]})}function qEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(zB,{...t})}):zB(t)}const WEe=je({});function XEe(){return n.jsx(Se,{children:n.jsx(qEe,{components:WEe})})}const YEe=ve("/_layout/til/css/flexbox")({component:XEe,head:()=>({meta:[{title:"flexbox"}]})});function HB(t){const e={code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Css Functions"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"RGB / RGBA"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`background-color: rgb(255, 0, 0);
background-color: rgba(255, 0, 0, 0.5);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"HSL / HSLA"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`color: hsl(120, 100%, 50%);
color: hsla(120, 100%, 50%, 0.3);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Calc"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`width: calc(100% - 40px);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Var"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`:root {
  --main-color: blue;
}
div {
  color: var(--main-color, red);
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Linear-Gradient"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`background: linear-gradient(to right, red, yellow);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Clamp"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`font-size: clamp(1rem, 2vw, 1.5rem);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Min / Max"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`width: min(100%, 600px);
width: max(300px, 50%);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"URL"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`background-image: url("image.jpg");
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Attr"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`[data-value]:before {
  content: attr(data-value);
}
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Repeating-Linear-Gradient"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`background: repeating-linear-gradient(45deg, red 0%, yellow 25%, green 50%);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Cubic-Bezier"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`transition-timing-function: cubic-bezier(0.17, 0.67, 0.83, 0.67);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Filter Functions"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`filter: blur(5px) brightness(150%) contrast(75%);
`})}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"Mathematical Functions: sin, cos, tan, acos, asin, atan, atan2"})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`--angle: 45deg;
width: calc(100px * cos(var(--angle)));
height: calc(100px * sin(var(--angle)));
`})}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"이러한 함수들은 CSS에서 다양한 디자인과 레이아웃을 생성하는 데 사용됩니다. 일부 함수는 최신 브라우저에서만 지원될 수 있으므로, 여러 브라우저에서의 호환성을 확인하는 것이 좋습니다."})]})}function KEe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(HB,{...t})}):HB(t)}const ZEe=je({});function QEe(){return n.jsx(Se,{children:n.jsx(KEe,{components:ZEe})})}const JEe=ve("/_layout/til/css/css-functions")({component:QEe,head:()=>({meta:[{title:"css functions"}]})});function VB(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Conic Gradient"}),`
`,n.jsx(e.h2,{children:"설명"}),`
`,n.jsx(e.p,{children:"Conic Gradient는 CSS함수로서, 지정한 중심점을 기준으로 회전하며 색상 전환의 그라디언트를 만들어줍니다."}),`
`,n.jsx(e.h2,{children:"문법"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`<conic-gradient()> = 
  conic-gradient( [ [ from <angle> ]? [ at <position> ]? ]  ||
  <color-interpolation-method> , <angular-color-stop-list> )  

<position> = 
  [ left | center | right ] || [ top | center | bottom ]  |
  [ left | center | right | <length-percentage> ] [ top | center | bottom | <length-percentage> ]?  |
  [ [ left | right ] <length-percentage> ] && [ [ top | bottom ] <length-percentage> ]  

<color-interpolation-method> = 
  in [ <rectangular-color-space> | <polar-color-space> <hue-interpolation-method>? ]  

<angular-color-stop-list> = 
  <angular-color-stop> , [ <angular-color-hint>? , <angular-color-stop> ]#  

<length-percentage> = 
  <length>      |
  <percentage>  

<rectangular-color-space> = 
  srgb         |
  srgb-linear  |
  lab          |
  oklab        |
  xyz          |
  xyz-d50      |
  xyz-d65      

<polar-color-space> = 
  hsl    |
  hwb    |
  lch    |
  oklch  

<hue-interpolation-method> = 
  [ shorter | longer | increasing | decreasing ] hue  

<angular-color-stop> = 
  <color>              &&
  <color-stop-angle>?  

<angular-color-hint> = 
  <angle-percentage>  

<color-stop-angle> = 
  <angle-percentage>{1,2}  

<angle-percentage> = 
  <angle>       |
  <percentage>  

`})}),`
`,n.jsx(e.h2,{children:"값"}),`
`,n.jsx(e.h3,{children:n.jsx(e.code,{children:"<angle>"})}),`
`,n.jsx(e.p,{children:"회전 각도를 나타내는 값입니다. 기본값은 0deg입니다. css에서 사용되는 각도의 단위인 deg, rad, turn을 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:`360deg = 2rad = 1turn
`})}),`
`,n.jsx(e.h3,{children:n.jsx(e.code,{children:"<position>"})}),`
`,n.jsxs(e.p,{children:["중심점을 나타내는 값입니다. 기본값은 center입니다. 이 position은 css의 ",n.jsx(e.a,{href:"/til/css/background-position",children:"background-position"}),"과 같은 형식으로 사용됩니다."]}),`
`,n.jsx(e.h3,{children:n.jsx(e.code,{children:"<color-stop-list>"})}),`
`,n.jsx(e.p,{children:"색상 전환의 그라디언트를 나타내는 값입니다. 기본값은 없습니다."}),`
`,n.jsx(e.h3,{children:n.jsx(e.code,{children:"<angular-color-stop-list>"})}),`
`,n.jsx(e.p,{children:"생상 전환의 중간 지점을 정의하는 값입니다. 기본값은 없습니다."}),`
`,n.jsx(e.h2,{children:"예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`{
	background: conic-gradient(red, orange, yellow, green, blue);
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`{
	background: conic-gradient(from 3.1416rad at 10% 50%, #266465, #9198e5);
}
`})}),`
`,n.jsx(e.h2,{children:"참고"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/conic-gradient",children:"MDN"})}),`
`]})]})}function eAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(VB,{...t})}):VB(t)}const tAe=je({});function nAe(){return n.jsx(Se,{children:n.jsx(eAe,{components:tAe})})}const iAe=ve("/_layout/til/css/conic-gradient")({component:nAe,head:()=>({meta:[{title:"conic gradient"}]})});function GB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Color Scheme"}),`
`,n.jsx(e.p,{children:"Css의 Color Scheme은 전체 컬러의 테마를 설정하는 속성입니다."}),`
`,n.jsx(e.h2,{children:"Syntax"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`color-scheme: light;
color-scheme: dark;
color-scheme: normal;
`})}),`
`,n.jsx(e.h2,{children:"응용"}),`
`,n.jsx(e.p,{children:"prefers-color-scheme를 사용하여 사용자의 시스템 설정에 따라 테마를 변경할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`@media (prefers-color-scheme: dark) {
  form {
    color-scheme: dark;
  }
}
`})})]})}function rAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(GB,{...t})}):GB(t)}const sAe=je({});function aAe(){return n.jsx(Se,{children:n.jsx(rAe,{components:sAe})})}const oAe=ve("/_layout/til/css/color-scheme")({component:aAe,head:()=>({meta:[{title:"color scheme"}]})});function $B(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsxs(e.h1,{children:["CSS ",n.jsx(e.code,{children:"clamp()"})," 함수에 대한 설명"]}),`
`,n.jsx(e.h2,{children:"개요"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"clamp()"})," 함수는 CSS에서 값의 최소값, 기본값, 최대값을 동시에 정의할 수 있는 기능을 제공합니다. 이 함수를 사용하면 유연하게 크기나 다른 스타일 속성을 제어할 수 있으며, 다양한 뷰포트 크기에서 적절한 값 범위 안에서 스타일을 자동으로 조정할 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"문법"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`clamp(min, preferred, max)
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"min"}),": 최소값으로 설정할 수 있는 값. 이 값보다 작아질 수 없습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"preferred"}),": 선호하는 기본값. ",n.jsx(e.code,{children:"min"}),"과 ",n.jsx(e.code,{children:"max"})," 사이에서 사용되며, 가능하다면 이 값을 사용하려고 시도합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"max"}),": 최대값으로 설정할 수 있는 값. 이 값보다 커질 수 없습니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"동작 방식"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"clamp()"}),"는 다음과 같은 로직으로 동작합니다:"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:["먼저 ",n.jsx(e.strong,{children:"preferred"})," 값이 사용되려고 시도됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"preferred"})," 값이 ",n.jsx(e.strong,{children:"min"}),"보다 작다면, ",n.jsx(e.strong,{children:"min"})," 값이 사용됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"preferred"})," 값이 ",n.jsx(e.strong,{children:"max"}),"보다 크다면, ",n.jsx(e.strong,{children:"max"})," 값이 사용됩니다."]}),`
`]}),`
`,n.jsx(e.p,{children:"이렇게 함으로써 요소의 크기나 다른 스타일 속성이 일정한 범위 내에서 유동적으로 조정될 수 있습니다."}),`
`,n.jsx(e.h2,{children:"예시"}),`
`,n.jsx(e.h3,{children:"1. 폰트 크기 조절 예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`body {
  font-size: clamp(1rem, 2vw, 2rem);
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"이 예제에서 폰트 크기는 최소 1rem, 최대 2rem 사이에서 유동적으로 변경됩니다."}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"preferred"})," 값은 ",n.jsx(e.code,{children:"2vw"}),"로, 뷰포트 너비의 2%에 해당하는 값을 사용합니다."]}),`
`,n.jsx(e.li,{children:"브라우저는 먼저 2vw를 시도하지만, 만약 2vw가 1rem보다 작다면 1rem을 사용하고, 2vw가 2rem보다 크다면 2rem으로 제한됩니다."}),`
`]}),`
`,n.jsx(e.h3,{children:"2. 너비 조절 예시"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`div {
  width: clamp(300px, 50vw, 600px);
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["이 예제에서는 ",n.jsx(e.code,{children:"div"})," 요소의 너비가 최소 300px, 최대 600px 사이에서 변경됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"preferred"})," 값은 뷰포트 너비의 50%로 설정되어 있으며, 그 값이 최소와 최대 범위 안에서 동적으로 결정됩니다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"3. 배경 색상 예시 (비주얼적인 변화)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`div {
  background-color: clamp(rgb(0,0,255), rgb(255,255,255), rgb(255,0,0));
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"색상은 값으로 clamp를 사용해 컨트롤하지 않지만, 이 예시에서는 clamp로 할 수 없는 속성도 있다는 것을 보여줍니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"사용 용도"}),`
`,n.jsx(e.h3,{children:"1. 반응형 디자인"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"clamp()"}),"는 뷰포트 크기에 따라 요소의 크기(폰트 크기, 너비, 높이 등)를 동적으로 조정하는 데 유용합니다. 이를 통해, 다양한 기기에서 일관되게 보이는 디자인을 쉽게 구현할 수 있습니다."]}),`
`,n.jsx(e.h3,{children:"2. 사용자 경험 개선"}),`
`,n.jsx(e.p,{children:"기본 값이 설정된 상태에서 최소 및 최대 값으로 자동 조정되기 때문에, 사용자의 화면 크기나 해상도에 따라 지나치게 작거나 큰 요소가 표시되는 것을 방지할 수 있습니다."}),`
`,n.jsx(e.h3,{children:"3. 유지 보수성"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"clamp()"}),"를 사용하면 여러 미디어 쿼리를 설정하지 않고도 값의 범위를 간편하게 지정할 수 있어 코드 유지 보수성을 높일 수 있습니다. 이를 통해 적절한 값 범위가 지정되므로, 코드의 복잡성을 줄일 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"clamp()"}),"는 최소값, 기본값, 최대값을 설정하여 유동적인 스타일을 구현하는 데 매우 유용한 도구입니다. 특히 반응형 웹 디자인에서 요소의 크기를 적절하게 조절하고, 사용자의 다양한 화면 환경에 맞게 최적화된 경험을 제공하는 데 큰 역할을 합니다. 추가로 미디어 쿼리 없이도 쉽게 값을 제어할 수 있어, 현대적인 CSS 레이아웃에서 점점 더 많이 사용되고 있습니다."]})]})}function lAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx($B,{...t})}):$B(t)}const cAe=je({});function hAe(){return n.jsx(Se,{children:n.jsx(lAe,{components:cAe})})}const uAe=ve("/_layout/til/css/clamp")({component:hAe,head:()=>({meta:[{title:"clamp"}]})});function qB(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"break-after and break-before and break-inside"}),`
`,n.jsx(e.h2,{children:"서론"}),`
`,n.jsxs(e.p,{children:["CSS의 ",n.jsx(e.code,{children:"break-after"}),", ",n.jsx(e.code,{children:"break-before"}),", ",n.jsx(e.code,{children:"break-inside"})," 속성은 페이지, 열, 또는 섹션이 어떻게 나뉘어야 하는지 제어하는 데 사용됩니다. 특히 인쇄 미디어나 다단 레이아웃 같은 복잡한 레이아웃에서 콘텐츠의 흐름을 관리하는 데 중요한 역할을 합니다. 이 문서에서는 각각의 속성이 어떻게 작동하는지와 사용 가능한 값들에 대해 설명합니다."]}),`
`,n.jsx(e.h2,{children:"본론"}),`
`,n.jsxs(e.h3,{children:["1. ",n.jsx(e.code,{children:"break-after"})]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"break-after"})," 속성은 특정 요소 뒤에 페이지, 열, 또는 섹션 구분을 추가할지 결정합니다. 이 속성은 요소가 끝난 후 콘텐츠가 어떻게 이어질지를 제어합니다."]}),`
`,n.jsx(e.h4,{children:"사용 가능한 값:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"auto"})}),": 브라우저가 자동으로 페이지나 열을 나눌지 결정합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid"})}),": 페이지나 열을 가능한 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"always"})}),": 항상 다음 페이지나 열에서 새 요소를 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"all"})}),": 모든 분할 지점에서 구분이 발생할 수 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-page"})}),": 페이지 구분을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"page"})}),": 새로운 페이지에서 콘텐츠를 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"left"})}),": 다음 페이지가 왼쪽 페이지에서 시작됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"right"})}),": 다음 페이지가 오른쪽 페이지에서 시작됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"recto"})}),": 다음 'recto' 페이지(오른쪽 페이지)에서 시작됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"verso"})}),": 다음 'verso' 페이지(왼쪽 페이지)에서 시작됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-column"})}),": 열 구분을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"column"})}),": 다음 열에서 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-region"})}),": 구역 구분을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"region"})}),": 다음 구역에서 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"inherit"})}),": 부모 요소로부터 상속합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"initial"})}),": 기본값으로 설정합니다 (",n.jsx(e.code,{children:"auto"}),")."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"revert"})}),": 사용자 정의 스타일을 무시하고 기본값을 적용합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"revert-layer"})}),": 상위 스타일 레이어에서 속성을 되돌립니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"unset"})}),": 상속이 가능하면 상속, 그렇지 않으면 기본값을 사용합니다."]}),`
`]}),`
`,n.jsxs(e.h3,{children:["2. ",n.jsx(e.code,{children:"break-before"})]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"break-before"})," 속성은 요소 앞에서 페이지, 열, 또는 섹션 구분을 추가할지 여부를 결정합니다. 즉, 새로운 요소가 나타나기 전에 구분이 발생하도록 설정하는 속성입니다."]}),`
`,n.jsx(e.h4,{children:"사용 가능한 값:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"auto"})}),": 브라우저가 자동으로 결정합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid"})}),": 가능한 구분을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"always"})}),": 항상 다음 페이지나 열에서 새 요소를 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"all"})}),": 모든 구분 지점에서 구분을 허용합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-page"})}),": 페이지 구분을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"page"})}),": 새로운 페이지에서 콘텐츠가 시작됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"left"})}),": 다음 페이지를 왼쪽 페이지에서 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"right"})}),": 다음 페이지를 오른쪽 페이지에서 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"recto"})}),": 다음 'recto' 페이지(오른쪽 페이지)에서 시작됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"verso"})}),": 다음 'verso' 페이지(왼쪽 페이지)에서 시작됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-column"})}),": 열 구분을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"column"})}),": 다음 열에서 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-region"})}),": 구역 구분을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"region"})}),": 다음 구역에서 시작합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"inherit"})}),": 부모 요소로부터 상속합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"initial"})}),": 기본값으로 설정합니다 (",n.jsx(e.code,{children:"auto"}),")."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"revert"})}),": 사용자 정의 스타일을 무시하고 기본값을 적용합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"revert-layer"})}),": 상위 스타일 레이어에서 속성을 되돌립니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"unset"})}),": 상속이 가능하면 상속, 그렇지 않으면 기본값을 사용합니다."]}),`
`]}),`
`,n.jsxs(e.h3,{children:["3. ",n.jsx(e.code,{children:"break-inside"})]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"break-inside"})," 속성은 요소 내부에서 페이지, 열, 또는 섹션 구분이 발생할지 여부를 제어합니다. 이 속성은 요소가 나뉘지 않고 한 페이지나 열 안에 있도록 제어할 때 유용합니다."]}),`
`,n.jsx(e.h4,{children:"사용 가능한 값:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"auto"})}),": 브라우저가 자동으로 구분 여부를 결정합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid"})}),": 페이지, 열, 또는 구역이 나뉘는 것을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-page"})}),": 페이지 나눔을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-column"})}),": 열 나눔을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"avoid-region"})}),": 구역 나눔을 피합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"inherit"})}),": 부모 요소로부터 상속합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"initial"})}),": 기본값으로 설정합니다 (",n.jsx(e.code,{children:"auto"}),")."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"revert"})}),": 사용자 정의 스타일을 무시하고 기본값을 적용합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"revert-layer"})}),": 상위 스타일 레이어에서 속성을 되돌립니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:n.jsx(e.code,{children:"unset"})}),": 상속이 가능하면 상속, 그렇지 않으면 기본값을 사용합니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"break-after"}),", ",n.jsx(e.code,{children:"break-before"}),", ",n.jsx(e.code,{children:"break-inside"})," 속성은 페이지, 열 또는 섹션의 구분을 제어하여 콘텐츠의 흐름을 세밀하게 조정할 수 있는 중요한 CSS 속성입니다. 이 속성들을 적절히 활용하면 인쇄 레이아웃, 다단 레이아웃 등 다양한 상황에서 가독성과 레이아웃을 최적화할 수 있습니다. 각각의 값을 이해하고 상황에 맞게 사용함으로써 콘텐츠가 의도한 대로 잘 나누어지고 표시될 수 있습니다."]})]})}function dAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(qB,{...t})}):qB(t)}const fAe=je({});function pAe(){return n.jsx(Se,{children:n.jsx(dAe,{components:fAe})})}const mAe=ve("/_layout/til/css/break-afeter-and-before-and-inside")({component:pAe,head:()=>({meta:[{title:"break afeter and before and inside"}]})});function WB(t){const e={a:"a",code:"code",h1:"h1",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Box Shadow"}),`
`,n.jsx(e.p,{children:"Box Shadow는 요소에 그림자 효과를 줄 수 있는 CSS 속성입니다."}),`
`,n.jsx(e.p,{children:"기본적으로 아래와 같이 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.box {
  box-shadow: 10px 11px 12px 13px rgba(0, 0, 0, 0.5) inset;
}
`})}),`
`,n.jsx(e.p,{children:"이 속성에서 사용되는 값들은 아래와 같이 설명할 수 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"10px"}),": 그림자의 수평 위치 (x축, +값은 오른쪽, -값은 왼쪽)"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"11px"}),": 그림자의 수직 위치 (y축, +값은 아래쪽, -값은 위쪽)"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"12px"}),": 그림자의 흐림 정도 (Blur Radius)"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"13px"}),": 그림자의 확산 정도 (Spread Radius)"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"rgba(0, 0, 0, 0.5)"}),": 그림자의 색상 (RGB 또는 RGBA 값)"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"inset"}),": 내부 그림자를 만들 때 사용하는 키워드"]}),`
`]}),`
`,n.jsx(e.p,{children:"이 속성은 다양한 방법으로 사용할 수 있습니다. 예를 들어, 아래와 같이 그림자를 여러 개 추가할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.box {
  box-shadow: 10px 11px 12px 13px rgba(0, 0, 0, 0.5),
              -10px -11px 12px 13px rgba(0, 0, 0, 0.5);
}
`})}),`
`,n.jsxs(e.p,{children:["또한 ",n.jsx(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/box-shadow#syntax",children:"Syntax"}),"에 따라서 다양한 순서로 값을 지정할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.box {
  box-shadow: 10px 11px 12px 13px rgba(0, 0, 0, 0.5) inset;
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.box {
  box-shadow: 10px 11px rgba(0, 0, 0, 0.5) 12px 13px inset;
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.box {
  box-shadow: 10px 11px 12px rgba(0, 0, 0, 0.5) 13px inset;
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.box {
  box-shadow: 10px 11px rgba(0, 0, 0, 0.5) 12px inset 13px;
}
`})}),`
`,n.jsx(e.p,{children:"..."})]})}function gAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(WB,{...t})}):WB(t)}const xAe=je({});function yAe(){return n.jsx(Se,{children:n.jsx(gAe,{components:xAe})})}const vAe=ve("/_layout/til/css/box-shadow")({component:yAe,head:()=>({meta:[{title:"box shadow"}]})});function XB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Background Position"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"background-position"})," CSS 속성은 각 배경 이미지의 초기 위치를 설정합니다. 위치는 ",n.jsx(e.code,{children:"background-origin"}),"로 설정된 위치 레이어에 상대적입니다."]}),`
`,n.jsx(e.h2,{children:"문법"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`/* Keyword values */
background-position: top;
background-position: bottom;
background-position: left;
background-position: right;
background-position: center;

/* <percentage> values */
background-position: 25% 75%;

/* <length> values */
background-position: 0 0;
background-position: 1cm 2cm;
background-position: 10ch 8em;

/* Multiple images */
background-position:
  0 0,
  center;

/* Edge offsets values */
background-position: bottom 10px right 20px;
background-position: right 3em bottom 10px;
background-position: bottom 10px right;
background-position: top right 10px;

/* Global values */
background-position: inherit;
background-position: initial;
background-position: revert;
background-position: revert-layer;
background-position: unset;

`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:`background-position = 
  <bg-position>#  

<bg-position> = 
  [ left | center | right | top | bottom | <length-percentage> ]  |
  [ left | center | right | <length-percentage> ] [ top | center | bottom | <length-percentage> ]  |
  [ center | [ left | right ] <length-percentage>? ] && [ center | [ top | bottom ] <length-percentage>? ]  

<length-percentage> = 
  <length>      |
  <percentage>  

`})})]})}function _Ae(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(XB,{...t})}):XB(t)}const bAe=je({});function jAe(){return n.jsx(Se,{children:n.jsx(_Ae,{components:bAe})})}const SAe=ve("/_layout/til/css/background-position")({component:jAe,head:()=>({meta:[{title:"background position"}]})});function YB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Backdrop Filter"}),`
`,n.jsx(e.p,{children:"CSS에 배경에 깔린 색상 또는 이미지에 Filter를 입혀주는 속성입니다."}),`
`,n.jsx(e.h2,{children:"사용법"}),`
`,n.jsx(e.p,{children:"기본적으로 아래와 같이 사용하며, 다양한 속성을 제공하고 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`background-image: url('image.jpg');
backdrop-filter: blur(10px);
`})}),`
`,n.jsx(e.p,{children:"또, 여러 속성을 복합적으로 사용할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`background-image: url('image.jpg');
backdrop-filter: blur(10px) brightness(0.5);
`})}),`
`,n.jsx(e.p,{children:"그리고 컬러 적용 처럼 global 속성에 따라서 적용되는 속성이 다릅니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`backdrop-filter: inherit;
backdrop-filter: initial;
backdrop-filter: revert;
backdrop-filter: revert-layer;
backdrop-filter: unset;
`})}),`
`,n.jsx(e.h2,{children:"속성"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:`url( <string> <url-modifier>_ ) |
src( <string> <url-modifier>_ )

blur( <length>? )

brightness( [ <number> | <percentage> ]? )

contrast( [ <number> | <percentage> ]? )

drop-shadow( [ <color>? && <length>{2,3} ] )

grayscale( [ <number> | <percentage> ]? )

hue-rotate( [ <angle> | <zero> ]? )

invert( [ <number> | <percentage> ]? )

opacity( [ <number> | <percentage> ]? )

sepia( [ <number> | <percentage> ]? )

saturate( [ <number> | <percentage> ]? )
`})})]})}function wAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(YB,{...t})}):YB(t)}const TAe=je({});function CAe(){return n.jsx(Se,{children:n.jsx(wAe,{components:TAe})})}const MAe=ve("/_layout/til/css/backdrop-filter")({component:CAe,head:()=>({meta:[{title:"backdrop filter"}]})});function KB(t){const e={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"At-rules, Page"}),`
`,n.jsx(e.h2,{children:"기본 사용법"}),`
`,n.jsx(e.p,{children:"@page는 다음과 같은 구문으로 사용할 수 있습니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`@page {
  size: A4;
  margin: 20mm;
}
`})}),`
`,n.jsx(e.p,{children:"이 코드는 페이지 크기를 A4로 설정하고, 각 페이지에 20mm의 여백을 부여합니다."}),`
`,n.jsx(e.h2,{children:"주요 속성"}),`
`,n.jsx(e.p,{children:`•	size: 페이지의 크기를 설정합니다. A4, letter 등의 표준 크기나 사용자 정의 크기를 설정할 수 있습니다.
•	margin: 페이지의 여백을 설정합니다. 상하좌우 여백을 각각 설정할 수 있습니다.
•	orientation: portrait(세로) 또는 landscape(가로)로 페이지 방향을 설정합니다.`}),`
`,n.jsx(e.h2,{children:"의사 클래스"}),`
`,n.jsx(e.p,{children:"특정 페이지에만 스타일을 적용할 수 있는 의사 클래스도 존재합니다."}),`
`,n.jsx(e.p,{children:`•	:first: 첫 번째 페이지에만 스타일을 적용합니다.
•	:left, :right: 양면 인쇄 시 홀수/짝수 페이지에 각각 다른 스타일을 적용할 수 있습니다.`}),`
`,n.jsx(e.h2,{children:"기본 여백 설정 필요성"}),`
`,n.jsx(e.p,{children:"인쇄 레이아웃을 설계할 때 여백을 기본적으로 설정하는 것이 중요합니다. 각 프린터마다 기본 여백 설정이 다를 수 있어, 원하는 출력 결과를 보장하려면 명시적으로 여백을 설정해야 합니다."}),`
`,n.jsx(e.p,{children:"예시로, 모든 페이지에 20mm의 기본 여백을 설정하려면 다음과 같이 작성할 수 있습니다:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`@page {
  margin: 20mm;
}
`})}),`
`,n.jsx(e.p,{children:"이렇게 기본 여백을 설정함으로써 페이지 레이아웃이 일관성 있게 유지되고, 인쇄 시 의도한 디자인이 보존될 수 있습니다."}),`
`,n.jsx(e.p,{children:"이 TIL은 웹 페이지를 인쇄할 때 레이아웃을 제어할 수 있는 유용한 방법을 배운 기록입니다. @page 규칙을 잘 활용하면 인쇄물의 품질을 향상시킬 수 있습니다."})]})}function EAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(KB,{...t})}):KB(t)}const AAe=je({});function RAe(){return n.jsx(Se,{children:n.jsx(EAe,{components:AAe})})}const LAe=ve("/_layout/til/css/at-rules-page")({component:RAe,head:()=>({meta:[{title:"at rules page"}]})});function ZB(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Animation"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"CSS Animation"}),"은 Element에 적용되는 CSS 스타일을 다른 CSS 스타일로 부드럽게 전환시켜 주는 방법 입니다."]}),`
`,n.jsxs(e.p,{children:["이 CSS Animation에서 중요한 것을 ",n.jsx(e.a,{href:"https://developer.mozilla.org/ko/docs/Web/CSS/animation",children:n.jsx(e.code,{children:"animation"})})," 과  ",n.jsx(e.a,{href:"https://developer.mozilla.org/ko/docs/Web/CSS/@keyframes",children:n.jsx(e.code,{children:"@keyframes"})})," 입니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Animation 속성은 하위로 다른 속성들을 가지며, Animation의 동작을 정의합니다."}),`
`,n.jsx(e.li,{children:"@keyframes는 Animation의 중간 상태를 정의하여, Animation을 좀 더 커스텀 할 수 있도록 도와줍니다."}),`
`]}),`
`,n.jsx(e.p,{children:"위 내용을 각 각 다루어 보겠습니다"}),`
`,n.jsx(e.h2,{children:"Animation"}),`
`,n.jsx(e.p,{children:"Animation속성의 하위 속성들에 대해서 설명을 작성하겠습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://developer.mozilla.org/ko/docs/Web/CSS/animation-delay",children:n.jsx(e.code,{children:"animation-delay"})}),`
Animation이 실행되는 시간을 지정합니다. (ex. 2s와 10s가 있을 때, 2s가 더 빠르게 보여짐)`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://developer.mozilla.org/ko/docs/Web/CSS/animation-direction",children:n.jsx(e.code,{children:"animation-direction"})}),`
Animation이 종료되고 다시 처음부터 시작할지 역방향으로 진행할지 지정합니다.`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://developer.mozilla.org/ko/docs/Web/CSS/animation-duration",children:n.jsx(e.code,{children:"animation-duration"})}),`
한 싸이클의 Animation이 얼마에 걸쳐 일어날지 지정합니다.`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsxs(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-iteration-count",title:"Currently only available in English (US)",children:[n.jsx(e.code,{children:"animation-iteration-count"})," (en-US)"]}),`
Animation이 몇 번 반복 될지 지정합니다. `,n.jsx(e.code,{children:"infinite"}),"로 지정하여 무한히 반복할 수 있습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsxs(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-name",title:"Currently only available in English (US)",children:[n.jsx(e.code,{children:"animation-name"})," (en-US)"]}),`
이 Animation의 중간 상태를 지정합니다. 중간 상태는 `,n.jsx(e.a,{href:"https://developer.mozilla.org/ko/docs/Web/CSS/@keyframes",children:n.jsx(e.code,{children:"@keyframes"})})," 규칙을 이용하여 상세하게 적용할 수 있습니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsxs(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-play-state",title:"Currently only available in English (US)",children:[n.jsx(e.code,{children:"animation-play-state"})," (en-US)"]}),`
Animation을 멈추거나 다시 시작할 수 있습니다.`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsxs(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-timing-function",title:"Currently only available in English (US)",children:[n.jsx(e.code,{children:"animation-timing-function"})," (en-US)"]}),`
중간 상태들의 전환을 어떤 시간간격으로 진행할지 지정합니다.`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://developer.mozilla.org/ko/docs/Web/CSS/animation-fill-mode",children:n.jsx(e.code,{children:"animation-fill-mode"})}),`
Animation이 시작되기 전이나 끝나고 난 후 어떤 값이 적용될지 지정합니다.`]}),`
`]}),`
`]})]})}function DAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(ZB,{...t})}):ZB(t)}const kAe=je({});function NAe(){return n.jsx(Se,{children:n.jsx(DAe,{components:kAe})})}const PAe=ve("/_layout/til/css/animation")({component:NAe,head:()=>({meta:[{title:"animation"}]})});function QB(t){const e={h1:"h1",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Accent Color"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"accent-color는 특정 요소에 색상을 지정할 때 사용된다."}),`
`,n.jsx(e.li,{children:"accent라는 말처럼 브랜드 컬러처럼 강조 색상을 요소에 적용할 때 유용하다."}),`
`,n.jsx(e.li,{children:"accent-color는 prefers-color-scheme와 같이 사용하면, 라이트&다크모드를 모두 지정할 수 있다."}),`
`]}),`
`,n.jsx(e.p,{children:"accent-color는 아래 요소에 적용된다."}),`
`,n.jsx(e.p,{children:"이렇게 적용하면 체크박스, 라디오버튼, range의 프로그래스 바의 색상이 시스템의 다크모드일 때는 빨간색, 라이트모드일 때에는 파란색으로 보여지게 됩니다."})]})}function OAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(QB,{...t})}):QB(t)}const BAe=je({});function IAe(){return n.jsx(Se,{children:n.jsx(OAe,{components:BAe})})}const FAe=ve("/_layout/til/css/accent-color")({component:IAe,head:()=>({meta:[{title:"accent color"}]})});function JB(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"About Css Pseudo Class The Empty"}),`
`,n.jsxs(e.p,{children:["CSS에서 ",n.jsx(e.code,{children:":empty"}),"는 특정 요소가 비어있는 경우 선택할 수 있는 가상 클래스입니다. 즉, 자식 요소가 없는 요소를 선택할 때 사용합니다. 예를 들어, 아래와 같이 HTML 코드가 있다면:"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<div class="box">
  <p>Hello, world!</p>
</div>
<div class="box"></div>

`})}),`
`,n.jsxs(e.p,{children:["CSS에서 ",n.jsx(e.code,{children:".box"})," 클래스를 가진 요소 중 빈 요소만 선택하려면 다음과 같이 작성할 수 있습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-css",children:`.box:empty {
  border: 1px solid red;
}

`})}),`
`,n.jsxs(e.p,{children:["위 코드는 두 번째 ",n.jsx(e.code,{children:"<div>"})," 요소에 빨간 테두리를 추가합니다. 왜냐하면 이 요소가 비어있기 때문입니다."]})]})}function UAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(JB,{...t})}):JB(t)}const zAe=je({});function HAe(){return n.jsx(Se,{children:n.jsx(UAe,{components:zAe})})}const VAe=ve("/_layout/til/css/about-css-pseudo-class-the-empty")({component:HAe,head:()=>({meta:[{title:"about css pseudo class the empty"}]})});function eI(t){const e={h1:"h1",li:"li",ol:"ol",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Optical Character Recognition (OCR)"}),`
`,n.jsx(e.p,{children:"Optical Character Recognition (OCR)란, 이미지에 포함된 텍스트를 디지털화하여 컴퓨터가 이해할 수 있는 텍스트로 변환하는 기술을 말해요. 예를 들어, 스캔된 문서, 사진에 찍힌 글자, 손글씨 등을 텍스트로 변환하는 데 사용됩니다."}),`
`,n.jsx(e.p,{children:"OCR의 동작 원리를 간단히 설명하자면, 이미지 내에서 문자 영역을 식별하고, 각 글자의 모양을 분석해 사전 정의된 문자 데이터베이스와 비교하여 해당 글자를 인식하는 방식으로 이루어집니다. 주요 OCR 기술에는 다음과 같은 단계가 포함돼요."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"이미지 전처리: 잡음 제거, 이미지 스케일링, 이진화 등으로 이미지 품질을 향상시키고, 텍스트 인식률을 높이는 단계입니다."}),`
`,n.jsx(e.li,{children:"문자 영역 식별: 이미지 내에서 텍스트가 포함된 영역을 검출합니다. 여러 줄이나 문단, 또는 단어 단위로 나누는 방법도 포함돼요."}),`
`,n.jsx(e.li,{children:"문자 분할: 글자들이 이어져 있거나 겹쳐 있으면 이를 분리하여 각 글자 단위로 나눕니다."}),`
`,n.jsx(e.li,{children:"문자 인식: 글자 모양을 분석해 가장 유사한 문자로 변환합니다. 이 과정에서 다양한 글꼴이나 손글씨 스타일을 다룰 수 있어야 합니다."}),`
`,n.jsx(e.li,{children:"후처리: 인식된 텍스트에 대해 언어적인 교정, 철자 교정 등을 수행하여 보다 정확한 결과를 얻습니다."}),`
`]}),`
`,n.jsx(e.p,{children:"OCR은 주로 문서 디지털화, 도서 스캔, 카드 정보 인식, 자동차 번호판 인식, 스마트폰 앱을 통한 번역 등에 많이 활용됩니다. 최근에는 인공지능과 딥러닝의 발달로, 전통적인 OCR 방식보다 높은 인식률을 자랑하는 OCR 엔진들이 많이 개발되고 있어요. 대표적인 OCR 툴로는 Google의 Tesseract OCR, Microsoft의 Azure OCR 등이 있습니다."})]})}function GAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(eI,{...t})}):eI(t)}const $Ae=je({});function qAe(){return n.jsx(Se,{children:n.jsx(GAe,{components:$Ae})})}const WAe=ve("/_layout/til/cs/optical-character-recognition")({component:qAe,head:()=>({meta:[{title:"optical character recognition"}]})});function tI(t){const e={h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Machine learning"}),`
`,n.jsx(e.h2,{children:"머신러닝의 주요 학습 방식"}),`
`,n.jsxs(e.p,{children:["머신러닝은 주로 ",n.jsx(e.strong,{children:"지도학습(Supervised Learning)"}),", ",n.jsx(e.strong,{children:"비지도학습(Unsupervised Learning)"}),", 그리고 **강화학습(Reinforcement Learning)**의 세 가지 방식으로 나뉩니다. 각 방식은 학습하는 데이터의 형태와 목표가 다르며, 문제 유형에 따라 적용됩니다."]}),`
`,n.jsx(e.h3,{children:"1. 지도학습 (Supervised Learning)"}),`
`,n.jsx(e.p,{children:"지도학습은 데이터와 함께 정답(라벨)이 주어져, 모델이 이를 바탕으로 학습하는 방식입니다. 예를 들어 고양이와 개 이미지를 분류할 때, 각 이미지가 ‘고양이’ 또는 ‘개’라는 라벨을 포함하는 형태로 데이터를 제공합니다. 이 방식에서는 모델이 특정 입력에 대해 예상 출력을 학습하고, 새로운 입력에 대해 예측을 수행할 수 있게 됩니다."}),`
`,n.jsx(e.h4,{children:"지도학습의 세부 유형"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"분류 (Classification)"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"목적"}),": 주어진 데이터를 특정 카테고리로 분류."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),': 이메일 스팸 필터링에서 각 이메일을 "스팸" 또는 "정상"이라는 두 카테고리 중 하나로 분류합니다. 여기서 ',n.jsx(e.strong,{children:"종속변수"}),'는 이메일의 라벨("스팸" 또는 "정상")이며, ',n.jsx(e.strong,{children:"독립변수"}),"는 이메일 내용, 발신 정보 등 예측에 사용되는 특성입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"추가적인 분류 방식"}),": 이진 분류(Binary Classification), 다중 클래스 분류(Multi-class Classification), 다중 레이블 분류(Multi-label Classification)."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"회귀 (Regression)"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"목적"}),": 주어진 데이터를 바탕으로 연속적인 수치 값을 예측."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),": 주택 가격 예측에서 독립변수는 주택 면적, 위치 등이고, 종속변수는 예측하려는 가격입니다. 모델은 이를 통해 주택의 특성에 따라 가격이라는 연속적 값을 예측합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"추가적인 회귀 방식"}),": 단순 선형 회귀(Simple Linear Regression), 다중 선형 회귀(Multiple Linear Regression), 비선형 회귀(Non-linear Regression)."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h3,{children:"2. 비지도학습 (Unsupervised Learning)"}),`
`,n.jsx(e.p,{children:"비지도학습은 라벨이 없는 데이터를 바탕으로 데이터 내 숨겨진 패턴이나 구조를 발견하는 학습 방식입니다. 이 방식에서는 종속변수 없이 독립변수들 사이의 관계를 통해 유사한 특성의 데이터끼리 그룹화하거나, 데이터 간의 연관성을 찾아냅니다."}),`
`,n.jsx(e.h4,{children:"비지도학습의 세부 유형"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"군집화 (Clustering)"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"목적"}),": 유사한 특성을 가진 데이터를 그룹으로 묶는 것."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),": 고객의 구매 패턴을 바탕으로 유사한 행동을 가진 고객 그룹을 형성하여 타겟 마케팅에 활용할 수 있습니다. 이 경우, 특정 라벨이 없고 데이터의 특성(구매 패턴, 나이, 위치 등)으로 유사도를 기준으로 군집을 나누게 됩니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:n.jsx(e.strong,{children:"연관 규칙 학습 (Association Rule Learning)"})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"목적"}),": 데이터 항목 간의 연관성을 발견하는 것."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),': 장바구니 분석에서 "빵을 구매하는 고객은 우유도 구매할 가능성이 높다"는 연관 규칙을 찾아냅니다. 이 방법은 종속변수 없이 항목 간의 관계를 분석하는 것이 목적입니다.']}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h3,{children:"3. 강화학습 (Reinforcement Learning)"}),`
`,n.jsxs(e.p,{children:["강화학습은 **에이전트(Agent)**가 환경과 상호작용하며 보상을 얻고 학습하는 방식입니다. 게임이나 로봇 학습 등에서 사용되며, 특정 목표를 달성하거나 보상을 최대화하기 위해 최적의 행동 전략을 학습합니다. 이 학습 방식에서는 ",n.jsx(e.strong,{children:"종속변수"}),"와 ",n.jsx(e.strong,{children:"독립변수"}),"가 특정하지 않으며, 주어진 환경에서 행동의 조합을 통해 보상을 얻고, 보상 합계가 최대가 되는 방향으로 학습합니다."]}),`
`,n.jsx(e.h4,{children:"강화학습의 예시"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"예시"}),": 체스 AI가 다양한 수를 두고, 게임에서 승리하면 양의 보상, 패배하면 음의 보상을 받으면서 승리할 확률이 높은 수를 찾는 과정에서 학습합니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"생활코딩의 추가 학습 도구 - Teachable Machine"}),`
`,n.jsxs(e.p,{children:["생활코딩의 '머신러닝1'에서는 ",n.jsx(e.strong,{children:"Teachable Machine"}),"이라는 구글의 도구를 활용해 쉽게 머신러닝 모델을 만들 수 있는 방법도 소개합니다. Teachable Machine은 이미지, 오디오, 포즈 데이터를 활용해 별도의 프로그래밍 없이도 모델을 만들 수 있도록 도와주는 툴로, 머신러닝의 기본 원리를 쉽게 체험할 수 있습니다."]})]})}function XAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(tI,{...t})}):tI(t)}const YAe=je({});function KAe(){return n.jsx(Se,{children:n.jsx(XAe,{components:YAe})})}const ZAe=ve("/_layout/til/cs/machine-learning")({component:KAe,head:()=>({meta:[{title:"machine learning"}]})});function nI(t){const e={code:"code",h1:"h1",hr:"hr",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to check system uptime and system load"}),`
`,n.jsx(e.p,{children:"uptime 명령어는 시스템의 부하 정보와 시스템이 실행되고 있는 시간을 보여주는 명령어입니다. 일반적으로 다음과 같은 형태의 결과값을 반환합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`$ uptime
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:"아래와 비슷한 내용으로 뜨게될 것입니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:` 0:10  up 10 mins, 2 users, load averages: 2.43 5.77 5.94
`})}),`
`,n.jsx(e.p,{children:"0:10 : 현재 시간을 나타냅니다."}),`
`,n.jsx(e.p,{children:"up 10 mins : 시스템이 실행된 시간을 나타냅니다. 이 경우에는 시스템을 실행한지 10분이 지난 후"}),`
`,n.jsx(e.p,{children:"2 users : 현재 시스템에 로그인된 사용자 수를 나타냅니다. (터미널 수)"}),`
`,n.jsx(e.p,{children:"load averages: 2.43 5.77 5.94 : 시스템 부하 정보를 나타냅니다. 이 경우에는 1분, 5분, 15분 동안의 평균 부하를 각각 2.43 5.77 5.94로 보여줍니다. 이 값은 시스템이 현재 처리하는 작업의 양을 나타내며, 일반적으로 1을 넘어서는 경우에는 시스템이 부하 상태에 있는 것으로 판단할 수 있습니다."})]})}function QAe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(nI,{...t})}):nI(t)}const JAe=je({});function eRe(){return n.jsx(Se,{children:n.jsx(QAe,{components:JAe})})}const tRe=ve("/_layout/til/cs/how-to-check-system-uptime-and-system-load")({component:eRe,head:()=>({meta:[{title:"how to check system uptime and system load"}]})});function iI(t){const e={code:"code",h1:"h1",hr:"hr",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"How to change kernel parameters"}),`
`,n.jsx(e.p,{children:"sysctl을 서용하여 모든 매개변수를 조회. (mac or linux에서 사용.)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`$ sysctl -a
`})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:"$ sysctl ${매개변수_이름}\n"})}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:"그리고 위험한 명령어 이지만, 커널 매개변수를 영구히 변경하는 방법이 있습니다."}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-shell",children:`$ sudo su
# 관리자 권한을 얻는다.

$ sysctl -w <TUNABLE_CLASS>.<PARAMETER>=<TARGET_VALUE> >> /etc/sysctl.conf
# sysctl -w를 이용하여 매개변수 값을 변경하고, /etc/sysctl.conf파일에 영구적으로 덮어쓰기합니다.
`})})]})}function nRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(iI,{...t})}):iI(t)}const iRe=je({});function rRe(){return n.jsx(Se,{children:n.jsx(nRe,{components:iRe})})}const sRe=ve("/_layout/til/cs/how-to-change-kernel-parameters")({component:rRe,head:()=>({meta:[{title:"how to change kernel parameters"}]})});function rI(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"AST (Abstract Syntax Tree)"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Abstract Syntax Tree"}),"는 한국어로 ",n.jsx(e.code,{children:"추상 구문 트리"}),"로 번역이 되어지며, 소스 코드를 특정 의미와 위치 등 정보를 바탕으로 트리를 만든 것을 말합니다."]}),`
`,n.jsx(e.h2,{children:"AST의 예시"}),`
`,n.jsx(e.p,{children:"아래의 코드를 예시로 들어보겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`function sayHi() {
  console.log("hi");
}
`})}),`
`,n.jsxs(e.p,{children:['위의 코드는 단순히 javascript에서 "hi" 로그를 찍어주는 함수입니다. 위 함수를 ',n.jsx(e.a,{href:"https://astexplorer.net/",children:"AST Explorer"}),"를 이용하여 AST를 확인해보겠습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-json",children:`{
  "type": "Program",
  "start": 0,
  "end": 46,
  "body": [
    {
      "type": "FunctionDeclaration",
      "start": 0,
      "end": 46,
      "id": {
        "type": "Identifier",
        "start": 9,
        "end": 19,
        "name": "consolelog"
      },
      "expression": false,
      "generator": false,
      "async": false,
      "params": [],
      "body": {
        "type": "BlockStatement",
        "start": 22,
        "end": 46,
        "body": [
          {
            "type": "ExpressionStatement",
            "start": 26,
            "end": 44,
            "expression": {
              "type": "CallExpression",
              "start": 26,
              "end": 43,
              "callee": {
                "type": "MemberExpression",
                "start": 26,
                "end": 37,
                "object": {
                  "type": "Identifier",
                  "start": 26,
                  "end": 33,
                  "name": "console"
                },
                "property": {
                  "type": "Identifier",
                  "start": 34,
                  "end": 37,
                  "name": "log"
                },
                "computed": false,
                "optional": false
              },
              "arguments": [
                {
                  "type": "Literal",
                  "start": 38,
                  "end": 42,
                  "value": "hi",
                  "raw": "\\"hi\\""
                }
              ],
              "optional": false
            }
          }
        ]
      }
    }
  ],
  "sourceType": "module"
}
`})}),`
`,n.jsxs(e.p,{children:["위 객체는 ",n.jsx(e.code,{children:"type"}),", ",n.jsx(e.code,{children:"start"}),", ",n.jsx(e.code,{children:"end"}),", ",n.jsx(e.code,{children:"body"})," 등의 속성을 가지고 있습니다. 이 속성들은 아래와 같은 의미를 가지고 있습니다."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"type"}),": 해당 노드의 타입을 나타냅니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"start"}),": 해당 노드의 시작 위치를 나타냅니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"end"}),": 해당 노드의 끝 위치를 나타냅니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"body"}),": 해당 노드의 자식 노드를 나타냅니다."]}),`
`]}),`
`,n.jsxs(e.p,{children:["위의 예시에서는 ",n.jsx(e.code,{children:"Program"}),"이라는 노드가 가장 상위 노드이며, ",n.jsx(e.code,{children:"body"})," 속성을 통해 자식 노드를 가지고 있습니다. ",n.jsx(e.code,{children:"body"})," 속성은 ",n.jsx(e.code,{children:"FunctionDeclaration"}),"이라는 노드를 가지고 있으며, ",n.jsx(e.code,{children:"FunctionDeclaration"})," 노드는 ",n.jsx(e.code,{children:"body"})," 속성을 통해 자식 노드를 가지고 있습니다. 이러한 형태로 노드가 계속해서 이어지며, 최종적으로는 ",n.jsx(e.code,{children:"Literal"})," 노드를 만나게 됩니다."]}),`
`,n.jsx(e.p,{children:"위의 예시는 javascript의 AST를 나타낸 것이며 프로그래밍 언어별로 조금씩 다 다르지만, 대부분의 프로그래밍 언어는 비슷한 형태의 AST를 가지고 있습니다."}),`
`,n.jsx(e.h2,{children:"AST의 사용"}),`
`,n.jsx(e.p,{children:"AST는 주로 컴파일러에서 사용됩니다. 컴파일러는 소스 코드를 기계어로 변환하는 역할을 하며, 이러한 변환 과정에서 AST를 사용합니다."})]})}function aRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(rI,{...t})}):rI(t)}const oRe=je({});function lRe(){return n.jsx(Se,{children:n.jsx(aRe,{components:oRe})})}const cRe=ve("/_layout/til/cs/ast")({component:lRe,head:()=>({meta:[{title:"ast"}]})});function sI(t){const e={blockquote:"blockquote",h1:"h1",h2:"h2",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"AOT And Jit Compiler"}),`
`,n.jsx(e.p,{children:`프로그램을 실행하여 사용자가 사용하는 시간을 Runtime이라 하는데, 개발자가 작성한 코드는 이 Runtime에 컴퓨터가 해석 가능한 기계어로 변환이 되어 실행됩니다.
아래의 설명에서는 이러한 변환이 어느 시점에 일어나는지에 대해 설명합니다.`}),`
`,n.jsx(e.h2,{children:"JIT 컴파일러"}),`
`,n.jsx(e.p,{children:"JIT는 Just In Time의 약자로, 프로그램이 실행되는 시점에 컴파일을 하는 방식입니다."}),`
`,n.jsx(e.p,{children:"전통적인 입장에서 컴퓨터 프로그램을 만드는 방법은 두 가지가 있는데, 인터프리트 방식과 정적 컴파일 방식으로 나눌 수 있다. 이 중 인터프리트 방식은 실행 중 프로그래밍 언어를 읽어가면서 해당 기능에 대응하는 기계어 코드를 실행하며, 반면 정적 컴파일은 실행하기 전에 프로그램 코드를 기계어로 번역한다."}),`
`,n.jsx(e.p,{children:"JIT 컴파일러는 두 가지의 방식을 혼합한 방식으로 생각할 수 있는데, 실행 시점에서 인터프리트 방식으로 기계어 코드를 생성하면서 그 코드를 캐싱하여, 같은 함수가 여러 번 불릴 때 매번 기계어 코드를 생성하는 것을 방지한다."}),`
`,n.jsx(e.p,{children:"최근의 자바 가상 머신과 .NET, V8(node.js)에서는 JIT 컴파일을 지원한다. 즉, 자바 컴파일러가 자바 프로그램 코드를 바이트코드로 변환한 다음, 실제 바이트코드를 실행하는 시점에서 자바 가상 머신이 바이트코드를 JIT 컴파일을 통해 기계어로 변환한다."}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"바이트코드는 기계어는 아니지만 가상 머신에 의해 기계어로 손쉽게 변환할 수 있는 코드이다."}),`
`]}),`
`,n.jsx(e.h2,{children:"AOT Compiler"}),`
`,n.jsx(e.p,{children:"AOT 컴파일(ahead-of-time compile)은 목표 시스템의 기계어와 무관하게 중간 언어 형태로 배포된 후 목표 시스템에서 인터프리터나 JIT 컴파일 등 기계어 번역을 통해 실행되는 중간 언어를 미리 목표 시스템에 맞는 기계어로 번역하는 방식을 지칭한다. 이런 중간 언어로는 자바 바이트코드, 공통 중간 언어(Common Intermediate Language), IBM System/38 혹은 IBM System i의 기술 독립적 머신 인터페이스(Technology Independent Machine Interface)가 있으며 학계에서도 마이클 프란즈(Michael Franz)가 제안해 오베론 시스템의 일부 구현에서 사용된 슬림 바이너리(Slim Binaries)와 같은 제안이 있었다."}),`
`,n.jsx(e.p,{children:"일반적으로 중간 언어를 사용하는 시스템은 실행 시간에 JIT 컴파일과 같은 기법을 통해 실행 시에만 얻을 수 있는 프로그램 분석 정보를 사용하여 높은 성능을 달성할 수 있다. 특히 객체 지향 언어나 스크립트 언어 같이 동적인 언어인 경우 효과적이다. 하지만 실행 시 프로그램 분석과 컴파일을 함께 수행하는데 추가 메모리 및 CPU 사이클이 필요한 단점이 있다. 따라서 AOT 컴파일은 이에 대한 보완책으로 사용되고 있다."})]})}function hRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(sI,{...t})}):sI(t)}const uRe=je({});function dRe(){return n.jsx(Se,{children:n.jsx(hRe,{components:uRe})})}const fRe=ve("/_layout/til/cs/aot_and_jit_compiler")({component:dRe,head:()=>({meta:[{title:"aot and jit compiler"}]})});function aI(t){const e={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:`title: Deview 2023을 다녀온 후
summary: deview 2023을 다녀온 후에 작성하는 요약 및 리뷰
description: deview 2023을 다녀온 후에 작성하는 요약 및 리뷰
date: 2023-03-04 12:00:00
image: https://deview.kr/2023/img/og-edit.jpg
author: 'Gitsunmin'
categories:`}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:`'2023'
tags:`}),`
`,n.jsx(e.li,{children:"Frontend"}),`
`,n.jsx(e.li,{children:"Review"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h1,{children:"서론"}),`
`,n.jsx(e.p,{children:"Naver에서 개최한 컨퍼런스인 Deview를 다녀와서 간단하게라도 기록하기 위해 문서를 작성하려고합니다."}),`
`,n.jsx(e.h1,{children:"본론"}),`
`,n.jsx(e.p,{children:"우선 저는 프론트엔드 개발자이기 때문에 일부 프론트엔드 관련된 아래 세션에만 참가를 하였고, Day1에만 참석할 수 있었습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"하나의 코드로 React, Vue, Svelte 등 모든 프레임워크를 지원할 수 있는 CFCs Reactive [최연규, NAVER Search]"})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"눈으로 보며 듣는 음성 기록, 클로바노트 서비스의 웹 기술 톺아보기 [임대현/이은성, NAVER Cloud]"})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"중요한 건 꺾이지 않는 마음: 스마트에디터의 도전 [김성원/이진, NAVER ETECH]"})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"GraphQL 잘 쓰고 계신가요? (Production-ready GraphQL) [오제관/권기범, NAVER Glace]"})}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"SSR환경에서의 Micro-Frontend 구현과 퍼포먼스 향상을 위한 캐시전략 [박찬진, 쿠팡]"})}),`
`]}),`
`,n.jsx(e.p,{children:"강의 자료를 따로 제공해 주고 있어서 참조 부분에 업로드 해두겠습니다."}),`
`,n.jsx(e.h2,{children:"하나의 코드로 React, Vue, Svelte 등 모든 프레임워크를 지원할 수 있는 CFCs Reactive [최연규, NAVER Search]"}),`
`,n.jsx(e.h3,{children:"요약"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.a,{href:"https://github.com/naver/cfcs",children:"CFCs"}),"는 Naver에서 사용하는 ",n.jsx(e.a,{href:"https://naver.github.io/egjs/",children:"egjs"}),"라는 라이브러리를 React, Vue, Svelte 등 여러 프에레워크에서 제공하기 위해서 개발되었습니다. 물론 각 프레임워크 별로 코드를 작성하여 egjs를 여러 Framework에서 제공하는 것도 가능했지만, 한 번의 작업으로 여러 프레임워크를 제공하는 것이 목표였습니다."]}),`
`,n.jsx(e.p,{children:"목표를 이루기 위해서 프레임워크들의 공통점을 찾았는데, 다음과 같은 공통점을 찾을 수 있었습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"변경이 되면 UI를 다시 그리는 state가 존재한다."}),`
`,n.jsx(e.li,{children:"컴포넌트별로 생성이 완료되는 순간과 컴포넌트가 소멸하는 순간에 대한 라이프 사이클이 존재한다."}),`
`]}),`
`,n.jsx(e.p,{children:"CFCs는 위 공통점을 이용하여 한 번만 작성하면, 여러 프레임워크로의 변환 가능한 코드를 작성할 수 있었습니다. 자세한 문법은 라이브러리 페이지나 발표자료를 참고해주세요."}),`
`,n.jsx(e.p,{children:"장점과 단점은 이렇습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["장점",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Core(Vanilla)를 제외한 프레임워크 코드가 매우 적고 간결합니다."}),`
`,n.jsxs(e.li,{children:["대부분의 문제는 공통 코드 또는 Core 컴포넌트의 문제로 판단할 수 있습니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Core만 기능 추가 / 수정하면 모든 프레임워크 컴포넌트에 기능 추가 / 수정이 반영됩니다."}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["단점",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"CFCs에 대한 러닝 커브가 존재합니다."}),`
`,n.jsx(e.li,{children:"단일 프레임워크 지원이라면 비효율적입니다."}),`
`,n.jsx(e.li,{children:"CFCs 모듈의 코드가 추가됨으로써 패키지 용량이 증가할 수 있습니다."}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"눈으로 보며 듣는 음성 기록, 클로바노트 서비스의 웹 기술 톺아보기 [임대현/이은성, NAVER Cloud]"}),`
`,n.jsx(e.h3,{children:"요약"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"클로바 노트 소개"}),`
`]}),`
`,n.jsx(e.p,{children:"클로바 노트(Clova Note)는 네이버에서 제공하는 클로바 AI 기술을 활용하여 음성 녹음을 텍스트로 변환해 주는 기능을 제공하는 노트 앱입니다. 최근에는 파파고와 함께 다국어 지원을 하고 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"클로바 노트 개발 스택"}),`
`]}),`
`,n.jsx(e.p,{children:"클로바노트는 NEXT.js로 만들어 졌으며, 오프라인 중에도 서비스를 지원하기 위해서 PWA와 workbox를 도입하였다고 합니다. 추가적으로 클로바 노트에서는 반응형 디자인을 사용하고 있는데, 단순히 UI만 반응형으로 만든 것이 아니라 UX또한 모바일과 PC 등 에서 사용할 수 있도록 개발을 하였습니다."}),`
`,n.jsx(e.p,{children:"예 ) 리스트에서 체크박스가 hover하였을 때, 생기는 것이 PC의 UX상 깔끔하게 사용할 수 있지만, 모바일과 함께 고려하였기 때문에, hover하지 않아도, 체크 가능한 상태를 유지하도록 하였습니다."}),`
`,n.jsx(e.p,{children:"클로바 노트 팀에서는 클로바 노트 관련 모든 프로젝트를 모노레포 방식으로 코드를 관리하고 있는데, yarn workspace를 사용하여 패키지를 관리하고, 아토믹 디자인 패턴으로 컴포넌트를 관리한다고 합니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"팀 문화"}),`
`]}),`
`,n.jsx(e.p,{children:"클로바 노트 팀은 개발 효율화, 운영 효율화, 세계 최고의 기술력 지향을 개발 철학으로 삼고, 2주에 한 번씩 하는 스크럼을 “감성 스크럼”이라고 명명하여 사적인 이야기 또한 같이 공유하며 팀간의 우대를 쌓는다고 하였고, 이러한 감성의 교류는 코드 리뷰와 같이 예민한 작업 시에 서로에 대한 이해를 도와준다고 합니다."}),`
`,n.jsx(e.h2,{children:"중요한 건 꺾이지 않는 마음: 스마트에디터의 도전 [김성원/이진, NAVER ETECH]"}),`
`,n.jsx(e.h3,{children:"요약"}),`
`,n.jsx(e.p,{children:"스마트 에디터가 지금까지 어떤 고난과 역경을 이겨냈는지를 알려주는 발표였습니다."}),`
`,n.jsx(e.p,{children:"1세대, 1.5세대 그리고 2세대, 3세대 로 구분이 되어 있는데, 한 번 요약 해 보겠습니다."}),`
`,n.jsxs(e.p,{children:["1세대 에디터(SE 2.0)는 ",n.jsx(e.a,{href:"https://developer.mozilla.org/ko/docs/Web/HTML/Global_attributes/contenteditable",children:"contenteditable"}),"을 기반으로 하여 html을 그대로 저장하였고, IE의 버전별 대응의 어려움과 inline style의 한계로 멀티 디바이스 대응의 문제점이 있었습니다."]}),`
`,n.jsx(e.p,{children:"1.5세대 에디터(SE 3.0)에서는 HTML의 텍스트를 저장하는 대신 JSON으로 스타일과 텍스트 타입을 정의하여 저장하였지만, Selection의 동작에 문제가 발생하는 등의 문제점이 있었습니다."}),`
`,n.jsx(e.p,{children:"2세대 에디터(SE ONE)는 contenteditable 대신 가상 커서와 input Buffer를 활용하여 문제점을 해결하였지만, 우클릭 시 컨텍스트 메뉴에서 텍스트 수정관련 메뉴를 제공하지 않는 문제와 한자나 일본어 입력 시 밀리는 현상이 있었습니다."}),`
`,n.jsx(e.p,{children:"3세대 에디터(SE ONE V2)에서는 React의 vDOM과 DOM 충돌 문제를 해결하기 위해 upstream과 downstream을 사용하여 글을 작성하는 동안에는 오로지 데이터만 저장하는 upstream과 Enter 입력 시에는 React에서 화면을 제어하는 downstream이 발생하도록 구현하여 서로 충돌이 일어나는 것을 방지하였습니다."}),`
`,n.jsx(e.p,{children:"추가적으로 에디터가 아닌, 다른 앱에서도 적용가능한 Undo/Redo의 최적화 방법, Chunk를 이용한 성능 최적화 방법은 발표자료의 설명을 대신하겠습니다."}),`
`,n.jsx(e.p,{children:"코드 품질과 스타일에 대한 내용도 있어서 짧게 요약하자면,"}),`
`,n.jsx(e.p,{children:"코드의 복잡도와 중복을 해결하기 위해서 블록코딩이라는 것을 도입하였습니다. 불록 코딩은 명령의 단위를 최소화 하여, 하나의 블록으로 만들고, 이 블록들이 연결되어 하나의 명령을 수행하는 코딩 방법이며, 각 작은 단위의 블록에서는 성공, 실패 두 가지의 상태를 가집니다. 성공에 대한 다음 액션, 실패에 대한 다음 액션을들 정의하여 큰 블록을 만들면, 재사용성도 증가하고, 흐름의 파악이 쉽기 때문에 복잡도 또한 감소할 수 있습니다."}),`
`,n.jsx(e.p,{children:"스마트 에디터의 스타일은 2세대 부터 커스텀 스타일을 적용하였는데, 에디터를 사용하는 모든 서비스들에 따라서 너무 많은 요구사항으로 복잡한 상황이었습니다. 스마트 에디터에서는 이러한 상황에서 IE 스펙을 제외할 수 있는 점, node sass를 Dart Sass로 변경을 기점으로 문제를 해결하기 시작했습니다. IE 스펙을 제외하면서 CSS 변수를 사용할 수 있게 되었고, 공통화를 하여 복잡도를 낮출 수 있었습니다. 또, 관심사의 분리를 하였는데, 기존의 mixin, function별로 관리를 하던 css코드를 color의 mixin, font의 mixin 처럼 하나의 관심사를 두어 관심사 별로 mixin, function을 관리하는 방식으로 변경하여, 모듈화를 할 수 있었고, 복잡도가 많이 개선되었습니다."}),`
`,n.jsx(e.h2,{children:"GraphQL 잘 쓰고 계신가요? (Production-ready GraphQL) [오제관/권기범, NAVER Glace]"}),`
`,n.jsx(e.h3,{children:"요약"}),`
`,n.jsx(e.p,{children:"정의해야 하는 GQL 중에서 같은 이미지 이지만, 리사이징 크기에 따라서 다른 경로를 제공하는 필드가 있었습니다. 그런데 각 크기별로 GQL 필드를 차지하는것이 비효율적이라고 느껴서 발표자 분들은 Field Argument를 적용하였습니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"Schema"}),`
`]}),`
`,n.jsx(e.p,{children:"발표자분들은 여러 서버에서 데이터를 받아 사용하고 있었기 때문에, Schema를 다시 정의해야 했으며, 2개 이상의 API를 하나의 GQL로 합치며 Type도 정의 하는 작업을 했습니다."}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsx(e.li,{children:"Field Argument"}),`
`]}),`
`,n.jsx(e.p,{children:"정의해야 하는 GQL 중에서 리사이징 된 이미지의 경로들이 있었는데, 이것들 사이즈 별로 필드를 차지하며 있는 GQL의 비효율성을 느껴서 Field Argument를 사용하였습니다."}),`
`,n.jsx(e.p,{children:"Field Argument를 사용하면,"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`{
	image_200: @@@@
	imgae_400: @@@@
	image_800: @@@@
}
`})}),`
`,n.jsx(e.p,{children:"이런식으로 GQL을 정의할 필요 없이,"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`type User {
	image(width: Int): String
}
`})}),`
`,n.jsx(e.p,{children:"이렇게 정의하여"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`query {
	user (id: "1234") {
		image(width: 200)
	}
}
`})}),`
`,n.jsx(e.p,{children:"이런 식으로 사용하면 되어서, 간단하게 사용할 수 있습니다."}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"Enum"}),`
`]}),`
`,n.jsx(e.p,{children:"위에서 다루었던 image의 사이즈별 Argument를 받는 방식에서 width가 정해져 있을 텐데, 타입을 강제하고 싶을 때, Enum을 사용하면 됩니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`enum ImageWidth {
	W_200
	W_400
	W_800
}
`})}),`
`,n.jsxs(e.ol,{start:"4",children:[`
`,n.jsx(e.li,{children:"Error handling & Union & Typescript"}),`
`]}),`
`,n.jsx(e.p,{children:"GraphQL은 성공 실패 시 모두 status가 200으로 응답이 오기 때문에, 별도의 Error Handling을 해 주어야합니다. 하지만 귀찮죠. 효과적인 방법을 제시해 주었습니다."}),`
`,n.jsx(e.p,{children:"한 Query에서 여러 에러가 발생할 경우에 Union을 사용하여 간단하게 해결하였습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-graphql",children:`query {
  checkNickname(name: "abcd") {
    ... on NicknameSuccessd {
      nickname
    }
    ... on DuplicatedNickname {
      message
    }
    ... on PwoedError {
      words
    }
  }
}
`})}),`
`,n.jsx(e.p,{children:"이런식으로 사용하면, 성공했을 때는 NicknameSuccessd의 데이터, 중복 오류인 경우에는 DuplicatedNickname의 데이터가 오며, 금칙어 오류가 발생하였을 때는 PwoedError 필드에 데이터가 올 것입니다."}),`
`,n.jsx(e.p,{children:"위와 같은 에러는, typescript로 아래의 타입을 정의해서 사용할 수 있고, 분기를 이용하여 에러별 동작을 정의할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`interface BaseError {
	message: String!
}

type DuplicatedNickname implements BaseError {
	message: String!
}

type PwordError implements BaseError {
	woeds: [String!]!
}
...
`})}),`
`,n.jsxs(e.ol,{start:"5",children:[`
`,n.jsx(e.li,{children:"Custom Scalar"}),`
`]}),`
`,n.jsx(e.p,{children:"날짜, Email, url 등 일정한 패턴이 있는 데이터들의 타입을 정의하는 방법인 Custom Scalar기능을 소개합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const GraphQLYearMonth = new GraphQLScalarType({
	name: 'YearMonth',
	summary:'년월을 \`YYYY-MM\` 포맷의 스트링으로 받고 유효한 날짜인지 검증',
	seialize,
	parseValuse
});

type Query {
	missions(yearMonth: YearMonth!): [Mission!]!
}
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"seialize, parseValuse는 데이터를 체크하는 함수를 주입하는 변수입니다."}),`
`]}),`
`,n.jsxs(e.p,{children:["발표자분들께서 ",n.jsx(e.a,{href:"https://the-guild.dev/graphql/scalars/docs/scalars/account-number",children:"grapgql-scalars"}),"라는 라이브러리를 추천해 주었습니다."]}),`
`,n.jsxs(e.ol,{start:"6",children:[`
`,n.jsx(e.li,{children:"Field Resolver"}),`
`]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-jsx",children:`const isShowable =
  !review.isPrivate && review.isQualified && !review.isReportedByOthers;
`})}),`
`,n.jsx(e.p,{children:"이러한 로직이 프론트엔드에 있는 것 괜찮으신가요? 또, 여러 프론트엔드에서 다 이런 로직을 사용하고 있습니다. BFF에서 한 번의 치환으로 모두 isShowable이라는 변수만 보게하면 좋을 것 같습니다."}),`
`,n.jsx(e.p,{children:"이러한 것을 가능하게 해주는 것이 Field Resolver입니다. 이 Resolver는 단순하게는 Getter 함수라고 생각을 하셔도 무방합니다."}),`
`,n.jsx(e.p,{children:"프론트엔드에서 사용할 경우에는 단순히 field를 추가하는 것 처럼 사용을 하면 되고, BFF에서는 field를 사용한 경우에는 field resolver가 실행되고, 그렇지 않은 경우네느 실행이 되지 않아서 서버 자원을 동적으로 사용할 수 있습니다."}),`
`,n.jsxs(e.ol,{start:"7",children:[`
`,n.jsx(e.li,{children:"Normalization"}),`
`]}),`
`,n.jsx(e.p,{children:"database에서 많이 사용하는 용어인 normalization을 프론트엔드에서도 사용하는 방법을 소개하는 내용인데, 프론트엔드에서 apollo-client를 사용할 경우에 요청한 데이터를 caching 할 수 있고, 이 기능을 이용하여 여러 아이템이 있는 list에서 한 건을 변경하는 경우에, 변경이 성공한 데이터의 값만 cache에서 바꾸고, cache에 있는 데이터를 조회하는 방법을 사용할 수 있습니다."}),`
`,n.jsxs(e.ol,{start:"8",children:[`
`,n.jsx(e.li,{children:"Fragment"}),`
`]}),`
`,n.jsx(e.p,{children:"같은 GraphQL field를 여러번 사용할 경우에 schema에서 정의한 type들을 이용하여 fragment를 선언할 수 있고, 변수처럼 사용이 가능합니다."}),`
`,n.jsx(e.h2,{children:"SSR환경에서의 Micro-Frontend 구현과 퍼포먼스 향상을 위한 캐시전략 [박찬진, 쿠팡]"}),`
`,n.jsx(e.h3,{children:"요약"}),`
`,n.jsx(e.p,{children:"마이크로 프론트엔드를 적용하면서 있었던 고민과 회고한 내용을 발표해 주셨습니다."}),`
`,n.jsx(e.p,{children:"발표자분께서는 너무 많은 위젯을 한 팀에서 업무를 하다 보니, 과부하에 대한 대처로서 마이크로 프론트엔드를 생각하셨다고 하셨고, 1차와 2차로 나누어서 적용를 하였는데, 1차로는 mono-repo를 도입하는 것을 하셨다고 합니다."}),`
`,n.jsx(e.p,{children:"의외로 mono-repo 적용은 코드레벨에서는 큰 영향이 없었고, 배포 후에 롤백 해야하는 상황에서 각 commit의 순서가 영향을 주는 경우가 있었습니다."}),`
`,n.jsx(e.p,{children:"2차로 마이크로 프론트엔드를 적용하였는데, cdn으로 각 서비스를 배포하고, 그 cdn 주소로부터 component를 import하여 등록하는 방식을 적용하였습니다. 그렇기 때문에, 각 서비스별로 개별 배포가 가능해졌으며, AB 테스트를 추가로 도입하여 각 부분별 문제가 발생했을 때, 롤백이 가능하도록 구성하였습니다."}),`
`,n.jsx(e.p,{children:"마지막으로 캐시 전략이 있는데, 모듈별 버전 업데이트와 컨테이너의 버전 없데이트 때마다 캐시를 초기화하여 새로운 코드가 반영되도록 구성되었습니다."}),`
`,n.jsx(e.p,{children:"→ 결과"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"마이크로 프론트엔드는 시스템의 복잡성을 증가시킨다."}),`
`,n.jsx(e.li,{children:"캐시 키는 동시성 문제를 고려하여 신중하게 결정해야한다."}),`
`,n.jsx(e.li,{children:"개발 경험이 월등히 나아졌다."}),`
`,n.jsx(e.li,{children:"여전히 팀간의 소통은 중요하다."}),`
`]}),`
`,n.jsx(e.h1,{children:"결론"}),`
`,n.jsx(e.p,{children:"오랜만에 오프라인 컨퍼런스에 참여하여 정보 교류도 하고, 기념품도 받아오는 시간을 갖게 된 것 같습니다. 발표 내용들은 만족하는 것도 있고, 그렇지 않은 것도 있었지만, 대체로 좋은 시간이었던 것 같습니다."}),`
`,n.jsx(e.p,{children:"그중에 “GraphQL 잘 쓰고 계산기요?(오제관/권기범)” 세션에서 우리 회사에도 이런 BFF 서버를 두어서 프론트엔드에서 관리를 한다면, 프론트엔드 코드가 한결 깔끔해질 것 같고, 성능도 어느정도는 상승할 것 같다는 생각이 들었습니다. 그리고 지금 운영중인 가장 큰 프로젝트 또한 언젠가는 vue에서 React로 변경을 해야하는 숙제가 있는데, 이것은 “SSR환경에서의 micro-frontend 구현과 퍼포먼스 향상을 위한 캐시전략(박찬진)” 세션에서 보여준 마이크로 프론트엔드를 이용하여 점진적으로 바꾸어 나가면 될 것 같다는 생각 또한 해 보았습니다."}),`
`,n.jsx(e.p,{children:"이렇게 Deview를 통해서 모든 정보를 얻지는 못 하더라도, 잊혀졌던 키워드만 듣고 온 것 만으로도 저에게는 긍정적인 영향이 있었습니다. 그리고, “눈으로 보며 듣는 음성 기록, 클로바노트 서비스의 웹 기술 톺아보기(임대현/이은성)” 세션의 발표자들의 발표하는 방식이 너무 마음에 들었습니다. 아주 긴 내용이 아주 잘 이해가 되어서, 클로바 노트로 녹음한 내용들 다시 들어보며, 발표하는 방식을 연구해 보려고 합니다."}),`
`,n.jsx(e.h1,{children:"참조"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"하나의 코드로 React, Vue, Svelte 등 모든 프레임워크를 지원할 수 있는 CFCs Reactive [최연규, NAVER Search]"}),`
`,n.jsx(e.a,{href:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/86e28656-af5a-4bc0-af13-142df4392303/111%E1%84%92%E1%85%A1%E1%84%82%E1%85%A1%E1%84%8B%E1%85%B4%E1%84%8F%E1%85%A9%E1%84%83%E1%85%B3%E1%84%85%E1%85%A9ReactVueSvelte%E1%84%8C%E1%85%A5%E1%86%AB%E1%84%87%E1%85%AE%E1%84%8C%E1%85%B5%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%ABCFCsReactive.pdf",children:"최연규-발표자료"})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"눈으로 보며 듣는 음성 기록, 클로바노트 서비스의 웹 기술 톺아보기 [임대현/이은성, NAVER Cloud]"}),`
`,n.jsx(e.a,{href:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/972f66eb-dd57-487e-9b6e-d0ab582680ab/122%E1%84%82%E1%85%AE%E1%86%AB%E1%84%8B%E1%85%B3%E1%84%85%E1%85%A9%E1%84%87%E1%85%A9%E1%84%86%E1%85%A7%E1%84%83%E1%85%B3%E1%86%AE%E1%84%82%E1%85%B3%E1%86%AB%E1%84%8B%E1%85%B3%E1%86%B7%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%B5%E1%84%85%E1%85%A9%E1%86%A8%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A9%E1%84%87%E1%85%A1%E1%84%82%E1%85%A9%E1%84%90%E1%85%B3%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3%E1%84%8B%E1%85%B4%E1%84%8B%E1%85%B0%E1%86%B8%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF%E1%84%90%E1%85%A9%E1%87%81%E1%84%8B%E1%85%A1%E1%84%87%E1%85%A9%E1%84%80%E1%85%B5.pdf",children:"임대현-이은성-발표자료"})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"중요한 건 꺾이지 않는 마음: 스마트에디터의 도전 [김성원/이진, NAVER ETECH]"}),`
`,n.jsx(e.a,{href:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/2fcc4430-56ad-4f4d-98e9-3a593c4a4ab8/114%E1%84%8C%E1%85%AE%E1%86%BC%E1%84%8B%E1%85%AD%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%80%E1%85%A5%E1%86%AB_%E1%84%81%E1%85%A5%E1%86%A9%E1%84%8B%E1%85%B5%E1%84%8C%E1%85%B5_%E1%84%8B%E1%85%A1%E1%86%AD%E1%84%82%E1%85%B3%E1%86%AB_%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B3%E1%86%B7_%E1%84%8E%E1%85%AC%E1%84%8C%E1%85%A9%E1%86%BC.pdf",children:"김성원-이진-발표자료"})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"GraphQL 잘 쓰고 계신가요? (Production-ready GraphQL) [오제관/권기범, NAVER Glace]"}),`
`,n.jsx(e.a,{href:"https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fedcaeb4-691d-40c6-86e6-da529beccf1a/115Production_ready_GraphQL_1.pdf",children:"오제관-권기범-발표자료"})]}),`
`,n.jsx(e.li,{children:n.jsx(e.strong,{children:"SSR환경에서의 Micro-Frontend 구현과 퍼포먼스 향상을 위한 캐시전략 [박찬진, 쿠팡]"})}),`
`]})]})}function pRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(aI,{...t})}):aI(t)}const mRe=je({});function gRe(){return n.jsx(Se,{children:n.jsx(pRe,{components:mRe})})}const xRe=ve("/_layout/til/conference/deview-2024")({component:gRe,head:()=>({meta:[{title:"deview 2024"}]})});function oI(t){const e={a:"a",code:"code",h1:"h1",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Latest Unix tools"}),`
`,n.jsx(e.p,{children:"install?"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"[x] cat → bat"}),`
`,n.jsx(e.li,{children:"[ ] ls → exa, lsd"}),`
`,n.jsx(e.li,{children:"[ ] diff → delta"}),`
`,n.jsx(e.li,{children:"[ ] du → dust"}),`
`,n.jsx(e.li,{children:"[ ] df → duf"}),`
`,n.jsxs(e.li,{children:["[x] tree → broot",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"단순 Tree 구조만 보여줄 뿐만 아니라, 폴더를 선택하면 해당 파일을 editor로 열어주고, 폴더에서 enter를 누르면, 해당 경로로 진입하여 Tree 구조를 보여준다."}),`
`,n.jsxs(e.li,{children:["명령어 창을 닫지 않고 유지하면서 ",n.jsx(e.code,{children:"/"}),"를 이용하여 검색을 할 수 있다."]}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"[ ] find → fd"}),`
`,n.jsx(e.li,{children:"[ ] grep → ripgrep"}),`
`,n.jsx(e.li,{children:"[ ] ack → ag"}),`
`,n.jsx(e.li,{children:"[ ] history → mcfly"}),`
`,n.jsx(e.li,{children:"[ ] cut,awk → choose"}),`
`,n.jsx(e.li,{children:"[ ] sed (json) → jq"}),`
`,n.jsx(e.li,{children:"[ ] sed → sd"}),`
`,n.jsx(e.li,{children:"[ ] man → cheat, tldr"}),`
`,n.jsx(e.li,{children:"[ ] top → bottom, glances, gtop"}),`
`,n.jsx(e.li,{children:"[ ] ping → gping"}),`
`,n.jsx(e.li,{children:"[ ] ps → procs"}),`
`,n.jsx(e.li,{children:"[ ] curl → curlie"}),`
`,n.jsx(e.li,{children:"[ ] cd → zoxide"}),`
`,n.jsx(e.li,{children:"[ ] dig → dog"}),`
`,n.jsx(e.li,{children:"[ ] fzf - fuzzy finder"}),`
`,n.jsx(e.li,{children:"[ ] hyperfine - CLI benchmarking tool"}),`
`,n.jsx(e.li,{children:"[ ] httpie - CLI HTTP client for API"}),`
`,n.jsx(e.li,{children:"[ ] xh - 더 빠른 httpie"}),`
`]}),`
`,n.jsx(e.h1,{children:"ref."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://news.hada.io/topic?id=4784",children:"https://news.hada.io/topic?id=4784"})}),`
`]})]})}function yRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(oI,{...t})}):oI(t)}const vRe=je({});function _Re(){return n.jsx(Se,{children:n.jsx(yRe,{components:vRe})})}const bRe=ve("/_layout/til/cli/latest-unix-tools")({component:_Re,head:()=>({meta:[{title:"latest unix tools"}]})});function lI(t){const e={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Concurrently js"}),`
`,n.jsx(e.h2,{children:"배경"}),`
`,n.jsx(e.p,{children:"React, React Relay, TailwindCSS, Typescript 등을 사용하면서 컴파일 왓치 옵션으로 코드가 수정될 때마다 컴파일 하여 상태를 확인하는 것이 있습니다. 그런데 점차 하나씩 늘어나면서, CLI의 Window가 너무 많아져서, 불편함이 생겨서 관련 라이브러리를 찾던 중에 concurrently 라는 라이브러리를 찾게 되었습니다."}),`
`,n.jsx(e.h2,{children:"concurrently"}),`
`,n.jsx(e.p,{children:"concurrently는 여러개의 명령어를 동시에 실행할 수 있게 해주는 라이브러리입니다. 이를 통해, 하나의 터미널에서 여러개의 명령어를 실행할 수 있게 해줍니다. 또한, 각 명령어의 실행 결과를 색으로 구분하여 볼 수 있게 해줍니다."}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsxs(e.p,{children:["자세한 옵션은 ",n.jsx(e.a,{href:"https://www.npmjs.com/package/concurrently",children:"공식 문서"}),"를 참고하시면 됩니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"설치"}),`
`,n.jsx(e.p,{children:"사실 설치를 하지 않아도 사용 가능하지만, 버전별로 호환성이 다르기 때문에, 설치를 권장합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`npm install concurrently --save-dev
# OR
npm install -g concurrently
`})}),`
`,n.jsx(e.h2,{children:"사용법"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`concurrently "command1 arg" "command2 arg"
`})}),`
`,n.jsx(e.p,{children:"이렇게 사용하여 여러 개의 명령어를 동시에 실행할 수 있습니다. 위 명령어는 아무런 옵션을 주지 않은 것이고, 명령어 중에 몇 가지만 소개하겠습니다."}),`
`,n.jsx(e.h3,{children:"-p, --prefix"}),`
`,n.jsx(e.p,{children:"명령어를 실행할 때, 각 명령어의 prefix를 지정할 수 있습니다. 이를 통해, 각 명령어의 실행 결과를 구분할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`concurrently --prefix "[{time}]" "command1 arg" "command2 arg"
# OR
concurrently --prefix "[{pid}]" "command1 arg" "command2 arg"
# OR
concurrently --prefix "[{command}]" "command1 arg" "command2 arg"
`})}),`
`,n.jsx(e.h3,{children:"-l, --prefix-length"}),`
`,n.jsx(e.p,{children:"prefix의 길이를 지정할 수 있습니다. 기본값이 10이기 때문에, 명령어가 짤려서 나올 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`concurrently --prefix "[{time}]" --prefix-length 20 "command1 arg" "command2 arg"
`})}),`
`,n.jsx(e.h3,{children:"-c, --prefix-colors"}),`
`,n.jsx(e.p,{children:"prefix의 색을 지정할 수 있습니다. 기본값은 랜덤입니다. #RRGGBB 형식으로도 지정할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`concurrently --prefix "[{time}]" --prefix-colors "red.bold,green.bold,blue.bold" "command1 arg" "command2 arg"
`})}),`
`,n.jsx(e.h3,{children:"-k, --kill-others"}),`
`,n.jsx(e.p,{children:"하나의 명령어가 종료되면, 다른 명령어도 종료시킵니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`concurrently --kill-others "command1 arg" "command2 arg"
`})}),`
`,n.jsx(e.h3,{children:"-n, --names"}),`
`,n.jsx(e.p,{children:"명령어의 이름을 지정할 수 있습니다. 이를 통해, 각 명령어의 실행 결과를 구분할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`concurrently --names "command1,command2" "command1 arg" "command2 arg"
`})}),`
`,n.jsx(e.h2,{children:"Example"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`concurrently --prefix "[{time}]" --prefix-length 20 --prefix-colors "red.bold,green.bold,blue.bold" --kill-others --names "command1,command2" "command1 arg" "command2 arg"
`})})]})}function jRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(lI,{...t})}):lI(t)}const SRe=je({});function wRe(){return n.jsx(Se,{children:n.jsx(jRe,{components:SRe})})}const TRe=ve("/_layout/til/cli/concurrently_js")({component:wRe,head:()=>({meta:[{title:"concurrently js"}]})});function cI(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Bat"}),`
`,n.jsx(e.p,{children:"전통적으로 유닉스나 리눅스는 여러 파일을 합치거나 파일 내용을 터미널을 출력할 경우 cat 명령어를 사용해 왔습니다."}),`
`,n.jsx(e.p,{children:"bat 은 cat 대신 사용할 수 있는 명령어로 문법 강조(syntax highlight), git 통합, 자동 페이징 등 다양한 기능을 갖고 있습니다."}),`
`,n.jsx(e.h1,{children:"Install"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ brew install bat
`})}),`
`,n.jsx(e.h1,{children:"Usage"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ bat [options] [FILES]...
`})}),`
`,n.jsx(e.p,{children:"예를들면,"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ bat README.md # 한 개의 파일 열기
$ bat README1.md README2.md # 두 개의 파일 열기
$ bat *.md # 여러 개의 파일 열기
$ bat header.md content.md footer.md > document.md # 여러 개의 파일을 하나로 합치기
$ curl -s https://sh.rustup.rs | bat

`})}),`
`,n.jsx(e.p,{children:"지원하는 Syntax Highlighting 보려면  --list-languages 사용합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-bash",children:`$ bat --list-languages
`})})]})}function CRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(cI,{...t})}):cI(t)}const MRe=je({});function ERe(){return n.jsx(Se,{children:n.jsx(CRe,{components:MRe})})}const ARe=ve("/_layout/til/cli/bat")({component:ERe,head:()=>({meta:[{title:"bat"}]})});function hI(t){const e={h1:"h1",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"View in HTML Layer 3D"}),`
`,n.jsx(e.p,{children:"Google Chrome에서 현재 화면의 레이어를 3D로 표시한 것을 보는 방법이 있습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Chrome 개발자 도구를 킨다."}),`
`,n.jsx(e.li,{children:"오른쪽 상단에 더보기 표시를 클릭하여 메뉴를 확인한다."}),`
`,n.jsx(e.li,{children:"More Tools를 클릭한다."}),`
`,n.jsx(e.li,{children:"Layers를 클릭한다."}),`
`,n.jsx(e.li,{children:"기본 옵션으로는 상하좌우로 움직일 수 있는 모드이지만, Layers 메뉴의 상단에 회전 아이콘을 클릭한다."}),`
`,n.jsx(e.li,{children:"Layers 메뉴의 화면을 드래그 해보면 Layers가 회전하는 것을 볼 수 있다."}),`
`]}),`
`,n.jsx(e.p,{children:"z-index를 확인하거나, 웹 페이지의 전체 모습을 확인할 때 유용하게 사용할 수 있을 것 같다."})]})}function RRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(hI,{...t})}):hI(t)}const LRe=je({});function DRe(){return n.jsx(Se,{children:n.jsx(RRe,{components:LRe})})}const kRe=ve("/_layout/til/browser/view-in-html-Layer-3d")({component:DRe,head:()=>({meta:[{title:"view in html Layer 3d"}]})});function uI(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Reflow And Repaint"}),`
`,n.jsx(e.h2,{children:"브라우저의 렌더링 과정"}),`
`,n.jsx(e.p,{children:"브라우저는 HTML, CSS, JavaScript를 해석하여 화면에 표시하는데, 이 과정을 렌더링이라고 한다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"DOM Tree 구축"}),": HTML 문서를 파싱하여 DOM Tree를 생성한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"CSSOM Tree 구축"}),": CSS 파일을 파싱하여 CSSOM Tree를 생성한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Render Tree 구축"}),": DOM Tree와 CSSOM Tree를 결합하여 Render Tree를 생성한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Layout"}),": Render Tree를 기반으로 각 노드의 크기와 위치를 계산한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Paint"}),": 레이아웃을 기반으로 화면에 픽셀을 그린다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Composite"}),": 레이어를 합성하여 화면에 표시한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Reflow"}),": 레이아웃을 재계산하는 과정이다. DOM 요소의 크기나 위치가 변경되면 해당 요소와 하위 요소의 레이아웃을 다시 계산한다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"Reflow와 Repaint"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Reflow"}),": 레이아웃을 재계산하는 과정이다. DOM 요소의 크기나 위치가 변경되면 해당 요소와 하위 요소의 레이아웉을 다시 계산한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Repaint"}),": 화면을 다시 그리는 과정이다. 레이아웃이 변경되면 레이아웃을 기반으로 화면을 다시 그린다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"Reflow 발생 조건"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"DOM 요소 추가, 삭제, 변경"}),`
`,n.jsx(e.li,{children:"DOM 요소의 위치, 크기 변경"}),`
`,n.jsx(e.li,{children:"CSS 스타일 변경"}),`
`,n.jsx(e.li,{children:"브라우저 리사이징"}),`
`,n.jsx(e.li,{children:"폰트 로딩"}),`
`,n.jsx(e.li,{children:"스크롤"}),`
`,n.jsx(e.li,{children:"등.."}),`
`]}),`
`,n.jsx(e.h3,{children:"Reflow 최적화"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Batching"}),": 여러 개의 DOM 요소를 변경할 때, 한 번에 처리하면 Reflow 횟수를 줄일 수 있다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Document Fragment"}),": Document Fragment를 사용하여 DOM 요소를 메모리에 추가한 후, 한 번에 DOM에 추가하면 Reflow 횟수를 줄일 수 있다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Document Fragment는 메모리에 존재하는 가상 DOM이다."}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"CSS 최적화"}),": CSS 선택자를 최대한 간단하게 작성하고, CSS 애니메이션을 사용할 때는 GPU 가속을 활용한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"CSS 애니메이션"}),": CSS 애니메이션을 사용할 때는 ",n.jsx(e.code,{children:"transform"}),"과 ",n.jsx(e.code,{children:"opacity"}),"를 사용하여 GPU 가속을 활용한다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"CSS 애니메이션 최적화"}),": CSS 애니메이션을 사용할 때는 ",n.jsx(e.code,{children:"will-change"})," 속성을 사용하여 레이어를 미리 생성한다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"Repaint 최적화"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"이미지 최적화"}),": 이미지를 최적화하여 불필요한 리소스를 줄인다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"레이어 최적화"}),": 레이어를 사용하여 화면을 합성하면 Repaint 횟수를 줄일 수 있다."]}),`
`]})]})}function NRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(uI,{...t})}):uI(t)}const PRe=je({});function ORe(){return n.jsx(Se,{children:n.jsx(NRe,{components:PRe})})}const BRe=ve("/_layout/til/browser/reflow-and-repaint")({component:ORe,head:()=>({meta:[{title:"reflow and repaint"}]})});function dI(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Page Visibility API"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Page Visibility API"}),"는 브라우저가 visible 또는 focus 상태인지, 개발자가 알 수 있도록 도와주는 API입니다. 브라우저에서 다른 탭을 선택하거나, 최소화하여 화면을 보고 있지 않을 경우에 혹은 보기 시작했을 때를 알려줍니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Page Visibility API"}),"는 ",n.jsx(e.code,{children:"addEventListener"}),"로 이벤트 리스너를 등록함으로서 사용이 가능한 API입니다. 저는 항상 불만에 가득찬 이벤트 리스너를 만들어 보겠습니다."]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`document.addEventListener('visibilitychange', () => {
	if (document.hidden) {
		console.log('저를 봐주세요. 외롭네요.');
	} else {
		console.log('그만 봐주세요. 부담스럽네요.');
	}
});
`})}),`
`,n.jsxs(e.p,{children:["이렇게 간단하게, ",n.jsx(e.code,{children:"Page Visibility API"}),"를 사용할 수 있습니다."]}),`
`,n.jsx(e.p,{children:"다만, 모든 브라우저와 기기에 따라서 변수명이 조금씩 다르게 제공되고 있어서 아래의 작업을 해주어야합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`let hidden, visibilityChange;
if (typeof document.hidden !== "undefined") { // Opera 12.10 and Firefox 18 and later support
  hidden = "hidden";
  visibilityChange = "visibilitychange";
} else if (typeof document.msHidden !== "undefined") {
  hidden = "msHidden";
  visibilityChange = "msvisibilitychange";
} else if (typeof document.webkitHidden !== "undefined") {
  hidden = "webkitHidden";
  visibilityChange = "webkitvisibilitychange";
}

document.addEventListener(visibilitychange, () => {
	if (document[hidden]) {
		console.log('저를 봐주세요. 외롭네요.');
	} else {
		console.log('그만 봐주세요. 부담스럽네요.');
	}
});
`})})]})}function IRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(dI,{...t})}):dI(t)}const FRe=je({});function URe(){return n.jsx(Se,{children:n.jsx(IRe,{components:FRe})})}const zRe=ve("/_layout/til/browser/page-visibility-api")({component:URe,head:()=>({meta:[{title:"page visibility api"}]})});function fI(t){const e={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:`title: 웹 브라우저의 동작 원리
image: /images/blogs/default_thumbnail.webp
draft: false
summary: 브라우저의 동작에 대해서 작성하였습니다.
description: 브라우저의 동작에 대해서 작성하였습니다.
author: Gitsunmin
date: 2024-05-29 12:00:00
math: true
draft: true`}),`
`,n.jsx(e.h2,{children:"서론"}),`
`,n.jsx(e.p,{children:"웹 브라우저는 현대 디지털 시대에서 가장 중요한 소프트웨어 중 하나로, 사용자와 인터넷 사이의 인터페이스 역할을 합니다. 대부분의 사용자들은 브라우저를 통해 웹 사이트에 접근하고 정보를 얻으며, 온라인 상호작용을 수행합니다. 하지만, 많은 사람들은 브라우저가 어떻게 작동하는지에 대해 잘 알지 못합니다. 본 문서에서는 웹 브라우저의 동작 원리에 대해 자세히 설명하고, 이를 이해하는 데 필요한 주요 개념들을 다룰 것입니다."}),`
`,n.jsx(e.h2,{children:"본론"}),`
`,n.jsx(e.h3,{children:"1. 웹 브라우저의 구조"}),`
`,n.jsx(e.p,{children:"웹 브라우저는 여러 가지 구성 요소로 이루어져 있으며, 각 구성 요소는 특정한 역할을 수행합니다. 주요 구성 요소는 다음과 같습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"사용자 인터페이스(User Interface):"})," 브라우저 창에 표시되는 모든 부분을 포함합니다. 주소 표시줄, 이전/다음 버튼, 북마크 메뉴 등이 여기에 포함됩니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"브라우저 엔진(Browser Engine):"})," 사용자 인터페이스와 렌더링 엔진 사이의 동작을 제어합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"렌더링 엔진(Rendering Engine):"})," HTML과 CSS를 파싱하고, 이를 통해 웹 페이지를 표시합니다. 대표적인 렌더링 엔진으로는 Gecko(Firefox), WebKit(Safari), Blink(Chrome/Edge)가 있습니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"네트워킹(Networking):"})," HTTP 요청을 처리하고 서버와의 통신을 담당합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"자바스크립트 해석기(JavaScript Interpreter):"})," 자바스크립트 코드를 해석하고 실행합니다. 각 브라우저는 V8(Chrome), SpiderMonkey(Firefox), Nitro(Safari) 등 다양한 자바스크립트 엔진을 사용합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"UI 백엔드(UI Backend):"})," UI 요소를 그리는 데 사용됩니다. 일반적으로 운영 체제의 UI 라이브러리를 사용합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"데이터 저장소(Data Storage):"})," 쿠키, 로컬 스토리지, 인덱스드 DB와 같은 데이터를 저장합니다."]}),`
`]}),`
`,n.jsx(e.h3,{children:"2. 브라우저의 동작 과정"}),`
`,n.jsx(e.p,{children:"웹 브라우저가 웹 페이지를 로드하고 표시하는 과정은 다음과 같은 단계로 이루어집니다:"}),`
`,n.jsx(e.h4,{children:"2.1. URL 입력 및 요청"}),`
`,n.jsx(e.p,{children:"사용자가 주소 표시줄에 URL을 입력하고 엔터 키를 누르면, 브라우저는 이 URL을 분석하여 HTTP 요청을 생성합니다. 이 요청은 DNS(Domain Name System)를 통해 도메인 이름을 IP 주소로 변환한 후, 해당 서버로 전송됩니다."}),`
`,n.jsx(e.h4,{children:"2.2. 서버 응답 및 데이터 수신"}),`
`,n.jsx(e.p,{children:"서버는 브라우저의 요청을 처리하고, 요청된 리소스(HTML, CSS, 자바스크립트 파일 등)를 응답으로 보냅니다. 브라우저는 이 데이터를 수신하여 렌더링 엔진에 전달합니다."}),`
`,n.jsx(e.h4,{children:"2.3. HTML 파싱 및 DOM 트리 구축"}),`
`,n.jsx(e.p,{children:"렌더링 엔진은 수신한 HTML 파일을 파싱하여 DOM(Document Object Model) 트리를 구축합니다. DOM 트리는 웹 페이지의 구조와 내용을 나타내는 계층적 표현입니다."}),`
`,n.jsx(e.h4,{children:"2.4. CSS 파싱 및 스타일 규칙 적용"}),`
`,n.jsx(e.p,{children:"브라우저는 HTML과 함께 수신한 CSS 파일을 파싱하여 CSSOM(CSS Object Model) 트리를 생성합니다. 그런 다음, DOM 트리와 CSSOM 트리를 결합하여 렌더 트리(Render Tree)를 생성합니다. 이 렌더 트리는 웹 페이지의 시각적 표현을 나타냅니다."}),`
`,n.jsx(e.h4,{children:"2.5. 자바스크립트 실행"}),`
`,n.jsx(e.p,{children:"브라우저는 HTML 파싱 도중 발견된 자바스크립트 코드를 자바스크립트 엔진을 통해 실행합니다. 자바스크립트는 DOM 트리와 CSSOM 트리를 동적으로 변경할 수 있습니다."}),`
`,n.jsx(e.h4,{children:"2.6. 레이아웃 및 페인트"}),`
`,n.jsx(e.p,{children:"렌더 트리가 생성되면, 브라우저는 각 요소의 정확한 위치와 크기를 계산하는 레이아웃(Layout) 과정을 거칩니다. 이후, 계산된 정보를 바탕으로 각 요소를 화면에 그리는 페인트(Paint) 과정을 수행합니다."}),`
`,n.jsx(e.h3,{children:"3. 렌더링 최적화"}),`
`,n.jsx(e.p,{children:"브라우저는 웹 페이지의 렌더링 성능을 최적화하기 위해 여러 가지 기술을 사용합니다. 대표적인 최적화 기술은 다음과 같습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"비동기 자바스크립트 로딩:"})," ",n.jsx(e.code,{children:"async"})," 및 ",n.jsx(e.code,{children:"defer"})," 속성을 사용하여 자바스크립트 파일을 비동기적으로 로드하여 HTML 파싱을 차단하지 않도록 합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"레이아웃 및 페인트 최적화:"})," 변경된 요소만을 다시 레이아웃하고 페인트하는 최적화 기법을 사용하여 불필요한 작업을 줄입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"캐싱:"})," 자주 사용하는 리소스를 캐시에 저장하여 네트워크 요청을 줄이고 로딩 속도를 향상시킵니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsx(e.p,{children:"웹 브라우저는 복잡한 소프트웨어로, 사용자가 입력한 URL을 기반으로 웹 페이지를 로드하고 화면에 표시하기까지 여러 단계의 과정을 거칩니다. 이 과정에는 HTML, CSS, 자바스크립트 파싱, DOM 및 렌더 트리 생성, 레이아웃 및 페인트 등의 다양한 작업이 포함됩니다. 브라우저는 또한 최적화를 통해 웹 페이지의 렌더링 성능을 향상시키기 위해 노력합니다. 웹 브라우저의 동작 원리를 이해함으로써, 개발자들은 보다 효율적이고 사용자 친화적인 웹 애플리케이션을 설계할 수 있습니다."}),`
`,n.jsx(e.h2,{children:"참조"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["MDN Web Docs: ",n.jsx(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Performance/How_browsers_work",children:"How browsers work"})]}),`
`,n.jsxs(e.li,{children:["Google Developers: ",n.jsx(e.a,{href:"https://developers.google.com/web/updates/2018/09/inside-browser-part1",children:"Inside look at modern web browser"})]}),`
`,n.jsxs(e.li,{children:["Mozilla Developer Network: ",n.jsx(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Performance/How_browsers_work#the_rendering_engine",children:"Rendering Engine"})]}),`
`,n.jsxs(e.li,{children:["Chrome V8 Engine: ",n.jsx(e.a,{href:"https://v8.dev/",children:"V8 JavaScript Engine"})]}),`
`]})]})}function HRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(fI,{...t})}):fI(t)}const VRe=je({});function GRe(){return n.jsx(Se,{children:n.jsx(HRe,{components:VRe})})}const $Re=ve("/_layout/til/browser/how-to-work-browser")({component:GRe,head:()=>({meta:[{title:"how to work browser"}]})});function pI(t){const e={a:"a",h1:"h1",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Checking the Console Log in Mobile Chrome"}),`
`,n.jsx(e.p,{children:"모바일 크롬에서 웹을 실행 시킨 후에 콘솔의 로그를 확인하는 방법입니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"모바일 기기에서 크롬을 실행시킵니다."}),`
`,n.jsxs(e.li,{children:["모바일 크롬에서 ",n.jsx(e.a,{href:"chrome://inspect/#devices",children:"chrome://inspect/#devices"})," 여기를 방문합니다."]}),`
`,n.jsx(e.li,{children:'"로깅 시작" 버튼을 눌러서 로그를 볼 수 있는 환경을 만듭니다.'}),`
`,n.jsx(e.li,{children:"로그를 찍고 싶은 탭으로 이동하여 로그를 찍습니다.."}),`
`,n.jsxs(e.li,{children:["다시 ",n.jsx(e.a,{href:"chrome://inspect/#devices",children:"chrome://inspect/#devices"}),"가 있는 탭으로 이동해 보면, 로그가 찍혀 있는 것을 볼 수 있습니다."]}),`
`]})]})}function qRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(pI,{...t})}):pI(t)}const WRe=je({});function XRe(){return n.jsx(Se,{children:n.jsx(qRe,{components:WRe})})}const YRe=ve("/_layout/til/browser/checking-the-console-log-in-mobile-chrome")({component:XRe,head:()=>({meta:[{title:"checking the console log in mobile chrome"}]})});function mI(t){const e={code:"code",h1:"h1",li:"li",ol:"ol",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"2024 05, New Feature of Chrome"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"Emulate a focused page"}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Open the DevTools"}),`
`,n.jsx(e.li,{children:"Elements 탭 진입"}),`
`,n.jsx(e.li,{children:"Elements > Styles 탭 진입"}),`
`,n.jsxs(e.li,{children:["Elements > Styles > Filter 입력 창 옆에 ",n.jsx(e.code,{children:":hov"})," 클릭"]}),`
`,n.jsx(e.li,{children:"포커싱이 유지되었으면 하는 요소를 클릭"}),`
`,n.jsx(e.li,{children:"Elements > Styles에 나타난 Emulate a focused page를 클릭"}),`
`]}),`
`,n.jsxs(e.ol,{start:"2",children:[`
`,n.jsx(e.li,{children:"CSS 우선순위 확인하기"}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Open the DevTools"}),`
`,n.jsx(e.li,{children:"Elements 탭 진입"}),`
`,n.jsx(e.li,{children:"Elements > Styles 탭 진입"}),`
`,n.jsx(e.li,{children:"Element를 선택하여 해당 Element의 style을 확인"}),`
`,n.jsx(e.li,{children:"CSS 선택자에 마우스를 올리면 우선순위가 나타남"}),`
`]}),`
`,n.jsxs(e.ol,{start:"3",children:[`
`,n.jsx(e.li,{children:"에러 메시지 AI로부터 설명 제공 받기"}),`
`]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Open the DevTools"}),`
`,n.jsx(e.li,{children:"오른쪽 상단의 톱니바퀴 클릭"}),`
`,n.jsxs(e.li,{children:["Console 섹션의 ",n.jsx(e.code,{children:"Understanding console messages with AI"}),"를 활성화"]}),`
`,n.jsx(e.li,{children:"Console 탭의 에러 메시지의 오른쪽 전구 모양 아이콘 클릭하면 AI가 에러 메시지를 설명해줌"}),`
`]})]})}function KRe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(mI,{...t})}):mI(t)}const ZRe=je({});function QRe(){return n.jsx(Se,{children:n.jsx(KRe,{components:ZRe})})}const JRe=ve("/_layout/til/browser/2024-05-new-feature-of-chrome")({component:QRe,head:()=>({meta:[{title:"2024 05 new feature of chrome"}]})});function gI(t){const e={code:"code",h1:"h1",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Two Pointer Algorithm"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"Two-Pointer"})," 알고리즘은 배열이나 리스트에서 두 개의 포인터(인덱스)를 사용하여 문제를 해결하는 기법입니다. 이 알고리즘은 주로 배열이나 리스트에서 특정 조건을 만족하는 두 요소를 찾거나 최적해를 빠르게 도출할 때 사용됩니다. 특히, 배열의 양 끝에서 시작해서 조건에 따라 한쪽 혹은 양쪽 포인터를 이동시키면서 문제를 해결하는 것이 특징입니다."]}),`
`,n.jsx(e.h4,{children:"Two-Pointer 알고리즘의 동작 방식"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"두 개의 포인터 설정"}),": 배열의 양 끝에 두 개의 포인터(보통 하나는 시작(",n.jsx(e.code,{children:"s"}),"), 다른 하나는 끝(",n.jsx(e.code,{children:"e"}),"))를 설정합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"조건에 따른 포인터 이동"}),": 문제에서 요구하는 조건에 맞게 포인터를 이동시킵니다. 두 포인터를 비교하면서 하나 혹은 양쪽을 이동시키는 방식입니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"포인터가 교차할 때까지 반복"}),": 두 포인터가 서로 교차하거나 특정 종료 조건에 도달할 때까지 반복합니다."]}),`
`]}),`
`,n.jsx(e.p,{children:"이 방식은 이진 탐색처럼 분할 정복에 가깝고, 순차적으로 진행하는 방법보다 효율적인 풀이를 가능하게 해줍니다."}),`
`,n.jsx(e.h4,{children:"대표적인 예시 문제: Container With Most Water"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"문제 설명"}),": 주어진 배열에서 각 요소는 해당 위치의 높이를 나타냅니다. 이 배열을 이용하여, 두 개의 막대와 x축이 만드는 컨테이너 중 가장 많은 물을 담을 수 있는 컨테이너의 면적을 구하는 문제입니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"예시"}),":"]}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`export function maxArea(height: number[]): number {
    let s = 0, e = height.length - 1, max = 0;

    while (s < e) {
        max = Math.max((e - s) * Math.min(height[s], height[e]), max);
        if (height[s] < height[e]) s++;
        else e--;
    }
    return max;
};
`})}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"알고리즘 설명"}),":"]}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:["두 포인터 ",n.jsx(e.code,{children:"s"}),"와 ",n.jsx(e.code,{children:"e"}),"를 각각 배열의 양 끝에 배치합니다."]}),`
`,n.jsx(e.li,{children:"두 막대 사이의 거리를 구하고, 그 거리에 더 작은 막대의 높이를 곱하여 면적을 계산합니다."}),`
`,n.jsx(e.li,{children:"면적의 최대값을 저장하며, 더 작은 막대를 기준으로 포인터를 이동시킵니다. (더 작은 막대를 이동하는 이유는 더 큰 높이를 유지하면서 더 큰 면적을 찾기 위해서입니다.)"}),`
`,n.jsx(e.li,{children:"두 포인터가 만날 때까지 이를 반복하여 가장 큰 면적을 반환합니다."}),`
`]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"시간 복잡도"}),": 이 알고리즘은 배열을 한 번 순회하기 때문에 ",n.jsx(e.code,{children:"O(n)"}),"입니다."]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"공간 복잡도"}),": 추가적인 공간을 거의 사용하지 않으므로 ",n.jsx(e.code,{children:"O(1)"}),"입니다."]}),`
`,n.jsx(e.h4,{children:"Two-Pointer 알고리즘의 대표적인 활용"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"Two Sum 문제"}),": 정렬된 배열에서 두 수의 합이 특정 목표 값이 되는 경우를 찾는 문제입니다. 배열의 양 끝에서 시작하여 두 수의 합을 구하고, 합이 목표보다 크면 오른쪽 포인터를 줄이고, 작으면 왼쪽 포인터를 이동시켜서 문제를 해결합니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"Palindrome 검사"}),": 문자열의 양 끝에서부터 하나씩 문자를 비교하여 대칭 여부를 확인하는 문제입니다. 두 포인터가 중앙에서 만나면 종료합니다."]}),`
`]}),`
`]}),`
`,n.jsx(e.h4,{children:"장점"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"배열을 효율적으로 탐색할 수 있어 시간 복잡도를 줄여줍니다."}),`
`,n.jsx(e.li,{children:"메모리 사용을 최소화하는 간결한 방식으로 문제를 해결할 수 있습니다."}),`
`]}),`
`,n.jsx(e.h3,{children:"결론"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"Two-Pointer 알고리즘"}),'은 배열에서 최적해를 빠르게 도출하는 데 유용한 도구입니다. 특정 범위에서 최적해를 찾거나, 두 요소의 조건을 비교하는 문제에서 매우 효과적이며, 대표적으로 "Container With Most Water"와 같은 문제에서 사용됩니다.']})]})}function eLe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(gI,{...t})}):gI(t)}const tLe=je({});function nLe(){return n.jsx(Se,{children:n.jsx(eLe,{components:tLe})})}const iLe=ve("/_layout/til/algorithm/two-pointer-algorithm")({component:nLe,head:()=>({meta:[{title:"two pointer algorithm"}]})});function xI(t){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"The Tortoise and Hare Algorithm"}),`
`,n.jsxs(e.p,{children:["물론이죠! 아래는 ",n.jsx(e.strong,{children:"TIL"})," 문서로 사용할 수 있도록 정리한 내용입니다."]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:"개요"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"The Tortoise and Hare Algorithm"}),", 또는 ",n.jsx(e.strong,{children:"Floyd's Cycle Detection Algorithm"}),"은 ",n.jsx(e.strong,{children:"연결 리스트에서 사이클이 있는지 탐지"}),"하는 문제를 해결하기 위한 알고리즘입니다. 이 알고리즘은 두 개의 포인터(하나는 느리게 이동하고, 다른 하나는 빠르게 이동하는 포인터)를 이용하여 리스트를 순회하면서, 사이클이 존재하는지 탐지합니다."]}),`
`,n.jsx(e.h2,{children:"알고리즘 설명"}),`
`,n.jsx(e.h3,{children:"1. 알고리즘의 핵심 개념"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Tortoise (거북이)"}),": 한 번에 한 칸씩 이동하는 포인터 (",n.jsx(e.code,{children:"slow"}),")."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Hare (토끼)"}),": 한 번에 두 칸씩 이동하는 포인터 (",n.jsx(e.code,{children:"fast"}),")."]}),`
`]}),`
`,n.jsxs(e.p,{children:["두 포인터는 연결 리스트를 순회하면서, 만약 사이클이 존재한다면 결국 만나게 됩니다. 사이클이 없으면 ",n.jsx(e.code,{children:"fast"})," 포인터가 끝에 도달하고 탐색을 종료하게 됩니다."]}),`
`,n.jsx(e.h3,{children:"2. 동작 원리"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"초기화"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["두 포인터 ",n.jsx(e.code,{children:"slow"}),"와 ",n.jsx(e.code,{children:"fast"}),"는 리스트의 ",n.jsx(e.code,{children:"head"}),"에서 시작합니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"포인터 이동"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"slow"}),"는 한 번에 한 칸씩 이동하고, ",n.jsx(e.code,{children:"fast"}),"는 한 번에 두 칸씩 이동합니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"만남 탐지"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"slow"}),"와 ",n.jsx(e.code,{children:"fast"}),"가 같은 노드를 가리키면, 이는 리스트에 ",n.jsx(e.strong,{children:"사이클이 존재"}),"한다는 뜻입니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"사이클이 없는 경우"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"fast"}),"가 ",n.jsx(e.code,{children:"null"}),"에 도달하면, 사이클이 없다고 판단하고 종료합니다."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h3,{children:"3. 시간 및 공간 복잡도"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"시간 복잡도"}),": O(n)",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["리스트의 모든 노드를 한 번씩만 탐색하므로, 리스트의 노드 개수가 ",n.jsx(e.code,{children:"n"}),"일 때 **O(n)**의 시간이 소요됩니다."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"공간 복잡도"}),": O(1)",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"두 개의 포인터만 사용하므로 추가적인 메모리 사용이 거의 없으며, 상수 공간만 차지합니다."}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"알고리즘 구현 (TypeScript)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`class ListNode {
    val: number;
    next: ListNode | null;
    constructor(val?: number, next?: ListNode | null) {
        this.val = (val === undefined ? 0 : val);
        this.next = (next === undefined ? null : next);
    }
}

function hasCycle(head: ListNode | null): boolean {
    if (!head || !head.next) {
        return false; // 리스트가 비어있거나 노드가 하나뿐이면 사이클이 있을 수 없음
    }

    let slow: ListNode | null = head;
    let fast: ListNode | null = head;

    while (fast && fast.next) {
        slow = slow!.next;           // 한 칸씩 이동
        fast = fast.next.next;       // 두 칸씩 이동

        if (slow === fast) {
            return true; // slow와 fast가 만나면 사이클이 있음
        }
    }

    return false; // fast가 null에 도달하면 사이클이 없음
}
`})}),`
`,n.jsx(e.h3,{children:"예시"}),`
`,n.jsx(e.p,{children:"연결 리스트가 다음과 같다고 가정:"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:`3 -> 2 -> 0 -> -4
     ^         |
     |_________|
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["마지막 노드 ",n.jsx(e.code,{children:"-4"}),"는 1번 노드 ",n.jsx(e.code,{children:"2"}),"로 연결되어 ",n.jsx(e.strong,{children:"사이클"}),"이 발생합니다."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"hasCycle"})," 함수는 이 연결 리스트에서 두 포인터가 반복해서 순회한 뒤 만남을 감지하여 ",n.jsx(e.strong,{children:"사이클이 존재함"}),"을 반환합니다."]}),`
`]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"The Tortoise and Hare Algorithm"}),"은 간단하면서도 매우 효율적인 ",n.jsx(e.strong,{children:"사이클 탐지 알고리즘"}),"입니다."]}),`
`,n.jsx(e.li,{children:"시간 복잡도는 O(n), 공간 복잡도는 O(1)로 대규모 데이터에서도 성능이 뛰어납니다."}),`
`,n.jsx(e.li,{children:"이 알고리즘은 연결 리스트뿐만 아니라, 다른 순환 구조를 가진 데이터 구조에도 응용할 수 있습니다."}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:"이 문서가 TIL 형식으로 적합하길 바랍니다! 필요한 수정 사항이 있거나 다른 포맷으로 작성이 필요하면 말씀해 주세요!"})]})}function rLe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(xI,{...t})}):xI(t)}const sLe=je({});function aLe(){return n.jsx(Se,{children:n.jsx(rLe,{components:sLe})})}const oLe=ve("/_layout/til/algorithm/tortoise-and-hare-algorithm")({component:aLe,head:()=>({meta:[{title:"tortoise and hare algorithm"}]})});function yI(t){const e={code:"code",h1:"h1",p:"p",pre:"pre",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Prefix Sum Algorithm"}),`
`,n.jsx(e.p,{children:"누적합 알고리즘은 배열의 원소들을 앞에서부터 순서대로 더한 누적합을 다른 배열에 저장해 놓는 것입니다. 이렇게 미리 누적합을 구해 놓으면, 이후에 배열의 어떤 구간의 합을 구할 때에는 누적합 배열에서 구간의 끝 인덱스에 해당하는 누적합과 구간의 시작 인덱스 바로 전의 누적합을 빼면 구간의 합을 구할 수 있습니다. 이 방법을 이용하면 구간의 합을 구하는 데에 반복적인 계산을 줄일 수 있습니다."}),`
`,n.jsx(e.p,{children:"하지만, 이 알고리즘을 사용하는 경우에는 누적합 배열을 구하는 데에 O(n)의 시간 복잡도가 들기 때문에, 배열의 크기가 작거나 구간의 합을 반복적으로 구하는 경우에만 유용합니다. 배열의 크기가 커지면 누적합 배열을 구하는 데에 시간이 오래 걸리게 되므로, 이 경우에는 다른 알고리즘을 사용하는 것이 더 효율적일 수 있습니다."}),`
`,n.jsx(e.p,{children:"아래에 예시 작성하였습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-typescript",children:`const ARRAY = [1, 3, 5, 7, 9, 10, 13];

const PREFIX_SUM_ARRAY = new Array(ARRAY.length).fill(0);

for (let i = 0; i < ARRAY.length; i++) PREFIX_SUM_ARRAY[i + 1] = PREFIX_SUM_ARRAY[i] + ARRAY[i];

const aa = ARRAY.slice(0, 4).reduce((a, b) => a + b, 0);
const bb = PREFIX_SUM_ARRAY[4];
console.log(aa === bb); // true

const aaa = ARRAY.slice(2, 4).reduce((a, b) => a + b, 0);
const bbb = PREFIX_SUM_ARRAY[4] - PREFIX_SUM_ARRAY[2];
console.log(aaa === bbb); // true
`})})]})}function lLe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(yI,{...t})}):yI(t)}const cLe=je({});function hLe(){return n.jsx(Se,{children:n.jsx(lLe,{components:cLe})})}const uLe=ve("/_layout/til/algorithm/prefix-sum-algorithm")({component:hLe,head:()=>({meta:[{title:"prefix sum algorithm"}]})});function vI(t){const e={h1:"h1",li:"li",ol:"ol",p:"p",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Implementation Algorithm"}),`
`,n.jsx(e.p,{children:"구현 알고리즘(Implementation Algorithm)은 문제 해결을 위한 프로그래밍 기술 중 하나로, 주어진 문제를 코드로 변환하는 과정입니다."}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"기본 문법 숙지: 사용하는 프로그래밍 언어의 기본 문법을 숙지해야 합니다. 예를 들어, 변수, 조건문, 반복문, 함수 등의 개념을 이해하고 활용할 수 있어야 합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"문제 해결 전략 수립: 문제를 해결하기 위한 전략을 수립해야 합니다. 문제를 잘 이해하고, 어떤 방식으로 접근할지 생각해 보세요. 필요한 경우, 문제를 작은 부분으로 나누어 해결해 나갈 수도 있습니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"자료 구조와 알고리즘 사용: 자료 구조와 알고리즘은 문제 해결의 핵심입니다. 배열, 리스트, 스택, 큐, 그래프, 트리 등 다양한 자료 구조를 이해하고, 탐색, 정렬, 최단 경로 찾기 등의 알고리즘을 사용할 줄 알아야 합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"코드 작성 연습: 문제 해결 전략을 세운 후, 실제로 코드를 작성 합니다. 처음부터 완벽한 코드를 작성하기보다는, 작은 부분부터 점진적으로 완성합니다."}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"테스트와 디버깅: 작성한 코드를 실행하여 결과를 확인하고, 오류가 있는 경우 디버깅을 통해 문제를 해결합니다. 테스트 케이스를 여러 개 사용해 코드가 정확하게 작동하는지 확인합니다."}),`
`]}),`
`]})]})}function dLe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(vI,{...t})}):vI(t)}const fLe=je({});function pLe(){return n.jsx(Se,{children:n.jsx(dLe,{components:fLe})})}const mLe=ve("/_layout/til/algorithm/implementation-algorithm")({component:pLe,head:()=>({meta:[{title:"implementation algorithm"}]})});function _I(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Depth-First Search Algorithm"}),`
`,n.jsx(e.p,{children:"Depth-First Search Algorithm(=DFS)은 깊이 우선 탐색으로서, 자료구조인 Graph를 탐색하는 방법중 하나입니다."}),`
`,n.jsx(e.h2,{children:"Grapgh"}),`
`,n.jsx(e.p,{children:"Graph는 아래의 도표와 같이 표현하는 자료구조이며, 동그라미를 정점(Vertex) 또는 노드(Node), 동그라미를 이어주는 선을 간선(Edge)이라고 표현합니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-mermaid",children:`flowchart LR
    A((A))
    B((B))
    C((C))
    D((D))
    E((E))
    F((F))
    G((G))
    H((H))
    I((I))

    A---B

    B---D
    B---E
    D---E

    A---C

    C---F
    F---G
    G---H
    G---I
    I---C
`})}),`
`,n.jsx(e.p,{children:"프로그래밍 언어로서 표현하면 아래와 같이 표현할 수 있습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{children:`graph = {
    'A': ['B', 'C'],
    'B': ['A', 'D', 'E'],
    'C': ['A', 'F', 'I'],
    'D': ['B', 'E'],
    'E': ['B', 'D'],
    'F': ['C', 'G'],
    'G': ['F', 'H', 'I'],
    'H': ['G'],
    'I': ['G', 'C']
}
`})}),`
`,n.jsx(e.h2,{children:"DFS"}),`
`,n.jsx(e.p,{children:`DFS는 위 Graph를 탐색하는 것이며, 이름 그대로 깊이를 우선적으로 탐색하는 방법입니다.
시작 노드를 A로 하여 아래에 탐색 순서를 작성하였습니다.`}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:["시작 노드 A를 방문하고, 방문한 노드 목록에 추가합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A]"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["인접한 노드들 중 아직 방문하지 않은 노드를 찾아 이동합니다. 노드 A와 인접한 노드들은 B와 C입니다. 노드 B로 이동합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A, B]"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["노드 B와 인접한 노드들 중 아직 방문하지 않은 노드를 찾습니다. 인접한 노드들은 A, D, E입니다. 이미 방문한 노드 A를 제외하고 노드 D로 이동합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A, B, D]"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["노드 D와 인접한 노드들 중 아직 방문하지 않은 노드를 찾습니다. 인접한 노드들은 B와 E입니다. 이미 방문한 노드 B를 제외하고 노드 E로 이동합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A, B, D, E]"}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"노드 E와 인접한 노드들 중 아직 방문하지 않은 노드를 찾습니다. 인접한 노드들은 B와 D이지만 이미 방문한 상태입니다. 이전 노드인 D로 돌아갑니다."}),`
`,n.jsx(e.li,{children:"노드 D에서 다시 인접한 노드 중 방문하지 않은 노드를 찾습니다. 이전에 확인한 노드 E를 제외하고 다른 노드가 없으므로, 더 이상 방문할 노드가 없습니다. 이전 노드인 B로 돌아갑니다."}),`
`,n.jsx(e.li,{children:"노드 B에서 인접한 노드 중 방문하지 않은 노드를 찾습니다. 이전에 확인한 노드 D와 E를 제외하고 다른 노드가 없으므로, 더 이상 방문할 노드가 없습니다. 이전 노드인 A로 돌아갑니다."}),`
`,n.jsxs(e.li,{children:["노드 A에서 인접한 노드 중 방문하지 않은 노드를 찾습니다. 노드 C로 이동합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A, B, D, E, C]"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["노드 C와 인접한 노드 중 방문하지 않은 노드를 찾습니다. 인접한 노드들은 A, F, I입니다. 이미 방문한 노드 A를 제외하고 노드 F로 이동합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A, B, D, E, C, F]"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["노드 F와 인접한 노드 중 방문하지 않은 노드를 찾습니다. 인접한 노드들은 C와 G입니다. 이미 방문한 노드 C를 제외하고 노드 G로 이동합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A, B, D, E, C, F, G]"}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["노드 G와 인접한 노드 중 방문하지 않은 노드를 찾습니다. 인접한 노드들은 F, H, I입니다. 이미 방문한 노드 F를 제외하고 노드 H로 이동합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A, B, D, E, C, F, G, H]"}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"노드 H와 인접한 노드 중 방문하지 않은 노드를 찾습니다. 인접한 노드는 G뿐이며 이미 방문한 상태입니다. 이전 노드인 G로 돌아갑니다."}),`
`,n.jsxs(e.li,{children:["노드 G에서 인접한 노드 중 방문하지 않은 노드를 찾습니다. 이전에 확인한 노드 F와 H를 제외하고 노드 I로 이동합니다.",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"방문한 노드: [A, B, D, E, C, F, G, H, I]"}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"노드 I와 인접한 노드 중 방문하지 않은 노드를 찾습니다. 인접한 노드들은 G와 C이지만 이미 방문한 상태입니다. 이전 노드인 G로 돌아갑니다."}),`
`,n.jsx(e.li,{children:"노드 G에서 인접한 노드 중 방문하지 않은 노드를 찾습니다. 이미 확인한 노드들 F, H, I를 제외하고 다른 노드가 없으므로, 더 이상 방문할 노드가 없습니다. 탐색을 종료합니다."}),`
`]}),`
`,n.jsx(e.p,{children:"방문 순서를 숫자로 표기하여 아래와 같이 다시 Graph를 그려보았습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-mermaid",children:`flowchart LR
    1((1))
    2((2))
    3((3))
    4((4))
    5((5))
    6((6))
    7((7))
    8((8))
    9((9))

    1---2

    2---3
    2---4
    3---4

    1---5

    5---6
    6---7
    7---8
    7---9
    9---5
`})}),`
`,n.jsx(e.p,{children:"DFS를 수행하는 javascript 코드를 작성하였습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-js",children:`const graph = {
  A: ['B', 'C'],
  B: ['A', 'D', 'E'],
  C: ['A', 'F', 'I'],
  D: ['B', 'E'],
  E: ['B', 'D'],
  F: ['C', 'G'],
  G: ['F', 'H', 'I'],
  H: ['G'],
  I: ['G', 'C']
};

function dfs(graph, startNode) {
  function explore(node, visited) {
    if (visited.has(node)) {
      return visited;
    }

    const newVisited = new Set(visited);
    newVisited.add(node);

    const neighbors = graph[node];
    return neighbors.reduce((acc, neighbor) => explore(neighbor, acc), newVisited);
  }

  const visited = explore(startNode, new Set());
  return Array.from(visited);
}

const visitedOrder = dfs(graph, 'A');
console.log(visitedOrder);
/** ['A', 'B', 'D', 'E', 'C', 'F', 'G', 'H', 'I'] */
`})})]})}function gLe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(_I,{...t})}):_I(t)}const xLe=je({});function yLe(){return n.jsx(Se,{children:n.jsx(gLe,{components:xLe})})}const vLe=ve("/_layout/til/algorithm/depth-first-search-algorithm")({component:yLe,head:()=>({meta:[{title:"depth first search algorithm"}]})});function bI(t){const e={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{children:"Optimal Text Contrast Calculation"}),`
`,n.jsxs(e.p,{children:["배경색에 따라 텍스트 가독성을 최적화하는 방법에 대해 배웠습니다. 특히 ",n.jsx(e.code,{children:"getBlackAndWhite"})," 함수를 통해 배경색의 밝기를 분석하고 적절한 텍스트 색상(검정 또는 흰색)을 자동으로 선택하는 방법을 알게 되었습니다."]}),`
`,n.jsx(e.h2,{children:"getBlackAndWhite"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`function getBlackAndWhite(bgColor: string): string {
  if (!bgColor || typeof bgColor !== 'string') {
    return '#000000';
  }

  const hex = bgColor.startsWith('#') ? bgColor.slice(1) : bgColor;

  const r = Number.parseInt(hex.substring(0, 2), 16);
  const g = Number.parseInt(hex.substring(2, 4), 16);
  const b = Number.parseInt(hex.substring(4, 6), 16);

  if (Number.isNaN(r) || Number.isNaN(g) || Number.isNaN(b)) {
    return '#000000';
  }

  const yiq = (r * 299 + g * 587 + b * 114) / 1000;

  return yiq >= 128 ? '#000000' : '#FFFFFF';
}
`})}),`
`,n.jsx(e.p,{children:"이 함수는 다음과 같은 과정으로 작동합니다:"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsx(e.li,{children:"입력된 HEX 색상 코드를 유효성 검사"}),`
`,n.jsx(e.li,{children:"HEX 색상 코드를 RGB 값으로 변환"}),`
`,n.jsx(e.li,{children:"YIQ 공식을 사용하여 색상의 휘도(밝기) 계산"}),`
`,n.jsx(e.li,{children:"휘도 값에 따라 검정색 또는 흰색 반환"}),`
`]}),`
`,n.jsx(e.h2,{children:"YIQ 색상 공간"}),`
`,n.jsx(e.p,{children:"YIQ는 NTSC 컬러 TV 시스템에서 사용되는 색상 인코딩 방식입니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Y"}),": 휘도(밝기) 성분"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"I"}),": 색상 정보의 첫 번째 성분 (주로 주황-파랑 축)"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"Q"}),": 색상 정보의 두 번째 성분 (주로 자주-녹색 축)"]}),`
`]}),`
`,n.jsxs(e.p,{children:["웹 개발에서는 주로 ",n.jsx(e.strong,{children:"Y"})," 성분만 사용하여 색상의 밝기를 결정합니다."]}),`
`,n.jsx(e.h2,{children:"가중치의 과학적 의미 (299, 587, 114)"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-tsx",children:`const yiq = (r * 299 + g * 587 + b * 114) / 1000;
`})}),`
`,n.jsx(e.p,{children:"이 숫자들은 단순한 임의의 값이 아닌 인간 시각의 과학적 연구를 기반으로 합니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"녹색(G)에 대한 높은 가중치 (587)"}),": 인간의 눈은 녹색 파장에 가장 민감합니다. 특히 명암 인식에 있어서 녹색이 가장 중요한 역할을 합니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"빨간색(R)에 대한 중간 가중치 (299)"}),": 녹색 다음으로 빨간색이 밝기 인식에 영향을 줍니다."]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:[n.jsx(e.strong,{children:"파란색(B)에 대한 낮은 가중치 (114)"}),": 인간의 눈은 파란색 파장에 상대적으로 덜 민감합니다."]}),`
`]}),`
`]}),`
`,n.jsx(e.p,{children:"이 가중치의 합은 1000이므로 계산 결과를 1000으로 나누어 정규화합니다. 결과값이 128 이상이면 배경색이 밝다고 판단하여 검정색 텍스트를, 128 미만이면 배경색이 어둡다고 판단하여 흰색 텍스트를 사용합니다."}),`
`,n.jsx(e.h2,{children:"NTSC TV 시스템의 역사적 맥락"}),`
`,n.jsxs(e.p,{children:["NTSC(National Television System Committee)는 1953년 미국에서 공식 채택된 최초의 컬러 TV 방송 표준입니다. 이 표준은 중요한 문제를 해결해야 했습니다: ",n.jsx(e.strong,{children:"기존 흑백 TV와의 호환성"}),"."]}),`
`,n.jsx(e.p,{children:"이 문제를 해결하기 위해 RGB 색상 정보를 YIQ 색상 공간으로 변환했습니다:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Y 신호: 흑백 TV에서 볼 수 있는 밝기 정보"}),`
`,n.jsx(e.li,{children:"I와 Q 신호: 컬러 TV에서만 사용되는 색상 정보"}),`
`]}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"Y = 0.299R + 0.587G + 0.114B"})," 공식은 이 표준에서 정의한 정확한 휘도 계산 공식입니다. 디지털 시대에도 이 공식은 여전히 색상 대비와 가독성 계산에 널리 사용됩니다."]}),`
`,n.jsx(e.h2,{children:"실용적 적용"}),`
`,n.jsx(e.p,{children:"이 지식은 다음과 같은 상황에서 매우 유용합니다:"}),`
`,n.jsxs(e.ol,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"다이나믹 테마"}),": 사용자가 배경색을 선택할 수 있는 UI에서 자동으로 가독성 높은 텍스트 색상 제공"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"접근성 향상"}),": WCAG(웹 콘텐츠 접근성 지침)에 따른 적절한 색상 대비 보장"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.strong,{children:"다크/라이트 모드"}),": 자동으로 배경에 맞는 텍스트 색상 조정"]}),`
`]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"getBlackAndWhite"})," 함수와 YIQ 색상 공간에 대한 이해는 단순한 프로그래밍 기술을 넘어 인간의 시각적 인식, 색상 이론, 그리고 TV 방송의 역사까지 연결된 흥미로운 지식입니다. 이러한 알고리즘을 사용함으로써 더 사용자 친화적이고 접근성 높은 웹 인터페이스를 개발할 수 있습니다."]}),`
`,n.jsx(e.h2,{children:"추가 자료"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"https://en.wikipedia.org/wiki/YIQ"}),`
`,n.jsx(e.li,{children:"https://en.wikipedia.org/wiki/NTSC"}),`
`,n.jsx(e.li,{children:"https://www.w3.org/TR/AERT/#color-contrast"}),`
`]})]})}function _Le(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(bI,{...t})}):bI(t)}const bLe=je({});function jLe(){return n.jsx(Se,{children:n.jsx(_Le,{components:bLe})})}const SLe=ve("/_layout/til/accessibility/optimal-text-contrast-calculation")({component:jLe,head:()=>({meta:[{title:"optimal text contrast calculation"}]})});function jI(t){const e={a:"a",blockquote:"blockquote",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h2,{children:"서론"}),`
`,n.jsx(e.p,{children:"GitHub에서 커밋이 발생할 때마다 생기는 초록색 박스를 '잔디'로 비유하곤 합니다. 매일 Commit을 하여, 잔디를 꽉 채운 '정원'을 가꾸는 '정원사들' 활동에 대해 이야기하고자 합니다. 이 글에서는 제가 이 활동에 참여하게 된 동기와 경험을 공유하려고 합니다."}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsx(e.p,{children:"정원사들: 100일간 1일 1 Commit을 하여, 잔디를 꽉 채우는 것을 목표로 합니다."}),`
`]}),`
`,n.jsx(e.h2,{children:"본론"}),`
`,n.jsx(e.h3,{children:"정원사들 시즌9에 참여한 이유"}),`
`,n.jsx(e.p,{children:'2023년의 목표는 "Output 보다는, 습관을 만들어 보자." 였습니다. 그리고 그 습관의 첫 번째가 1일 1 Commit 이었습니다. 물론 초반부터 1일 1 Commit이 지켜지지는 않았고, 잔디에 탈모가 생기듯이 빈 곳이 많았습니다. 그렇게 혼자서 습관만들기를 하고 있을 무렵, GDG Pangyo의 잔디콘이라는 세미나를 알게 되었습니다. 이 잔디콘은 "정원사들 시즌8" 활동의 마무리를 하기 위한 모임이면서 세미나로서 다양한 사람들이 참여할 수 있는 곳이었습니다.'}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/til/experience/garden9-2023/garden9-2023-1-jandicon.jpeg",alt:"잔디콘 시즌 8"})}),`
`,n.jsx(e.p,{children:'이 세미나를 참여하면서, "정원사들"이라는 활동에 대해서 알게 되었고, 시즌 9이 곧 시작된다는 것 또한 알게 되었습니다.'}),`
`,n.jsx(e.p,{children:"마침, 1일 1 Commit을 (탈모이긴 하지만)하고 있었던 저는 자연스럽게 참여하고 싶은 마음이 생겼고, 바로 신청을 했습니다."}),`
`,n.jsx(e.h3,{children:"어떤 계획을 세웠나요?"}),`
`,n.jsx(e.p,{children:"사실 1일 1 Commit은 하루에 한 번쯤 컴퓨터로 무엇인가 하는 습관을 들이기 위해 시작했습니다. 그렇기 때문에, 구체적인 계획 보다는 아래의 목록 처럼, 하고 싶은 것들은 다 하려고 했습니다."}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"TIL (Today I Learned) 작성"}),`
`,n.jsx(e.li,{children:"알고리즘 문제 풀이"}),`
`,n.jsx(e.li,{children:"블로그 글 작성"}),`
`,n.jsx(e.li,{children:"사이드 프로젝트 진행"}),`
`,n.jsx(e.li,{children:"책 요약"}),`
`,n.jsx(e.li,{children:"..."}),`
`]}),`
`,n.jsx(e.p,{children:"정말 다양한 것들을 생각 했고, 그때 그때 하고싶은 것들을 하면서 잔디를 심어야겠다는 생각을 했습니다."}),`
`,n.jsx(e.h3,{children:"어떻게 실천했나요?"}),`
`,n.jsx(e.p,{children:'아무리 하고 싶은 것들을 Commit 한다고 해도, 매일 Commit을 하기란 쉽지 않았습니다. 여행도 가야했고, 컴퓨터를 못 쓰는 날도 있었기 때문입니다. 하지만, "정원사들" 이라는 활동에 참여하게 되면서, 출석부에 기록되어지는 Commit들이 자극이 되었던 것 같습니다. 여행을 가거나 컴퓨터를 못 할 것 같은 날에도 테블릿이나 스마트폰을 이용하여 간단한 문서라도 Commit을 했습니다.'}),`
`,n.jsx(e.h3,{children:"어떤 결과가 있었나요?"}),`
`,n.jsx(e.p,{children:'1일 1 Commit을 통해서는 사실 큰 성장은 없었습니다. 다만, 처음 목표인 "습관 만들기"에는 너무나도 좋은 방법이었다고 생각합니다. 처음부터 포커스를 "습관 만들기"에 두었기 때문에, 한 Commit 들에 대한 부담이 적었습니다. 덕분에 100일 중에 98%의 출석률을 만들 수 있었고, 아직까지도 퇴근 후에 잠깐이라도 컴퓨터로 공부를 하거나 블로그 글을 쓰는 등의 습관을 이어가고 있습니다.'}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/til/experience/garden9-2023/garden9-2023-2-%EC%B6%9C%EC%84%9D%EB%A5%A0.jpeg",alt:"출석률 사진"})}),`
`,n.jsx(e.h3,{children:"앞으로는 어떤 계획이 있나요?"}),`
`,n.jsx(e.p,{children:'이제는 퇴근 후에 컴퓨터로 무엇인가 하는 습관이 형성되었다고 생각합니다. 그래서, 앞으로는 이 습관을 이용해서 Output을 만들어 보려고 합니다. 다만, 습관을 잘못 들여서 그런지, "하고 싶은 것"이어야 합니다... 그래서, 앞으로는 아래와 같은 것들을 하고 싶습니다.'}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"블로그 글 작성: 공부한 것들을 공유하는 것의 중요성을 최근에야 알게 되었습니다. 내가 먼저 공유해야 다른 이가 공유할 수 있기 때문에, 블로그 글을 작성하고 공유하려고 합니다."}),`
`,n.jsx(e.li,{children:"사이드 프로젝트 진행: 사이드 프로젝트를 진행하면서, 새로운 기술을 배우고, 새로운 경험을 쌓고 싶습니다."}),`
`,n.jsx(e.li,{children:"오픈 소스 프로젝트 참여: 오픈 소스 프로젝트에 참여하면서, 다른 사람들과 함께 성장하고 싶습니다."}),`
`,n.jsx(e.li,{children:"..."}),`
`]}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/til/experience/garden9-2023/garden9-2023-3-12%EC%9B%9420%EC%9D%BC%EA%B8%B0%EC%A4%80_%EC%9E%94%EB%94%94.jpeg",alt:"2023년12월20일_기준_내_정원"})}),`
`,n.jsx(e.p,{children:'"정원사들" 활동은 1일 1 Commit을 하는 습관을 만들기에 너무나도 좋은 활동이었습니다. 덕분에 게으른 인생에 조금이라도 부지런한 습관이 자리를 잡을 수 있었습니다. 앞으로는 이 습관을 이용해서 프론트엔드 개발자로서 성장하고, 다른 사람들에게 도움이 되는 Output을 만들어 보려고 합니다.'}),`
`,n.jsx(e.h2,{children:"참조"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:n.jsx(e.a,{href:"https://festa.io/events/3790",children:"잔디콘 시즌 8"})}),`
`]})]})}function wLe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(jI,{...t})}):jI(t)}const TLe=je({});function CLe(){return n.jsx(Se,{children:n.jsx(wLe,{components:TLe})})}const MLe=ve("/_layout/til/experience/garden9-2023/")({component:CLe,head:()=>({meta:[{title:"garden9 2023"}]})});function SI(t){const e={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...t.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.hr,{}),`
`,n.jsx(e.p,{children:`title: Service worker
summary: Service worker에 대해서 간단하게 설명해 보았습니다.
description: Service worker에 대해서 간단하게 설명해 보았습니다.
date: 2022-01-20 12:00:00
image: /images/blogs/default_thumbnail.webp
author: 'Gitsunmin'
categories:`}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:`'2022'
tags:`}),`
`,n.jsx(e.li,{children:"Frontend"}),`
`,n.jsx(e.li,{children:"Cache"}),`
`]}),`
`,n.jsx(e.hr,{}),`
`,n.jsx(e.h2,{children:n.jsx(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API",children:"Service worker는 무엇일까요?"})}),`
`,n.jsx(e.p,{children:n.jsx(e.img,{src:"/til/browser/service-worker/1.png",alt:"그림 1 from"})}),`
`,n.jsxs(e.blockquote,{children:[`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"네트워크 요청을 인터셉트 할 수 있고 캐싱을 쉽게 할 수 있음"}),`
`,n.jsx(e.li,{children:"DOM API을 사용하는 부분과는 다른 Thread에서 동작하여 DOM API, XHR, Web Storage 등 에 접근이 불가능함."}),`
`,n.jsx(e.li,{children:"푸시 알림에 접근이 가능함"}),`
`,n.jsxs(e.li,{children:["보안상의 이유로 대부분의 브라우저에서 HTTPS에서만 동작 허용",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"NOTE: FireFox는 HTTP에서 설정을 통해서 동작할 수 있습니다."}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h2,{children:"어떻게 사용 할까요?"}),`
`,n.jsx(e.p,{children:"저는 간단하게 Service Worker 환경을 만들고, 이미지가 캐싱 되는 과정을 설명하는 걸로 간단한 사용법 만을 소개하겠습니다."}),`
`,n.jsx(e.h3,{children:"간단한 환경을 설정"}),`
`,n.jsx(e.p,{children:"간단한 환경의 디렉토리를 보면"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"index.html"}),`
`,n.jsx(e.li,{children:"index.js"}),`
`,n.jsx(e.li,{children:"service-worker.js"}),`
`]}),`
`,n.jsx(e.p,{children:"이렇게 만들었고 코드는 아래에 작성하였습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`[index.html]
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Service Worker Test</title>
    <script src="index.js"><\/script>
  </head>
  <body>
    Service Worker Test
  </body>
</html>
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`[index.js];
// navigator: 사용자의 상태를 알려주는 인터패이스
if ('serviceWorker' in navigator) {
  // Register a service worker hosted at the root of the

  window.addEventListener('load', () => {
    // site using the default scope.
    navigator.serviceWorker.register('/service-worker.js').then(
      function (registration) {
        console.log('Service worker registration succeeded:', registration);
      },
      /*catch*/ function (error) {
        console.log('Service worker registration failed:', error);
      }
    );
  });
} else {
  console.log('Service workers are not supported.');
}
`})}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:"[service - worker.js];\nconsole.log(`HI👋, I'm service-worker`);\n"})}),`
`,n.jsx(e.p,{children:"실제 실행 화면입니다. (성공적으로 등록이 되었습니다. 하이하이)"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.img,{src:"/til/browser/service-worker/2.png",alt:"그림2"}),n.jsx(e.br,{}),`
`,n.jsx(e.em,{children:"그림2"})]}),`
`,n.jsx(e.p,{children:"개발자 도구의 Application 탭에서도 확인을 할 수 있습니다."}),`
`,n.jsxs(e.p,{children:[n.jsx(e.img,{src:"/til/browser/service-worker/3.png",alt:"그림3"}),n.jsx(e.br,{}),`
`,n.jsx(e.em,{children:"그림3"})]}),`
`,n.jsx(e.h3,{children:"캐시 사용하기"}),`
`,n.jsx(e.p,{children:"위에서 셋팅한 환경에서 이미지를 하나 등록 해 보겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`[index.html]
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Service Worker Test</title>
    <script src="index.js"><\/script>
  </head>
  <body>
    <header>Service Worker Test</header>
    <main>
      <img src="./images/manja-vitolic-gKXKBY-C-Dk-unsplash.jpg" alt="cat" />
    </main>
  </body>
</html>
`})}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["images",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"이미지 파일"}),`
`]}),`
`]}),`
`,n.jsx(e.li,{children:"index.html"}),`
`,n.jsx(e.li,{children:"index.js"}),`
`,n.jsx(e.li,{children:"service-worker.js"}),`
`]}),`
`,n.jsx(e.p,{children:"캐시를 사용하지 않고 이미지를 불러온 경우에는 개발자 도구의 network 탭에서"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.img,{src:"/til/browser/service-worker/4.png",alt:"그림4"}),n.jsx(e.br,{}),`
`,n.jsx(e.em,{children:"그림4"})]}),`
`,n.jsx(e.p,{children:"Size 부분에 통신한 용량을 표시 해 주고 있습니다."}),`
`,n.jsx(e.p,{children:"이제 Service Worker에 캐시를 사용하는 코드를 적용 해 보겠습니다."}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-javascript",children:`[service - worker.js];
console.log(\`HI👋, I'm service-worker\`);

// * Cache의 버전
const CACHE_VERSION = 1;

// * Cache Storage의 이름
const Cache_NAME = \`service-worker-v\${CACHE_VERSION}\`;

// * Cache 되기를 원하는 자원의 경로
const RESOURCES = ['/images/manja-vitolic-gKXKBY-C-Dk-unsplash.jpg'];

/**
 * * install: 해당페이지를 처음 방문할 때 install 이벤트 발생, 페이지 자원을 캐시하는 부분
 * * - application 탭에서 cache Storage에 등록 하는 콜백
 */
self.addEventListener('install', (event) => {
  console.log('installing..');
  event.waitUntil(
    caches.open(Cache_NAME).then((cache) => cache.addAll(RESOURCES))
  );
});

/**
 * * activate: 설치된 Service Worker가 제어 권한을 가지고 온 상태, push 및 sync와 같은 함수가 처리할 준비가 됨.
 */
self.addEventListener('activate', (e) => {
  console.log('activating...');
  e.waitUntil(
    caches.keys().then((keyList) => {
      return Promise.all(
        keyList.map((key) => {
          // * 원하지 않는 것들이 등록되어 있으면 삭제한다.
          if (Cache_NAME.indexOf(key) == -1) {
            return caches.delete(key);
          }
        })
      );
    })
  );
});

/**
 * * fetch: Service Worker를 설치 완료 후 캐시된 응답을 반환받음.
 * * - 네트워크 데이터가 있을 경우에 cache를 update하도록 하였음.
 */
self.addEventListener('fetch', (event) => {
  console.log('fetching...', event.request);
  event.respondWith(
    caches.open(Cache_NAME).then((cache) => {
      if (event.request.clone().method == 'GET') {
        return cache.match(event.request).then((response) => {
          const fetchPromise = fetch(event.request).then((networkResponse) => {
            cache.put(event.request, networkResponse.clone());
            return networkResponse;
          });
          return response || fetchPromise;
        });
      }
    })
  );
});
`})}),`
`,n.jsx(e.p,{children:"캐시를 적용한 후에는 Size 열에 ServiceWorker라고 표시가 되고 있습니다. [성공]"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.img,{src:"/til/browser/service-worker/5.png",alt:"그림5"}),n.jsx(e.br,{}),`
`,n.jsx(e.em,{children:"그림5"})]}),`
`,n.jsx(e.p,{children:"Application 탭에서 Cache 부분을 보면 Storage도 확인 할 수 있습니다."}),`
`,n.jsxs(e.p,{children:[n.jsx(e.img,{src:"/til/browser/service-worker/6.png",alt:"그림6"}),n.jsx(e.br,{}),`
`,n.jsx(e.em,{children:"그림6"})]}),`
`,n.jsx(e.p,{children:"이상으로 간단하게 환경을 만들어서 테스트 해 보았습니다."}),`
`,n.jsx(e.h2,{children:"결론"}),`
`,n.jsxs(e.p,{children:["service-worker는 ",n.jsx(e.a,{href:"https://developers.google.com/web/tools/workbox",children:"workBox"}),"라는 툴을 이용하여 더 편하게 사용을 하고 있다고 하여 간단하게만 다루어 보았습니다. 실제 사용을 위해서 workBox를 사용해 보면 좋을 것 같습니다."]})]})}function ELe(t={}){const{wrapper:e}=t.components||{};return e?n.jsx(e,{...t,children:n.jsx(SI,{...t})}):SI(t)}const ALe=je({});function RLe(){return n.jsx(Se,{children:n.jsx(ELe,{components:ALe})})}const LLe=ve("/_layout/til/browser/service-worker/")({component:RLe,head:()=>({meta:[{title:"service worker"}]})}),DLe=ve("/")(),kLe=Y7.update({id:"/settings",path:"/settings",getParentRoute:()=>uv}),_e=Q7.update({id:"/_layout",getParentRoute:()=>uv}),NLe=eq.update({id:"/_books",getParentRoute:()=>uv}),PLe=DLe.update({id:"/",path:"/",getParentRoute:()=>uv}).lazy(()=>ie(()=>import("./index.lazy-CC50iFka.js"),[]).then(t=>t.Route)),OLe=xq.update({id:"/rec-room",path:"/rec-room",getParentRoute:()=>_e}),BLe=_q.update({id:"/loom",path:"/loom",getParentRoute:()=>_e}),ILe=Cq.update({id:"/interview",path:"/interview",getParentRoute:()=>_e}),FLe=Ghe.update({id:"/careers",path:"/careers",getParentRoute:()=>_e}),ULe=Rve.update({id:"/experiencies/",path:"/experiencies/",getParentRoute:()=>_e}),zLe=Nve.update({id:"/til/README",path:"/til/README",getParentRoute:()=>_e}),HLe=Fve.update({id:"/experiencies/$experienceId",path:"/experiencies/$experienceId",getParentRoute:()=>_e}),VLe=Vve.update({id:"/til/webassembly/",path:"/til/webassembly/",getParentRoute:()=>_e}),GLe=Wve.update({id:"/til/react_native/",path:"/til/react_native/",getParentRoute:()=>_e}),$Le=Zve.update({id:"/til/web/web-component",path:"/til/web/web-component",getParentRoute:()=>_e}),qLe=t_e.update({id:"/til/web/sounds-and-recording-on-web",path:"/til/web/sounds-and-recording-on-web",getParentRoute:()=>_e}),WLe=s_e.update({id:"/til/web/sitemap",path:"/til/web/sitemap",getParentRoute:()=>_e}),XLe=c_e.update({id:"/til/web/how-does-the-internet-work",path:"/til/web/how-does-the-internet-work",getParentRoute:()=>_e}),YLe=f_e.update({id:"/til/web/designMode",path:"/til/web/designMode",getParentRoute:()=>_e}),KLe=x_e.update({id:"/til/web/cookie-and-session",path:"/til/web/cookie-and-session",getParentRoute:()=>_e}),ZLe=b_e.update({id:"/til/web/activityPub",path:"/til/web/activityPub",getParentRoute:()=>_e}),QLe=T_e.update({id:"/til/web/a11y",path:"/til/web/a11y",getParentRoute:()=>_e}),JLe=A_e.update({id:"/til/typescript/typescript-infer-keyword",path:"/til/typescript/typescript-infer-keyword",getParentRoute:()=>_e}),eDe=k_e.update({id:"/til/typescript/ts-pattern",path:"/til/typescript/ts-pattern",getParentRoute:()=>_e}),tDe=B_e.update({id:"/til/typescript/ts-ignore-and-ts-expect-error",path:"/til/typescript/ts-ignore-and-ts-expect-error",getParentRoute:()=>_e}),nDe=z_e.update({id:"/til/typescript/tagged-union-type",path:"/til/typescript/tagged-union-type",getParentRoute:()=>_e}),iDe=$_e.update({id:"/til/typescript/numerical-string-type",path:"/til/typescript/numerical-string-type",getParentRoute:()=>_e}),rDe=Y_e.update({id:"/til/typescript/keyword-satisfies-to-support-safe-upcast",path:"/til/typescript/keyword-satisfies-to-support-safe-upcast",getParentRoute:()=>_e}),sDe=J_e.update({id:"/til/typescript/import-type-only",path:"/til/typescript/import-type-only",getParentRoute:()=>_e}),aDe=ibe.update({id:"/til/typescript/error-handling-with-typescript",path:"/til/typescript/error-handling-with-typescript",getParentRoute:()=>_e}),oDe=obe.update({id:"/til/typescript/declaration-merging",path:"/til/typescript/declaration-merging",getParentRoute:()=>_e}),lDe=ube.update({id:"/til/typescript/create-utility-type-reverse",path:"/til/typescript/create-utility-type-reverse",getParentRoute:()=>_e}),cDe=mbe.update({id:"/til/testing/test-coverage",path:"/til/testing/test-coverage",getParentRoute:()=>_e}),hDe=vbe.update({id:"/til/testing/snapshot-test",path:"/til/testing/snapshot-test",getParentRoute:()=>_e}),uDe=Sbe.update({id:"/til/testing/monkey-testing-and-gorilla-testing",path:"/til/testing/monkey-testing-and-gorilla-testing",getParentRoute:()=>_e}),dDe=Mbe.update({id:"/til/testing/false-positive-and-false-negative",path:"/til/testing/false-positive-and-false-negative",getParentRoute:()=>_e}),fDe=Lbe.update({id:"/til/tauri/about-tauri",path:"/til/tauri/about-tauri",getParentRoute:()=>_e}),pDe=Pbe.update({id:"/til/svelte/how-does-svelte-work",path:"/til/svelte/how-does-svelte-work",getParentRoute:()=>_e}),mDe=Fbe.update({id:"/til/software_engineering/software-development-principles",path:"/til/software_engineering/software-development-principles",getParentRoute:()=>_e}),gDe=Vbe.update({id:"/til/software_engineering/refactoring-with-the-separation-of-oncerns-rinciple",path:"/til/software_engineering/refactoring-with-the-separation-of-oncerns-rinciple",getParentRoute:()=>_e}),xDe=Wbe.update({id:"/til/scala/basic",path:"/til/scala/basic",getParentRoute:()=>_e}),yDe=Zbe.update({id:"/til/react_native/react-navigation",path:"/til/react_native/react-navigation",getParentRoute:()=>_e}),vDe=tje.update({id:"/til/react_native/nativewind",path:"/til/react_native/nativewind",getParentRoute:()=>_e}),_De=sje.update({id:"/til/react_native/metro",path:"/til/react_native/metro",getParentRoute:()=>_e}),bDe=cje.update({id:"/til/react/what-is-new-in-react-19",path:"/til/react/what-is-new-in-react-19",getParentRoute:()=>_e}),jDe=fje.update({id:"/til/react/the-difference-between-useEffect-and-useLayoutEffect",path:"/til/react/the-difference-between-useEffect-and-useLayoutEffect",getParentRoute:()=>_e}),SDe=xje.update({id:"/til/react/scroll-restoration",path:"/til/react/scroll-restoration",getParentRoute:()=>_e}),wDe=bje.update({id:"/til/react/relay",path:"/til/react/relay",getParentRoute:()=>_e}),TDe=Tje.update({id:"/til/react/react-server-component",path:"/til/react/react-server-component",getParentRoute:()=>_e}),CDe=Aje.update({id:"/til/react/overuse-of-useMemo-and-useCallback",path:"/til/react/overuse-of-useMemo-and-useCallback",getParentRoute:()=>_e}),MDe=kje.update({id:"/til/react/how-to-use-beforeunload",path:"/til/react/how-to-use-beforeunload",getParentRoute:()=>_e}),EDe=Bje.update({id:"/til/react/how-to-check-children-in-react-component",path:"/til/react/how-to-check-children-in-react-component",getParentRoute:()=>_e}),ADe=zje.update({id:"/til/php/basic",path:"/til/php/basic",getParentRoute:()=>_e}),RDe=$je.update({id:"/til/package/basic-yarn-berry",path:"/til/package/basic-yarn-berry",getParentRoute:()=>_e}),LDe=Yje.update({id:"/til/package/automatically-sink-the-node-version-using-nvmrc",path:"/til/package/automatically-sink-the-node-version-using-nvmrc",getParentRoute:()=>_e}),DDe=Jje.update({id:"/til/opensource/open-source-initiative",path:"/til/opensource/open-source-initiative",getParentRoute:()=>_e}),kDe=iSe.update({id:"/til/opensource/code_of_conduct",path:"/til/opensource/code_of_conduct",getParentRoute:()=>_e}),NDe=oSe.update({id:"/til/network/cookie",path:"/til/network/cookie",getParentRoute:()=>_e}),PDe=uSe.update({id:"/til/network/abortController",path:"/til/network/abortController",getParentRoute:()=>_e}),ODe=mSe.update({id:"/til/network/DNS-domain-name-system",path:"/til/network/DNS-domain-name-system",getParentRoute:()=>_e}),BDe=vSe.update({id:"/til/mobile/android-icon-name",path:"/til/mobile/android-icon-name",getParentRoute:()=>_e}),IDe=SSe.update({id:"/til/mcp/what-is-mcp",path:"/til/mcp/what-is-mcp",getParentRoute:()=>_e}),FDe=MSe.update({id:"/til/machine-learning/perceptron",path:"/til/machine-learning/perceptron",getParentRoute:()=>_e}),UDe=LSe.update({id:"/til/library/turborepo",path:"/til/library/turborepo",getParentRoute:()=>_e}),zDe=PSe.update({id:"/til/library/style-dictionary",path:"/til/library/style-dictionary",getParentRoute:()=>_e}),HDe=FSe.update({id:"/til/library/nuqs",path:"/til/library/nuqs",getParentRoute:()=>_e}),VDe=VSe.update({id:"/til/library/how-to-change-default-url-in-next-auth",path:"/til/library/how-to-change-default-url-in-next-auth",getParentRoute:()=>_e}),GDe=WSe.update({id:"/til/library/gritql",path:"/til/library/gritql",getParentRoute:()=>_e}),$De=ZSe.update({id:"/til/library/framer-motion",path:"/til/library/framer-motion",getParentRoute:()=>_e}),qDe=t1e.update({id:"/til/library/es-git",path:"/til/library/es-git",getParentRoute:()=>_e}),WDe=s1e.update({id:"/til/javascript/the-easiest-way-to-create-uuid-in-js",path:"/til/javascript/the-easiest-way-to-create-uuid-in-js",getParentRoute:()=>_e}),XDe=c1e.update({id:"/til/javascript/shallow-merge-and-deep-merge",path:"/til/javascript/shallow-merge-and-deep-merge",getParentRoute:()=>_e}),YDe=f1e.update({id:"/til/javascript/proxy-grammar",path:"/til/javascript/proxy-grammar",getParentRoute:()=>_e}),KDe=x1e.update({id:"/til/javascript/promise-all-settled-and-promise-all",path:"/til/javascript/promise-all-settled-and-promise-all",getParentRoute:()=>_e}),ZDe=b1e.update({id:"/til/javascript/performance-comparison-of-array-find-and-array-indexOf",path:"/til/javascript/performance-comparison-of-array-find-and-array-indexOf",getParentRoute:()=>_e}),QDe=T1e.update({id:"/til/javascript/object-is",path:"/til/javascript/object-is",getParentRoute:()=>_e}),JDe=A1e.update({id:"/til/javascript/javascript-trick-2",path:"/til/javascript/javascript-trick-2",getParentRoute:()=>_e}),eke=k1e.update({id:"/til/javascript/javascript-trick-1",path:"/til/javascript/javascript-trick-1",getParentRoute:()=>_e}),tke=B1e.update({id:"/til/javascript/iterable",path:"/til/javascript/iterable",getParentRoute:()=>_e}),nke=z1e.update({id:"/til/javascript/hidden-class",path:"/til/javascript/hidden-class",getParentRoute:()=>_e}),ike=$1e.update({id:"/til/javascript/document-animate",path:"/til/javascript/document-animate",getParentRoute:()=>_e}),rke=Y1e.update({id:"/til/javascript/defining-function-with-new-keyword",path:"/til/javascript/defining-function-with-new-keyword",getParentRoute:()=>_e}),ske=J1e.update({id:"/til/javascript/custom-event",path:"/til/javascript/custom-event",getParentRoute:()=>_e}),ake=iwe.update({id:"/til/javascript/closure",path:"/til/javascript/closure",getParentRoute:()=>_e}),oke=owe.update({id:"/til/javascript/canvas-api",path:"/til/javascript/canvas-api",getParentRoute:()=>_e}),lke=uwe.update({id:"/til/javascript/ECMAScript-2023",path:"/til/javascript/ECMAScript-2023",getParentRoute:()=>_e}),cke=mwe.update({id:"/til/http/basic",path:"/til/http/basic",getParentRoute:()=>_e}),hke=vwe.update({id:"/til/html/pre-tag",path:"/til/html/pre-tag",getParentRoute:()=>_e}),uke=Swe.update({id:"/til/html/popover-attribute",path:"/til/html/popover-attribute",getParentRoute:()=>_e}),dke=Mwe.update({id:"/til/html/picture",path:"/til/html/picture",getParentRoute:()=>_e}),fke=Lwe.update({id:"/til/html/new-html-element-search",path:"/til/html/new-html-element-search",getParentRoute:()=>_e}),pke=Pwe.update({id:"/til/html/meta-tag-charset",path:"/til/html/meta-tag-charset",getParentRoute:()=>_e}),mke=Fwe.update({id:"/til/html/lazy-loading",path:"/til/html/lazy-loading",getParentRoute:()=>_e}),gke=Vwe.update({id:"/til/html/good-image-files-on-the-web-SVG",path:"/til/html/good-image-files-on-the-web-SVG",getParentRoute:()=>_e}),xke=Wwe.update({id:"/til/html/basic",path:"/til/html/basic",getParentRoute:()=>_e}),yke=Zwe.update({id:"/til/graphql/thinking-in-graphs",path:"/til/graphql/thinking-in-graphs",getParentRoute:()=>_e}),vke=tTe.update({id:"/til/github/how-to-search-for-repo-using-public-api",path:"/til/github/how-to-search-for-repo-using-public-api",getParentRoute:()=>_e}),_ke=sTe.update({id:"/til/git/switch",path:"/til/git/switch",getParentRoute:()=>_e}),bke=cTe.update({id:"/til/git/submodule",path:"/til/git/submodule",getParentRoute:()=>_e}),jke=fTe.update({id:"/til/git/resurrection-of-commit",path:"/til/git/resurrection-of-commit",getParentRoute:()=>_e}),Ske=xTe.update({id:"/til/git/lightweight-tag-and-annotated-tag",path:"/til/git/lightweight-tag-and-annotated-tag",getParentRoute:()=>_e}),wke=bTe.update({id:"/til/git/key-commit-message-abbreviations",path:"/til/git/key-commit-message-abbreviations",getParentRoute:()=>_e}),Tke=TTe.update({id:"/til/git/import-only-one-file-from-a-stash",path:"/til/git/import-only-one-file-from-a-stash",getParentRoute:()=>_e}),Cke=ATe.update({id:"/til/git/how-to-use-two-accounts",path:"/til/git/how-to-use-two-accounts",getParentRoute:()=>_e}),Mke=kTe.update({id:"/til/git/how-to-initialize-all-changes",path:"/til/git/how-to-initialize-all-changes",getParentRoute:()=>_e}),Eke=BTe.update({id:"/til/git/gitmoji",path:"/til/git/gitmoji",getParentRoute:()=>_e}),Ake=zTe.update({id:"/til/git/git-bisect-command",path:"/til/git/git-bisect-command",getParentRoute:()=>_e}),Rke=$Te.update({id:"/til/git/force-with-lease-option",path:"/til/git/force-with-lease-option",getParentRoute:()=>_e}),Lke=YTe.update({id:"/til/git/creating-branch-from-commit",path:"/til/git/creating-branch-from-commit",getParentRoute:()=>_e}),Dke=JTe.update({id:"/til/git/checkout-previous-branch",path:"/til/git/checkout-previous-branch",getParentRoute:()=>_e}),kke=i2e.update({id:"/til/functional_programing/point-free-style",path:"/til/functional_programing/point-free-style",getParentRoute:()=>_e}),Nke=o2e.update({id:"/til/functional_programing/patial-application",path:"/til/functional_programing/patial-application",getParentRoute:()=>_e}),Pke=u2e.update({id:"/til/functional_programing/map",path:"/til/functional_programing/map",getParentRoute:()=>_e}),Oke=m2e.update({id:"/til/functional_programing/algebraic-data-type",path:"/til/functional_programing/algebraic-data-type",getParentRoute:()=>_e}),Bke=v2e.update({id:"/til/frontend_framework/nextjs-v14-summary",path:"/til/frontend_framework/nextjs-v14-summary",getParentRoute:()=>_e}),Ike=S2e.update({id:"/til/frontend_framework/nextjs",path:"/til/frontend_framework/nextjs",getParentRoute:()=>_e}),Fke=M2e.update({id:"/til/frontend_framework/how-to-use-browserslist-on-nextjs",path:"/til/frontend_framework/how-to-use-browserslist-on-nextjs",getParentRoute:()=>_e}),Uke=L2e.update({id:"/til/frontend_framework/docusaurus",path:"/til/frontend_framework/docusaurus",getParentRoute:()=>_e}),zke=P2e.update({id:"/til/frontend_framework/difference-between-csrand-ssr",path:"/til/frontend_framework/difference-between-csrand-ssr",getParentRoute:()=>_e}),Hke=F2e.update({id:"/til/frontend_framework/action-of-nextjs",path:"/til/frontend_framework/action-of-nextjs",getParentRoute:()=>_e}),Vke=V2e.update({id:"/til/frontend/microinteraction",path:"/til/frontend/microinteraction",getParentRoute:()=>_e}),Gke=W2e.update({id:"/til/flutter/typedef",path:"/til/flutter/typedef",getParentRoute:()=>_e}),$ke=Z2e.update({id:"/til/flutter/tip-for-web-developer",path:"/til/flutter/tip-for-web-developer",getParentRoute:()=>_e}),qke=tCe.update({id:"/til/flutter/sealed-class",path:"/til/flutter/sealed-class",getParentRoute:()=>_e}),Wke=sCe.update({id:"/til/flutter/replace-entry-point-with-cli",path:"/til/flutter/replace-entry-point-with-cli",getParentRoute:()=>_e}),Xke=cCe.update({id:"/til/flutter/lifecycle",path:"/til/flutter/lifecycle",getParentRoute:()=>_e}),Yke=fCe.update({id:"/til/flutter/learning-dart",path:"/til/flutter/learning-dart",getParentRoute:()=>_e}),Kke=xCe.update({id:"/til/flutter/how-to-go-store",path:"/til/flutter/how-to-go-store",getParentRoute:()=>_e}),Zke=bCe.update({id:"/til/flutter/future-and-stream",path:"/til/flutter/future-and-stream",getParentRoute:()=>_e}),Qke=TCe.update({id:"/til/flutter/flutterflow",path:"/til/flutter/flutterflow",getParentRoute:()=>_e}),Jke=ACe.update({id:"/til/flutter/flutter-method-channel",path:"/til/flutter/flutter-method-channel",getParentRoute:()=>_e}),eNe=kCe.update({id:"/til/flutter/final-and-const",path:"/til/flutter/final-and-const",getParentRoute:()=>_e}),tNe=BCe.update({id:"/til/flutter/cocoapod",path:"/til/flutter/cocoapod",getParentRoute:()=>_e}),nNe=zCe.update({id:"/til/flutter/basic-handling-errors",path:"/til/flutter/basic-handling-errors",getParentRoute:()=>_e}),iNe=$Ce.update({id:"/til/flutter/assert",path:"/til/flutter/assert",getParentRoute:()=>_e}),rNe=YCe.update({id:"/til/flutter/add-flavor",path:"/til/flutter/add-flavor",getParentRoute:()=>_e}),sNe=JCe.update({id:"/til/firebase/remote-config",path:"/til/firebase/remote-config",getParentRoute:()=>_e}),aNe=iMe.update({id:"/til/education/taxonomy-of-bloom",path:"/til/education/taxonomy-of-bloom",getParentRoute:()=>_e}),oNe=oMe.update({id:"/til/editor/vscode-language-extensions",path:"/til/editor/vscode-language-extensions",getParentRoute:()=>_e}),lNe=uMe.update({id:"/til/editor/neovim",path:"/til/editor/neovim",getParentRoute:()=>_e}),cNe=mMe.update({id:"/til/editor/learn-vim",path:"/til/editor/learn-vim",getParentRoute:()=>_e}),hNe=vMe.update({id:"/til/editor/how-to-go-to-line-in-vscode",path:"/til/editor/how-to-go-to-line-in-vscode",getParentRoute:()=>_e}),uNe=SMe.update({id:"/til/editor/git-shortcuts-command-in-zsh",path:"/til/editor/git-shortcuts-command-in-zsh",getParentRoute:()=>_e}),dNe=MMe.update({id:"/til/editor/autocomplete-commit-message-in-vscode-with-copilot",path:"/til/editor/autocomplete-commit-message-in-vscode-with-copilot",getParentRoute:()=>_e}),fNe=LMe.update({id:"/til/editor/auto-nvm-use-in-zsh",path:"/til/editor/auto-nvm-use-in-zsh",getParentRoute:()=>_e}),pNe=PMe.update({id:"/til/docker/docker-compose",path:"/til/docker/docker-compose",getParentRoute:()=>_e}),mNe=FMe.update({id:"/til/database/basic-of-partitioning",path:"/til/database/basic-of-partitioning",getParentRoute:()=>_e}),gNe=VMe.update({id:"/til/css/writing-mode",path:"/til/css/writing-mode",getParentRoute:()=>_e}),xNe=WMe.update({id:"/til/css/typography",path:"/til/css/typography",getParentRoute:()=>_e}),yNe=ZMe.update({id:"/til/css/tailwind-css",path:"/til/css/tailwind-css",getParentRoute:()=>_e}),vNe=tEe.update({id:"/til/css/replaced-elements",path:"/til/css/replaced-elements",getParentRoute:()=>_e}),_Ne=sEe.update({id:"/til/css/pseudo-class-lang",path:"/til/css/pseudo-class-lang",getParentRoute:()=>_e}),bNe=cEe.update({id:"/til/css/problem-of-sticky",path:"/til/css/problem-of-sticky",getParentRoute:()=>_e}),jNe=fEe.update({id:"/til/css/placeholder-shown",path:"/til/css/placeholder-shown",getParentRoute:()=>_e}),SNe=xEe.update({id:"/til/css/object-fit",path:"/til/css/object-fit",getParentRoute:()=>_e}),wNe=bEe.update({id:"/til/css/ios-safe-area",path:"/til/css/ios-safe-area",getParentRoute:()=>_e}),TNe=TEe.update({id:"/til/css/hsl",path:"/til/css/hsl",getParentRoute:()=>_e}),CNe=AEe.update({id:"/til/css/how-to-maintain-the-image-ratio",path:"/til/css/how-to-maintain-the-image-ratio",getParentRoute:()=>_e}),MNe=kEe.update({id:"/til/css/grid",path:"/til/css/grid",getParentRoute:()=>_e}),ENe=BEe.update({id:"/til/css/font-size",path:"/til/css/font-size",getParentRoute:()=>_e}),ANe=zEe.update({id:"/til/css/foit-and-fout",path:"/til/css/foit-and-fout",getParentRoute:()=>_e}),RNe=$Ee.update({id:"/til/css/focus-within-and-focus-visible",path:"/til/css/focus-within-and-focus-visible",getParentRoute:()=>_e}),LNe=YEe.update({id:"/til/css/flexbox",path:"/til/css/flexbox",getParentRoute:()=>_e}),DNe=JEe.update({id:"/til/css/css-functions",path:"/til/css/css-functions",getParentRoute:()=>_e}),kNe=iAe.update({id:"/til/css/conic-gradient",path:"/til/css/conic-gradient",getParentRoute:()=>_e}),NNe=oAe.update({id:"/til/css/color-scheme",path:"/til/css/color-scheme",getParentRoute:()=>_e}),PNe=uAe.update({id:"/til/css/clamp",path:"/til/css/clamp",getParentRoute:()=>_e}),ONe=mAe.update({id:"/til/css/break-afeter-and-before-and-inside",path:"/til/css/break-afeter-and-before-and-inside",getParentRoute:()=>_e}),BNe=vAe.update({id:"/til/css/box-shadow",path:"/til/css/box-shadow",getParentRoute:()=>_e}),INe=SAe.update({id:"/til/css/background-position",path:"/til/css/background-position",getParentRoute:()=>_e}),FNe=MAe.update({id:"/til/css/backdrop-filter",path:"/til/css/backdrop-filter",getParentRoute:()=>_e}),UNe=LAe.update({id:"/til/css/at-rules-page",path:"/til/css/at-rules-page",getParentRoute:()=>_e}),zNe=PAe.update({id:"/til/css/animation",path:"/til/css/animation",getParentRoute:()=>_e}),HNe=FAe.update({id:"/til/css/accent-color",path:"/til/css/accent-color",getParentRoute:()=>_e}),VNe=VAe.update({id:"/til/css/about-css-pseudo-class-the-empty",path:"/til/css/about-css-pseudo-class-the-empty",getParentRoute:()=>_e}),GNe=WAe.update({id:"/til/cs/optical-character-recognition",path:"/til/cs/optical-character-recognition",getParentRoute:()=>_e}),$Ne=ZAe.update({id:"/til/cs/machine-learning",path:"/til/cs/machine-learning",getParentRoute:()=>_e}),qNe=tRe.update({id:"/til/cs/how-to-check-system-uptime-and-system-load",path:"/til/cs/how-to-check-system-uptime-and-system-load",getParentRoute:()=>_e}),WNe=sRe.update({id:"/til/cs/how-to-change-kernel-parameters",path:"/til/cs/how-to-change-kernel-parameters",getParentRoute:()=>_e}),XNe=cRe.update({id:"/til/cs/ast",path:"/til/cs/ast",getParentRoute:()=>_e}),YNe=fRe.update({id:"/til/cs/aot_and_jit_compiler",path:"/til/cs/aot_and_jit_compiler",getParentRoute:()=>_e}),KNe=xRe.update({id:"/til/conference/deview-2024",path:"/til/conference/deview-2024",getParentRoute:()=>_e}),ZNe=bRe.update({id:"/til/cli/latest-unix-tools",path:"/til/cli/latest-unix-tools",getParentRoute:()=>_e}),QNe=TRe.update({id:"/til/cli/concurrently_js",path:"/til/cli/concurrently_js",getParentRoute:()=>_e}),JNe=ARe.update({id:"/til/cli/bat",path:"/til/cli/bat",getParentRoute:()=>_e}),e3e=kRe.update({id:"/til/browser/view-in-html-Layer-3d",path:"/til/browser/view-in-html-Layer-3d",getParentRoute:()=>_e}),t3e=BRe.update({id:"/til/browser/reflow-and-repaint",path:"/til/browser/reflow-and-repaint",getParentRoute:()=>_e}),n3e=zRe.update({id:"/til/browser/page-visibility-api",path:"/til/browser/page-visibility-api",getParentRoute:()=>_e}),i3e=$Re.update({id:"/til/browser/how-to-work-browser",path:"/til/browser/how-to-work-browser",getParentRoute:()=>_e}),r3e=YRe.update({id:"/til/browser/checking-the-console-log-in-mobile-chrome",path:"/til/browser/checking-the-console-log-in-mobile-chrome",getParentRoute:()=>_e}),s3e=JRe.update({id:"/til/browser/2024-05-new-feature-of-chrome",path:"/til/browser/2024-05-new-feature-of-chrome",getParentRoute:()=>_e}),a3e=iLe.update({id:"/til/algorithm/two-pointer-algorithm",path:"/til/algorithm/two-pointer-algorithm",getParentRoute:()=>_e}),o3e=oLe.update({id:"/til/algorithm/tortoise-and-hare-algorithm",path:"/til/algorithm/tortoise-and-hare-algorithm",getParentRoute:()=>_e}),l3e=uLe.update({id:"/til/algorithm/prefix-sum-algorithm",path:"/til/algorithm/prefix-sum-algorithm",getParentRoute:()=>_e}),c3e=mLe.update({id:"/til/algorithm/implementation-algorithm",path:"/til/algorithm/implementation-algorithm",getParentRoute:()=>_e}),h3e=vLe.update({id:"/til/algorithm/depth-first-search-algorithm",path:"/til/algorithm/depth-first-search-algorithm",getParentRoute:()=>_e}),u3e=SLe.update({id:"/til/accessibility/optimal-text-contrast-calculation",path:"/til/accessibility/optimal-text-contrast-calculation",getParentRoute:()=>_e}),d3e=MLe.update({id:"/til/experience/garden9-2023/",path:"/til/experience/garden9-2023/",getParentRoute:()=>_e}),f3e=LLe.update({id:"/til/browser/service-worker/",path:"/til/browser/service-worker/",getParentRoute:()=>_e}),p3e={LayoutCareersRoute:FLe,LayoutInterviewRoute:ILe,LayoutLoomRoute:BLe,LayoutRecRoomRoute:OLe,LayoutExperienciesExperienceIdRoute:HLe,LayoutTilREADMERoute:zLe,LayoutExperienciesIndexRoute:ULe,LayoutTilAccessibilityOptimalTextContrastCalculationRoute:u3e,LayoutTilAlgorithmDepthFirstSearchAlgorithmRoute:h3e,LayoutTilAlgorithmImplementationAlgorithmRoute:c3e,LayoutTilAlgorithmPrefixSumAlgorithmRoute:l3e,LayoutTilAlgorithmTortoiseAndHareAlgorithmRoute:o3e,LayoutTilAlgorithmTwoPointerAlgorithmRoute:a3e,LayoutTilBrowser202405NewFeatureOfChromeRoute:s3e,LayoutTilBrowserCheckingTheConsoleLogInMobileChromeRoute:r3e,LayoutTilBrowserHowToWorkBrowserRoute:i3e,LayoutTilBrowserPageVisibilityApiRoute:n3e,LayoutTilBrowserReflowAndRepaintRoute:t3e,LayoutTilBrowserViewInHtmlLayer3dRoute:e3e,LayoutTilCliBatRoute:JNe,LayoutTilCliConcurrently_jsRoute:QNe,LayoutTilCliLatestUnixToolsRoute:ZNe,LayoutTilConferenceDeview2024Route:KNe,LayoutTilCsAot_and_jit_compilerRoute:YNe,LayoutTilCsAstRoute:XNe,LayoutTilCsHowToChangeKernelParametersRoute:WNe,LayoutTilCsHowToCheckSystemUptimeAndSystemLoadRoute:qNe,LayoutTilCsMachineLearningRoute:$Ne,LayoutTilCsOpticalCharacterRecognitionRoute:GNe,LayoutTilCssAboutCssPseudoClassTheEmptyRoute:VNe,LayoutTilCssAccentColorRoute:HNe,LayoutTilCssAnimationRoute:zNe,LayoutTilCssAtRulesPageRoute:UNe,LayoutTilCssBackdropFilterRoute:FNe,LayoutTilCssBackgroundPositionRoute:INe,LayoutTilCssBoxShadowRoute:BNe,LayoutTilCssBreakAfeterAndBeforeAndInsideRoute:ONe,LayoutTilCssClampRoute:PNe,LayoutTilCssColorSchemeRoute:NNe,LayoutTilCssConicGradientRoute:kNe,LayoutTilCssCssFunctionsRoute:DNe,LayoutTilCssFlexboxRoute:LNe,LayoutTilCssFocusWithinAndFocusVisibleRoute:RNe,LayoutTilCssFoitAndFoutRoute:ANe,LayoutTilCssFontSizeRoute:ENe,LayoutTilCssGridRoute:MNe,LayoutTilCssHowToMaintainTheImageRatioRoute:CNe,LayoutTilCssHslRoute:TNe,LayoutTilCssIosSafeAreaRoute:wNe,LayoutTilCssObjectFitRoute:SNe,LayoutTilCssPlaceholderShownRoute:jNe,LayoutTilCssProblemOfStickyRoute:bNe,LayoutTilCssPseudoClassLangRoute:_Ne,LayoutTilCssReplacedElementsRoute:vNe,LayoutTilCssTailwindCssRoute:yNe,LayoutTilCssTypographyRoute:xNe,LayoutTilCssWritingModeRoute:gNe,LayoutTilDatabaseBasicOfPartitioningRoute:mNe,LayoutTilDockerDockerComposeRoute:pNe,LayoutTilEditorAutoNvmUseInZshRoute:fNe,LayoutTilEditorAutocompleteCommitMessageInVscodeWithCopilotRoute:dNe,LayoutTilEditorGitShortcutsCommandInZshRoute:uNe,LayoutTilEditorHowToGoToLineInVscodeRoute:hNe,LayoutTilEditorLearnVimRoute:cNe,LayoutTilEditorNeovimRoute:lNe,LayoutTilEditorVscodeLanguageExtensionsRoute:oNe,LayoutTilEducationTaxonomyOfBloomRoute:aNe,LayoutTilFirebaseRemoteConfigRoute:sNe,LayoutTilFlutterAddFlavorRoute:rNe,LayoutTilFlutterAssertRoute:iNe,LayoutTilFlutterBasicHandlingErrorsRoute:nNe,LayoutTilFlutterCocoapodRoute:tNe,LayoutTilFlutterFinalAndConstRoute:eNe,LayoutTilFlutterFlutterMethodChannelRoute:Jke,LayoutTilFlutterFlutterflowRoute:Qke,LayoutTilFlutterFutureAndStreamRoute:Zke,LayoutTilFlutterHowToGoStoreRoute:Kke,LayoutTilFlutterLearningDartRoute:Yke,LayoutTilFlutterLifecycleRoute:Xke,LayoutTilFlutterReplaceEntryPointWithCliRoute:Wke,LayoutTilFlutterSealedClassRoute:qke,LayoutTilFlutterTipForWebDeveloperRoute:$ke,LayoutTilFlutterTypedefRoute:Gke,LayoutTilFrontendMicrointeractionRoute:Vke,LayoutTilFrontend_frameworkActionOfNextjsRoute:Hke,LayoutTilFrontend_frameworkDifferenceBetweenCsrandSsrRoute:zke,LayoutTilFrontend_frameworkDocusaurusRoute:Uke,LayoutTilFrontend_frameworkHowToUseBrowserslistOnNextjsRoute:Fke,LayoutTilFrontend_frameworkNextjsRoute:Ike,LayoutTilFrontend_frameworkNextjsV14SummaryRoute:Bke,LayoutTilFunctional_programingAlgebraicDataTypeRoute:Oke,LayoutTilFunctional_programingMapRoute:Pke,LayoutTilFunctional_programingPatialApplicationRoute:Nke,LayoutTilFunctional_programingPointFreeStyleRoute:kke,LayoutTilGitCheckoutPreviousBranchRoute:Dke,LayoutTilGitCreatingBranchFromCommitRoute:Lke,LayoutTilGitForceWithLeaseOptionRoute:Rke,LayoutTilGitGitBisectCommandRoute:Ake,LayoutTilGitGitmojiRoute:Eke,LayoutTilGitHowToInitializeAllChangesRoute:Mke,LayoutTilGitHowToUseTwoAccountsRoute:Cke,LayoutTilGitImportOnlyOneFileFromAStashRoute:Tke,LayoutTilGitKeyCommitMessageAbbreviationsRoute:wke,LayoutTilGitLightweightTagAndAnnotatedTagRoute:Ske,LayoutTilGitResurrectionOfCommitRoute:jke,LayoutTilGitSubmoduleRoute:bke,LayoutTilGitSwitchRoute:_ke,LayoutTilGithubHowToSearchForRepoUsingPublicApiRoute:vke,LayoutTilGraphqlThinkingInGraphsRoute:yke,LayoutTilHtmlBasicRoute:xke,LayoutTilHtmlGoodImageFilesOnTheWebSVGRoute:gke,LayoutTilHtmlLazyLoadingRoute:mke,LayoutTilHtmlMetaTagCharsetRoute:pke,LayoutTilHtmlNewHtmlElementSearchRoute:fke,LayoutTilHtmlPictureRoute:dke,LayoutTilHtmlPopoverAttributeRoute:uke,LayoutTilHtmlPreTagRoute:hke,LayoutTilHttpBasicRoute:cke,LayoutTilJavascriptECMAScript2023Route:lke,LayoutTilJavascriptCanvasApiRoute:oke,LayoutTilJavascriptClosureRoute:ake,LayoutTilJavascriptCustomEventRoute:ske,LayoutTilJavascriptDefiningFunctionWithNewKeywordRoute:rke,LayoutTilJavascriptDocumentAnimateRoute:ike,LayoutTilJavascriptHiddenClassRoute:nke,LayoutTilJavascriptIterableRoute:tke,LayoutTilJavascriptJavascriptTrick1Route:eke,LayoutTilJavascriptJavascriptTrick2Route:JDe,LayoutTilJavascriptObjectIsRoute:QDe,LayoutTilJavascriptPerformanceComparisonOfArrayFindAndArrayIndexOfRoute:ZDe,LayoutTilJavascriptPromiseAllSettledAndPromiseAllRoute:KDe,LayoutTilJavascriptProxyGrammarRoute:YDe,LayoutTilJavascriptShallowMergeAndDeepMergeRoute:XDe,LayoutTilJavascriptTheEasiestWayToCreateUuidInJsRoute:WDe,LayoutTilLibraryEsGitRoute:qDe,LayoutTilLibraryFramerMotionRoute:$De,LayoutTilLibraryGritqlRoute:GDe,LayoutTilLibraryHowToChangeDefaultUrlInNextAuthRoute:VDe,LayoutTilLibraryNuqsRoute:HDe,LayoutTilLibraryStyleDictionaryRoute:zDe,LayoutTilLibraryTurborepoRoute:UDe,LayoutTilMachineLearningPerceptronRoute:FDe,LayoutTilMcpWhatIsMcpRoute:IDe,LayoutTilMobileAndroidIconNameRoute:BDe,LayoutTilNetworkDNSDomainNameSystemRoute:ODe,LayoutTilNetworkAbortControllerRoute:PDe,LayoutTilNetworkCookieRoute:NDe,LayoutTilOpensourceCode_of_conductRoute:kDe,LayoutTilOpensourceOpenSourceInitiativeRoute:DDe,LayoutTilPackageAutomaticallySinkTheNodeVersionUsingNvmrcRoute:LDe,LayoutTilPackageBasicYarnBerryRoute:RDe,LayoutTilPhpBasicRoute:ADe,LayoutTilReactHowToCheckChildrenInReactComponentRoute:EDe,LayoutTilReactHowToUseBeforeunloadRoute:MDe,LayoutTilReactOveruseOfUseMemoAndUseCallbackRoute:CDe,LayoutTilReactReactServerComponentRoute:TDe,LayoutTilReactRelayRoute:wDe,LayoutTilReactScrollRestorationRoute:SDe,LayoutTilReactTheDifferenceBetweenUseEffectAndUseLayoutEffectRoute:jDe,LayoutTilReactWhatIsNewInReact19Route:bDe,LayoutTilReact_nativeMetroRoute:_De,LayoutTilReact_nativeNativewindRoute:vDe,LayoutTilReact_nativeReactNavigationRoute:yDe,LayoutTilScalaBasicRoute:xDe,LayoutTilSoftware_engineeringRefactoringWithTheSeparationOfOncernsRincipleRoute:gDe,LayoutTilSoftware_engineeringSoftwareDevelopmentPrinciplesRoute:mDe,LayoutTilSvelteHowDoesSvelteWorkRoute:pDe,LayoutTilTauriAboutTauriRoute:fDe,LayoutTilTestingFalsePositiveAndFalseNegativeRoute:dDe,LayoutTilTestingMonkeyTestingAndGorillaTestingRoute:uDe,LayoutTilTestingSnapshotTestRoute:hDe,LayoutTilTestingTestCoverageRoute:cDe,LayoutTilTypescriptCreateUtilityTypeReverseRoute:lDe,LayoutTilTypescriptDeclarationMergingRoute:oDe,LayoutTilTypescriptErrorHandlingWithTypescriptRoute:aDe,LayoutTilTypescriptImportTypeOnlyRoute:sDe,LayoutTilTypescriptKeywordSatisfiesToSupportSafeUpcastRoute:rDe,LayoutTilTypescriptNumericalStringTypeRoute:iDe,LayoutTilTypescriptTaggedUnionTypeRoute:nDe,LayoutTilTypescriptTsIgnoreAndTsExpectErrorRoute:tDe,LayoutTilTypescriptTsPatternRoute:eDe,LayoutTilTypescriptTypescriptInferKeywordRoute:JLe,LayoutTilWebA11yRoute:QLe,LayoutTilWebActivityPubRoute:ZLe,LayoutTilWebCookieAndSessionRoute:KLe,LayoutTilWebDesignModeRoute:YLe,LayoutTilWebHowDoesTheInternetWorkRoute:XLe,LayoutTilWebSitemapRoute:WLe,LayoutTilWebSoundsAndRecordingOnWebRoute:qLe,LayoutTilWebWebComponentRoute:$Le,LayoutTilReact_nativeIndexRoute:GLe,LayoutTilWebassemblyIndexRoute:VLe,LayoutTilBrowserServiceWorkerIndexRoute:f3e,LayoutTilExperienceGarden92023IndexRoute:d3e},m3e=_e._addFileChildren(p3e),g3e={IndexLazyRoute:PLe,BooksRoute:NLe,LayoutRoute:m3e,SettingsRoute:kLe},x3e=uv._addFileChildren(g3e)._addFileTypes(),y3e=({size:t=40,color:e="text-gray-500"})=>n.jsx("div",{className:"relative flex items-center justify-center",style:{width:t,height:t},children:Array.from({length:12}).map((i,r)=>n.jsx("div",{className:`absolute w-[8%] h-[30%] bg-current rounded-full ${e} animate-fade`,style:{transform:`rotate(${r*30}deg) translateY(-50%)`,transformOrigin:"50% 100%",animationDelay:`${r*.1}s`}},r))}),v3e=()=>n.jsx("main",{className:"absolute left-0 top-0 bg-background",children:n.jsx("div",{className:"w-[100dvw] h-[100dvh] flex justify-center items-center",children:n.jsx(y3e,{})})}),_3e=()=>{const t=()=>{window.location.href="/"},e=()=>{window.location.href="https://github.com/gitsunmin/i/issues/new"};return n.jsxs("main",{className:"flex flex-col items-center justify-center h-[100dvh] w-full gap-4",children:[n.jsx("h1",{className:"text-2xl",children:"🙏 죄송합니다 🙏"}),n.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[n.jsxs("p",{className:"text-center",children:[n.jsx("span",{className:"text-red-500",children:"에러가 발생하였습니다."}),n.jsx("br",{})]}),n.jsxs("div",{className:"flex gap-x-4",children:[n.jsx(Th,{variant:"primary",onClick:t,children:"홈으로"}),n.jsx(Th,{variant:"outline",onClick:e,children:"제보하기"})]})]})]})},b3e=ze.createContext(void 0);function j3e({children:t}){const{darkMode:e,setDarkMode:i}=BI(),r=()=>i(!e);return n.jsx(b3e.Provider,{value:{darkMode:e,setDarkMode:i,toggleDarkMode:r},children:t})}const S3e=ze.createContext(void 0),w3e=({children:t})=>{const e=eF();return ze.useLayoutEffect(()=>{if(typeof window>"u")return;const i=localStorage.getItem("fontSize");i==="small"||i==="medium"||i==="large"?document.documentElement.classList.add("text-"+i):document.documentElement.classList.add("text-medium")},[]),n.jsx(S3e.Provider,{value:e,children:t})},T3e=N9({routeTree:x3e,basepath:"/"}),wI=document.getElementById("root");wI.innerHTML||S$.createRoot(wI).render(n.jsx(ze.StrictMode,{children:n.jsx(j3e,{children:n.jsx(w3e,{children:n.jsx(B9,{router:T3e,defaultErrorComponent:_3e,defaultNotFoundComponent:EG,defaultPendingComponent:v3e})})})}));export{pU as $,h0 as A,SK as B,pZ as C,CA as D,Ha as E,iU as F,Vre as G,joe as H,Hk as I,jQ as J,LK as K,Sg as L,D3e as M,lw as N,dU as O,qE as P,kD as Q,Zte as R,kj as S,Hre as T,mv as U,nZ as V,pv as W,Ft as X,nn as Y,Nre as Z,F as _,lZ as a,kS as a$,Wte as a0,ik as a1,nk as a2,G3e as a3,F3e as a4,H3e as a5,z3e as a6,B3e as a7,ym as a8,dA as a9,Rre as aA,jie as aB,Sre as aC,xA as aD,Kk as aE,iae as aF,Xte as aG,hd as aH,HL as aI,n as aJ,Us as aK,n7 as aL,zg as aM,hv as aN,jv as aO,tae as aP,eae as aQ,lA as aR,Wu as aS,KD as aT,Mee as aU,F0 as aV,lp as aW,Lre as aX,i5 as aY,iw as aZ,ow as a_,V3e as aa,I3e as ab,q3e as ac,$3e as ad,U3e as ae,Eae as af,c8 as ag,nPe as ah,wQ as ai,Hr as aj,dd as ak,rA as al,I5 as am,up as an,u5 as ao,mn as ap,Nc as aq,voe as ar,tPe as as,iPe as at,J3e as au,Yt as av,ePe as aw,toe as ax,Zae as ay,Kae as az,oZ as b,s5 as b0,n5 as b1,ore as b2,Kt as b3,K4 as b4,Ua as b5,_ee as b6,oA as b7,hz as b8,yv as b9,Yg as bA,ud as bB,fk as bC,_A as bD,Qz as bE,QM as bF,Dre as bG,aw as bH,ie as bI,fz as ba,P3e as bb,XY as bc,Are as bd,jre as be,cie as bf,yA as bg,ire as bh,kre as bi,_v as bj,Xg as bk,RS as bl,pre as bm,Voe as bn,vv as bo,DS as bp,lre as bq,Kz as br,die as bs,fie as bt,Af as bu,yk as bv,pie as bw,vA as bx,uie as by,xie as bz,ci as c,Kn as d,fU as e,gs as f,hZ as g,Nh as h,Zf as i,AQ as j,qg as k,nt as l,f5 as m,k3e as n,sPe as o,uZ as p,dZ as q,rPe as r,cZ as s,SQ as t,Cc as u,Wae as v,qre as w,W3e as x,aZ as y,N3e as z};
