const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/angular-html-0A1EF1PY.js","assets/html-Dy5dLvcr.js","assets/javascript-ySlJ1b_l.js","assets/css-BPhBrDlE.js","assets/angular-ts-BQ_2sjHF.js","assets/scss-C31hgJw-.js","assets/apl-DkRiwRYE.js","assets/xml-e3z08dGr.js","assets/java-xI-RfyKK.js","assets/json-DTAJTTim.js","assets/astro-6Nq8D0ds.js","assets/typescript-Dj6nwHGl.js","assets/postcss-B3ZDOciz.js","assets/blade-BPCFRWwN.js","assets/sql-BBT0u3iQ.js","assets/bsl-0rw82Q3C.js","assets/sdbl-CSHvh9SD.js","assets/cairo-DzT9zD9X.js","assets/python-DBPt_AfP.js","assets/cobol-PXo7EpZU.js","assets/coffee-dyiR41kL.js","assets/cpp-DXc6Zn63.js","assets/regexp-DFERiEu9.js","assets/glsl-DBO2IWDn.js","assets/c-C3t2pwGQ.js","assets/crystal-BANhDVLs.js","assets/shellscript-CWGUrYGm.js","assets/edge-DtcDOGsI.js","assets/html-derivative-CAzaCcJ8.js","assets/elixir-BigP6_ue.js","assets/elm-0zW53zC1.js","assets/erb-HE-c_T40.js","assets/ruby-BWnuaWfc.js","assets/haml-DeHWu7Vy.js","assets/graphql-DCjtUNCr.js","assets/jsx-BAng5TT0.js","assets/tsx-B6W0miNI.js","assets/lua-CvWAzNxB.js","assets/yaml-CVw76BM1.js","assets/fortran-fixed-form-CMvLjigt.js","assets/fortran-free-form-DjP-tqRL.js","assets/fsharp-BPKZXYjh.js","assets/markdown-BDiHrqA7.js","assets/gdresource-N9nUj_Sl.js","assets/gdshader-SKMF96pI.js","assets/gdscript-CCbUEAxs.js","assets/git-commit-BhPX3RR1.js","assets/diff-DERFIACx.js","assets/git-rebase-uGYh9tYw.js","assets/glimmer-js-CxrE9ua0.js","assets/glimmer-ts-CkqoYwsv.js","assets/hack-oRCDNDMe.js","assets/handlebars-DQyaA0Rc.js","assets/http-D7RGPc5S.js","assets/hxml-TIA70rKU.js","assets/haxe-C5wWYbrZ.js","assets/imba-bv_oIlVt.js","assets/jinja-V0eE2z2R.js","assets/jison-BqZprYcd.js","assets/julia-B15RSDUV.js","assets/r-CwjWoCRV.js","assets/latex-B7S_v0-W.js","assets/tex-rYs2v40G.js","assets/liquid-ChyiIx6a.js","assets/marko-DL0akeRX.js","assets/less-BR4n0CG2.js","assets/mdc-CGDDvl7x.js","assets/nginx-D_VnBJ67.js","assets/nim-Chhr1h2T.js","assets/perl-DO8QnyoS.js","assets/php-udX19NJh.js","assets/pug-VMgWr3jy.js","assets/qml-D8XfuvdV.js","assets/razor-AC3CASG2.js","assets/csharp-C9e09xm7.js","assets/rst-DOyLYcpU.js","assets/cmake-DbcauaCG.js","assets/sas-CCCYgBRj.js","assets/shaderlab-B7qAK45m.js","assets/hlsl-ifBTmRxC.js","assets/shellsession-DN36oS-i.js","assets/soy-CxmeJsH_.js","assets/sparql-bYkjHRlG.js","assets/turtle-BMR_PYu6.js","assets/stata-CXDRq8TI.js","assets/svelte-MSaWC3Je.js","assets/templ-BIXQ7kZj.js","assets/go-Dtn5OO9k.js","assets/ts-tags-D3g7xtbE.js","assets/twig-C4FN8sXG.js","assets/vue-BIMzvBW9.js","assets/vue-html-D8tnVLkD.js","assets/xsl-Dd0NUgwM.js","assets/dagre-4EVJKHTY-Ce2o0A1_.js","assets/graph-Bgwiy-6M.js","assets/_baseUniq-BpA3rxUO.js","assets/layout-DfivkjKT.js","assets/_basePickBy-Dwqn5eMr.js","assets/clone-D59hA1Lv.js","assets/c4Diagram-6F5ED5ID-ZWAnA0Ny.js","assets/chunk-ASOPGD6M-D1REy8zo.js","assets/flowDiagram-7ASYPVHJ-VdFx3Bfz.js","assets/chunk-5HRBRIJM-a9m_ZBCK.js","assets/channel-UDoodckW.js","assets/erDiagram-6RL3IURR-BzndK-6j.js","assets/gitGraphDiagram-NRZ2UAAF-Cs8MrPho.js","assets/chunk-TMUBEWPD-BUSwQPbu.js","assets/chunk-KFBOBJHC-BU7M2gkJ.js","assets/gitGraph-YCYPL57B-CtercMXF.js","assets/ganttDiagram-NTVNEXSI-DrjpmHcC.js","assets/linear-DYt4cf4m.js","assets/init-Gi6I4Gst.js","assets/infoDiagram-A4XQUW5V-DgjHs451.js","assets/pieDiagram-YF2LJOPJ-e8h6M-2i.js","assets/arc-CNdAq6Pm.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-OS5C2QUG-kd1oET7Q.js","assets/xychartDiagram-6QU3TZC5-DUQHjclu.js","assets/requirementDiagram-MIRIMTAZ-ijiR_b1M.js","assets/sequenceDiagram-G6AWOVSC-CsVOBw1t.js","assets/classDiagram-LNE6IOMH-BZ0llhhm.js","assets/chunk-T2TOU4HS-BIkxQXc6.js","assets/classDiagram-v2-MQ7JQ4JX-BZ0llhhm.js","assets/stateDiagram-MAYHULR4-Cqp40-x0.js","assets/chunk-7U56Z5CX-Cls0p9g-.js","assets/stateDiagram-v2-4JROLMXI-BwOfQA_T.js","assets/journeyDiagram-G5WM74LC-BbIrCy_r.js","assets/timeline-definition-U7ZMHBDA-DFRcUfQc.js","assets/mindmap-definition-GWI6TPTV-DuicP280.js","assets/cytoscape.esm-B8CkSL7Z.js","assets/sankeyDiagram-Y46BX6SQ-OCvUZC2Z.js","assets/diagram-QW4FP2JN-D7fqFx_F.js","assets/blockDiagram-ZHA2E4KO-DhurM3J3.js","assets/architectureDiagram-UYN6MBPD-4H6-RYpr.js"])))=>i.map(i=>d[i]);
var w6=Object.defineProperty;var Gk=t=>{throw TypeError(t)};var b6=(t,e,n)=>e in t?w6(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var De=(t,e,n)=>b6(t,typeof e!="symbol"?e+"":e,n),E6=(t,e,n)=>e.has(t)||Gk("Cannot "+n);var $k=(t,e,n)=>e.has(t)?Gk("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);var ty=(t,e,n)=>(E6(t,e,"access private method"),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Fm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hb={exports:{}},ny={},Wb={exports:{}},Bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jk;function C6(){if(jk)return Bn;jk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),u=Symbol.for("react.lazy"),f=Symbol.iterator;function p(G){return G===null||typeof G!="object"?null:(G=f&&G[f]||G["@@iterator"],typeof G=="function"?G:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function w(G,oe,Z){this.props=G,this.context=oe,this.refs=S,this.updater=Z||m}w.prototype.isReactComponent={},w.prototype.setState=function(G,oe){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,oe,"setState")},w.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function x(){}x.prototype=w.prototype;function C(G,oe,Z){this.props=G,this.context=oe,this.refs=S,this.updater=Z||m}var T=C.prototype=new x;T.constructor=C,_(T,w.prototype),T.isPureReactComponent=!0;var A=Array.isArray,L=Object.prototype.hasOwnProperty,R={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function z(G,oe,Z){var ue,me={},we=null,Me=null;if(oe!=null)for(ue in oe.ref!==void 0&&(Me=oe.ref),oe.key!==void 0&&(we=""+oe.key),oe)L.call(oe,ue)&&!N.hasOwnProperty(ue)&&(me[ue]=oe[ue]);var ze=arguments.length-2;if(ze===1)me.children=Z;else if(1<ze){for(var rt=Array(ze),Ke=0;Ke<ze;Ke++)rt[Ke]=arguments[Ke+2];me.children=rt}if(G&&G.defaultProps)for(ue in ze=G.defaultProps,ze)me[ue]===void 0&&(me[ue]=ze[ue]);return{$$typeof:t,type:G,key:we,ref:Me,props:me,_owner:R.current}}function D(G,oe){return{$$typeof:t,type:G.type,key:oe,ref:G.ref,props:G.props,_owner:G._owner}}function I(G){return typeof G=="object"&&G!==null&&G.$$typeof===t}function B(G){var oe={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(Z){return oe[Z]})}var q=/\/+/g;function K(G,oe){return typeof G=="object"&&G!==null&&G.key!=null?B(""+G.key):oe.toString(36)}function j(G,oe,Z,ue,me){var we=typeof G;(we==="undefined"||we==="boolean")&&(G=null);var Me=!1;if(G===null)Me=!0;else switch(we){case"string":case"number":Me=!0;break;case"object":switch(G.$$typeof){case t:case e:Me=!0}}if(Me)return Me=G,me=me(Me),G=ue===""?"."+K(Me,0):ue,A(me)?(Z="",G!=null&&(Z=G.replace(q,"$&/")+"/"),j(me,oe,Z,"",function(Ke){return Ke})):me!=null&&(I(me)&&(me=D(me,Z+(!me.key||Me&&Me.key===me.key?"":(""+me.key).replace(q,"$&/")+"/")+G)),oe.push(me)),1;if(Me=0,ue=ue===""?".":ue+":",A(G))for(var ze=0;ze<G.length;ze++){we=G[ze];var rt=ue+K(we,ze);Me+=j(we,oe,Z,rt,me)}else if(rt=p(G),typeof rt=="function")for(G=rt.call(G),ze=0;!(we=G.next()).done;)we=we.value,rt=ue+K(we,ze++),Me+=j(we,oe,Z,rt,me);else if(we==="object")throw oe=String(G),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return Me}function J(G,oe,Z){if(G==null)return G;var ue=[],me=0;return j(G,ue,"","",function(we){return oe.call(Z,we,me++)}),ue}function $(G){if(G._status===-1){var oe=G._result;oe=oe(),oe.then(function(Z){(G._status===0||G._status===-1)&&(G._status=1,G._result=Z)},function(Z){(G._status===0||G._status===-1)&&(G._status=2,G._result=Z)}),G._status===-1&&(G._status=0,G._result=oe)}if(G._status===1)return G._result.default;throw G._result}var ie={current:null},U={transition:null},ee={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:U,ReactCurrentOwner:R};function V(){throw Error("act(...) is not supported in production builds of React.")}return Bn.Children={map:J,forEach:function(G,oe,Z){J(G,function(){oe.apply(this,arguments)},Z)},count:function(G){var oe=0;return J(G,function(){oe++}),oe},toArray:function(G){return J(G,function(oe){return oe})||[]},only:function(G){if(!I(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},Bn.Component=w,Bn.Fragment=n,Bn.Profiler=i,Bn.PureComponent=C,Bn.StrictMode=r,Bn.Suspense=l,Bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Bn.act=V,Bn.cloneElement=function(G,oe,Z){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var ue=_({},G.props),me=G.key,we=G.ref,Me=G._owner;if(oe!=null){if(oe.ref!==void 0&&(we=oe.ref,Me=R.current),oe.key!==void 0&&(me=""+oe.key),G.type&&G.type.defaultProps)var ze=G.type.defaultProps;for(rt in oe)L.call(oe,rt)&&!N.hasOwnProperty(rt)&&(ue[rt]=oe[rt]===void 0&&ze!==void 0?ze[rt]:oe[rt])}var rt=arguments.length-2;if(rt===1)ue.children=Z;else if(1<rt){ze=Array(rt);for(var Ke=0;Ke<rt;Ke++)ze[Ke]=arguments[Ke+2];ue.children=ze}return{$$typeof:t,type:G.type,key:me,ref:we,props:ue,_owner:Me}},Bn.createContext=function(G){return G={$$typeof:o,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:s,_context:G},G.Consumer=G},Bn.createElement=z,Bn.createFactory=function(G){var oe=z.bind(null,G);return oe.type=G,oe},Bn.createRef=function(){return{current:null}},Bn.forwardRef=function(G){return{$$typeof:a,render:G}},Bn.isValidElement=I,Bn.lazy=function(G){return{$$typeof:u,_payload:{_status:-1,_result:G},_init:$}},Bn.memo=function(G,oe){return{$$typeof:c,type:G,compare:oe===void 0?null:oe}},Bn.startTransition=function(G){var oe=U.transition;U.transition={};try{G()}finally{U.transition=oe}},Bn.unstable_act=V,Bn.useCallback=function(G,oe){return ie.current.useCallback(G,oe)},Bn.useContext=function(G){return ie.current.useContext(G)},Bn.useDebugValue=function(){},Bn.useDeferredValue=function(G){return ie.current.useDeferredValue(G)},Bn.useEffect=function(G,oe){return ie.current.useEffect(G,oe)},Bn.useId=function(){return ie.current.useId()},Bn.useImperativeHandle=function(G,oe,Z){return ie.current.useImperativeHandle(G,oe,Z)},Bn.useInsertionEffect=function(G,oe){return ie.current.useInsertionEffect(G,oe)},Bn.useLayoutEffect=function(G,oe){return ie.current.useLayoutEffect(G,oe)},Bn.useMemo=function(G,oe){return ie.current.useMemo(G,oe)},Bn.useReducer=function(G,oe,Z){return ie.current.useReducer(G,oe,Z)},Bn.useRef=function(G){return ie.current.useRef(G)},Bn.useState=function(G){return ie.current.useState(G)},Bn.useSyncExternalStore=function(G,oe,Z){return ie.current.useSyncExternalStore(G,oe,Z)},Bn.useTransition=function(){return ie.current.useTransition()},Bn.version="18.3.1",Bn}var qk;function zm(){return qk||(qk=1,Wb.exports=C6()),Wb.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xk;function T6(){if(Xk)return ny;Xk=1;var t=zm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,f={},p=null,m=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return ny.Fragment=n,ny.jsx=o,ny.jsxs=o,ny}var Yk;function M6(){return Yk||(Yk=1,Hb.exports=T6()),Hb.exports}var ne=M6(),Re=zm();const A6=Fm(Re);var Sv={},Gb={exports:{}},Js={},$b={exports:{}},jb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk;function k6(){return Kk||(Kk=1,function(t){function e(U,ee){var V=U.length;U.push(ee);e:for(;0<V;){var G=V-1>>>1,oe=U[G];if(0<i(oe,ee))U[G]=ee,U[V]=oe,V=G;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var ee=U[0],V=U.pop();if(V!==ee){U[0]=V;e:for(var G=0,oe=U.length,Z=oe>>>1;G<Z;){var ue=2*(G+1)-1,me=U[ue],we=ue+1,Me=U[we];if(0>i(me,V))we<oe&&0>i(Me,me)?(U[G]=Me,U[we]=V,G=we):(U[G]=me,U[ue]=V,G=ue);else if(we<oe&&0>i(Me,V))U[G]=Me,U[we]=V,G=we;else break e}}return ee}function i(U,ee){var V=U.sortIndex-ee.sortIndex;return V!==0?V:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,_=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=U)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function A(U){if(S=!1,T(U),!_)if(n(l)!==null)_=!0,$(L);else{var ee=n(c);ee!==null&&ie(A,ee.startTime-U)}}function L(U,ee){_=!1,S&&(S=!1,x(z),z=-1),m=!0;var V=p;try{for(T(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||U&&!B());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var oe=G(f.expirationTime<=ee);ee=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),T(ee)}else r(l);f=n(l)}if(f!==null)var Z=!0;else{var ue=n(c);ue!==null&&ie(A,ue.startTime-ee),Z=!1}return Z}finally{f=null,p=V,m=!1}}var R=!1,N=null,z=-1,D=5,I=-1;function B(){return!(t.unstable_now()-I<D)}function q(){if(N!==null){var U=t.unstable_now();I=U;var ee=!0;try{ee=N(!0,U)}finally{ee?K():(R=!1,N=null)}}else R=!1}var K;if(typeof C=="function")K=function(){C(q)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,J=j.port2;j.port1.onmessage=q,K=function(){J.postMessage(null)}}else K=function(){w(q,0)};function $(U){N=U,R||(R=!0,K())}function ie(U,ee){z=w(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,$(L))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var V=p;p=ee;try{return U()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=p;p=U;try{return ee()}finally{p=V}},t.unstable_scheduleCallback=function(U,ee,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,U){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,U={id:u++,callback:ee,priorityLevel:U,startTime:V,expirationTime:oe,sortIndex:-1},V>G?(U.sortIndex=V,e(c,U),n(l)===null&&U===n(c)&&(S?(x(z),z=-1):S=!0,ie(A,V-G))):(U.sortIndex=oe,e(l,U),_||m||(_=!0,$(L))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var ee=p;return function(){var V=p;p=ee;try{return U.apply(this,arguments)}finally{p=V}}}}(jb)),jb}var Zk;function R6(){return Zk||(Zk=1,$b.exports=k6()),$b.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jk;function P6(){if(Jk)return Js;Jk=1;var t=zm(),e=R6();function n(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,v=1;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(h,d){o(h,d),o(h+"Capture",d)}function o(h,d){for(i[h]=d,h=0;h<d.length;h++)r.add(d[h])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,u={},f={};function p(h){return l.call(f,h)?!0:l.call(u,h)?!1:c.test(h)?f[h]=!0:(u[h]=!0,!1)}function m(h,d,v,E){if(v!==null&&v.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return E?!1:v!==null?!v.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function _(h,d,v,E){if(d===null||typeof d>"u"||m(h,d,v,E))return!0;if(E)return!1;if(v!==null)switch(v.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function S(h,d,v,E,k,O,Y){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=E,this.attributeNamespace=k,this.mustUseProperty=v,this.propertyName=h,this.type=d,this.sanitizeURL=O,this.removeEmptyString=Y}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){w[h]=new S(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var d=h[0];w[d]=new S(d,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){w[h]=new S(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){w[h]=new S(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){w[h]=new S(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){w[h]=new S(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){w[h]=new S(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){w[h]=new S(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){w[h]=new S(h,5,!1,h.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function C(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var d=h.replace(x,C);w[d]=new S(d,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var d=h.replace(x,C);w[d]=new S(d,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var d=h.replace(x,C);w[d]=new S(d,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){w[h]=new S(h,1,!1,h.toLowerCase(),null,!1,!1)}),w.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){w[h]=new S(h,1,!1,h.toLowerCase(),null,!0,!0)});function T(h,d,v,E){var k=w.hasOwnProperty(d)?w[d]:null;(k!==null?k.type!==0:E||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(_(d,v,k,E)&&(v=null),E||k===null?p(d)&&(v===null?h.removeAttribute(d):h.setAttribute(d,""+v)):k.mustUseProperty?h[k.propertyName]=v===null?k.type===3?!1:"":v:(d=k.attributeName,E=k.attributeNamespace,v===null?h.removeAttribute(d):(k=k.type,v=k===3||k===4&&v===!0?"":""+v,E?h.setAttributeNS(E,d,v):h.setAttribute(d,v))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),U=Symbol.iterator;function ee(h){return h===null||typeof h!="object"?null:(h=U&&h[U]||h["@@iterator"],typeof h=="function"?h:null)}var V=Object.assign,G;function oe(h){if(G===void 0)try{throw Error()}catch(v){var d=v.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||""}return`
`+G+h}var Z=!1;function ue(h,d){if(!h||Z)return"";Z=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(Ie){var E=Ie}Reflect.construct(h,[],d)}else{try{d.call()}catch(Ie){E=Ie}h.call(d.prototype)}else{try{throw Error()}catch(Ie){E=Ie}h()}}catch(Ie){if(Ie&&E&&typeof Ie.stack=="string"){for(var k=Ie.stack.split(`
`),O=E.stack.split(`
`),Y=k.length-1,le=O.length-1;1<=Y&&0<=le&&k[Y]!==O[le];)le--;for(;1<=Y&&0<=le;Y--,le--)if(k[Y]!==O[le]){if(Y!==1||le!==1)do if(Y--,le--,0>le||k[Y]!==O[le]){var de=`
`+k[Y].replace(" at new "," at ");return h.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",h.displayName)),de}while(1<=Y&&0<=le);break}}}finally{Z=!1,Error.prepareStackTrace=v}return(h=h?h.displayName||h.name:"")?oe(h):""}function me(h){switch(h.tag){case 5:return oe(h.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return h=ue(h.type,!1),h;case 11:return h=ue(h.type.render,!1),h;case 1:return h=ue(h.type,!0),h;default:return""}}function we(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case N:return"Fragment";case R:return"Portal";case D:return"Profiler";case z:return"StrictMode";case K:return"Suspense";case j:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case B:return(h.displayName||"Context")+".Consumer";case I:return(h._context.displayName||"Context")+".Provider";case q:var d=h.render;return h=h.displayName,h||(h=d.displayName||d.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case J:return d=h.displayName||null,d!==null?d:we(h.type)||"Memo";case $:d=h._payload,h=h._init;try{return we(h(d))}catch{}}return null}function Me(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=d.render,h=h.displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(d);case 8:return d===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function ze(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function rt(h){var d=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ke(h){var d=rt(h)?"checked":"value",v=Object.getOwnPropertyDescriptor(h.constructor.prototype,d),E=""+h[d];if(!h.hasOwnProperty(d)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var k=v.get,O=v.set;return Object.defineProperty(h,d,{configurable:!0,get:function(){return k.call(this)},set:function(Y){E=""+Y,O.call(this,Y)}}),Object.defineProperty(h,d,{enumerable:v.enumerable}),{getValue:function(){return E},setValue:function(Y){E=""+Y},stopTracking:function(){h._valueTracker=null,delete h[d]}}}}function xt(h){h._valueTracker||(h._valueTracker=Ke(h))}function We(h){if(!h)return!1;var d=h._valueTracker;if(!d)return!0;var v=d.getValue(),E="";return h&&(E=rt(h)?h.checked?"true":"false":h.value),h=E,h!==v?(d.setValue(h),!0):!1}function Oe(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function re(h,d){var v=d.checked;return V({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??h._wrapperState.initialChecked})}function pt(h,d){var v=d.defaultValue==null?"":d.defaultValue,E=d.checked!=null?d.checked:d.defaultChecked;v=ze(d.value!=null?d.value:v),h._wrapperState={initialChecked:E,initialValue:v,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function Ge(h,d){d=d.checked,d!=null&&T(h,"checked",d,!1)}function ot(h,d){Ge(h,d);var v=ze(d.value),E=d.type;if(v!=null)E==="number"?(v===0&&h.value===""||h.value!=v)&&(h.value=""+v):h.value!==""+v&&(h.value=""+v);else if(E==="submit"||E==="reset"){h.removeAttribute("value");return}d.hasOwnProperty("value")?Rt(h,d.type,v):d.hasOwnProperty("defaultValue")&&Rt(h,d.type,ze(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(h.defaultChecked=!!d.defaultChecked)}function Qe(h,d,v){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var E=d.type;if(!(E!=="submit"&&E!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+h._wrapperState.initialValue,v||d===h.value||(h.value=d),h.defaultValue=d}v=h.name,v!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,v!==""&&(h.name=v)}function Rt(h,d,v){(d!=="number"||Oe(h.ownerDocument)!==h)&&(v==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+v&&(h.defaultValue=""+v))}var je=Array.isArray;function te(h,d,v,E){if(h=h.options,d){d={};for(var k=0;k<v.length;k++)d["$"+v[k]]=!0;for(v=0;v<h.length;v++)k=d.hasOwnProperty("$"+h[v].value),h[v].selected!==k&&(h[v].selected=k),k&&E&&(h[v].defaultSelected=!0)}else{for(v=""+ze(v),d=null,k=0;k<h.length;k++){if(h[k].value===v){h[k].selected=!0,E&&(h[k].defaultSelected=!0);return}d!==null||h[k].disabled||(d=h[k])}d!==null&&(d.selected=!0)}}function Q(h,d){if(d.dangerouslySetInnerHTML!=null)throw Error(n(91));return V({},d,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function be(h,d){var v=d.value;if(v==null){if(v=d.children,d=d.defaultValue,v!=null){if(d!=null)throw Error(n(92));if(je(v)){if(1<v.length)throw Error(n(93));v=v[0]}d=v}d==null&&(d=""),v=d}h._wrapperState={initialValue:ze(v)}}function Ne(h,d){var v=ze(d.value),E=ze(d.defaultValue);v!=null&&(v=""+v,v!==h.value&&(h.value=v),d.defaultValue==null&&h.defaultValue!==v&&(h.defaultValue=v)),E!=null&&(h.defaultValue=""+E)}function $e(h){var d=h.textContent;d===h._wrapperState.initialValue&&d!==""&&d!==null&&(h.value=d)}function ce(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pe(h,d){return h==null||h==="http://www.w3.org/1999/xhtml"?ce(d):h==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var Ve,Ye=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,v,E,k){MSApp.execUnsafeLocalFunction(function(){return h(d,v,E,k)})}:h}(function(h,d){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=d;else{for(Ve=Ve||document.createElement("div"),Ve.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=Ve.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;d.firstChild;)h.appendChild(d.firstChild)}});function St(h,d){if(d){var v=h.firstChild;if(v&&v===h.lastChild&&v.nodeType===3){v.nodeValue=d;return}}h.textContent=d}var Xe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];Object.keys(Xe).forEach(function(h){_t.forEach(function(d){d=d+h.charAt(0).toUpperCase()+h.substring(1),Xe[d]=Xe[h]})});function kt(h,d,v){return d==null||typeof d=="boolean"||d===""?"":v||typeof d!="number"||d===0||Xe.hasOwnProperty(h)&&Xe[h]?(""+d).trim():d+"px"}function Lt(h,d){h=h.style;for(var v in d)if(d.hasOwnProperty(v)){var E=v.indexOf("--")===0,k=kt(v,d[v],E);v==="float"&&(v="cssFloat"),E?h.setProperty(v,k):h[v]=k}}var gt=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function he(h,d){if(d){if(gt[h]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(n(137,h));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(n(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(n(61))}if(d.style!=null&&typeof d.style!="object")throw Error(n(62))}}function Fe(h,d){if(h.indexOf("-")===-1)return typeof d.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var at=null;function fe(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var tt=null,Le=null,He=null;function bt(h){if(h=_a(h)){if(typeof tt!="function")throw Error(n(280));var d=h.stateNode;d&&(d=Xd(d),tt(h.stateNode,h.type,d))}}function vt(h){Le?He?He.push(h):He=[h]:Le=h}function Et(){if(Le){var h=Le,d=He;if(He=Le=null,bt(h),d)for(h=0;h<d.length;h++)bt(d[h])}}function _n(h,d){return h(d)}function Qn(){}var yn=!1;function fr(h,d,v){if(yn)return h(d,v);yn=!0;try{return _n(h,d,v)}finally{yn=!1,(Le!==null||He!==null)&&(Qn(),Et())}}function Sr(h,d){var v=h.stateNode;if(v===null)return null;var E=Xd(v);if(E===null)return null;v=E[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(h=h.type,E=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!E;break e;default:h=!1}if(h)return null;if(v&&typeof v!="function")throw Error(n(231,d,typeof v));return v}var la=!1;if(a)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){la=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{la=!1}function Pr(h,d,v,E,k,O,Y,le,de){var Ie=Array.prototype.slice.call(arguments,3);try{d.apply(v,Ie)}catch(nt){this.onError(nt)}}var bi=!1,No=null,Yi=!1,Us=null,Bl={onError:function(h){bi=!0,No=h}};function Ei(h,d,v,E,k,O,Y,le,de){bi=!1,No=null,Pr.apply(Bl,arguments)}function Fl(h,d,v,E,k,O,Y,le,de){if(Ei.apply(this,arguments),bi){if(bi){var Ie=No;bi=!1,No=null}else throw Error(n(198));Yi||(Yi=!0,Us=Ie)}}function gs(h){var d=h,v=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do d=h,d.flags&4098&&(v=d.return),h=d.return;while(h)}return d.tag===3?v:null}function zl(h){if(h.tag===13){var d=h.memoizedState;if(d===null&&(h=h.alternate,h!==null&&(d=h.memoizedState)),d!==null)return d.dehydrated}return null}function Ul(h){if(gs(h)!==h)throw Error(n(188))}function Jc(h){var d=h.alternate;if(!d){if(d=gs(h),d===null)throw Error(n(188));return d!==h?null:h}for(var v=h,E=d;;){var k=v.return;if(k===null)break;var O=k.alternate;if(O===null){if(E=k.return,E!==null){v=E;continue}break}if(k.child===O.child){for(O=k.child;O;){if(O===v)return Ul(k),h;if(O===E)return Ul(k),d;O=O.sibling}throw Error(n(188))}if(v.return!==E.return)v=k,E=O;else{for(var Y=!1,le=k.child;le;){if(le===v){Y=!0,v=k,E=O;break}if(le===E){Y=!0,E=k,v=O;break}le=le.sibling}if(!Y){for(le=O.child;le;){if(le===v){Y=!0,v=O,E=k;break}if(le===E){Y=!0,E=O,v=k;break}le=le.sibling}if(!Y)throw Error(n(189))}}if(v.alternate!==E)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?h:d}function Ut(h){return h=Jc(h),h!==null?ge(h):null}function ge(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=ge(h);if(d!==null)return d;h=h.sibling}return null}var it=e.unstable_scheduleCallback,X=e.unstable_cancelCallback,pe=e.unstable_shouldYield,Ce=e.unstable_requestPaint,xe=e.unstable_now,ye=e.unstable_getCurrentPriorityLevel,Ze=e.unstable_ImmediatePriority,mt=e.unstable_UserBlockingPriority,dt=e.unstable_NormalPriority,At=e.unstable_LowPriority,Xt=e.unstable_IdlePriority,Yt=null,ht=null;function Vt(h){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Yt,h,void 0,(h.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:bn,In=Math.log,Dn=Math.LN2;function bn(h){return h>>>=0,h===0?32:31-(In(h)/Dn|0)|0}var Bt=64,Fn=4194304;function An(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function oi(h,d){var v=h.pendingLanes;if(v===0)return 0;var E=0,k=h.suspendedLanes,O=h.pingedLanes,Y=v&268435455;if(Y!==0){var le=Y&~k;le!==0?E=An(le):(O&=Y,O!==0&&(E=An(O)))}else Y=v&~k,Y!==0?E=An(Y):O!==0&&(E=An(O));if(E===0)return 0;if(d!==0&&d!==E&&!(d&k)&&(k=E&-E,O=d&-d,k>=O||k===16&&(O&4194240)!==0))return d;if(E&4&&(E|=v&16),d=h.entangledLanes,d!==0)for(h=h.entanglements,d&=E;0<d;)v=31-an(d),k=1<<v,E|=h[v],d&=~k;return E}function ca(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(h,d){for(var v=h.suspendedLanes,E=h.pingedLanes,k=h.expirationTimes,O=h.pendingLanes;0<O;){var Y=31-an(O),le=1<<Y,de=k[Y];de===-1?(!(le&v)||le&E)&&(k[Y]=ca(le,d)):de<=d&&(h.expiredLanes|=le),O&=~le}}function Bo(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function On(){var h=Bt;return Bt<<=1,!(Bt&4194240)&&(Bt=64),h}function Ci(h){for(var d=[],v=0;31>v;v++)d.push(h);return d}function Xr(h,d,v){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,d=31-an(d),h[d]=v}function ai(h,d){var v=h.pendingLanes&~d;h.pendingLanes=d,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=d,h.mutableReadLanes&=d,h.entangledLanes&=d,d=h.entanglements;var E=h.eventTimes;for(h=h.expirationTimes;0<v;){var k=31-an(v),O=1<<k;d[k]=0,E[k]=-1,h[k]=-1,v&=~O}}function Lr(h,d){var v=h.entangledLanes|=d;for(h=h.entanglements;v;){var E=31-an(v),k=1<<E;k&d|h[E]&d&&(h[E]|=d),v&=~k}}var Nn=0;function Ki(h){return h&=-h,1<h?4<h?h&268435455?16:536870912:4:1}var dh,ag,k_,gd,yd,Vl=!1,_d=[],Fo=null,kn=null,ua=null,Hl=new Map,Qc=new Map,Ja=[],db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vr(h,d){switch(h){case"focusin":case"focusout":Fo=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Hl.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qc.delete(d.pointerId)}}function Wl(h,d,v,E,k,O){return h===null||h.nativeEvent!==O?(h={blockedOn:d,domEventName:v,eventSystemFlags:E,nativeEvent:O,targetContainers:[k]},d!==null&&(d=_a(d),d!==null&&ag(d)),h):(h.eventSystemFlags|=E,d=h.targetContainers,k!==null&&d.indexOf(k)===-1&&d.push(k),h)}function pb(h,d,v,E,k){switch(d){case"focusin":return Fo=Wl(Fo,h,d,v,E,k),!0;case"dragenter":return kn=Wl(kn,h,d,v,E,k),!0;case"mouseover":return ua=Wl(ua,h,d,v,E,k),!0;case"pointerover":var O=k.pointerId;return Hl.set(O,Wl(Hl.get(O)||null,h,d,v,E,k)),!0;case"gotpointercapture":return O=k.pointerId,Qc.set(O,Wl(Qc.get(O)||null,h,d,v,E,k)),!0}return!1}function vd(h){var d=sl(h.target);if(d!==null){var v=gs(d);if(v!==null){if(d=v.tag,d===13){if(d=zl(v),d!==null){h.blockedOn=d,yd(h.priority,function(){k_(v)});return}}else if(d===3&&v.stateNode.current.memoizedState.isDehydrated){h.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}h.blockedOn=null}function xd(h){if(h.blockedOn!==null)return!1;for(var d=h.targetContainers;0<d.length;){var v=Hs(h.domEventName,h.eventSystemFlags,d[0],h.nativeEvent);if(v===null){v=h.nativeEvent;var E=new v.constructor(v.type,v);at=E,v.target.dispatchEvent(E),at=null}else return d=_a(v),d!==null&&ag(d),h.blockedOn=v,!1;d.shift()}return!0}function ph(h,d,v){xd(h)&&v.delete(d)}function zo(){Vl=!1,Fo!==null&&xd(Fo)&&(Fo=null),kn!==null&&xd(kn)&&(kn=null),ua!==null&&xd(ua)&&(ua=null),Hl.forEach(ph),Qc.forEach(ph)}function mh(h,d){h.blockedOn===d&&(h.blockedOn=null,Vl||(Vl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zo)))}function gh(h){function d(k){return mh(k,h)}if(0<_d.length){mh(_d[0],h);for(var v=1;v<_d.length;v++){var E=_d[v];E.blockedOn===h&&(E.blockedOn=null)}}for(Fo!==null&&mh(Fo,h),kn!==null&&mh(kn,h),ua!==null&&mh(ua,h),Hl.forEach(d),Qc.forEach(d),v=0;v<Ja.length;v++)E=Ja[v],E.blockedOn===h&&(E.blockedOn=null);for(;0<Ja.length&&(v=Ja[0],v.blockedOn===null);)vd(v),v.blockedOn===null&&Ja.shift()}var Oi=A.ReactCurrentBatchConfig,Vs=!0;function Sd(h,d,v,E){var k=Nn,O=Oi.transition;Oi.transition=null;try{Nn=1,wd(h,d,v,E)}finally{Nn=k,Oi.transition=O}}function lg(h,d,v,E){var k=Nn,O=Oi.transition;Oi.transition=null;try{Nn=4,wd(h,d,v,E)}finally{Nn=k,Oi.transition=O}}function wd(h,d,v,E){if(Vs){var k=Hs(h,d,v,E);if(k===null)Hd(h,d,E,bd,v),Vr(h,E);else if(pb(k,h,d,v,E))E.stopPropagation();else if(Vr(h,E),d&4&&-1<db.indexOf(h)){for(;k!==null;){var O=_a(k);if(O!==null&&dh(O),O=Hs(h,d,v,E),O===null&&Hd(h,d,E,bd,v),O===k)break;k=O}k!==null&&E.stopPropagation()}else Hd(h,d,E,null,v)}}var bd=null;function Hs(h,d,v,E){if(bd=null,h=fe(E),h=sl(h),h!==null)if(d=gs(h),d===null)h=null;else if(v=d.tag,v===13){if(h=zl(d),h!==null)return h;h=null}else if(v===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;h=null}else d!==h&&(h=null);return bd=h,null}function R_(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ye()){case Ze:return 1;case mt:return 4;case dt:case At:return 16;case Xt:return 536870912;default:return 16}default:return 16}}var po=null,cg=null,Zi=null;function yh(){if(Zi)return Zi;var h,d=cg,v=d.length,E,k="value"in po?po.value:po.textContent,O=k.length;for(h=0;h<v&&d[h]===k[h];h++);var Y=v-h;for(E=1;E<=Y&&d[v-E]===k[O-E];E++);return Zi=k.slice(h,1<E?1-E:void 0)}function Gl(h){var d=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&d===13&&(h=13)):h=d,h===10&&(h=13),32<=h||h===13?h:0}function ha(){return!0}function Ed(){return!1}function Ni(h){function d(v,E,k,O,Y){this._reactName=v,this._targetInst=k,this.type=E,this.nativeEvent=O,this.target=Y,this.currentTarget=null;for(var le in h)h.hasOwnProperty(le)&&(v=h[le],this[le]=v?v(O):O[le]);return this.isDefaultPrevented=(O.defaultPrevented!=null?O.defaultPrevented:O.returnValue===!1)?ha:Ed,this.isPropagationStopped=Ed,this}return V(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),d}var $l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_h=Ni($l),jl=V({},$l,{view:0,detail:0}),eu=Ni(jl),Ji,Ws,Gs,tu=V({},jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:el,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Gs&&(Gs&&h.type==="mousemove"?(Ji=h.screenX-Gs.screenX,Ws=h.screenY-Gs.screenY):Ws=Ji=0,Gs=h),Ji)},movementY:function(h){return"movementY"in h?h.movementY:Ws}}),ug=Ni(tu),fa=V({},tu,{dataTransfer:0}),Qa=Ni(fa),Cd=V({},jl,{relatedTarget:0}),Td=Ni(Cd),Md=V({},$l,{animationName:0,elapsedTime:0,pseudoElement:0}),P_=Ni(Md),L_=V({},$l,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),hg=Ni(L_),Ad=V({},$l,{data:0}),fg=Ni(Ad),I_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(h){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(h):(h=dg[h])?!!d[h]:!1}function el(){return nu}var kd=V({},jl,{key:function(h){if(h.key){var d=I_[h.key]||h.key;if(d!=="Unidentified")return d}return h.type==="keypress"?(h=Gl(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?D_[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:el,charCode:function(h){return h.type==="keypress"?Gl(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?Gl(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Rd=Ni(kd),$s=V({},tu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ys=Ni($s),ql=V({},jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:el}),da=Ni(ql),pa=V({},$l,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xl=Ni(pa),O_=V({},tu,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),pg=Ni(O_),mg=[9,13,27,32],Bi=a&&"CompositionEvent"in window,li=null;a&&"documentMode"in document&&(li=document.documentMode);var mr=a&&"TextEvent"in window&&!li,ru=a&&(!Bi||li&&8<li&&11>=li),js=" ",gg=!1;function yg(h,d){switch(h){case"keyup":return mg.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var tl=!1;function N_(h,d){switch(h){case"compositionend":return Pd(d);case"keypress":return d.which!==32?null:(gg=!0,js);case"textInput":return h=d.data,h===js&&gg?null:h;default:return null}}function vh(h,d){if(tl)return h==="compositionend"||!Bi&&yg(h,d)?(h=yh(),Zi=cg=po=null,tl=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return ru&&d.locale!=="ko"?null:d.data;default:return null}}var iu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d==="input"?!!iu[h.type]:d==="textarea"}function su(h,d,v,E){vt(E),d=Wd(d,"onChange"),0<d.length&&(v=new _h("onChange","change",null,v,E),h.push({event:v,listeners:d}))}var nl=null,ou=null;function B_(h){uu(h,0)}function ma(h){var d=Ir(h);if(We(d))return h}function F_(h,d){if(h==="change")return d}var au=!1;if(a){var Qi;if(a){var Yl="oninput"in document;if(!Yl){var Kl=document.createElement("div");Kl.setAttribute("oninput","return;"),Yl=typeof Kl.oninput=="function"}Qi=Yl}else Qi=!1;au=Qi&&(!document.documentMode||9<document.documentMode)}function mo(){nl&&(nl.detachEvent("onpropertychange",Id),ou=nl=null)}function Id(h){if(h.propertyName==="value"&&ma(ou)){var d=[];su(d,ou,h,fe(h)),fr(B_,d)}}function lu(h,d,v){h==="focusin"?(mo(),nl=d,ou=v,nl.attachEvent("onpropertychange",Id)):h==="focusout"&&mo()}function z_(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return ma(ou)}function _g(h,d){if(h==="click")return ma(d)}function wr(h,d){if(h==="input"||h==="change")return ma(d)}function Dd(h,d){return h===d&&(h!==0||1/h===1/d)||h!==h&&d!==d}var _s=typeof Object.is=="function"?Object.is:Dd;function Zl(h,d){if(_s(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var v=Object.keys(h),E=Object.keys(d);if(v.length!==E.length)return!1;for(E=0;E<v.length;E++){var k=v[E];if(!l.call(d,k)||!_s(h[k],d[k]))return!1}return!0}function xh(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function vs(h,d){var v=xh(h);h=0;for(var E;v;){if(v.nodeType===3){if(E=h+v.textContent.length,h<=d&&E>=d)return{node:v,offset:d-h};h=E}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=xh(v)}}function Jl(h,d){return h&&d?h===d?!0:h&&h.nodeType===3?!1:d&&d.nodeType===3?Jl(h,d.parentNode):"contains"in h?h.contains(d):h.compareDocumentPosition?!!(h.compareDocumentPosition(d)&16):!1:!1}function br(){for(var h=window,d=Oe();d instanceof h.HTMLIFrameElement;){try{var v=typeof d.contentWindow.location.href=="string"}catch{v=!1}if(v)h=d.contentWindow;else break;d=Oe(h.document)}return d}function Yr(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d&&(d==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||d==="textarea"||h.contentEditable==="true")}function Kr(h){var d=br(),v=h.focusedElem,E=h.selectionRange;if(d!==v&&v&&v.ownerDocument&&Jl(v.ownerDocument.documentElement,v)){if(E!==null&&Yr(v)){if(d=E.start,h=E.end,h===void 0&&(h=d),"selectionStart"in v)v.selectionStart=d,v.selectionEnd=Math.min(h,v.value.length);else if(h=(d=v.ownerDocument||document)&&d.defaultView||window,h.getSelection){h=h.getSelection();var k=v.textContent.length,O=Math.min(E.start,k);E=E.end===void 0?O:Math.min(E.end,k),!h.extend&&O>E&&(k=E,E=O,O=k),k=vs(v,O);var Y=vs(v,E);k&&Y&&(h.rangeCount!==1||h.anchorNode!==k.node||h.anchorOffset!==k.offset||h.focusNode!==Y.node||h.focusOffset!==Y.offset)&&(d=d.createRange(),d.setStart(k.node,k.offset),h.removeAllRanges(),O>E?(h.addRange(d),h.extend(Y.node,Y.offset)):(d.setEnd(Y.node,Y.offset),h.addRange(d)))}}for(d=[],h=v;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<d.length;v++)h=d[v],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Od=a&&"documentMode"in document&&11>=document.documentMode,Uo=null,Ql=null,Sh=null,Zr=!1;function Nd(h,d,v){var E=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Zr||Uo==null||Uo!==Oe(E)||(E=Uo,"selectionStart"in E&&Yr(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),Sh&&Zl(Sh,E)||(Sh=E,E=Wd(Ql,"onSelect"),0<E.length&&(d=new _h("onSelect","select",null,d,v),h.push({event:d,listeners:E}),d.target=Uo)))}function cu(h,d){var v={};return v[h.toLowerCase()]=d.toLowerCase(),v["Webkit"+h]="webkit"+d,v["Moz"+h]="moz"+d,v}var rl={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},go={},yo={};a&&(yo=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function Vo(h){if(go[h])return go[h];if(!rl[h])return h;var d=rl[h],v;for(v in d)if(d.hasOwnProperty(v)&&v in yo)return go[h]=d[v];return h}var wh=Vo("animationend"),bh=Vo("animationiteration"),vg=Vo("animationstart"),xg=Vo("transitionend"),Sg=new Map,wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ga(h,d){Sg.set(h,d),s(d,[h])}for(var Bd=0;Bd<wg.length;Bd++){var Eh=wg[Bd],Ch=Eh.toLowerCase(),U_=Eh[0].toUpperCase()+Eh.slice(1);ga(Ch,"on"+U_)}ga(wh,"onAnimationEnd"),ga(bh,"onAnimationIteration"),ga(vg,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(xg,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fd=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function zd(h,d,v){var E=h.type||"unknown-event";h.currentTarget=v,Fl(E,d,void 0,h),h.currentTarget=null}function uu(h,d){d=(d&4)!==0;for(var v=0;v<h.length;v++){var E=h[v],k=E.event;E=E.listeners;e:{var O=void 0;if(d)for(var Y=E.length-1;0<=Y;Y--){var le=E[Y],de=le.instance,Ie=le.currentTarget;if(le=le.listener,de!==O&&k.isPropagationStopped())break e;zd(k,le,Ie),O=de}else for(Y=0;Y<E.length;Y++){if(le=E[Y],de=le.instance,Ie=le.currentTarget,le=le.listener,de!==O&&k.isPropagationStopped())break e;zd(k,le,Ie),O=de}}}if(Yi)throw h=Us,Yi=!1,Us=null,h}function ar(h,d){var v=d[nc];v===void 0&&(v=d[nc]=new Set);var E=h+"__bubble";v.has(E)||(Vd(d,h,2,!1),v.add(E))}function Ud(h,d,v){var E=0;d&&(E|=4),Vd(v,h,E,d)}var Th="_reactListening"+Math.random().toString(36).slice(2);function hu(h){if(!h[Th]){h[Th]=!0,r.forEach(function(v){v!=="selectionchange"&&(Fd.has(v)||Ud(v,!1,h),Ud(v,!0,h))});var d=h.nodeType===9?h:h.ownerDocument;d===null||d[Th]||(d[Th]=!0,Ud("selectionchange",!1,d))}}function Vd(h,d,v,E){switch(R_(d)){case 1:var k=Sd;break;case 4:k=lg;break;default:k=wd}v=k.bind(null,d,v,h),k=void 0,!la||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(k=!0),E?k!==void 0?h.addEventListener(d,v,{capture:!0,passive:k}):h.addEventListener(d,v,!0):k!==void 0?h.addEventListener(d,v,{passive:k}):h.addEventListener(d,v,!1)}function Hd(h,d,v,E,k){var O=E;if(!(d&1)&&!(d&2)&&E!==null)e:for(;;){if(E===null)return;var Y=E.tag;if(Y===3||Y===4){var le=E.stateNode.containerInfo;if(le===k||le.nodeType===8&&le.parentNode===k)break;if(Y===4)for(Y=E.return;Y!==null;){var de=Y.tag;if((de===3||de===4)&&(de=Y.stateNode.containerInfo,de===k||de.nodeType===8&&de.parentNode===k))return;Y=Y.return}for(;le!==null;){if(Y=sl(le),Y===null)return;if(de=Y.tag,de===5||de===6){E=O=Y;continue e}le=le.parentNode}}E=E.return}fr(function(){var Ie=O,nt=fe(v),st=[];e:{var et=Sg.get(h);if(et!==void 0){var Pt=_h,Nt=h;switch(h){case"keypress":if(Gl(v)===0)break e;case"keydown":case"keyup":Pt=Rd;break;case"focusin":Nt="focus",Pt=Td;break;case"focusout":Nt="blur",Pt=Td;break;case"beforeblur":case"afterblur":Pt=Td;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pt=ug;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pt=Qa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pt=da;break;case wh:case bh:case vg:Pt=P_;break;case xg:Pt=Xl;break;case"scroll":Pt=eu;break;case"wheel":Pt=pg;break;case"copy":case"cut":case"paste":Pt=hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pt=ys}var Ht=(d&4)!==0,Wr=!Ht&&h==="scroll",Te=Ht?et!==null?et+"Capture":null:et;Ht=[];for(var _e=Ie,Ae;_e!==null;){Ae=_e;var ft=Ae.stateNode;if(Ae.tag===5&&ft!==null&&(Ae=ft,Te!==null&&(ft=Sr(_e,Te),ft!=null&&Ht.push(fu(_e,ft,Ae)))),Wr)break;_e=_e.return}0<Ht.length&&(et=new Pt(et,Nt,null,v,nt),st.push({event:et,listeners:Ht}))}}if(!(d&7)){e:{if(et=h==="mouseover"||h==="pointerover",Pt=h==="mouseout"||h==="pointerout",et&&v!==at&&(Nt=v.relatedTarget||v.fromElement)&&(sl(Nt)||Nt[xs]))break e;if((Pt||et)&&(et=nt.window===nt?nt:(et=nt.ownerDocument)?et.defaultView||et.parentWindow:window,Pt?(Nt=v.relatedTarget||v.toElement,Pt=Ie,Nt=Nt?sl(Nt):null,Nt!==null&&(Wr=gs(Nt),Nt!==Wr||Nt.tag!==5&&Nt.tag!==6)&&(Nt=null)):(Pt=null,Nt=Ie),Pt!==Nt)){if(Ht=ug,ft="onMouseLeave",Te="onMouseEnter",_e="mouse",(h==="pointerout"||h==="pointerover")&&(Ht=ys,ft="onPointerLeave",Te="onPointerEnter",_e="pointer"),Wr=Pt==null?et:Ir(Pt),Ae=Nt==null?et:Ir(Nt),et=new Ht(ft,_e+"leave",Pt,v,nt),et.target=Wr,et.relatedTarget=Ae,ft=null,sl(nt)===Ie&&(Ht=new Ht(Te,_e+"enter",Nt,v,nt),Ht.target=Ae,Ht.relatedTarget=Wr,ft=Ht),Wr=ft,Pt&&Nt)t:{for(Ht=Pt,Te=Nt,_e=0,Ae=Ht;Ae;Ae=ec(Ae))_e++;for(Ae=0,ft=Te;ft;ft=ec(ft))Ae++;for(;0<_e-Ae;)Ht=ec(Ht),_e--;for(;0<Ae-_e;)Te=ec(Te),Ae--;for(;_e--;){if(Ht===Te||Te!==null&&Ht===Te.alternate)break t;Ht=ec(Ht),Te=ec(Te)}Ht=null}else Ht=null;Pt!==null&&V_(st,et,Pt,Ht,!1),Nt!==null&&Wr!==null&&V_(st,Wr,Nt,Ht,!0)}}e:{if(et=Ie?Ir(Ie):window,Pt=et.nodeName&&et.nodeName.toLowerCase(),Pt==="select"||Pt==="input"&&et.type==="file")var jt=F_;else if(Ld(et))if(au)jt=wr;else{jt=z_;var nn=lu}else(Pt=et.nodeName)&&Pt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(jt=_g);if(jt&&(jt=jt(h,Ie))){su(st,jt,v,nt);break e}nn&&nn(h,et,Ie),h==="focusout"&&(nn=et._wrapperState)&&nn.controlled&&et.type==="number"&&Rt(et,"number",et.value)}switch(nn=Ie?Ir(Ie):window,h){case"focusin":(Ld(nn)||nn.contentEditable==="true")&&(Uo=nn,Ql=Ie,Sh=null);break;case"focusout":Sh=Ql=Uo=null;break;case"mousedown":Zr=!0;break;case"contextmenu":case"mouseup":case"dragend":Zr=!1,Nd(st,v,nt);break;case"selectionchange":if(Od)break;case"keydown":case"keyup":Nd(st,v,nt)}var rn;if(Bi)e:{switch(h){case"compositionstart":var un="onCompositionStart";break e;case"compositionend":un="onCompositionEnd";break e;case"compositionupdate":un="onCompositionUpdate";break e}un=void 0}else tl?yg(h,v)&&(un="onCompositionEnd"):h==="keydown"&&v.keyCode===229&&(un="onCompositionStart");un&&(ru&&v.locale!=="ko"&&(tl||un!=="onCompositionStart"?un==="onCompositionEnd"&&tl&&(rn=yh()):(po=nt,cg="value"in po?po.value:po.textContent,tl=!0)),nn=Wd(Ie,un),0<nn.length&&(un=new fg(un,h,null,v,nt),st.push({event:un,listeners:nn}),rn?un.data=rn:(rn=Pd(v),rn!==null&&(un.data=rn)))),(rn=mr?N_(h,v):vh(h,v))&&(Ie=Wd(Ie,"onBeforeInput"),0<Ie.length&&(nt=new fg("onBeforeInput","beforeinput",null,v,nt),st.push({event:nt,listeners:Ie}),nt.data=rn))}uu(st,d)})}function fu(h,d,v){return{instance:h,listener:d,currentTarget:v}}function Wd(h,d){for(var v=d+"Capture",E=[];h!==null;){var k=h,O=k.stateNode;k.tag===5&&O!==null&&(k=O,O=Sr(h,v),O!=null&&E.unshift(fu(h,O,k)),O=Sr(h,d),O!=null&&E.push(fu(h,O,k))),h=h.return}return E}function ec(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function V_(h,d,v,E,k){for(var O=d._reactName,Y=[];v!==null&&v!==E;){var le=v,de=le.alternate,Ie=le.stateNode;if(de!==null&&de===E)break;le.tag===5&&Ie!==null&&(le=Ie,k?(de=Sr(v,O),de!=null&&Y.unshift(fu(v,de,le))):k||(de=Sr(v,O),de!=null&&Y.push(fu(v,de,le)))),v=v.return}Y.length!==0&&h.push({event:d,listeners:Y})}var mb=/\r\n?/g,H_=/\u0000|\uFFFD/g;function bg(h){return(typeof h=="string"?h:""+h).replace(mb,`
`).replace(H_,"")}function Mh(h,d,v){if(d=bg(d),bg(h)!==d&&v)throw Error(n(425))}function Ah(){}var du=null,Eg=null;function Cg(h,d){return h==="textarea"||h==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Tg=typeof setTimeout=="function"?setTimeout:void 0,Mg=typeof clearTimeout=="function"?clearTimeout:void 0,Gd=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof Gd<"u"?function(h){return Gd.resolve(null).then(h).catch(W_)}:Tg;function W_(h){setTimeout(function(){throw h})}function $d(h,d){var v=d,E=0;do{var k=v.nextSibling;if(h.removeChild(v),k&&k.nodeType===8)if(v=k.data,v==="/$"){if(E===0){h.removeChild(k),gh(d);return}E--}else v!=="$"&&v!=="$?"&&v!=="$!"||E++;v=k}while(v);gh(d)}function ya(h){for(;h!=null;h=h.nextSibling){var d=h.nodeType;if(d===1||d===3)break;if(d===8){if(d=h.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return h}function Ag(h){h=h.previousSibling;for(var d=0;h;){if(h.nodeType===8){var v=h.data;if(v==="$"||v==="$!"||v==="$?"){if(d===0)return h;d--}else v==="/$"&&d++}h=h.previousSibling}return null}var tc=Math.random().toString(36).slice(2),Hr="__reactFiber$"+tc,pu="__reactProps$"+tc,xs="__reactContainer$"+tc,nc="__reactEvents$"+tc,jd="__reactListeners$"+tc,qd="__reactHandles$"+tc;function sl(h){var d=h[Hr];if(d)return d;for(var v=h.parentNode;v;){if(d=v[xs]||v[Hr]){if(v=d.alternate,d.child!==null||v!==null&&v.child!==null)for(h=Ag(h);h!==null;){if(v=h[Hr])return v;h=Ag(h)}return d}h=v,v=h.parentNode}return null}function _a(h){return h=h[Hr]||h[xs],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Ir(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(n(33))}function Xd(h){return h[pu]||null}var kg=[],Jr=-1;function Tr(h){return{current:h}}function lr(h){0>Jr||(h.current=kg[Jr],kg[Jr]=null,Jr--)}function sr(h,d){Jr++,kg[Jr]=h.current,h.current=d}var va={},ci=Tr(va),Fi=Tr(!1),xa=va;function rc(h,d){var v=h.type.contextTypes;if(!v)return va;var E=h.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===d)return E.__reactInternalMemoizedMaskedChildContext;var k={},O;for(O in v)k[O]=d[O];return E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=k),k}function Ti(h){return h=h.childContextTypes,h!=null}function kh(){lr(Fi),lr(ci)}function Rg(h,d,v){if(ci.current!==va)throw Error(n(168));sr(ci,d),sr(Fi,v)}function Rh(h,d,v){var E=h.stateNode;if(d=d.childContextTypes,typeof E.getChildContext!="function")return v;E=E.getChildContext();for(var k in E)if(!(k in d))throw Error(n(108,Me(h)||"Unknown",k));return V({},v,E)}function ic(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||va,xa=ci.current,sr(ci,h),sr(Fi,Fi.current),!0}function Pg(h,d,v){var E=h.stateNode;if(!E)throw Error(n(169));v?(h=Rh(h,d,xa),E.__reactInternalMemoizedMergedChildContext=h,lr(Fi),lr(ci),sr(ci,h)):lr(Fi),sr(Fi,v)}var _o=null,Ph=!1,Yd=!1;function Lh(h){_o===null?_o=[h]:_o.push(h)}function G_(h){Ph=!0,Lh(h)}function Ho(){if(!Yd&&_o!==null){Yd=!0;var h=0,d=Nn;try{var v=_o;for(Nn=1;h<v.length;h++){var E=v[h];do E=E(!0);while(E!==null)}_o=null,Ph=!1}catch(k){throw _o!==null&&(_o=_o.slice(h+1)),it(Ze,Ho),k}finally{Nn=d,Yd=!1}}return null}var sc=[],es=0,Kd=null,Zd=0,zi=[],Qr=0,oc=null,yt=1,qs="";function Sa(h,d){sc[es++]=Zd,sc[es++]=Kd,Kd=h,Zd=d}function Lg(h,d,v){zi[Qr++]=yt,zi[Qr++]=qs,zi[Qr++]=oc,oc=h;var E=yt;h=qs;var k=32-an(E)-1;E&=~(1<<k),v+=1;var O=32-an(d)+k;if(30<O){var Y=k-k%5;O=(E&(1<<Y)-1).toString(32),E>>=Y,k-=Y,yt=1<<32-an(d)+k|v<<k|E,qs=O+h}else yt=1<<O|v<<k|E,qs=h}function Ig(h){h.return!==null&&(Sa(h,1),Lg(h,1,0))}function wa(h){for(;h===Kd;)Kd=sc[--es],sc[es]=null,Zd=sc[--es],sc[es]=null;for(;h===oc;)oc=zi[--Qr],zi[Qr]=null,qs=zi[--Qr],zi[Qr]=null,yt=zi[--Qr],zi[Qr]=null}var ui=null,Ui=null,dr=!1,Xs=null;function Dg(h,d){var v=qo(5,null,null,0);v.elementType="DELETED",v.stateNode=d,v.return=h,d=h.deletions,d===null?(h.deletions=[v],h.flags|=16):d.push(v)}function Og(h,d){switch(h.tag){case 5:var v=h.type;return d=d.nodeType!==1||v.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(h.stateNode=d,ui=h,Ui=ya(d.firstChild),!0):!1;case 6:return d=h.pendingProps===""||d.nodeType!==3?null:d,d!==null?(h.stateNode=d,ui=h,Ui=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(v=oc!==null?{id:yt,overflow:qs}:null,h.memoizedState={dehydrated:d,treeContext:v,retryLane:1073741824},v=qo(18,null,null,0),v.stateNode=d,v.return=h,h.child=v,ui=h,Ui=null,!0):!1;default:return!1}}function Jd(h){return(h.mode&1)!==0&&(h.flags&128)===0}function Qd(h){if(dr){var d=Ui;if(d){var v=d;if(!Og(h,d)){if(Jd(h))throw Error(n(418));d=ya(v.nextSibling);var E=ui;d&&Og(h,d)?Dg(E,v):(h.flags=h.flags&-4097|2,dr=!1,ui=h)}}else{if(Jd(h))throw Error(n(418));h.flags=h.flags&-4097|2,dr=!1,ui=h}}}function ep(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ui=h}function mu(h){if(h!==ui)return!1;if(!dr)return ep(h),dr=!0,!1;var d;if((d=h.tag!==3)&&!(d=h.tag!==5)&&(d=h.type,d=d!=="head"&&d!=="body"&&!Cg(h.type,h.memoizedProps)),d&&(d=Ui)){if(Jd(h))throw Ng(),Error(n(418));for(;d;)Dg(h,d),d=ya(d.nextSibling)}if(ep(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(n(317));e:{for(h=h.nextSibling,d=0;h;){if(h.nodeType===8){var v=h.data;if(v==="/$"){if(d===0){Ui=ya(h.nextSibling);break e}d--}else v!=="$"&&v!=="$!"&&v!=="$?"||d++}h=h.nextSibling}Ui=null}}else Ui=ui?ya(h.stateNode.nextSibling):null;return!0}function Ng(){for(var h=Ui;h;)h=ya(h.nextSibling)}function ol(){Ui=ui=null,dr=!1}function gu(h){Xs===null?Xs=[h]:Xs.push(h)}var yb=A.ReactCurrentBatchConfig;function Ih(h,d,v){if(h=v.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var E=v.stateNode}if(!E)throw Error(n(147,h));var k=E,O=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===O?d.ref:(d=function(Y){var le=k.refs;Y===null?delete le[O]:le[O]=Y},d._stringRef=O,d)}if(typeof h!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,h))}return h}function Dh(h,d){throw h=Object.prototype.toString.call(d),Error(n(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function Bg(h){var d=h._init;return d(h._payload)}function Fg(h){function d(Te,_e){if(h){var Ae=Te.deletions;Ae===null?(Te.deletions=[_e],Te.flags|=16):Ae.push(_e)}}function v(Te,_e){if(!h)return null;for(;_e!==null;)d(Te,_e),_e=_e.sibling;return null}function E(Te,_e){for(Te=new Map;_e!==null;)_e.key!==null?Te.set(_e.key,_e):Te.set(_e.index,_e),_e=_e.sibling;return Te}function k(Te,_e){return Te=Mu(Te,_e),Te.index=0,Te.sibling=null,Te}function O(Te,_e,Ae){return Te.index=Ae,h?(Ae=Te.alternate,Ae!==null?(Ae=Ae.index,Ae<_e?(Te.flags|=2,_e):Ae):(Te.flags|=2,_e)):(Te.flags|=1048576,_e)}function Y(Te){return h&&Te.alternate===null&&(Te.flags|=2),Te}function le(Te,_e,Ae,ft){return _e===null||_e.tag!==6?(_e=Nb(Ae,Te.mode,ft),_e.return=Te,_e):(_e=k(_e,Ae),_e.return=Te,_e)}function de(Te,_e,Ae,ft){var jt=Ae.type;return jt===N?nt(Te,_e,Ae.props.children,ft,Ae.key):_e!==null&&(_e.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===$&&Bg(jt)===_e.type)?(ft=k(_e,Ae.props),ft.ref=Ih(Te,_e,Ae),ft.return=Te,ft):(ft=dv(Ae.type,Ae.key,Ae.props,null,Te.mode,ft),ft.ref=Ih(Te,_e,Ae),ft.return=Te,ft)}function Ie(Te,_e,Ae,ft){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Ae.containerInfo||_e.stateNode.implementation!==Ae.implementation?(_e=Bb(Ae,Te.mode,ft),_e.return=Te,_e):(_e=k(_e,Ae.children||[]),_e.return=Te,_e)}function nt(Te,_e,Ae,ft,jt){return _e===null||_e.tag!==7?(_e=Zh(Ae,Te.mode,ft,jt),_e.return=Te,_e):(_e=k(_e,Ae),_e.return=Te,_e)}function st(Te,_e,Ae){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=Nb(""+_e,Te.mode,Ae),_e.return=Te,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case L:return Ae=dv(_e.type,_e.key,_e.props,null,Te.mode,Ae),Ae.ref=Ih(Te,null,_e),Ae.return=Te,Ae;case R:return _e=Bb(_e,Te.mode,Ae),_e.return=Te,_e;case $:var ft=_e._init;return st(Te,ft(_e._payload),Ae)}if(je(_e)||ee(_e))return _e=Zh(_e,Te.mode,Ae,null),_e.return=Te,_e;Dh(Te,_e)}return null}function et(Te,_e,Ae,ft){var jt=_e!==null?_e.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return jt!==null?null:le(Te,_e,""+Ae,ft);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case L:return Ae.key===jt?de(Te,_e,Ae,ft):null;case R:return Ae.key===jt?Ie(Te,_e,Ae,ft):null;case $:return jt=Ae._init,et(Te,_e,jt(Ae._payload),ft)}if(je(Ae)||ee(Ae))return jt!==null?null:nt(Te,_e,Ae,ft,null);Dh(Te,Ae)}return null}function Pt(Te,_e,Ae,ft,jt){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return Te=Te.get(Ae)||null,le(_e,Te,""+ft,jt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case L:return Te=Te.get(ft.key===null?Ae:ft.key)||null,de(_e,Te,ft,jt);case R:return Te=Te.get(ft.key===null?Ae:ft.key)||null,Ie(_e,Te,ft,jt);case $:var nn=ft._init;return Pt(Te,_e,Ae,nn(ft._payload),jt)}if(je(ft)||ee(ft))return Te=Te.get(Ae)||null,nt(_e,Te,ft,jt,null);Dh(_e,ft)}return null}function Nt(Te,_e,Ae,ft){for(var jt=null,nn=null,rn=_e,un=_e=0,Ri=null;rn!==null&&un<Ae.length;un++){rn.index>un?(Ri=rn,rn=null):Ri=rn.sibling;var Kn=et(Te,rn,Ae[un],ft);if(Kn===null){rn===null&&(rn=Ri);break}h&&rn&&Kn.alternate===null&&d(Te,rn),_e=O(Kn,_e,un),nn===null?jt=Kn:nn.sibling=Kn,nn=Kn,rn=Ri}if(un===Ae.length)return v(Te,rn),dr&&Sa(Te,un),jt;if(rn===null){for(;un<Ae.length;un++)rn=st(Te,Ae[un],ft),rn!==null&&(_e=O(rn,_e,un),nn===null?jt=rn:nn.sibling=rn,nn=rn);return dr&&Sa(Te,un),jt}for(rn=E(Te,rn);un<Ae.length;un++)Ri=Pt(rn,Te,un,Ae[un],ft),Ri!==null&&(h&&Ri.alternate!==null&&rn.delete(Ri.key===null?un:Ri.key),_e=O(Ri,_e,un),nn===null?jt=Ri:nn.sibling=Ri,nn=Ri);return h&&rn.forEach(function(Au){return d(Te,Au)}),dr&&Sa(Te,un),jt}function Ht(Te,_e,Ae,ft){var jt=ee(Ae);if(typeof jt!="function")throw Error(n(150));if(Ae=jt.call(Ae),Ae==null)throw Error(n(151));for(var nn=jt=null,rn=_e,un=_e=0,Ri=null,Kn=Ae.next();rn!==null&&!Kn.done;un++,Kn=Ae.next()){rn.index>un?(Ri=rn,rn=null):Ri=rn.sibling;var Au=et(Te,rn,Kn.value,ft);if(Au===null){rn===null&&(rn=Ri);break}h&&rn&&Au.alternate===null&&d(Te,rn),_e=O(Au,_e,un),nn===null?jt=Au:nn.sibling=Au,nn=Au,rn=Ri}if(Kn.done)return v(Te,rn),dr&&Sa(Te,un),jt;if(rn===null){for(;!Kn.done;un++,Kn=Ae.next())Kn=st(Te,Kn.value,ft),Kn!==null&&(_e=O(Kn,_e,un),nn===null?jt=Kn:nn.sibling=Kn,nn=Kn);return dr&&Sa(Te,un),jt}for(rn=E(Te,rn);!Kn.done;un++,Kn=Ae.next())Kn=Pt(rn,Te,un,Kn.value,ft),Kn!==null&&(h&&Kn.alternate!==null&&rn.delete(Kn.key===null?un:Kn.key),_e=O(Kn,_e,un),nn===null?jt=Kn:nn.sibling=Kn,nn=Kn);return h&&rn.forEach(function(S6){return d(Te,S6)}),dr&&Sa(Te,un),jt}function Wr(Te,_e,Ae,ft){if(typeof Ae=="object"&&Ae!==null&&Ae.type===N&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case L:e:{for(var jt=Ae.key,nn=_e;nn!==null;){if(nn.key===jt){if(jt=Ae.type,jt===N){if(nn.tag===7){v(Te,nn.sibling),_e=k(nn,Ae.props.children),_e.return=Te,Te=_e;break e}}else if(nn.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===$&&Bg(jt)===nn.type){v(Te,nn.sibling),_e=k(nn,Ae.props),_e.ref=Ih(Te,nn,Ae),_e.return=Te,Te=_e;break e}v(Te,nn);break}else d(Te,nn);nn=nn.sibling}Ae.type===N?(_e=Zh(Ae.props.children,Te.mode,ft,Ae.key),_e.return=Te,Te=_e):(ft=dv(Ae.type,Ae.key,Ae.props,null,Te.mode,ft),ft.ref=Ih(Te,_e,Ae),ft.return=Te,Te=ft)}return Y(Te);case R:e:{for(nn=Ae.key;_e!==null;){if(_e.key===nn)if(_e.tag===4&&_e.stateNode.containerInfo===Ae.containerInfo&&_e.stateNode.implementation===Ae.implementation){v(Te,_e.sibling),_e=k(_e,Ae.children||[]),_e.return=Te,Te=_e;break e}else{v(Te,_e);break}else d(Te,_e);_e=_e.sibling}_e=Bb(Ae,Te.mode,ft),_e.return=Te,Te=_e}return Y(Te);case $:return nn=Ae._init,Wr(Te,_e,nn(Ae._payload),ft)}if(je(Ae))return Nt(Te,_e,Ae,ft);if(ee(Ae))return Ht(Te,_e,Ae,ft);Dh(Te,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,_e!==null&&_e.tag===6?(v(Te,_e.sibling),_e=k(_e,Ae),_e.return=Te,Te=_e):(v(Te,_e),_e=Nb(Ae,Te.mode,ft),_e.return=Te,Te=_e),Y(Te)):v(Te,_e)}return Wr}var ac=Fg(!0),Oh=Fg(!1),lc=Tr(null),cc=null,ba=null,yu=null;function uc(){yu=ba=cc=null}function Nh(h){var d=lc.current;lr(lc),h._currentValue=d}function Bh(h,d,v){for(;h!==null;){var E=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,E!==null&&(E.childLanes|=d)):E!==null&&(E.childLanes&d)!==d&&(E.childLanes|=d),h===v)break;h=h.return}}function al(h,d){cc=h,yu=ba=null,h=h.dependencies,h!==null&&h.firstContext!==null&&(h.lanes&d&&(En=!0),h.firstContext=null)}function Ss(h){var d=h._currentValue;if(yu!==h)if(h={context:h,memoizedValue:d,next:null},ba===null){if(cc===null)throw Error(n(308));ba=h,cc.dependencies={lanes:0,firstContext:h}}else ba=ba.next=h;return d}var Ea=null;function zg(h){Ea===null?Ea=[h]:Ea.push(h)}function Fh(h,d,v,E){var k=d.interleaved;return k===null?(v.next=v,zg(d)):(v.next=k.next,k.next=v),d.interleaved=v,vo(h,E)}function vo(h,d){h.lanes|=d;var v=h.alternate;for(v!==null&&(v.lanes|=d),v=h,h=h.return;h!==null;)h.childLanes|=d,v=h.alternate,v!==null&&(v.childLanes|=d),v=h,h=h.return;return v.tag===3?v.stateNode:null}var er=!1;function Sn(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dr(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function tr(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function gr(h,d,v){var E=h.updateQueue;if(E===null)return null;if(E=E.shared,jn&2){var k=E.pending;return k===null?d.next=d:(d.next=k.next,k.next=d),E.pending=d,vo(h,v)}return k=E.interleaved,k===null?(d.next=d,zg(E)):(d.next=k.next,k.next=d),E.interleaved=d,vo(h,v)}function Mi(h,d,v){if(d=d.updateQueue,d!==null&&(d=d.shared,(v&4194240)!==0)){var E=d.lanes;E&=h.pendingLanes,v|=E,d.lanes=v,Lr(h,v)}}function hc(h,d){var v=h.updateQueue,E=h.alternate;if(E!==null&&(E=E.updateQueue,v===E)){var k=null,O=null;if(v=v.firstBaseUpdate,v!==null){do{var Y={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};O===null?k=O=Y:O=O.next=Y,v=v.next}while(v!==null);O===null?k=O=d:O=O.next=d}else k=O=d;v={baseState:E.baseState,firstBaseUpdate:k,lastBaseUpdate:O,shared:E.shared,effects:E.effects},h.updateQueue=v;return}h=v.lastBaseUpdate,h===null?v.firstBaseUpdate=d:h.next=d,v.lastBaseUpdate=d}function Mr(h,d,v,E){var k=h.updateQueue;er=!1;var O=k.firstBaseUpdate,Y=k.lastBaseUpdate,le=k.shared.pending;if(le!==null){k.shared.pending=null;var de=le,Ie=de.next;de.next=null,Y===null?O=Ie:Y.next=Ie,Y=de;var nt=h.alternate;nt!==null&&(nt=nt.updateQueue,le=nt.lastBaseUpdate,le!==Y&&(le===null?nt.firstBaseUpdate=Ie:le.next=Ie,nt.lastBaseUpdate=de))}if(O!==null){var st=k.baseState;Y=0,nt=Ie=de=null,le=O;do{var et=le.lane,Pt=le.eventTime;if((E&et)===et){nt!==null&&(nt=nt.next={eventTime:Pt,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var Nt=h,Ht=le;switch(et=d,Pt=v,Ht.tag){case 1:if(Nt=Ht.payload,typeof Nt=="function"){st=Nt.call(Pt,st,et);break e}st=Nt;break e;case 3:Nt.flags=Nt.flags&-65537|128;case 0:if(Nt=Ht.payload,et=typeof Nt=="function"?Nt.call(Pt,st,et):Nt,et==null)break e;st=V({},st,et);break e;case 2:er=!0}}le.callback!==null&&le.lane!==0&&(h.flags|=64,et=k.effects,et===null?k.effects=[le]:et.push(le))}else Pt={eventTime:Pt,lane:et,tag:le.tag,payload:le.payload,callback:le.callback,next:null},nt===null?(Ie=nt=Pt,de=st):nt=nt.next=Pt,Y|=et;if(le=le.next,le===null){if(le=k.shared.pending,le===null)break;et=le,le=et.next,et.next=null,k.lastBaseUpdate=et,k.shared.pending=null}}while(!0);if(nt===null&&(de=st),k.baseState=de,k.firstBaseUpdate=Ie,k.lastBaseUpdate=nt,d=k.shared.interleaved,d!==null){k=d;do Y|=k.lane,k=k.next;while(k!==d)}else O===null&&(k.shared.lanes=0);qh|=Y,h.lanes=Y,h.memoizedState=st}}function _u(h,d,v){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var E=h[d],k=E.callback;if(k!==null){if(E.callback=null,E=v,typeof k!="function")throw Error(n(191,k));k.call(E)}}}var Wo={},ws=Tr(Wo),fc=Tr(Wo),Ca=Tr(Wo);function Nr(h){if(h===Wo)throw Error(n(174));return h}function zh(h,d){switch(sr(Ca,d),sr(fc,h),sr(ws,Wo),h=d.nodeType,h){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:Pe(null,"");break;default:h=h===8?d.parentNode:d,d=h.namespaceURI||null,h=h.tagName,d=Pe(d,h)}lr(ws),sr(ws,d)}function ll(){lr(ws),lr(fc),lr(Ca)}function dc(h){Nr(Ca.current);var d=Nr(ws.current),v=Pe(d,h.type);d!==v&&(sr(fc,h),sr(ws,v))}function vu(h){fc.current===h&&(lr(ws),lr(fc))}var pr=Tr(0);function xo(h){for(var d=h;d!==null;){if(d.tag===13){var v=d.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var xu=[];function Go(){for(var h=0;h<xu.length;h++)xu[h]._workInProgressVersionPrimary=null;xu.length=0}var pc=A.ReactCurrentDispatcher,mc=A.ReactCurrentBatchConfig,Ta=0,cr=null,Ar=null,Wn=null,So=!1,Ai=!1,cl=0,ts=0;function hi(){throw Error(n(321))}function Uh(h,d){if(d===null)return!1;for(var v=0;v<d.length&&v<h.length;v++)if(!_s(h[v],d[v]))return!1;return!0}function Vh(h,d,v,E,k,O){if(Ta=O,cr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,pc.current=h===null||h.memoizedState===null?Z_:J_,h=v(E,k),Ai){O=0;do{if(Ai=!1,cl=0,25<=O)throw Error(n(301));O+=1,Wn=Ar=null,d.updateQueue=null,pc.current=Q_,h=v(E,k)}while(Ai)}if(pc.current=ap,d=Ar!==null&&Ar.next!==null,Ta=0,Wn=Ar=cr=null,So=!1,d)throw Error(n(300));return h}function Ug(){var h=cl!==0;return cl=0,h}function fi(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wn===null?cr.memoizedState=Wn=h:Wn=Wn.next=h,Wn}function bs(){if(Ar===null){var h=cr.alternate;h=h!==null?h.memoizedState:null}else h=Ar.next;var d=Wn===null?cr.memoizedState:Wn.next;if(d!==null)Wn=d,Ar=h;else{if(h===null)throw Error(n(310));Ar=h,h={memoizedState:Ar.memoizedState,baseState:Ar.baseState,baseQueue:Ar.baseQueue,queue:Ar.queue,next:null},Wn===null?cr.memoizedState=Wn=h:Wn=Wn.next=h}return Wn}function Su(h,d){return typeof d=="function"?d(h):d}function Hh(h){var d=bs(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=h;var E=Ar,k=E.baseQueue,O=v.pending;if(O!==null){if(k!==null){var Y=k.next;k.next=O.next,O.next=Y}E.baseQueue=k=O,v.pending=null}if(k!==null){O=k.next,E=E.baseState;var le=Y=null,de=null,Ie=O;do{var nt=Ie.lane;if((Ta&nt)===nt)de!==null&&(de=de.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),E=Ie.hasEagerState?Ie.eagerState:h(E,Ie.action);else{var st={lane:nt,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};de===null?(le=de=st,Y=E):de=de.next=st,cr.lanes|=nt,qh|=nt}Ie=Ie.next}while(Ie!==null&&Ie!==O);de===null?Y=E:de.next=le,_s(E,d.memoizedState)||(En=!0),d.memoizedState=E,d.baseState=Y,d.baseQueue=de,v.lastRenderedState=E}if(h=v.interleaved,h!==null){k=h;do O=k.lane,cr.lanes|=O,qh|=O,k=k.next;while(k!==h)}else k===null&&(v.lanes=0);return[d.memoizedState,v.dispatch]}function Ma(h){var d=bs(),v=d.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=h;var E=v.dispatch,k=v.pending,O=d.memoizedState;if(k!==null){v.pending=null;var Y=k=k.next;do O=h(O,Y.action),Y=Y.next;while(Y!==k);_s(O,d.memoizedState)||(En=!0),d.memoizedState=O,d.baseQueue===null&&(d.baseState=O),v.lastRenderedState=O}return[O,E]}function Vg(){}function Hg(h,d){var v=cr,E=bs(),k=d(),O=!_s(E.memoizedState,k);if(O&&(E.memoizedState=k,En=!0),E=E.queue,$g($_.bind(null,v,E,h),[h]),E.getSnapshot!==d||O||Wn!==null&&Wn.memoizedState.tag&1){if(v.flags|=2048,wo(9,Wh.bind(null,v,E,k,d),void 0,null),ki===null)throw Error(n(349));Ta&30||tp(v,d,k)}return k}function tp(h,d,v){h.flags|=16384,h={getSnapshot:d,value:v},d=cr.updateQueue,d===null?(d={lastEffect:null,stores:null},cr.updateQueue=d,d.stores=[h]):(v=d.stores,v===null?d.stores=[h]:v.push(h))}function Wh(h,d,v,E){d.value=v,d.getSnapshot=E,j_(d)&&Wg(h)}function $_(h,d,v){return v(function(){j_(d)&&Wg(h)})}function j_(h){var d=h.getSnapshot;h=h.value;try{var v=d();return!_s(h,v)}catch{return!0}}function Wg(h){var d=vo(h,1);d!==null&&La(d,h,1,-1)}function Gg(h){var d=fi();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:h},d.queue=h,h=h.dispatch=gc.bind(null,cr,h),[d.memoizedState,h]}function wo(h,d,v,E){return h={tag:h,create:d,destroy:v,deps:E,next:null},d=cr.updateQueue,d===null?(d={lastEffect:null,stores:null},cr.updateQueue=d,d.lastEffect=h.next=h):(v=d.lastEffect,v===null?d.lastEffect=h.next=h:(E=v.next,v.next=h,h.next=E,d.lastEffect=h)),h}function q_(){return bs().memoizedState}function $o(h,d,v,E){var k=fi();cr.flags|=h,k.memoizedState=wo(1|d,v,void 0,E===void 0?null:E)}function Gh(h,d,v,E){var k=bs();E=E===void 0?null:E;var O=void 0;if(Ar!==null){var Y=Ar.memoizedState;if(O=Y.destroy,E!==null&&Uh(E,Y.deps)){k.memoizedState=wo(d,v,O,E);return}}cr.flags|=h,k.memoizedState=wo(1|d,v,O,E)}function Vi(h,d){return $o(8390656,8,h,d)}function $g(h,d){return Gh(2048,8,h,d)}function jg(h,d){return Gh(4,2,h,d)}function X_(h,d){return Gh(4,4,h,d)}function Y_(h,d){if(typeof d=="function")return h=h(),d(h),function(){d(null)};if(d!=null)return h=h(),d.current=h,function(){d.current=null}}function qg(h,d,v){return v=v!=null?v.concat([h]):null,Gh(4,4,Y_.bind(null,d,h),v)}function np(){}function K_(h,d){var v=bs();d=d===void 0?null:d;var E=v.memoizedState;return E!==null&&d!==null&&Uh(d,E[1])?E[0]:(v.memoizedState=[h,d],h)}function Es(h,d){var v=bs();d=d===void 0?null:d;var E=v.memoizedState;return E!==null&&d!==null&&Uh(d,E[1])?E[0]:(h=h(),v.memoizedState=[h,d],h)}function rp(h,d,v){return Ta&21?(_s(v,d)||(v=On(),cr.lanes|=v,qh|=v,h.baseState=!0),d):(h.baseState&&(h.baseState=!1,En=!0),h.memoizedState=v)}function _b(h,d){var v=Nn;Nn=v!==0&&4>v?v:4,h(!0);var E=mc.transition;mc.transition={};try{h(!1),d()}finally{Nn=v,mc.transition=E}}function Aa(){return bs().memoizedState}function ip(h,d,v){var E=Cu(h);if(v={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null},$h(h))sp(d,v);else if(v=Fh(h,d,v,E),v!==null){var k=Ts();La(v,h,E,k),op(v,d,E)}}function gc(h,d,v){var E=Cu(h),k={lane:E,action:v,hasEagerState:!1,eagerState:null,next:null};if($h(h))sp(d,k);else{var O=h.alternate;if(h.lanes===0&&(O===null||O.lanes===0)&&(O=d.lastRenderedReducer,O!==null))try{var Y=d.lastRenderedState,le=O(Y,v);if(k.hasEagerState=!0,k.eagerState=le,_s(le,Y)){var de=d.interleaved;de===null?(k.next=k,zg(d)):(k.next=de.next,de.next=k),d.interleaved=k;return}}catch{}finally{}v=Fh(h,d,k,E),v!==null&&(k=Ts(),La(v,h,E,k),op(v,d,E))}}function $h(h){var d=h.alternate;return h===cr||d!==null&&d===cr}function sp(h,d){Ai=So=!0;var v=h.pending;v===null?d.next=d:(d.next=v.next,v.next=d),h.pending=d}function op(h,d,v){if(v&4194240){var E=d.lanes;E&=h.pendingLanes,v|=E,d.lanes=v,Lr(h,v)}}var ap={readContext:Ss,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},Z_={readContext:Ss,useCallback:function(h,d){return fi().memoizedState=[h,d===void 0?null:d],h},useContext:Ss,useEffect:Vi,useImperativeHandle:function(h,d,v){return v=v!=null?v.concat([h]):null,$o(4194308,4,Y_.bind(null,d,h),v)},useLayoutEffect:function(h,d){return $o(4194308,4,h,d)},useInsertionEffect:function(h,d){return $o(4,2,h,d)},useMemo:function(h,d){var v=fi();return d=d===void 0?null:d,h=h(),v.memoizedState=[h,d],h},useReducer:function(h,d,v){var E=fi();return d=v!==void 0?v(d):d,E.memoizedState=E.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},E.queue=h,h=h.dispatch=ip.bind(null,cr,h),[E.memoizedState,h]},useRef:function(h){var d=fi();return h={current:h},d.memoizedState=h},useState:Gg,useDebugValue:np,useDeferredValue:function(h){return fi().memoizedState=h},useTransition:function(){var h=Gg(!1),d=h[0];return h=_b.bind(null,h[1]),fi().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,v){var E=cr,k=fi();if(dr){if(v===void 0)throw Error(n(407));v=v()}else{if(v=d(),ki===null)throw Error(n(349));Ta&30||tp(E,d,v)}k.memoizedState=v;var O={value:v,getSnapshot:d};return k.queue=O,Vi($_.bind(null,E,O,h),[h]),E.flags|=2048,wo(9,Wh.bind(null,E,O,v,d),void 0,null),v},useId:function(){var h=fi(),d=ki.identifierPrefix;if(dr){var v=qs,E=yt;v=(E&~(1<<32-an(E)-1)).toString(32)+v,d=":"+d+"R"+v,v=cl++,0<v&&(d+="H"+v.toString(32)),d+=":"}else v=ts++,d=":"+d+"r"+v.toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},J_={readContext:Ss,useCallback:K_,useContext:Ss,useEffect:$g,useImperativeHandle:qg,useInsertionEffect:jg,useLayoutEffect:X_,useMemo:Es,useReducer:Hh,useRef:q_,useState:function(){return Hh(Su)},useDebugValue:np,useDeferredValue:function(h){var d=bs();return rp(d,Ar.memoizedState,h)},useTransition:function(){var h=Hh(Su)[0],d=bs().memoizedState;return[h,d]},useMutableSource:Vg,useSyncExternalStore:Hg,useId:Aa,unstable_isNewReconciler:!1},Q_={readContext:Ss,useCallback:K_,useContext:Ss,useEffect:$g,useImperativeHandle:qg,useInsertionEffect:jg,useLayoutEffect:X_,useMemo:Es,useReducer:Ma,useRef:q_,useState:function(){return Ma(Su)},useDebugValue:np,useDeferredValue:function(h){var d=bs();return Ar===null?d.memoizedState=h:rp(d,Ar.memoizedState,h)},useTransition:function(){var h=Ma(Su)[0],d=bs().memoizedState;return[h,d]},useMutableSource:Vg,useSyncExternalStore:Hg,useId:Aa,unstable_isNewReconciler:!1};function Ys(h,d){if(h&&h.defaultProps){d=V({},d),h=h.defaultProps;for(var v in h)d[v]===void 0&&(d[v]=h[v]);return d}return d}function jh(h,d,v,E){d=h.memoizedState,v=v(E,d),v=v==null?d:V({},d,v),h.memoizedState=v,h.lanes===0&&(h.updateQueue.baseState=v)}var lp={isMounted:function(h){return(h=h._reactInternals)?gs(h)===h:!1},enqueueSetState:function(h,d,v){h=h._reactInternals;var E=Ts(),k=Cu(h),O=tr(E,k);O.payload=d,v!=null&&(O.callback=v),d=gr(h,O,k),d!==null&&(La(d,h,k,E),Mi(d,h,k))},enqueueReplaceState:function(h,d,v){h=h._reactInternals;var E=Ts(),k=Cu(h),O=tr(E,k);O.tag=1,O.payload=d,v!=null&&(O.callback=v),d=gr(h,O,k),d!==null&&(La(d,h,k,E),Mi(d,h,k))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var v=Ts(),E=Cu(h),k=tr(v,E);k.tag=2,d!=null&&(k.callback=d),d=gr(h,k,E),d!==null&&(La(d,h,E,v),Mi(d,h,E))}};function ev(h,d,v,E,k,O,Y){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(E,O,Y):d.prototype&&d.prototype.isPureReactComponent?!Zl(v,E)||!Zl(k,O):!0}function g(h,d,v){var E=!1,k=va,O=d.contextType;return typeof O=="object"&&O!==null?O=Ss(O):(k=Ti(d)?xa:ci.current,E=d.contextTypes,O=(E=E!=null)?rc(h,k):va),d=new d(v,O),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lp,h.stateNode=d,d._reactInternals=h,E&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=k,h.__reactInternalMemoizedMaskedChildContext=O),d}function y(h,d,v,E){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(v,E),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(v,E),d.state!==h&&lp.enqueueReplaceState(d,d.state,null)}function b(h,d,v,E){var k=h.stateNode;k.props=v,k.state=h.memoizedState,k.refs={},Sn(h);var O=d.contextType;typeof O=="object"&&O!==null?k.context=Ss(O):(O=Ti(d)?xa:ci.current,k.context=rc(h,O)),k.state=h.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(jh(h,d,O,v),k.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(d=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),d!==k.state&&lp.enqueueReplaceState(k,k.state,null),Mr(h,v,k,E),k.state=h.memoizedState),typeof k.componentDidMount=="function"&&(h.flags|=4194308)}function M(h,d){try{var v="",E=d;do v+=me(E),E=E.return;while(E);var k=v}catch(O){k=`
Error generating stack: `+O.message+`
`+O.stack}return{value:h,source:d,stack:k,digest:null}}function P(h,d,v){return{value:h,source:null,stack:v??null,digest:d??null}}function H(h,d){try{console.error(d.value)}catch(v){setTimeout(function(){throw v})}}var ae=typeof WeakMap=="function"?WeakMap:Map;function ve(h,d,v){v=tr(-1,v),v.tag=3,v.payload={element:null};var E=d.value;return v.callback=function(){av||(av=!0,Ab=E),H(h,d)},v}function Ue(h,d,v){v=tr(-1,v),v.tag=3;var E=h.type.getDerivedStateFromError;if(typeof E=="function"){var k=d.value;v.payload=function(){return E(k)},v.callback=function(){H(h,d)}}var O=h.stateNode;return O!==null&&typeof O.componentDidCatch=="function"&&(v.callback=function(){H(h,d),typeof E!="function"&&(bu===null?bu=new Set([this]):bu.add(this));var Y=d.stack;this.componentDidCatch(d.value,{componentStack:Y!==null?Y:""})}),v}function lt(h,d,v){var E=h.pingCache;if(E===null){E=h.pingCache=new ae;var k=new Set;E.set(d,k)}else k=E.get(d),k===void 0&&(k=new Set,E.set(d,k));k.has(v)||(k.add(v),h=u6.bind(null,h,d,v),d.then(h,h))}function Dt(h){do{var d;if((d=h.tag===13)&&(d=h.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return h;h=h.return}while(h!==null);return null}function mn(h,d,v,E,k){return h.mode&1?(h.flags|=65536,h.lanes=k,h):(h===d?h.flags|=65536:(h.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(d=tr(-1,1),d.tag=2,gr(v,d,1))),v.lanes|=1),h)}var tn=A.ReactCurrentOwner,En=!1;function Mt(h,d,v,E){d.child=h===null?Oh(d,null,v,E):ac(d,h.child,v,E)}function di(h,d,v,E,k){v=v.render;var O=d.ref;return al(d,k),E=Vh(h,d,v,E,O,k),v=Ug(),h!==null&&!En?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~k,yc(h,d,k)):(dr&&v&&Ig(d),d.flags|=1,Mt(h,d,E,k),d.child)}function Cs(h,d,v,E,k){if(h===null){var O=v.type;return typeof O=="function"&&!Ob(O)&&O.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(d.tag=15,d.type=O,ke(h,d,O,E,k)):(h=dv(v.type,null,E,d,d.mode,k),h.ref=d.ref,h.return=d,d.child=h)}if(O=h.child,!(h.lanes&k)){var Y=O.memoizedProps;if(v=v.compare,v=v!==null?v:Zl,v(Y,E)&&h.ref===d.ref)return yc(h,d,k)}return d.flags|=1,h=Mu(O,E),h.ref=d.ref,h.return=d,d.child=h}function ke(h,d,v,E,k){if(h!==null){var O=h.memoizedProps;if(Zl(O,E)&&h.ref===d.ref)if(En=!1,d.pendingProps=E=O,(h.lanes&k)!==0)h.flags&131072&&(En=!0);else return d.lanes=h.lanes,yc(h,d,k)}return Ct(h,d,v,E,k)}function Se(h,d,v){var E=d.pendingProps,k=E.children,O=h!==null?h.memoizedState:null;if(E.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},sr(up,bo),bo|=v;else{if(!(v&1073741824))return h=O!==null?O.baseLanes|v:v,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null,transitions:null},d.updateQueue=null,sr(up,bo),bo|=h,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=O!==null?O.baseLanes:v,sr(up,bo),bo|=E}else O!==null?(E=O.baseLanes|v,d.memoizedState=null):E=v,sr(up,bo),bo|=E;return Mt(h,d,k,v),d.child}function Be(h,d){var v=d.ref;(h===null&&v!==null||h!==null&&h.ref!==v)&&(d.flags|=512,d.flags|=2097152)}function Ct(h,d,v,E,k){var O=Ti(v)?xa:ci.current;return O=rc(d,O),al(d,k),v=Vh(h,d,v,E,O,k),E=Ug(),h!==null&&!En?(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~k,yc(h,d,k)):(dr&&E&&Ig(d),d.flags|=1,Mt(h,d,v,k),d.child)}function Wt(h,d,v,E,k){if(Ti(v)){var O=!0;ic(d)}else O=!1;if(al(d,k),d.stateNode===null)nv(h,d),g(d,v,E),b(d,v,E,k),E=!0;else if(h===null){var Y=d.stateNode,le=d.memoizedProps;Y.props=le;var de=Y.context,Ie=v.contextType;typeof Ie=="object"&&Ie!==null?Ie=Ss(Ie):(Ie=Ti(v)?xa:ci.current,Ie=rc(d,Ie));var nt=v.getDerivedStateFromProps,st=typeof nt=="function"||typeof Y.getSnapshotBeforeUpdate=="function";st||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(le!==E||de!==Ie)&&y(d,Y,E,Ie),er=!1;var et=d.memoizedState;Y.state=et,Mr(d,E,Y,k),de=d.memoizedState,le!==E||et!==de||Fi.current||er?(typeof nt=="function"&&(jh(d,v,nt,E),de=d.memoizedState),(le=er||ev(d,v,le,E,et,de,Ie))?(st||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(d.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=E,d.memoizedState=de),Y.props=E,Y.state=de,Y.context=Ie,E=le):(typeof Y.componentDidMount=="function"&&(d.flags|=4194308),E=!1)}else{Y=d.stateNode,Dr(h,d),le=d.memoizedProps,Ie=d.type===d.elementType?le:Ys(d.type,le),Y.props=Ie,st=d.pendingProps,et=Y.context,de=v.contextType,typeof de=="object"&&de!==null?de=Ss(de):(de=Ti(v)?xa:ci.current,de=rc(d,de));var Pt=v.getDerivedStateFromProps;(nt=typeof Pt=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(le!==st||et!==de)&&y(d,Y,E,de),er=!1,et=d.memoizedState,Y.state=et,Mr(d,E,Y,k);var Nt=d.memoizedState;le!==st||et!==Nt||Fi.current||er?(typeof Pt=="function"&&(jh(d,v,Pt,E),Nt=d.memoizedState),(Ie=er||ev(d,v,Ie,E,et,Nt,de)||!1)?(nt||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(E,Nt,de),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(E,Nt,de)),typeof Y.componentDidUpdate=="function"&&(d.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof Y.componentDidUpdate!="function"||le===h.memoizedProps&&et===h.memoizedState||(d.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||le===h.memoizedProps&&et===h.memoizedState||(d.flags|=1024),d.memoizedProps=E,d.memoizedState=Nt),Y.props=E,Y.state=Nt,Y.context=de,E=Ie):(typeof Y.componentDidUpdate!="function"||le===h.memoizedProps&&et===h.memoizedState||(d.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||le===h.memoizedProps&&et===h.memoizedState||(d.flags|=1024),E=!1)}return vn(h,d,v,E,O,k)}function vn(h,d,v,E,k,O){Be(h,d);var Y=(d.flags&128)!==0;if(!E&&!Y)return k&&Pg(d,v,!1),yc(h,d,O);E=d.stateNode,tn.current=d;var le=Y&&typeof v.getDerivedStateFromError!="function"?null:E.render();return d.flags|=1,h!==null&&Y?(d.child=ac(d,h.child,null,O),d.child=ac(d,null,le,O)):Mt(h,d,le,O),d.memoizedState=E.state,k&&Pg(d,v,!0),d.child}function gn(h){var d=h.stateNode;d.pendingContext?Rg(h,d.pendingContext,d.pendingContext!==d.context):d.context&&Rg(h,d.context,!1),zh(h,d.containerInfo)}function Hn(h,d,v,E,k){return ol(),gu(k),d.flags|=256,Mt(h,d,v,E),d.child}var Br={dehydrated:null,treeContext:null,retryLane:0};function Un(h){return{baseLanes:h,cachePool:null,transitions:null}}function ka(h,d,v){var E=d.pendingProps,k=pr.current,O=!1,Y=(d.flags&128)!==0,le;if((le=Y)||(le=h!==null&&h.memoizedState===null?!1:(k&2)!==0),le?(O=!0,d.flags&=-129):(h===null||h.memoizedState!==null)&&(k|=1),sr(pr,k&1),h===null)return Qd(d),h=d.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?(d.mode&1?h.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(Y=E.children,h=E.fallback,O?(E=d.mode,O=d.child,Y={mode:"hidden",children:Y},!(E&1)&&O!==null?(O.childLanes=0,O.pendingProps=Y):O=pv(Y,E,0,null),h=Zh(h,E,v,null),O.return=d,h.return=d,O.sibling=h,d.child=O,d.child.memoizedState=Un(v),d.memoizedState=Br,h):Xg(d,Y));if(k=h.memoizedState,k!==null&&(le=k.dehydrated,le!==null))return JH(h,d,Y,E,le,k,v);if(O){O=E.fallback,Y=d.mode,k=h.child,le=k.sibling;var de={mode:"hidden",children:E.children};return!(Y&1)&&d.child!==k?(E=d.child,E.childLanes=0,E.pendingProps=de,d.deletions=null):(E=Mu(k,de),E.subtreeFlags=k.subtreeFlags&14680064),le!==null?O=Mu(le,O):(O=Zh(O,Y,v,null),O.flags|=2),O.return=d,E.return=d,E.sibling=O,d.child=E,E=O,O=d.child,Y=h.child.memoizedState,Y=Y===null?Un(v):{baseLanes:Y.baseLanes|v,cachePool:null,transitions:Y.transitions},O.memoizedState=Y,O.childLanes=h.childLanes&~v,d.memoizedState=Br,E}return O=h.child,h=O.sibling,E=Mu(O,{mode:"visible",children:E.children}),!(d.mode&1)&&(E.lanes=v),E.return=d,E.sibling=null,h!==null&&(v=d.deletions,v===null?(d.deletions=[h],d.flags|=16):v.push(h)),d.child=E,d.memoizedState=null,E}function Xg(h,d){return d=pv({mode:"visible",children:d},h.mode,0,null),d.return=h,h.child=d}function tv(h,d,v,E){return E!==null&&gu(E),ac(d,h.child,null,v),h=Xg(d,d.pendingProps.children),h.flags|=2,d.memoizedState=null,h}function JH(h,d,v,E,k,O,Y){if(v)return d.flags&256?(d.flags&=-257,E=P(Error(n(422))),tv(h,d,Y,E)):d.memoizedState!==null?(d.child=h.child,d.flags|=128,null):(O=E.fallback,k=d.mode,E=pv({mode:"visible",children:E.children},k,0,null),O=Zh(O,k,Y,null),O.flags|=2,E.return=d,O.return=d,E.sibling=O,d.child=E,d.mode&1&&ac(d,h.child,null,Y),d.child.memoizedState=Un(Y),d.memoizedState=Br,O);if(!(d.mode&1))return tv(h,d,Y,null);if(k.data==="$!"){if(E=k.nextSibling&&k.nextSibling.dataset,E)var le=E.dgst;return E=le,O=Error(n(419)),E=P(O,E,void 0),tv(h,d,Y,E)}if(le=(Y&h.childLanes)!==0,En||le){if(E=ki,E!==null){switch(Y&-Y){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=k&(E.suspendedLanes|Y)?0:k,k!==0&&k!==O.retryLane&&(O.retryLane=k,vo(h,k),La(E,h,k,-1))}return Db(),E=P(Error(n(421))),tv(h,d,Y,E)}return k.data==="$?"?(d.flags|=128,d.child=h.child,d=h6.bind(null,h),k._reactRetry=d,null):(h=O.treeContext,Ui=ya(k.nextSibling),ui=d,dr=!0,Xs=null,h!==null&&(zi[Qr++]=yt,zi[Qr++]=qs,zi[Qr++]=oc,yt=h.id,qs=h.overflow,oc=d),d=Xg(d,E.children),d.flags|=4096,d)}function dk(h,d,v){h.lanes|=d;var E=h.alternate;E!==null&&(E.lanes|=d),Bh(h.return,d,v)}function vb(h,d,v,E,k){var O=h.memoizedState;O===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:E,tail:v,tailMode:k}:(O.isBackwards=d,O.rendering=null,O.renderingStartTime=0,O.last=E,O.tail=v,O.tailMode=k)}function pk(h,d,v){var E=d.pendingProps,k=E.revealOrder,O=E.tail;if(Mt(h,d,E.children,v),E=pr.current,E&2)E=E&1|2,d.flags|=128;else{if(h!==null&&h.flags&128)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&dk(h,v,d);else if(h.tag===19)dk(h,v,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}E&=1}if(sr(pr,E),!(d.mode&1))d.memoizedState=null;else switch(k){case"forwards":for(v=d.child,k=null;v!==null;)h=v.alternate,h!==null&&xo(h)===null&&(k=v),v=v.sibling;v=k,v===null?(k=d.child,d.child=null):(k=v.sibling,v.sibling=null),vb(d,!1,k,v,O);break;case"backwards":for(v=null,k=d.child,d.child=null;k!==null;){if(h=k.alternate,h!==null&&xo(h)===null){d.child=k;break}h=k.sibling,k.sibling=v,v=k,k=h}vb(d,!0,v,null,O);break;case"together":vb(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function nv(h,d){!(d.mode&1)&&h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2)}function yc(h,d,v){if(h!==null&&(d.dependencies=h.dependencies),qh|=d.lanes,!(v&d.childLanes))return null;if(h!==null&&d.child!==h.child)throw Error(n(153));if(d.child!==null){for(h=d.child,v=Mu(h,h.pendingProps),d.child=v,v.return=d;h.sibling!==null;)h=h.sibling,v=v.sibling=Mu(h,h.pendingProps),v.return=d;v.sibling=null}return d.child}function QH(h,d,v){switch(d.tag){case 3:gn(d),ol();break;case 5:dc(d);break;case 1:Ti(d.type)&&ic(d);break;case 4:zh(d,d.stateNode.containerInfo);break;case 10:var E=d.type._context,k=d.memoizedProps.value;sr(lc,E._currentValue),E._currentValue=k;break;case 13:if(E=d.memoizedState,E!==null)return E.dehydrated!==null?(sr(pr,pr.current&1),d.flags|=128,null):v&d.child.childLanes?ka(h,d,v):(sr(pr,pr.current&1),h=yc(h,d,v),h!==null?h.sibling:null);sr(pr,pr.current&1);break;case 19:if(E=(v&d.childLanes)!==0,h.flags&128){if(E)return pk(h,d,v);d.flags|=128}if(k=d.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),sr(pr,pr.current),E)break;return null;case 22:case 23:return d.lanes=0,Se(h,d,v)}return yc(h,d,v)}var mk,xb,gk,yk;mk=function(h,d){for(var v=d.child;v!==null;){if(v.tag===5||v.tag===6)h.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===d)break;for(;v.sibling===null;){if(v.return===null||v.return===d)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},xb=function(){},gk=function(h,d,v,E){var k=h.memoizedProps;if(k!==E){h=d.stateNode,Nr(ws.current);var O=null;switch(v){case"input":k=re(h,k),E=re(h,E),O=[];break;case"select":k=V({},k,{value:void 0}),E=V({},E,{value:void 0}),O=[];break;case"textarea":k=Q(h,k),E=Q(h,E),O=[];break;default:typeof k.onClick!="function"&&typeof E.onClick=="function"&&(h.onclick=Ah)}he(v,E);var Y;v=null;for(Ie in k)if(!E.hasOwnProperty(Ie)&&k.hasOwnProperty(Ie)&&k[Ie]!=null)if(Ie==="style"){var le=k[Ie];for(Y in le)le.hasOwnProperty(Y)&&(v||(v={}),v[Y]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?O||(O=[]):(O=O||[]).push(Ie,null));for(Ie in E){var de=E[Ie];if(le=k!=null?k[Ie]:void 0,E.hasOwnProperty(Ie)&&de!==le&&(de!=null||le!=null))if(Ie==="style")if(le){for(Y in le)!le.hasOwnProperty(Y)||de&&de.hasOwnProperty(Y)||(v||(v={}),v[Y]="");for(Y in de)de.hasOwnProperty(Y)&&le[Y]!==de[Y]&&(v||(v={}),v[Y]=de[Y])}else v||(O||(O=[]),O.push(Ie,v)),v=de;else Ie==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,le=le?le.__html:void 0,de!=null&&le!==de&&(O=O||[]).push(Ie,de)):Ie==="children"?typeof de!="string"&&typeof de!="number"||(O=O||[]).push(Ie,""+de):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(de!=null&&Ie==="onScroll"&&ar("scroll",h),O||le===de||(O=[])):(O=O||[]).push(Ie,de))}v&&(O=O||[]).push("style",v);var Ie=O;(d.updateQueue=Ie)&&(d.flags|=4)}},yk=function(h,d,v,E){v!==E&&(d.flags|=4)};function Yg(h,d){if(!dr)switch(h.tailMode){case"hidden":d=h.tail;for(var v=null;d!==null;)d.alternate!==null&&(v=d),d=d.sibling;v===null?h.tail=null:v.sibling=null;break;case"collapsed":v=h.tail;for(var E=null;v!==null;)v.alternate!==null&&(E=v),v=v.sibling;E===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:E.sibling=null}}function ns(h){var d=h.alternate!==null&&h.alternate.child===h.child,v=0,E=0;if(d)for(var k=h.child;k!==null;)v|=k.lanes|k.childLanes,E|=k.subtreeFlags&14680064,E|=k.flags&14680064,k.return=h,k=k.sibling;else for(k=h.child;k!==null;)v|=k.lanes|k.childLanes,E|=k.subtreeFlags,E|=k.flags,k.return=h,k=k.sibling;return h.subtreeFlags|=E,h.childLanes=v,d}function e6(h,d,v){var E=d.pendingProps;switch(wa(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ns(d),null;case 1:return Ti(d.type)&&kh(),ns(d),null;case 3:return E=d.stateNode,ll(),lr(Fi),lr(ci),Go(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(h===null||h.child===null)&&(mu(d)?d.flags|=4:h===null||h.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Xs!==null&&(Pb(Xs),Xs=null))),xb(h,d),ns(d),null;case 5:vu(d);var k=Nr(Ca.current);if(v=d.type,h!==null&&d.stateNode!=null)gk(h,d,v,E,k),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!E){if(d.stateNode===null)throw Error(n(166));return ns(d),null}if(h=Nr(ws.current),mu(d)){E=d.stateNode,v=d.type;var O=d.memoizedProps;switch(E[Hr]=d,E[pu]=O,h=(d.mode&1)!==0,v){case"dialog":ar("cancel",E),ar("close",E);break;case"iframe":case"object":case"embed":ar("load",E);break;case"video":case"audio":for(k=0;k<il.length;k++)ar(il[k],E);break;case"source":ar("error",E);break;case"img":case"image":case"link":ar("error",E),ar("load",E);break;case"details":ar("toggle",E);break;case"input":pt(E,O),ar("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!O.multiple},ar("invalid",E);break;case"textarea":be(E,O),ar("invalid",E)}he(v,O),k=null;for(var Y in O)if(O.hasOwnProperty(Y)){var le=O[Y];Y==="children"?typeof le=="string"?E.textContent!==le&&(O.suppressHydrationWarning!==!0&&Mh(E.textContent,le,h),k=["children",le]):typeof le=="number"&&E.textContent!==""+le&&(O.suppressHydrationWarning!==!0&&Mh(E.textContent,le,h),k=["children",""+le]):i.hasOwnProperty(Y)&&le!=null&&Y==="onScroll"&&ar("scroll",E)}switch(v){case"input":xt(E),Qe(E,O,!0);break;case"textarea":xt(E),$e(E);break;case"select":case"option":break;default:typeof O.onClick=="function"&&(E.onclick=Ah)}E=k,d.updateQueue=E,E!==null&&(d.flags|=4)}else{Y=k.nodeType===9?k:k.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ce(v)),h==="http://www.w3.org/1999/xhtml"?v==="script"?(h=Y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof E.is=="string"?h=Y.createElement(v,{is:E.is}):(h=Y.createElement(v),v==="select"&&(Y=h,E.multiple?Y.multiple=!0:E.size&&(Y.size=E.size))):h=Y.createElementNS(h,v),h[Hr]=d,h[pu]=E,mk(h,d,!1,!1),d.stateNode=h;e:{switch(Y=Fe(v,E),v){case"dialog":ar("cancel",h),ar("close",h),k=E;break;case"iframe":case"object":case"embed":ar("load",h),k=E;break;case"video":case"audio":for(k=0;k<il.length;k++)ar(il[k],h);k=E;break;case"source":ar("error",h),k=E;break;case"img":case"image":case"link":ar("error",h),ar("load",h),k=E;break;case"details":ar("toggle",h),k=E;break;case"input":pt(h,E),k=re(h,E),ar("invalid",h);break;case"option":k=E;break;case"select":h._wrapperState={wasMultiple:!!E.multiple},k=V({},E,{value:void 0}),ar("invalid",h);break;case"textarea":be(h,E),k=Q(h,E),ar("invalid",h);break;default:k=E}he(v,k),le=k;for(O in le)if(le.hasOwnProperty(O)){var de=le[O];O==="style"?Lt(h,de):O==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Ye(h,de)):O==="children"?typeof de=="string"?(v!=="textarea"||de!=="")&&St(h,de):typeof de=="number"&&St(h,""+de):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(i.hasOwnProperty(O)?de!=null&&O==="onScroll"&&ar("scroll",h):de!=null&&T(h,O,de,Y))}switch(v){case"input":xt(h),Qe(h,E,!1);break;case"textarea":xt(h),$e(h);break;case"option":E.value!=null&&h.setAttribute("value",""+ze(E.value));break;case"select":h.multiple=!!E.multiple,O=E.value,O!=null?te(h,!!E.multiple,O,!1):E.defaultValue!=null&&te(h,!!E.multiple,E.defaultValue,!0);break;default:typeof k.onClick=="function"&&(h.onclick=Ah)}switch(v){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return ns(d),null;case 6:if(h&&d.stateNode!=null)yk(h,d,h.memoizedProps,E);else{if(typeof E!="string"&&d.stateNode===null)throw Error(n(166));if(v=Nr(Ca.current),Nr(ws.current),mu(d)){if(E=d.stateNode,v=d.memoizedProps,E[Hr]=d,(O=E.nodeValue!==v)&&(h=ui,h!==null))switch(h.tag){case 3:Mh(E.nodeValue,v,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Mh(E.nodeValue,v,(h.mode&1)!==0)}O&&(d.flags|=4)}else E=(v.nodeType===9?v:v.ownerDocument).createTextNode(E),E[Hr]=d,d.stateNode=E}return ns(d),null;case 13:if(lr(pr),E=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(dr&&Ui!==null&&d.mode&1&&!(d.flags&128))Ng(),ol(),d.flags|=98560,O=!1;else if(O=mu(d),E!==null&&E.dehydrated!==null){if(h===null){if(!O)throw Error(n(318));if(O=d.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(n(317));O[Hr]=d}else ol(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;ns(d),O=!1}else Xs!==null&&(Pb(Xs),Xs=null),O=!0;if(!O)return d.flags&65536?d:null}return d.flags&128?(d.lanes=v,d):(E=E!==null,E!==(h!==null&&h.memoizedState!==null)&&E&&(d.child.flags|=8192,d.mode&1&&(h===null||pr.current&1?pi===0&&(pi=3):Db())),d.updateQueue!==null&&(d.flags|=4),ns(d),null);case 4:return ll(),xb(h,d),h===null&&hu(d.stateNode.containerInfo),ns(d),null;case 10:return Nh(d.type._context),ns(d),null;case 17:return Ti(d.type)&&kh(),ns(d),null;case 19:if(lr(pr),O=d.memoizedState,O===null)return ns(d),null;if(E=(d.flags&128)!==0,Y=O.rendering,Y===null)if(E)Yg(O,!1);else{if(pi!==0||h!==null&&h.flags&128)for(h=d.child;h!==null;){if(Y=xo(h),Y!==null){for(d.flags|=128,Yg(O,!1),E=Y.updateQueue,E!==null&&(d.updateQueue=E,d.flags|=4),d.subtreeFlags=0,E=v,v=d.child;v!==null;)O=v,h=E,O.flags&=14680066,Y=O.alternate,Y===null?(O.childLanes=0,O.lanes=h,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=Y.childLanes,O.lanes=Y.lanes,O.child=Y.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=Y.memoizedProps,O.memoizedState=Y.memoizedState,O.updateQueue=Y.updateQueue,O.type=Y.type,h=Y.dependencies,O.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),v=v.sibling;return sr(pr,pr.current&1|2),d.child}h=h.sibling}O.tail!==null&&xe()>hp&&(d.flags|=128,E=!0,Yg(O,!1),d.lanes=4194304)}else{if(!E)if(h=xo(Y),h!==null){if(d.flags|=128,E=!0,v=h.updateQueue,v!==null&&(d.updateQueue=v,d.flags|=4),Yg(O,!0),O.tail===null&&O.tailMode==="hidden"&&!Y.alternate&&!dr)return ns(d),null}else 2*xe()-O.renderingStartTime>hp&&v!==1073741824&&(d.flags|=128,E=!0,Yg(O,!1),d.lanes=4194304);O.isBackwards?(Y.sibling=d.child,d.child=Y):(v=O.last,v!==null?v.sibling=Y:d.child=Y,O.last=Y)}return O.tail!==null?(d=O.tail,O.rendering=d,O.tail=d.sibling,O.renderingStartTime=xe(),d.sibling=null,v=pr.current,sr(pr,E?v&1|2:v&1),d):(ns(d),null);case 22:case 23:return Ib(),E=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==E&&(d.flags|=8192),E&&d.mode&1?bo&1073741824&&(ns(d),d.subtreeFlags&6&&(d.flags|=8192)):ns(d),null;case 24:return null;case 25:return null}throw Error(n(156,d.tag))}function t6(h,d){switch(wa(d),d.tag){case 1:return Ti(d.type)&&kh(),h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 3:return ll(),lr(Fi),lr(ci),Go(),h=d.flags,h&65536&&!(h&128)?(d.flags=h&-65537|128,d):null;case 5:return vu(d),null;case 13:if(lr(pr),h=d.memoizedState,h!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(n(340));ol()}return h=d.flags,h&65536?(d.flags=h&-65537|128,d):null;case 19:return lr(pr),null;case 4:return ll(),null;case 10:return Nh(d.type._context),null;case 22:case 23:return Ib(),null;case 24:return null;default:return null}}var rv=!1,rs=!1,n6=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function cp(h,d){var v=h.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(E){Fr(h,d,E)}else v.current=null}function Sb(h,d,v){try{v()}catch(E){Fr(h,d,E)}}var _k=!1;function r6(h,d){if(du=Vs,h=br(),Yr(h)){if("selectionStart"in h)var v={start:h.selectionStart,end:h.selectionEnd};else e:{v=(v=h.ownerDocument)&&v.defaultView||window;var E=v.getSelection&&v.getSelection();if(E&&E.rangeCount!==0){v=E.anchorNode;var k=E.anchorOffset,O=E.focusNode;E=E.focusOffset;try{v.nodeType,O.nodeType}catch{v=null;break e}var Y=0,le=-1,de=-1,Ie=0,nt=0,st=h,et=null;t:for(;;){for(var Pt;st!==v||k!==0&&st.nodeType!==3||(le=Y+k),st!==O||E!==0&&st.nodeType!==3||(de=Y+E),st.nodeType===3&&(Y+=st.nodeValue.length),(Pt=st.firstChild)!==null;)et=st,st=Pt;for(;;){if(st===h)break t;if(et===v&&++Ie===k&&(le=Y),et===O&&++nt===E&&(de=Y),(Pt=st.nextSibling)!==null)break;st=et,et=st.parentNode}st=Pt}v=le===-1||de===-1?null:{start:le,end:de}}else v=null}v=v||{start:0,end:0}}else v=null;for(Eg={focusedElem:h,selectionRange:v},Vs=!1,Ot=d;Ot!==null;)if(d=Ot,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Ot=h;else for(;Ot!==null;){d=Ot;try{var Nt=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(Nt!==null){var Ht=Nt.memoizedProps,Wr=Nt.memoizedState,Te=d.stateNode,_e=Te.getSnapshotBeforeUpdate(d.elementType===d.type?Ht:Ys(d.type,Ht),Wr);Te.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var Ae=d.stateNode.containerInfo;Ae.nodeType===1?Ae.textContent="":Ae.nodeType===9&&Ae.documentElement&&Ae.removeChild(Ae.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ft){Fr(d,d.return,ft)}if(h=d.sibling,h!==null){h.return=d.return,Ot=h;break}Ot=d.return}return Nt=_k,_k=!1,Nt}function Kg(h,d,v){var E=d.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var k=E=E.next;do{if((k.tag&h)===h){var O=k.destroy;k.destroy=void 0,O!==void 0&&Sb(d,v,O)}k=k.next}while(k!==E)}}function iv(h,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var v=d=d.next;do{if((v.tag&h)===h){var E=v.create;v.destroy=E()}v=v.next}while(v!==d)}}function wb(h){var d=h.ref;if(d!==null){var v=h.stateNode;switch(h.tag){case 5:h=v;break;default:h=v}typeof d=="function"?d(h):d.current=h}}function vk(h){var d=h.alternate;d!==null&&(h.alternate=null,vk(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode,d!==null&&(delete d[Hr],delete d[pu],delete d[nc],delete d[jd],delete d[qd])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function xk(h){return h.tag===5||h.tag===3||h.tag===4}function Sk(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||xk(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function bb(h,d,v){var E=h.tag;if(E===5||E===6)h=h.stateNode,d?v.nodeType===8?v.parentNode.insertBefore(h,d):v.insertBefore(h,d):(v.nodeType===8?(d=v.parentNode,d.insertBefore(h,v)):(d=v,d.appendChild(h)),v=v._reactRootContainer,v!=null||d.onclick!==null||(d.onclick=Ah));else if(E!==4&&(h=h.child,h!==null))for(bb(h,d,v),h=h.sibling;h!==null;)bb(h,d,v),h=h.sibling}function Eb(h,d,v){var E=h.tag;if(E===5||E===6)h=h.stateNode,d?v.insertBefore(h,d):v.appendChild(h);else if(E!==4&&(h=h.child,h!==null))for(Eb(h,d,v),h=h.sibling;h!==null;)Eb(h,d,v),h=h.sibling}var Hi=null,Ra=!1;function wu(h,d,v){for(v=v.child;v!==null;)wk(h,d,v),v=v.sibling}function wk(h,d,v){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Yt,v)}catch{}switch(v.tag){case 5:rs||cp(v,d);case 6:var E=Hi,k=Ra;Hi=null,wu(h,d,v),Hi=E,Ra=k,Hi!==null&&(Ra?(h=Hi,v=v.stateNode,h.nodeType===8?h.parentNode.removeChild(v):h.removeChild(v)):Hi.removeChild(v.stateNode));break;case 18:Hi!==null&&(Ra?(h=Hi,v=v.stateNode,h.nodeType===8?$d(h.parentNode,v):h.nodeType===1&&$d(h,v),gh(h)):$d(Hi,v.stateNode));break;case 4:E=Hi,k=Ra,Hi=v.stateNode.containerInfo,Ra=!0,wu(h,d,v),Hi=E,Ra=k;break;case 0:case 11:case 14:case 15:if(!rs&&(E=v.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){k=E=E.next;do{var O=k,Y=O.destroy;O=O.tag,Y!==void 0&&(O&2||O&4)&&Sb(v,d,Y),k=k.next}while(k!==E)}wu(h,d,v);break;case 1:if(!rs&&(cp(v,d),E=v.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=v.memoizedProps,E.state=v.memoizedState,E.componentWillUnmount()}catch(le){Fr(v,d,le)}wu(h,d,v);break;case 21:wu(h,d,v);break;case 22:v.mode&1?(rs=(E=rs)||v.memoizedState!==null,wu(h,d,v),rs=E):wu(h,d,v);break;default:wu(h,d,v)}}function bk(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var v=h.stateNode;v===null&&(v=h.stateNode=new n6),d.forEach(function(E){var k=f6.bind(null,h,E);v.has(E)||(v.add(E),E.then(k,k))})}}function Pa(h,d){var v=d.deletions;if(v!==null)for(var E=0;E<v.length;E++){var k=v[E];try{var O=h,Y=d,le=Y;e:for(;le!==null;){switch(le.tag){case 5:Hi=le.stateNode,Ra=!1;break e;case 3:Hi=le.stateNode.containerInfo,Ra=!0;break e;case 4:Hi=le.stateNode.containerInfo,Ra=!0;break e}le=le.return}if(Hi===null)throw Error(n(160));wk(O,Y,k),Hi=null,Ra=!1;var de=k.alternate;de!==null&&(de.return=null),k.return=null}catch(Ie){Fr(k,d,Ie)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)Ek(d,h),d=d.sibling}function Ek(h,d){var v=h.alternate,E=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Pa(d,h),ul(h),E&4){try{Kg(3,h,h.return),iv(3,h)}catch(Ht){Fr(h,h.return,Ht)}try{Kg(5,h,h.return)}catch(Ht){Fr(h,h.return,Ht)}}break;case 1:Pa(d,h),ul(h),E&512&&v!==null&&cp(v,v.return);break;case 5:if(Pa(d,h),ul(h),E&512&&v!==null&&cp(v,v.return),h.flags&32){var k=h.stateNode;try{St(k,"")}catch(Ht){Fr(h,h.return,Ht)}}if(E&4&&(k=h.stateNode,k!=null)){var O=h.memoizedProps,Y=v!==null?v.memoizedProps:O,le=h.type,de=h.updateQueue;if(h.updateQueue=null,de!==null)try{le==="input"&&O.type==="radio"&&O.name!=null&&Ge(k,O),Fe(le,Y);var Ie=Fe(le,O);for(Y=0;Y<de.length;Y+=2){var nt=de[Y],st=de[Y+1];nt==="style"?Lt(k,st):nt==="dangerouslySetInnerHTML"?Ye(k,st):nt==="children"?St(k,st):T(k,nt,st,Ie)}switch(le){case"input":ot(k,O);break;case"textarea":Ne(k,O);break;case"select":var et=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!O.multiple;var Pt=O.value;Pt!=null?te(k,!!O.multiple,Pt,!1):et!==!!O.multiple&&(O.defaultValue!=null?te(k,!!O.multiple,O.defaultValue,!0):te(k,!!O.multiple,O.multiple?[]:"",!1))}k[pu]=O}catch(Ht){Fr(h,h.return,Ht)}}break;case 6:if(Pa(d,h),ul(h),E&4){if(h.stateNode===null)throw Error(n(162));k=h.stateNode,O=h.memoizedProps;try{k.nodeValue=O}catch(Ht){Fr(h,h.return,Ht)}}break;case 3:if(Pa(d,h),ul(h),E&4&&v!==null&&v.memoizedState.isDehydrated)try{gh(d.containerInfo)}catch(Ht){Fr(h,h.return,Ht)}break;case 4:Pa(d,h),ul(h);break;case 13:Pa(d,h),ul(h),k=h.child,k.flags&8192&&(O=k.memoizedState!==null,k.stateNode.isHidden=O,!O||k.alternate!==null&&k.alternate.memoizedState!==null||(Mb=xe())),E&4&&bk(h);break;case 22:if(nt=v!==null&&v.memoizedState!==null,h.mode&1?(rs=(Ie=rs)||nt,Pa(d,h),rs=Ie):Pa(d,h),ul(h),E&8192){if(Ie=h.memoizedState!==null,(h.stateNode.isHidden=Ie)&&!nt&&h.mode&1)for(Ot=h,nt=h.child;nt!==null;){for(st=Ot=nt;Ot!==null;){switch(et=Ot,Pt=et.child,et.tag){case 0:case 11:case 14:case 15:Kg(4,et,et.return);break;case 1:cp(et,et.return);var Nt=et.stateNode;if(typeof Nt.componentWillUnmount=="function"){E=et,v=et.return;try{d=E,Nt.props=d.memoizedProps,Nt.state=d.memoizedState,Nt.componentWillUnmount()}catch(Ht){Fr(E,v,Ht)}}break;case 5:cp(et,et.return);break;case 22:if(et.memoizedState!==null){Mk(st);continue}}Pt!==null?(Pt.return=et,Ot=Pt):Mk(st)}nt=nt.sibling}e:for(nt=null,st=h;;){if(st.tag===5){if(nt===null){nt=st;try{k=st.stateNode,Ie?(O=k.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none"):(le=st.stateNode,de=st.memoizedProps.style,Y=de!=null&&de.hasOwnProperty("display")?de.display:null,le.style.display=kt("display",Y))}catch(Ht){Fr(h,h.return,Ht)}}}else if(st.tag===6){if(nt===null)try{st.stateNode.nodeValue=Ie?"":st.memoizedProps}catch(Ht){Fr(h,h.return,Ht)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===h)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===h)break e;for(;st.sibling===null;){if(st.return===null||st.return===h)break e;nt===st&&(nt=null),st=st.return}nt===st&&(nt=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:Pa(d,h),ul(h),E&4&&bk(h);break;case 21:break;default:Pa(d,h),ul(h)}}function ul(h){var d=h.flags;if(d&2){try{e:{for(var v=h.return;v!==null;){if(xk(v)){var E=v;break e}v=v.return}throw Error(n(160))}switch(E.tag){case 5:var k=E.stateNode;E.flags&32&&(St(k,""),E.flags&=-33);var O=Sk(h);Eb(h,O,k);break;case 3:case 4:var Y=E.stateNode.containerInfo,le=Sk(h);bb(h,le,Y);break;default:throw Error(n(161))}}catch(de){Fr(h,h.return,de)}h.flags&=-3}d&4096&&(h.flags&=-4097)}function i6(h,d,v){Ot=h,Ck(h)}function Ck(h,d,v){for(var E=(h.mode&1)!==0;Ot!==null;){var k=Ot,O=k.child;if(k.tag===22&&E){var Y=k.memoizedState!==null||rv;if(!Y){var le=k.alternate,de=le!==null&&le.memoizedState!==null||rs;le=rv;var Ie=rs;if(rv=Y,(rs=de)&&!Ie)for(Ot=k;Ot!==null;)Y=Ot,de=Y.child,Y.tag===22&&Y.memoizedState!==null?Ak(k):de!==null?(de.return=Y,Ot=de):Ak(k);for(;O!==null;)Ot=O,Ck(O),O=O.sibling;Ot=k,rv=le,rs=Ie}Tk(h)}else k.subtreeFlags&8772&&O!==null?(O.return=k,Ot=O):Tk(h)}}function Tk(h){for(;Ot!==null;){var d=Ot;if(d.flags&8772){var v=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:rs||iv(5,d);break;case 1:var E=d.stateNode;if(d.flags&4&&!rs)if(v===null)E.componentDidMount();else{var k=d.elementType===d.type?v.memoizedProps:Ys(d.type,v.memoizedProps);E.componentDidUpdate(k,v.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var O=d.updateQueue;O!==null&&_u(d,O,E);break;case 3:var Y=d.updateQueue;if(Y!==null){if(v=null,d.child!==null)switch(d.child.tag){case 5:v=d.child.stateNode;break;case 1:v=d.child.stateNode}_u(d,Y,v)}break;case 5:var le=d.stateNode;if(v===null&&d.flags&4){v=le;var de=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&v.focus();break;case"img":de.src&&(v.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var Ie=d.alternate;if(Ie!==null){var nt=Ie.memoizedState;if(nt!==null){var st=nt.dehydrated;st!==null&&gh(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}rs||d.flags&512&&wb(d)}catch(et){Fr(d,d.return,et)}}if(d===h){Ot=null;break}if(v=d.sibling,v!==null){v.return=d.return,Ot=v;break}Ot=d.return}}function Mk(h){for(;Ot!==null;){var d=Ot;if(d===h){Ot=null;break}var v=d.sibling;if(v!==null){v.return=d.return,Ot=v;break}Ot=d.return}}function Ak(h){for(;Ot!==null;){var d=Ot;try{switch(d.tag){case 0:case 11:case 15:var v=d.return;try{iv(4,d)}catch(de){Fr(d,v,de)}break;case 1:var E=d.stateNode;if(typeof E.componentDidMount=="function"){var k=d.return;try{E.componentDidMount()}catch(de){Fr(d,k,de)}}var O=d.return;try{wb(d)}catch(de){Fr(d,O,de)}break;case 5:var Y=d.return;try{wb(d)}catch(de){Fr(d,Y,de)}}}catch(de){Fr(d,d.return,de)}if(d===h){Ot=null;break}var le=d.sibling;if(le!==null){le.return=d.return,Ot=le;break}Ot=d.return}}var s6=Math.ceil,sv=A.ReactCurrentDispatcher,Cb=A.ReactCurrentOwner,jo=A.ReactCurrentBatchConfig,jn=0,ki=null,ei=null,Wi=0,bo=0,up=Tr(0),pi=0,Zg=null,qh=0,ov=0,Tb=0,Jg=null,Ks=null,Mb=0,hp=1/0,_c=null,av=!1,Ab=null,bu=null,lv=!1,Eu=null,cv=0,Qg=0,kb=null,uv=-1,hv=0;function Ts(){return jn&6?xe():uv!==-1?uv:uv=xe()}function Cu(h){return h.mode&1?jn&2&&Wi!==0?Wi&-Wi:yb.transition!==null?(hv===0&&(hv=On()),hv):(h=Nn,h!==0||(h=window.event,h=h===void 0?16:R_(h.type)),h):1}function La(h,d,v,E){if(50<Qg)throw Qg=0,kb=null,Error(n(185));Xr(h,v,E),(!(jn&2)||h!==ki)&&(h===ki&&(!(jn&2)&&(ov|=v),pi===4&&Tu(h,Wi)),Zs(h,E),v===1&&jn===0&&!(d.mode&1)&&(hp=xe()+500,Ph&&Ho()))}function Zs(h,d){var v=h.callbackNode;qr(h,d);var E=oi(h,h===ki?Wi:0);if(E===0)v!==null&&X(v),h.callbackNode=null,h.callbackPriority=0;else if(d=E&-E,h.callbackPriority!==d){if(v!=null&&X(v),d===1)h.tag===0?G_(Rk.bind(null,h)):Lh(Rk.bind(null,h)),gb(function(){!(jn&6)&&Ho()}),v=null;else{switch(Ki(E)){case 1:v=Ze;break;case 4:v=mt;break;case 16:v=dt;break;case 536870912:v=Xt;break;default:v=dt}v=Fk(v,kk.bind(null,h))}h.callbackPriority=d,h.callbackNode=v}}function kk(h,d){if(uv=-1,hv=0,jn&6)throw Error(n(327));var v=h.callbackNode;if(fp()&&h.callbackNode!==v)return null;var E=oi(h,h===ki?Wi:0);if(E===0)return null;if(E&30||E&h.expiredLanes||d)d=fv(h,E);else{d=E;var k=jn;jn|=2;var O=Lk();(ki!==h||Wi!==d)&&(_c=null,hp=xe()+500,Yh(h,d));do try{l6();break}catch(le){Pk(h,le)}while(!0);uc(),sv.current=O,jn=k,ei!==null?d=0:(ki=null,Wi=0,d=pi)}if(d!==0){if(d===2&&(k=Bo(h),k!==0&&(E=k,d=Rb(h,k))),d===1)throw v=Zg,Yh(h,0),Tu(h,E),Zs(h,xe()),v;if(d===6)Tu(h,E);else{if(k=h.current.alternate,!(E&30)&&!o6(k)&&(d=fv(h,E),d===2&&(O=Bo(h),O!==0&&(E=O,d=Rb(h,O))),d===1))throw v=Zg,Yh(h,0),Tu(h,E),Zs(h,xe()),v;switch(h.finishedWork=k,h.finishedLanes=E,d){case 0:case 1:throw Error(n(345));case 2:Kh(h,Ks,_c);break;case 3:if(Tu(h,E),(E&130023424)===E&&(d=Mb+500-xe(),10<d)){if(oi(h,0)!==0)break;if(k=h.suspendedLanes,(k&E)!==E){Ts(),h.pingedLanes|=h.suspendedLanes&k;break}h.timeoutHandle=Tg(Kh.bind(null,h,Ks,_c),d);break}Kh(h,Ks,_c);break;case 4:if(Tu(h,E),(E&4194240)===E)break;for(d=h.eventTimes,k=-1;0<E;){var Y=31-an(E);O=1<<Y,Y=d[Y],Y>k&&(k=Y),E&=~O}if(E=k,E=xe()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*s6(E/1960))-E,10<E){h.timeoutHandle=Tg(Kh.bind(null,h,Ks,_c),E);break}Kh(h,Ks,_c);break;case 5:Kh(h,Ks,_c);break;default:throw Error(n(329))}}}return Zs(h,xe()),h.callbackNode===v?kk.bind(null,h):null}function Rb(h,d){var v=Jg;return h.current.memoizedState.isDehydrated&&(Yh(h,d).flags|=256),h=fv(h,d),h!==2&&(d=Ks,Ks=v,d!==null&&Pb(d)),h}function Pb(h){Ks===null?Ks=h:Ks.push.apply(Ks,h)}function o6(h){for(var d=h;;){if(d.flags&16384){var v=d.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var E=0;E<v.length;E++){var k=v[E],O=k.getSnapshot;k=k.value;try{if(!_s(O(),k))return!1}catch{return!1}}}if(v=d.child,d.subtreeFlags&16384&&v!==null)v.return=d,d=v;else{if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Tu(h,d){for(d&=~Tb,d&=~ov,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var v=31-an(d),E=1<<v;h[v]=-1,d&=~E}}function Rk(h){if(jn&6)throw Error(n(327));fp();var d=oi(h,0);if(!(d&1))return Zs(h,xe()),null;var v=fv(h,d);if(h.tag!==0&&v===2){var E=Bo(h);E!==0&&(d=E,v=Rb(h,E))}if(v===1)throw v=Zg,Yh(h,0),Tu(h,d),Zs(h,xe()),v;if(v===6)throw Error(n(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,Kh(h,Ks,_c),Zs(h,xe()),null}function Lb(h,d){var v=jn;jn|=1;try{return h(d)}finally{jn=v,jn===0&&(hp=xe()+500,Ph&&Ho())}}function Xh(h){Eu!==null&&Eu.tag===0&&!(jn&6)&&fp();var d=jn;jn|=1;var v=jo.transition,E=Nn;try{if(jo.transition=null,Nn=1,h)return h()}finally{Nn=E,jo.transition=v,jn=d,!(jn&6)&&Ho()}}function Ib(){bo=up.current,lr(up)}function Yh(h,d){h.finishedWork=null,h.finishedLanes=0;var v=h.timeoutHandle;if(v!==-1&&(h.timeoutHandle=-1,Mg(v)),ei!==null)for(v=ei.return;v!==null;){var E=v;switch(wa(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&kh();break;case 3:ll(),lr(Fi),lr(ci),Go();break;case 5:vu(E);break;case 4:ll();break;case 13:lr(pr);break;case 19:lr(pr);break;case 10:Nh(E.type._context);break;case 22:case 23:Ib()}v=v.return}if(ki=h,ei=h=Mu(h.current,null),Wi=bo=d,pi=0,Zg=null,Tb=ov=qh=0,Ks=Jg=null,Ea!==null){for(d=0;d<Ea.length;d++)if(v=Ea[d],E=v.interleaved,E!==null){v.interleaved=null;var k=E.next,O=v.pending;if(O!==null){var Y=O.next;O.next=k,E.next=Y}v.pending=E}Ea=null}return h}function Pk(h,d){do{var v=ei;try{if(uc(),pc.current=ap,So){for(var E=cr.memoizedState;E!==null;){var k=E.queue;k!==null&&(k.pending=null),E=E.next}So=!1}if(Ta=0,Wn=Ar=cr=null,Ai=!1,cl=0,Cb.current=null,v===null||v.return===null){pi=1,Zg=d,ei=null;break}e:{var O=h,Y=v.return,le=v,de=d;if(d=Wi,le.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ie=de,nt=le,st=nt.tag;if(!(nt.mode&1)&&(st===0||st===11||st===15)){var et=nt.alternate;et?(nt.updateQueue=et.updateQueue,nt.memoizedState=et.memoizedState,nt.lanes=et.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var Pt=Dt(Y);if(Pt!==null){Pt.flags&=-257,mn(Pt,Y,le,O,d),Pt.mode&1&&lt(O,Ie,d),d=Pt,de=Ie;var Nt=d.updateQueue;if(Nt===null){var Ht=new Set;Ht.add(de),d.updateQueue=Ht}else Nt.add(de);break e}else{if(!(d&1)){lt(O,Ie,d),Db();break e}de=Error(n(426))}}else if(dr&&le.mode&1){var Wr=Dt(Y);if(Wr!==null){!(Wr.flags&65536)&&(Wr.flags|=256),mn(Wr,Y,le,O,d),gu(M(de,le));break e}}O=de=M(de,le),pi!==4&&(pi=2),Jg===null?Jg=[O]:Jg.push(O),O=Y;do{switch(O.tag){case 3:O.flags|=65536,d&=-d,O.lanes|=d;var Te=ve(O,de,d);hc(O,Te);break e;case 1:le=de;var _e=O.type,Ae=O.stateNode;if(!(O.flags&128)&&(typeof _e.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(bu===null||!bu.has(Ae)))){O.flags|=65536,d&=-d,O.lanes|=d;var ft=Ue(O,le,d);hc(O,ft);break e}}O=O.return}while(O!==null)}Dk(v)}catch(jt){d=jt,ei===v&&v!==null&&(ei=v=v.return);continue}break}while(!0)}function Lk(){var h=sv.current;return sv.current=ap,h===null?ap:h}function Db(){(pi===0||pi===3||pi===2)&&(pi=4),ki===null||!(qh&268435455)&&!(ov&268435455)||Tu(ki,Wi)}function fv(h,d){var v=jn;jn|=2;var E=Lk();(ki!==h||Wi!==d)&&(_c=null,Yh(h,d));do try{a6();break}catch(k){Pk(h,k)}while(!0);if(uc(),jn=v,sv.current=E,ei!==null)throw Error(n(261));return ki=null,Wi=0,pi}function a6(){for(;ei!==null;)Ik(ei)}function l6(){for(;ei!==null&&!pe();)Ik(ei)}function Ik(h){var d=Bk(h.alternate,h,bo);h.memoizedProps=h.pendingProps,d===null?Dk(h):ei=d,Cb.current=null}function Dk(h){var d=h;do{var v=d.alternate;if(h=d.return,d.flags&32768){if(v=t6(v,d),v!==null){v.flags&=32767,ei=v;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{pi=6,ei=null;return}}else if(v=e6(v,d,bo),v!==null){ei=v;return}if(d=d.sibling,d!==null){ei=d;return}ei=d=h}while(d!==null);pi===0&&(pi=5)}function Kh(h,d,v){var E=Nn,k=jo.transition;try{jo.transition=null,Nn=1,c6(h,d,v,E)}finally{jo.transition=k,Nn=E}return null}function c6(h,d,v,E){do fp();while(Eu!==null);if(jn&6)throw Error(n(327));v=h.finishedWork;var k=h.finishedLanes;if(v===null)return null;if(h.finishedWork=null,h.finishedLanes=0,v===h.current)throw Error(n(177));h.callbackNode=null,h.callbackPriority=0;var O=v.lanes|v.childLanes;if(ai(h,O),h===ki&&(ei=ki=null,Wi=0),!(v.subtreeFlags&2064)&&!(v.flags&2064)||lv||(lv=!0,Fk(dt,function(){return fp(),null})),O=(v.flags&15990)!==0,v.subtreeFlags&15990||O){O=jo.transition,jo.transition=null;var Y=Nn;Nn=1;var le=jn;jn|=4,Cb.current=null,r6(h,v),Ek(v,h),Kr(Eg),Vs=!!du,Eg=du=null,h.current=v,i6(v),Ce(),jn=le,Nn=Y,jo.transition=O}else h.current=v;if(lv&&(lv=!1,Eu=h,cv=k),O=h.pendingLanes,O===0&&(bu=null),Vt(v.stateNode),Zs(h,xe()),d!==null)for(E=h.onRecoverableError,v=0;v<d.length;v++)k=d[v],E(k.value,{componentStack:k.stack,digest:k.digest});if(av)throw av=!1,h=Ab,Ab=null,h;return cv&1&&h.tag!==0&&fp(),O=h.pendingLanes,O&1?h===kb?Qg++:(Qg=0,kb=h):Qg=0,Ho(),null}function fp(){if(Eu!==null){var h=Ki(cv),d=jo.transition,v=Nn;try{if(jo.transition=null,Nn=16>h?16:h,Eu===null)var E=!1;else{if(h=Eu,Eu=null,cv=0,jn&6)throw Error(n(331));var k=jn;for(jn|=4,Ot=h.current;Ot!==null;){var O=Ot,Y=O.child;if(Ot.flags&16){var le=O.deletions;if(le!==null){for(var de=0;de<le.length;de++){var Ie=le[de];for(Ot=Ie;Ot!==null;){var nt=Ot;switch(nt.tag){case 0:case 11:case 15:Kg(8,nt,O)}var st=nt.child;if(st!==null)st.return=nt,Ot=st;else for(;Ot!==null;){nt=Ot;var et=nt.sibling,Pt=nt.return;if(vk(nt),nt===Ie){Ot=null;break}if(et!==null){et.return=Pt,Ot=et;break}Ot=Pt}}}var Nt=O.alternate;if(Nt!==null){var Ht=Nt.child;if(Ht!==null){Nt.child=null;do{var Wr=Ht.sibling;Ht.sibling=null,Ht=Wr}while(Ht!==null)}}Ot=O}}if(O.subtreeFlags&2064&&Y!==null)Y.return=O,Ot=Y;else e:for(;Ot!==null;){if(O=Ot,O.flags&2048)switch(O.tag){case 0:case 11:case 15:Kg(9,O,O.return)}var Te=O.sibling;if(Te!==null){Te.return=O.return,Ot=Te;break e}Ot=O.return}}var _e=h.current;for(Ot=_e;Ot!==null;){Y=Ot;var Ae=Y.child;if(Y.subtreeFlags&2064&&Ae!==null)Ae.return=Y,Ot=Ae;else e:for(Y=_e;Ot!==null;){if(le=Ot,le.flags&2048)try{switch(le.tag){case 0:case 11:case 15:iv(9,le)}}catch(jt){Fr(le,le.return,jt)}if(le===Y){Ot=null;break e}var ft=le.sibling;if(ft!==null){ft.return=le.return,Ot=ft;break e}Ot=le.return}}if(jn=k,Ho(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Yt,h)}catch{}E=!0}return E}finally{Nn=v,jo.transition=d}}return!1}function Ok(h,d,v){d=M(v,d),d=ve(h,d,1),h=gr(h,d,1),d=Ts(),h!==null&&(Xr(h,1,d),Zs(h,d))}function Fr(h,d,v){if(h.tag===3)Ok(h,h,v);else for(;d!==null;){if(d.tag===3){Ok(d,h,v);break}else if(d.tag===1){var E=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(bu===null||!bu.has(E))){h=M(v,h),h=Ue(d,h,1),d=gr(d,h,1),h=Ts(),d!==null&&(Xr(d,1,h),Zs(d,h));break}}d=d.return}}function u6(h,d,v){var E=h.pingCache;E!==null&&E.delete(d),d=Ts(),h.pingedLanes|=h.suspendedLanes&v,ki===h&&(Wi&v)===v&&(pi===4||pi===3&&(Wi&130023424)===Wi&&500>xe()-Mb?Yh(h,0):Tb|=v),Zs(h,d)}function Nk(h,d){d===0&&(h.mode&1?(d=Fn,Fn<<=1,!(Fn&130023424)&&(Fn=4194304)):d=1);var v=Ts();h=vo(h,d),h!==null&&(Xr(h,d,v),Zs(h,v))}function h6(h){var d=h.memoizedState,v=0;d!==null&&(v=d.retryLane),Nk(h,v)}function f6(h,d){var v=0;switch(h.tag){case 13:var E=h.stateNode,k=h.memoizedState;k!==null&&(v=k.retryLane);break;case 19:E=h.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(d),Nk(h,v)}var Bk;Bk=function(h,d,v){if(h!==null)if(h.memoizedProps!==d.pendingProps||Fi.current)En=!0;else{if(!(h.lanes&v)&&!(d.flags&128))return En=!1,QH(h,d,v);En=!!(h.flags&131072)}else En=!1,dr&&d.flags&1048576&&Lg(d,Zd,d.index);switch(d.lanes=0,d.tag){case 2:var E=d.type;nv(h,d),h=d.pendingProps;var k=rc(d,ci.current);al(d,v),k=Vh(null,d,E,h,k,v);var O=Ug();return d.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ti(E)?(O=!0,ic(d)):O=!1,d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Sn(d),k.updater=lp,d.stateNode=k,k._reactInternals=d,b(d,E,h,v),d=vn(null,d,E,!0,O,v)):(d.tag=0,dr&&O&&Ig(d),Mt(null,d,k,v),d=d.child),d;case 16:E=d.elementType;e:{switch(nv(h,d),h=d.pendingProps,k=E._init,E=k(E._payload),d.type=E,k=d.tag=p6(E),h=Ys(E,h),k){case 0:d=Ct(null,d,E,h,v);break e;case 1:d=Wt(null,d,E,h,v);break e;case 11:d=di(null,d,E,h,v);break e;case 14:d=Cs(null,d,E,Ys(E.type,h),v);break e}throw Error(n(306,E,""))}return d;case 0:return E=d.type,k=d.pendingProps,k=d.elementType===E?k:Ys(E,k),Ct(h,d,E,k,v);case 1:return E=d.type,k=d.pendingProps,k=d.elementType===E?k:Ys(E,k),Wt(h,d,E,k,v);case 3:e:{if(gn(d),h===null)throw Error(n(387));E=d.pendingProps,O=d.memoizedState,k=O.element,Dr(h,d),Mr(d,E,null,v);var Y=d.memoizedState;if(E=Y.element,O.isDehydrated)if(O={element:E,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},d.updateQueue.baseState=O,d.memoizedState=O,d.flags&256){k=M(Error(n(423)),d),d=Hn(h,d,E,v,k);break e}else if(E!==k){k=M(Error(n(424)),d),d=Hn(h,d,E,v,k);break e}else for(Ui=ya(d.stateNode.containerInfo.firstChild),ui=d,dr=!0,Xs=null,v=Oh(d,null,E,v),d.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(ol(),E===k){d=yc(h,d,v);break e}Mt(h,d,E,v)}d=d.child}return d;case 5:return dc(d),h===null&&Qd(d),E=d.type,k=d.pendingProps,O=h!==null?h.memoizedProps:null,Y=k.children,Cg(E,k)?Y=null:O!==null&&Cg(E,O)&&(d.flags|=32),Be(h,d),Mt(h,d,Y,v),d.child;case 6:return h===null&&Qd(d),null;case 13:return ka(h,d,v);case 4:return zh(d,d.stateNode.containerInfo),E=d.pendingProps,h===null?d.child=ac(d,null,E,v):Mt(h,d,E,v),d.child;case 11:return E=d.type,k=d.pendingProps,k=d.elementType===E?k:Ys(E,k),di(h,d,E,k,v);case 7:return Mt(h,d,d.pendingProps,v),d.child;case 8:return Mt(h,d,d.pendingProps.children,v),d.child;case 12:return Mt(h,d,d.pendingProps.children,v),d.child;case 10:e:{if(E=d.type._context,k=d.pendingProps,O=d.memoizedProps,Y=k.value,sr(lc,E._currentValue),E._currentValue=Y,O!==null)if(_s(O.value,Y)){if(O.children===k.children&&!Fi.current){d=yc(h,d,v);break e}}else for(O=d.child,O!==null&&(O.return=d);O!==null;){var le=O.dependencies;if(le!==null){Y=O.child;for(var de=le.firstContext;de!==null;){if(de.context===E){if(O.tag===1){de=tr(-1,v&-v),de.tag=2;var Ie=O.updateQueue;if(Ie!==null){Ie=Ie.shared;var nt=Ie.pending;nt===null?de.next=de:(de.next=nt.next,nt.next=de),Ie.pending=de}}O.lanes|=v,de=O.alternate,de!==null&&(de.lanes|=v),Bh(O.return,v,d),le.lanes|=v;break}de=de.next}}else if(O.tag===10)Y=O.type===d.type?null:O.child;else if(O.tag===18){if(Y=O.return,Y===null)throw Error(n(341));Y.lanes|=v,le=Y.alternate,le!==null&&(le.lanes|=v),Bh(Y,v,d),Y=O.sibling}else Y=O.child;if(Y!==null)Y.return=O;else for(Y=O;Y!==null;){if(Y===d){Y=null;break}if(O=Y.sibling,O!==null){O.return=Y.return,Y=O;break}Y=Y.return}O=Y}Mt(h,d,k.children,v),d=d.child}return d;case 9:return k=d.type,E=d.pendingProps.children,al(d,v),k=Ss(k),E=E(k),d.flags|=1,Mt(h,d,E,v),d.child;case 14:return E=d.type,k=Ys(E,d.pendingProps),k=Ys(E.type,k),Cs(h,d,E,k,v);case 15:return ke(h,d,d.type,d.pendingProps,v);case 17:return E=d.type,k=d.pendingProps,k=d.elementType===E?k:Ys(E,k),nv(h,d),d.tag=1,Ti(E)?(h=!0,ic(d)):h=!1,al(d,v),g(d,E,k),b(d,E,k,v),vn(null,d,E,!0,h,v);case 19:return pk(h,d,v);case 22:return Se(h,d,v)}throw Error(n(156,d.tag))};function Fk(h,d){return it(h,d)}function d6(h,d,v,E){this.tag=h,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qo(h,d,v,E){return new d6(h,d,v,E)}function Ob(h){return h=h.prototype,!(!h||!h.isReactComponent)}function p6(h){if(typeof h=="function")return Ob(h)?1:0;if(h!=null){if(h=h.$$typeof,h===q)return 11;if(h===J)return 14}return 2}function Mu(h,d){var v=h.alternate;return v===null?(v=qo(h.tag,d,h.key,h.mode),v.elementType=h.elementType,v.type=h.type,v.stateNode=h.stateNode,v.alternate=h,h.alternate=v):(v.pendingProps=d,v.type=h.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=h.flags&14680064,v.childLanes=h.childLanes,v.lanes=h.lanes,v.child=h.child,v.memoizedProps=h.memoizedProps,v.memoizedState=h.memoizedState,v.updateQueue=h.updateQueue,d=h.dependencies,v.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},v.sibling=h.sibling,v.index=h.index,v.ref=h.ref,v}function dv(h,d,v,E,k,O){var Y=2;if(E=h,typeof h=="function")Ob(h)&&(Y=1);else if(typeof h=="string")Y=5;else e:switch(h){case N:return Zh(v.children,k,O,d);case z:Y=8,k|=8;break;case D:return h=qo(12,v,d,k|2),h.elementType=D,h.lanes=O,h;case K:return h=qo(13,v,d,k),h.elementType=K,h.lanes=O,h;case j:return h=qo(19,v,d,k),h.elementType=j,h.lanes=O,h;case ie:return pv(v,k,O,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case I:Y=10;break e;case B:Y=9;break e;case q:Y=11;break e;case J:Y=14;break e;case $:Y=16,E=null;break e}throw Error(n(130,h==null?h:typeof h,""))}return d=qo(Y,v,d,k),d.elementType=h,d.type=E,d.lanes=O,d}function Zh(h,d,v,E){return h=qo(7,h,E,d),h.lanes=v,h}function pv(h,d,v,E){return h=qo(22,h,E,d),h.elementType=ie,h.lanes=v,h.stateNode={isHidden:!1},h}function Nb(h,d,v){return h=qo(6,h,null,d),h.lanes=v,h}function Bb(h,d,v){return d=qo(4,h.children!==null?h.children:[],h.key,d),d.lanes=v,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function m6(h,d,v,E,k){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=E,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Fb(h,d,v,E,k,O,Y,le,de){return h=new m6(h,d,v,le,de),d===1?(d=1,O===!0&&(d|=8)):d=0,O=qo(3,null,null,d),h.current=O,O.stateNode=h,O.memoizedState={element:E,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sn(O),h}function g6(h,d,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:E==null?null:""+E,children:h,containerInfo:d,implementation:v}}function zk(h){if(!h)return va;h=h._reactInternals;e:{if(gs(h)!==h||h.tag!==1)throw Error(n(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ti(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(n(171))}if(h.tag===1){var v=h.type;if(Ti(v))return Rh(h,v,d)}return d}function Uk(h,d,v,E,k,O,Y,le,de){return h=Fb(v,E,!0,h,k,O,Y,le,de),h.context=zk(null),v=h.current,E=Ts(),k=Cu(v),O=tr(E,k),O.callback=d??null,gr(v,O,k),h.current.lanes=k,Xr(h,k,E),Zs(h,E),h}function mv(h,d,v,E){var k=d.current,O=Ts(),Y=Cu(k);return v=zk(v),d.context===null?d.context=v:d.pendingContext=v,d=tr(O,Y),d.payload={element:h},E=E===void 0?null:E,E!==null&&(d.callback=E),h=gr(k,d,Y),h!==null&&(La(h,k,Y,O),Mi(h,k,Y)),Y}function gv(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function Vk(h,d){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var v=h.retryLane;h.retryLane=v!==0&&v<d?v:d}}function zb(h,d){Vk(h,d),(h=h.alternate)&&Vk(h,d)}function y6(){return null}var Hk=typeof reportError=="function"?reportError:function(h){console.error(h)};function Ub(h){this._internalRoot=h}yv.prototype.render=Ub.prototype.render=function(h){var d=this._internalRoot;if(d===null)throw Error(n(409));mv(h,d,null,null)},yv.prototype.unmount=Ub.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var d=h.containerInfo;Xh(function(){mv(null,h,null,null)}),d[xs]=null}};function yv(h){this._internalRoot=h}yv.prototype.unstable_scheduleHydration=function(h){if(h){var d=gd();h={blockedOn:null,target:h,priority:d};for(var v=0;v<Ja.length&&d!==0&&d<Ja[v].priority;v++);Ja.splice(v,0,h),v===0&&vd(h)}};function Vb(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function _v(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function Wk(){}function _6(h,d,v,E,k){if(k){if(typeof E=="function"){var O=E;E=function(){var Ie=gv(Y);O.call(Ie)}}var Y=Uk(d,E,h,0,null,!1,!1,"",Wk);return h._reactRootContainer=Y,h[xs]=Y.current,hu(h.nodeType===8?h.parentNode:h),Xh(),Y}for(;k=h.lastChild;)h.removeChild(k);if(typeof E=="function"){var le=E;E=function(){var Ie=gv(de);le.call(Ie)}}var de=Fb(h,0,!1,null,null,!1,!1,"",Wk);return h._reactRootContainer=de,h[xs]=de.current,hu(h.nodeType===8?h.parentNode:h),Xh(function(){mv(d,de,v,E)}),de}function vv(h,d,v,E,k){var O=v._reactRootContainer;if(O){var Y=O;if(typeof k=="function"){var le=k;k=function(){var de=gv(Y);le.call(de)}}mv(d,Y,h,k)}else Y=_6(v,d,h,k,E);return gv(Y)}dh=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var v=An(d.pendingLanes);v!==0&&(Lr(d,v|1),Zs(d,xe()),!(jn&6)&&(hp=xe()+500,Ho()))}break;case 13:Xh(function(){var E=vo(h,1);if(E!==null){var k=Ts();La(E,h,1,k)}}),zb(h,1)}},ag=function(h){if(h.tag===13){var d=vo(h,134217728);if(d!==null){var v=Ts();La(d,h,134217728,v)}zb(h,134217728)}},k_=function(h){if(h.tag===13){var d=Cu(h),v=vo(h,d);if(v!==null){var E=Ts();La(v,h,d,E)}zb(h,d)}},gd=function(){return Nn},yd=function(h,d){var v=Nn;try{return Nn=h,d()}finally{Nn=v}},tt=function(h,d,v){switch(d){case"input":if(ot(h,v),d=v.name,v.type==="radio"&&d!=null){for(v=h;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<v.length;d++){var E=v[d];if(E!==h&&E.form===h.form){var k=Xd(E);if(!k)throw Error(n(90));We(E),ot(E,k)}}}break;case"textarea":Ne(h,v);break;case"select":d=v.value,d!=null&&te(h,!!v.multiple,d,!1)}},_n=Lb,Qn=Xh;var v6={usingClientEntryPoint:!1,Events:[_a,Ir,Xd,vt,Et,Lb]},ey={findFiberByHostInstance:sl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},x6={bundleType:ey.bundleType,version:ey.version,rendererPackageName:ey.rendererPackageName,rendererConfig:ey.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Ut(h),h===null?null:h.stateNode},findFiberByHostInstance:ey.findFiberByHostInstance||y6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xv.isDisabled&&xv.supportsFiber)try{Yt=xv.inject(x6),ht=xv}catch{}}return Js.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v6,Js.createPortal=function(h,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vb(d))throw Error(n(200));return g6(h,d,null,v)},Js.createRoot=function(h,d){if(!Vb(h))throw Error(n(299));var v=!1,E="",k=Hk;return d!=null&&(d.unstable_strictMode===!0&&(v=!0),d.identifierPrefix!==void 0&&(E=d.identifierPrefix),d.onRecoverableError!==void 0&&(k=d.onRecoverableError)),d=Fb(h,1,!1,null,null,v,!1,E,k),h[xs]=d.current,hu(h.nodeType===8?h.parentNode:h),new Ub(d)},Js.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(n(188)):(h=Object.keys(h).join(","),Error(n(268,h)));return h=Ut(d),h=h===null?null:h.stateNode,h},Js.flushSync=function(h){return Xh(h)},Js.hydrate=function(h,d,v){if(!_v(d))throw Error(n(200));return vv(null,h,d,!0,v)},Js.hydrateRoot=function(h,d,v){if(!Vb(h))throw Error(n(405));var E=v!=null&&v.hydratedSources||null,k=!1,O="",Y=Hk;if(v!=null&&(v.unstable_strictMode===!0&&(k=!0),v.identifierPrefix!==void 0&&(O=v.identifierPrefix),v.onRecoverableError!==void 0&&(Y=v.onRecoverableError)),d=Uk(d,null,h,1,v??null,k,!1,O,Y),h[xs]=d.current,hu(h),E)for(h=0;h<E.length;h++)v=E[h],k=v._getVersion,k=k(v._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[v,k]:d.mutableSourceEagerHydrationData.push(v,k);return new yv(d)},Js.render=function(h,d,v){if(!_v(d))throw Error(n(200));return vv(null,h,d,!1,v)},Js.unmountComponentAtNode=function(h){if(!_v(h))throw Error(n(40));return h._reactRootContainer?(Xh(function(){vv(null,null,h,!1,function(){h._reactRootContainer=null,h[xs]=null})}),!0):!1},Js.unstable_batchedUpdates=Lb,Js.unstable_renderSubtreeIntoContainer=function(h,d,v,E){if(!_v(v))throw Error(n(200));if(h==null||h._reactInternals===void 0)throw Error(n(38));return vv(h,d,v,!1,E)},Js.version="18.3.1-next-f1338f8080-20240426",Js}var Qk;function pO(){if(Qk)return Gb.exports;Qk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gb.exports=P6(),Gb.exports}var eR;function L6(){if(eR)return Sv;eR=1;var t=pO();return Sv.createRoot=t.createRoot,Sv.hydrateRoot=t.hydrateRoot,Sv}var I6=L6();const D6=Fm(I6);var O6="Invariant failed";function Ua(t,e){if(!t)throw new Error(O6)}function Jp(t){const e=t.resolvedLocation,n=t.location,r=(e==null?void 0:e.pathname)!==n.pathname,i=(e==null?void 0:e.href)!==n.href,s=(e==null?void 0:e.hash)!==n.hash;return{fromLocation:e,toLocation:n,pathChanged:r,hrefChanged:i,hashChanged:s}}const N6="Error preloading route! ☝️";function Xy(t){return t[t.length-1]}function B6(t){return typeof t=="function"}function Mf(t,e){return B6(t)?t(e):t}function YC(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Jo(t,e){if(t===e)return t;const n=e,r=nR(t)&&nR(n);if(r||cS(t)&&cS(n)){const i=r?t:Object.keys(t),s=i.length,o=r?n:Object.keys(n),a=o.length,l=r?[]:{};let c=0;for(let u=0;u<a;u++){const f=r?u:o[u];(!r&&i.includes(f)||r)&&t[f]===void 0&&n[f]===void 0?(l[f]=void 0,c++):(l[f]=Jo(t[f],n[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return s===a&&c===s?t:l}return n}function cS(t){if(!tR(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!tR(n)||!n.hasOwnProperty("isPrototypeOf"))}function tR(t){return Object.prototype.toString.call(t)==="[object Object]"}function nR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function rR(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function Qp(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(cS(t)&&cS(e)){const r=(n==null?void 0:n.ignoreUndefined)??!0,i=rR(t,r),s=rR(e,r);return!(n!=null&&n.partial)&&i.length!==s.length?!1:s.every(o=>Qp(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!Qp(r,e[i],n)):!1}function Fp(t){let e,n;const r=new Promise((i,s)=>{e=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t==null||t(i)},r.reject=i=>{r.status="rejected",n(i)},r}function F6(t){return/%[0-9A-Fa-f]{2}/.test(t)}function Bc(t){return Yw(t.filter(e=>e!==void 0).join("/"))}function Yw(t){return t.replace(/\/{2,}/g,"/")}function VM(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Af(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function z6(t){return Af(VM(t))}function uS(t,e){return t!=null&&t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function U6(t,e,n){return uS(t,n)===uS(e,n)}function V6({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;e=hS(t,e,i),n=hS(t,n,i);let a=vm(e);const l=vm(n);a.length>1&&((s=Xy(a))==null?void 0:s.value)==="/"&&a.pop(),l.forEach((u,f)=>{u.value==="/"?f?f===l.length-1&&a.push(u):a=[u]:u.value===".."?a.pop():u.value==="."||a.push(u)}),a.length>1&&(((o=Xy(a))==null?void 0:o.value)==="/"?r==="never"&&a.pop():r==="always"&&a.push({type:"pathname",value:"/"}));const c=Bc([t,...a.map(u=>u.value)]);return Yw(c)}function vm(t){if(!t)return[];t=Yw(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function wv({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=vm(t);function o(c){const u=e[c],f=typeof u=="string";return["*","_splat"].includes(c)?f?encodeURI(u):u:f?H6(u,i):u}const a={},l=Bc(s.map(c=>{if(c.type==="wildcard"){a._splat=e._splat;const u=o("_splat");return n?`${c.value}${u??""}`:u}if(c.type==="param"){const u=c.value.substring(1);if(a[u]=e[u],r){const f=o(c.value);return`${c.value}${f??""}`}return o(u)??"undefined"}return c.value}));return{usedParams:a,interpolatedPath:l}}function H6(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function bv(t,e,n){const r=W6(t,e,n);if(!(n.to&&!r))return r??{}}function hS(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function W6(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=hS(t,e,n.caseSensitive);const r=hS(t,`${n.to??"$"}`,n.caseSensitive),i=vm(e),s=vm(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let l=0;l<Math.max(i.length,s.length);l++){const c=i[l],u=s[l],f=l>=i.length-1,p=l>=s.length-1;if(u){if(u.type==="wildcard"){const m=decodeURI(Bc(i.slice(l).map(_=>_.value)));return o["*"]=m,o._splat=m,!0}if(u.type==="pathname"){if(u.value==="/"&&!(c!=null&&c.value))return!0;if(c){if(n.caseSensitive){if(u.value!==c.value)return!1}else if(u.value.toLowerCase()!==c.value.toLowerCase())return!1}}if(!c)return!1;if(u.type==="param"){if(c.value==="/")return!1;c.value.charAt(0)!=="$"&&(o[u.value.substring(1)]=decodeURIComponent(c.value))}}if(!f&&p)return o["**"]=Bc(i.slice(l+1).map(m=>m.value)),!!n.fuzzy&&(u==null?void 0:u.value)!=="/"}return!0})()?o:void 0}function G6(t,e){let n,r,i,s="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+s}function iR(t){if(!t)return"";const e=F6(t)?decodeURIComponent(t):decodeURIComponent(encodeURIComponent(t));return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function $6(t,e){let n,r;const i={},s=t.split("&");for(;n=s.shift();){const o=n.indexOf("=");if(o!==-1){r=n.slice(0,o),r=decodeURIComponent(r);const a=n.slice(o+1);i[r]!==void 0?i[r]=[].concat(i[r],iR(a)):i[r]=iR(a)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const ro="__root__",j6=X6(JSON.parse),q6=Y6(JSON.stringify,JSON.parse);function X6(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=$6(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function Y6(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=G6(r).toString();return i?`?${i}`:""}}const Zu="__TSR_index",sR="popstate",oR="beforeunload";function mO(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(a=>a({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},s=async({task:o,navigateOpts:a,...l})=>{var c,u;if((a==null?void 0:a.ignoreBlocker)??!1){o();return}const p=((c=t.getBlockers)==null?void 0:c.call(t))??[],m=l.type==="PUSH"||l.type==="REPLACE";if(typeof document<"u"&&p.length&&m)for(const _ of p){const S=y0(l.path,l.state);if(await _.blockerFn({currentLocation:e,nextLocation:S,action:l.type})){(u=t.onBlocked)==null||u.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,a,l)=>{const c=e.state[Zu];a=KC(c+1,a),s({task:()=>{t.pushState(o,a),r({type:"PUSH"})},navigateOpts:l,type:"PUSH",path:o,state:a})},replace:(o,a,l)=>{const c=e.state[Zu];a=KC(c,a),s({task:()=>{t.replaceState(o,a),r({type:"REPLACE"})},navigateOpts:l,type:"REPLACE",path:o,state:a})},go:(o,a)=>{s({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:a,type:"GO"})},back:o=>{s({task:()=>{t.back((o==null?void 0:o.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{t.forward((o==null?void 0:o.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Zu]!==0,createHref:o=>t.createHref(o),block:o=>{var a;if(!t.setBlockers)return()=>{};const l=((a=t.getBlockers)==null?void 0:a.call(t))??[];return t.setBlockers([...l,o]),()=>{var c,u;const f=((c=t.getBlockers)==null?void 0:c.call(t))??[];(u=t.setBlockers)==null||u.call(t,f.filter(p=>p!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function KC(t,e){return e||(e={}),{...e,key:HM(),[Zu]:t}}function K6(t){var e;const n=typeof document<"u"?window:void 0,r=n.history.pushState,i=n.history.replaceState;let s=[];const o=()=>s,a=D=>s=D,l=D=>D,c=()=>y0(`${n.location.pathname}${n.location.search}${n.location.hash}`,n.history.state);(e=n.history.state)!=null&&e.key||n.history.replaceState({[Zu]:0,key:HM()},"");let u=c(),f,p=!1,m=!1,_=!1,S=!1;const w=()=>u;let x,C;const T=()=>{x&&(z._ignoreSubscribers=!0,(x.isPush?n.history.pushState:n.history.replaceState)(x.state,"",x.href),z._ignoreSubscribers=!1,x=void 0,C=void 0,f=void 0)},A=(D,I,B)=>{const q=l(I);C||(f=u),u=y0(I,B),x={href:q,state:B,isPush:(x==null?void 0:x.isPush)||D==="push"},C||(C=Promise.resolve().then(()=>T()))},L=D=>{u=c(),z.notify({type:D})},R=async()=>{if(m){m=!1;return}const D=c(),I=D.state[Zu]-u.state[Zu],B=I===1,q=I===-1,K=!B&&!q||p;p=!1;const j=K?"GO":q?"BACK":"FORWARD",J=K?{type:"GO",index:I}:{type:q?"BACK":"FORWARD"};if(_)_=!1;else{const $=o();if(typeof document<"u"&&$.length){for(const ie of $)if(await ie.blockerFn({currentLocation:u,nextLocation:D,action:j})){m=!0,n.history.go(1),z.notify(J);return}}}u=c(),z.notify(J)},N=D=>{if(S){S=!1;return}let I=!1;const B=o();if(typeof document<"u"&&B.length)for(const q of B){const K=q.enableBeforeUnload??!0;if(K===!0){I=!0;break}if(typeof K=="function"&&K()===!0){I=!0;break}}if(I)return D.preventDefault(),D.returnValue=""},z=mO({getLocation:w,getLength:()=>n.history.length,pushState:(D,I)=>A("push",D,I),replaceState:(D,I)=>A("replace",D,I),back:D=>(D&&(_=!0),S=!0,n.history.back()),forward:D=>{D&&(_=!0),S=!0,n.history.forward()},go:D=>{p=!0,n.history.go(D)},createHref:D=>l(D),flush:T,destroy:()=>{n.history.pushState=r,n.history.replaceState=i,n.removeEventListener(oR,N,{capture:!0}),n.removeEventListener(sR,R)},onBlocked:()=>{f&&u!==f&&(u=f)},getBlockers:o,setBlockers:a,notifyOnIndexChange:!1});return n.addEventListener(oR,N,{capture:!0}),n.addEventListener(sR,R),n.history.pushState=function(...D){const I=r.apply(n.history,D);return z._ignoreSubscribers||L("PUSH"),I},n.history.replaceState=function(...D){const I=i.apply(n.history,D);return z._ignoreSubscribers||L("REPLACE"),I},z}function Z6(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((s,o)=>KC(o,void 0));return mO({getLocation:()=>y0(e[n],r[n]),getLength:()=>e.length,pushState:(s,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(s),n=Math.max(e.length-1,0)},replaceState:(s,o)=>{r[n]=o,e[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),e.length-1)},createHref:s=>s})}function y0(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Zu]:0,key:HM()}}}function HM(){return(Math.random()+1).toString(36).substring(7)}function WM(t){const e=t.errorComponent??Kw;return ne.jsx(J6,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?Re.createElement(e,{error:n,reset:r}):t.children})}class J6 extends Re.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Kw({error:t}){const[e,n]=Re.useState(!1);return ne.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[ne.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[ne.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),ne.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),ne.jsx("div",{style:{height:".25rem"}}),e?ne.jsx("div",{children:ne.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?ne.jsx("code",{children:t.message}):null})}):null]})}var qb={exports:{}},Xb={},Yb={exports:{}},Kb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function Q6(){if(aR)return Kb;aR=1;var t=zm();function e(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(f,p){var m=p(),_=r({inst:{value:m,getSnapshot:p}}),S=_[0].inst,w=_[1];return s(function(){S.value=m,S.getSnapshot=p,l(S)&&w({inst:S})},[f,m,p]),i(function(){return l(S)&&w({inst:S}),f(function(){l(S)&&w({inst:S})})},[f]),o(m),m}function l(f){var p=f.getSnapshot;f=f.value;try{var m=p();return!n(f,m)}catch{return!0}}function c(f,p){return p()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Kb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Kb}var lR;function e8(){return lR||(lR=1,Yb.exports=Q6()),Yb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cR;function t8(){if(cR)return Xb;cR=1;var t=zm(),e=e8();function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Xb.useSyncExternalStoreWithSelector=function(c,u,f,p,m){var _=s(null);if(_.current===null){var S={hasValue:!1,value:null};_.current=S}else S=_.current;_=a(function(){function x(R){if(!C){if(C=!0,T=R,R=p(R),m!==void 0&&S.hasValue){var N=S.value;if(m(N,R))return A=N}return A=R}if(N=A,r(T,R))return N;var z=p(R);return m!==void 0&&m(N,z)?(T=R,N):(T=R,A=z)}var C=!1,T,A,L=f===void 0?null:f;return[function(){return x(u())},L===null?void 0:function(){return x(L())}]},[u,f,p,m]);var w=i(c,_[0],_[1]);return o(function(){S.hasValue=!0,S.value=w},[w]),l(w),w},Xb}var uR;function n8(){return uR||(uR=1,qb.exports=t8()),qb.exports}var r8=n8();const em=new WeakMap,zx=new WeakMap,fS={current:[]};let Zb=!1,Yy=0;const Ny=new Set,Ev=new Map;function gO(t){const e=Array.from(t).sort((n,r)=>n instanceof tm&&n.options.deps.includes(r)?1:r instanceof tm&&r.options.deps.includes(n)?-1:0);for(const n of e){if(fS.current.includes(n))continue;fS.current.push(n),n.recompute();const r=zx.get(n);if(r)for(const i of r){const s=em.get(i);s&&gO(s)}}}function i8(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function s8(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function yO(t){if(Yy>0&&!Ev.has(t)&&Ev.set(t,t.prevState),Ny.add(t),!(Yy>0)&&!Zb)try{for(Zb=!0;Ny.size>0;){const e=Array.from(Ny);Ny.clear();for(const n of e){const r=Ev.get(n)??n.prevState;n.prevState=r,i8(n)}for(const n of e){const r=em.get(n);r&&(fS.current.push(n),gO(r))}for(const n of e){const r=em.get(n);if(r)for(const i of r)s8(i)}}}finally{Zb=!1,fS.current=[],Ev.clear()}}function Jb(t){Yy++;try{t()}finally{if(Yy--,Yy===0){const e=Array.from(Ny)[0];e&&yO(e)}}}class ZC{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),yO(this)},this.prevState=e,this.state=e,this.options=n}}class tm{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof tm&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s==null||s()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof tm)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof ZC){let r=em.get(n);r||(r=new Set,em.set(n,r)),r.add(this);let i=zx.get(this);i||(i=new Set,zx.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof tm)this.unregisterFromGraph(n.options.deps);else if(n instanceof ZC){const r=em.get(n);r&&r.delete(this);const i=zx.get(this);i&&i.delete(n)}}}function o8(t,e=n=>n){return r8.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,a8)}function a8(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const Qb=Re.createContext(null);function _O(){return typeof document>"u"?Qb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Qb,Qb)}function qa(t){const e=Re.useContext(_O());return t==null||t.warn,e}function Is(t){const e=qa({warn:(t==null?void 0:t.router)===void 0}),n=(t==null?void 0:t.router)||e,r=Re.useRef(void 0);return o8(n.__store,i=>{if(t!=null&&t.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const s=Jo(r.current,t.select(i));return r.current=s,s}return t.select(i)}return i})}const Zw=Re.createContext(void 0),l8=Re.createContext(void 0);function Ga(t){const e=Re.useContext(t.from?l8:Zw);return Is({select:r=>{const i=r.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(Ua(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function GM(t){return Ga({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function $M(t){const{select:e,...n}=t;return Ga({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function jM(t){return Ga({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function qM(t){return Ga({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function c8(t={}){if(t.isNotFound=!0,t.throw)throw t;return t}function Qo(t){return!!(t!=null&&t.isNotFound)}function u8(t){const e=Is({select:n=>`not-found-${n.location.pathname}-${n.status}`});return ne.jsx(WM,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(Qo(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(Qo(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function h8(){return ne.jsx("p",{children:"Not Found"})}function XM(t){const{navigate:e}=qa();return Re.useCallback(n=>e({...n}),[e])}function vO(t){return new f8({id:t})}class f8{constructor({id:e}){this.useMatch=n=>Ga({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Ga({from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>qM({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>jM({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>$M({...n,from:this.id,strict:!1}),this.useLoaderData=n=>GM({...n,from:this.id,strict:!1}),this.useNavigate=()=>XM({from:this.id}),this.notFound=n=>c8({routeId:this.id,...n}),this.id=e}}let xO=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!(s!=null&&s.path)&&!(s!=null&&s.id);this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=ro:Ua(this.parentRoute);let a=o?ro:s.path;a&&a!=="/"&&(a=VM(a));const l=(s==null?void 0:s.id)||a;let c=o?ro:Bc([this.parentRoute.id===ro?"":this.parentRoute.id,l]);a===ro&&(a="/"),c!==ro&&(c=Bc(["/",c]));const u=c===ro?"/":Bc([this.parentRoute.fullPath,a]);this._path=a,this._id=c,this._fullPath=u,this._to=u,this._ssr=(s==null?void 0:s.ssr)??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>Ga({select:n==null?void 0:n.select,from:this.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Ga({...n,from:this.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>qM({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useParams=n=>jM({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.id}),this.useLoaderDeps=n=>$M({...n,from:this.id}),this.useLoaderData=n=>GM({...n,from:this.id}),this.useNavigate=()=>XM({from:this.id}),this.options=e||{},this.isRoot=!(e!=null&&e.getParentRoute),Ua(!(e!=null&&e.id&&(e!=null&&e.path))),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function d8(t){return new xO(t)}class p8 extends xO{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function m8(t){return new p8(t)}function sa(t){return new g8(t,{silent:!0}).createRoute}class g8{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=d8(r);return i.isRoot=!1,i},this.silent=n==null?void 0:n.silent}}class y8{constructor(e){this.useMatch=n=>Ga({select:n==null?void 0:n.select,from:this.options.id,structuralSharing:n==null?void 0:n.structuralSharing}),this.useRouteContext=n=>Ga({from:this.options.id,select:r=>n!=null&&n.select?n.select(r.context):r.context}),this.useSearch=n=>qM({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useParams=n=>jM({select:n==null?void 0:n.select,structuralSharing:n==null?void 0:n.structuralSharing,from:this.options.id}),this.useLoaderDeps=n=>$M({...n,from:this.options.id}),this.useLoaderData=n=>GM({...n,from:this.options.id}),this.useNavigate=()=>XM({from:this.options.id}),this.options=e,this.$$typeof=Symbol.for("react.memo")}}function Qxe(t){return e=>new y8({id:t,...e})}function gf(t){return!!(t!=null&&t.isRedirect)}function eE(t){return!!(t!=null&&t.isRedirect)&&t.href}function Ux(t){return ne.jsx(ne.Fragment,{children:t.children})}function SO(t,e,n){return e.options.notFoundComponent?ne.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?ne.jsx(t.options.defaultNotFoundComponent,{data:n}):ne.jsx(h8,{})}var tE,hR;function _8(){if(hR)return tE;hR=1;const t={},e=t.hasOwnProperty,n=(z,D)=>{for(const I in z)e.call(z,I)&&D(I,z[I])},r=(z,D)=>(D&&n(D,(I,B)=>{z[I]=B}),z),i=(z,D)=>{const I=z.length;let B=-1;for(;++B<I;)D(z[B])},s=z=>"\\u"+("0000"+z).slice(-4),o=(z,D)=>{let I=z.toString(16);return D?I:I.toUpperCase()},a=t.toString,l=Array.isArray,c=z=>typeof Buffer=="function"&&Buffer.isBuffer(z),u=z=>a.call(z)=="[object Object]",f=z=>typeof z=="string"||a.call(z)=="[object String]",p=z=>typeof z=="number"||a.call(z)=="[object Number]",m=z=>typeof z=="bigint",_=z=>typeof z=="function",S=z=>a.call(z)=="[object Map]",w=z=>a.call(z)=="[object Set]",x={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},C=/[\\\b\f\n\r\t]/,T=/[0-9]/,A=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,L=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,R=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,N=(z,D)=>{const I=()=>{ie=$,++D.indentLevel,$=D.indent.repeat(D.indentLevel)},B={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},q=D&&D.json;q&&(B.quotes="double",B.wrap=!0),D=r(B,D),D.quotes!="single"&&D.quotes!="double"&&D.quotes!="backtick"&&(D.quotes="single");const K=D.quotes=="double"?'"':D.quotes=="backtick"?"`":"'",j=D.compact,J=D.lowercaseHex;let $=D.indent.repeat(D.indentLevel),ie="";const U=D.__inline1__,ee=D.__inline2__,V=j?"":`
`;let G,oe=!0;const Z=D.numbers=="binary",ue=D.numbers=="octal",me=D.numbers=="decimal",we=D.numbers=="hexadecimal";if(q&&z&&_(z.toJSON)&&(z=z.toJSON()),!f(z)){if(S(z))return z.size==0?"new Map()":(j||(D.__inline1__=!0,D.__inline2__=!1),"new Map("+N(Array.from(z),D)+")");if(w(z))return z.size==0?"new Set()":"new Set("+N(Array.from(z),D)+")";if(c(z))return z.length==0?"Buffer.from([])":"Buffer.from("+N(Array.from(z),D)+")";if(l(z))return G=[],D.wrap=!0,U&&(D.__inline1__=!1,D.__inline2__=!0),ee||I(),i(z,ze=>{oe=!1,ee&&(D.__inline2__=!1),G.push((j||ee?"":$)+N(ze,D))}),oe?"[]":ee?"["+G.join(", ")+"]":"["+V+G.join(","+V)+V+(j?"":ie)+"]";if(p(z)||m(z)){if(q)return JSON.stringify(Number(z));let ze;if(me)ze=String(z);else if(we){let rt=z.toString(16);J||(rt=rt.toUpperCase()),ze="0x"+rt}else Z?ze="0b"+z.toString(2):ue&&(ze="0o"+z.toString(8));return m(z)?ze+"n":ze}else return m(z)?q?JSON.stringify(Number(z)):z+"n":u(z)?(G=[],D.wrap=!0,I(),n(z,(ze,rt)=>{oe=!1,G.push((j?"":$)+N(ze,D)+":"+(j?"":" ")+N(rt,D))}),oe?"{}":"{"+V+G.join(","+V)+V+(j?"":ie)+"}"):q?JSON.stringify(z)||"null":String(z)}const Me=D.escapeEverything?L:R;return G=z.replace(Me,(ze,rt,Ke,xt,We,Oe)=>{if(rt){if(D.minimal)return rt;const pt=rt.charCodeAt(0),Ge=rt.charCodeAt(1);if(D.es6){const ot=(pt-55296)*1024+Ge-56320+65536;return"\\u{"+o(ot,J)+"}"}return s(o(pt,J))+s(o(Ge,J))}if(Ke)return s(o(Ke.charCodeAt(0),J));if(ze=="\0"&&!q&&!T.test(Oe.charAt(We+1)))return"\\0";if(xt)return xt==K||D.escapeEverything?"\\"+xt:xt;if(C.test(ze))return x[ze];if(D.minimal&&!A.test(ze))return ze;const re=o(ze.charCodeAt(0),J);return q||re.length>2?s(re):"\\x"+("00"+re).slice(-2)}),K=="`"&&(G=G.replace(/\$\{/g,"\\${")),D.isScriptContext&&(G=G.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,q?"\\u003C!--":"\\x3C!--")),D.wrap&&(G=K+G+K),G};return N.version="3.0.2",tE=N,tE}_8();function v8({children:t,log:e}){return typeof document<"u"?null:ne.jsx("script",{className:"tsr-once",dangerouslySetInnerHTML:{__html:[t,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`)}})}const dS="tsr-scroll-restoration-v1_3",x8=typeof window<"u"&&window.sessionStorage,S8=(t,e)=>{let n;return(...r)=>{n||(n=setTimeout(()=>{t(...r),n=null},e))}},Wp=x8?{state:JSON.parse(window.sessionStorage.getItem(dS)||"null")||{},set:e=>(Wp.state=Mf(e,Wp.state)||Wp.state,window.sessionStorage.setItem(dS,JSON.stringify(Wp.state)))}:void 0,JC=t=>t.state.key||t.href;function w8(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}let pS=!1;function wO(t,e,n,r,i){var s;let o;try{o=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(c){console.error(c);return}const a=e||((s=window.history.state)==null?void 0:s.key),l=o[a];pS=!0,(()=>{if(r&&l){for(const u in l){const f=l[u];if(u==="window")window.scrollTo({top:f.scrollY,left:f.scrollX,behavior:n});else if(u){const p=document.querySelector(u);p&&(p.scrollLeft=f.scrollX,p.scrollTop=f.scrollY)}}return}const c=window.location.hash.split("#")[1];if(c){const u=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(u){const f=document.getElementById(c);f&&f.scrollIntoView(u)}return}["window",...(i==null?void 0:i.filter(u=>u!=="window"))??[]].forEach(u=>{const f=u==="window"?window:document.querySelector(u);f&&f.scrollTo({top:0,left:0,behavior:n})})})(),pS=!1}function b8(t,e){if((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),typeof document>"u"||t.isScrollRestorationSetup)return;t.isScrollRestorationSetup=!0,pS=!1;const r=t.options.getScrollRestorationKey||JC;window.history.scrollRestoration="manual";const i=s=>{if(pS||!t.isScrollRestoring)return;let o="";if(s.target===document||s.target===window)o="window";else{const l=s.target.getAttribute("data-scroll-restoration-id");l?o=`[data-scroll-restoration-id="${l}"]`:o=w8(s.target)}const a=r(t.state.location);Wp.set(l=>{const c=l[a]=l[a]||{},u=c[o]=c[o]||{};if(o==="window")u.scrollX=window.scrollX||0,u.scrollY=window.scrollY||0;else if(o){const f=document.querySelector(o);f&&(u.scrollX=f.scrollLeft||0,u.scrollY=f.scrollTop||0)}return l})};typeof document<"u"&&document.addEventListener("scroll",S8(i,100),!0),t.subscribe("onRendered",s=>{const o=r(s.toLocation);if(!t.resetNextScroll){t.resetNextScroll=!0;return}wO(dS,o,t.options.scrollRestorationBehavior,t.isScrollRestoring,t.options.scrollToTopSelectors),t.isScrollRestoring&&Wp.set(a=>(a[o]=a[o]||{},a))})}function E8(){const t=qa(),n=(t.options.getScrollRestorationKey||JC)(t.latestLocation),r=n!==JC(t.latestLocation)?n:null;return!t.isScrollRestoring||!t.isServer?null:ne.jsx(v8,{children:`(${wO.toString()})(${JSON.stringify(dS)},${JSON.stringify(r)}, undefined, true)`,log:!1})}const bO=Re.memo(function({matchId:e}){var n,r;const i=qa(),s=Is({select:x=>{var C;return(C=x.matches.find(T=>T.id===e))==null?void 0:C.routeId}});Ua(s);const o=i.routesById[s],a=o.options.pendingComponent??i.options.defaultPendingComponent,l=a?ne.jsx(a,{}):null,c=o.options.errorComponent??i.options.defaultErrorComponent,u=o.options.onCatch??i.options.defaultOnCatch,f=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,p=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??a??((r=o.options.errorComponent)==null?void 0:r.preload))?Re.Suspense:Ux,m=c?WM:Ux,_=f?u8:Ux,S=Is({select:x=>x.loadedAt}),w=Is({select:x=>{var C;const T=x.matches.findIndex(A=>A.id===e);return(C=x.matches[T-1])==null?void 0:C.routeId}});return ne.jsxs(ne.Fragment,{children:[ne.jsx(Zw.Provider,{value:e,children:ne.jsx(p,{fallback:l,children:ne.jsx(m,{getResetKey:()=>S,errorComponent:c||Kw,onCatch:(x,C)=>{if(Qo(x))throw x;u==null||u(x,C)},children:ne.jsx(_,{fallback:x=>{if(!f||x.routeId&&x.routeId!==s||!x.routeId&&!o.isRoot)throw x;return Re.createElement(f,x)},children:ne.jsx(T8,{matchId:e})})})})}),w===ro&&i.options.scrollRestoration?ne.jsxs(ne.Fragment,{children:[ne.jsx(C8,{}),ne.jsx(E8,{})]}):null]})});function C8(){var t;const e=qa(),n=Re.useRef(void 0);return ne.jsx("script",{suppressHydrationWarning:!0,ref:r=>{r?e.emit({type:"onRendered",...Jp(e.state)}):n.current=e.state.resolvedLocation}},(t=e.state.resolvedLocation)==null?void 0:t.state.key)}const T8=Re.memo(function({matchId:e}){var n,r,i;const s=qa(),{match:o,key:a,routeId:l}=Is({select:p=>{const m=p.matches.findIndex(T=>T.id===e),_=p.matches[m],S=_.routeId,w=s.routesById[S].options.remountDeps??s.options.defaultRemountDeps,x=w==null?void 0:w({routeId:S,loaderDeps:_.loaderDeps,params:_._strictParams,search:_._strictSearch});return{key:x?JSON.stringify(x):void 0,routeId:S,match:YC(_,["id","status","error"])}},structuralSharing:!0}),c=s.routesById[l],u=Re.useMemo(()=>{const p=c.options.component??s.options.defaultComponent;return p?ne.jsx(p,{},a):ne.jsx(Jw,{})},[a,c.options.component,s.options.defaultComponent]),f=(c.options.errorComponent??s.options.defaultErrorComponent)||Kw;if(o.status==="notFound")return Ua(Qo(o.error)),SO(s,c,o.error);if(o.status==="redirected")throw Ua(gf(o.error)),(n=s.getMatch(o.id))==null?void 0:n.loadPromise;if(o.status==="error"){if(s.isServer)return ne.jsx(f,{error:o.error,reset:void 0,info:{componentStack:""}});throw o.error}if(o.status==="pending"){const p=c.options.pendingMinMs??s.options.defaultPendingMinMs;if(p&&!((r=s.getMatch(o.id))!=null&&r.minPendingPromise)&&!s.isServer){const m=Fp();Promise.resolve().then(()=>{s.updateMatch(o.id,_=>({..._,minPendingPromise:m}))}),setTimeout(()=>{m.resolve(),s.updateMatch(o.id,_=>({..._,minPendingPromise:void 0}))},p)}throw(i=s.getMatch(o.id))==null?void 0:i.loadPromise}return u}),Jw=Re.memo(function(){const e=qa(),n=Re.useContext(Zw),r=Is({select:c=>{var u;return(u=c.matches.find(f=>f.id===n))==null?void 0:u.routeId}}),i=e.routesById[r],s=Is({select:c=>{const f=c.matches.find(p=>p.id===n);return Ua(f),f.globalNotFound}}),o=Is({select:c=>{var u;const f=c.matches,p=f.findIndex(m=>m.id===n);return(u=f[p+1])==null?void 0:u.id}});if(s)return SO(e,i,void 0);if(!o)return null;const a=ne.jsx(bO,{matchId:o}),l=e.options.defaultPendingComponent?ne.jsx(e.options.defaultPendingComponent,{}):null;return n===ro?ne.jsx(Re.Suspense,{fallback:l,children:a}):a});var M8=pO();const By=typeof window<"u"?Re.useLayoutEffect:Re.useEffect;function nE(t){const e=Re.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function A8(t,e,n={},r={}){const i=Re.useRef(typeof IntersectionObserver=="function"),s=Re.useRef(null);return Re.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{e(o)},n),s.current.observe(t.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[e,n,r.disabled,t]),s.current}function k8(t){const e=Re.useRef(null);return Re.useImperativeHandle(t,()=>e.current,[]),e}function R8(t,e){const n=qa(),[r,i]=Re.useState(!1),s=Re.useRef(!1),o=k8(e),{activeProps:a=()=>({className:"active"}),inactiveProps:l=()=>({}),activeOptions:c,to:u,preload:f,preloadDelay:p,hashScrollIntoView:m,replace:_,startTransition:S,resetScroll:w,viewTransition:x,children:C,target:T,disabled:A,style:L,className:R,onClick:N,onFocus:z,onMouseEnter:D,onMouseLeave:I,onTouchStart:B,ignoreBlocker:q,...K}=t,{params:j,search:J,hash:$,state:ie,mask:U,reloadDocument:ee,...V}=K,G=Re.useMemo(()=>{try{return new URL(`${u}`),"external"}catch{}return"internal"},[u]),oe=Is({select:je=>je.location.search,structuralSharing:!0});t={from:Ga({strict:!1,select:je=>je.pathname}),...t};const ue=Re.useMemo(()=>n.buildLocation(t),[n,t,oe]),me=Re.useMemo(()=>t.reloadDocument?!1:f??n.options.defaultPreload,[n.options.defaultPreload,f,t.reloadDocument]),we=p??n.options.defaultPreloadDelay??0,Me=Is({select:je=>{if(c!=null&&c.exact){if(!U6(je.location.pathname,ue.pathname,n.basepath))return!1}else{const te=uS(je.location.pathname,n.basepath).split("/");if(!uS(ue.pathname,n.basepath).split("/").every((Ne,$e)=>Ne===te[$e]))return!1}return((c==null?void 0:c.includeSearch)??!0)&&!Qp(je.location.search,ue.search,{partial:!(c!=null&&c.exact),ignoreUndefined:!(c!=null&&c.explicitUndefined)})?!1:c!=null&&c.includeHash?je.location.hash===ue.hash:!0}}),ze=Re.useCallback(()=>{n.preloadRoute(t).catch(je=>{console.warn(je),console.warn(N6)})},[t,n]),rt=Re.useCallback(je=>{je!=null&&je.isIntersecting&&ze()},[ze]);if(A8(o,rt,{rootMargin:"100px"},{disabled:!!A||me!=="viewport"}),By(()=>{s.current||!A&&me==="render"&&(ze(),s.current=!0)},[A,ze,me]),G==="external")return{...V,ref:o,type:G,href:u,...C&&{children:C},...T&&{target:T},...A&&{disabled:A},...L&&{style:L},...R&&{className:R},...N&&{onClick:N},...z&&{onFocus:z},...D&&{onMouseEnter:D},...I&&{onMouseLeave:I},...B&&{onTouchStart:B}};const Ke=je=>{if(!A&&!P8(je)&&!je.defaultPrevented&&(!T||T==="_self")&&je.button===0){je.preventDefault(),M8.flushSync(()=>{i(!0)});const te=n.subscribe("onResolved",()=>{te(),i(!1)});return n.navigate({...t,replace:_,resetScroll:w,hashScrollIntoView:m,startTransition:S,viewTransition:x,ignoreBlocker:q})}},xt=je=>{A||me&&ze()},We=xt,Oe=je=>{if(A)return;const te=je.target||{};if(me){if(te.preloadTimeout)return;te.preloadTimeout=setTimeout(()=>{te.preloadTimeout=null,ze()},we)}},re=je=>{if(A)return;const te=je.target||{};te.preloadTimeout&&(clearTimeout(te.preloadTimeout),te.preloadTimeout=null)},pt=je=>te=>{var Q;(Q=te.persist)==null||Q.call(te),je.filter(Boolean).forEach(be=>{te.defaultPrevented||be(te)})},Ge=Me?Mf(a,{})??{}:{},ot=Me?{}:Mf(l,{}),Qe=[R,Ge.className,ot.className].filter(Boolean).join(" "),Rt={...L,...Ge.style,...ot.style};return{...V,...Ge,...ot,href:A?void 0:ue.maskedLocation?n.history.createHref(ue.maskedLocation.href):n.history.createHref(ue.href),ref:o,onClick:pt([N,Ke]),onFocus:pt([z,xt]),onMouseEnter:pt([D,Oe]),onMouseLeave:pt([I,re]),onTouchStart:pt([B,We]),disabled:!!A,target:T,...Object.keys(Rt).length&&{style:Rt},...Qe&&{className:Qe},...A&&{role:"link","aria-disabled":!0},...Me&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}const YM=Re.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:s,...o}=R8(r,e),a=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,Re.createElement(n||"a",{...o,ref:s},a)});function P8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L8(){const t=qa(),e=Re.useRef({router:t,mounted:!1}),n=Is({select:({isLoading:f})=>f}),[r,i]=Re.useState(!1),s=Is({select:f=>f.matches.some(p=>p.status==="pending"),structuralSharing:!0}),o=nE(n),a=n||r||s,l=nE(a),c=n||s,u=nE(c);return t.isServer||(t.startReactTransition=f=>{i(!0),Re.startTransition(()=>{f(),i(!1)})}),Re.useEffect(()=>{const f=t.history.subscribe(t.load),p=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Af(t.latestLocation.href)!==Af(p.href)&&t.commitLocation({...p,replace:!0}),()=>{f()}},[t,t.history]),By(()=>{if(typeof window<"u"&&t.clientSsr||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(p){console.error(p)}})()},[t]),By(()=>{o&&!n&&t.emit({type:"onLoad",...Jp(t.state)})},[o,t,n]),By(()=>{u&&!c&&t.emit({type:"onBeforeRouteMount",...Jp(t.state)})},[c,u,t]),By(()=>{l&&!a&&(t.emit({type:"onResolved",...Jp(t.state)}),t.__store.setState(f=>({...f,status:"idle",resolvedLocation:f.location})))},[a,l,t]),null}function I8(){const t=qa(),e=t.options.defaultPendingComponent?ne.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&t.clientSsr?Ux:Re.Suspense,r=ne.jsxs(n,{fallback:e,children:[ne.jsx(L8,{}),ne.jsx(D8,{})]});return t.options.InnerWrap?ne.jsx(t.options.InnerWrap,{children:r}):r}function D8(){const t=Is({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=Is({select:n=>n.loadedAt});return ne.jsx(Zw.Provider,{value:t,children:ne.jsx(WM,{getResetKey:()=>e,errorComponent:Kw,onCatch:n=>{n.message||n.toString()},children:t?ne.jsx(bO,{matchId:t}):null})})}const EO=["component","errorComponent","pendingComponent","notFoundComponent"];function O8(t){var e;for(const n of EO)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function rE(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new mS("Async validation not supported");if(n.issues)throw new mS(JSON.stringify(n.issues,void 0,2),{cause:n});return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function N8(t){return new B8(t)}class B8{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${z6(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?Z6({initialEntries:[this.basepath||"/"]}):K6()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new ZC(z8(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}}),b8(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((a,l)=>{a.init({originalIndex:l,defaultSsr:this.options.defaultSsr});const c=this.routesById[a.id];if(Ua(!c,`Duplicate routes found with id: ${String(a.id)}`),this.routesById[a.id]=a,!a.isRoot&&a.path){const f=Af(a.fullPath);(!this.routesByPath[f]||a.fullPath.endsWith("/"))&&(this.routesByPath[f]=a)}const u=a.children;u!=null&&u.length&&r(u)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,a)=>{var l;if(o.isRoot||!o.path)return;const c=VM(o.fullPath),u=vm(c);for(;u.length>1&&((l=u[0])==null?void 0:l.value)==="/";)u.shift();const f=u.map(p=>p.value==="/"?.75:p.type==="param"?.5:p.type==="wildcard"?.25:1);i.push({child:o,trimmed:c,parsed:u,index:a,scores:f})}),this.flatRoutes=i.sort((o,a)=>{const l=Math.min(o.scores.length,a.scores.length);for(let c=0;c<l;c++)if(o.scores[c]!==a.scores[c])return a.scores[c]-o.scores[c];if(o.scores.length!==a.scores.length)return a.scores.length-o.scores.length;for(let c=0;c<l;c++)if(o.parsed[c].value!==a.parsed[c].value)return o.parsed[c].value>a.parsed[c].value?1:-1;return o.index-a.index}).map((o,a)=>(o.child.rank=a,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:l,search:c,hash:u,state:f})=>{const p=this.options.parseSearch(c),m=this.options.stringifySearch(p);return{pathname:l,searchStr:m,search:Jo(n==null?void 0:n.search,p),hash:u.split("#").reverse()[0]??"",href:`${l}${m}${u}`,state:Jo(n==null?void 0:n.state,f)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:a}=s.state;if(o&&(!a||a===this.tempLocationKey)){const l=i(o);return l.state.key=s.state.key,delete l.state.__tempLocation,{...l,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>V6({basepath:this.basepath,base:n,to:Yw(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const s=Af(n.pathname),o=u=>bv(this.basepath,s,{to:u.fullPath,caseSensitive:u.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let a=(r==null?void 0:r.to)!==void 0?this.routesByPath[r.to]:void 0;a?i=o(a):a=this.flatRoutes.find(u=>{const f=o(u);return f?(i=f,!0):!1});let l=a||this.routesById[ro];const c=[l];for(;l.parentRoute;)l=l.parentRoute,c.unshift(l);return{matchedRoutes:c,routeParams:i,foundRoute:a}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var a,l,c,u,f,p;const m=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,_=s.from!=null?m.find(B=>bv(this.basepath,Af(B.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,S=(_==null?void 0:_.pathname)||this.latestLocation.pathname;Ua(s.from==null||_!=null,"Could not find match for from: "+s.from);const w=(a=this.state.pendingMatches)!=null&&a.length?(l=Xy(this.state.pendingMatches))==null?void 0:l.search:((c=Xy(m))==null?void 0:c.search)||this.latestLocation.search,x=o==null?void 0:o.matchedRoutes.filter(B=>m.find(q=>q.routeId===B.id));let C;if(s.to){const B=(_==null?void 0:_.fullPath)||this.latestLocation.pathname;C=this.resolvePathWithBase(B,`${s.to}`)}else{const B=this.routesById[(u=x==null?void 0:x.find(q=>{const K=wv({path:q.fullPath,params:(o==null?void 0:o.routeParams)??{},decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;return Bc([this.basepath,K])===S}))==null?void 0:u.id];C=this.resolvePathWithBase(S,(B==null?void 0:B.to)??S)}const T={...(f=Xy(m))==null?void 0:f.params};let A=(s.params??!0)===!0?T:{...T,...Mf(s.params,T)};Object.keys(A).length>0&&(o==null||o.matchedRoutes.map(B=>{var q;return((q=B.options.params)==null?void 0:q.stringify)??B.options.stringifyParams}).filter(Boolean).forEach(B=>{A={...A,...B(A)}})),C=wv({path:C,params:A??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let L=w;if(n._includeValidateSearch&&((p=this.options.search)!=null&&p.strict)){let B={};o==null||o.matchedRoutes.forEach(q=>{try{q.options.validateSearch&&(B={...B,...rE(q.options.validateSearch,{...B,...L})??{}})}catch{}}),L=B}L=(B=>{const q=(o==null?void 0:o.matchedRoutes.reduce((J,$)=>{var ie;const U=[];if("search"in $.options)(ie=$.options.search)!=null&&ie.middlewares&&U.push(...$.options.search.middlewares);else if($.options.preSearchFilters||$.options.postSearchFilters){const ee=({search:V,next:G})=>{let oe=V;"preSearchFilters"in $.options&&$.options.preSearchFilters&&(oe=$.options.preSearchFilters.reduce((ue,me)=>me(ue),V));const Z=G(oe);return"postSearchFilters"in $.options&&$.options.postSearchFilters?$.options.postSearchFilters.reduce((ue,me)=>me(ue),Z):Z};U.push(ee)}if(n._includeValidateSearch&&$.options.validateSearch){const ee=({search:V,next:G})=>{const oe=G(V);try{return{...oe,...rE($.options.validateSearch,oe)??{}}}catch{return oe}};U.push(ee)}return J.concat(U)},[]))??[],K=({search:J})=>s.search?s.search===!0?J:Mf(s.search,J):{};q.push(K);const j=(J,$)=>{if(J>=q.length)return $;const ie=q[J];return ie({search:$,next:ee=>j(J+1,ee)})};return j(0,B)})(L),L=Jo(w,L);const N=this.options.stringifySearch(L),z=s.hash===!0?this.latestLocation.hash:s.hash?Mf(s.hash,this.latestLocation.hash):void 0,D=z?`#${z}`:"";let I=s.state===!0?this.latestLocation.state:s.state?Mf(s.state,this.latestLocation.state):{};return I=Jo(this.latestLocation.state,I),{pathname:C,search:L,searchStr:N,state:I,hash:z??"",href:`${C}${N}${D}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var a;const l=r(s);let c=o?r(o):void 0;if(!c){let p={};const m=(a=this.options.routeMasks)==null?void 0:a.find(_=>{const S=bv(this.basepath,l.pathname,{to:_.from,caseSensitive:!1,fuzzy:!1});return S?(p=S,!0):!1});if(m){const{from:_,...S}=m;o={...YC(n,["from"]),...S,params:p},c=r(o)}}const u=this.getMatchedRoutes(l,s),f=r(s,u);if(c){const p=this.getMatchedRoutes(c,o),m=r(o,p);f.maskedLocation=m}return f};return n.mask?i(n,{...YC(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{const l=["key","__TSR_index","__hashScrollIntoViewOptions"];l.forEach(u=>{i.state[u]=this.latestLocation.state[u]});const c=Qp(i.state,this.latestLocation.state);return l.forEach(u=>{delete i.state[u]}),c},o=this.latestLocation.href===i.href,a=this.commitLocationPromise;if(this.commitLocationPromise=Fp(()=>{a==null||a.resolve()}),o&&s())this.load();else{let{maskedLocation:l,hashScrollIntoView:c,...u}=i;l&&(u={...l,state:{...l.state,__tempKey:void 0,__tempLocation:{...u,search:u.searchStr,state:{...u.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(u.unmaskOnReload??this.options.unmaskOnReload??!1)&&(u.state.__tempKey=this.tempLocationKey)),u.state.__hashScrollIntoViewOptions=c??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](u.href,u.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:a,...l}={})=>{if(a){const u=this.history.location.state.__TSR_index,f=y0(a,{__TSR_index:n?u:u+1});l.to=f.pathname,l.search=this.options.parseSearch(f.search),l.hash=f.hash.slice(1)}const c=this.buildLocation({...l,_includeValidateSearch:!0});return this.commitLocation({...c,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){if(!i){const o=this.buildLocation({to:n,...s});i=this.history.createHref(o.href)}s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var a;try{const l=this.latestLocation,c=this.state.resolvedLocation;this.cancelMatches();let u;Jb(()=>{u=this.matchRoutes(l),this.__store.setState(f=>({...f,status:"pending",isLoading:!0,location:l,pendingMatches:u,cachedMatches:f.cachedMatches.filter(p=>!u.find(m=>m.id===p.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",...Jp({resolvedLocation:c,location:l})}),this.emit({type:"onBeforeLoad",...Jp({resolvedLocation:c,location:l})}),await this.loadMatches({sync:n==null?void 0:n.sync,matches:u,location:l,onReady:async()=>{this.startViewTransition(async()=>{let f,p,m;Jb(()=>{this.__store.setState(_=>{const S=_.matches,w=_.pendingMatches||_.matches;return f=S.filter(x=>!w.find(C=>C.id===x.id)),p=w.filter(x=>!S.find(C=>C.id===x.id)),m=S.filter(x=>w.find(C=>C.id===x.id)),{..._,isLoading:!1,loadedAt:Date.now(),matches:w,pendingMatches:void 0,cachedMatches:[..._.cachedMatches,...f.filter(x=>x.status!=="error")]}}),this.clearExpiredCache()}),[[f,"onLeave"],[p,"onEnter"],[m,"onStay"]].forEach(([_,S])=>{_.forEach(w=>{var x,C;(C=(x=this.looseRoutesById[w.routeId].options)[S])==null||C.call(x,w)})})})}})}catch(l){eE(l)?(r=l,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Qo(l)&&(i=l),this.__store.setState(c=>({...c,statusCode:r?r.statusCode:i?404:c.matches.some(u=>u.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(u=>u.id===n),a=this.state.matches.find(u=>u.id===n),l=this.state.cachedMatches.find(u=>u.id===n),c=o?"pendingMatches":a?"matches":l?"cachedMatches":"";return c&&this.__store.setState(u=>{var f;return{...u,[c]:(f=u[c])==null?void 0:f.map(p=>p.id===n?s=r(p):p)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:a})=>{let l,c=!1;const u=async()=>{c||(c=!0,await(s==null?void 0:s()))},f=m=>!!(i&&!this.state.matches.find(_=>_.id===m));!this.isServer&&!this.state.matches.length&&u();const p=(m,_)=>{var S,w,x,C;if(eE(_)&&!_.reloadDocument)throw _;if(gf(_)||Qo(_)){if(o(m.id,T=>({...T,status:gf(_)?"redirected":Qo(_)?"notFound":"error",isFetching:!1,error:_,beforeLoadPromise:void 0,loaderPromise:void 0})),_.routeId||(_.routeId=m.routeId),(S=m.beforeLoadPromise)==null||S.resolve(),(w=m.loaderPromise)==null||w.resolve(),(x=m.loadPromise)==null||x.resolve(),gf(_))throw c=!0,_=this.resolveRedirect({..._,_fromLocation:n}),_;if(Qo(_))throw this._handleNotFound(r,_,{updateMatch:o}),(C=this.serverSsr)==null||C.onMatchSettled({router:this,match:this.getMatch(m.id)}),_}};try{await new Promise((m,_)=>{(async()=>{var S,w,x;try{const C=(L,R,N)=>{var z,D;const{id:I,routeId:B}=r[L],q=this.looseRoutesById[B];if(R instanceof Promise)throw R;R.routerCode=N,l=l??L,p(this.getMatch(I),R);try{(D=(z=q.options).onError)==null||D.call(z,R)}catch(K){R=K,p(this.getMatch(I),R)}o(I,K=>{var j,J;return(j=K.beforeLoadPromise)==null||j.resolve(),(J=K.loadPromise)==null||J.resolve(),{...K,error:R,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[L,{id:R,routeId:N}]of r.entries()){const z=this.getMatch(R),D=(S=r[L-1])==null?void 0:S.id,I=this.looseRoutesById[N],B=I.options.pendingMs??this.options.defaultPendingMs,q=!!(s&&!this.isServer&&!f(R)&&(I.options.loader||I.options.beforeLoad)&&typeof B=="number"&&B!==1/0&&(I.options.pendingComponent??this.options.defaultPendingComponent));let K=!0;if((z.beforeLoadPromise||z.loaderPromise)&&(q&&setTimeout(()=>{try{u()}catch{}},B),await z.beforeLoadPromise,K=this.getMatch(R).status!=="success"),K){try{o(R,we=>({...we,loadPromise:Fp(()=>{var Me;(Me=we.loadPromise)==null||Me.resolve()}),beforeLoadPromise:Fp()}));const j=new AbortController;let J;q&&(J=setTimeout(()=>{try{u()}catch{}},B));const{paramsError:$,searchError:ie}=this.getMatch(R);$&&C(L,$,"PARSE_PARAMS"),ie&&C(L,ie,"VALIDATE_SEARCH");const U=()=>D?this.getMatch(D).context:this.options.context??{};o(R,we=>({...we,isFetching:"beforeLoad",fetchCount:we.fetchCount+1,abortController:j,pendingTimeout:J,context:{...U(),...we.__routeContext}}));const{search:ee,params:V,context:G,cause:oe}=this.getMatch(R),Z=f(R),ue={search:ee,abortController:j,params:V,preload:Z,context:G,location:n,navigate:we=>this.navigate({...we,_fromLocation:n}),buildLocation:this.buildLocation,cause:Z?"preload":oe,matches:r},me=await((x=(w=I.options).beforeLoad)==null?void 0:x.call(w,ue))??{};(gf(me)||Qo(me))&&C(L,me,"BEFORE_LOAD"),o(R,we=>({...we,__beforeLoadContext:me,context:{...U(),...we.__routeContext,...me},abortController:j}))}catch(j){C(L,j,"BEFORE_LOAD")}o(R,j=>{var J;return(J=j.beforeLoadPromise)==null||J.resolve(),{...j,beforeLoadPromise:void 0,isFetching:!1}})}}const T=r.slice(0,l),A=[];T.forEach(({id:L,routeId:R},N)=>{A.push((async()=>{const{loaderPromise:z}=this.getMatch(L);let D=!1,I=!1;if(z){await z;const B=this.getMatch(L);B.error&&p(B,B.error)}else{const B=A[N-1],q=this.looseRoutesById[R],K=()=>{const{params:oe,loaderDeps:Z,abortController:ue,context:me,cause:we}=this.getMatch(L),Me=f(L);return{params:oe,deps:Z,preload:!!Me,parentMatchPromise:B,abortController:ue,context:me,location:n,navigate:ze=>this.navigate({...ze,_fromLocation:n}),cause:Me?"preload":we,route:q}},j=Date.now()-this.getMatch(L).updatedAt,J=f(L),$=J?q.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:q.options.staleTime??this.options.defaultStaleTime??0,ie=q.options.shouldReload,U=typeof ie=="function"?ie(K()):ie;o(L,oe=>({...oe,loaderPromise:Fp(),preload:!!J&&!this.state.matches.find(Z=>Z.id===L)}));const ee=async()=>{var oe,Z,ue,me,we,Me,ze,rt,Ke,xt,We;try{const Oe=async()=>{const re=this.getMatch(L);re.minPendingPromise&&await re.minPendingPromise};try{this.loadRouteChunk(q),o(L,Q=>({...Q,isFetching:"loader"}));const re=await((Z=(oe=q.options).loader)==null?void 0:Z.call(oe,K()));p(this.getMatch(L),re),await q._lazyPromise,await Oe();const pt={matches:r,match:this.getMatch(L),params:this.getMatch(L).params,loaderData:re},Ge=(me=(ue=q.options).head)==null?void 0:me.call(ue,pt),ot=Ge==null?void 0:Ge.meta,Qe=Ge==null?void 0:Ge.links,Rt=Ge==null?void 0:Ge.scripts,je=(Me=(we=q.options).scripts)==null?void 0:Me.call(we,pt),te=(rt=(ze=q.options).headers)==null?void 0:rt.call(ze,{loaderData:re});o(L,Q=>({...Q,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:re,meta:ot,links:Qe,headScripts:Rt,headers:te,scripts:je}))}catch(re){let pt=re;await Oe(),p(this.getMatch(L),re);try{(xt=(Ke=q.options).onError)==null||xt.call(Ke,re)}catch(Ge){pt=Ge,p(this.getMatch(L),Ge)}o(L,Ge=>({...Ge,error:pt,status:"error",isFetching:!1}))}(We=this.serverSsr)==null||We.onMatchSettled({router:this,match:this.getMatch(L)}),await q._componentsPromise}catch(Oe){o(L,re=>({...re,loaderPromise:void 0})),p(this.getMatch(L),Oe)}},{status:V,invalid:G}=this.getMatch(L);D=V==="success"&&(G||(U??j>$)),J&&q.options.preload===!1||(D&&!a?(I=!0,(async()=>{try{await ee();const{loaderPromise:oe,loadPromise:Z}=this.getMatch(L);oe==null||oe.resolve(),Z==null||Z.resolve(),o(L,ue=>({...ue,loaderPromise:void 0}))}catch(oe){eE(oe)&&await this.navigate(oe)}})()):(V!=="success"||D&&a)&&await ee())}if(!I){const{loaderPromise:B,loadPromise:q}=this.getMatch(L);B==null||B.resolve(),q==null||q.resolve()}return o(L,B=>({...B,isFetching:I?B.isFetching:!1,loaderPromise:I?B.loaderPromise:void 0,invalid:!1})),this.getMatch(L)})())}),await Promise.all(A),m()}catch(C){_(C)}})()}),await u()}catch(m){if(gf(m)||Qo(m))throw Qo(m)&&!i&&await u(),m}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n==null?void 0:n.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load({sync:n==null?void 0:n.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n==null?void 0:n.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(EO.map(async r=>{const i=n.options[r];i!=null&&i.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),o=new Set([...s,...this.state.cachedMatches.map(a=>a.id)]);Jb(()=>{i.forEach(a=>{o.has(a.id)||this.__store.setState(l=>({...l,cachedMatches:[...l.cachedMatches,a]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(a,l)=>{s.has(a)?i=i.map(c=>c.id===a?l(c):c):this.updateMatch(a,l)}}),i}catch(a){if(gf(a))return a.reloadDocument?void 0:await this.preloadRoute({...a,_fromLocation:r});Qo(a)||console.error(a);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,l=bv(this.basepath,a.pathname,{...r,to:s.pathname});return!l||n.params&&!Qp(l,n.params,{partial:!0})?!1:l&&((r==null?void 0:r.includeSearch)??!0)?Qp(a.search,s.search,{partial:!0})?l:!1:l},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const s=Object.fromEntries(n.map(l=>[l.routeId,l]));let o=(r.global?this.looseRoutesById[ro]:this.looseRoutesById[r.routeId])||this.looseRoutesById[ro];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==ro;)o=o.parentRoute,Ua(o);const a=s[o.id];Ua(a,"Could not find match for route: "+o.id),i(a.id,l=>({...l,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??q6,parseSearch:e.parseSearch??j6}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(e,n==null?void 0:n.dest);let o=!1;(r?r.path!=="/"&&s["**"]:Af(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const a=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let f=i.length-1;f>=0;f--){const p=i[f];if(p.children)return p.id}return ro}})(),l=i.map(f=>{var p;let m;const _=((p=f.options.params)==null?void 0:p.parse)??f.options.parseParams;if(_)try{const S=_(s);Object.assign(s,S)}catch(S){if(m=new F8(S.message,{cause:S}),n!=null&&n.throwOnError)throw m;return m}}),c=[],u=f=>(f==null?void 0:f.id)?f.context??this.options.context??{}:this.options.context??{};return i.forEach((f,p)=>{var m,_;const S=c[p-1],[w,x,C]=(()=>{const K=(S==null?void 0:S.search)??e.search,j=(S==null?void 0:S._strictSearch)??{};try{const J=rE(f.options.validateSearch,{...K})??{};return[{...K,...J},{...j,...J},void 0]}catch(J){let $=J;if(J instanceof mS||($=new mS(J.message,{cause:J})),n!=null&&n.throwOnError)throw $;return[K,{},$]}})(),T=((_=(m=f.options).loaderDeps)==null?void 0:_.call(m,{search:w}))??"",A=T?JSON.stringify(T):"",{usedParams:L,interpolatedPath:R}=wv({path:f.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),N=wv({path:f.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+A,z=this.getMatch(N),D=this.state.matches.find(K=>K.routeId===f.id),I=D?"stay":"enter";let B;if(z)B={...z,cause:I,params:D?Jo(D.params,s):s,_strictParams:L,search:Jo(D?D.search:z.search,w),_strictSearch:x};else{const K=f.options.loader||f.options.beforeLoad||f.lazyFn||O8(f)?"pending":"success";B={id:N,index:p,routeId:f.id,params:D?Jo(D.params,s):s,_strictParams:L,pathname:Bc([this.basepath,R]),updatedAt:Date.now(),search:D?Jo(D.search,w):w,_strictSearch:x,searchError:void 0,status:K,isFetching:!1,error:void 0,paramsError:l[p],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:I,loaderDeps:D?Jo(D.loaderDeps,T):T,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:f.options.staticData||{},loadPromise:Fp(),fullPath:f.fullPath}}n!=null&&n.preload||(B.globalNotFound=a===f.id),B.searchError=C;const q=u(S);B.context={...q,...B.__routeContext,...B.__beforeLoadContext},c.push(B)}),c.forEach((f,p)=>{var m,_,S,w,x,C,T,A;const L=this.looseRoutesById[f.routeId];if(!this.getMatch(f.id)&&(n==null?void 0:n._buildLocation)!==!0){const N=c[p-1],z=u(N),D={deps:f.loaderDeps,params:f.params,context:z,location:e,navigate:I=>this.navigate({...I,_fromLocation:e}),buildLocation:this.buildLocation,cause:f.cause,abortController:f.abortController,preload:!!f.preload,matches:c};f.__routeContext=((_=(m=L.options).context)==null?void 0:_.call(m,D))??{},f.context={...z,...f.__routeContext,...f.__beforeLoadContext}}if(f.status==="success"){f.headers=(w=(S=L.options).headers)==null?void 0:w.call(S,{loaderData:f.loaderData});const N={matches:c,match:f,params:f.params,loaderData:f.loaderData},z=(C=(x=L.options).head)==null?void 0:C.call(x,N);f.links=z==null?void 0:z.links,f.headScripts=z==null?void 0:z.scripts,f.meta=z==null?void 0:z.meta,f.scripts=(A=(T=L.options).scripts)==null?void 0:A.call(T,N)}}),c}}class mS extends Error{}class F8 extends Error{}function z8(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function U8({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=_O(),i=ne.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?ne.jsx(t.options.Wrap,{children:i}):i}function V8({router:t,...e}){return ne.jsx(U8,{router:t,...e,children:ne.jsx(I8,{})})}const H8="modulepreload",W8=function(t){return"/"+t},fR={},W=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=W8(l),l in fR)return;fR[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":H8,c||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),c)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function CO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function G8(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CO(t))&&(r&&(r+=" "),r+=e);return r}const Qw=m8({component:()=>ne.jsxs(ne.Fragment,{children:[ne.jsx(Jw,{}),!1]})}),$8=()=>ne.jsxs("footer",{className:"p-4 mt-4 flex flex-col gap-y-4 bg-background-footer text-foreground-footer",children:[ne.jsxs("div",{className:"flex items-center gap-4 justify-cente w-full",children:[ne.jsx("img",{src:"https://github.com/gitsunmin.png",alt:"logo",className:"rounded-full size-10"}),ne.jsx("span",{children:"Powered by Gitsunmin"})]}),ne.jsxs("ul",{className:"flex gap-2 justify-end",children:[ne.jsx("li",{children:ne.jsx("a",{href:"https://github.com/gitsunmin",target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline",children:"GitHub"})}),ne.jsx("li",{children:ne.jsx("a",{href:"https://www.linkedin.com/in/gitsunmin/",target:"_blank",rel:"noreferrer",className:"text-blue-500 hover:underline",children:"LinkedIn"})})]})]}),KM="-",j8=t=>{const e=X8(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(KM);return a[0]===""&&a.length!==1&&a.shift(),TO(a,e)||q8(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},TO=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?TO(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(KM);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},dR=/^\[(.+)\]$/,q8=t=>{if(dR.test(t)){const e=dR.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},X8=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)QC(n[i],r,i,e);return r},QC=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:pR(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Y8(i)){QC(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{QC(o,pR(e,s),n,r)})})},pR=(t,e)=>{let n=t;return e.split(KM).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Y8=t=>t.isThemeGetter,K8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},eT="!",tT=":",Z8=tT.length,J8=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let o=0,a=0,l=0,c;for(let _=0;_<i.length;_++){let S=i[_];if(o===0&&a===0){if(S===tT){s.push(i.slice(l,_)),l=_+Z8;continue}if(S==="/"){c=_;continue}}S==="["?o++:S==="]"?o--:S==="("?a++:S===")"&&a--}const u=s.length===0?i:i.substring(l),f=Q8(u),p=f!==u,m=c&&c>l?c-l:void 0;return{modifiers:s,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:m}};if(e){const i=e+tT,s=r;r=o=>o.startsWith(i)?s(o.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},Q8=t=>t.endsWith(eT)?t.substring(0,t.length-1):t.startsWith(eT)?t.substring(1):t,eW=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(o=>{o[0]==="["||e[o]?(i.push(...s.sort(),o),s=[]):s.push(o)}),i.push(...s.sort()),i}},tW=t=>({cache:K8(t.cacheSize),parseClassName:J8(t),sortModifiers:eW(t),...j8(t)}),nW=/\s+/,rW=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,o=[],a=t.trim().split(nW);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{isExternal:f,modifiers:p,hasImportantModifier:m,baseClassName:_,maybePostfixModifierPosition:S}=n(u);if(f){l=u+(l.length>0?" "+l:l);continue}let w=!!S,x=r(w?_.substring(0,S):_);if(!x){if(!w){l=u+(l.length>0?" "+l:l);continue}if(x=r(_),!x){l=u+(l.length>0?" "+l:l);continue}w=!1}const C=s(p).join(":"),T=m?C+eT:C,A=T+x;if(o.includes(A))continue;o.push(A);const L=i(x,w);for(let R=0;R<L.length;++R){const N=L[R];o.push(T+N)}l=u+(l.length>0?" "+l:l)}return l};function iW(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MO(e))&&(r&&(r+=" "),r+=n);return r}const MO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MO(t[r]))&&(n&&(n+=" "),n+=e);return n};function sW(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=tW(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=rW(l,n);return i(l,u),u}return function(){return s(iW.apply(null,arguments))}}const Pi=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},AO=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kO=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oW=/^\d+\/\d+$/,aW=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lW=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cW=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,uW=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hW=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dp=t=>oW.test(t),Vn=t=>!!t&&!Number.isNaN(Number(t)),Jh=t=>!!t&&Number.isInteger(Number(t)),mR=t=>t.endsWith("%")&&Vn(t.slice(0,-1)),ku=t=>aW.test(t),fW=()=>!0,dW=t=>lW.test(t)&&!cW.test(t),ZM=()=>!1,pW=t=>uW.test(t),mW=t=>hW.test(t),gW=t=>!Ft(t)&&!zt(t),yW=t=>Um(t,LO,ZM),Ft=t=>AO.test(t),Qh=t=>Um(t,IO,dW),iE=t=>Um(t,AW,Vn),_W=t=>Um(t,RO,ZM),vW=t=>Um(t,PO,mW),xW=t=>Um(t,ZM,pW),zt=t=>kO.test(t),Cv=t=>Vm(t,IO),SW=t=>Vm(t,kW),wW=t=>Vm(t,RO),bW=t=>Vm(t,LO),EW=t=>Vm(t,PO),CW=t=>Vm(t,RW,!0),Um=(t,e,n)=>{const r=AO.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Vm=(t,e,n=!1)=>{const r=kO.exec(t);return r?r[1]?e(r[1]):n:!1},RO=t=>t==="position",TW=new Set(["image","url"]),PO=t=>TW.has(t),MW=new Set(["length","size","percentage"]),LO=t=>MW.has(t),IO=t=>t==="length",AW=t=>t==="number",kW=t=>t==="family-name",RW=t=>t==="shadow",PW=()=>{const t=Pi("color"),e=Pi("font"),n=Pi("text"),r=Pi("font-weight"),i=Pi("tracking"),s=Pi("leading"),o=Pi("breakpoint"),a=Pi("container"),l=Pi("spacing"),c=Pi("radius"),u=Pi("shadow"),f=Pi("inset-shadow"),p=Pi("drop-shadow"),m=Pi("blur"),_=Pi("perspective"),S=Pi("aspect"),w=Pi("ease"),x=Pi("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],R=()=>[zt,Ft,l],N=()=>[dp,"full","auto",...R()],z=()=>[Jh,"none","subgrid",zt,Ft],D=()=>["auto",{span:["full",Jh,zt,Ft]},zt,Ft],I=()=>[Jh,"auto",zt,Ft],B=()=>["auto","min","max","fr",zt,Ft],q=()=>["start","end","center","between","around","evenly","stretch","baseline"],K=()=>["start","end","center","stretch"],j=()=>["auto",...R()],J=()=>[dp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...R()],$=()=>[t,zt,Ft],ie=()=>[mR,Qh],U=()=>["","none","full",c,zt,Ft],ee=()=>["",Vn,Cv,Qh],V=()=>["solid","dashed","dotted","double"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>["","none",m,zt,Ft],Z=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zt,Ft],ue=()=>["none",Vn,zt,Ft],me=()=>["none",Vn,zt,Ft],we=()=>[Vn,zt,Ft],Me=()=>[dp,"full",...R()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ku],breakpoint:[ku],color:[fW],container:[ku],"drop-shadow":[ku],ease:["in","out","in-out"],font:[gW],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ku],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ku],shadow:[ku],spacing:["px",Vn],text:[ku],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",dp,Ft,zt,S]}],container:["container"],columns:[{columns:[Vn,Ft,zt,a]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),Ft,zt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:N()}],"inset-x":[{"inset-x":N()}],"inset-y":[{"inset-y":N()}],start:[{start:N()}],end:[{end:N()}],top:[{top:N()}],right:[{right:N()}],bottom:[{bottom:N()}],left:[{left:N()}],visibility:["visible","invisible","collapse"],z:[{z:[Jh,"auto",zt,Ft]}],basis:[{basis:[dp,"full","auto",a,...R()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Vn,dp,"auto","initial","none",Ft]}],grow:[{grow:["",Vn,zt,Ft]}],shrink:[{shrink:["",Vn,zt,Ft]}],order:[{order:[Jh,"first","last","none",zt,Ft]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:R()}],"gap-x":[{"gap-x":R()}],"gap-y":[{"gap-y":R()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...K(),"baseline"]}],"align-self":[{self:["auto",...K(),"baseline"]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:R()}],px:[{px:R()}],py:[{py:R()}],ps:[{ps:R()}],pe:[{pe:R()}],pt:[{pt:R()}],pr:[{pr:R()}],pb:[{pb:R()}],pl:[{pl:R()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":R()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":R()}],"space-y-reverse":["space-y-reverse"],size:[{size:J()}],w:[{w:[a,"screen",...J()]}],"min-w":[{"min-w":[a,"screen","none",...J()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...J()]}],h:[{h:["screen",...J()]}],"min-h":[{"min-h":["screen","none",...J()]}],"max-h":[{"max-h":["screen",...J()]}],"font-size":[{text:["base",n,Cv,Qh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,zt,iE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mR,Ft]}],"font-family":[{font:[SW,Ft,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,zt,Ft]}],"line-clamp":[{"line-clamp":[Vn,"none",zt,iE]}],leading:[{leading:[s,...R()]}],"list-image":[{"list-image":["none",zt,Ft]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",zt,Ft]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:[Vn,"from-font","auto",zt,Qh]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Vn,"auto",zt,Ft]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:R()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt,Ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt,Ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),wW,_W]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",bW,yW]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Jh,zt,Ft],radial:["",zt,Ft],conic:[Jh,zt,Ft]},EW,vW]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...V(),"hidden","none"]}],"divide-style":[{divide:[...V(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...V(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Vn,zt,Ft]}],"outline-w":[{outline:["",Vn,Cv,Qh]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",u,CW,xW]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",zt,Ft,f]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Vn,Qh]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":$()}],opacity:[{opacity:[Vn,zt,Ft]}],"mix-blend":[{"mix-blend":[...G(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none",zt,Ft]}],blur:[{blur:oe()}],brightness:[{brightness:[Vn,zt,Ft]}],contrast:[{contrast:[Vn,zt,Ft]}],"drop-shadow":[{"drop-shadow":["","none",p,zt,Ft]}],grayscale:[{grayscale:["",Vn,zt,Ft]}],"hue-rotate":[{"hue-rotate":[Vn,zt,Ft]}],invert:[{invert:["",Vn,zt,Ft]}],saturate:[{saturate:[Vn,zt,Ft]}],sepia:[{sepia:["",Vn,zt,Ft]}],"backdrop-filter":[{"backdrop-filter":["","none",zt,Ft]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[Vn,zt,Ft]}],"backdrop-contrast":[{"backdrop-contrast":[Vn,zt,Ft]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Vn,zt,Ft]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Vn,zt,Ft]}],"backdrop-invert":[{"backdrop-invert":["",Vn,zt,Ft]}],"backdrop-opacity":[{"backdrop-opacity":[Vn,zt,Ft]}],"backdrop-saturate":[{"backdrop-saturate":[Vn,zt,Ft]}],"backdrop-sepia":[{"backdrop-sepia":["",Vn,zt,Ft]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":R()}],"border-spacing-x":[{"border-spacing-x":R()}],"border-spacing-y":[{"border-spacing-y":R()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",zt,Ft]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Vn,"initial",zt,Ft]}],ease:[{ease:["linear","initial",w,zt,Ft]}],delay:[{delay:[Vn,zt,Ft]}],animate:[{animate:["none",x,zt,Ft]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,zt,Ft]}],"perspective-origin":[{"perspective-origin":Z()}],rotate:[{rotate:ue()}],"rotate-x":[{"rotate-x":ue()}],"rotate-y":[{"rotate-y":ue()}],"rotate-z":[{"rotate-z":ue()}],scale:[{scale:me()}],"scale-x":[{"scale-x":me()}],"scale-y":[{"scale-y":me()}],"scale-z":[{"scale-z":me()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[zt,Ft,"","none","gpu","cpu"]}],"transform-origin":[{origin:Z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Me()}],"translate-x":[{"translate-x":Me()}],"translate-y":[{"translate-y":Me()}],"translate-z":[{"translate-z":Me()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt,Ft]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":R()}],"scroll-mx":[{"scroll-mx":R()}],"scroll-my":[{"scroll-my":R()}],"scroll-ms":[{"scroll-ms":R()}],"scroll-me":[{"scroll-me":R()}],"scroll-mt":[{"scroll-mt":R()}],"scroll-mr":[{"scroll-mr":R()}],"scroll-mb":[{"scroll-mb":R()}],"scroll-ml":[{"scroll-ml":R()}],"scroll-p":[{"scroll-p":R()}],"scroll-px":[{"scroll-px":R()}],"scroll-py":[{"scroll-py":R()}],"scroll-ps":[{"scroll-ps":R()}],"scroll-pe":[{"scroll-pe":R()}],"scroll-pt":[{"scroll-pt":R()}],"scroll-pr":[{"scroll-pr":R()}],"scroll-pb":[{"scroll-pb":R()}],"scroll-pl":[{"scroll-pl":R()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt,Ft]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Vn,Cv,Qh,iE]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},LW=sW(PW);function vi(...t){return LW(G8(t))}const _0=t=>{const{className:e,variant:n,disabled:r,children:i,onClick:s}=t;return ne.jsx("button",{className:vi({"bg-primary px-4 py-2 rounded-md":n==="primary","bg-inherit outline-1 outline-primary-foreground":n==="outline","bg-transparent p-1":n==="ghost"},e),disabled:r,onClick:s,children:ne.jsx("div",{className:vi({"text-primary-foreground":n==="primary","text-muted-foreground":n==="outline"},"text-center"),children:i})})};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DO=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=Re.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>Re.createElement("svg",{ref:l,...DW,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:DO("lucide",i),...a},[...o.map(([c,u])=>Re.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=(t,e)=>{const n=Re.forwardRef(({className:r,...i},s)=>Re.createElement(OW,{ref:s,iconNode:e,className:DO(`lucide-${IW(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],OO=NW("ArrowLeft",BW),FW=()=>{const t=()=>{window.history.back()};return ne.jsx(ne.Fragment,{children:ne.jsxs("header",{className:vi("h-12 px-4 shadow-sm backdrop-blur-md md:justify-start md:gap-4","flex items-center justify-between","fixed top-0 left-0 right-0 z-header"),children:[ne.jsx(_0,{variant:"ghost",className:"lg:hidden",onClick:t,children:ne.jsx(OO,{})}),ne.jsxs(YM,{to:"/",className:"flex items-center gap-2 py-1 justify-center md:justify-start",children:[ne.jsx("span",{className:"hidden md:block",children:ne.jsx("img",{src:"https://github.com/gitsunmin.png",alt:"logo",className:"h-10 w-10 rounded-full"})}),ne.jsx("span",{children:ne.jsx("h1",{className:"text-2xl font-bold",children:"Gitsunmin"})})]}),ne.jsx("div",{className:"size-10"})]})})},zW=({children:t,variant:e="default",header:n,footer:r,className:i})=>ne.jsxs(ne.Fragment,{children:[n,ne.jsx("main",{className:vi("mx-auto flex justify-center min-h-[100dvh]",i),children:ne.jsx("article",{className:vi("max-w-sm w-full px-4 md:max-w-md lg:max-w-screen-md",{"snap-y snap-mandatory h-[100dvh] overflow-y-scroll":e==="book"}),children:t})}),r]}),UW=sa("/_layout")({component:VW});function VW(){return ne.jsx(zW,{header:ne.jsx(FW,{}),className:"pt-12",footer:ne.jsx($8,{}),children:ne.jsx(Jw,{})})}const HW=sa("/_books")({component:WW});function WW(){const t=()=>{window.history.back()};return ne.jsxs(ne.Fragment,{children:[ne.jsx(_0,{variant:"ghost",className:"shadow-lg rounded-full absolute top-2 left-4 bg-background",onClick:t,children:ne.jsx(OO,{})}),ne.jsx(Jw,{})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const e1="173",yf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},_f={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},NO=0,nT=1,BO=2,GW=3,FO=0,t1=1,Ky=2,Ba=3,Hc=0,Ds=1,_l=2,Fc=0,Vf=1,rT=2,iT=3,sT=4,zO=5,Yu=100,UO=101,VO=102,HO=103,WO=104,GO=200,$O=201,jO=202,qO=203,gS=204,yS=205,XO=206,YO=207,KO=208,ZO=209,JO=210,QO=211,e3=212,t3=213,n3=214,_S=0,vS=1,xS=2,Xf=3,SS=4,wS=5,bS=6,ES=7,t_=0,r3=1,i3=2,Cl=0,s3=1,o3=2,a3=3,JM=4,l3=5,c3=6,u3=7,oT="attached",h3="detached",n1=300,Wc=301,eh=302,v0=303,x0=304,Hm=306,S0=1e3,na=1001,w0=1002,qi=1003,QM=1004,$W=1004,Gp=1005,jW=1005,_i=1006,Zy=1007,qW=1007,wl=1008,XW=1008,$a=1009,eA=1010,tA=1011,xm=1012,r1=1013,Gc=1014,lo=1015,Wm=1016,i1=1017,s1=1018,Yf=1020,nA=35902,rA=1021,iA=1022,cs=1023,sA=1024,oA=1025,Hf=1026,Kf=1027,o1=1028,n_=1029,aA=1030,a1=1031,YW=1032,l1=1033,Jy=33776,Qy=33777,e0=33778,t0=33779,CS=35840,TS=35841,MS=35842,AS=35843,kS=36196,RS=37492,PS=37496,LS=37808,IS=37809,DS=37810,OS=37811,NS=37812,BS=37813,FS=37814,zS=37815,US=37816,VS=37817,HS=37818,WS=37819,GS=37820,$S=37821,n0=36492,jS=36494,qS=36495,lA=36283,XS=36284,YS=36285,KS=36286,f3=2200,d3=2201,p3=2202,b0=2300,ZS=2301,Vx=2302,kf=2400,Rf=2401,E0=2402,c1=2500,cA=2501,KW=0,ZW=1,JW=2,m3=3200,g3=3201,QW=3202,eG=3203,ah=0,y3=1,Lc="",io="srgb",Zf="srgb-linear",C0="linear",or="srgb",tG=0,vf=7680,nG=7681,rG=7682,iG=7683,sG=34055,oG=34056,aG=5386,lG=512,cG=513,uG=514,hG=515,fG=516,dG=517,pG=518,aT=519,_3=512,v3=513,x3=514,uA=515,S3=516,w3=517,b3=518,E3=519,T0=35044,mG=35048,gG=35040,yG=35045,_G=35049,vG=35041,xG=35046,SG=35050,wG=35042,bG="100",lT="300 es",Va=2e3,M0=2001,EG={COMPUTE:"compute",RENDER:"render"};let Il=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const is=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let gR=1234567;const Wf=Math.PI/180,Sm=180/Math.PI;function Po(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(is[t&255]+is[t>>8&255]+is[t>>16&255]+is[t>>24&255]+"-"+is[e&255]+is[e>>8&255]+"-"+is[e>>16&15|64]+is[e>>24&255]+"-"+is[n&63|128]+is[n>>8&255]+"-"+is[n>>16&255]+is[n>>24&255]+is[r&255]+is[r>>8&255]+is[r>>16&255]+is[r>>24&255]).toLowerCase()}function xn(t,e,n){return Math.max(e,Math.min(n,t))}function hA(t,e){return(t%e+e)%e}function CG(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function TG(t,e,n){return t!==e?(n-t)/(e-t):0}function r0(t,e,n){return(1-n)*t+n*e}function MG(t,e,n,r){return r0(t,e,1-Math.exp(-n*r))}function AG(t,e=1){return e-Math.abs(hA(t,e*2)-e)}function kG(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function RG(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function PG(t,e){return t+Math.floor(Math.random()*(e-t+1))}function LG(t,e){return t+Math.random()*(e-t)}function IG(t){return t*(.5-Math.random())}function DG(t){t!==void 0&&(gR=t);let e=gR+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function OG(t){return t*Wf}function NG(t){return t*Sm}function BG(t){return(t&t-1)===0&&t!==0}function FG(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function zG(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function UG(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),_=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*f,l*p,a*c);break;case"YZY":t.set(l*p,a*u,l*f,a*c);break;case"ZXZ":t.set(l*f,l*p,a*u,a*c);break;case"XZX":t.set(a*u,l*_,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*_,a*c);break;case"ZYZ":t.set(l*_,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Rs(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Mn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const VG={DEG2RAD:Wf,RAD2DEG:Sm,generateUUID:Po,clamp:xn,euclideanModulo:hA,mapLinear:CG,inverseLerp:TG,lerp:r0,damp:MG,pingpong:AG,smoothstep:kG,smootherstep:RG,randInt:PG,randFloat:LG,randFloatSpread:IG,seededRandom:DG,degToRad:OG,radToDeg:NG,isPowerOfTwo:BG,ceilPowerOfTwo:FG,floorPowerOfTwo:zG,setQuaternionFromProperEuler:UG,normalize:Mn,denormalize:Rs};class qe{constructor(e=0,n=0){qe.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=xn(this.x,e.x,n.x),this.y=xn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=xn(this.x,e,n),this.y=xn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(xn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(xn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wn{constructor(e,n,r,i,s,o,a,l,c){wn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],p=r[2],m=r[5],_=r[8],S=i[0],w=i[3],x=i[6],C=i[1],T=i[4],A=i[7],L=i[2],R=i[5],N=i[8];return s[0]=o*S+a*C+l*L,s[3]=o*w+a*T+l*R,s[6]=o*x+a*A+l*N,s[1]=c*S+u*C+f*L,s[4]=c*w+u*T+f*R,s[7]=c*x+u*A+f*N,s[2]=p*S+m*C+_*L,s[5]=p*w+m*T+_*R,s[8]=p*x+m*A+_*N,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,p=a*l-u*s,m=c*s-o*l,_=n*f+r*p+i*m;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/_;return e[0]=f*S,e[1]=(i*c-u*r)*S,e[2]=(a*r-i*o)*S,e[3]=p*S,e[4]=(u*n-i*l)*S,e[5]=(i*s-a*n)*S,e[6]=m*S,e[7]=(r*l-c*n)*S,e[8]=(o*n-r*s)*S,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(sE.makeScale(e,n)),this}rotate(e){return this.premultiply(sE.makeRotation(-e)),this}translate(e,n){return this.premultiply(sE.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const sE=new wn;function C3(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const HG={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function $p(t,e){return new HG[t](e)}function A0(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function T3(){const t=A0("canvas");return t.style.display="block",t}const yR={};function zp(t){t in yR||(yR[t]=!0,console.warn(t))}function WG(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}function GG(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function $G(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const _R=new wn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),vR=new wn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function jG(){const t={enabled:!0,workingColorSpace:Zf,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===or&&(i.r=zc(i.r),i.g=zc(i.g),i.b=zc(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===or&&(i.r=nm(i.r),i.g=nm(i.g),i.b=nm(i.b))),i},fromWorkingColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},toWorkingColorSpace:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Lc?C0:this.spaces[i].transfer},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Zf]:{primaries:e,whitePoint:r,transfer:C0,toXYZ:_R,fromXYZ:vR,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:io},outputColorSpaceConfig:{drawingBufferColorSpace:io}},[io]:{primaries:e,whitePoint:r,transfer:or,toXYZ:_R,fromXYZ:vR,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:io}}}),t}const Gn=jG();function zc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function nm(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let pp;class M3{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{pp===void 0&&(pp=A0("canvas")),pp.width=e.width,pp.height=e.height;const r=pp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=pp}return n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=A0("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=zc(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(zc(n[r]/255)*255):n[r]=zc(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let qG=0;class Pf{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:qG++}),this.uuid=Po(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(oE(i[o].image)):s.push(oE(i[o]))}else s=oE(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function oE(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?M3.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let XG=0;class Ur extends Il{constructor(e=Ur.DEFAULT_IMAGE,n=Ur.DEFAULT_MAPPING,r=na,i=na,s=_i,o=wl,a=cs,l=$a,c=Ur.DEFAULT_ANISOTROPY,u=Lc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:XG++}),this.uuid=Po(),this.name="",this.source=new Pf(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new qe(0,0),this.repeat=new qe(1,1),this.center=new qe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==n1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case S0:e.x=e.x-Math.floor(e.x);break;case na:e.x=e.x<0?0:1;break;case w0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case S0:e.y=e.y-Math.floor(e.y);break;case na:e.y=e.y<0?0:1;break;case w0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ur.DEFAULT_IMAGE=null;Ur.DEFAULT_MAPPING=n1;Ur.DEFAULT_ANISOTROPY=1;class Xn{constructor(e=0,n=0,r=0,i=1){Xn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],p=l[1],m=l[5],_=l[9],S=l[2],w=l[6],x=l[10];if(Math.abs(u-p)<.01&&Math.abs(f-S)<.01&&Math.abs(_-w)<.01){if(Math.abs(u+p)<.1&&Math.abs(f+S)<.1&&Math.abs(_+w)<.1&&Math.abs(c+m+x-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const T=(c+1)/2,A=(m+1)/2,L=(x+1)/2,R=(u+p)/4,N=(f+S)/4,z=(_+w)/4;return T>A&&T>L?T<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(T),i=R/r,s=N/r):A>L?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=R/i,s=z/i):L<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(L),r=N/s,i=z/s),this.set(r,i,s,n),this}let C=Math.sqrt((w-_)*(w-_)+(f-S)*(f-S)+(p-u)*(p-u));return Math.abs(C)<.001&&(C=1),this.x=(w-_)/C,this.y=(f-S)/C,this.z=(p-u)/C,this.w=Math.acos((c+m+x-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=xn(this.x,e.x,n.x),this.y=xn(this.y,e.y,n.y),this.z=xn(this.z,e.z,n.z),this.w=xn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=xn(this.x,e,n),this.y=xn(this.y,e,n),this.z=xn(this.z,e,n),this.w=xn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(xn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class u1 extends Il{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Xn(0,0,e,n),this.scissorTest=!1,this.viewport=new Xn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:_i,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const s=new Ur(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);s.flipY=!1,s.generateMipmaps=r.generateMipmaps,s.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0,this.textures[r].renderTarget=this;const n=Object.assign({},e.texture.image);return this.texture.source=new Pf(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class kl extends u1{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class r_ extends Ur{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=qi,this.minFilter=qi,this.wrapR=na,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class YG extends kl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new r_(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class h1 extends Ur{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=qi,this.minFilter=qi,this.wrapR=na,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class KG extends kl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new h1(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class us{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],_=s[o+2],S=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=_,e[n+3]=S;return}if(f!==S||l!==p||c!==m||u!==_){let w=1-a;const x=l*p+c*m+u*_+f*S,C=x>=0?1:-1,T=1-x*x;if(T>Number.EPSILON){const L=Math.sqrt(T),R=Math.atan2(L,x*C);w=Math.sin(w*R)/L,a=Math.sin(a*R)/L}const A=a*C;if(l=l*w+p*A,c=c*w+m*A,u=u*w+_*A,f=f*w+S*A,w===1-a){const L=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=L,c*=L,u*=L,f*=L}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],p=s[o+1],m=s[o+2],_=s[o+3];return e[n]=a*_+u*f+l*m-c*p,e[n+1]=l*_+u*p+c*f-a*m,e[n+2]=c*_+u*m+a*p-l*f,e[n+3]=u*_-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),_=l(s/2);switch(o){case"XYZ":this._x=p*u*f+c*m*_,this._y=c*m*f-p*u*_,this._z=c*u*_+p*m*f,this._w=c*u*f-p*m*_;break;case"YXZ":this._x=p*u*f+c*m*_,this._y=c*m*f-p*u*_,this._z=c*u*_-p*m*f,this._w=c*u*f+p*m*_;break;case"ZXY":this._x=p*u*f-c*m*_,this._y=c*m*f+p*u*_,this._z=c*u*_+p*m*f,this._w=c*u*f-p*m*_;break;case"ZYX":this._x=p*u*f-c*m*_,this._y=c*m*f+p*u*_,this._z=c*u*_-p*m*f,this._w=c*u*f+p*m*_;break;case"YZX":this._x=p*u*f+c*m*_,this._y=c*m*f+p*u*_,this._z=c*u*_-p*m*f,this._w=c*u*f-p*m*_;break;case"XZY":this._x=p*u*f-c*m*_,this._y=c*m*f-p*u*_,this._z=c*u*_+p*m*f,this._w=c*u*f+p*m*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],f=n[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(xn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-n)*u)/c,p=Math.sin(n*u)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class se{constructor(e=0,n=0,r=0){se.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(xR.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(xR.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*n-s*i),f=2*(s*r-o*n);return this.x=n+l*c+o*f-a*u,this.y=r+l*u+a*c-s*f,this.z=i+l*f+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=xn(this.x,e.x,n.x),this.y=xn(this.y,e.y,n.y),this.z=xn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=xn(this.x,e,n),this.y=xn(this.y,e,n),this.z=xn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(xn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return aE.copy(this).projectOnVector(e),this.sub(aE)}reflect(e){return this.sub(aE.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(xn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const aE=new se,xR=new us;class Os{constructor(e=new se(1/0,1/0,1/0),n=new se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ia.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ia.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ia.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Ia):Ia.fromBufferAttribute(s,o),Ia.applyMatrix4(e.matrixWorld),this.expandByPoint(Ia);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Tv.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Tv.copy(r.boundingBox)),Tv.applyMatrix4(e.matrixWorld),this.union(Tv)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ia),Ia.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ry),Mv.subVectors(this.max,ry),mp.subVectors(e.a,ry),gp.subVectors(e.b,ry),yp.subVectors(e.c,ry),Ru.subVectors(gp,mp),Pu.subVectors(yp,gp),ef.subVectors(mp,yp);let n=[0,-Ru.z,Ru.y,0,-Pu.z,Pu.y,0,-ef.z,ef.y,Ru.z,0,-Ru.x,Pu.z,0,-Pu.x,ef.z,0,-ef.x,-Ru.y,Ru.x,0,-Pu.y,Pu.x,0,-ef.y,ef.x,0];return!lE(n,mp,gp,yp,Mv)||(n=[1,0,0,0,1,0,0,0,1],!lE(n,mp,gp,yp,Mv))?!1:(Av.crossVectors(Ru,Pu),n=[Av.x,Av.y,Av.z],lE(n,mp,gp,yp,Mv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ia).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ia).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(vc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),vc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),vc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),vc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),vc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),vc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),vc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),vc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(vc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const vc=[new se,new se,new se,new se,new se,new se,new se,new se],Ia=new se,Tv=new Os,mp=new se,gp=new se,yp=new se,Ru=new se,Pu=new se,ef=new se,ry=new se,Mv=new se,Av=new se,tf=new se;function lE(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){tf.fromArray(t,s);const a=i.x*Math.abs(tf.x)+i.y*Math.abs(tf.y)+i.z*Math.abs(tf.z),l=e.dot(tf),c=n.dot(tf),u=r.dot(tf);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const ZG=new Os,iy=new se,cE=new se;class hs{constructor(e=new se,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):ZG.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;iy.subVectors(e,this.center);const n=iy.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(iy,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(iy.copy(e.center).add(cE)),this.expandByPoint(iy.copy(e.center).sub(cE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const xc=new se,uE=new se,kv=new se,Lu=new se,hE=new se,Rv=new se,fE=new se;class od{constructor(e=new se,n=new se(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,xc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=xc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(xc.copy(this.origin).addScaledVector(this.direction,n),xc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){uE.copy(e).add(n).multiplyScalar(.5),kv.copy(n).sub(e).normalize(),Lu.copy(this.origin).sub(uE);const s=e.distanceTo(n)*.5,o=-this.direction.dot(kv),a=Lu.dot(this.direction),l=-Lu.dot(kv),c=Lu.lengthSq(),u=Math.abs(1-o*o);let f,p,m,_;if(u>0)if(f=o*l-a,p=o*a-l,_=s*u,f>=0)if(p>=-_)if(p<=_){const S=1/u;f*=S,p*=S,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-_?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=_?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(uE).addScaledVector(kv,p),m}intersectSphere(e,n){xc.subVectors(e.center,this.origin);const r=xc.dot(this.direction),i=xc.dot(xc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,xc)!==null}intersectTriangle(e,n,r,i,s){hE.subVectors(n,e),Rv.subVectors(r,e),fE.crossVectors(hE,Rv);let o=this.direction.dot(fE),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Lu.subVectors(this.origin,e);const l=a*this.direction.dot(Rv.crossVectors(Lu,Rv));if(l<0)return null;const c=a*this.direction.dot(hE.cross(Lu));if(c<0||l+c>o)return null;const u=-a*Lu.dot(fE);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class cn{constructor(e,n,r,i,s,o,a,l,c,u,f,p,m,_,S,w){cn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,f,p,m,_,S,w)}set(e,n,r,i,s,o,a,l,c,u,f,p,m,_,S,w){const x=this.elements;return x[0]=e,x[4]=n,x[8]=r,x[12]=i,x[1]=s,x[5]=o,x[9]=a,x[13]=l,x[2]=c,x[6]=u,x[10]=f,x[14]=p,x[3]=m,x[7]=_,x[11]=S,x[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new cn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/_p.setFromMatrixColumn(e,0).length(),s=1/_p.setFromMatrixColumn(e,1).length(),o=1/_p.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*f,_=a*u,S=a*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=m+_*c,n[5]=p-S*c,n[9]=-a*l,n[2]=S-p*c,n[6]=_+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*f,_=c*u,S=c*f;n[0]=p+S*a,n[4]=_*a-m,n[8]=o*c,n[1]=o*f,n[5]=o*u,n[9]=-a,n[2]=m*a-_,n[6]=S+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*f,_=c*u,S=c*f;n[0]=p-S*a,n[4]=-o*f,n[8]=_+m*a,n[1]=m+_*a,n[5]=o*u,n[9]=S-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*f,_=a*u,S=a*f;n[0]=l*u,n[4]=_*c-m,n[8]=p*c+S,n[1]=l*f,n[5]=S*c+p,n[9]=m*c-_,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,_=a*l,S=a*c;n[0]=l*u,n[4]=S-p*f,n[8]=_*f+m,n[1]=f,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*f+_,n[10]=p-S*f}else if(e.order==="XZY"){const p=o*l,m=o*c,_=a*l,S=a*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=p*f+S,n[5]=o*u,n[9]=m*f-_,n[2]=_*f-m,n[6]=a*u,n[10]=S*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(JG,e,QG)}lookAt(e,n,r){const i=this.elements;return Eo.subVectors(e,n),Eo.lengthSq()===0&&(Eo.z=1),Eo.normalize(),Iu.crossVectors(r,Eo),Iu.lengthSq()===0&&(Math.abs(r.z)===1?Eo.x+=1e-4:Eo.z+=1e-4,Eo.normalize(),Iu.crossVectors(r,Eo)),Iu.normalize(),Pv.crossVectors(Eo,Iu),i[0]=Iu.x,i[4]=Pv.x,i[8]=Eo.x,i[1]=Iu.y,i[5]=Pv.y,i[9]=Eo.y,i[2]=Iu.z,i[6]=Pv.z,i[10]=Eo.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],p=r[9],m=r[13],_=r[2],S=r[6],w=r[10],x=r[14],C=r[3],T=r[7],A=r[11],L=r[15],R=i[0],N=i[4],z=i[8],D=i[12],I=i[1],B=i[5],q=i[9],K=i[13],j=i[2],J=i[6],$=i[10],ie=i[14],U=i[3],ee=i[7],V=i[11],G=i[15];return s[0]=o*R+a*I+l*j+c*U,s[4]=o*N+a*B+l*J+c*ee,s[8]=o*z+a*q+l*$+c*V,s[12]=o*D+a*K+l*ie+c*G,s[1]=u*R+f*I+p*j+m*U,s[5]=u*N+f*B+p*J+m*ee,s[9]=u*z+f*q+p*$+m*V,s[13]=u*D+f*K+p*ie+m*G,s[2]=_*R+S*I+w*j+x*U,s[6]=_*N+S*B+w*J+x*ee,s[10]=_*z+S*q+w*$+x*V,s[14]=_*D+S*K+w*ie+x*G,s[3]=C*R+T*I+A*j+L*U,s[7]=C*N+T*B+A*J+L*ee,s[11]=C*z+T*q+A*$+L*V,s[15]=C*D+T*K+A*ie+L*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],p=e[10],m=e[14],_=e[3],S=e[7],w=e[11],x=e[15];return _*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*m-r*l*m)+S*(+n*l*m-n*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+w*(+n*c*f-n*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+x*(-i*a*u-n*l*f+n*a*p+i*o*f-r*o*p+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],m=e[11],_=e[12],S=e[13],w=e[14],x=e[15],C=f*w*c-S*p*c+S*l*m-a*w*m-f*l*x+a*p*x,T=_*p*c-u*w*c-_*l*m+o*w*m+u*l*x-o*p*x,A=u*S*c-_*f*c+_*a*m-o*S*m-u*a*x+o*f*x,L=_*f*l-u*S*l-_*a*p+o*S*p+u*a*w-o*f*w,R=n*C+r*T+i*A+s*L;if(R===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const N=1/R;return e[0]=C*N,e[1]=(S*p*s-f*w*s-S*i*m+r*w*m+f*i*x-r*p*x)*N,e[2]=(a*w*s-S*l*s+S*i*c-r*w*c-a*i*x+r*l*x)*N,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*m-r*l*m)*N,e[4]=T*N,e[5]=(u*w*s-_*p*s+_*i*m-n*w*m-u*i*x+n*p*x)*N,e[6]=(_*l*s-o*w*s-_*i*c+n*w*c+o*i*x-n*l*x)*N,e[7]=(o*p*s-u*l*s+u*i*c-n*p*c-o*i*m+n*l*m)*N,e[8]=A*N,e[9]=(_*f*s-u*S*s-_*r*m+n*S*m+u*r*x-n*f*x)*N,e[10]=(o*S*s-_*a*s+_*r*c-n*S*c-o*r*x+n*a*x)*N,e[11]=(u*a*s-o*f*s-u*r*c+n*f*c+o*r*m-n*a*m)*N,e[12]=L*N,e[13]=(u*S*i-_*f*i+_*r*p-n*S*p-u*r*w+n*f*w)*N,e[14]=(_*a*i-o*S*i-_*r*l+n*S*l+o*r*w-n*a*w)*N,e[15]=(o*f*i-u*a*i+u*r*l-n*f*l-o*r*p+n*a*p)*N,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,f=a+a,p=s*c,m=s*u,_=s*f,S=o*u,w=o*f,x=a*f,C=l*c,T=l*u,A=l*f,L=r.x,R=r.y,N=r.z;return i[0]=(1-(S+x))*L,i[1]=(m+A)*L,i[2]=(_-T)*L,i[3]=0,i[4]=(m-A)*R,i[5]=(1-(p+x))*R,i[6]=(w+C)*R,i[7]=0,i[8]=(_+T)*N,i[9]=(w-C)*N,i[10]=(1-(p+S))*N,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=_p.set(i[0],i[1],i[2]).length();const o=_p.set(i[4],i[5],i[6]).length(),a=_p.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Da.copy(this);const c=1/s,u=1/o,f=1/a;return Da.elements[0]*=c,Da.elements[1]*=c,Da.elements[2]*=c,Da.elements[4]*=u,Da.elements[5]*=u,Da.elements[6]*=u,Da.elements[8]*=f,Da.elements[9]*=f,Da.elements[10]*=f,n.setFromRotationMatrix(Da),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Va){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),p=(r+i)/(r-i);let m,_;if(a===Va)m=-(o+s)/(o-s),_=-2*o*s/(o-s);else if(a===M0)m=-o/(o-s),_=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Va){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(o-s),p=(n+e)*c,m=(r+i)*u;let _,S;if(a===Va)_=(o+s)*f,S=-2*f;else if(a===M0)_=s*f,S=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=S,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const _p=new se,Da=new cn,JG=new se(0,0,0),QG=new se(1,1,1),Iu=new se,Pv=new se,Eo=new se,SR=new cn,wR=new us;class Io{constructor(e=0,n=0,r=0,i=Io.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(xn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-xn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(xn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-xn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(xn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-xn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return SR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(SR,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return wR.setFromEuler(this),this.setFromQuaternion(wR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Io.DEFAULT_ORDER="XYZ";class Gf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let e9=0;const bR=new se,vp=new us,Sc=new cn,Lv=new se,sy=new se,t9=new se,n9=new us,ER=new se(1,0,0),CR=new se(0,1,0),TR=new se(0,0,1),MR={type:"added"},r9={type:"removed"},xp={type:"childadded",child:null},dE={type:"childremoved",child:null};class Yn extends Il{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:e9++}),this.uuid=Po(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Yn.DEFAULT_UP.clone();const e=new se,n=new Io,r=new us,i=new se(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new cn},normalMatrix:{value:new wn}}),this.matrix=new cn,this.matrixWorld=new cn,this.matrixAutoUpdate=Yn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Yn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Gf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return vp.setFromAxisAngle(e,n),this.quaternion.multiply(vp),this}rotateOnWorldAxis(e,n){return vp.setFromAxisAngle(e,n),this.quaternion.premultiply(vp),this}rotateX(e){return this.rotateOnAxis(ER,e)}rotateY(e){return this.rotateOnAxis(CR,e)}rotateZ(e){return this.rotateOnAxis(TR,e)}translateOnAxis(e,n){return bR.copy(e).applyQuaternion(this.quaternion),this.position.add(bR.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(ER,e)}translateY(e){return this.translateOnAxis(CR,e)}translateZ(e){return this.translateOnAxis(TR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Sc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Lv.copy(e):Lv.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),sy.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Sc.lookAt(sy,Lv,this.up):Sc.lookAt(Lv,sy,this.up),this.quaternion.setFromRotationMatrix(Sc),i&&(Sc.extractRotation(i.matrixWorld),vp.setFromRotationMatrix(Sc),this.quaternion.premultiply(vp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(MR),xp.child=e,this.dispatchEvent(xp),xp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(r9),dE.child=e,this.dispatchEvent(dE),dE.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Sc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Sc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Sc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(MR),xp.child=e,this.dispatchEvent(xp),xp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sy,e,t9),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sy,n9,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),_=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),_.length>0&&(r.nodes=_)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Yn.DEFAULT_UP=new se(0,1,0);Yn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Yn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Oa=new se,wc=new se,pE=new se,bc=new se,Sp=new se,wp=new se,AR=new se,mE=new se,gE=new se,yE=new se,_E=new Xn,vE=new Xn,xE=new Xn;class oo{constructor(e=new se,n=new se,r=new se){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Oa.subVectors(e,n),i.cross(Oa);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Oa.subVectors(i,n),wc.subVectors(r,n),pE.subVectors(e,n);const o=Oa.dot(Oa),a=Oa.dot(wc),l=Oa.dot(pE),c=wc.dot(wc),u=wc.dot(pE),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const p=1/f,m=(c*l-a*u)*p,_=(o*u-a*l)*p;return s.set(1-m-_,_,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,bc)===null?!1:bc.x>=0&&bc.y>=0&&bc.x+bc.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,bc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,bc.x),l.addScaledVector(o,bc.y),l.addScaledVector(a,bc.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return _E.setScalar(0),vE.setScalar(0),xE.setScalar(0),_E.fromBufferAttribute(e,n),vE.fromBufferAttribute(e,r),xE.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(_E,s.x),o.addScaledVector(vE,s.y),o.addScaledVector(xE,s.z),o}static isFrontFacing(e,n,r,i){return Oa.subVectors(r,n),wc.subVectors(e,n),Oa.cross(wc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Oa.subVectors(this.c,this.b),wc.subVectors(this.a,this.b),Oa.cross(wc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return oo.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return oo.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return oo.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return oo.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return oo.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Sp.subVectors(i,r),wp.subVectors(s,r),mE.subVectors(e,r);const l=Sp.dot(mE),c=wp.dot(mE);if(l<=0&&c<=0)return n.copy(r);gE.subVectors(e,i);const u=Sp.dot(gE),f=wp.dot(gE);if(u>=0&&f<=u)return n.copy(i);const p=l*f-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(Sp,o);yE.subVectors(e,s);const m=Sp.dot(yE),_=wp.dot(yE);if(_>=0&&m<=_)return n.copy(s);const S=m*c-l*_;if(S<=0&&c>=0&&_<=0)return a=c/(c-_),n.copy(r).addScaledVector(wp,a);const w=u*_-m*f;if(w<=0&&f-u>=0&&m-_>=0)return AR.subVectors(s,i),a=(f-u)/(f-u+(m-_)),n.copy(i).addScaledVector(AR,a);const x=1/(w+S+p);return o=S*x,a=p*x,n.copy(r).addScaledVector(Sp,o).addScaledVector(wp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const A3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Du={h:0,s:0,l:0},Iv={h:0,s:0,l:0};function SE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let It=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=io){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Gn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Gn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Gn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Gn.workingColorSpace){if(e=hA(e,1),n=xn(n,0,1),r=xn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=SE(o,s,e+1/3),this.g=SE(o,s,e),this.b=SE(o,s,e-1/3)}return Gn.toWorkingColorSpace(this,i),this}setStyle(e,n=io){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=io){const r=A3[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=zc(e.r),this.g=zc(e.g),this.b=zc(e.b),this}copyLinearToSRGB(e){return this.r=nm(e.r),this.g=nm(e.g),this.b=nm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=io){return Gn.fromWorkingColorSpace(ss.copy(this),e),Math.round(xn(ss.r*255,0,255))*65536+Math.round(xn(ss.g*255,0,255))*256+Math.round(xn(ss.b*255,0,255))}getHexString(e=io){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Gn.workingColorSpace){Gn.fromWorkingColorSpace(ss.copy(this),n);const r=ss.r,i=ss.g,s=ss.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Gn.workingColorSpace){return Gn.fromWorkingColorSpace(ss.copy(this),n),e.r=ss.r,e.g=ss.g,e.b=ss.b,e}getStyle(e=io){Gn.fromWorkingColorSpace(ss.copy(this),e);const n=ss.r,r=ss.g,i=ss.b;return e!==io?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Du),this.setHSL(Du.h+e,Du.s+n,Du.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Du),e.getHSL(Iv);const r=r0(Du.h,Iv.h,n),i=r0(Du.s,Iv.s,n),s=r0(Du.l,Iv.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ss=new It;It.NAMES=A3;let i9=0;class ds extends Il{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:i9++}),this.uuid=Po(),this.name="",this.type="Material",this.blending=Vf,this.side=Hc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=gS,this.blendDst=yS,this.blendEquation=Yu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new It(0,0,0),this.blendAlpha=0,this.depthFunc=Xf,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=aT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=vf,this.stencilZFail=vf,this.stencilZPass=vf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Vf&&(r.blending=this.blending),this.side!==Hc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==gS&&(r.blendSrc=this.blendSrc),this.blendDst!==yS&&(r.blendDst=this.blendDst),this.blendEquation!==Yu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Xf&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==aT&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==vf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==vf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==vf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class lh extends ds{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new It(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Io,this.combine=t_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ic=s9();function s9(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function to(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=xn(t,-65504,65504),Ic.floatView[0]=t;const e=Ic.uint32View[0],n=e>>23&511;return Ic.baseTable[n]+((e&8388607)>>Ic.shiftTable[n])}function Fy(t){const e=t>>10;return Ic.uint32View[0]=Ic.mantissaTable[Ic.offsetTable[e]+(t&1023)]+Ic.exponentTable[e],Ic.floatView[0]}const o9={toHalfFloat:to,fromHalfFloat:Fy},ti=new se,Dv=new qe;let a9=0;class ur{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:a9++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=T0,this.updateRanges=[],this.gpuType=lo,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)Dv.fromBufferAttribute(this,n),Dv.applyMatrix3(e),this.setXY(n,Dv.x,Dv.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyMatrix3(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyMatrix4(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.applyNormalMatrix(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ti.fromBufferAttribute(this,n),ti.transformDirection(e),this.setXYZ(n,ti.x,ti.y,ti.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Rs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Mn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Rs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Rs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Rs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Rs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array),i=Mn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array),i=Mn(i,this.array),s=Mn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==T0&&(e.usage=this.usage),e}}class l9 extends ur{constructor(e,n,r){super(new Int8Array(e),n,r)}}class c9 extends ur{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class u9 extends ur{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class h9 extends ur{constructor(e,n,r){super(new Int16Array(e),n,r)}}class fA extends ur{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class f9 extends ur{constructor(e,n,r){super(new Int32Array(e),n,r)}}class dA extends ur{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class d9 extends ur{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=Fy(this.array[e*this.itemSize]);return this.normalized&&(n=Rs(n,this.array)),n}setX(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize]=to(n),this}getY(e){let n=Fy(this.array[e*this.itemSize+1]);return this.normalized&&(n=Rs(n,this.array)),n}setY(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+1]=to(n),this}getZ(e){let n=Fy(this.array[e*this.itemSize+2]);return this.normalized&&(n=Rs(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+2]=to(n),this}getW(e){let n=Fy(this.array[e*this.itemSize+3]);return this.normalized&&(n=Rs(n,this.array)),n}setW(e,n){return this.normalized&&(n=Mn(n,this.array)),this.array[e*this.itemSize+3]=to(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array)),this.array[e+0]=to(n),this.array[e+1]=to(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array),i=Mn(i,this.array)),this.array[e+0]=to(n),this.array[e+1]=to(r),this.array[e+2]=to(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array),i=Mn(i,this.array),s=Mn(s,this.array)),this.array[e+0]=to(n),this.array[e+1]=to(r),this.array[e+2]=to(i),this.array[e+3]=to(s),this}}class Gt extends ur{constructor(e,n,r){super(new Float32Array(e),n,r)}}let p9=0;const Xo=new cn,wE=new Yn,bp=new se,Co=new Os,oy=new Os,Li=new se;class Ln extends Il{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:p9++}),this.uuid=Po(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(C3(e)?dA:fA)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new wn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Xo.makeRotationFromQuaternion(e),this.applyMatrix4(Xo),this}rotateX(e){return Xo.makeRotationX(e),this.applyMatrix4(Xo),this}rotateY(e){return Xo.makeRotationY(e),this.applyMatrix4(Xo),this}rotateZ(e){return Xo.makeRotationZ(e),this.applyMatrix4(Xo),this}translate(e,n,r){return Xo.makeTranslation(e,n,r),this.applyMatrix4(Xo),this}scale(e,n,r){return Xo.makeScale(e,n,r),this.applyMatrix4(Xo),this}lookAt(e){return wE.lookAt(e),wE.updateMatrix(),this.applyMatrix4(wE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(bp).negate(),this.translate(bp.x,bp.y,bp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Gt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Os);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new se(-1/0,-1/0,-1/0),new se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Co.setFromBufferAttribute(s),this.morphTargetsRelative?(Li.addVectors(this.boundingBox.min,Co.min),this.boundingBox.expandByPoint(Li),Li.addVectors(this.boundingBox.max,Co.max),this.boundingBox.expandByPoint(Li)):(this.boundingBox.expandByPoint(Co.min),this.boundingBox.expandByPoint(Co.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new hs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new se,1/0);return}if(e){const r=this.boundingSphere.center;if(Co.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];oy.setFromBufferAttribute(a),this.morphTargetsRelative?(Li.addVectors(Co.min,oy.min),Co.expandByPoint(Li),Li.addVectors(Co.max,oy.max),Co.expandByPoint(Li)):(Co.expandByPoint(oy.min),Co.expandByPoint(oy.max))}Co.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Li.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Li));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Li.fromBufferAttribute(a,c),l&&(bp.fromBufferAttribute(e,c),Li.add(bp)),i=Math.max(i,r.distanceToSquared(Li))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new ur(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let z=0;z<r.count;z++)a[z]=new se,l[z]=new se;const c=new se,u=new se,f=new se,p=new qe,m=new qe,_=new qe,S=new se,w=new se;function x(z,D,I){c.fromBufferAttribute(r,z),u.fromBufferAttribute(r,D),f.fromBufferAttribute(r,I),p.fromBufferAttribute(s,z),m.fromBufferAttribute(s,D),_.fromBufferAttribute(s,I),u.sub(c),f.sub(c),m.sub(p),_.sub(p);const B=1/(m.x*_.y-_.x*m.y);isFinite(B)&&(S.copy(u).multiplyScalar(_.y).addScaledVector(f,-m.y).multiplyScalar(B),w.copy(f).multiplyScalar(m.x).addScaledVector(u,-_.x).multiplyScalar(B),a[z].add(S),a[D].add(S),a[I].add(S),l[z].add(w),l[D].add(w),l[I].add(w))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let z=0,D=C.length;z<D;++z){const I=C[z],B=I.start,q=I.count;for(let K=B,j=B+q;K<j;K+=3)x(e.getX(K+0),e.getX(K+1),e.getX(K+2))}const T=new se,A=new se,L=new se,R=new se;function N(z){L.fromBufferAttribute(i,z),R.copy(L);const D=a[z];T.copy(D),T.sub(L.multiplyScalar(L.dot(D))).normalize(),A.crossVectors(R,D);const B=A.dot(l[z])<0?-1:1;o.setXYZW(z,T.x,T.y,T.z,B)}for(let z=0,D=C.length;z<D;++z){const I=C[z],B=I.start,q=I.count;for(let K=B,j=B+q;K<j;K+=3)N(e.getX(K+0)),N(e.getX(K+1)),N(e.getX(K+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new ur(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new se,s=new se,o=new se,a=new se,l=new se,c=new se,u=new se,f=new se;if(e)for(let p=0,m=e.count;p<m;p+=3){const _=e.getX(p+0),S=e.getX(p+1),w=e.getX(p+2);i.fromBufferAttribute(n,_),s.fromBufferAttribute(n,S),o.fromBufferAttribute(n,w),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,_),l.fromBufferAttribute(r,S),c.fromBufferAttribute(r,w),a.add(u),l.add(u),c.add(u),r.setXYZ(_,a.x,a.y,a.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(w,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Li.fromBufferAttribute(e,n),Li.normalize(),e.setXYZ(n,Li.x,Li.y,Li.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,p=new c.constructor(l.length*u);let m=0,_=0;for(let S=0,w=l.length;S<w;S++){a.isInterleavedBufferAttribute?m=l[S]*a.data.stride+a.offset:m=l[S]*u;for(let x=0;x<u;x++)p[_++]=c[m++]}return new ur(p,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ln,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const p=c[u],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let p=0,m=f.length;p<m;p++)u.push(f[p].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const kR=new cn,nf=new od,Ov=new hs,RR=new se,Nv=new se,Bv=new se,Fv=new se,bE=new se,zv=new se,PR=new se,Uv=new se;class si extends Yn{constructor(e=new Ln,n=new lh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){zv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(bE.fromBufferAttribute(f,e),o?zv.addScaledVector(bE,u):zv.addScaledVector(bE.sub(n),u))}n.add(zv)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ov.copy(r.boundingSphere),Ov.applyMatrix4(s),nf.copy(e.ray).recast(e.near),!(Ov.containsPoint(nf.origin)===!1&&(nf.intersectSphere(Ov,RR)===null||nf.origin.distanceToSquared(RR)>(e.far-e.near)**2))&&(kR.copy(s).invert(),nf.copy(e.ray).applyMatrix4(kR),!(r.boundingBox!==null&&nf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,nf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let _=0,S=p.length;_<S;_++){const w=p[_],x=o[w.materialIndex],C=Math.max(w.start,m.start),T=Math.min(a.count,Math.min(w.start+w.count,m.start+m.count));for(let A=C,L=T;A<L;A+=3){const R=a.getX(A),N=a.getX(A+1),z=a.getX(A+2);i=Vv(this,x,e,r,c,u,f,R,N,z),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=w.materialIndex,n.push(i))}}else{const _=Math.max(0,m.start),S=Math.min(a.count,m.start+m.count);for(let w=_,x=S;w<x;w+=3){const C=a.getX(w),T=a.getX(w+1),A=a.getX(w+2);i=Vv(this,o,e,r,c,u,f,C,T,A),i&&(i.faceIndex=Math.floor(w/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let _=0,S=p.length;_<S;_++){const w=p[_],x=o[w.materialIndex],C=Math.max(w.start,m.start),T=Math.min(l.count,Math.min(w.start+w.count,m.start+m.count));for(let A=C,L=T;A<L;A+=3){const R=A,N=A+1,z=A+2;i=Vv(this,x,e,r,c,u,f,R,N,z),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=w.materialIndex,n.push(i))}}else{const _=Math.max(0,m.start),S=Math.min(l.count,m.start+m.count);for(let w=_,x=S;w<x;w+=3){const C=w,T=w+1,A=w+2;i=Vv(this,o,e,r,c,u,f,C,T,A),i&&(i.faceIndex=Math.floor(w/3),n.push(i))}}}}function m9(t,e,n,r,i,s,o,a){let l;if(e.side===Ds?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Hc,a),l===null)return null;Uv.copy(a),Uv.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Uv);return c<n.near||c>n.far?null:{distance:c,point:Uv.clone(),object:t}}function Vv(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,Nv),t.getVertexPosition(l,Bv),t.getVertexPosition(c,Fv);const u=m9(t,e,n,r,Nv,Bv,Fv,PR);if(u){const f=new se;oo.getBarycoord(PR,Nv,Bv,Fv,f),i&&(u.uv=oo.getInterpolatedAttribute(i,a,l,c,f,new qe)),s&&(u.uv1=oo.getInterpolatedAttribute(s,a,l,c,f,new qe)),o&&(u.normal=oo.getInterpolatedAttribute(o,a,l,c,f,new se),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const p={a,b:l,c,normal:new se,materialIndex:0};oo.getNormal(Nv,Bv,Fv,p.normal),u.face=p,u.barycoord=f}return u}class ad extends Ln{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let p=0,m=0;_("z","y","x",-1,-1,r,n,e,o,s,0),_("z","y","x",1,-1,r,n,-e,o,s,1),_("x","z","y",1,1,e,r,n,i,o,2),_("x","z","y",1,-1,e,r,-n,i,o,3),_("x","y","z",1,-1,e,n,r,i,s,4),_("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Gt(c,3)),this.setAttribute("normal",new Gt(u,3)),this.setAttribute("uv",new Gt(f,2));function _(S,w,x,C,T,A,L,R,N,z,D){const I=A/N,B=L/z,q=A/2,K=L/2,j=R/2,J=N+1,$=z+1;let ie=0,U=0;const ee=new se;for(let V=0;V<$;V++){const G=V*B-K;for(let oe=0;oe<J;oe++){const Z=oe*I-q;ee[S]=Z*C,ee[w]=G*T,ee[x]=j,c.push(ee.x,ee.y,ee.z),ee[S]=0,ee[w]=0,ee[x]=R>0?1:-1,u.push(ee.x,ee.y,ee.z),f.push(oe/N),f.push(1-V/z),ie+=1}}for(let V=0;V<z;V++)for(let G=0;G<N;G++){const oe=p+G+J*V,Z=p+G+J*(V+1),ue=p+(G+1)+J*(V+1),me=p+(G+1)+J*V;l.push(oe,Z,me),l.push(Z,ue,me),U+=6}a.addGroup(m,U,D),m+=U,p+=ie}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ad(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function wm(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ks(t){const e={};for(let n=0;n<t.length;n++){const r=wm(t[n]);for(const i in r)e[i]=r[i]}return e}function g9(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function k3(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Gn.workingColorSpace}const R3={clone:wm,merge:ks};var y9=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_9=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ja extends ds{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=y9,this.fragmentShader=_9,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=wm(e.uniforms),this.uniformsGroups=g9(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class i_ extends Yn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new cn,this.projectionMatrix=new cn,this.projectionMatrixInverse=new cn,this.coordinateSystem=Va}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ou=new se,LR=new qe,IR=new qe;class $r extends i_{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Sm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Wf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Sm*2*Math.atan(Math.tan(Wf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Ou.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Ou.x,Ou.y).multiplyScalar(-e/Ou.z),Ou.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Ou.x,Ou.y).multiplyScalar(-e/Ou.z)}getViewSize(e,n){return this.getViewBounds(e,LR,IR),n.subVectors(IR,LR)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Wf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ep=-90,Cp=1;class P3 extends Yn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new $r(Ep,Cp,e,n);i.layers=this.layers,this.add(i);const s=new $r(Ep,Cp,e,n);s.layers=this.layers,this.add(s);const o=new $r(Ep,Cp,e,n);o.layers=this.layers,this.add(o);const a=new $r(Ep,Cp,e,n);a.layers=this.layers,this.add(a);const l=new $r(Ep,Cp,e,n);l.layers=this.layers,this.add(l);const c=new $r(Ep,Cp,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Va)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===M0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,p,m),e.xr.enabled=_,r.texture.needsPMREMUpdate=!0}}class s_ extends Ur{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Wc,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class L3 extends kl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new s_(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:_i}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ad(5,5,5),s=new ja({name:"CubemapFromEquirect",uniforms:wm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ds,blending:Fc});s.uniforms.tEquirect.value=n;const o=new si(i,s),a=n.minFilter;return n.minFilter===wl&&(n.minFilter=_i),new P3(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}class jp extends Yn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const v9={type:"move"};class Hx{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new jp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new jp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new jp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const S of e.hand.values()){const w=n.getJointPose(S,r),x=this._getHandJoint(c,S);w!==null&&(x.matrix.fromArray(w.transform.matrix),x.matrix.decompose(x.position,x.rotation,x.scale),x.matrixWorldNeedsUpdate=!0,x.jointRadius=w.radius),x.visible=w!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=u.position.distanceTo(f.position),m=.02,_=.005;c.inputState.pinching&&p>m+_?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-_&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(v9)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new jp;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class f1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new It(e),this.density=n}clone(){return new f1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class d1{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new It(e),this.near=n,this.far=r}clone(){return new d1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class pA extends Yn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Io,this.environmentIntensity=1,this.environmentRotation=new Io,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class p1{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=T0,this.updateRanges=[],this.version=0,this.uuid=Po()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Po()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Po()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Ms=new se;class Jf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Ms.fromBufferAttribute(this,n),Ms.applyMatrix4(e),this.setXYZ(n,Ms.x,Ms.y,Ms.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ms.fromBufferAttribute(this,n),Ms.applyNormalMatrix(e),this.setXYZ(n,Ms.x,Ms.y,Ms.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ms.fromBufferAttribute(this,n),Ms.transformDirection(e),this.setXYZ(n,Ms.x,Ms.y,Ms.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Rs(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Mn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Mn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Mn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Mn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Mn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Rs(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Rs(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Rs(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Rs(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array),i=Mn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Mn(n,this.array),r=Mn(r,this.array),i=Mn(i,this.array),s=Mn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new ur(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Jf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class mA extends ds{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new It(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Tp;const ay=new se,Mp=new se,Ap=new se,kp=new qe,ly=new qe,I3=new cn,Hv=new se,cy=new se,Wv=new se,DR=new qe,EE=new qe,OR=new qe;class D3 extends Yn{constructor(e=new mA){if(super(),this.isSprite=!0,this.type="Sprite",Tp===void 0){Tp=new Ln;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new p1(n,5);Tp.setIndex([0,1,2,0,2,3]),Tp.setAttribute("position",new Jf(r,3,0,!1)),Tp.setAttribute("uv",new Jf(r,2,3,!1))}this.geometry=Tp,this.material=e,this.center=new qe(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Mp.setFromMatrixScale(this.matrixWorld),I3.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Ap.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Mp.multiplyScalar(-Ap.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;Gv(Hv.set(-.5,-.5,0),Ap,o,Mp,i,s),Gv(cy.set(.5,-.5,0),Ap,o,Mp,i,s),Gv(Wv.set(.5,.5,0),Ap,o,Mp,i,s),DR.set(0,0),EE.set(1,0),OR.set(1,1);let a=e.ray.intersectTriangle(Hv,cy,Wv,!1,ay);if(a===null&&(Gv(cy.set(-.5,.5,0),Ap,o,Mp,i,s),EE.set(0,1),a=e.ray.intersectTriangle(Hv,Wv,cy,!1,ay),a===null))return;const l=e.ray.origin.distanceTo(ay);l<e.near||l>e.far||n.push({distance:l,point:ay.clone(),uv:oo.getInterpolation(ay,Hv,cy,Wv,DR,EE,OR,new qe),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Gv(t,e,n,r,i,s){kp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(ly.x=s*kp.x-i*kp.y,ly.y=i*kp.x+s*kp.y):ly.copy(kp),t.copy(e),t.x+=ly.x,t.y+=ly.y,t.applyMatrix4(I3)}const $v=new se,NR=new se;class O3 extends Yn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){$v.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo($v);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){$v.setFromMatrixPosition(e.matrixWorld),NR.setFromMatrixPosition(this.matrixWorld);const r=$v.distanceTo(NR)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const BR=new se,FR=new Xn,zR=new Xn,x9=new se,UR=new cn,jv=new se,CE=new hs,VR=new cn,TE=new od;class N3 extends si{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=oT,this.bindMatrix=new cn,this.bindMatrixInverse=new cn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Os),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,jv),this.boundingBox.expandByPoint(jv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new hs),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,jv),this.boundingSphere.expandByPoint(jv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),CE.copy(this.boundingSphere),CE.applyMatrix4(i),e.ray.intersectsSphere(CE)!==!1&&(VR.copy(i).invert(),TE.copy(e.ray).applyMatrix4(VR),!(this.boundingBox!==null&&TE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,TE)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Xn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===oT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===h3?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;FR.fromBufferAttribute(i.attributes.skinIndex,e),zR.fromBufferAttribute(i.attributes.skinWeight,e),BR.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=zR.getComponent(s);if(o!==0){const a=FR.getComponent(s);UR.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(x9.copy(BR).applyMatrix4(UR),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class gA extends Yn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Tl extends Ur{constructor(e=null,n=1,r=1,i,s,o,a,l,c=qi,u=qi,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const HR=new cn,S9=new cn;class m1{constructor(e=[],n=[]){this.uuid=Po(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new cn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new cn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:S9;HR.multiplyMatrices(a,n[s]),HR.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new m1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Tl(n,e,e,cs,lo);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new gA),this.bones.push(o),this.boneInverses.push(new cn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class bm extends ur{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Rp=new cn,WR=new cn,qv=[],GR=new Os,w9=new cn,uy=new si,hy=new hs;class B3 extends si{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new bm(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,w9)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Os),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Rp),GR.copy(e.boundingBox).applyMatrix4(Rp),this.boundingBox.union(GR)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new hs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Rp),hy.copy(e.boundingSphere).applyMatrix4(Rp),this.boundingSphere.union(hy)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(uy.geometry=this.geometry,uy.material=this.material,uy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),hy.copy(this.boundingSphere),hy.applyMatrix4(r),e.ray.intersectsSphere(hy)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Rp),WR.multiplyMatrices(r,Rp),uy.matrixWorld=WR,uy.raycast(e,qv);for(let o=0,a=qv.length;o<a;o++){const l=qv[o];l.instanceId=s,l.object=this,n.push(l)}qv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new bm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Tl(new Float32Array(i*this.count),i,this.count,o1,lo));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const ME=new se,b9=new se,E9=new wn;class Pc{constructor(e=new se(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=ME.subVectors(r,n).cross(b9.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(ME),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||E9.getNormalMatrix(e),i=this.coplanarPoint(ME).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const rf=new hs,Xv=new se;class o_{constructor(e=new Pc,n=new Pc,r=new Pc,i=new Pc,s=new Pc,o=new Pc){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Va){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],p=i[7],m=i[8],_=i[9],S=i[10],w=i[11],x=i[12],C=i[13],T=i[14],A=i[15];if(r[0].setComponents(l-s,p-c,w-m,A-x).normalize(),r[1].setComponents(l+s,p+c,w+m,A+x).normalize(),r[2].setComponents(l+o,p+u,w+_,A+C).normalize(),r[3].setComponents(l-o,p-u,w-_,A-C).normalize(),r[4].setComponents(l-a,p-f,w-S,A-T).normalize(),n===Va)r[5].setComponents(l+a,p+f,w+S,A+T).normalize();else if(n===M0)r[5].setComponents(a,f,S,T).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),rf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),rf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(rf)}intersectsSprite(e){return rf.center.set(0,0,0),rf.radius=.7071067811865476,rf.applyMatrix4(e.matrixWorld),this.intersectsSphere(rf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Xv.x=i.normal.x>0?e.max.x:e.min.x,Xv.y=i.normal.y>0?e.max.y:e.min.y,Xv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Xv)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function AE(t,e){return t-e}function C9(t,e){return t.z-e.z}function T9(t,e){return e.z-t.z}class M9{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const Qs=new cn,A9=new It(1,1,1),kE=new o_,Yv=new Os,sf=new hs,fy=new se,$R=new se,k9=new se,RE=new M9,os=new si,Kv=[];function R9(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function of(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class F3 extends si{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,n,r=n*2,i){super(new Ln,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Tl(n,e,e,cs,lo);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Tl(n,e,e,n_,Gc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Tl(n,e,e,cs,lo);r.colorSpace=Gn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,u=new a.constructor(r*l),f=new ur(u,l,c);n.setAttribute(s,f)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new ur(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Os);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Qs),this.getBoundingBoxAt(s,Yv).applyMatrix4(Qs),e.union(Yv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new hs);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Qs),this.getBoundingSphereAt(s,sf).applyMatrix4(Qs),e.union(sf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(AE),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;Qs.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(A9.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(AE),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const u in r.attributes){const f=n.getAttribute(u),p=r.getAttribute(u);R9(f,p,l);const m=f.itemSize;for(let _=f.count,S=c;_<S;_++){const w=l+_;for(let x=0;x<m;x++)p.setComponent(w,x,0)}p.needsUpdate=!0,p.addUpdateRange(l*m,c*m)}if(i){const u=a.indexStart,f=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let p=0;p<o.count;p++)s.setX(u+p,l+o.getX(p));for(let p=o.count,m=f;p<m;p++)s.setX(u+p,l);s.needsUpdate=!0,s.addUpdateRange(u,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:f,reservedIndexCount:p}=c,m=s.index,_=m.array,S=e-f;for(let w=u;w<u+p;w++)_[w]=_[w]+S;m.array.copyWithin(n,u,u+p),m.addUpdateRange(n,p),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:f}=c,p=s.attributes;for(const m in p){const _=p[m],{array:S,itemSize:w}=_;S.copyWithin(e*w,u*w,(u+f)*w),_.addUpdateRange(e*w,f*w)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Os,o=r.index,a=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;o&&(u=o.getX(u)),s.expandByPoint(fy.fromBufferAttribute(a,u))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new hs;this.getBoundingBoxAt(e,Yv),Yv.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let f=c;o&&(f=o.getX(f)),fy.fromBufferAttribute(a,f),l=Math.max(l,s.center.distanceToSquared(fy))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(AE);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);of(this._multiDrawCounts,i),of(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),of(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),of(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),of(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Ln,this._initializeGeometry(s));const o=this.geometry;s.index&&of(s.index.array,o.index.array);for(const a in s.attributes)of(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;os.material=this.material,os.geometry.index=o.index,os.geometry.attributes=o.attributes,os.geometry.boundingBox===null&&(os.geometry.boundingBox=new Os),os.geometry.boundingSphere===null&&(os.geometry.boundingSphere=new hs);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,u=i[c];os.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(a,os.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,os.geometry.boundingBox),this.getBoundingSphereAt(c,os.geometry.boundingSphere),os.raycast(e,Kv);for(let f=0,p=Kv.length;f<p;f++){const m=Kv[f];m.object=this,m.batchId=a,n.push(m)}Kv.length=0}os.material=null,os.geometry.index=null,os.geometry.attributes={},os.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._geometryInfo,p=this.perObjectFrustumCulled,m=this._indirectTexture,_=m.image.data;p&&(Qs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),kE.setFromProjectionMatrix(Qs,e.coordinateSystem));let S=0;if(this.sortObjects){Qs.copy(this.matrixWorld).invert(),fy.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Qs),$R.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Qs);for(let C=0,T=l.length;C<T;C++)if(l[C].visible&&l[C].active){const A=l[C].geometryIndex;this.getMatrixAt(C,Qs),this.getBoundingSphereAt(A,sf).applyMatrix4(Qs);let L=!1;if(p&&(L=!kE.intersectsSphere(sf)),!L){const R=f[A],N=k9.subVectors(sf.center,fy).dot($R);RE.push(R.start,R.count,N,C)}}const w=RE.list,x=this.customSort;x===null?w.sort(s.transparent?T9:C9):x.call(this,w,r);for(let C=0,T=w.length;C<T;C++){const A=w[C];c[S]=A.start*a,u[S]=A.count,_[S]=A.index,S++}RE.reset()}else for(let w=0,x=l.length;w<x;w++)if(l[w].visible&&l[w].active){const C=l[w].geometryIndex;let T=!1;if(p&&(this.getMatrixAt(w,Qs),this.getBoundingSphereAt(C,sf).applyMatrix4(Qs),T=!kE.intersectsSphere(sf)),!T){const A=f[C];c[S]=A.start*a,u[S]=A.count,_[S]=w,S++}}m.needsUpdate=!0,this._multiDrawCount=S,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class zs extends ds{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new It(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const JS=new se,QS=new se,jR=new cn,dy=new od,Zv=new hs,PE=new se,qR=new se;class th extends Yn{constructor(e=new Ln,n=new zs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)JS.fromBufferAttribute(n,i-1),QS.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=JS.distanceTo(QS);e.setAttribute("lineDistance",new Gt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Zv.copy(r.boundingSphere),Zv.applyMatrix4(i),Zv.radius+=s,e.ray.intersectsSphere(Zv)===!1)return;jR.copy(i).invert(),dy.copy(e.ray).applyMatrix4(jR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=r.index,p=r.attributes.position;if(u!==null){const m=Math.max(0,o.start),_=Math.min(u.count,o.start+o.count);for(let S=m,w=_-1;S<w;S+=c){const x=u.getX(S),C=u.getX(S+1),T=Jv(this,e,dy,l,x,C,S);T&&n.push(T)}if(this.isLineLoop){const S=u.getX(_-1),w=u.getX(m),x=Jv(this,e,dy,l,S,w,_-1);x&&n.push(x)}}else{const m=Math.max(0,o.start),_=Math.min(p.count,o.start+o.count);for(let S=m,w=_-1;S<w;S+=c){const x=Jv(this,e,dy,l,S,S+1,S);x&&n.push(x)}if(this.isLineLoop){const S=Jv(this,e,dy,l,_-1,m,_-1);S&&n.push(S)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Jv(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(JS.fromBufferAttribute(a,i),QS.fromBufferAttribute(a,s),n.distanceSqToSegment(JS,QS,PE,qR)>r)return;PE.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(PE);if(!(c<e.near||c>e.far))return{distance:c,point:qR.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const XR=new se,YR=new se;class Dl extends th{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)XR.fromBufferAttribute(n,i),YR.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+XR.distanceTo(YR);e.setAttribute("lineDistance",new Gt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class z3 extends th{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class yA extends ds{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new It(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const KR=new cn,cT=new od,Qv=new hs,ex=new se;class U3 extends Yn{constructor(e=new Ln,n=new yA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qv.copy(r.boundingSphere),Qv.applyMatrix4(i),Qv.radius+=s,e.ray.intersectsSphere(Qv)===!1)return;KR.copy(i).invert(),cT.copy(e.ray).applyMatrix4(KR);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let _=p,S=m;_<S;_++){const w=c.getX(_);ex.fromBufferAttribute(f,w),ZR(ex,w,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let _=p,S=m;_<S;_++)ex.fromBufferAttribute(f,_),ZR(ex,_,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function ZR(t,e,n,r,i,s,o){const a=cT.distanceSqToPoint(t);if(a<n){const l=new se;cT.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class V3 extends Ur{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:_i,this.magFilter=s!==void 0?s:_i,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class P9 extends V3{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class L9 extends Ur{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=qi,this.minFilter=qi,this.generateMipmaps=!1,this.needsUpdate=!0}}class g1 extends Ur{constructor(e,n,r,i,s,o,a,l,c,u,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class I9 extends g1{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=na,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class D9 extends g1{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Wc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class O9 extends Ur{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class _A extends Ur{constructor(e,n,r,i,s,o,a,l,c,u=Hf){if(u!==Hf&&u!==Kf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Hf&&(r=Gc),r===void 0&&u===Kf&&(r=Yf),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:qi,this.minFilter=l!==void 0?l:qi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Xa{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new qe:new se);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new se,i=[],s=[],o=[],a=new se,l=new cn;for(let m=0;m<=e;m++){const _=m/e;i[m]=this.getTangentAt(_,new se)}s[0]=new se,o[0]=new se;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const _=Math.acos(xn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,_))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(xn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let _=1;_<=e;_++)s[_].applyMatrix4(l.makeRotationAxis(i[_],m*_)),o[_].crossVectors(i[_],s[_])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class y1 extends Xa{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new qe){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*f+this.aX,c=p*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class H3 extends y1{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function vA(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const tx=new se,LE=new vA,IE=new vA,DE=new vA;class W3 extends Xa{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new se){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(tx.subVectors(i[0],i[1]).add(i[0]),c=tx);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(tx.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=tx),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let _=Math.pow(c.distanceToSquared(f),m),S=Math.pow(f.distanceToSquared(p),m),w=Math.pow(p.distanceToSquared(u),m);S<1e-4&&(S=1),_<1e-4&&(_=S),w<1e-4&&(w=S),LE.initNonuniformCatmullRom(c.x,f.x,p.x,u.x,_,S,w),IE.initNonuniformCatmullRom(c.y,f.y,p.y,u.y,_,S,w),DE.initNonuniformCatmullRom(c.z,f.z,p.z,u.z,_,S,w)}else this.curveType==="catmullrom"&&(LE.initCatmullRom(c.x,f.x,p.x,u.x,this.tension),IE.initCatmullRom(c.y,f.y,p.y,u.y,this.tension),DE.initCatmullRom(c.z,f.z,p.z,u.z,this.tension));return r.set(LE.calc(l),IE.calc(l),DE.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new se().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function JR(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function N9(t,e){const n=1-t;return n*n*e}function B9(t,e){return 2*(1-t)*t*e}function F9(t,e){return t*t*e}function i0(t,e,n,r){return N9(t,e)+B9(t,n)+F9(t,r)}function z9(t,e){const n=1-t;return n*n*n*e}function U9(t,e){const n=1-t;return 3*n*n*t*e}function V9(t,e){return 3*(1-t)*t*t*e}function H9(t,e){return t*t*t*e}function s0(t,e,n,r,i){return z9(t,e)+U9(t,n)+V9(t,r)+H9(t,i)}class xA extends Xa{constructor(e=new qe,n=new qe,r=new qe,i=new qe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new qe){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(s0(e,i.x,s.x,o.x,a.x),s0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class G3 extends Xa{constructor(e=new se,n=new se,r=new se,i=new se){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new se){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(s0(e,i.x,s.x,o.x,a.x),s0(e,i.y,s.y,o.y,a.y),s0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class SA extends Xa{constructor(e=new qe,n=new qe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new qe){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new qe){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $3 extends Xa{constructor(e=new se,n=new se){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new se){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new se){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wA extends Xa{constructor(e=new qe,n=new qe,r=new qe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new qe){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(i0(e,i.x,s.x,o.x),i0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bA extends Xa{constructor(e=new se,n=new se,r=new se){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new se){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(i0(e,i.x,s.x,o.x),i0(e,i.y,s.y,o.y),i0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EA extends Xa{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new qe){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(JR(a,l.x,c.x,u.x,f.x),JR(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new qe().fromArray(i))}return this}}var ew=Object.freeze({__proto__:null,ArcCurve:H3,CatmullRomCurve3:W3,CubicBezierCurve:xA,CubicBezierCurve3:G3,EllipseCurve:y1,LineCurve:SA,LineCurve3:$3,QuadraticBezierCurve:wA,QuadraticBezierCurve3:bA,SplineCurve:EA});class j3 extends Xa{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ew[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new ew[i.type]().fromJSON(i))}return this}}let k0=class extends j3{constructor(e){super(),this.type="Path",this.currentPoint=new qe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new SA(this.currentPoint.clone(),new qe(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new wA(this.currentPoint.clone(),new qe(e,n),new qe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new xA(this.currentPoint.clone(),new qe(e,n),new qe(r,i),new qe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new EA(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new y1(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class a_ extends Ln{constructor(e=[new qe(0,-.5),new qe(.5,0),new qe(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=xn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,f=new se,p=new qe,m=new se,_=new se,S=new se;let w=0,x=0;for(let C=0;C<=e.length-1;C++)switch(C){case 0:w=e[C+1].x-e[C].x,x=e[C+1].y-e[C].y,m.x=x*1,m.y=-w,m.z=x*0,S.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:w=e[C+1].x-e[C].x,x=e[C+1].y-e[C].y,m.x=x*1,m.y=-w,m.z=x*0,_.copy(m),m.x+=S.x,m.y+=S.y,m.z+=S.z,m.normalize(),l.push(m.x,m.y,m.z),S.copy(_)}for(let C=0;C<=n;C++){const T=r+C*u*i,A=Math.sin(T),L=Math.cos(T);for(let R=0;R<=e.length-1;R++){f.x=e[R].x*A,f.y=e[R].y,f.z=e[R].x*L,o.push(f.x,f.y,f.z),p.x=C/n,p.y=R/(e.length-1),a.push(p.x,p.y);const N=l[3*R+0]*A,z=l[3*R+1],D=l[3*R+0]*L;c.push(N,z,D)}}for(let C=0;C<n;C++)for(let T=0;T<e.length-1;T++){const A=T+C*e.length,L=A,R=A+e.length,N=A+e.length+1,z=A+1;s.push(L,R,z),s.push(N,z,R)}this.setIndex(s),this.setAttribute("position",new Gt(o,3)),this.setAttribute("uv",new Gt(a,2)),this.setAttribute("normal",new Gt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a_(e.points,e.segments,e.phiStart,e.phiLength)}}class _1 extends a_{constructor(e=1,n=1,r=4,i=8){const s=new k0;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new _1(e.radius,e.length,e.capSegments,e.radialSegments)}}class v1 extends Ln{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new se,u=new qe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=n;f++,p+=3){const m=r+f/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Gt(o,3)),this.setAttribute("normal",new Gt(a,3)),this.setAttribute("uv",new Gt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new v1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Gm extends Ln{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],p=[],m=[];let _=0;const S=[],w=r/2;let x=0;C(),o===!1&&(e>0&&T(!0),n>0&&T(!1)),this.setIndex(u),this.setAttribute("position",new Gt(f,3)),this.setAttribute("normal",new Gt(p,3)),this.setAttribute("uv",new Gt(m,2));function C(){const A=new se,L=new se;let R=0;const N=(n-e)/r;for(let z=0;z<=s;z++){const D=[],I=z/s,B=I*(n-e)+e;for(let q=0;q<=i;q++){const K=q/i,j=K*l+a,J=Math.sin(j),$=Math.cos(j);L.x=B*J,L.y=-I*r+w,L.z=B*$,f.push(L.x,L.y,L.z),A.set(J,N,$).normalize(),p.push(A.x,A.y,A.z),m.push(K,1-I),D.push(_++)}S.push(D)}for(let z=0;z<i;z++)for(let D=0;D<s;D++){const I=S[D][z],B=S[D+1][z],q=S[D+1][z+1],K=S[D][z+1];(e>0||D!==0)&&(u.push(I,B,K),R+=3),(n>0||D!==s-1)&&(u.push(B,q,K),R+=3)}c.addGroup(x,R,0),x+=R}function T(A){const L=_,R=new qe,N=new se;let z=0;const D=A===!0?e:n,I=A===!0?1:-1;for(let q=1;q<=i;q++)f.push(0,w*I,0),p.push(0,I,0),m.push(.5,.5),_++;const B=_;for(let q=0;q<=i;q++){const j=q/i*l+a,J=Math.cos(j),$=Math.sin(j);N.x=D*$,N.y=w*I,N.z=D*J,f.push(N.x,N.y,N.z),p.push(0,I,0),R.x=J*.5+.5,R.y=$*.5*I+.5,m.push(R.x,R.y),_++}for(let q=0;q<i;q++){const K=L+q,j=B+q;A===!0?u.push(j,j+1,K):u.push(j+1,j,K),z+=3}c.addGroup(x,z,A===!0?1:2),x+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Gm(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class x1 extends Gm{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new x1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class ch extends Ln{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new Gt(s,3)),this.setAttribute("normal",new Gt(s.slice(),3)),this.setAttribute("uv",new Gt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(C){const T=new se,A=new se,L=new se;for(let R=0;R<n.length;R+=3)m(n[R+0],T),m(n[R+1],A),m(n[R+2],L),l(T,A,L,C)}function l(C,T,A,L){const R=L+1,N=[];for(let z=0;z<=R;z++){N[z]=[];const D=C.clone().lerp(A,z/R),I=T.clone().lerp(A,z/R),B=R-z;for(let q=0;q<=B;q++)q===0&&z===R?N[z][q]=D:N[z][q]=D.clone().lerp(I,q/B)}for(let z=0;z<R;z++)for(let D=0;D<2*(R-z)-1;D++){const I=Math.floor(D/2);D%2===0?(p(N[z][I+1]),p(N[z+1][I]),p(N[z][I])):(p(N[z][I+1]),p(N[z+1][I+1]),p(N[z+1][I]))}}function c(C){const T=new se;for(let A=0;A<s.length;A+=3)T.x=s[A+0],T.y=s[A+1],T.z=s[A+2],T.normalize().multiplyScalar(C),s[A+0]=T.x,s[A+1]=T.y,s[A+2]=T.z}function u(){const C=new se;for(let T=0;T<s.length;T+=3){C.x=s[T+0],C.y=s[T+1],C.z=s[T+2];const A=w(C)/2/Math.PI+.5,L=x(C)/Math.PI+.5;o.push(A,1-L)}_(),f()}function f(){for(let C=0;C<o.length;C+=6){const T=o[C+0],A=o[C+2],L=o[C+4],R=Math.max(T,A,L),N=Math.min(T,A,L);R>.9&&N<.1&&(T<.2&&(o[C+0]+=1),A<.2&&(o[C+2]+=1),L<.2&&(o[C+4]+=1))}}function p(C){s.push(C.x,C.y,C.z)}function m(C,T){const A=C*3;T.x=e[A+0],T.y=e[A+1],T.z=e[A+2]}function _(){const C=new se,T=new se,A=new se,L=new se,R=new qe,N=new qe,z=new qe;for(let D=0,I=0;D<s.length;D+=9,I+=6){C.set(s[D+0],s[D+1],s[D+2]),T.set(s[D+3],s[D+4],s[D+5]),A.set(s[D+6],s[D+7],s[D+8]),R.set(o[I+0],o[I+1]),N.set(o[I+2],o[I+3]),z.set(o[I+4],o[I+5]),L.copy(C).add(T).add(A).divideScalar(3);const B=w(L);S(R,I+0,C,B),S(N,I+2,T,B),S(z,I+4,A,B)}}function S(C,T,A,L){L<0&&C.x===1&&(o[T]=C.x-1),A.x===0&&A.z===0&&(o[T]=L/2/Math.PI+.5)}function w(C){return Math.atan2(C.z,-C.x)}function x(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ch(e.vertices,e.indices,e.radius,e.details)}}class S1 extends ch{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new S1(e.radius,e.detail)}}const nx=new se,rx=new se,OE=new se,ix=new oo;class q3 extends Ln{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Wf*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),p={},m=[];for(let _=0;_<l;_+=3){o?(c[0]=o.getX(_),c[1]=o.getX(_+1),c[2]=o.getX(_+2)):(c[0]=_,c[1]=_+1,c[2]=_+2);const{a:S,b:w,c:x}=ix;if(S.fromBufferAttribute(a,c[0]),w.fromBufferAttribute(a,c[1]),x.fromBufferAttribute(a,c[2]),ix.getNormal(OE),f[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,f[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,f[2]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let C=0;C<3;C++){const T=(C+1)%3,A=f[C],L=f[T],R=ix[u[C]],N=ix[u[T]],z=`${A}_${L}`,D=`${L}_${A}`;D in p&&p[D]?(OE.dot(p[D].normal)<=s&&(m.push(R.x,R.y,R.z),m.push(N.x,N.y,N.z)),p[D]=null):z in p||(p[z]={index0:c[C],index1:c[T],normal:OE.clone()})}}for(const _ in p)if(p[_]){const{index0:S,index1:w}=p[_];nx.fromBufferAttribute(a,S),rx.fromBufferAttribute(a,w),m.push(nx.x,nx.y,nx.z),m.push(rx.x,rx.y,rx.z)}this.setAttribute("position",new Gt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class $f extends k0{constructor(e){super(e),this.uuid=Po(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new k0().fromJSON(i))}return this}}const W9={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=X3(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,p,m;if(r&&(s=X9(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let _=n;_<i;_+=n)f=t[_],p=t[_+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return R0(s,o,n,a,l,m,0),o}};function X3(t,e,n,r,i){let s,o;if(i===s$(t,e,n,r)>0)for(s=e;s<n;s+=r)o=QR(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=QR(s,t[s],t[s+1],o);return o&&w1(o,o.next)&&(L0(o),o=o.next),o}function Qf(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(w1(n,n.next)||Or(n.prev,n,n.next)===0)){if(L0(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function R0(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Q9(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?$9(t,r,i,s):G9(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),L0(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=j9(Qf(t),e,n),R0(t,e,n,r,i,s,2)):o===2&&q9(t,e,n,r,i,s):R0(Qf(t),e,n,r,i,s,1);break}}}function G9(t){const e=t.prev,n=t,r=t.next;if(Or(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let _=r.next;for(;_!==e;){if(_.x>=u&&_.x<=p&&_.y>=f&&_.y<=m&&qp(i,a,s,l,o,c,_.x,_.y)&&Or(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function $9(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Or(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,_=u<f?u<p?u:p:f<p?f:p,S=a>l?a>c?a:c:l>c?l:c,w=u>f?u>p?u:p:f>p?f:p,x=uT(m,_,e,n,r),C=uT(S,w,e,n,r);let T=t.prevZ,A=t.nextZ;for(;T&&T.z>=x&&A&&A.z<=C;){if(T.x>=m&&T.x<=S&&T.y>=_&&T.y<=w&&T!==i&&T!==o&&qp(a,u,l,f,c,p,T.x,T.y)&&Or(T.prev,T,T.next)>=0||(T=T.prevZ,A.x>=m&&A.x<=S&&A.y>=_&&A.y<=w&&A!==i&&A!==o&&qp(a,u,l,f,c,p,A.x,A.y)&&Or(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;T&&T.z>=x;){if(T.x>=m&&T.x<=S&&T.y>=_&&T.y<=w&&T!==i&&T!==o&&qp(a,u,l,f,c,p,T.x,T.y)&&Or(T.prev,T,T.next)>=0)return!1;T=T.prevZ}for(;A&&A.z<=C;){if(A.x>=m&&A.x<=S&&A.y>=_&&A.y<=w&&A!==i&&A!==o&&qp(a,u,l,f,c,p,A.x,A.y)&&Or(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function j9(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!w1(i,s)&&Y3(i,r,r.next,s)&&P0(i,s)&&P0(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),L0(r),L0(r.next),r=t=s),r=r.next}while(r!==t);return Qf(r)}function q9(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&n$(o,a)){let l=K3(o,a);o=Qf(o,o.next),l=Qf(l,l.next),R0(o,e,n,r,i,s,0),R0(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function X9(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=X3(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(t$(c));for(i.sort(Y9),s=0;s<i.length;s++)n=K9(i[s],n);return n}function Y9(t,e){return t.x-e.x}function K9(t,e){const n=Z9(t,e);if(!n)return e;const r=K3(n,t);return Qf(r,r.next),Qf(n,n.next)}function Z9(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&qp(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),P0(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&J9(i,n)))&&(i=n,u=f)),n=n.next;while(n!==a);return i}function J9(t,e){return Or(t.prev,t,e.prev)<0&&Or(e.next,t,t.next)<0}function Q9(t,e,n,r){let i=t;do i.z===0&&(i.z=uT(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,e$(i)}function e$(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function uT(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function t$(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function qp(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function n$(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!r$(t,e)&&(P0(t,e)&&P0(e,t)&&i$(t,e)&&(Or(t.prev,t,e.prev)||Or(t,e.prev,e))||w1(t,e)&&Or(t.prev,t,t.next)>0&&Or(e.prev,e,e.next)>0)}function Or(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function w1(t,e){return t.x===e.x&&t.y===e.y}function Y3(t,e,n,r){const i=ox(Or(t,e,n)),s=ox(Or(t,e,r)),o=ox(Or(n,r,t)),a=ox(Or(n,r,e));return!!(i!==s&&o!==a||i===0&&sx(t,n,e)||s===0&&sx(t,r,e)||o===0&&sx(n,t,r)||a===0&&sx(n,e,r))}function sx(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function ox(t){return t>0?1:t<0?-1:0}function r$(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Y3(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function P0(t,e){return Or(t.prev,t,t.next)<0?Or(t,e,t.next)>=0&&Or(t,t.prev,e)>=0:Or(t,e,t.prev)<0||Or(t,t.next,e)<0}function i$(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function K3(t,e){const n=new hT(t.i,t.x,t.y),r=new hT(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function QR(t,e,n,r){const i=new hT(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function L0(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function hT(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function s$(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Ml{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ml.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];eP(e),tP(r,e);let o=e.length;n.forEach(eP);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,tP(r,n[l]);const a=W9.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function eP(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function tP(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class b1 extends Ln{constructor(e=new $f([new qe(.5,.5),new qe(-.5,.5),new qe(-.5,-.5),new qe(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Gt(i,3)),this.setAttribute("uv",new Gt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,_=n.bevelSize!==void 0?n.bevelSize:m-.1,S=n.bevelOffset!==void 0?n.bevelOffset:0,w=n.bevelSegments!==void 0?n.bevelSegments:3;const x=n.extrudePath,C=n.UVGenerator!==void 0?n.UVGenerator:o$;let T,A=!1,L,R,N,z;x&&(T=x.getSpacedPoints(u),A=!0,p=!1,L=x.computeFrenetFrames(u,!1),R=new se,N=new se,z=new se),p||(w=0,m=0,_=0,S=0);const D=a.extractPoints(c);let I=D.shape;const B=D.holes;if(!Ml.isClockWise(I)){I=I.reverse();for(let We=0,Oe=B.length;We<Oe;We++){const re=B[We];Ml.isClockWise(re)&&(B[We]=re.reverse())}}const K=Ml.triangulateShape(I,B),j=I;for(let We=0,Oe=B.length;We<Oe;We++){const re=B[We];I=I.concat(re)}function J(We,Oe,re){return Oe||console.error("THREE.ExtrudeGeometry: vec does not exist"),We.clone().addScaledVector(Oe,re)}const $=I.length,ie=K.length;function U(We,Oe,re){let pt,Ge,ot;const Qe=We.x-Oe.x,Rt=We.y-Oe.y,je=re.x-We.x,te=re.y-We.y,Q=Qe*Qe+Rt*Rt,be=Qe*te-Rt*je;if(Math.abs(be)>Number.EPSILON){const Ne=Math.sqrt(Q),$e=Math.sqrt(je*je+te*te),ce=Oe.x-Rt/Ne,Pe=Oe.y+Qe/Ne,Ve=re.x-te/$e,Ye=re.y+je/$e,St=((Ve-ce)*te-(Ye-Pe)*je)/(Qe*te-Rt*je);pt=ce+Qe*St-We.x,Ge=Pe+Rt*St-We.y;const Xe=pt*pt+Ge*Ge;if(Xe<=2)return new qe(pt,Ge);ot=Math.sqrt(Xe/2)}else{let Ne=!1;Qe>Number.EPSILON?je>Number.EPSILON&&(Ne=!0):Qe<-Number.EPSILON?je<-Number.EPSILON&&(Ne=!0):Math.sign(Rt)===Math.sign(te)&&(Ne=!0),Ne?(pt=-Rt,Ge=Qe,ot=Math.sqrt(Q)):(pt=Qe,Ge=Rt,ot=Math.sqrt(Q/2))}return new qe(pt/ot,Ge/ot)}const ee=[];for(let We=0,Oe=j.length,re=Oe-1,pt=We+1;We<Oe;We++,re++,pt++)re===Oe&&(re=0),pt===Oe&&(pt=0),ee[We]=U(j[We],j[re],j[pt]);const V=[];let G,oe=ee.concat();for(let We=0,Oe=B.length;We<Oe;We++){const re=B[We];G=[];for(let pt=0,Ge=re.length,ot=Ge-1,Qe=pt+1;pt<Ge;pt++,ot++,Qe++)ot===Ge&&(ot=0),Qe===Ge&&(Qe=0),G[pt]=U(re[pt],re[ot],re[Qe]);V.push(G),oe=oe.concat(G)}for(let We=0;We<w;We++){const Oe=We/w,re=m*Math.cos(Oe*Math.PI/2),pt=_*Math.sin(Oe*Math.PI/2)+S;for(let Ge=0,ot=j.length;Ge<ot;Ge++){const Qe=J(j[Ge],ee[Ge],pt);Me(Qe.x,Qe.y,-re)}for(let Ge=0,ot=B.length;Ge<ot;Ge++){const Qe=B[Ge];G=V[Ge];for(let Rt=0,je=Qe.length;Rt<je;Rt++){const te=J(Qe[Rt],G[Rt],pt);Me(te.x,te.y,-re)}}}const Z=_+S;for(let We=0;We<$;We++){const Oe=p?J(I[We],oe[We],Z):I[We];A?(N.copy(L.normals[0]).multiplyScalar(Oe.x),R.copy(L.binormals[0]).multiplyScalar(Oe.y),z.copy(T[0]).add(N).add(R),Me(z.x,z.y,z.z)):Me(Oe.x,Oe.y,0)}for(let We=1;We<=u;We++)for(let Oe=0;Oe<$;Oe++){const re=p?J(I[Oe],oe[Oe],Z):I[Oe];A?(N.copy(L.normals[We]).multiplyScalar(re.x),R.copy(L.binormals[We]).multiplyScalar(re.y),z.copy(T[We]).add(N).add(R),Me(z.x,z.y,z.z)):Me(re.x,re.y,f/u*We)}for(let We=w-1;We>=0;We--){const Oe=We/w,re=m*Math.cos(Oe*Math.PI/2),pt=_*Math.sin(Oe*Math.PI/2)+S;for(let Ge=0,ot=j.length;Ge<ot;Ge++){const Qe=J(j[Ge],ee[Ge],pt);Me(Qe.x,Qe.y,f+re)}for(let Ge=0,ot=B.length;Ge<ot;Ge++){const Qe=B[Ge];G=V[Ge];for(let Rt=0,je=Qe.length;Rt<je;Rt++){const te=J(Qe[Rt],G[Rt],pt);A?Me(te.x,te.y+T[u-1].y,T[u-1].x+re):Me(te.x,te.y,f+re)}}}ue(),me();function ue(){const We=i.length/3;if(p){let Oe=0,re=$*Oe;for(let pt=0;pt<ie;pt++){const Ge=K[pt];ze(Ge[2]+re,Ge[1]+re,Ge[0]+re)}Oe=u+w*2,re=$*Oe;for(let pt=0;pt<ie;pt++){const Ge=K[pt];ze(Ge[0]+re,Ge[1]+re,Ge[2]+re)}}else{for(let Oe=0;Oe<ie;Oe++){const re=K[Oe];ze(re[2],re[1],re[0])}for(let Oe=0;Oe<ie;Oe++){const re=K[Oe];ze(re[0]+$*u,re[1]+$*u,re[2]+$*u)}}r.addGroup(We,i.length/3-We,0)}function me(){const We=i.length/3;let Oe=0;we(j,Oe),Oe+=j.length;for(let re=0,pt=B.length;re<pt;re++){const Ge=B[re];we(Ge,Oe),Oe+=Ge.length}r.addGroup(We,i.length/3-We,1)}function we(We,Oe){let re=We.length;for(;--re>=0;){const pt=re;let Ge=re-1;Ge<0&&(Ge=We.length-1);for(let ot=0,Qe=u+w*2;ot<Qe;ot++){const Rt=$*ot,je=$*(ot+1),te=Oe+pt+Rt,Q=Oe+Ge+Rt,be=Oe+Ge+je,Ne=Oe+pt+je;rt(te,Q,be,Ne)}}}function Me(We,Oe,re){l.push(We),l.push(Oe),l.push(re)}function ze(We,Oe,re){Ke(We),Ke(Oe),Ke(re);const pt=i.length/3,Ge=C.generateTopUV(r,i,pt-3,pt-2,pt-1);xt(Ge[0]),xt(Ge[1]),xt(Ge[2])}function rt(We,Oe,re,pt){Ke(We),Ke(Oe),Ke(pt),Ke(Oe),Ke(re),Ke(pt);const Ge=i.length/3,ot=C.generateSideWallUV(r,i,Ge-6,Ge-3,Ge-2,Ge-1);xt(ot[0]),xt(ot[1]),xt(ot[3]),xt(ot[1]),xt(ot[2]),xt(ot[3])}function Ke(We){i.push(l[We*3+0]),i.push(l[We*3+1]),i.push(l[We*3+2])}function xt(We){s.push(We.x),s.push(We.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return a$(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new ew[i.type]().fromJSON(i)),new b1(r,e.options)}}const o$={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new qe(s,o),new qe(a,l),new qe(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],_=e[i*3+2],S=e[s*3],w=e[s*3+1],x=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new qe(o,1-l),new qe(c,1-f),new qe(p,1-_),new qe(S,1-x)]:[new qe(a,1-l),new qe(u,1-f),new qe(m,1-_),new qe(w,1-x)]}};function a$(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class E1 extends ch{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new E1(e.radius,e.detail)}}class l_ extends ch{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new l_(e.radius,e.detail)}}class $m extends Ln{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,p=n/l,m=[],_=[],S=[],w=[];for(let x=0;x<u;x++){const C=x*p-o;for(let T=0;T<c;T++){const A=T*f-s;_.push(A,-C,0),S.push(0,0,1),w.push(T/a),w.push(1-x/l)}}for(let x=0;x<l;x++)for(let C=0;C<a;C++){const T=C+c*x,A=C+c*(x+1),L=C+1+c*(x+1),R=C+1+c*x;m.push(T,A,R),m.push(A,L,R)}this.setIndex(m),this.setAttribute("position",new Gt(_,3)),this.setAttribute("normal",new Gt(S,3)),this.setAttribute("uv",new Gt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $m(e.width,e.height,e.widthSegments,e.heightSegments)}}class C1 extends Ln{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const p=(n-e)/i,m=new se,_=new qe;for(let S=0;S<=i;S++){for(let w=0;w<=r;w++){const x=s+w/r*o;m.x=f*Math.cos(x),m.y=f*Math.sin(x),l.push(m.x,m.y,m.z),c.push(0,0,1),_.x=(m.x/n+1)/2,_.y=(m.y/n+1)/2,u.push(_.x,_.y)}f+=p}for(let S=0;S<i;S++){const w=S*(r+1);for(let x=0;x<r;x++){const C=x+w,T=C,A=C+r+1,L=C+r+2,R=C+1;a.push(T,A,R),a.push(A,L,R)}}this.setIndex(a),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new C1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class T1 extends Ln{constructor(e=new $f([new qe(0,.5),new qe(-.5,-.5),new qe(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Gt(i,3)),this.setAttribute("normal",new Gt(s,3)),this.setAttribute("uv",new Gt(o,2));function c(u){const f=i.length/3,p=u.extractPoints(n);let m=p.shape;const _=p.holes;Ml.isClockWise(m)===!1&&(m=m.reverse());for(let w=0,x=_.length;w<x;w++){const C=_[w];Ml.isClockWise(C)===!0&&(_[w]=C.reverse())}const S=Ml.triangulateShape(m,_);for(let w=0,x=_.length;w<x;w++){const C=_[w];m=m.concat(C)}for(let w=0,x=m.length;w<x;w++){const C=m[w];i.push(C.x,C.y,0),s.push(0,0,1),o.push(C.x,C.y)}for(let w=0,x=S.length;w<x;w++){const C=S[w],T=C[0]+f,A=C[1]+f,L=C[2]+f;r.push(T,A,L),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return l$(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new T1(r,e.curveSegments)}}function l$(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class c_ extends Ln{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new se,p=new se,m=[],_=[],S=[],w=[];for(let x=0;x<=r;x++){const C=[],T=x/r;let A=0;x===0&&o===0?A=.5/n:x===r&&l===Math.PI&&(A=-.5/n);for(let L=0;L<=n;L++){const R=L/n;f.x=-e*Math.cos(i+R*s)*Math.sin(o+T*a),f.y=e*Math.cos(o+T*a),f.z=e*Math.sin(i+R*s)*Math.sin(o+T*a),_.push(f.x,f.y,f.z),p.copy(f).normalize(),S.push(p.x,p.y,p.z),w.push(R+A,1-T),C.push(c++)}u.push(C)}for(let x=0;x<r;x++)for(let C=0;C<n;C++){const T=u[x][C+1],A=u[x][C],L=u[x+1][C],R=u[x+1][C+1];(x!==0||o>0)&&m.push(T,A,R),(x!==r-1||l<Math.PI)&&m.push(A,L,R)}this.setIndex(m),this.setAttribute("position",new Gt(_,3)),this.setAttribute("normal",new Gt(S,3)),this.setAttribute("uv",new Gt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new c_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class M1 extends ch{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new M1(e.radius,e.detail)}}class A1 extends Ln{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new se,f=new se,p=new se;for(let m=0;m<=r;m++)for(let _=0;_<=i;_++){const S=_/i*s,w=m/r*Math.PI*2;f.x=(e+n*Math.cos(w))*Math.cos(S),f.y=(e+n*Math.cos(w))*Math.sin(S),f.z=n*Math.sin(w),a.push(f.x,f.y,f.z),u.x=e*Math.cos(S),u.y=e*Math.sin(S),p.subVectors(f,u).normalize(),l.push(p.x,p.y,p.z),c.push(_/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let _=1;_<=i;_++){const S=(i+1)*m+_-1,w=(i+1)*(m-1)+_-1,x=(i+1)*(m-1)+_,C=(i+1)*m+_;o.push(S,w,C),o.push(w,x,C)}this.setIndex(o),this.setAttribute("position",new Gt(a,3)),this.setAttribute("normal",new Gt(l,3)),this.setAttribute("uv",new Gt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new A1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class k1 extends Ln{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new se,p=new se,m=new se,_=new se,S=new se,w=new se,x=new se;for(let T=0;T<=r;++T){const A=T/r*s*Math.PI*2;C(A,s,o,e,m),C(A+.01,s,o,e,_),w.subVectors(_,m),x.addVectors(_,m),S.crossVectors(w,x),x.crossVectors(S,w),S.normalize(),x.normalize();for(let L=0;L<=i;++L){const R=L/i*Math.PI*2,N=-n*Math.cos(R),z=n*Math.sin(R);f.x=m.x+(N*x.x+z*S.x),f.y=m.y+(N*x.y+z*S.y),f.z=m.z+(N*x.z+z*S.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),u.push(T/r),u.push(L/i)}}for(let T=1;T<=r;T++)for(let A=1;A<=i;A++){const L=(i+1)*(T-1)+(A-1),R=(i+1)*T+(A-1),N=(i+1)*T+A,z=(i+1)*(T-1)+A;a.push(L,R,z),a.push(R,N,z)}this.setIndex(a),this.setAttribute("position",new Gt(l,3)),this.setAttribute("normal",new Gt(c,3)),this.setAttribute("uv",new Gt(u,2));function C(T,A,L,R,N){const z=Math.cos(T),D=Math.sin(T),I=L/A*T,B=Math.cos(I);N.x=R*(2+B)*.5*z,N.y=R*(2+B)*D*.5,N.z=R*Math.sin(I)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new k1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class R1 extends Ln{constructor(e=new bA(new se(-1,-1,0),new se(-1,1,0),new se(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new se,l=new se,c=new qe;let u=new se;const f=[],p=[],m=[],_=[];S(),this.setIndex(_),this.setAttribute("position",new Gt(f,3)),this.setAttribute("normal",new Gt(p,3)),this.setAttribute("uv",new Gt(m,2));function S(){for(let T=0;T<n;T++)w(T);w(s===!1?n:0),C(),x()}function w(T){u=e.getPointAt(T/n,u);const A=o.normals[T],L=o.binormals[T];for(let R=0;R<=i;R++){const N=R/i*Math.PI*2,z=Math.sin(N),D=-Math.cos(N);l.x=D*A.x+z*L.x,l.y=D*A.y+z*L.y,l.z=D*A.z+z*L.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function x(){for(let T=1;T<=n;T++)for(let A=1;A<=i;A++){const L=(i+1)*(T-1)+(A-1),R=(i+1)*T+(A-1),N=(i+1)*T+A,z=(i+1)*(T-1)+A;_.push(L,R,z),_.push(R,N,z)}}function C(){for(let T=0;T<=n;T++)for(let A=0;A<=i;A++)c.x=T/n,c.y=A/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new R1(new ew[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Z3 extends Ln{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new se,s=new se;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],p=f.start,m=f.count;for(let _=p,S=p+m;_<S;_+=3)for(let w=0;w<3;w++){const x=a.getX(_+w),C=a.getX(_+(w+1)%3);i.fromBufferAttribute(o,x),s.fromBufferAttribute(o,C),nP(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),nP(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Gt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function nP(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var rP=Object.freeze({__proto__:null,BoxGeometry:ad,CapsuleGeometry:_1,CircleGeometry:v1,ConeGeometry:x1,CylinderGeometry:Gm,DodecahedronGeometry:S1,EdgesGeometry:q3,ExtrudeGeometry:b1,IcosahedronGeometry:E1,LatheGeometry:a_,OctahedronGeometry:l_,PlaneGeometry:$m,PolyhedronGeometry:ch,RingGeometry:C1,ShapeGeometry:T1,SphereGeometry:c_,TetrahedronGeometry:M1,TorusGeometry:A1,TorusKnotGeometry:k1,TubeGeometry:R1,WireframeGeometry:Z3});class J3 extends ds{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new It(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Q3 extends ja{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class CA extends ds{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new It(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Io,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eN extends CA{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return xn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new It(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new It(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new It(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class tN extends ds{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new It(16777215),this.specular=new It(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Io,this.combine=t_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class nN extends ds{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new It(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class rN extends ds{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class iN extends ds{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new It(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new It(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Io,this.combine=t_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class TA extends ds{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=m3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class MA extends ds{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class sN extends ds{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new It(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ah,this.normalScale=new qe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oN extends zs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Lf(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function aN(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function lN(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function fT(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function AA(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function c$(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const _=c.times[m]*i;if(!(_<n||_>=r)){f.push(c.times[m]);for(let S=0;S<u;++S)p.push(c.values[m*u+S])}}f.length!==0&&(c.times=Lf(f,c.times.constructor),c.values=Lf(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function u$(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(x){return x.name===a.name&&x.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const _=a.times.length-1;let S;if(s<=a.times[0]){const x=u,C=f-u;S=a.values.slice(x,C)}else if(s>=a.times[_]){const x=_*f+u,C=x+f-u;S=a.values.slice(x,C)}else{const x=a.createInterpolant(),C=u,T=f-u;x.evaluate(s),S=x.resultBuffer.slice(C,T)}l==="quaternion"&&new us().fromArray(S).normalize().conjugate().toArray(S);const w=c.times.length;for(let x=0;x<w;++x){const C=x*m+p;if(l==="quaternion")us.multiplyQuaternionsFlat(c.values,C,S,0,c.values,C);else{const T=m-p*2;for(let A=0;A<T;++A)c.values[C+A]-=S[A]}}}return t.blendMode=cA,t}const h$={convertArray:Lf,isTypedArray:aN,getKeyframeOrder:lN,sortedArray:fT,flattenJSON:AA,subclip:c$,makeClipAdditive:u$};class u_{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class cN extends u_{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:kf,endingEnd:kf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Rf:s=e,a=2*n-r;break;case E0:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Rf:o=e,l=2*r-n;break;case E0:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,_=(r-n)/(i-n),S=_*_,w=S*_,x=-p*w+2*p*S-p*_,C=(1+p)*w+(-1.5-2*p)*S+(-.5+p)*_+1,T=(-1-m)*w+(1.5+m)*S+.5*_,A=m*w-m*S;for(let L=0;L!==a;++L)s[L]=x*o[u+L]+C*o[c+L]+T*o[l+L]+A*o[f+L];return s}}class kA extends u_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),f=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*u;return s}}class uN extends u_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ya{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Lf(n,this.TimeBufferType),this.values=Lf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Lf(e.times,Array),values:Lf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new uN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new kA(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new cN(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case b0:n=this.InterpolantFactoryMethodDiscrete;break;case ZS:n=this.InterpolantFactoryMethodLinear;break;case Vx:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return b0;case this.InterpolantFactoryMethodLinear:return ZS;case this.InterpolantFactoryMethodSmooth:return Vx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&aN(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Vx,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let _=0;_!==r;++_){const S=n[f+_];if(S!==n[p+_]||S!==n[m+_]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ya.prototype.TimeBufferType=Float32Array;Ya.prototype.ValueBufferType=Float32Array;Ya.prototype.DefaultInterpolation=ZS;class ld extends Ya{constructor(e,n,r){super(e,n,r)}}ld.prototype.ValueTypeName="bool";ld.prototype.ValueBufferType=Array;ld.prototype.DefaultInterpolation=b0;ld.prototype.InterpolantFactoryMethodLinear=void 0;ld.prototype.InterpolantFactoryMethodSmooth=void 0;class RA extends Ya{}RA.prototype.ValueTypeName="color";class I0 extends Ya{}I0.prototype.ValueTypeName="number";class hN extends u_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)us.slerpFlat(s,0,o,c-a,o,c,l);return s}}class h_ extends Ya{InterpolantFactoryMethodLinear(e){return new hN(this.times,this.values,this.getValueSize(),e)}}h_.prototype.ValueTypeName="quaternion";h_.prototype.InterpolantFactoryMethodSmooth=void 0;class cd extends Ya{constructor(e,n,r){super(e,n,r)}}cd.prototype.ValueTypeName="string";cd.prototype.ValueBufferType=Array;cd.prototype.DefaultInterpolation=b0;cd.prototype.InterpolantFactoryMethodLinear=void 0;cd.prototype.InterpolantFactoryMethodSmooth=void 0;class D0 extends Ya{}D0.prototype.ValueTypeName="vector";class O0{constructor(e="",n=-1,r=[],i=c1){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Po(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(d$(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(Ya.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=lN(l);l=fT(l,1,u),c=fT(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new I0(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let p=i[f];p||(i[f]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,_,S){if(m.length!==0){const w=[],x=[];AA(m,w,x,_),w.length!==0&&S.push(new f(p,w,x))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let _;for(_=0;_<p.length;_++)if(p[_].morphTargets)for(let S=0;S<p[_].morphTargets.length;S++)m[p[_].morphTargets[S]]=-1;for(const S in m){const w=[],x=[];for(let C=0;C!==p[_].morphTargets.length;++C){const T=p[_];w.push(T.time),x.push(T.morphTarget===S?1:0)}i.push(new I0(".morphTargetInfluence["+S+"]",w,x))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r(D0,m+".position",p,"pos",i),r(h_,m+".quaternion",p,"rot",i),r(D0,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function f$(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return I0;case"vector":case"vector2":case"vector3":case"vector4":return D0;case"color":return RA;case"quaternion":return h_;case"bool":case"boolean":return ld;case"string":return cd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function d$(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=f$(t.type);if(t.times===void 0){const n=[],r=[];AA(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Oc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class PA{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],_=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return _}return null}}}const fN=new PA;class ho{constructor(e){this.manager=e!==void 0?e:fN,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ho.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ec={};class p$ extends Error{constructor(e,n){super(e),this.response=n}}class $c extends ho{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Oc.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Ec[e]!==void 0){Ec[e].push({onLoad:n,onProgress:r,onError:i});return}Ec[e]=[],Ec[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ec[e],f=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),m=p?parseInt(p):0,_=m!==0;let S=0;const w=new ReadableStream({start(x){C();function C(){f.read().then(({done:T,value:A})=>{if(T)x.close();else{S+=A.byteLength;const L=new ProgressEvent("progress",{lengthComputable:_,loaded:S,total:m});for(let R=0,N=u.length;R<N;R++){const z=u[R];z.onProgress&&z.onProgress(L)}x.enqueue(A),C()}},T=>{x.error(T)})}}});return new Response(w)}else throw new p$(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(_=>m.decode(_))}}}).then(c=>{Oc.add(e,c);const u=Ec[e];delete Ec[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Ec[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ec[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class m$ extends ho{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new $c(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=O0.parse(e[r]);n.push(i)}return n}}class g$ extends ho{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new g1,l=new $c(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=_i),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)u(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let _=0;_<m;_++){o[_]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)o[_].mipmaps.push(p.mipmaps[_*p.mipmapCount+S]),o[_].format=p.format,o[_].width=p.width,o[_].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=_i),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class N0 extends ho{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Oc.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=A0("img");function l(){u(),Oc.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class y$ extends ho{constructor(e){super(e)}load(e,n,r,i){const s=new s_;s.colorSpace=io;const o=new N0(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class _$ extends ho{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Tl,a=new $c(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:na,o.wrapT=c.wrapT!==void 0?c.wrapT:na,o.magFilter=c.magFilter!==void 0?c.magFilter:_i,o.minFilter=c.minFilter!==void 0?c.minFilter:_i,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=wl),c.mipmapCount===1&&(o.minFilter=_i),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class xf extends ho{constructor(e){super(e)}load(e,n,r,i){const s=new Ur,o=new N0(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class uh extends Yn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new It(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class dN extends uh{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Yn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new It(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const NE=new cn,iP=new se,sP=new se;class LA{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qe(512,512),this.map=null,this.mapPass=null,this.matrix=new cn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new o_,this._frameExtents=new qe(1,1),this._viewportCount=1,this._viewports=[new Xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;iP.setFromMatrixPosition(e.matrixWorld),n.position.copy(iP),sP.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(sP),n.updateMatrixWorld(),NE.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(NE),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(NE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class v$ extends LA{constructor(){super(new $r(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Sm*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class pN extends uh{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Yn.DEFAULT_UP),this.updateMatrix(),this.target=new Yn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new v$}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const oP=new cn,py=new se,BE=new se;class x$ extends LA{constructor(){super(new $r(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new qe(4,2),this._viewportCount=6,this._viewports=[new Xn(2,1,1,1),new Xn(0,1,1,1),new Xn(3,1,1,1),new Xn(1,1,1,1),new Xn(3,0,1,1),new Xn(1,0,1,1)],this._cubeDirections=[new se(1,0,0),new se(-1,0,0),new se(0,0,1),new se(0,0,-1),new se(0,1,0),new se(0,-1,0)],this._cubeUps=[new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,1,0),new se(0,0,1),new se(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),py.setFromMatrixPosition(e.matrixWorld),r.position.copy(py),BE.copy(r.position),BE.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(BE),r.updateMatrixWorld(),i.makeTranslation(-py.x,-py.y,-py.z),oP.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oP)}}class mN extends uh{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new x$}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ju extends i_{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class S$ extends LA{constructor(){super(new Ju(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class gN extends uh{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Yn.DEFAULT_UP),this.updateMatrix(),this.target=new Yn,this.shadow=new S$}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class yN extends uh{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class _N extends uh{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class vN{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new se)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class xN extends uh{constructor(e=new vN,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class P1 extends ho{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new $c(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new It().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new It().setHex(o.value);break;case"v2":i.uniforms[s].value=new qe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new se().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Xn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new wn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new cn().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new qe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new qe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return P1.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:J3,SpriteMaterial:mA,RawShaderMaterial:Q3,ShaderMaterial:ja,PointsMaterial:yA,MeshPhysicalMaterial:eN,MeshStandardMaterial:CA,MeshPhongMaterial:tN,MeshToonMaterial:nN,MeshNormalMaterial:rN,MeshLambertMaterial:iN,MeshDepthMaterial:TA,MeshDistanceMaterial:MA,MeshBasicMaterial:lh,MeshMatcapMaterial:sN,LineDashedMaterial:oN,LineBasicMaterial:zs,Material:ds};return new n[e]}}class dT{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class SN extends Ln{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class wN extends ho{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new $c(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,_){if(n[_]!==void 0)return n[_];const w=m.interleavedBuffers[_],x=s(m,w.buffer),C=$p(w.type,x),T=new p1(C,w.stride);return T.uuid=w.uuid,n[_]=T,T}function s(m,_){if(r[_]!==void 0)return r[_];const w=m.arrayBuffers[_],x=new Uint32Array(w).buffer;return r[_]=x,x}const o=e.isInstancedBufferGeometry?new SN:new Ln,a=e.data.index;if(a!==void 0){const m=$p(a.type,a.array);o.setIndex(new ur(m,1))}const l=e.data.attributes;for(const m in l){const _=l[m];let S;if(_.isInterleavedBufferAttribute){const w=i(e.data,_.data);S=new Jf(w,_.itemSize,_.offset,_.normalized)}else{const w=$p(_.type,_.array),x=_.isInstancedBufferAttribute?bm:ur;S=new x(w,_.itemSize,_.normalized)}_.name!==void 0&&(S.name=_.name),_.usage!==void 0&&S.setUsage(_.usage),o.setAttribute(m,S)}const c=e.data.morphAttributes;if(c)for(const m in c){const _=c[m],S=[];for(let w=0,x=_.length;w<x;w++){const C=_[w];let T;if(C.isInterleavedBufferAttribute){const A=i(e.data,C.data);T=new Jf(A,C.itemSize,C.offset,C.normalized)}else{const A=$p(C.type,C.array);T=new ur(A,C.itemSize,C.normalized)}C.name!==void 0&&(T.name=C.name),S.push(T)}o.morphAttributes[m]=S}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,_=f.length;m!==_;++m){const S=f[m];o.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new se;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new hs(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class w$ extends ho{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?dT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new $c(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?dT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new $c(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new $f().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new m1().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new wN;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in rP?a=rP[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new P1;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=O0.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:$p(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new PA(n);s=new N0(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let _=0,S=p.length;_<S;_++){const w=p[_],x=a(w);x!==null&&(x instanceof HTMLImageElement?m.push(x):m.push(new Tl(x.data,x.width,x.height)))}i[f.uuid]=new Pf(m)}else{const m=a(f.url);i[f.uuid]=new Pf(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:$p(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new N0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],_=await s(m);_!==null&&(_ instanceof HTMLImageElement?u.push(_):u.push(new Tl(_.data,_.width,_.height)))}r[l.uuid]=new Pf(u)}else{const u=await s(l.url);r[l.uuid]=new Pf(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new s_,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new Tl:u=new Ur,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,b$)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],aP),u.wrapT=r(a.wrap[1],aP)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,lP)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,lP)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let _=0,S=p.length;_<S;_++){const w=p[_];r[w]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",w),m.push(r[w])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,f;switch(e.type){case"Scene":o=new pA,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new It(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new d1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new f1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new $r(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ju(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new yN(e.color,e.intensity);break;case"DirectionalLight":o=new gN(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new mN(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new _N(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new pN(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new dN(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new xN().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new N3(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new si(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,_=e.instanceColor;o=new B3(u,f,p),o.instanceMatrix=new bm(new Float32Array(m.array),16),_!==void 0&&(o.instanceColor=new bm(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":u=a(e.geometry),f=l(e.material),o=new F3(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(S=>{const w=new Os;w.min.fromArray(S.boxMin),w.max.fromArray(S.boxMax);const x=new hs;return x.radius=S.sphereRadius,x.center.fromArray(S.sphereCenter),{boxInitialized:S.boxInitialized,box:w,sphereInitialized:S.sphereInitialized,sphere:x}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid));break;case"LOD":o=new O3;break;case"Line":o=new th(a(e.geometry),l(e.material));break;case"LineLoop":o=new z3(a(e.geometry),l(e.material));break;case"LineSegments":o=new Dl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new U3(a(e.geometry),l(e.material));break;case"Sprite":o=new D3(l(e.material));break;case"Group":o=new jp;break;case"Bone":o=new gA;break;default:o=new Yn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const _=p[m];o.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const _=p[m],S=o.getObjectByProperty("uuid",_.object);S!==void 0&&o.addLevel(S,_.distance,_.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Yn}})}}const b$={UVMapping:n1,CubeReflectionMapping:Wc,CubeRefractionMapping:eh,EquirectangularReflectionMapping:v0,EquirectangularRefractionMapping:x0,CubeUVReflectionMapping:Hm},aP={RepeatWrapping:S0,ClampToEdgeWrapping:na,MirroredRepeatWrapping:w0},lP={NearestFilter:qi,NearestMipmapNearestFilter:QM,NearestMipmapLinearFilter:Gp,LinearFilter:_i,LinearMipmapNearestFilter:Zy,LinearMipmapLinearFilter:wl};class E$ extends ho{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Oc.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Oc.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Oc.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Oc.add(e,l),s.manager.itemStart(e)}}let ax;class IA{static getContext(){return ax===void 0&&(ax=new(window.AudioContext||window.webkitAudioContext)),ax}static setContext(e){ax=e}}class C$ extends ho{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new $c(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);IA.getContext().decodeAudioData(c,function(f){n(f)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const cP=new cn,uP=new cn,af=new cn;class T${constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new $r,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new $r,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,af.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Wf*n.fov*.5)/n.zoom;let a,l;uP.elements[12]=-i,cP.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,af.elements[0]=2*n.near/(l-a),af.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(af),a=-o*n.aspect-s,l=o*n.aspect-s,af.elements[0]=2*n.near/(l-a),af.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(af)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(uP),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(cP)}}class bN extends $r{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class DA{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hP(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=hP();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function hP(){return performance.now()}const lf=new se,fP=new us,M$=new se,cf=new se;class A$ extends Yn{constructor(){super(),this.type="AudioListener",this.context=IA.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new DA}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(lf,fP,M$),cf.set(0,0,-1).applyQuaternion(fP),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(lf.x,i),n.positionY.linearRampToValueAtTime(lf.y,i),n.positionZ.linearRampToValueAtTime(lf.z,i),n.forwardX.linearRampToValueAtTime(cf.x,i),n.forwardY.linearRampToValueAtTime(cf.y,i),n.forwardZ.linearRampToValueAtTime(cf.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(lf.x,lf.y,lf.z),n.setOrientation(cf.x,cf.y,cf.z,r.x,r.y,r.z)}}class EN extends Yn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const uf=new se,dP=new us,k$=new se,hf=new se;class R$ extends EN{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(uf,dP,k$),hf.set(0,0,1).applyQuaternion(dP);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(uf.x,r),n.positionY.linearRampToValueAtTime(uf.y,r),n.positionZ.linearRampToValueAtTime(uf.z,r),n.orientationX.linearRampToValueAtTime(hf.x,r),n.orientationY.linearRampToValueAtTime(hf.y,r),n.orientationZ.linearRampToValueAtTime(hf.z,r)}else n.setPosition(uf.x,uf.y,uf.z),n.setOrientation(hf.x,hf.y,hf.z)}}class P${constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class CN{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){us.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;us.multiplyQuaternionsFlat(e,o,e,n,e,r),us.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const OA="\\[\\]\\.:\\/",L$=new RegExp("["+OA+"]","g"),NA="[^"+OA+"]",I$="[^"+OA.replace("\\.","")+"]",D$=/((?:WC+[\/:])*)/.source.replace("WC",NA),O$=/(WCOD+)?/.source.replace("WCOD",I$),N$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",NA),B$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",NA),F$=new RegExp("^"+D$+O$+N$+B$+"$"),z$=["material","materials","bones","map"];class U${constructor(e,n,r){const i=r||qn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class qn{constructor(e,n,r){this.path=n,this.parsedPath=r||qn.parseTrackName(n),this.node=qn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new qn.Composite(e,n,r):new qn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(L$,"")}static parseTrackName(e){const n=F$.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);z$.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=qn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}qn.Composite=U$;qn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};qn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};qn.prototype.GetterByBindingType=[qn.prototype._getValue_direct,qn.prototype._getValue_array,qn.prototype._getValue_arrayElement,qn.prototype._getValue_toArray];qn.prototype.SetterByBindingTypeAndVersioning=[[qn.prototype._setValue_direct,qn.prototype._setValue_direct_setNeedsUpdate,qn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_array,qn.prototype._setValue_array_setNeedsUpdate,qn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_arrayElement,qn.prototype._setValue_arrayElement_setNeedsUpdate,qn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[qn.prototype._setValue_fromArray,qn.prototype._setValue_fromArray_setNeedsUpdate,qn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class V${constructor(){this.isAnimationObjectGroup=!0,this.uuid=Po(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const p=arguments[u],m=p.uuid;let _=n[m];if(_===void 0){_=l++,n[m]=_,e.push(p);for(let S=0,w=o;S!==w;++S)s[S].push(new qn(p,r[S],i[S]))}else if(_<c){a=e[_];const S=--c,w=e[S];n[w.uuid]=_,e[_]=w,n[m]=S,e[S]=p;for(let x=0,C=o;x!==C;++x){const T=s[x],A=T[S];let L=T[_];T[_]=A,L===void 0&&(L=new qn(p,r[x],i[x])),T[S]=L}}else e[_]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const f=s++,p=e[f];n[p.uuid]=u,e[u]=p,n[c]=f,e[f]=l;for(let m=0,_=i;m!==_;++m){const S=r[m],w=S[f],x=S[u];S[u]=w,S[f]=x}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<s){const p=--s,m=e[p],_=--o,S=e[_];n[m.uuid]=f,e[f]=m,n[S.uuid]=p,e[p]=S,e.pop();for(let w=0,x=i;w!==x;++w){const C=r[w],T=C[p],A=C[_];C[f]=T,C[p]=A,C.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let _=0,S=i;_!==S;++_){const w=r[_];w[f]=w[p],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let p=u,m=l.length;p!==m;++p){const _=l[p];f[p]=new qn(_,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class TN{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:kf,endingEnd:kf};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=d3,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case cA:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case c1:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===p3;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===f3){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Rf,i.endingEnd=Rf):(e?i.endingStart=this.zeroSlopeAtStart?Rf:kf:i.endingStart=E0,n?i.endingEnd=this.zeroSlopeAtEnd?Rf:kf:i.endingEnd=E0)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const H$=new Float32Array(1);class W$ extends Il{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let _=u[m];if(_!==void 0)++_.referenceCount,o[f]=_;else{if(_=o[f],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,m));continue}const S=n&&n._propertyBindings[f].binding.parsedPath;_=new CN(qn.create(r,m,S),p.ValueTypeName,p.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,m),o[f]=_}a[f].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new kA(new Float32Array(2),new Float32Array(2),1,H$),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?O0.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=c1),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new TN(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?O0.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class G$ extends u1{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new h1(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class $$ extends u1{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTargetArray=!0,this.depth=r,this.texture=new r_(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class BA{constructor(e){this.value=e}clone(){return new BA(this.value.clone===void 0?this.value:this.value.clone())}}let j$=0;class q$ extends Il{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:j$++}),this.name="",this.usage=T0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class X$ extends p1{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Y${constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const pP=new cn;class MN{constructor(e,n,r=0,i=1/0){this.ray=new od(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Gf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return pP.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(pP),this}intersectObject(e,n=!0,r=[]){return pT(e,this,r,n),r.sort(mP),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)pT(e[i],this,r,n);return r.sort(mP),r}}function mP(t,e){return t.distance-e.distance}function pT(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)pT(s[o],e,n,!0)}}class mT{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=xn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(xn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class K${constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class FA{constructor(e,n,r,i){FA.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const gP=new qe;class Z${constructor(e=new qe(1/0,1/0),n=new qe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=gP.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,gP).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yP=new se,lx=new se;class J${constructor(e=new se,n=new se){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){yP.subVectors(e,this.start),lx.subVectors(this.end,this.start);const r=lx.dot(lx);let s=lx.dot(yP)/r;return n&&(s=xn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _P=new se;class Q$ extends Yn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Ln,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Gt(i,3));const s=new zs({fog:!1,toneMapped:!1});this.cone=new Dl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),_P.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_P),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Nu=new se,cx=new cn,FE=new cn;class ej extends Dl{constructor(e){const n=AN(e),r=new Ln,i=[],s=[],o=new It(0,0,1),a=new It(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new Gt(i,3)),r.setAttribute("color",new Gt(s,3));const l=new zs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");FE.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(cx.multiplyMatrices(FE,a.matrixWorld),Nu.setFromMatrixPosition(cx),i.setXYZ(o,Nu.x,Nu.y,Nu.z),cx.multiplyMatrices(FE,a.parent.matrixWorld),Nu.setFromMatrixPosition(cx),i.setXYZ(o+1,Nu.x,Nu.y,Nu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function AN(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,AN(t.children[n]));return e}class tj extends si{constructor(e,n,r){const i=new c_(n,4,2),s=new lh({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nj=new se,vP=new It,xP=new It;class rj extends Yn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new l_(n);i.rotateY(Math.PI*.5),this.material=new lh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new ur(o,3)),this.add(new si(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");vP.copy(this.light.color),xP.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?vP:xP;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nj.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ij extends Dl{constructor(e=10,n=10,r=4473924,i=8947848){r=new It(r),i=new It(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,_=-a;p<=n;p++,_+=o){l.push(-a,0,_,a,0,_),l.push(_,0,-a,_,0,a);const S=p===s?r:i;S.toArray(c,m),m+=3,S.toArray(c,m),m+=3,S.toArray(c,m),m+=3,S.toArray(c,m),m+=3}const u=new Ln;u.setAttribute("position",new Gt(l,3)),u.setAttribute("color",new Gt(c,3));const f=new zs({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class sj extends Dl{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new It(s),o=new It(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const p=f/n*(Math.PI*2),m=Math.sin(p)*e,_=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,_);const S=f&1?s:o;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let _=0;_<i;_++){let S=_/i*(Math.PI*2),w=Math.sin(S)*m,x=Math.cos(S)*m;a.push(w,0,x),l.push(p.r,p.g,p.b),S=(_+1)/i*(Math.PI*2),w=Math.sin(S)*m,x=Math.cos(S)*m,a.push(w,0,x),l.push(p.r,p.g,p.b)}}const c=new Ln;c.setAttribute("position",new Gt(a,3)),c.setAttribute("color",new Gt(l,3));const u=new zs({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const SP=new se,ux=new se,wP=new se;class oj extends Yn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Ln;i.setAttribute("position",new Gt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new zs({fog:!1,toneMapped:!1});this.lightPlane=new th(i,s),this.add(this.lightPlane),i=new Ln,i.setAttribute("position",new Gt([0,0,0,0,0,1],3)),this.targetLine=new th(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),SP.setFromMatrixPosition(this.light.matrixWorld),ux.setFromMatrixPosition(this.light.target.matrixWorld),wP.subVectors(ux,SP),this.lightPlane.lookAt(ux),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(ux),this.targetLine.scale.z=wP.length()}}const hx=new se,zr=new i_;class aj extends Dl{constructor(e){const n=new Ln,r=new zs({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(_,S){l(_),l(S)}function l(_){i.push(0,0,0),s.push(0,0,0),o[_]===void 0&&(o[_]=[]),o[_].push(i.length/3-1)}n.setAttribute("position",new Gt(i,3)),n.setAttribute("color",new Gt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new It(16755200),u=new It(16711680),f=new It(43775),p=new It(16777215),m=new It(3355443);this.setColors(c,u,f,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;zr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Va?-1:0;Gr("c",n,e,zr,0,0,s),Gr("t",n,e,zr,0,0,1),Gr("n1",n,e,zr,-1,-1,s),Gr("n2",n,e,zr,r,-1,s),Gr("n3",n,e,zr,-1,i,s),Gr("n4",n,e,zr,r,i,s),Gr("f1",n,e,zr,-1,-1,1),Gr("f2",n,e,zr,r,-1,1),Gr("f3",n,e,zr,-1,i,1),Gr("f4",n,e,zr,r,i,1),Gr("u1",n,e,zr,r*.7,i*1.1,s),Gr("u2",n,e,zr,-1*.7,i*1.1,s),Gr("u3",n,e,zr,0,i*2,s),Gr("cf1",n,e,zr,-1,0,1),Gr("cf2",n,e,zr,r,0,1),Gr("cf3",n,e,zr,0,-1,1),Gr("cf4",n,e,zr,0,i,1),Gr("cn1",n,e,zr,-1,0,s),Gr("cn2",n,e,zr,r,0,s),Gr("cn3",n,e,zr,0,-1,s),Gr("cn4",n,e,zr,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Gr(t,e,n,r,i,s,o){hx.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],hx.x,hx.y,hx.z)}}const fx=new Os;class lj extends Dl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ln;s.setIndex(new ur(r,1)),s.setAttribute("position",new ur(i,3)),super(s,new zs({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&fx.setFromObject(this.object),fx.isEmpty())return;const n=fx.min,r=fx.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cj extends Dl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ln;s.setIndex(new ur(r,1)),s.setAttribute("position",new Gt(i,3)),super(s,new zs({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class uj extends th{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ln;o.setAttribute("position",new Gt(s,3)),o.computeBoundingSphere(),super(o,new zs({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ln;l.setAttribute("position",new Gt(a,3)),l.computeBoundingSphere(),this.add(new si(l,new lh({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const bP=new se;let dx,zE;class hj extends Yn{constructor(e=new se(0,0,1),n=new se(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",dx===void 0&&(dx=new Ln,dx.setAttribute("position",new Gt([0,0,0,0,1,0],3)),zE=new Gm(0,.5,1,5,1),zE.translate(0,-.5,0)),this.position.copy(n),this.line=new th(dx,new zs({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new si(zE,new lh({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{bP.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(bP,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class fj extends Dl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ln;i.setAttribute("position",new Gt(n,3)),i.setAttribute("color",new Gt(r,3));const s=new zs({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new It,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dj{constructor(){this.type="ShapePath",this.color=new It,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new k0,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(x){const C=[];for(let T=0,A=x.length;T<A;T++){const L=x[T],R=new $f;R.curves=L.curves,C.push(R)}return C}function r(x,C){const T=C.length;let A=!1;for(let L=T-1,R=0;R<T;L=R++){let N=C[L],z=C[R],D=z.x-N.x,I=z.y-N.y;if(Math.abs(I)>Number.EPSILON){if(I<0&&(N=C[R],D=-D,z=C[L],I=-I),x.y<N.y||x.y>z.y)continue;if(x.y===N.y){if(x.x===N.x)return!0}else{const B=I*(x.x-N.x)-D*(x.y-N.y);if(B===0)return!0;if(B<0)continue;A=!A}}else{if(x.y!==N.y)continue;if(z.x<=x.x&&x.x<=N.x||N.x<=x.x&&x.x<=z.x)return!0}}return A}const i=Ml.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new $f,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],p=[];let m=[],_=0,S;p[_]=void 0,m[_]=[];for(let x=0,C=s.length;x<C;x++)a=s[x],S=a.getPoints(),o=i(S),o=e?!o:o,o?(!u&&p[_]&&_++,p[_]={s:new $f,p:S},p[_].s.curves=a.curves,u&&_++,m[_]=[]):m[_].push({h:a,p:S[0]});if(!p[0])return n(s);if(p.length>1){let x=!1,C=0;for(let T=0,A=p.length;T<A;T++)f[T]=[];for(let T=0,A=p.length;T<A;T++){const L=m[T];for(let R=0;R<L.length;R++){const N=L[R];let z=!0;for(let D=0;D<p.length;D++)r(N.p,p[D].p)&&(T!==D&&C++,z?(z=!1,f[D].push(N)):x=!0);z&&f[T].push(N)}}C>0&&x===!1&&(m=f)}let w;for(let x=0,C=p.length;x<C;x++){l=p[x].s,c.push(l),w=m[x];for(let T=0,A=w.length;T<A;T++)l.holes.push(w[T].h)}return c}}class pj extends Il{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function mj(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function gj(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function yj(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function gT(t,e,n,r){const i=_j(r);switch(n){case rA:return t*e;case sA:return t*e;case oA:return t*e*2;case o1:return t*e/i.components*i.byteLength;case n_:return t*e/i.components*i.byteLength;case aA:return t*e*2/i.components*i.byteLength;case a1:return t*e*2/i.components*i.byteLength;case iA:return t*e*3/i.components*i.byteLength;case cs:return t*e*4/i.components*i.byteLength;case l1:return t*e*4/i.components*i.byteLength;case Jy:case Qy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case e0:case t0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case TS:case AS:return Math.max(t,16)*Math.max(e,8)/4;case CS:case MS:return Math.max(t,8)*Math.max(e,8)/2;case kS:case RS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case PS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case LS:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case IS:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case DS:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case OS:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case NS:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case BS:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case FS:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case zS:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case US:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case VS:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case HS:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case WS:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case GS:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case $S:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case n0:case jS:case qS:return Math.ceil(t/4)*Math.ceil(e/4)*16;case lA:case XS:return Math.ceil(t/4)*Math.ceil(e/4)*8;case YS:case KS:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function _j(t){switch(t){case $a:case eA:return{byteLength:1,components:1};case xm:case tA:case Wm:return{byteLength:2,components:1};case i1:case s1:return{byteLength:2,components:4};case Gc:case r1:case lo:return{byteLength:4,components:1};case nA:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const vj={contain:mj,cover:gj,fill:yj,getByteLength:gT};typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:e1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=e1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function kN(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function xj(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,f=c.byteLength,p=t.createBuffer();t.bindBuffer(l,p),t.bufferData(l,c,u),a.onUploadCallback();let m;if(c instanceof Float32Array)m=t.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)m=t.SHORT;else if(c instanceof Uint32Array)m=t.UNSIGNED_INT;else if(c instanceof Int32Array)m=t.INT;else if(c instanceof Int8Array)m=t.BYTE;else if(c instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:m,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:f}}function r(a,l,c){const u=l.array,f=l.updateRanges;if(t.bindBuffer(c,a),f.length===0)t.bufferSubData(c,0,u);else{f.sort((m,_)=>m.start-_.start);let p=0;for(let m=1;m<f.length;m++){const _=f[p],S=f[m];S.start<=_.start+_.count+1?_.count=Math.max(_.count,S.start+S.count-_.start):(++p,f[p]=S)}f.length=p+1;for(let m=0,_=f.length;m<_;m++){const S=f[m];t.bufferSubData(c,S.start*u.BYTES_PER_ELEMENT,u,S.start,S.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}var Sj=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,wj=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,bj=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Ej=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Cj=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Tj=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Mj=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Aj=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,kj=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Rj=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Pj=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Lj=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Ij=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Dj=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Oj=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Nj=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Bj=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Fj=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zj=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Uj=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Vj=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Hj=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Wj=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Gj=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$j=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,jj=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,qj=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Xj=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Yj=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Kj=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Zj="gl_FragColor = linearToOutputTexel( gl_FragColor );",Jj=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Qj=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,e7=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,t7=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,n7=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,r7=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,i7=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,s7=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,o7=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,a7=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,l7=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,c7=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,u7=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,h7=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,f7=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,d7=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,p7=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,m7=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,g7=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,y7=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_7=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,v7=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,x7=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,S7=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,w7=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,b7=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,E7=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,C7=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,T7=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,M7=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,A7=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,k7=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,R7=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,P7=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,L7=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,I7=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,D7=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,O7=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,N7=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,B7=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,F7=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,z7=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,U7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,V7=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,H7=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,W7=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,G7=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$7=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,j7=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,q7=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,X7=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Y7=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,K7=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Z7=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,J7=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Q7=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,eq=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,tq=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,nq=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,rq=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,iq=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,sq=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,oq=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,aq=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,lq=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,cq=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,uq=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hq=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fq=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,dq=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,pq=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,mq=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,gq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,yq=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_q=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,vq=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const xq=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Sq=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,wq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,bq=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Eq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Cq=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Tq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Mq=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Aq=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,kq=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Rq=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Pq=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lq=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Iq=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dq=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Oq=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nq=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bq=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fq=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zq=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Uq=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Vq=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Hq=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wq=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gq=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$q=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jq=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qq=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xq=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Yq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Kq=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Zq=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Jq=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Qq=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Pn={alphahash_fragment:Sj,alphahash_pars_fragment:wj,alphamap_fragment:bj,alphamap_pars_fragment:Ej,alphatest_fragment:Cj,alphatest_pars_fragment:Tj,aomap_fragment:Mj,aomap_pars_fragment:Aj,batching_pars_vertex:kj,batching_vertex:Rj,begin_vertex:Pj,beginnormal_vertex:Lj,bsdfs:Ij,iridescence_fragment:Dj,bumpmap_pars_fragment:Oj,clipping_planes_fragment:Nj,clipping_planes_pars_fragment:Bj,clipping_planes_pars_vertex:Fj,clipping_planes_vertex:zj,color_fragment:Uj,color_pars_fragment:Vj,color_pars_vertex:Hj,color_vertex:Wj,common:Gj,cube_uv_reflection_fragment:$j,defaultnormal_vertex:jj,displacementmap_pars_vertex:qj,displacementmap_vertex:Xj,emissivemap_fragment:Yj,emissivemap_pars_fragment:Kj,colorspace_fragment:Zj,colorspace_pars_fragment:Jj,envmap_fragment:Qj,envmap_common_pars_fragment:e7,envmap_pars_fragment:t7,envmap_pars_vertex:n7,envmap_physical_pars_fragment:d7,envmap_vertex:r7,fog_vertex:i7,fog_pars_vertex:s7,fog_fragment:o7,fog_pars_fragment:a7,gradientmap_pars_fragment:l7,lightmap_pars_fragment:c7,lights_lambert_fragment:u7,lights_lambert_pars_fragment:h7,lights_pars_begin:f7,lights_toon_fragment:p7,lights_toon_pars_fragment:m7,lights_phong_fragment:g7,lights_phong_pars_fragment:y7,lights_physical_fragment:_7,lights_physical_pars_fragment:v7,lights_fragment_begin:x7,lights_fragment_maps:S7,lights_fragment_end:w7,logdepthbuf_fragment:b7,logdepthbuf_pars_fragment:E7,logdepthbuf_pars_vertex:C7,logdepthbuf_vertex:T7,map_fragment:M7,map_pars_fragment:A7,map_particle_fragment:k7,map_particle_pars_fragment:R7,metalnessmap_fragment:P7,metalnessmap_pars_fragment:L7,morphinstance_vertex:I7,morphcolor_vertex:D7,morphnormal_vertex:O7,morphtarget_pars_vertex:N7,morphtarget_vertex:B7,normal_fragment_begin:F7,normal_fragment_maps:z7,normal_pars_fragment:U7,normal_pars_vertex:V7,normal_vertex:H7,normalmap_pars_fragment:W7,clearcoat_normal_fragment_begin:G7,clearcoat_normal_fragment_maps:$7,clearcoat_pars_fragment:j7,iridescence_pars_fragment:q7,opaque_fragment:X7,packing:Y7,premultiplied_alpha_fragment:K7,project_vertex:Z7,dithering_fragment:J7,dithering_pars_fragment:Q7,roughnessmap_fragment:eq,roughnessmap_pars_fragment:tq,shadowmap_pars_fragment:nq,shadowmap_pars_vertex:rq,shadowmap_vertex:iq,shadowmask_pars_fragment:sq,skinbase_vertex:oq,skinning_pars_vertex:aq,skinning_vertex:lq,skinnormal_vertex:cq,specularmap_fragment:uq,specularmap_pars_fragment:hq,tonemapping_fragment:fq,tonemapping_pars_fragment:dq,transmission_fragment:pq,transmission_pars_fragment:mq,uv_pars_fragment:gq,uv_pars_vertex:yq,uv_vertex:_q,worldpos_vertex:vq,background_vert:xq,background_frag:Sq,backgroundCube_vert:wq,backgroundCube_frag:bq,cube_vert:Eq,cube_frag:Cq,depth_vert:Tq,depth_frag:Mq,distanceRGBA_vert:Aq,distanceRGBA_frag:kq,equirect_vert:Rq,equirect_frag:Pq,linedashed_vert:Lq,linedashed_frag:Iq,meshbasic_vert:Dq,meshbasic_frag:Oq,meshlambert_vert:Nq,meshlambert_frag:Bq,meshmatcap_vert:Fq,meshmatcap_frag:zq,meshnormal_vert:Uq,meshnormal_frag:Vq,meshphong_vert:Hq,meshphong_frag:Wq,meshphysical_vert:Gq,meshphysical_frag:$q,meshtoon_vert:jq,meshtoon_frag:qq,points_vert:Xq,points_frag:Yq,shadow_vert:Kq,shadow_frag:Zq,sprite_vert:Jq,sprite_frag:Qq},Tt={common:{diffuse:{value:new It(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new wn},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new wn}},envmap:{envMap:{value:null},envMapRotation:{value:new wn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new wn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new wn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new wn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new wn},normalScale:{value:new qe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new wn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new wn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new wn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new wn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new It(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new It(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0},uvTransform:{value:new wn}},sprite:{diffuse:{value:new It(16777215)},opacity:{value:1},center:{value:new qe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new wn},alphaMap:{value:null},alphaMapTransform:{value:new wn},alphaTest:{value:0}}},Fa={basic:{uniforms:ks([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.fog]),vertexShader:Pn.meshbasic_vert,fragmentShader:Pn.meshbasic_frag},lambert:{uniforms:ks([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new It(0)}}]),vertexShader:Pn.meshlambert_vert,fragmentShader:Pn.meshlambert_frag},phong:{uniforms:ks([Tt.common,Tt.specularmap,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,Tt.lights,{emissive:{value:new It(0)},specular:{value:new It(1118481)},shininess:{value:30}}]),vertexShader:Pn.meshphong_vert,fragmentShader:Pn.meshphong_frag},standard:{uniforms:ks([Tt.common,Tt.envmap,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.roughnessmap,Tt.metalnessmap,Tt.fog,Tt.lights,{emissive:{value:new It(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Pn.meshphysical_vert,fragmentShader:Pn.meshphysical_frag},toon:{uniforms:ks([Tt.common,Tt.aomap,Tt.lightmap,Tt.emissivemap,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.gradientmap,Tt.fog,Tt.lights,{emissive:{value:new It(0)}}]),vertexShader:Pn.meshtoon_vert,fragmentShader:Pn.meshtoon_frag},matcap:{uniforms:ks([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,Tt.fog,{matcap:{value:null}}]),vertexShader:Pn.meshmatcap_vert,fragmentShader:Pn.meshmatcap_frag},points:{uniforms:ks([Tt.points,Tt.fog]),vertexShader:Pn.points_vert,fragmentShader:Pn.points_frag},dashed:{uniforms:ks([Tt.common,Tt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Pn.linedashed_vert,fragmentShader:Pn.linedashed_frag},depth:{uniforms:ks([Tt.common,Tt.displacementmap]),vertexShader:Pn.depth_vert,fragmentShader:Pn.depth_frag},normal:{uniforms:ks([Tt.common,Tt.bumpmap,Tt.normalmap,Tt.displacementmap,{opacity:{value:1}}]),vertexShader:Pn.meshnormal_vert,fragmentShader:Pn.meshnormal_frag},sprite:{uniforms:ks([Tt.sprite,Tt.fog]),vertexShader:Pn.sprite_vert,fragmentShader:Pn.sprite_frag},background:{uniforms:{uvTransform:{value:new wn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Pn.background_vert,fragmentShader:Pn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new wn}},vertexShader:Pn.backgroundCube_vert,fragmentShader:Pn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Pn.cube_vert,fragmentShader:Pn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Pn.equirect_vert,fragmentShader:Pn.equirect_frag},distanceRGBA:{uniforms:ks([Tt.common,Tt.displacementmap,{referencePosition:{value:new se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Pn.distanceRGBA_vert,fragmentShader:Pn.distanceRGBA_frag},shadow:{uniforms:ks([Tt.lights,Tt.fog,{color:{value:new It(0)},opacity:{value:1}}]),vertexShader:Pn.shadow_vert,fragmentShader:Pn.shadow_frag}};Fa.physical={uniforms:ks([Fa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new wn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new wn},clearcoatNormalScale:{value:new qe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new wn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new wn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new wn},sheen:{value:0},sheenColor:{value:new It(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new wn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new wn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new wn},transmissionSamplerSize:{value:new qe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new wn},attenuationDistance:{value:0},attenuationColor:{value:new It(0)},specularColor:{value:new It(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new wn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new wn},anisotropyVector:{value:new qe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new wn}}]),vertexShader:Pn.meshphysical_vert,fragmentShader:Pn.meshphysical_frag};const px={r:0,b:0,g:0},ff=new Io,eX=new cn;function tX(t,e,n,r,i,s,o){const a=new It(0);let l=s===!0?0:1,c,u,f=null,p=0,m=null;function _(T){let A=T.isScene===!0?T.background:null;return A&&A.isTexture&&(A=(T.backgroundBlurriness>0?n:e).get(A)),A}function S(T){let A=!1;const L=_(T);L===null?x(a,l):L&&L.isColor&&(x(L,1),A=!0);const R=t.xr.getEnvironmentBlendMode();R==="additive"?r.buffers.color.setClear(0,0,0,1,o):R==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||A)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function w(T,A){const L=_(A);L&&(L.isCubeTexture||L.mapping===Hm)?(u===void 0&&(u=new si(new ad(1,1,1),new ja({name:"BackgroundCubeMaterial",uniforms:wm(Fa.backgroundCube.uniforms),vertexShader:Fa.backgroundCube.vertexShader,fragmentShader:Fa.backgroundCube.fragmentShader,side:Ds,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(R,N,z){this.matrixWorld.copyPosition(z.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),ff.copy(A.backgroundRotation),ff.x*=-1,ff.y*=-1,ff.z*=-1,L.isCubeTexture&&L.isRenderTargetTexture===!1&&(ff.y*=-1,ff.z*=-1),u.material.uniforms.envMap.value=L,u.material.uniforms.flipEnvMap.value=L.isCubeTexture&&L.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=A.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(eX.makeRotationFromEuler(ff)),u.material.toneMapped=Gn.getTransfer(L.colorSpace)!==or,(f!==L||p!==L.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=L,p=L.version,m=t.toneMapping),u.layers.enableAll(),T.unshift(u,u.geometry,u.material,0,0,null)):L&&L.isTexture&&(c===void 0&&(c=new si(new $m(2,2),new ja({name:"BackgroundMaterial",uniforms:wm(Fa.background.uniforms),vertexShader:Fa.background.vertexShader,fragmentShader:Fa.background.fragmentShader,side:Hc,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=L,c.material.uniforms.backgroundIntensity.value=A.backgroundIntensity,c.material.toneMapped=Gn.getTransfer(L.colorSpace)!==or,L.matrixAutoUpdate===!0&&L.updateMatrix(),c.material.uniforms.uvTransform.value.copy(L.matrix),(f!==L||p!==L.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=L,p=L.version,m=t.toneMapping),c.layers.enableAll(),T.unshift(c,c.geometry,c.material,0,0,null))}function x(T,A){T.getRGB(px,k3(t)),r.buffers.color.setClear(px.r,px.g,px.b,A,o)}function C(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(T,A=1){a.set(T),l=A,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(T){l=T,x(a,l)},render:S,addToRenderList:w,dispose:C}}function nX(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,o=!1;function a(I,B,q,K,j){let J=!1;const $=f(K,q,B);s!==$&&(s=$,c(s.object)),J=m(I,K,q,j),J&&_(I,K,q,j),j!==null&&e.update(j,t.ELEMENT_ARRAY_BUFFER),(J||o)&&(o=!1,A(I,B,q,K),j!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(j).buffer))}function l(){return t.createVertexArray()}function c(I){return t.bindVertexArray(I)}function u(I){return t.deleteVertexArray(I)}function f(I,B,q){const K=q.wireframe===!0;let j=r[I.id];j===void 0&&(j={},r[I.id]=j);let J=j[B.id];J===void 0&&(J={},j[B.id]=J);let $=J[K];return $===void 0&&($=p(l()),J[K]=$),$}function p(I){const B=[],q=[],K=[];for(let j=0;j<n;j++)B[j]=0,q[j]=0,K[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:q,attributeDivisors:K,object:I,attributes:{},index:null}}function m(I,B,q,K){const j=s.attributes,J=B.attributes;let $=0;const ie=q.getAttributes();for(const U in ie)if(ie[U].location>=0){const V=j[U];let G=J[U];if(G===void 0&&(U==="instanceMatrix"&&I.instanceMatrix&&(G=I.instanceMatrix),U==="instanceColor"&&I.instanceColor&&(G=I.instanceColor)),V===void 0||V.attribute!==G||G&&V.data!==G.data)return!0;$++}return s.attributesNum!==$||s.index!==K}function _(I,B,q,K){const j={},J=B.attributes;let $=0;const ie=q.getAttributes();for(const U in ie)if(ie[U].location>=0){let V=J[U];V===void 0&&(U==="instanceMatrix"&&I.instanceMatrix&&(V=I.instanceMatrix),U==="instanceColor"&&I.instanceColor&&(V=I.instanceColor));const G={};G.attribute=V,V&&V.data&&(G.data=V.data),j[U]=G,$++}s.attributes=j,s.attributesNum=$,s.index=K}function S(){const I=s.newAttributes;for(let B=0,q=I.length;B<q;B++)I[B]=0}function w(I){x(I,0)}function x(I,B){const q=s.newAttributes,K=s.enabledAttributes,j=s.attributeDivisors;q[I]=1,K[I]===0&&(t.enableVertexAttribArray(I),K[I]=1),j[I]!==B&&(t.vertexAttribDivisor(I,B),j[I]=B)}function C(){const I=s.newAttributes,B=s.enabledAttributes;for(let q=0,K=B.length;q<K;q++)B[q]!==I[q]&&(t.disableVertexAttribArray(q),B[q]=0)}function T(I,B,q,K,j,J,$){$===!0?t.vertexAttribIPointer(I,B,q,j,J):t.vertexAttribPointer(I,B,q,K,j,J)}function A(I,B,q,K){S();const j=K.attributes,J=q.getAttributes(),$=B.defaultAttributeValues;for(const ie in J){const U=J[ie];if(U.location>=0){let ee=j[ie];if(ee===void 0&&(ie==="instanceMatrix"&&I.instanceMatrix&&(ee=I.instanceMatrix),ie==="instanceColor"&&I.instanceColor&&(ee=I.instanceColor)),ee!==void 0){const V=ee.normalized,G=ee.itemSize,oe=e.get(ee);if(oe===void 0)continue;const Z=oe.buffer,ue=oe.type,me=oe.bytesPerElement,we=ue===t.INT||ue===t.UNSIGNED_INT||ee.gpuType===r1;if(ee.isInterleavedBufferAttribute){const Me=ee.data,ze=Me.stride,rt=ee.offset;if(Me.isInstancedInterleavedBuffer){for(let Ke=0;Ke<U.locationSize;Ke++)x(U.location+Ke,Me.meshPerAttribute);I.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let Ke=0;Ke<U.locationSize;Ke++)w(U.location+Ke);t.bindBuffer(t.ARRAY_BUFFER,Z);for(let Ke=0;Ke<U.locationSize;Ke++)T(U.location+Ke,G/U.locationSize,ue,V,ze*me,(rt+G/U.locationSize*Ke)*me,we)}else{if(ee.isInstancedBufferAttribute){for(let Me=0;Me<U.locationSize;Me++)x(U.location+Me,ee.meshPerAttribute);I.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let Me=0;Me<U.locationSize;Me++)w(U.location+Me);t.bindBuffer(t.ARRAY_BUFFER,Z);for(let Me=0;Me<U.locationSize;Me++)T(U.location+Me,G/U.locationSize,ue,V,G*me,G/U.locationSize*Me*me,we)}}else if($!==void 0){const V=$[ie];if(V!==void 0)switch(V.length){case 2:t.vertexAttrib2fv(U.location,V);break;case 3:t.vertexAttrib3fv(U.location,V);break;case 4:t.vertexAttrib4fv(U.location,V);break;default:t.vertexAttrib1fv(U.location,V)}}}}C()}function L(){z();for(const I in r){const B=r[I];for(const q in B){const K=B[q];for(const j in K)u(K[j].object),delete K[j];delete B[q]}delete r[I]}}function R(I){if(r[I.id]===void 0)return;const B=r[I.id];for(const q in B){const K=B[q];for(const j in K)u(K[j].object),delete K[j];delete B[q]}delete r[I.id]}function N(I){for(const B in r){const q=r[B];if(q[I.id]===void 0)continue;const K=q[I.id];for(const j in K)u(K[j].object),delete K[j];delete q[I.id]}}function z(){D(),o=!0,s!==i&&(s=i,c(s.object))}function D(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:z,resetDefaultState:D,dispose:L,releaseStatesOfGeometry:R,releaseStatesOfProgram:N,initAttributes:S,enableAttribute:w,disableUnusedAttributes:C}}function rX(t,e,n){let r;function i(c){r=c}function s(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function o(c,u,f){f!==0&&(t.drawArraysInstanced(r,c,u,f),n.update(u,r,f))}function a(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,f);let m=0;for(let _=0;_<f;_++)m+=u[_];n.update(m,r,1)}function l(c,u,f,p){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let _=0;_<c.length;_++)o(c[_],u[_],p[_]);else{m.multiDrawArraysInstancedWEBGL(r,c,0,u,0,p,0,f);let _=0;for(let S=0;S<f;S++)_+=u[S]*p[S];n.update(_,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function iX(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const N=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(N.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(N){return!(N!==cs&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(N){const z=N===Wm&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(N!==$a&&r.convert(N)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&N!==lo&&!z)}function l(N){if(N==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";N="mediump"}return N==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=n.logarithmicDepthBuffer===!0,p=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),m=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),_=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),w=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),C=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),T=t.getParameter(t.MAX_VARYING_VECTORS),A=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),L=_>0,R=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:p,maxTextures:m,maxVertexTextures:_,maxTextureSize:S,maxCubemapSize:w,maxAttributes:x,maxVertexUniforms:C,maxVaryings:T,maxFragmentUniforms:A,vertexTextures:L,maxSamples:R}}function sX(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Pc,a=new wn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){n=u(f,p,0)},this.setState=function(f,p,m){const _=f.clippingPlanes,S=f.clipIntersection,w=f.clipShadows,x=t.get(f);if(!i||_===null||_.length===0||s&&!w)s?u(null):c();else{const C=s?0:r,T=C*4;let A=x.clippingState||null;l.value=A,A=u(_,p,T,m);for(let L=0;L!==T;++L)A[L]=n[L];x.clippingState=A,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=C}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,p,m,_){const S=f!==null?f.length:0;let w=null;if(S!==0){if(w=l.value,_!==!0||w===null){const x=m+S*4,C=p.matrixWorldInverse;a.getNormalMatrix(C),(w===null||w.length<x)&&(w=new Float32Array(x));for(let T=0,A=m;T!==S;++T,A+=4)o.copy(f[T]).applyMatrix4(C,a),o.normal.toArray(w,A),w[A+3]=o.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,w}}function oX(t){let e=new WeakMap;function n(o,a){return a===v0?o.mapping=Wc:a===x0&&(o.mapping=eh),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===v0||a===x0)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new L3(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Xp=4,EP=[.125,.215,.35,.446,.526,.582],Tf=20,UE=new Ju,CP=new It;let VE=null,HE=0,WE=0,GE=!1;const Sf=(1+Math.sqrt(5))/2,Pp=1/Sf,TP=[new se(-Sf,Pp,0),new se(Sf,Pp,0),new se(-Pp,0,Sf),new se(Pp,0,Sf),new se(0,Sf,-Pp),new se(0,Sf,Pp),new se(-1,1,-1),new se(1,1,-1),new se(-1,1,1),new se(1,1,1)];class yT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){VE=this._renderer.getRenderTarget(),HE=this._renderer.getActiveCubeFace(),WE=this._renderer.getActiveMipmapLevel(),GE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=kP(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=AP(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(VE,HE,WE),this._renderer.xr.enabled=GE,e.scissorTest=!1,mx(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Wc||e.mapping===eh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),VE=this._renderer.getRenderTarget(),HE=this._renderer.getActiveCubeFace(),WE=this._renderer.getActiveMipmapLevel(),GE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:_i,minFilter:_i,generateMipmaps:!1,type:Wm,format:cs,colorSpace:Zf,depthBuffer:!1},i=MP(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=MP(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=aX(s)),this._blurMaterial=lX(s,e,n)}return i}_compileMaterial(e){const n=new si(this._lodPlanes[0],e);this._renderer.compile(n,UE)}_sceneToCubeUV(e,n,r,i){const a=new $r(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,p=u.toneMapping;u.getClearColor(CP),u.toneMapping=Cl,u.autoClear=!1;const m=new lh({name:"PMREM.Background",side:Ds,depthWrite:!1,depthTest:!1}),_=new si(new ad,m);let S=!1;const w=e.background;w?w.isColor&&(m.color.copy(w),e.background=null,S=!0):(m.color.copy(CP),S=!0);for(let x=0;x<6;x++){const C=x%3;C===0?(a.up.set(0,l[x],0),a.lookAt(c[x],0,0)):C===1?(a.up.set(0,0,l[x]),a.lookAt(0,c[x],0)):(a.up.set(0,l[x],0),a.lookAt(0,0,c[x]));const T=this._cubeSize;mx(i,C*T,x>2?T:0,T,T),u.setRenderTarget(i),S&&u.render(_,a),u.render(e,a)}_.geometry.dispose(),_.material.dispose(),u.toneMapping=p,u.autoClear=f,e.background=w}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Wc||e.mapping===eh;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=kP()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=AP());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new si(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;mx(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,UE)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=TP[(i-s-1)%TP.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new si(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,_=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Tf-1),S=s/_,w=isFinite(s)?1+Math.floor(u*S):Tf;w>Tf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${Tf}`);const x=[];let C=0;for(let N=0;N<Tf;++N){const z=N/S,D=Math.exp(-z*z/2);x.push(D),N===0?C+=D:N<w&&(C+=2*D)}for(let N=0;N<x.length;N++)x[N]=x[N]/C;p.envMap.value=e.texture,p.samples.value=w,p.weights.value=x,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:T}=this;p.dTheta.value=_,p.mipInt.value=T-r;const A=this._sizeLods[i],L=3*A*(i>T-Xp?i-T+Xp:0),R=4*(this._cubeSize-A);mx(n,L,R,3*A,2*A),l.setRenderTarget(n),l.render(f,UE)}}function aX(t){const e=[],n=[],r=[];let i=t;const s=t-Xp+1+EP.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Xp?l=EP[o-t+Xp-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,p=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,_=6,S=3,w=2,x=1,C=new Float32Array(S*_*m),T=new Float32Array(w*_*m),A=new Float32Array(x*_*m);for(let R=0;R<m;R++){const N=R%3*2/3-1,z=R>2?0:-1,D=[N,z,0,N+2/3,z,0,N+2/3,z+1,0,N,z,0,N+2/3,z+1,0,N,z+1,0];C.set(D,S*_*R),T.set(p,w*_*R);const I=[R,R,R,R,R,R];A.set(I,x*_*R)}const L=new Ln;L.setAttribute("position",new ur(C,S)),L.setAttribute("uv",new ur(T,w)),L.setAttribute("faceIndex",new ur(A,x)),e.push(L),i>Xp&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function MP(t,e,n){const r=new kl(t,e,n);return r.texture.mapping=Hm,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function mx(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function lX(t,e,n){const r=new Float32Array(Tf),i=new se(0,1,0);return new ja({name:"SphericalGaussianBlur",defines:{n:Tf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:zA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Fc,depthTest:!1,depthWrite:!1})}function AP(){return new ja({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:zA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Fc,depthTest:!1,depthWrite:!1})}function kP(){return new ja({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:zA(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Fc,depthTest:!1,depthWrite:!1})}function zA(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function cX(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===v0||l===x0,u=l===Wc||l===eh;if(c||u){let f=e.get(a);const p=f!==void 0?f.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==p)return n===null&&(n=new yT(t)),f=c?n.fromEquirectangular(a,f):n.fromCubemap(a,f),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),f.texture;if(f!==void 0)return f.texture;{const m=a.image;return c&&m&&m.height>0||u&&m&&i(m)?(n===null&&(n=new yT(t)),f=c?n.fromEquirectangular(a):n.fromCubemap(a),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),a.addEventListener("dispose",s),f.texture):null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function uX(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&zp("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function hX(t,e,n,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const _ in p.attributes)e.remove(p.attributes[_]);p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(f){const p=f.attributes;for(const m in p)e.update(p[m],t.ARRAY_BUFFER)}function c(f){const p=[],m=f.index,_=f.attributes.position;let S=0;if(m!==null){const C=m.array;S=m.version;for(let T=0,A=C.length;T<A;T+=3){const L=C[T+0],R=C[T+1],N=C[T+2];p.push(L,R,R,N,N,L)}}else if(_!==void 0){const C=_.array;S=_.version;for(let T=0,A=C.length/3-1;T<A;T+=3){const L=T+0,R=T+1,N=T+2;p.push(L,R,R,N,N,L)}}else return;const w=new(C3(p)?dA:fA)(p,1);w.version=S;const x=s.get(f);x&&e.remove(x),s.set(f,w)}function u(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function fX(t,e,n){let r;function i(p){r=p}let s,o;function a(p){s=p.type,o=p.bytesPerElement}function l(p,m){t.drawElements(r,m,s,p*o),n.update(m,r,1)}function c(p,m,_){_!==0&&(t.drawElementsInstanced(r,m,s,p*o,_),n.update(m,r,_))}function u(p,m,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,m,0,s,p,0,_);let w=0;for(let x=0;x<_;x++)w+=m[x];n.update(w,r,1)}function f(p,m,_,S){if(_===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let x=0;x<p.length;x++)c(p[x]/o,m[x],S[x]);else{w.multiDrawElementsInstancedWEBGL(r,m,0,s,p,0,S,0,_);let x=0;for(let C=0;C<_;C++)x+=m[C]*S[C];n.update(x,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function dX(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function pX(t,e,n){const r=new WeakMap,i=new Xn;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,f=u!==void 0?u.length:0;let p=r.get(a);if(p===void 0||p.count!==f){let D=function(){N.dispose(),r.delete(a),a.removeEventListener("dispose",D)};p!==void 0&&p.texture.dispose();const m=a.morphAttributes.position!==void 0,_=a.morphAttributes.normal!==void 0,S=a.morphAttributes.color!==void 0,w=a.morphAttributes.position||[],x=a.morphAttributes.normal||[],C=a.morphAttributes.color||[];let T=0;m===!0&&(T=1),_===!0&&(T=2),S===!0&&(T=3);let A=a.attributes.position.count*T,L=1;A>e.maxTextureSize&&(L=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const R=new Float32Array(A*L*4*f),N=new r_(R,A,L,f);N.type=lo,N.needsUpdate=!0;const z=T*4;for(let I=0;I<f;I++){const B=w[I],q=x[I],K=C[I],j=A*L*4*I;for(let J=0;J<B.count;J++){const $=J*z;m===!0&&(i.fromBufferAttribute(B,J),R[j+$+0]=i.x,R[j+$+1]=i.y,R[j+$+2]=i.z,R[j+$+3]=0),_===!0&&(i.fromBufferAttribute(q,J),R[j+$+4]=i.x,R[j+$+5]=i.y,R[j+$+6]=i.z,R[j+$+7]=0),S===!0&&(i.fromBufferAttribute(K,J),R[j+$+8]=i.x,R[j+$+9]=i.y,R[j+$+10]=i.z,R[j+$+11]=K.itemSize===4?i.w:1)}}p={count:f,texture:N,size:new qe(A,L)},r.set(a,p),a.addEventListener("dispose",D)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let m=0;for(let S=0;S<c.length;S++)m+=c[S];const _=a.morphTargetsRelative?1:1-m;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",p.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",p.size)}return{update:s}}function mX(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const RN=new Ur,RP=new _A(1,1),PN=new r_,LN=new h1,IN=new s_,PP=[],LP=[],IP=new Float32Array(16),DP=new Float32Array(9),OP=new Float32Array(4);function jm(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=PP[i];if(s===void 0&&(s=new Float32Array(i),PP[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function xi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Si(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function L1(t,e){let n=LP[e];n===void 0&&(n=new Int32Array(e),LP[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function gX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function yX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xi(n,e))return;t.uniform2fv(this.addr,e),Si(n,e)}}function _X(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(xi(n,e))return;t.uniform3fv(this.addr,e),Si(n,e)}}function vX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xi(n,e))return;t.uniform4fv(this.addr,e),Si(n,e)}}function xX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Si(n,e)}else{if(xi(n,r))return;OP.set(r),t.uniformMatrix2fv(this.addr,!1,OP),Si(n,r)}}function SX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Si(n,e)}else{if(xi(n,r))return;DP.set(r),t.uniformMatrix3fv(this.addr,!1,DP),Si(n,r)}}function wX(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(xi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Si(n,e)}else{if(xi(n,r))return;IP.set(r),t.uniformMatrix4fv(this.addr,!1,IP),Si(n,r)}}function bX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function EX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xi(n,e))return;t.uniform2iv(this.addr,e),Si(n,e)}}function CX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(xi(n,e))return;t.uniform3iv(this.addr,e),Si(n,e)}}function TX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xi(n,e))return;t.uniform4iv(this.addr,e),Si(n,e)}}function MX(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function AX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(xi(n,e))return;t.uniform2uiv(this.addr,e),Si(n,e)}}function kX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(xi(n,e))return;t.uniform3uiv(this.addr,e),Si(n,e)}}function RX(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(xi(n,e))return;t.uniform4uiv(this.addr,e),Si(n,e)}}function PX(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(RP.compareFunction=uA,s=RP):s=RN,n.setTexture2D(e||s,i)}function LX(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||LN,i)}function IX(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||IN,i)}function DX(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||PN,i)}function OX(t){switch(t){case 5126:return gX;case 35664:return yX;case 35665:return _X;case 35666:return vX;case 35674:return xX;case 35675:return SX;case 35676:return wX;case 5124:case 35670:return bX;case 35667:case 35671:return EX;case 35668:case 35672:return CX;case 35669:case 35673:return TX;case 5125:return MX;case 36294:return AX;case 36295:return kX;case 36296:return RX;case 35678:case 36198:case 36298:case 36306:case 35682:return PX;case 35679:case 36299:case 36307:return LX;case 35680:case 36300:case 36308:case 36293:return IX;case 36289:case 36303:case 36311:case 36292:return DX}}function NX(t,e){t.uniform1fv(this.addr,e)}function BX(t,e){const n=jm(e,this.size,2);t.uniform2fv(this.addr,n)}function FX(t,e){const n=jm(e,this.size,3);t.uniform3fv(this.addr,n)}function zX(t,e){const n=jm(e,this.size,4);t.uniform4fv(this.addr,n)}function UX(t,e){const n=jm(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function VX(t,e){const n=jm(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function HX(t,e){const n=jm(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function WX(t,e){t.uniform1iv(this.addr,e)}function GX(t,e){t.uniform2iv(this.addr,e)}function $X(t,e){t.uniform3iv(this.addr,e)}function jX(t,e){t.uniform4iv(this.addr,e)}function qX(t,e){t.uniform1uiv(this.addr,e)}function XX(t,e){t.uniform2uiv(this.addr,e)}function YX(t,e){t.uniform3uiv(this.addr,e)}function KX(t,e){t.uniform4uiv(this.addr,e)}function ZX(t,e,n){const r=this.cache,i=e.length,s=L1(n,i);xi(r,s)||(t.uniform1iv(this.addr,s),Si(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||RN,s[o])}function JX(t,e,n){const r=this.cache,i=e.length,s=L1(n,i);xi(r,s)||(t.uniform1iv(this.addr,s),Si(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||LN,s[o])}function QX(t,e,n){const r=this.cache,i=e.length,s=L1(n,i);xi(r,s)||(t.uniform1iv(this.addr,s),Si(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||IN,s[o])}function eY(t,e,n){const r=this.cache,i=e.length,s=L1(n,i);xi(r,s)||(t.uniform1iv(this.addr,s),Si(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||PN,s[o])}function tY(t){switch(t){case 5126:return NX;case 35664:return BX;case 35665:return FX;case 35666:return zX;case 35674:return UX;case 35675:return VX;case 35676:return HX;case 5124:case 35670:return WX;case 35667:case 35671:return GX;case 35668:case 35672:return $X;case 35669:case 35673:return jX;case 5125:return qX;case 36294:return XX;case 36295:return YX;case 36296:return KX;case 35678:case 36198:case 36298:case 36306:case 35682:return ZX;case 35679:case 36299:case 36307:return JX;case 35680:case 36300:case 36308:case 36293:return QX;case 36289:case 36303:case 36311:case 36292:return eY}}class nY{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=OX(n.type)}}class rY{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=tY(n.type)}}class iY{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const $E=/(\w+)(\])?(\[|\.)?/g;function NP(t,e){t.seq.push(e),t.map[e.id]=e}function sY(t,e,n){const r=t.name,i=r.length;for($E.lastIndex=0;;){const s=$E.exec(r),o=$E.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){NP(n,c===void 0?new nY(a,t,e):new rY(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new iY(a),NP(n,f)),n=f}}}class Wx{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);sY(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function BP(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const oY=37297;let aY=0;function lY(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const FP=new wn;function cY(t){Gn._getMatrix(FP,Gn.workingColorSpace,t);const e=`mat3( ${FP.elements.map(n=>n.toFixed(4))} )`;switch(Gn.getTransfer(t)){case C0:return[e,"LinearTransferOETF"];case or:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function zP(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+lY(t.getShaderSource(e),o)}else return i}function uY(t,e){const n=cY(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function hY(t,e){let n;switch(e){case s3:n="Linear";break;case o3:n="Reinhard";break;case a3:n="Cineon";break;case JM:n="ACESFilmic";break;case c3:n="AgX";break;case u3:n="Neutral";break;case l3:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const gx=new se;function fY(){Gn.getLuminanceCoefficients(gx);const t=gx.x.toFixed(4),e=gx.y.toFixed(4),n=gx.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function dY(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(zy).join(`
`)}function pY(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function mY(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function zy(t){return t!==""}function UP(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function VP(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const gY=/^[ \t]*#include +<([\w\d./]+)>/gm;function _T(t){return t.replace(gY,_Y)}const yY=new Map;function _Y(t,e){let n=Pn[e];if(n===void 0){const r=yY.get(e);if(r!==void 0)n=Pn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return _T(n)}const vY=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function HP(t){return t.replace(vY,xY)}function xY(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function WP(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function SY(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===t1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Ky?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ba&&(e="SHADOWMAP_TYPE_VSM"),e}function wY(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Wc:case eh:e="ENVMAP_TYPE_CUBE";break;case Hm:e="ENVMAP_TYPE_CUBE_UV";break}return e}function bY(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case eh:e="ENVMAP_MODE_REFRACTION";break}return e}function EY(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case t_:e="ENVMAP_BLENDING_MULTIPLY";break;case r3:e="ENVMAP_BLENDING_MIX";break;case i3:e="ENVMAP_BLENDING_ADD";break}return e}function CY(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function TY(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=SY(n),c=wY(n),u=bY(n),f=EY(n),p=CY(n),m=dY(n),_=pY(s),S=i.createProgram();let w,x,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(w=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(zy).join(`
`),w.length>0&&(w+=`
`),x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_].filter(zy).join(`
`),x.length>0&&(x+=`
`)):(w=[WP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(zy).join(`
`),x=[WP(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,_,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Cl?"#define TONE_MAPPING":"",n.toneMapping!==Cl?Pn.tonemapping_pars_fragment:"",n.toneMapping!==Cl?hY("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Pn.colorspace_pars_fragment,uY("linearToOutputTexel",n.outputColorSpace),fY(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(zy).join(`
`)),o=_T(o),o=UP(o,n),o=VP(o,n),a=_T(a),a=UP(a,n),a=VP(a,n),o=HP(o),a=HP(a),n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,w=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,x=["#define varying in",n.glslVersion===lT?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===lT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const T=C+w+o,A=C+x+a,L=BP(i,i.VERTEX_SHADER,T),R=BP(i,i.FRAGMENT_SHADER,A);i.attachShader(S,L),i.attachShader(S,R),n.index0AttributeName!==void 0?i.bindAttribLocation(S,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function N(B){if(t.debug.checkShaderErrors){const q=i.getProgramInfoLog(S).trim(),K=i.getShaderInfoLog(L).trim(),j=i.getShaderInfoLog(R).trim();let J=!0,$=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(J=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,S,L,R);else{const ie=zP(i,L,"vertex"),U=zP(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+B.name+`
Material Type: `+B.type+`

Program Info Log: `+q+`
`+ie+`
`+U)}else q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",q):(K===""||j==="")&&($=!1);$&&(B.diagnostics={runnable:J,programLog:q,vertexShader:{log:K,prefix:w},fragmentShader:{log:j,prefix:x}})}i.deleteShader(L),i.deleteShader(R),z=new Wx(i,S),D=mY(i,S)}let z;this.getUniforms=function(){return z===void 0&&N(this),z};let D;this.getAttributes=function(){return D===void 0&&N(this),D};let I=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return I===!1&&(I=i.getProgramParameter(S,oY)),I},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=aY++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=L,this.fragmentShader=R,this}let MY=0;class AY{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new kY(e),n.set(e,r)),r}}class kY{constructor(e){this.id=MY++,this.code=e,this.usedTimes=0}}function RY(t,e,n,r,i,s,o){const a=new Gf,l=new AY,c=new Set,u=[],f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function S(D){return c.add(D),D===0?"uv":`uv${D}`}function w(D,I,B,q,K){const j=q.fog,J=K.geometry,$=D.isMeshStandardMaterial?q.environment:null,ie=(D.isMeshStandardMaterial?n:e).get(D.envMap||$),U=ie&&ie.mapping===Hm?ie.image.height:null,ee=_[D.type];D.precision!==null&&(m=i.getMaxPrecision(D.precision),m!==D.precision&&console.warn("THREE.WebGLProgram.getParameters:",D.precision,"not supported, using",m,"instead."));const V=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,G=V!==void 0?V.length:0;let oe=0;J.morphAttributes.position!==void 0&&(oe=1),J.morphAttributes.normal!==void 0&&(oe=2),J.morphAttributes.color!==void 0&&(oe=3);let Z,ue,me,we;if(ee){const yn=Fa[ee];Z=yn.vertexShader,ue=yn.fragmentShader}else Z=D.vertexShader,ue=D.fragmentShader,l.update(D),me=l.getVertexShaderID(D),we=l.getFragmentShaderID(D);const Me=t.getRenderTarget(),ze=t.state.buffers.depth.getReversed(),rt=K.isInstancedMesh===!0,Ke=K.isBatchedMesh===!0,xt=!!D.map,We=!!D.matcap,Oe=!!ie,re=!!D.aoMap,pt=!!D.lightMap,Ge=!!D.bumpMap,ot=!!D.normalMap,Qe=!!D.displacementMap,Rt=!!D.emissiveMap,je=!!D.metalnessMap,te=!!D.roughnessMap,Q=D.anisotropy>0,be=D.clearcoat>0,Ne=D.dispersion>0,$e=D.iridescence>0,ce=D.sheen>0,Pe=D.transmission>0,Ve=Q&&!!D.anisotropyMap,Ye=be&&!!D.clearcoatMap,St=be&&!!D.clearcoatNormalMap,Xe=be&&!!D.clearcoatRoughnessMap,_t=$e&&!!D.iridescenceMap,kt=$e&&!!D.iridescenceThicknessMap,Lt=ce&&!!D.sheenColorMap,gt=ce&&!!D.sheenRoughnessMap,he=!!D.specularMap,Fe=!!D.specularColorMap,at=!!D.specularIntensityMap,fe=Pe&&!!D.transmissionMap,tt=Pe&&!!D.thicknessMap,Le=!!D.gradientMap,He=!!D.alphaMap,bt=D.alphaTest>0,vt=!!D.alphaHash,Et=!!D.extensions;let _n=Cl;D.toneMapped&&(Me===null||Me.isXRRenderTarget===!0)&&(_n=t.toneMapping);const Qn={shaderID:ee,shaderType:D.type,shaderName:D.name,vertexShader:Z,fragmentShader:ue,defines:D.defines,customVertexShaderID:me,customFragmentShaderID:we,isRawShaderMaterial:D.isRawShaderMaterial===!0,glslVersion:D.glslVersion,precision:m,batching:Ke,batchingColor:Ke&&K._colorsTexture!==null,instancing:rt,instancingColor:rt&&K.instanceColor!==null,instancingMorph:rt&&K.morphTexture!==null,supportsVertexTextures:p,outputColorSpace:Me===null?t.outputColorSpace:Me.isXRRenderTarget===!0?Me.texture.colorSpace:Zf,alphaToCoverage:!!D.alphaToCoverage,map:xt,matcap:We,envMap:Oe,envMapMode:Oe&&ie.mapping,envMapCubeUVHeight:U,aoMap:re,lightMap:pt,bumpMap:Ge,normalMap:ot,displacementMap:p&&Qe,emissiveMap:Rt,normalMapObjectSpace:ot&&D.normalMapType===y3,normalMapTangentSpace:ot&&D.normalMapType===ah,metalnessMap:je,roughnessMap:te,anisotropy:Q,anisotropyMap:Ve,clearcoat:be,clearcoatMap:Ye,clearcoatNormalMap:St,clearcoatRoughnessMap:Xe,dispersion:Ne,iridescence:$e,iridescenceMap:_t,iridescenceThicknessMap:kt,sheen:ce,sheenColorMap:Lt,sheenRoughnessMap:gt,specularMap:he,specularColorMap:Fe,specularIntensityMap:at,transmission:Pe,transmissionMap:fe,thicknessMap:tt,gradientMap:Le,opaque:D.transparent===!1&&D.blending===Vf&&D.alphaToCoverage===!1,alphaMap:He,alphaTest:bt,alphaHash:vt,combine:D.combine,mapUv:xt&&S(D.map.channel),aoMapUv:re&&S(D.aoMap.channel),lightMapUv:pt&&S(D.lightMap.channel),bumpMapUv:Ge&&S(D.bumpMap.channel),normalMapUv:ot&&S(D.normalMap.channel),displacementMapUv:Qe&&S(D.displacementMap.channel),emissiveMapUv:Rt&&S(D.emissiveMap.channel),metalnessMapUv:je&&S(D.metalnessMap.channel),roughnessMapUv:te&&S(D.roughnessMap.channel),anisotropyMapUv:Ve&&S(D.anisotropyMap.channel),clearcoatMapUv:Ye&&S(D.clearcoatMap.channel),clearcoatNormalMapUv:St&&S(D.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Xe&&S(D.clearcoatRoughnessMap.channel),iridescenceMapUv:_t&&S(D.iridescenceMap.channel),iridescenceThicknessMapUv:kt&&S(D.iridescenceThicknessMap.channel),sheenColorMapUv:Lt&&S(D.sheenColorMap.channel),sheenRoughnessMapUv:gt&&S(D.sheenRoughnessMap.channel),specularMapUv:he&&S(D.specularMap.channel),specularColorMapUv:Fe&&S(D.specularColorMap.channel),specularIntensityMapUv:at&&S(D.specularIntensityMap.channel),transmissionMapUv:fe&&S(D.transmissionMap.channel),thicknessMapUv:tt&&S(D.thicknessMap.channel),alphaMapUv:He&&S(D.alphaMap.channel),vertexTangents:!!J.attributes.tangent&&(ot||Q),vertexColors:D.vertexColors,vertexAlphas:D.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,pointsUvs:K.isPoints===!0&&!!J.attributes.uv&&(xt||He),fog:!!j,useFog:D.fog===!0,fogExp2:!!j&&j.isFogExp2,flatShading:D.flatShading===!0,sizeAttenuation:D.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:ze,skinning:K.isSkinnedMesh===!0,morphTargets:J.morphAttributes.position!==void 0,morphNormals:J.morphAttributes.normal!==void 0,morphColors:J.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:oe,numDirLights:I.directional.length,numPointLights:I.point.length,numSpotLights:I.spot.length,numSpotLightMaps:I.spotLightMap.length,numRectAreaLights:I.rectArea.length,numHemiLights:I.hemi.length,numDirLightShadows:I.directionalShadowMap.length,numPointLightShadows:I.pointShadowMap.length,numSpotLightShadows:I.spotShadowMap.length,numSpotLightShadowsWithMaps:I.numSpotLightShadowsWithMaps,numLightProbes:I.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:D.dithering,shadowMapEnabled:t.shadowMap.enabled&&B.length>0,shadowMapType:t.shadowMap.type,toneMapping:_n,decodeVideoTexture:xt&&D.map.isVideoTexture===!0&&Gn.getTransfer(D.map.colorSpace)===or,decodeVideoTextureEmissive:Rt&&D.emissiveMap.isVideoTexture===!0&&Gn.getTransfer(D.emissiveMap.colorSpace)===or,premultipliedAlpha:D.premultipliedAlpha,doubleSided:D.side===_l,flipSided:D.side===Ds,useDepthPacking:D.depthPacking>=0,depthPacking:D.depthPacking||0,index0AttributeName:D.index0AttributeName,extensionClipCullDistance:Et&&D.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Et&&D.extensions.multiDraw===!0||Ke)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:D.customProgramCacheKey()};return Qn.vertexUv1s=c.has(1),Qn.vertexUv2s=c.has(2),Qn.vertexUv3s=c.has(3),c.clear(),Qn}function x(D){const I=[];if(D.shaderID?I.push(D.shaderID):(I.push(D.customVertexShaderID),I.push(D.customFragmentShaderID)),D.defines!==void 0)for(const B in D.defines)I.push(B),I.push(D.defines[B]);return D.isRawShaderMaterial===!1&&(C(I,D),T(I,D),I.push(t.outputColorSpace)),I.push(D.customProgramCacheKey),I.join()}function C(D,I){D.push(I.precision),D.push(I.outputColorSpace),D.push(I.envMapMode),D.push(I.envMapCubeUVHeight),D.push(I.mapUv),D.push(I.alphaMapUv),D.push(I.lightMapUv),D.push(I.aoMapUv),D.push(I.bumpMapUv),D.push(I.normalMapUv),D.push(I.displacementMapUv),D.push(I.emissiveMapUv),D.push(I.metalnessMapUv),D.push(I.roughnessMapUv),D.push(I.anisotropyMapUv),D.push(I.clearcoatMapUv),D.push(I.clearcoatNormalMapUv),D.push(I.clearcoatRoughnessMapUv),D.push(I.iridescenceMapUv),D.push(I.iridescenceThicknessMapUv),D.push(I.sheenColorMapUv),D.push(I.sheenRoughnessMapUv),D.push(I.specularMapUv),D.push(I.specularColorMapUv),D.push(I.specularIntensityMapUv),D.push(I.transmissionMapUv),D.push(I.thicknessMapUv),D.push(I.combine),D.push(I.fogExp2),D.push(I.sizeAttenuation),D.push(I.morphTargetsCount),D.push(I.morphAttributeCount),D.push(I.numDirLights),D.push(I.numPointLights),D.push(I.numSpotLights),D.push(I.numSpotLightMaps),D.push(I.numHemiLights),D.push(I.numRectAreaLights),D.push(I.numDirLightShadows),D.push(I.numPointLightShadows),D.push(I.numSpotLightShadows),D.push(I.numSpotLightShadowsWithMaps),D.push(I.numLightProbes),D.push(I.shadowMapType),D.push(I.toneMapping),D.push(I.numClippingPlanes),D.push(I.numClipIntersection),D.push(I.depthPacking)}function T(D,I){a.disableAll(),I.supportsVertexTextures&&a.enable(0),I.instancing&&a.enable(1),I.instancingColor&&a.enable(2),I.instancingMorph&&a.enable(3),I.matcap&&a.enable(4),I.envMap&&a.enable(5),I.normalMapObjectSpace&&a.enable(6),I.normalMapTangentSpace&&a.enable(7),I.clearcoat&&a.enable(8),I.iridescence&&a.enable(9),I.alphaTest&&a.enable(10),I.vertexColors&&a.enable(11),I.vertexAlphas&&a.enable(12),I.vertexUv1s&&a.enable(13),I.vertexUv2s&&a.enable(14),I.vertexUv3s&&a.enable(15),I.vertexTangents&&a.enable(16),I.anisotropy&&a.enable(17),I.alphaHash&&a.enable(18),I.batching&&a.enable(19),I.dispersion&&a.enable(20),I.batchingColor&&a.enable(21),D.push(a.mask),a.disableAll(),I.fog&&a.enable(0),I.useFog&&a.enable(1),I.flatShading&&a.enable(2),I.logarithmicDepthBuffer&&a.enable(3),I.reverseDepthBuffer&&a.enable(4),I.skinning&&a.enable(5),I.morphTargets&&a.enable(6),I.morphNormals&&a.enable(7),I.morphColors&&a.enable(8),I.premultipliedAlpha&&a.enable(9),I.shadowMapEnabled&&a.enable(10),I.doubleSided&&a.enable(11),I.flipSided&&a.enable(12),I.useDepthPacking&&a.enable(13),I.dithering&&a.enable(14),I.transmission&&a.enable(15),I.sheen&&a.enable(16),I.opaque&&a.enable(17),I.pointsUvs&&a.enable(18),I.decodeVideoTexture&&a.enable(19),I.decodeVideoTextureEmissive&&a.enable(20),I.alphaToCoverage&&a.enable(21),D.push(a.mask)}function A(D){const I=_[D.type];let B;if(I){const q=Fa[I];B=R3.clone(q.uniforms)}else B=D.uniforms;return B}function L(D,I){let B;for(let q=0,K=u.length;q<K;q++){const j=u[q];if(j.cacheKey===I){B=j,++B.usedTimes;break}}return B===void 0&&(B=new TY(t,I,D,s),u.push(B)),B}function R(D){if(--D.usedTimes===0){const I=u.indexOf(D);u[I]=u[u.length-1],u.pop(),D.destroy()}}function N(D){l.remove(D)}function z(){l.dispose()}return{getParameters:w,getProgramCacheKey:x,getUniforms:A,acquireProgram:L,releaseProgram:R,releaseShaderCache:N,programs:u,dispose:z}}function PY(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function LY(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function GP(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function $P(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,p,m,_,S,w){let x=t[e];return x===void 0?(x={id:f.id,object:f,geometry:p,material:m,groupOrder:_,renderOrder:f.renderOrder,z:S,group:w},t[e]=x):(x.id=f.id,x.object=f,x.geometry=p,x.material=m,x.groupOrder=_,x.renderOrder=f.renderOrder,x.z=S,x.group=w),e++,x}function a(f,p,m,_,S,w){const x=o(f,p,m,_,S,w);m.transmission>0?r.push(x):m.transparent===!0?i.push(x):n.push(x)}function l(f,p,m,_,S,w){const x=o(f,p,m,_,S,w);m.transmission>0?r.unshift(x):m.transparent===!0?i.unshift(x):n.unshift(x)}function c(f,p){n.length>1&&n.sort(f||LY),r.length>1&&r.sort(p||GP),i.length>1&&i.sort(p||GP)}function u(){for(let f=e,p=t.length;f<p;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function IY(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new $P,t.set(r,[o])):i>=s.length?(o=new $P,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function DY(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new se,color:new It};break;case"SpotLight":n={position:new se,direction:new se,color:new It,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new se,color:new It,distance:0,decay:0};break;case"HemisphereLight":n={direction:new se,skyColor:new It,groundColor:new It};break;case"RectAreaLight":n={color:new It,position:new se,halfWidth:new se,halfHeight:new se};break}return t[e.id]=n,n}}}function OY(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qe,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let NY=0;function BY(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function FY(t){const e=new DY,n=OY(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new se);const i=new se,s=new cn,o=new cn;function a(c){let u=0,f=0,p=0;for(let D=0;D<9;D++)r.probe[D].set(0,0,0);let m=0,_=0,S=0,w=0,x=0,C=0,T=0,A=0,L=0,R=0,N=0;c.sort(BY);for(let D=0,I=c.length;D<I;D++){const B=c[D],q=B.color,K=B.intensity,j=B.distance,J=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)u+=q.r*K,f+=q.g*K,p+=q.b*K;else if(B.isLightProbe){for(let $=0;$<9;$++)r.probe[$].addScaledVector(B.sh.coefficients[$],K);N++}else if(B.isDirectionalLight){const $=e.get(B);if($.color.copy(B.color).multiplyScalar(B.intensity),B.castShadow){const ie=B.shadow,U=n.get(B);U.shadowIntensity=ie.intensity,U.shadowBias=ie.bias,U.shadowNormalBias=ie.normalBias,U.shadowRadius=ie.radius,U.shadowMapSize=ie.mapSize,r.directionalShadow[m]=U,r.directionalShadowMap[m]=J,r.directionalShadowMatrix[m]=B.shadow.matrix,C++}r.directional[m]=$,m++}else if(B.isSpotLight){const $=e.get(B);$.position.setFromMatrixPosition(B.matrixWorld),$.color.copy(q).multiplyScalar(K),$.distance=j,$.coneCos=Math.cos(B.angle),$.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),$.decay=B.decay,r.spot[S]=$;const ie=B.shadow;if(B.map&&(r.spotLightMap[L]=B.map,L++,ie.updateMatrices(B),B.castShadow&&R++),r.spotLightMatrix[S]=ie.matrix,B.castShadow){const U=n.get(B);U.shadowIntensity=ie.intensity,U.shadowBias=ie.bias,U.shadowNormalBias=ie.normalBias,U.shadowRadius=ie.radius,U.shadowMapSize=ie.mapSize,r.spotShadow[S]=U,r.spotShadowMap[S]=J,A++}S++}else if(B.isRectAreaLight){const $=e.get(B);$.color.copy(q).multiplyScalar(K),$.halfWidth.set(B.width*.5,0,0),$.halfHeight.set(0,B.height*.5,0),r.rectArea[w]=$,w++}else if(B.isPointLight){const $=e.get(B);if($.color.copy(B.color).multiplyScalar(B.intensity),$.distance=B.distance,$.decay=B.decay,B.castShadow){const ie=B.shadow,U=n.get(B);U.shadowIntensity=ie.intensity,U.shadowBias=ie.bias,U.shadowNormalBias=ie.normalBias,U.shadowRadius=ie.radius,U.shadowMapSize=ie.mapSize,U.shadowCameraNear=ie.camera.near,U.shadowCameraFar=ie.camera.far,r.pointShadow[_]=U,r.pointShadowMap[_]=J,r.pointShadowMatrix[_]=B.shadow.matrix,T++}r.point[_]=$,_++}else if(B.isHemisphereLight){const $=e.get(B);$.skyColor.copy(B.color).multiplyScalar(K),$.groundColor.copy(B.groundColor).multiplyScalar(K),r.hemi[x]=$,x++}}w>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Tt.LTC_FLOAT_1,r.rectAreaLTC2=Tt.LTC_FLOAT_2):(r.rectAreaLTC1=Tt.LTC_HALF_1,r.rectAreaLTC2=Tt.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=f,r.ambient[2]=p;const z=r.hash;(z.directionalLength!==m||z.pointLength!==_||z.spotLength!==S||z.rectAreaLength!==w||z.hemiLength!==x||z.numDirectionalShadows!==C||z.numPointShadows!==T||z.numSpotShadows!==A||z.numSpotMaps!==L||z.numLightProbes!==N)&&(r.directional.length=m,r.spot.length=S,r.rectArea.length=w,r.point.length=_,r.hemi.length=x,r.directionalShadow.length=C,r.directionalShadowMap.length=C,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=A,r.spotShadowMap.length=A,r.directionalShadowMatrix.length=C,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=A+L-R,r.spotLightMap.length=L,r.numSpotLightShadowsWithMaps=R,r.numLightProbes=N,z.directionalLength=m,z.pointLength=_,z.spotLength=S,z.rectAreaLength=w,z.hemiLength=x,z.numDirectionalShadows=C,z.numPointShadows=T,z.numSpotShadows=A,z.numSpotMaps=L,z.numLightProbes=N,r.version=NY++)}function l(c,u){let f=0,p=0,m=0,_=0,S=0;const w=u.matrixWorldInverse;for(let x=0,C=c.length;x<C;x++){const T=c[x];if(T.isDirectionalLight){const A=r.directional[f];A.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(w),f++}else if(T.isSpotLight){const A=r.spot[m];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(w),A.direction.setFromMatrixPosition(T.matrixWorld),i.setFromMatrixPosition(T.target.matrixWorld),A.direction.sub(i),A.direction.transformDirection(w),m++}else if(T.isRectAreaLight){const A=r.rectArea[_];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(w),o.identity(),s.copy(T.matrixWorld),s.premultiply(w),o.extractRotation(s),A.halfWidth.set(T.width*.5,0,0),A.halfHeight.set(0,T.height*.5,0),A.halfWidth.applyMatrix4(o),A.halfHeight.applyMatrix4(o),_++}else if(T.isPointLight){const A=r.point[p];A.position.setFromMatrixPosition(T.matrixWorld),A.position.applyMatrix4(w),p++}else if(T.isHemisphereLight){const A=r.hemi[S];A.direction.setFromMatrixPosition(T.matrixWorld),A.direction.transformDirection(w),S++}}}return{setup:a,setupView:l,state:r}}function jP(t){const e=new FY(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function s(u){n.push(u)}function o(u){r.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function zY(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new jP(t),e.set(i,[a])):s>=o.length?(a=new jP(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const UY=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,VY=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function HY(t,e,n){let r=new o_;const i=new qe,s=new qe,o=new Xn,a=new TA({depthPacking:g3}),l=new MA,c={},u=n.maxTextureSize,f={[Hc]:Ds,[Ds]:Hc,[_l]:_l},p=new ja({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qe},radius:{value:4}},vertexShader:UY,fragmentShader:VY}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const _=new Ln;_.setAttribute("position",new ur(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new si(_,p),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=t1;let x=this.type;this.render=function(R,N,z){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||R.length===0)return;const D=t.getRenderTarget(),I=t.getActiveCubeFace(),B=t.getActiveMipmapLevel(),q=t.state;q.setBlending(Fc),q.buffers.color.setClear(1,1,1,1),q.buffers.depth.setTest(!0),q.setScissorTest(!1);const K=x!==Ba&&this.type===Ba,j=x===Ba&&this.type!==Ba;for(let J=0,$=R.length;J<$;J++){const ie=R[J],U=ie.shadow;if(U===void 0){console.warn("THREE.WebGLShadowMap:",ie,"has no shadow.");continue}if(U.autoUpdate===!1&&U.needsUpdate===!1)continue;i.copy(U.mapSize);const ee=U.getFrameExtents();if(i.multiply(ee),s.copy(U.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/ee.x),i.x=s.x*ee.x,U.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/ee.y),i.y=s.y*ee.y,U.mapSize.y=s.y)),U.map===null||K===!0||j===!0){const G=this.type!==Ba?{minFilter:qi,magFilter:qi}:{};U.map!==null&&U.map.dispose(),U.map=new kl(i.x,i.y,G),U.map.texture.name=ie.name+".shadowMap",U.camera.updateProjectionMatrix()}t.setRenderTarget(U.map),t.clear();const V=U.getViewportCount();for(let G=0;G<V;G++){const oe=U.getViewport(G);o.set(s.x*oe.x,s.y*oe.y,s.x*oe.z,s.y*oe.w),q.viewport(o),U.updateMatrices(ie,G),r=U.getFrustum(),A(N,z,U.camera,ie,this.type)}U.isPointLightShadow!==!0&&this.type===Ba&&C(U,z),U.needsUpdate=!1}x=this.type,w.needsUpdate=!1,t.setRenderTarget(D,I,B)};function C(R,N){const z=e.update(S);p.defines.VSM_SAMPLES!==R.blurSamples&&(p.defines.VSM_SAMPLES=R.blurSamples,m.defines.VSM_SAMPLES=R.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),R.mapPass===null&&(R.mapPass=new kl(i.x,i.y)),p.uniforms.shadow_pass.value=R.map.texture,p.uniforms.resolution.value=R.mapSize,p.uniforms.radius.value=R.radius,t.setRenderTarget(R.mapPass),t.clear(),t.renderBufferDirect(N,null,z,p,S,null),m.uniforms.shadow_pass.value=R.mapPass.texture,m.uniforms.resolution.value=R.mapSize,m.uniforms.radius.value=R.radius,t.setRenderTarget(R.map),t.clear(),t.renderBufferDirect(N,null,z,m,S,null)}function T(R,N,z,D){let I=null;const B=z.isPointLight===!0?R.customDistanceMaterial:R.customDepthMaterial;if(B!==void 0)I=B;else if(I=z.isPointLight===!0?l:a,t.localClippingEnabled&&N.clipShadows===!0&&Array.isArray(N.clippingPlanes)&&N.clippingPlanes.length!==0||N.displacementMap&&N.displacementScale!==0||N.alphaMap&&N.alphaTest>0||N.map&&N.alphaTest>0){const q=I.uuid,K=N.uuid;let j=c[q];j===void 0&&(j={},c[q]=j);let J=j[K];J===void 0&&(J=I.clone(),j[K]=J,N.addEventListener("dispose",L)),I=J}if(I.visible=N.visible,I.wireframe=N.wireframe,D===Ba?I.side=N.shadowSide!==null?N.shadowSide:N.side:I.side=N.shadowSide!==null?N.shadowSide:f[N.side],I.alphaMap=N.alphaMap,I.alphaTest=N.alphaTest,I.map=N.map,I.clipShadows=N.clipShadows,I.clippingPlanes=N.clippingPlanes,I.clipIntersection=N.clipIntersection,I.displacementMap=N.displacementMap,I.displacementScale=N.displacementScale,I.displacementBias=N.displacementBias,I.wireframeLinewidth=N.wireframeLinewidth,I.linewidth=N.linewidth,z.isPointLight===!0&&I.isMeshDistanceMaterial===!0){const q=t.properties.get(I);q.light=z}return I}function A(R,N,z,D,I){if(R.visible===!1)return;if(R.layers.test(N.layers)&&(R.isMesh||R.isLine||R.isPoints)&&(R.castShadow||R.receiveShadow&&I===Ba)&&(!R.frustumCulled||r.intersectsObject(R))){R.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,R.matrixWorld);const K=e.update(R),j=R.material;if(Array.isArray(j)){const J=K.groups;for(let $=0,ie=J.length;$<ie;$++){const U=J[$],ee=j[U.materialIndex];if(ee&&ee.visible){const V=T(R,ee,D,I);R.onBeforeShadow(t,R,N,z,K,V,U),t.renderBufferDirect(z,null,K,V,R,U),R.onAfterShadow(t,R,N,z,K,V,U)}}}else if(j.visible){const J=T(R,j,D,I);R.onBeforeShadow(t,R,N,z,K,J,null),t.renderBufferDirect(z,null,K,J,R,null),R.onAfterShadow(t,R,N,z,K,J,null)}}const q=R.children;for(let K=0,j=q.length;K<j;K++)A(q[K],N,z,D,I)}function L(R){R.target.removeEventListener("dispose",L);for(const z in c){const D=c[z],I=R.target.uuid;I in D&&(D[I].dispose(),delete D[I])}}}const WY={[_S]:vS,[xS]:bS,[SS]:ES,[Xf]:wS,[vS]:_S,[bS]:xS,[ES]:SS,[wS]:Xf};function GY(t,e){function n(){let fe=!1;const tt=new Xn;let Le=null;const He=new Xn(0,0,0,0);return{setMask:function(bt){Le!==bt&&!fe&&(t.colorMask(bt,bt,bt,bt),Le=bt)},setLocked:function(bt){fe=bt},setClear:function(bt,vt,Et,_n,Qn){Qn===!0&&(bt*=_n,vt*=_n,Et*=_n),tt.set(bt,vt,Et,_n),He.equals(tt)===!1&&(t.clearColor(bt,vt,Et,_n),He.copy(tt))},reset:function(){fe=!1,Le=null,He.set(-1,0,0,0)}}}function r(){let fe=!1,tt=!1,Le=null,He=null,bt=null;return{setReversed:function(vt){if(tt!==vt){const Et=e.get("EXT_clip_control");tt?Et.clipControlEXT(Et.LOWER_LEFT_EXT,Et.ZERO_TO_ONE_EXT):Et.clipControlEXT(Et.LOWER_LEFT_EXT,Et.NEGATIVE_ONE_TO_ONE_EXT);const _n=bt;bt=null,this.setClear(_n)}tt=vt},getReversed:function(){return tt},setTest:function(vt){vt?Me(t.DEPTH_TEST):ze(t.DEPTH_TEST)},setMask:function(vt){Le!==vt&&!fe&&(t.depthMask(vt),Le=vt)},setFunc:function(vt){if(tt&&(vt=WY[vt]),He!==vt){switch(vt){case _S:t.depthFunc(t.NEVER);break;case vS:t.depthFunc(t.ALWAYS);break;case xS:t.depthFunc(t.LESS);break;case Xf:t.depthFunc(t.LEQUAL);break;case SS:t.depthFunc(t.EQUAL);break;case wS:t.depthFunc(t.GEQUAL);break;case bS:t.depthFunc(t.GREATER);break;case ES:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}He=vt}},setLocked:function(vt){fe=vt},setClear:function(vt){bt!==vt&&(tt&&(vt=1-vt),t.clearDepth(vt),bt=vt)},reset:function(){fe=!1,Le=null,He=null,bt=null,tt=!1}}}function i(){let fe=!1,tt=null,Le=null,He=null,bt=null,vt=null,Et=null,_n=null,Qn=null;return{setTest:function(yn){fe||(yn?Me(t.STENCIL_TEST):ze(t.STENCIL_TEST))},setMask:function(yn){tt!==yn&&!fe&&(t.stencilMask(yn),tt=yn)},setFunc:function(yn,fr,Sr){(Le!==yn||He!==fr||bt!==Sr)&&(t.stencilFunc(yn,fr,Sr),Le=yn,He=fr,bt=Sr)},setOp:function(yn,fr,Sr){(vt!==yn||Et!==fr||_n!==Sr)&&(t.stencilOp(yn,fr,Sr),vt=yn,Et=fr,_n=Sr)},setLocked:function(yn){fe=yn},setClear:function(yn){Qn!==yn&&(t.clearStencil(yn),Qn=yn)},reset:function(){fe=!1,tt=null,Le=null,He=null,bt=null,vt=null,Et=null,_n=null,Qn=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,c=new WeakMap;let u={},f={},p=new WeakMap,m=[],_=null,S=!1,w=null,x=null,C=null,T=null,A=null,L=null,R=null,N=new It(0,0,0),z=0,D=!1,I=null,B=null,q=null,K=null,j=null;const J=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,ie=0;const U=t.getParameter(t.VERSION);U.indexOf("WebGL")!==-1?(ie=parseFloat(/^WebGL (\d)/.exec(U)[1]),$=ie>=1):U.indexOf("OpenGL ES")!==-1&&(ie=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),$=ie>=2);let ee=null,V={};const G=t.getParameter(t.SCISSOR_BOX),oe=t.getParameter(t.VIEWPORT),Z=new Xn().fromArray(G),ue=new Xn().fromArray(oe);function me(fe,tt,Le,He){const bt=new Uint8Array(4),vt=t.createTexture();t.bindTexture(fe,vt),t.texParameteri(fe,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(fe,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Et=0;Et<Le;Et++)fe===t.TEXTURE_3D||fe===t.TEXTURE_2D_ARRAY?t.texImage3D(tt,0,t.RGBA,1,1,He,0,t.RGBA,t.UNSIGNED_BYTE,bt):t.texImage2D(tt+Et,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,bt);return vt}const we={};we[t.TEXTURE_2D]=me(t.TEXTURE_2D,t.TEXTURE_2D,1),we[t.TEXTURE_CUBE_MAP]=me(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),we[t.TEXTURE_2D_ARRAY]=me(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),we[t.TEXTURE_3D]=me(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),Me(t.DEPTH_TEST),o.setFunc(Xf),Ge(!1),ot(nT),Me(t.CULL_FACE),re(Fc);function Me(fe){u[fe]!==!0&&(t.enable(fe),u[fe]=!0)}function ze(fe){u[fe]!==!1&&(t.disable(fe),u[fe]=!1)}function rt(fe,tt){return f[fe]!==tt?(t.bindFramebuffer(fe,tt),f[fe]=tt,fe===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=tt),fe===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=tt),!0):!1}function Ke(fe,tt){let Le=m,He=!1;if(fe){Le=p.get(tt),Le===void 0&&(Le=[],p.set(tt,Le));const bt=fe.textures;if(Le.length!==bt.length||Le[0]!==t.COLOR_ATTACHMENT0){for(let vt=0,Et=bt.length;vt<Et;vt++)Le[vt]=t.COLOR_ATTACHMENT0+vt;Le.length=bt.length,He=!0}}else Le[0]!==t.BACK&&(Le[0]=t.BACK,He=!0);He&&t.drawBuffers(Le)}function xt(fe){return _!==fe?(t.useProgram(fe),_=fe,!0):!1}const We={[Yu]:t.FUNC_ADD,[UO]:t.FUNC_SUBTRACT,[VO]:t.FUNC_REVERSE_SUBTRACT};We[HO]=t.MIN,We[WO]=t.MAX;const Oe={[GO]:t.ZERO,[$O]:t.ONE,[jO]:t.SRC_COLOR,[gS]:t.SRC_ALPHA,[JO]:t.SRC_ALPHA_SATURATE,[KO]:t.DST_COLOR,[XO]:t.DST_ALPHA,[qO]:t.ONE_MINUS_SRC_COLOR,[yS]:t.ONE_MINUS_SRC_ALPHA,[ZO]:t.ONE_MINUS_DST_COLOR,[YO]:t.ONE_MINUS_DST_ALPHA,[QO]:t.CONSTANT_COLOR,[e3]:t.ONE_MINUS_CONSTANT_COLOR,[t3]:t.CONSTANT_ALPHA,[n3]:t.ONE_MINUS_CONSTANT_ALPHA};function re(fe,tt,Le,He,bt,vt,Et,_n,Qn,yn){if(fe===Fc){S===!0&&(ze(t.BLEND),S=!1);return}if(S===!1&&(Me(t.BLEND),S=!0),fe!==zO){if(fe!==w||yn!==D){if((x!==Yu||A!==Yu)&&(t.blendEquation(t.FUNC_ADD),x=Yu,A=Yu),yn)switch(fe){case Vf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case rT:t.blendFunc(t.ONE,t.ONE);break;case iT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case sT:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}else switch(fe){case Vf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case rT:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case iT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case sT:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",fe);break}C=null,T=null,L=null,R=null,N.set(0,0,0),z=0,w=fe,D=yn}return}bt=bt||tt,vt=vt||Le,Et=Et||He,(tt!==x||bt!==A)&&(t.blendEquationSeparate(We[tt],We[bt]),x=tt,A=bt),(Le!==C||He!==T||vt!==L||Et!==R)&&(t.blendFuncSeparate(Oe[Le],Oe[He],Oe[vt],Oe[Et]),C=Le,T=He,L=vt,R=Et),(_n.equals(N)===!1||Qn!==z)&&(t.blendColor(_n.r,_n.g,_n.b,Qn),N.copy(_n),z=Qn),w=fe,D=!1}function pt(fe,tt){fe.side===_l?ze(t.CULL_FACE):Me(t.CULL_FACE);let Le=fe.side===Ds;tt&&(Le=!Le),Ge(Le),fe.blending===Vf&&fe.transparent===!1?re(Fc):re(fe.blending,fe.blendEquation,fe.blendSrc,fe.blendDst,fe.blendEquationAlpha,fe.blendSrcAlpha,fe.blendDstAlpha,fe.blendColor,fe.blendAlpha,fe.premultipliedAlpha),o.setFunc(fe.depthFunc),o.setTest(fe.depthTest),o.setMask(fe.depthWrite),s.setMask(fe.colorWrite);const He=fe.stencilWrite;a.setTest(He),He&&(a.setMask(fe.stencilWriteMask),a.setFunc(fe.stencilFunc,fe.stencilRef,fe.stencilFuncMask),a.setOp(fe.stencilFail,fe.stencilZFail,fe.stencilZPass)),Rt(fe.polygonOffset,fe.polygonOffsetFactor,fe.polygonOffsetUnits),fe.alphaToCoverage===!0?Me(t.SAMPLE_ALPHA_TO_COVERAGE):ze(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ge(fe){I!==fe&&(fe?t.frontFace(t.CW):t.frontFace(t.CCW),I=fe)}function ot(fe){fe!==NO?(Me(t.CULL_FACE),fe!==B&&(fe===nT?t.cullFace(t.BACK):fe===BO?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ze(t.CULL_FACE),B=fe}function Qe(fe){fe!==q&&($&&t.lineWidth(fe),q=fe)}function Rt(fe,tt,Le){fe?(Me(t.POLYGON_OFFSET_FILL),(K!==tt||j!==Le)&&(t.polygonOffset(tt,Le),K=tt,j=Le)):ze(t.POLYGON_OFFSET_FILL)}function je(fe){fe?Me(t.SCISSOR_TEST):ze(t.SCISSOR_TEST)}function te(fe){fe===void 0&&(fe=t.TEXTURE0+J-1),ee!==fe&&(t.activeTexture(fe),ee=fe)}function Q(fe,tt,Le){Le===void 0&&(ee===null?Le=t.TEXTURE0+J-1:Le=ee);let He=V[Le];He===void 0&&(He={type:void 0,texture:void 0},V[Le]=He),(He.type!==fe||He.texture!==tt)&&(ee!==Le&&(t.activeTexture(Le),ee=Le),t.bindTexture(fe,tt||we[fe]),He.type=fe,He.texture=tt)}function be(){const fe=V[ee];fe!==void 0&&fe.type!==void 0&&(t.bindTexture(fe.type,null),fe.type=void 0,fe.texture=void 0)}function Ne(){try{t.compressedTexImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function $e(){try{t.compressedTexImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function ce(){try{t.texSubImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Pe(){try{t.texSubImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ve(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Ye(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function St(){try{t.texStorage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Xe(){try{t.texStorage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function _t(){try{t.texImage2D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function kt(){try{t.texImage3D.apply(t,arguments)}catch(fe){console.error("THREE.WebGLState:",fe)}}function Lt(fe){Z.equals(fe)===!1&&(t.scissor(fe.x,fe.y,fe.z,fe.w),Z.copy(fe))}function gt(fe){ue.equals(fe)===!1&&(t.viewport(fe.x,fe.y,fe.z,fe.w),ue.copy(fe))}function he(fe,tt){let Le=c.get(tt);Le===void 0&&(Le=new WeakMap,c.set(tt,Le));let He=Le.get(fe);He===void 0&&(He=t.getUniformBlockIndex(tt,fe.name),Le.set(fe,He))}function Fe(fe,tt){const He=c.get(tt).get(fe);l.get(tt)!==He&&(t.uniformBlockBinding(tt,He,fe.__bindingPointIndex),l.set(tt,He))}function at(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},ee=null,V={},f={},p=new WeakMap,m=[],_=null,S=!1,w=null,x=null,C=null,T=null,A=null,L=null,R=null,N=new It(0,0,0),z=0,D=!1,I=null,B=null,q=null,K=null,j=null,Z.set(0,0,t.canvas.width,t.canvas.height),ue.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:Me,disable:ze,bindFramebuffer:rt,drawBuffers:Ke,useProgram:xt,setBlending:re,setMaterial:pt,setFlipSided:Ge,setCullFace:ot,setLineWidth:Qe,setPolygonOffset:Rt,setScissorTest:je,activeTexture:te,bindTexture:Q,unbindTexture:be,compressedTexImage2D:Ne,compressedTexImage3D:$e,texImage2D:_t,texImage3D:kt,updateUBOMapping:he,uniformBlockBinding:Fe,texStorage2D:St,texStorage3D:Xe,texSubImage2D:ce,texSubImage3D:Pe,compressedTexSubImage2D:Ve,compressedTexSubImage3D:Ye,scissor:Lt,viewport:gt,reset:at}}function $Y(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new qe,u=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(te,Q){return m?new OffscreenCanvas(te,Q):A0("canvas")}function S(te,Q,be){let Ne=1;const $e=je(te);if(($e.width>be||$e.height>be)&&(Ne=be/Math.max($e.width,$e.height)),Ne<1)if(typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&te instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&te instanceof ImageBitmap||typeof VideoFrame<"u"&&te instanceof VideoFrame){const ce=Math.floor(Ne*$e.width),Pe=Math.floor(Ne*$e.height);f===void 0&&(f=_(ce,Pe));const Ve=Q?_(ce,Pe):f;return Ve.width=ce,Ve.height=Pe,Ve.getContext("2d").drawImage(te,0,0,ce,Pe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+$e.width+"x"+$e.height+") to ("+ce+"x"+Pe+")."),Ve}else return"data"in te&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+$e.width+"x"+$e.height+")."),te;return te}function w(te){return te.generateMipmaps}function x(te){t.generateMipmap(te)}function C(te){return te.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:te.isWebGL3DRenderTarget?t.TEXTURE_3D:te.isWebGLArrayRenderTarget||te.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function T(te,Q,be,Ne,$e=!1){if(te!==null){if(t[te]!==void 0)return t[te];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+te+"'")}let ce=Q;if(Q===t.RED&&(be===t.FLOAT&&(ce=t.R32F),be===t.HALF_FLOAT&&(ce=t.R16F),be===t.UNSIGNED_BYTE&&(ce=t.R8)),Q===t.RED_INTEGER&&(be===t.UNSIGNED_BYTE&&(ce=t.R8UI),be===t.UNSIGNED_SHORT&&(ce=t.R16UI),be===t.UNSIGNED_INT&&(ce=t.R32UI),be===t.BYTE&&(ce=t.R8I),be===t.SHORT&&(ce=t.R16I),be===t.INT&&(ce=t.R32I)),Q===t.RG&&(be===t.FLOAT&&(ce=t.RG32F),be===t.HALF_FLOAT&&(ce=t.RG16F),be===t.UNSIGNED_BYTE&&(ce=t.RG8)),Q===t.RG_INTEGER&&(be===t.UNSIGNED_BYTE&&(ce=t.RG8UI),be===t.UNSIGNED_SHORT&&(ce=t.RG16UI),be===t.UNSIGNED_INT&&(ce=t.RG32UI),be===t.BYTE&&(ce=t.RG8I),be===t.SHORT&&(ce=t.RG16I),be===t.INT&&(ce=t.RG32I)),Q===t.RGB_INTEGER&&(be===t.UNSIGNED_BYTE&&(ce=t.RGB8UI),be===t.UNSIGNED_SHORT&&(ce=t.RGB16UI),be===t.UNSIGNED_INT&&(ce=t.RGB32UI),be===t.BYTE&&(ce=t.RGB8I),be===t.SHORT&&(ce=t.RGB16I),be===t.INT&&(ce=t.RGB32I)),Q===t.RGBA_INTEGER&&(be===t.UNSIGNED_BYTE&&(ce=t.RGBA8UI),be===t.UNSIGNED_SHORT&&(ce=t.RGBA16UI),be===t.UNSIGNED_INT&&(ce=t.RGBA32UI),be===t.BYTE&&(ce=t.RGBA8I),be===t.SHORT&&(ce=t.RGBA16I),be===t.INT&&(ce=t.RGBA32I)),Q===t.RGB&&be===t.UNSIGNED_INT_5_9_9_9_REV&&(ce=t.RGB9_E5),Q===t.RGBA){const Pe=$e?C0:Gn.getTransfer(Ne);be===t.FLOAT&&(ce=t.RGBA32F),be===t.HALF_FLOAT&&(ce=t.RGBA16F),be===t.UNSIGNED_BYTE&&(ce=Pe===or?t.SRGB8_ALPHA8:t.RGBA8),be===t.UNSIGNED_SHORT_4_4_4_4&&(ce=t.RGBA4),be===t.UNSIGNED_SHORT_5_5_5_1&&(ce=t.RGB5_A1)}return(ce===t.R16F||ce===t.R32F||ce===t.RG16F||ce===t.RG32F||ce===t.RGBA16F||ce===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ce}function A(te,Q){let be;return te?Q===null||Q===Gc||Q===Yf?be=t.DEPTH24_STENCIL8:Q===lo?be=t.DEPTH32F_STENCIL8:Q===xm&&(be=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Q===null||Q===Gc||Q===Yf?be=t.DEPTH_COMPONENT24:Q===lo?be=t.DEPTH_COMPONENT32F:Q===xm&&(be=t.DEPTH_COMPONENT16),be}function L(te,Q){return w(te)===!0||te.isFramebufferTexture&&te.minFilter!==qi&&te.minFilter!==_i?Math.log2(Math.max(Q.width,Q.height))+1:te.mipmaps!==void 0&&te.mipmaps.length>0?te.mipmaps.length:te.isCompressedTexture&&Array.isArray(te.image)?Q.mipmaps.length:1}function R(te){const Q=te.target;Q.removeEventListener("dispose",R),z(Q),Q.isVideoTexture&&u.delete(Q)}function N(te){const Q=te.target;Q.removeEventListener("dispose",N),I(Q)}function z(te){const Q=r.get(te);if(Q.__webglInit===void 0)return;const be=te.source,Ne=p.get(be);if(Ne){const $e=Ne[Q.__cacheKey];$e.usedTimes--,$e.usedTimes===0&&D(te),Object.keys(Ne).length===0&&p.delete(be)}r.remove(te)}function D(te){const Q=r.get(te);t.deleteTexture(Q.__webglTexture);const be=te.source,Ne=p.get(be);delete Ne[Q.__cacheKey],o.memory.textures--}function I(te){const Q=r.get(te);if(te.depthTexture&&(te.depthTexture.dispose(),r.remove(te.depthTexture)),te.isWebGLCubeRenderTarget)for(let Ne=0;Ne<6;Ne++){if(Array.isArray(Q.__webglFramebuffer[Ne]))for(let $e=0;$e<Q.__webglFramebuffer[Ne].length;$e++)t.deleteFramebuffer(Q.__webglFramebuffer[Ne][$e]);else t.deleteFramebuffer(Q.__webglFramebuffer[Ne]);Q.__webglDepthbuffer&&t.deleteRenderbuffer(Q.__webglDepthbuffer[Ne])}else{if(Array.isArray(Q.__webglFramebuffer))for(let Ne=0;Ne<Q.__webglFramebuffer.length;Ne++)t.deleteFramebuffer(Q.__webglFramebuffer[Ne]);else t.deleteFramebuffer(Q.__webglFramebuffer);if(Q.__webglDepthbuffer&&t.deleteRenderbuffer(Q.__webglDepthbuffer),Q.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Q.__webglMultisampledFramebuffer),Q.__webglColorRenderbuffer)for(let Ne=0;Ne<Q.__webglColorRenderbuffer.length;Ne++)Q.__webglColorRenderbuffer[Ne]&&t.deleteRenderbuffer(Q.__webglColorRenderbuffer[Ne]);Q.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Q.__webglDepthRenderbuffer)}const be=te.textures;for(let Ne=0,$e=be.length;Ne<$e;Ne++){const ce=r.get(be[Ne]);ce.__webglTexture&&(t.deleteTexture(ce.__webglTexture),o.memory.textures--),r.remove(be[Ne])}r.remove(te)}let B=0;function q(){B=0}function K(){const te=B;return te>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+te+" texture units while this GPU supports only "+i.maxTextures),B+=1,te}function j(te){const Q=[];return Q.push(te.wrapS),Q.push(te.wrapT),Q.push(te.wrapR||0),Q.push(te.magFilter),Q.push(te.minFilter),Q.push(te.anisotropy),Q.push(te.internalFormat),Q.push(te.format),Q.push(te.type),Q.push(te.generateMipmaps),Q.push(te.premultiplyAlpha),Q.push(te.flipY),Q.push(te.unpackAlignment),Q.push(te.colorSpace),Q.join()}function J(te,Q){const be=r.get(te);if(te.isVideoTexture&&Qe(te),te.isRenderTargetTexture===!1&&te.version>0&&be.__version!==te.version){const Ne=te.image;if(Ne===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ne.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(be,te,Q);return}}n.bindTexture(t.TEXTURE_2D,be.__webglTexture,t.TEXTURE0+Q)}function $(te,Q){const be=r.get(te);if(te.version>0&&be.__version!==te.version){ue(be,te,Q);return}n.bindTexture(t.TEXTURE_2D_ARRAY,be.__webglTexture,t.TEXTURE0+Q)}function ie(te,Q){const be=r.get(te);if(te.version>0&&be.__version!==te.version){ue(be,te,Q);return}n.bindTexture(t.TEXTURE_3D,be.__webglTexture,t.TEXTURE0+Q)}function U(te,Q){const be=r.get(te);if(te.version>0&&be.__version!==te.version){me(be,te,Q);return}n.bindTexture(t.TEXTURE_CUBE_MAP,be.__webglTexture,t.TEXTURE0+Q)}const ee={[S0]:t.REPEAT,[na]:t.CLAMP_TO_EDGE,[w0]:t.MIRRORED_REPEAT},V={[qi]:t.NEAREST,[QM]:t.NEAREST_MIPMAP_NEAREST,[Gp]:t.NEAREST_MIPMAP_LINEAR,[_i]:t.LINEAR,[Zy]:t.LINEAR_MIPMAP_NEAREST,[wl]:t.LINEAR_MIPMAP_LINEAR},G={[_3]:t.NEVER,[E3]:t.ALWAYS,[v3]:t.LESS,[uA]:t.LEQUAL,[x3]:t.EQUAL,[b3]:t.GEQUAL,[S3]:t.GREATER,[w3]:t.NOTEQUAL};function oe(te,Q){if(Q.type===lo&&e.has("OES_texture_float_linear")===!1&&(Q.magFilter===_i||Q.magFilter===Zy||Q.magFilter===Gp||Q.magFilter===wl||Q.minFilter===_i||Q.minFilter===Zy||Q.minFilter===Gp||Q.minFilter===wl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(te,t.TEXTURE_WRAP_S,ee[Q.wrapS]),t.texParameteri(te,t.TEXTURE_WRAP_T,ee[Q.wrapT]),(te===t.TEXTURE_3D||te===t.TEXTURE_2D_ARRAY)&&t.texParameteri(te,t.TEXTURE_WRAP_R,ee[Q.wrapR]),t.texParameteri(te,t.TEXTURE_MAG_FILTER,V[Q.magFilter]),t.texParameteri(te,t.TEXTURE_MIN_FILTER,V[Q.minFilter]),Q.compareFunction&&(t.texParameteri(te,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(te,t.TEXTURE_COMPARE_FUNC,G[Q.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Q.magFilter===qi||Q.minFilter!==Gp&&Q.minFilter!==wl||Q.type===lo&&e.has("OES_texture_float_linear")===!1)return;if(Q.anisotropy>1||r.get(Q).__currentAnisotropy){const be=e.get("EXT_texture_filter_anisotropic");t.texParameterf(te,be.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Q.anisotropy,i.getMaxAnisotropy())),r.get(Q).__currentAnisotropy=Q.anisotropy}}}function Z(te,Q){let be=!1;te.__webglInit===void 0&&(te.__webglInit=!0,Q.addEventListener("dispose",R));const Ne=Q.source;let $e=p.get(Ne);$e===void 0&&($e={},p.set(Ne,$e));const ce=j(Q);if(ce!==te.__cacheKey){$e[ce]===void 0&&($e[ce]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,be=!0),$e[ce].usedTimes++;const Pe=$e[te.__cacheKey];Pe!==void 0&&($e[te.__cacheKey].usedTimes--,Pe.usedTimes===0&&D(Q)),te.__cacheKey=ce,te.__webglTexture=$e[ce].texture}return be}function ue(te,Q,be){let Ne=t.TEXTURE_2D;(Q.isDataArrayTexture||Q.isCompressedArrayTexture)&&(Ne=t.TEXTURE_2D_ARRAY),Q.isData3DTexture&&(Ne=t.TEXTURE_3D);const $e=Z(te,Q),ce=Q.source;n.bindTexture(Ne,te.__webglTexture,t.TEXTURE0+be);const Pe=r.get(ce);if(ce.version!==Pe.__version||$e===!0){n.activeTexture(t.TEXTURE0+be);const Ve=Gn.getPrimaries(Gn.workingColorSpace),Ye=Q.colorSpace===Lc?null:Gn.getPrimaries(Q.colorSpace),St=Q.colorSpace===Lc||Ve===Ye?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,St);let Xe=S(Q.image,!1,i.maxTextureSize);Xe=Rt(Q,Xe);const _t=s.convert(Q.format,Q.colorSpace),kt=s.convert(Q.type);let Lt=T(Q.internalFormat,_t,kt,Q.colorSpace,Q.isVideoTexture);oe(Ne,Q);let gt;const he=Q.mipmaps,Fe=Q.isVideoTexture!==!0,at=Pe.__version===void 0||$e===!0,fe=ce.dataReady,tt=L(Q,Xe);if(Q.isDepthTexture)Lt=A(Q.format===Kf,Q.type),at&&(Fe?n.texStorage2D(t.TEXTURE_2D,1,Lt,Xe.width,Xe.height):n.texImage2D(t.TEXTURE_2D,0,Lt,Xe.width,Xe.height,0,_t,kt,null));else if(Q.isDataTexture)if(he.length>0){Fe&&at&&n.texStorage2D(t.TEXTURE_2D,tt,Lt,he[0].width,he[0].height);for(let Le=0,He=he.length;Le<He;Le++)gt=he[Le],Fe?fe&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,gt.width,gt.height,_t,kt,gt.data):n.texImage2D(t.TEXTURE_2D,Le,Lt,gt.width,gt.height,0,_t,kt,gt.data);Q.generateMipmaps=!1}else Fe?(at&&n.texStorage2D(t.TEXTURE_2D,tt,Lt,Xe.width,Xe.height),fe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Xe.width,Xe.height,_t,kt,Xe.data)):n.texImage2D(t.TEXTURE_2D,0,Lt,Xe.width,Xe.height,0,_t,kt,Xe.data);else if(Q.isCompressedTexture)if(Q.isCompressedArrayTexture){Fe&&at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tt,Lt,he[0].width,he[0].height,Xe.depth);for(let Le=0,He=he.length;Le<He;Le++)if(gt=he[Le],Q.format!==cs)if(_t!==null)if(Fe){if(fe)if(Q.layerUpdates.size>0){const bt=gT(gt.width,gt.height,Q.format,Q.type);for(const vt of Q.layerUpdates){const Et=gt.data.subarray(vt*bt/gt.data.BYTES_PER_ELEMENT,(vt+1)*bt/gt.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,vt,gt.width,gt.height,1,_t,Et)}Q.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,0,gt.width,gt.height,Xe.depth,_t,gt.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Le,Lt,gt.width,gt.height,Xe.depth,0,gt.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Fe?fe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,0,gt.width,gt.height,Xe.depth,_t,kt,gt.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Le,Lt,gt.width,gt.height,Xe.depth,0,_t,kt,gt.data)}else{Fe&&at&&n.texStorage2D(t.TEXTURE_2D,tt,Lt,he[0].width,he[0].height);for(let Le=0,He=he.length;Le<He;Le++)gt=he[Le],Q.format!==cs?_t!==null?Fe?fe&&n.compressedTexSubImage2D(t.TEXTURE_2D,Le,0,0,gt.width,gt.height,_t,gt.data):n.compressedTexImage2D(t.TEXTURE_2D,Le,Lt,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fe?fe&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,gt.width,gt.height,_t,kt,gt.data):n.texImage2D(t.TEXTURE_2D,Le,Lt,gt.width,gt.height,0,_t,kt,gt.data)}else if(Q.isDataArrayTexture)if(Fe){if(at&&n.texStorage3D(t.TEXTURE_2D_ARRAY,tt,Lt,Xe.width,Xe.height,Xe.depth),fe)if(Q.layerUpdates.size>0){const Le=gT(Xe.width,Xe.height,Q.format,Q.type);for(const He of Q.layerUpdates){const bt=Xe.data.subarray(He*Le/Xe.data.BYTES_PER_ELEMENT,(He+1)*Le/Xe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,He,Xe.width,Xe.height,1,_t,kt,bt)}Q.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Xe.width,Xe.height,Xe.depth,_t,kt,Xe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Lt,Xe.width,Xe.height,Xe.depth,0,_t,kt,Xe.data);else if(Q.isData3DTexture)Fe?(at&&n.texStorage3D(t.TEXTURE_3D,tt,Lt,Xe.width,Xe.height,Xe.depth),fe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Xe.width,Xe.height,Xe.depth,_t,kt,Xe.data)):n.texImage3D(t.TEXTURE_3D,0,Lt,Xe.width,Xe.height,Xe.depth,0,_t,kt,Xe.data);else if(Q.isFramebufferTexture){if(at)if(Fe)n.texStorage2D(t.TEXTURE_2D,tt,Lt,Xe.width,Xe.height);else{let Le=Xe.width,He=Xe.height;for(let bt=0;bt<tt;bt++)n.texImage2D(t.TEXTURE_2D,bt,Lt,Le,He,0,_t,kt,null),Le>>=1,He>>=1}}else if(he.length>0){if(Fe&&at){const Le=je(he[0]);n.texStorage2D(t.TEXTURE_2D,tt,Lt,Le.width,Le.height)}for(let Le=0,He=he.length;Le<He;Le++)gt=he[Le],Fe?fe&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,_t,kt,gt):n.texImage2D(t.TEXTURE_2D,Le,Lt,_t,kt,gt);Q.generateMipmaps=!1}else if(Fe){if(at){const Le=je(Xe);n.texStorage2D(t.TEXTURE_2D,tt,Lt,Le.width,Le.height)}fe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,_t,kt,Xe)}else n.texImage2D(t.TEXTURE_2D,0,Lt,_t,kt,Xe);w(Q)&&x(Ne),Pe.__version=ce.version,Q.onUpdate&&Q.onUpdate(Q)}te.__version=Q.version}function me(te,Q,be){if(Q.image.length!==6)return;const Ne=Z(te,Q),$e=Q.source;n.bindTexture(t.TEXTURE_CUBE_MAP,te.__webglTexture,t.TEXTURE0+be);const ce=r.get($e);if($e.version!==ce.__version||Ne===!0){n.activeTexture(t.TEXTURE0+be);const Pe=Gn.getPrimaries(Gn.workingColorSpace),Ve=Q.colorSpace===Lc?null:Gn.getPrimaries(Q.colorSpace),Ye=Q.colorSpace===Lc||Pe===Ve?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Q.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Q.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Q.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ye);const St=Q.isCompressedTexture||Q.image[0].isCompressedTexture,Xe=Q.image[0]&&Q.image[0].isDataTexture,_t=[];for(let He=0;He<6;He++)!St&&!Xe?_t[He]=S(Q.image[He],!0,i.maxCubemapSize):_t[He]=Xe?Q.image[He].image:Q.image[He],_t[He]=Rt(Q,_t[He]);const kt=_t[0],Lt=s.convert(Q.format,Q.colorSpace),gt=s.convert(Q.type),he=T(Q.internalFormat,Lt,gt,Q.colorSpace),Fe=Q.isVideoTexture!==!0,at=ce.__version===void 0||Ne===!0,fe=$e.dataReady;let tt=L(Q,kt);oe(t.TEXTURE_CUBE_MAP,Q);let Le;if(St){Fe&&at&&n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,he,kt.width,kt.height);for(let He=0;He<6;He++){Le=_t[He].mipmaps;for(let bt=0;bt<Le.length;bt++){const vt=Le[bt];Q.format!==cs?Lt!==null?Fe?fe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,bt,0,0,vt.width,vt.height,Lt,vt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,bt,he,vt.width,vt.height,0,vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,bt,0,0,vt.width,vt.height,Lt,gt,vt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,bt,he,vt.width,vt.height,0,Lt,gt,vt.data)}}}else{if(Le=Q.mipmaps,Fe&&at){Le.length>0&&tt++;const He=je(_t[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,tt,he,He.width,He.height)}for(let He=0;He<6;He++)if(Xe){Fe?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,_t[He].width,_t[He].height,Lt,gt,_t[He].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,he,_t[He].width,_t[He].height,0,Lt,gt,_t[He].data);for(let bt=0;bt<Le.length;bt++){const Et=Le[bt].image[He].image;Fe?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,bt+1,0,0,Et.width,Et.height,Lt,gt,Et.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,bt+1,he,Et.width,Et.height,0,Lt,gt,Et.data)}}else{Fe?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,Lt,gt,_t[He]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,he,Lt,gt,_t[He]);for(let bt=0;bt<Le.length;bt++){const vt=Le[bt];Fe?fe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,bt+1,0,0,Lt,gt,vt.image[He]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,bt+1,he,Lt,gt,vt.image[He])}}}w(Q)&&x(t.TEXTURE_CUBE_MAP),ce.__version=$e.version,Q.onUpdate&&Q.onUpdate(Q)}te.__version=Q.version}function we(te,Q,be,Ne,$e,ce){const Pe=s.convert(be.format,be.colorSpace),Ve=s.convert(be.type),Ye=T(be.internalFormat,Pe,Ve,be.colorSpace),St=r.get(Q),Xe=r.get(be);if(Xe.__renderTarget=Q,!St.__hasExternalTextures){const _t=Math.max(1,Q.width>>ce),kt=Math.max(1,Q.height>>ce);$e===t.TEXTURE_3D||$e===t.TEXTURE_2D_ARRAY?n.texImage3D($e,ce,Ye,_t,kt,Q.depth,0,Pe,Ve,null):n.texImage2D($e,ce,Ye,_t,kt,0,Pe,Ve,null)}n.bindFramebuffer(t.FRAMEBUFFER,te),ot(Q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ne,$e,Xe.__webglTexture,0,Ge(Q)):($e===t.TEXTURE_2D||$e>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&$e<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ne,$e,Xe.__webglTexture,ce),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Me(te,Q,be){if(t.bindRenderbuffer(t.RENDERBUFFER,te),Q.depthBuffer){const Ne=Q.depthTexture,$e=Ne&&Ne.isDepthTexture?Ne.type:null,ce=A(Q.stencilBuffer,$e),Pe=Q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ve=Ge(Q);ot(Q)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ve,ce,Q.width,Q.height):be?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ve,ce,Q.width,Q.height):t.renderbufferStorage(t.RENDERBUFFER,ce,Q.width,Q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Pe,t.RENDERBUFFER,te)}else{const Ne=Q.textures;for(let $e=0;$e<Ne.length;$e++){const ce=Ne[$e],Pe=s.convert(ce.format,ce.colorSpace),Ve=s.convert(ce.type),Ye=T(ce.internalFormat,Pe,Ve,ce.colorSpace),St=Ge(Q);be&&ot(Q)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,St,Ye,Q.width,Q.height):ot(Q)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,St,Ye,Q.width,Q.height):t.renderbufferStorage(t.RENDERBUFFER,Ye,Q.width,Q.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ze(te,Q){if(Q&&Q.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,te),!(Q.depthTexture&&Q.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ne=r.get(Q.depthTexture);Ne.__renderTarget=Q,(!Ne.__webglTexture||Q.depthTexture.image.width!==Q.width||Q.depthTexture.image.height!==Q.height)&&(Q.depthTexture.image.width=Q.width,Q.depthTexture.image.height=Q.height,Q.depthTexture.needsUpdate=!0),J(Q.depthTexture,0);const $e=Ne.__webglTexture,ce=Ge(Q);if(Q.depthTexture.format===Hf)ot(Q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$e,0,ce):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,$e,0);else if(Q.depthTexture.format===Kf)ot(Q)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$e,0,ce):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,$e,0);else throw new Error("Unknown depthTexture format")}function rt(te){const Q=r.get(te),be=te.isWebGLCubeRenderTarget===!0;if(Q.__boundDepthTexture!==te.depthTexture){const Ne=te.depthTexture;if(Q.__depthDisposeCallback&&Q.__depthDisposeCallback(),Ne){const $e=()=>{delete Q.__boundDepthTexture,delete Q.__depthDisposeCallback,Ne.removeEventListener("dispose",$e)};Ne.addEventListener("dispose",$e),Q.__depthDisposeCallback=$e}Q.__boundDepthTexture=Ne}if(te.depthTexture&&!Q.__autoAllocateDepthBuffer){if(be)throw new Error("target.depthTexture not supported in Cube render targets");ze(Q.__webglFramebuffer,te)}else if(be){Q.__webglDepthbuffer=[];for(let Ne=0;Ne<6;Ne++)if(n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer[Ne]),Q.__webglDepthbuffer[Ne]===void 0)Q.__webglDepthbuffer[Ne]=t.createRenderbuffer(),Me(Q.__webglDepthbuffer[Ne],te,!1);else{const $e=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ce=Q.__webglDepthbuffer[Ne];t.bindRenderbuffer(t.RENDERBUFFER,ce),t.framebufferRenderbuffer(t.FRAMEBUFFER,$e,t.RENDERBUFFER,ce)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,Q.__webglFramebuffer),Q.__webglDepthbuffer===void 0)Q.__webglDepthbuffer=t.createRenderbuffer(),Me(Q.__webglDepthbuffer,te,!1);else{const Ne=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,$e=Q.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,$e),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ne,t.RENDERBUFFER,$e)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ke(te,Q,be){const Ne=r.get(te);Q!==void 0&&we(Ne.__webglFramebuffer,te,te.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),be!==void 0&&rt(te)}function xt(te){const Q=te.texture,be=r.get(te),Ne=r.get(Q);te.addEventListener("dispose",N);const $e=te.textures,ce=te.isWebGLCubeRenderTarget===!0,Pe=$e.length>1;if(Pe||(Ne.__webglTexture===void 0&&(Ne.__webglTexture=t.createTexture()),Ne.__version=Q.version,o.memory.textures++),ce){be.__webglFramebuffer=[];for(let Ve=0;Ve<6;Ve++)if(Q.mipmaps&&Q.mipmaps.length>0){be.__webglFramebuffer[Ve]=[];for(let Ye=0;Ye<Q.mipmaps.length;Ye++)be.__webglFramebuffer[Ve][Ye]=t.createFramebuffer()}else be.__webglFramebuffer[Ve]=t.createFramebuffer()}else{if(Q.mipmaps&&Q.mipmaps.length>0){be.__webglFramebuffer=[];for(let Ve=0;Ve<Q.mipmaps.length;Ve++)be.__webglFramebuffer[Ve]=t.createFramebuffer()}else be.__webglFramebuffer=t.createFramebuffer();if(Pe)for(let Ve=0,Ye=$e.length;Ve<Ye;Ve++){const St=r.get($e[Ve]);St.__webglTexture===void 0&&(St.__webglTexture=t.createTexture(),o.memory.textures++)}if(te.samples>0&&ot(te)===!1){be.__webglMultisampledFramebuffer=t.createFramebuffer(),be.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,be.__webglMultisampledFramebuffer);for(let Ve=0;Ve<$e.length;Ve++){const Ye=$e[Ve];be.__webglColorRenderbuffer[Ve]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,be.__webglColorRenderbuffer[Ve]);const St=s.convert(Ye.format,Ye.colorSpace),Xe=s.convert(Ye.type),_t=T(Ye.internalFormat,St,Xe,Ye.colorSpace,te.isXRRenderTarget===!0),kt=Ge(te);t.renderbufferStorageMultisample(t.RENDERBUFFER,kt,_t,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ve,t.RENDERBUFFER,be.__webglColorRenderbuffer[Ve])}t.bindRenderbuffer(t.RENDERBUFFER,null),te.depthBuffer&&(be.__webglDepthRenderbuffer=t.createRenderbuffer(),Me(be.__webglDepthRenderbuffer,te,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ce){n.bindTexture(t.TEXTURE_CUBE_MAP,Ne.__webglTexture),oe(t.TEXTURE_CUBE_MAP,Q);for(let Ve=0;Ve<6;Ve++)if(Q.mipmaps&&Q.mipmaps.length>0)for(let Ye=0;Ye<Q.mipmaps.length;Ye++)we(be.__webglFramebuffer[Ve][Ye],te,Q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,Ye);else we(be.__webglFramebuffer[Ve],te,Q,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0);w(Q)&&x(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Pe){for(let Ve=0,Ye=$e.length;Ve<Ye;Ve++){const St=$e[Ve],Xe=r.get(St);n.bindTexture(t.TEXTURE_2D,Xe.__webglTexture),oe(t.TEXTURE_2D,St),we(be.__webglFramebuffer,te,St,t.COLOR_ATTACHMENT0+Ve,t.TEXTURE_2D,0),w(St)&&x(t.TEXTURE_2D)}n.unbindTexture()}else{let Ve=t.TEXTURE_2D;if((te.isWebGL3DRenderTarget||te.isWebGLArrayRenderTarget)&&(Ve=te.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ve,Ne.__webglTexture),oe(Ve,Q),Q.mipmaps&&Q.mipmaps.length>0)for(let Ye=0;Ye<Q.mipmaps.length;Ye++)we(be.__webglFramebuffer[Ye],te,Q,t.COLOR_ATTACHMENT0,Ve,Ye);else we(be.__webglFramebuffer,te,Q,t.COLOR_ATTACHMENT0,Ve,0);w(Q)&&x(Ve),n.unbindTexture()}te.depthBuffer&&rt(te)}function We(te){const Q=te.textures;for(let be=0,Ne=Q.length;be<Ne;be++){const $e=Q[be];if(w($e)){const ce=C(te),Pe=r.get($e).__webglTexture;n.bindTexture(ce,Pe),x(ce),n.unbindTexture()}}}const Oe=[],re=[];function pt(te){if(te.samples>0){if(ot(te)===!1){const Q=te.textures,be=te.width,Ne=te.height;let $e=t.COLOR_BUFFER_BIT;const ce=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Pe=r.get(te),Ve=Q.length>1;if(Ve)for(let Ye=0;Ye<Q.length;Ye++)n.bindFramebuffer(t.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Pe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Pe.__webglFramebuffer);for(let Ye=0;Ye<Q.length;Ye++){if(te.resolveDepthBuffer&&(te.depthBuffer&&($e|=t.DEPTH_BUFFER_BIT),te.stencilBuffer&&te.resolveStencilBuffer&&($e|=t.STENCIL_BUFFER_BIT)),Ve){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Pe.__webglColorRenderbuffer[Ye]);const St=r.get(Q[Ye]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,St,0)}t.blitFramebuffer(0,0,be,Ne,0,0,be,Ne,$e,t.NEAREST),l===!0&&(Oe.length=0,re.length=0,Oe.push(t.COLOR_ATTACHMENT0+Ye),te.depthBuffer&&te.resolveDepthBuffer===!1&&(Oe.push(ce),re.push(ce),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,re)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Oe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ve)for(let Ye=0;Ye<Q.length;Ye++){n.bindFramebuffer(t.FRAMEBUFFER,Pe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.RENDERBUFFER,Pe.__webglColorRenderbuffer[Ye]);const St=r.get(Q[Ye]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Pe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.TEXTURE_2D,St,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Pe.__webglMultisampledFramebuffer)}else if(te.depthBuffer&&te.resolveDepthBuffer===!1&&l){const Q=te.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Q])}}}function Ge(te){return Math.min(i.maxSamples,te.samples)}function ot(te){const Q=r.get(te);return te.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Q.__useRenderToTexture!==!1}function Qe(te){const Q=o.render.frame;u.get(te)!==Q&&(u.set(te,Q),te.update())}function Rt(te,Q){const be=te.colorSpace,Ne=te.format,$e=te.type;return te.isCompressedTexture===!0||te.isVideoTexture===!0||be!==Zf&&be!==Lc&&(Gn.getTransfer(be)===or?(Ne!==cs||$e!==$a)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",be)),Q}function je(te){return typeof HTMLImageElement<"u"&&te instanceof HTMLImageElement?(c.width=te.naturalWidth||te.width,c.height=te.naturalHeight||te.height):typeof VideoFrame<"u"&&te instanceof VideoFrame?(c.width=te.displayWidth,c.height=te.displayHeight):(c.width=te.width,c.height=te.height),c}this.allocateTextureUnit=K,this.resetTextureUnits=q,this.setTexture2D=J,this.setTexture2DArray=$,this.setTexture3D=ie,this.setTextureCube=U,this.rebindTextures=Ke,this.setupRenderTarget=xt,this.updateRenderTargetMipmap=We,this.updateMultisampleRenderTarget=pt,this.setupDepthRenderbuffer=rt,this.setupFrameBufferTexture=we,this.useMultisampledRTT=ot}function DN(t,e){function n(r,i=Lc){let s;const o=Gn.getTransfer(i);if(r===$a)return t.UNSIGNED_BYTE;if(r===i1)return t.UNSIGNED_SHORT_4_4_4_4;if(r===s1)return t.UNSIGNED_SHORT_5_5_5_1;if(r===nA)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===eA)return t.BYTE;if(r===tA)return t.SHORT;if(r===xm)return t.UNSIGNED_SHORT;if(r===r1)return t.INT;if(r===Gc)return t.UNSIGNED_INT;if(r===lo)return t.FLOAT;if(r===Wm)return t.HALF_FLOAT;if(r===rA)return t.ALPHA;if(r===iA)return t.RGB;if(r===cs)return t.RGBA;if(r===sA)return t.LUMINANCE;if(r===oA)return t.LUMINANCE_ALPHA;if(r===Hf)return t.DEPTH_COMPONENT;if(r===Kf)return t.DEPTH_STENCIL;if(r===o1)return t.RED;if(r===n_)return t.RED_INTEGER;if(r===aA)return t.RG;if(r===a1)return t.RG_INTEGER;if(r===l1)return t.RGBA_INTEGER;if(r===Jy||r===Qy||r===e0||r===t0)if(o===or)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Jy)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Qy)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===e0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===t0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Jy)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Qy)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===e0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===t0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===CS||r===TS||r===MS||r===AS)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===CS)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===TS)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===MS)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===AS)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===kS||r===RS||r===PS)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===kS||r===RS)return o===or?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===PS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===LS||r===IS||r===DS||r===OS||r===NS||r===BS||r===FS||r===zS||r===US||r===VS||r===HS||r===WS||r===GS||r===$S)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===LS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===IS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===DS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===OS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===NS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===BS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===FS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===zS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===US)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===VS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===HS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===WS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===GS)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===$S)return o===or?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===n0||r===jS||r===qS)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===n0)return o===or?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===jS)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===qS)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===lA||r===XS||r===YS||r===KS)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===n0)return s.COMPRESSED_RED_RGTC1_EXT;if(r===XS)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===YS)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===KS)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Yf?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const jY=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,qY=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class XY{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Ur,s=e.properties.get(i);s.__webglTexture=n.texture,(n.depthNear!==r.depthNear||n.depthFar!==r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new ja({vertexShader:jY,fragmentShader:qY,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new si(new $m(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class YY extends Il{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,p=null,m=null,_=null;const S=new XY,w=n.getContextAttributes();let x=null,C=null;const T=[],A=[],L=new qe;let R=null;const N=new $r;N.viewport=new Xn;const z=new $r;z.viewport=new Xn;const D=[N,z],I=new bN;let B=null,q=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ue){let me=T[ue];return me===void 0&&(me=new Hx,T[ue]=me),me.getTargetRaySpace()},this.getControllerGrip=function(ue){let me=T[ue];return me===void 0&&(me=new Hx,T[ue]=me),me.getGripSpace()},this.getHand=function(ue){let me=T[ue];return me===void 0&&(me=new Hx,T[ue]=me),me.getHandSpace()};function K(ue){const me=A.indexOf(ue.inputSource);if(me===-1)return;const we=T[me];we!==void 0&&(we.update(ue.inputSource,ue.frame,c||o),we.dispatchEvent({type:ue.type,data:ue.inputSource}))}function j(){i.removeEventListener("select",K),i.removeEventListener("selectstart",K),i.removeEventListener("selectend",K),i.removeEventListener("squeeze",K),i.removeEventListener("squeezestart",K),i.removeEventListener("squeezeend",K),i.removeEventListener("end",j),i.removeEventListener("inputsourceschange",J);for(let ue=0;ue<T.length;ue++){const me=A[ue];me!==null&&(A[ue]=null,T[ue].disconnect(me))}B=null,q=null,S.reset(),e.setRenderTarget(x),m=null,p=null,f=null,i=null,C=null,Z.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(L.width,L.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ue){s=ue,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ue){a=ue,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(ue){c=ue},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return _},this.getSession=function(){return i},this.setSession=async function(ue){if(i=ue,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",K),i.addEventListener("selectstart",K),i.addEventListener("selectend",K),i.addEventListener("squeeze",K),i.addEventListener("squeezestart",K),i.addEventListener("squeezeend",K),i.addEventListener("end",j),i.addEventListener("inputsourceschange",J),w.xrCompatible!==!0&&await n.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(L),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let we=null,Me=null,ze=null;w.depth&&(ze=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,we=w.stencil?Kf:Hf,Me=w.stencil?Yf:Gc);const rt={colorFormat:n.RGBA8,depthFormat:ze,scaleFactor:s};f=new XRWebGLBinding(i,n),p=f.createProjectionLayer(rt),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),C=new kl(p.textureWidth,p.textureHeight,{format:cs,type:$a,depthTexture:new _A(p.textureWidth,p.textureHeight,Me,void 0,void 0,void 0,void 0,void 0,void 0,we),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1})}else{const we={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,we),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),C=new kl(m.framebufferWidth,m.framebufferHeight,{format:cs,type:$a,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil})}C.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),Z.setContext(i),Z.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return S.getDepthTexture()};function J(ue){for(let me=0;me<ue.removed.length;me++){const we=ue.removed[me],Me=A.indexOf(we);Me>=0&&(A[Me]=null,T[Me].disconnect(we))}for(let me=0;me<ue.added.length;me++){const we=ue.added[me];let Me=A.indexOf(we);if(Me===-1){for(let rt=0;rt<T.length;rt++)if(rt>=A.length){A.push(we),Me=rt;break}else if(A[rt]===null){A[rt]=we,Me=rt;break}if(Me===-1)break}const ze=T[Me];ze&&ze.connect(we)}}const $=new se,ie=new se;function U(ue,me,we){$.setFromMatrixPosition(me.matrixWorld),ie.setFromMatrixPosition(we.matrixWorld);const Me=$.distanceTo(ie),ze=me.projectionMatrix.elements,rt=we.projectionMatrix.elements,Ke=ze[14]/(ze[10]-1),xt=ze[14]/(ze[10]+1),We=(ze[9]+1)/ze[5],Oe=(ze[9]-1)/ze[5],re=(ze[8]-1)/ze[0],pt=(rt[8]+1)/rt[0],Ge=Ke*re,ot=Ke*pt,Qe=Me/(-re+pt),Rt=Qe*-re;if(me.matrixWorld.decompose(ue.position,ue.quaternion,ue.scale),ue.translateX(Rt),ue.translateZ(Qe),ue.matrixWorld.compose(ue.position,ue.quaternion,ue.scale),ue.matrixWorldInverse.copy(ue.matrixWorld).invert(),ze[10]===-1)ue.projectionMatrix.copy(me.projectionMatrix),ue.projectionMatrixInverse.copy(me.projectionMatrixInverse);else{const je=Ke+Qe,te=xt+Qe,Q=Ge-Rt,be=ot+(Me-Rt),Ne=We*xt/te*je,$e=Oe*xt/te*je;ue.projectionMatrix.makePerspective(Q,be,Ne,$e,je,te),ue.projectionMatrixInverse.copy(ue.projectionMatrix).invert()}}function ee(ue,me){me===null?ue.matrixWorld.copy(ue.matrix):ue.matrixWorld.multiplyMatrices(me.matrixWorld,ue.matrix),ue.matrixWorldInverse.copy(ue.matrixWorld).invert()}this.updateCamera=function(ue){if(i===null)return;let me=ue.near,we=ue.far;S.texture!==null&&(S.depthNear>0&&(me=S.depthNear),S.depthFar>0&&(we=S.depthFar)),I.near=z.near=N.near=me,I.far=z.far=N.far=we,(B!==I.near||q!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),B=I.near,q=I.far),N.layers.mask=ue.layers.mask|2,z.layers.mask=ue.layers.mask|4,I.layers.mask=N.layers.mask|z.layers.mask;const Me=ue.parent,ze=I.cameras;ee(I,Me);for(let rt=0;rt<ze.length;rt++)ee(ze[rt],Me);ze.length===2?U(I,N,z):I.projectionMatrix.copy(N.projectionMatrix),V(ue,I,Me)};function V(ue,me,we){we===null?ue.matrix.copy(me.matrixWorld):(ue.matrix.copy(we.matrixWorld),ue.matrix.invert(),ue.matrix.multiply(me.matrixWorld)),ue.matrix.decompose(ue.position,ue.quaternion,ue.scale),ue.updateMatrixWorld(!0),ue.projectionMatrix.copy(me.projectionMatrix),ue.projectionMatrixInverse.copy(me.projectionMatrixInverse),ue.isPerspectiveCamera&&(ue.fov=Sm*2*Math.atan(1/ue.projectionMatrix.elements[5]),ue.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(ue){l=ue,p!==null&&(p.fixedFoveation=ue),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=ue)},this.hasDepthSensing=function(){return S.texture!==null},this.getDepthSensingMesh=function(){return S.getMesh(I)};let G=null;function oe(ue,me){if(u=me.getViewerPose(c||o),_=me,u!==null){const we=u.views;m!==null&&(e.setRenderTargetFramebuffer(C,m.framebuffer),e.setRenderTarget(C));let Me=!1;we.length!==I.cameras.length&&(I.cameras.length=0,Me=!0);for(let Ke=0;Ke<we.length;Ke++){const xt=we[Ke];let We=null;if(m!==null)We=m.getViewport(xt);else{const re=f.getViewSubImage(p,xt);We=re.viewport,Ke===0&&(e.setRenderTargetTextures(C,re.colorTexture,p.ignoreDepthValues?void 0:re.depthStencilTexture),e.setRenderTarget(C))}let Oe=D[Ke];Oe===void 0&&(Oe=new $r,Oe.layers.enable(Ke),Oe.viewport=new Xn,D[Ke]=Oe),Oe.matrix.fromArray(xt.transform.matrix),Oe.matrix.decompose(Oe.position,Oe.quaternion,Oe.scale),Oe.projectionMatrix.fromArray(xt.projectionMatrix),Oe.projectionMatrixInverse.copy(Oe.projectionMatrix).invert(),Oe.viewport.set(We.x,We.y,We.width,We.height),Ke===0&&(I.matrix.copy(Oe.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),Me===!0&&I.cameras.push(Oe)}const ze=i.enabledFeatures;if(ze&&ze.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&f){const Ke=f.getDepthInformation(we[0]);Ke&&Ke.isValid&&Ke.texture&&S.init(e,Ke,i.renderState)}}for(let we=0;we<T.length;we++){const Me=A[we],ze=T[we];Me!==null&&ze!==void 0&&ze.update(Me,me,c||o)}G&&G(ue,me),me.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:me}),_=null}const Z=new kN;Z.setAnimationLoop(oe),this.setAnimationLoop=function(ue){G=ue},this.dispose=function(){}}}const df=new Io,KY=new cn;function ZY(t,e){function n(w,x){w.matrixAutoUpdate===!0&&w.updateMatrix(),x.value.copy(w.matrix)}function r(w,x){x.color.getRGB(w.fogColor.value,k3(t)),x.isFog?(w.fogNear.value=x.near,w.fogFar.value=x.far):x.isFogExp2&&(w.fogDensity.value=x.density)}function i(w,x,C,T,A){x.isMeshBasicMaterial||x.isMeshLambertMaterial?s(w,x):x.isMeshToonMaterial?(s(w,x),f(w,x)):x.isMeshPhongMaterial?(s(w,x),u(w,x)):x.isMeshStandardMaterial?(s(w,x),p(w,x),x.isMeshPhysicalMaterial&&m(w,x,A)):x.isMeshMatcapMaterial?(s(w,x),_(w,x)):x.isMeshDepthMaterial?s(w,x):x.isMeshDistanceMaterial?(s(w,x),S(w,x)):x.isMeshNormalMaterial?s(w,x):x.isLineBasicMaterial?(o(w,x),x.isLineDashedMaterial&&a(w,x)):x.isPointsMaterial?l(w,x,C,T):x.isSpriteMaterial?c(w,x):x.isShadowMaterial?(w.color.value.copy(x.color),w.opacity.value=x.opacity):x.isShaderMaterial&&(x.uniformsNeedUpdate=!1)}function s(w,x){w.opacity.value=x.opacity,x.color&&w.diffuse.value.copy(x.color),x.emissive&&w.emissive.value.copy(x.emissive).multiplyScalar(x.emissiveIntensity),x.map&&(w.map.value=x.map,n(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,n(x.alphaMap,w.alphaMapTransform)),x.bumpMap&&(w.bumpMap.value=x.bumpMap,n(x.bumpMap,w.bumpMapTransform),w.bumpScale.value=x.bumpScale,x.side===Ds&&(w.bumpScale.value*=-1)),x.normalMap&&(w.normalMap.value=x.normalMap,n(x.normalMap,w.normalMapTransform),w.normalScale.value.copy(x.normalScale),x.side===Ds&&w.normalScale.value.negate()),x.displacementMap&&(w.displacementMap.value=x.displacementMap,n(x.displacementMap,w.displacementMapTransform),w.displacementScale.value=x.displacementScale,w.displacementBias.value=x.displacementBias),x.emissiveMap&&(w.emissiveMap.value=x.emissiveMap,n(x.emissiveMap,w.emissiveMapTransform)),x.specularMap&&(w.specularMap.value=x.specularMap,n(x.specularMap,w.specularMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest);const C=e.get(x),T=C.envMap,A=C.envMapRotation;T&&(w.envMap.value=T,df.copy(A),df.x*=-1,df.y*=-1,df.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(df.y*=-1,df.z*=-1),w.envMapRotation.value.setFromMatrix4(KY.makeRotationFromEuler(df)),w.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=x.reflectivity,w.ior.value=x.ior,w.refractionRatio.value=x.refractionRatio),x.lightMap&&(w.lightMap.value=x.lightMap,w.lightMapIntensity.value=x.lightMapIntensity,n(x.lightMap,w.lightMapTransform)),x.aoMap&&(w.aoMap.value=x.aoMap,w.aoMapIntensity.value=x.aoMapIntensity,n(x.aoMap,w.aoMapTransform))}function o(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,x.map&&(w.map.value=x.map,n(x.map,w.mapTransform))}function a(w,x){w.dashSize.value=x.dashSize,w.totalSize.value=x.dashSize+x.gapSize,w.scale.value=x.scale}function l(w,x,C,T){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.size.value=x.size*C,w.scale.value=T*.5,x.map&&(w.map.value=x.map,n(x.map,w.uvTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,n(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function c(w,x){w.diffuse.value.copy(x.color),w.opacity.value=x.opacity,w.rotation.value=x.rotation,x.map&&(w.map.value=x.map,n(x.map,w.mapTransform)),x.alphaMap&&(w.alphaMap.value=x.alphaMap,n(x.alphaMap,w.alphaMapTransform)),x.alphaTest>0&&(w.alphaTest.value=x.alphaTest)}function u(w,x){w.specular.value.copy(x.specular),w.shininess.value=Math.max(x.shininess,1e-4)}function f(w,x){x.gradientMap&&(w.gradientMap.value=x.gradientMap)}function p(w,x){w.metalness.value=x.metalness,x.metalnessMap&&(w.metalnessMap.value=x.metalnessMap,n(x.metalnessMap,w.metalnessMapTransform)),w.roughness.value=x.roughness,x.roughnessMap&&(w.roughnessMap.value=x.roughnessMap,n(x.roughnessMap,w.roughnessMapTransform)),x.envMap&&(w.envMapIntensity.value=x.envMapIntensity)}function m(w,x,C){w.ior.value=x.ior,x.sheen>0&&(w.sheenColor.value.copy(x.sheenColor).multiplyScalar(x.sheen),w.sheenRoughness.value=x.sheenRoughness,x.sheenColorMap&&(w.sheenColorMap.value=x.sheenColorMap,n(x.sheenColorMap,w.sheenColorMapTransform)),x.sheenRoughnessMap&&(w.sheenRoughnessMap.value=x.sheenRoughnessMap,n(x.sheenRoughnessMap,w.sheenRoughnessMapTransform))),x.clearcoat>0&&(w.clearcoat.value=x.clearcoat,w.clearcoatRoughness.value=x.clearcoatRoughness,x.clearcoatMap&&(w.clearcoatMap.value=x.clearcoatMap,n(x.clearcoatMap,w.clearcoatMapTransform)),x.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=x.clearcoatRoughnessMap,n(x.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),x.clearcoatNormalMap&&(w.clearcoatNormalMap.value=x.clearcoatNormalMap,n(x.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(x.clearcoatNormalScale),x.side===Ds&&w.clearcoatNormalScale.value.negate())),x.dispersion>0&&(w.dispersion.value=x.dispersion),x.iridescence>0&&(w.iridescence.value=x.iridescence,w.iridescenceIOR.value=x.iridescenceIOR,w.iridescenceThicknessMinimum.value=x.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=x.iridescenceThicknessRange[1],x.iridescenceMap&&(w.iridescenceMap.value=x.iridescenceMap,n(x.iridescenceMap,w.iridescenceMapTransform)),x.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=x.iridescenceThicknessMap,n(x.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),x.transmission>0&&(w.transmission.value=x.transmission,w.transmissionSamplerMap.value=C.texture,w.transmissionSamplerSize.value.set(C.width,C.height),x.transmissionMap&&(w.transmissionMap.value=x.transmissionMap,n(x.transmissionMap,w.transmissionMapTransform)),w.thickness.value=x.thickness,x.thicknessMap&&(w.thicknessMap.value=x.thicknessMap,n(x.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=x.attenuationDistance,w.attenuationColor.value.copy(x.attenuationColor)),x.anisotropy>0&&(w.anisotropyVector.value.set(x.anisotropy*Math.cos(x.anisotropyRotation),x.anisotropy*Math.sin(x.anisotropyRotation)),x.anisotropyMap&&(w.anisotropyMap.value=x.anisotropyMap,n(x.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=x.specularIntensity,w.specularColor.value.copy(x.specularColor),x.specularColorMap&&(w.specularColorMap.value=x.specularColorMap,n(x.specularColorMap,w.specularColorMapTransform)),x.specularIntensityMap&&(w.specularIntensityMap.value=x.specularIntensityMap,n(x.specularIntensityMap,w.specularIntensityMapTransform))}function _(w,x){x.matcap&&(w.matcap.value=x.matcap)}function S(w,x){const C=e.get(x).light;w.referencePosition.value.setFromMatrixPosition(C.matrixWorld),w.nearDistance.value=C.shadow.camera.near,w.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function JY(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(C,T){const A=T.program;r.uniformBlockBinding(C,A)}function c(C,T){let A=i[C.id];A===void 0&&(_(C),A=u(C),i[C.id]=A,C.addEventListener("dispose",w));const L=T.program;r.updateUBOMapping(C,L);const R=e.render.frame;s[C.id]!==R&&(p(C),s[C.id]=R)}function u(C){const T=f();C.__bindingPointIndex=T;const A=t.createBuffer(),L=C.__size,R=C.usage;return t.bindBuffer(t.UNIFORM_BUFFER,A),t.bufferData(t.UNIFORM_BUFFER,L,R),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,T,A),A}function f(){for(let C=0;C<a;C++)if(o.indexOf(C)===-1)return o.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(C){const T=i[C.id],A=C.uniforms,L=C.__cache;t.bindBuffer(t.UNIFORM_BUFFER,T);for(let R=0,N=A.length;R<N;R++){const z=Array.isArray(A[R])?A[R]:[A[R]];for(let D=0,I=z.length;D<I;D++){const B=z[D];if(m(B,R,D,L)===!0){const q=B.__offset,K=Array.isArray(B.value)?B.value:[B.value];let j=0;for(let J=0;J<K.length;J++){const $=K[J],ie=S($);typeof $=="number"||typeof $=="boolean"?(B.__data[0]=$,t.bufferSubData(t.UNIFORM_BUFFER,q+j,B.__data)):$.isMatrix3?(B.__data[0]=$.elements[0],B.__data[1]=$.elements[1],B.__data[2]=$.elements[2],B.__data[3]=0,B.__data[4]=$.elements[3],B.__data[5]=$.elements[4],B.__data[6]=$.elements[5],B.__data[7]=0,B.__data[8]=$.elements[6],B.__data[9]=$.elements[7],B.__data[10]=$.elements[8],B.__data[11]=0):($.toArray(B.__data,j),j+=ie.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,q,B.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(C,T,A,L){const R=C.value,N=T+"_"+A;if(L[N]===void 0)return typeof R=="number"||typeof R=="boolean"?L[N]=R:L[N]=R.clone(),!0;{const z=L[N];if(typeof R=="number"||typeof R=="boolean"){if(z!==R)return L[N]=R,!0}else if(z.equals(R)===!1)return z.copy(R),!0}return!1}function _(C){const T=C.uniforms;let A=0;const L=16;for(let N=0,z=T.length;N<z;N++){const D=Array.isArray(T[N])?T[N]:[T[N]];for(let I=0,B=D.length;I<B;I++){const q=D[I],K=Array.isArray(q.value)?q.value:[q.value];for(let j=0,J=K.length;j<J;j++){const $=K[j],ie=S($),U=A%L,ee=U%ie.boundary,V=U+ee;A+=ee,V!==0&&L-V<ie.storage&&(A+=L-V),q.__data=new Float32Array(ie.storage/Float32Array.BYTES_PER_ELEMENT),q.__offset=A,A+=ie.storage}}}const R=A%L;return R>0&&(A+=L-R),C.__size=A,C.__cache={},this}function S(C){const T={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(T.boundary=4,T.storage=4):C.isVector2?(T.boundary=8,T.storage=8):C.isVector3||C.isColor?(T.boundary=16,T.storage=12):C.isVector4?(T.boundary=16,T.storage=16):C.isMatrix3?(T.boundary=48,T.storage=48):C.isMatrix4?(T.boundary=64,T.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),T}function w(C){const T=C.target;T.removeEventListener("dispose",w);const A=o.indexOf(T.__bindingPointIndex);o.splice(A,1),t.deleteBuffer(i[T.id]),delete i[T.id],delete s[T.id]}function x(){for(const C in i)t.deleteBuffer(i[C]);o=[],i={},s={}}return{bind:l,update:c,dispose:x}}class ON{constructor(e={}){const{canvas:n=T3(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:p=!1}=e;this.isWebGLRenderer=!0;let m;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");m=r.getContextAttributes().alpha}else m=o;const _=new Uint32Array(4),S=new Int32Array(4);let w=null,x=null;const C=[],T=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=io,this.toneMapping=Cl,this.toneMappingExposure=1;const A=this;let L=!1,R=0,N=0,z=null,D=-1,I=null;const B=new Xn,q=new Xn;let K=null;const j=new It(0);let J=0,$=n.width,ie=n.height,U=1,ee=null,V=null;const G=new Xn(0,0,$,ie),oe=new Xn(0,0,$,ie);let Z=!1;const ue=new o_;let me=!1,we=!1;this.transmissionResolutionScale=1;const Me=new cn,ze=new cn,rt=new se,Ke=new Xn,xt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let We=!1;function Oe(){return z===null?U:1}let re=r;function pt(X,pe){return n.getContext(X,pe)}try{const X={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${e1}`),n.addEventListener("webglcontextlost",He,!1),n.addEventListener("webglcontextrestored",bt,!1),n.addEventListener("webglcontextcreationerror",vt,!1),re===null){const pe="webgl2";if(re=pt(pe,X),re===null)throw pt(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let Ge,ot,Qe,Rt,je,te,Q,be,Ne,$e,ce,Pe,Ve,Ye,St,Xe,_t,kt,Lt,gt,he,Fe,at,fe;function tt(){Ge=new uX(re),Ge.init(),Fe=new DN(re,Ge),ot=new iX(re,Ge,e,Fe),Qe=new GY(re,Ge),ot.reverseDepthBuffer&&p&&Qe.buffers.depth.setReversed(!0),Rt=new dX(re),je=new PY,te=new $Y(re,Ge,Qe,je,ot,Fe,Rt),Q=new oX(A),be=new cX(A),Ne=new xj(re),at=new nX(re,Ne),$e=new hX(re,Ne,Rt,at),ce=new mX(re,$e,Ne,Rt),Lt=new pX(re,ot,te),Xe=new sX(je),Pe=new RY(A,Q,be,Ge,ot,at,Xe),Ve=new ZY(A,je),Ye=new IY,St=new zY(Ge),kt=new tX(A,Q,be,Qe,ce,m,l),_t=new HY(A,ce,ot),fe=new JY(re,Rt,ot,Qe),gt=new rX(re,Ge,Rt),he=new fX(re,Ge,Rt),Rt.programs=Pe.programs,A.capabilities=ot,A.extensions=Ge,A.properties=je,A.renderLists=Ye,A.shadowMap=_t,A.state=Qe,A.info=Rt}tt();const Le=new YY(A,re);this.xr=Le,this.getContext=function(){return re},this.getContextAttributes=function(){return re.getContextAttributes()},this.forceContextLoss=function(){const X=Ge.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=Ge.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return U},this.setPixelRatio=function(X){X!==void 0&&(U=X,this.setSize($,ie,!1))},this.getSize=function(X){return X.set($,ie)},this.setSize=function(X,pe,Ce=!0){if(Le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=X,ie=pe,n.width=Math.floor(X*U),n.height=Math.floor(pe*U),Ce===!0&&(n.style.width=X+"px",n.style.height=pe+"px"),this.setViewport(0,0,X,pe)},this.getDrawingBufferSize=function(X){return X.set($*U,ie*U).floor()},this.setDrawingBufferSize=function(X,pe,Ce){$=X,ie=pe,U=Ce,n.width=Math.floor(X*Ce),n.height=Math.floor(pe*Ce),this.setViewport(0,0,X,pe)},this.getCurrentViewport=function(X){return X.copy(B)},this.getViewport=function(X){return X.copy(G)},this.setViewport=function(X,pe,Ce,xe){X.isVector4?G.set(X.x,X.y,X.z,X.w):G.set(X,pe,Ce,xe),Qe.viewport(B.copy(G).multiplyScalar(U).round())},this.getScissor=function(X){return X.copy(oe)},this.setScissor=function(X,pe,Ce,xe){X.isVector4?oe.set(X.x,X.y,X.z,X.w):oe.set(X,pe,Ce,xe),Qe.scissor(q.copy(oe).multiplyScalar(U).round())},this.getScissorTest=function(){return Z},this.setScissorTest=function(X){Qe.setScissorTest(Z=X)},this.setOpaqueSort=function(X){ee=X},this.setTransparentSort=function(X){V=X},this.getClearColor=function(X){return X.copy(kt.getClearColor())},this.setClearColor=function(){kt.setClearColor.apply(kt,arguments)},this.getClearAlpha=function(){return kt.getClearAlpha()},this.setClearAlpha=function(){kt.setClearAlpha.apply(kt,arguments)},this.clear=function(X=!0,pe=!0,Ce=!0){let xe=0;if(X){let ye=!1;if(z!==null){const Ze=z.texture.format;ye=Ze===l1||Ze===a1||Ze===n_}if(ye){const Ze=z.texture.type,mt=Ze===$a||Ze===Gc||Ze===xm||Ze===Yf||Ze===i1||Ze===s1,dt=kt.getClearColor(),At=kt.getClearAlpha(),Xt=dt.r,Yt=dt.g,ht=dt.b;mt?(_[0]=Xt,_[1]=Yt,_[2]=ht,_[3]=At,re.clearBufferuiv(re.COLOR,0,_)):(S[0]=Xt,S[1]=Yt,S[2]=ht,S[3]=At,re.clearBufferiv(re.COLOR,0,S))}else xe|=re.COLOR_BUFFER_BIT}pe&&(xe|=re.DEPTH_BUFFER_BIT),Ce&&(xe|=re.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),re.clear(xe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",He,!1),n.removeEventListener("webglcontextrestored",bt,!1),n.removeEventListener("webglcontextcreationerror",vt,!1),kt.dispose(),Ye.dispose(),St.dispose(),je.dispose(),Q.dispose(),be.dispose(),ce.dispose(),at.dispose(),fe.dispose(),Pe.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",la),Le.removeEventListener("sessionend",Oo),Pr.stop()};function He(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),L=!0}function bt(){console.log("THREE.WebGLRenderer: Context Restored."),L=!1;const X=Rt.autoReset,pe=_t.enabled,Ce=_t.autoUpdate,xe=_t.needsUpdate,ye=_t.type;tt(),Rt.autoReset=X,_t.enabled=pe,_t.autoUpdate=Ce,_t.needsUpdate=xe,_t.type=ye}function vt(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function Et(X){const pe=X.target;pe.removeEventListener("dispose",Et),_n(pe)}function _n(X){Qn(X),je.remove(X)}function Qn(X){const pe=je.get(X).programs;pe!==void 0&&(pe.forEach(function(Ce){Pe.releaseProgram(Ce)}),X.isShaderMaterial&&Pe.releaseShaderCache(X))}this.renderBufferDirect=function(X,pe,Ce,xe,ye,Ze){pe===null&&(pe=xt);const mt=ye.isMesh&&ye.matrixWorld.determinant()<0,dt=zl(X,pe,Ce,xe,ye);Qe.setMaterial(xe,mt);let At=Ce.index,Xt=1;if(xe.wireframe===!0){if(At=$e.getWireframeAttribute(Ce),At===void 0)return;Xt=2}const Yt=Ce.drawRange,ht=Ce.attributes.position;let Vt=Yt.start*Xt,an=(Yt.start+Yt.count)*Xt;Ze!==null&&(Vt=Math.max(Vt,Ze.start*Xt),an=Math.min(an,(Ze.start+Ze.count)*Xt)),At!==null?(Vt=Math.max(Vt,0),an=Math.min(an,At.count)):ht!=null&&(Vt=Math.max(Vt,0),an=Math.min(an,ht.count));const In=an-Vt;if(In<0||In===1/0)return;at.setup(ye,xe,dt,Ce,At);let Dn,bn=gt;if(At!==null&&(Dn=Ne.get(At),bn=he,bn.setIndex(Dn)),ye.isMesh)xe.wireframe===!0?(Qe.setLineWidth(xe.wireframeLinewidth*Oe()),bn.setMode(re.LINES)):bn.setMode(re.TRIANGLES);else if(ye.isLine){let Bt=xe.linewidth;Bt===void 0&&(Bt=1),Qe.setLineWidth(Bt*Oe()),ye.isLineSegments?bn.setMode(re.LINES):ye.isLineLoop?bn.setMode(re.LINE_LOOP):bn.setMode(re.LINE_STRIP)}else ye.isPoints?bn.setMode(re.POINTS):ye.isSprite&&bn.setMode(re.TRIANGLES);if(ye.isBatchedMesh)if(ye._multiDrawInstances!==null)bn.renderMultiDrawInstances(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount,ye._multiDrawInstances);else if(Ge.get("WEBGL_multi_draw"))bn.renderMultiDraw(ye._multiDrawStarts,ye._multiDrawCounts,ye._multiDrawCount);else{const Bt=ye._multiDrawStarts,Fn=ye._multiDrawCounts,An=ye._multiDrawCount,oi=At?Ne.get(At).bytesPerElement:1,ca=je.get(xe).currentProgram.getUniforms();for(let qr=0;qr<An;qr++)ca.setValue(re,"_gl_DrawID",qr),bn.render(Bt[qr]/oi,Fn[qr])}else if(ye.isInstancedMesh)bn.renderInstances(Vt,In,ye.count);else if(Ce.isInstancedBufferGeometry){const Bt=Ce._maxInstanceCount!==void 0?Ce._maxInstanceCount:1/0,Fn=Math.min(Ce.instanceCount,Bt);bn.renderInstances(Vt,In,Fn)}else bn.render(Vt,In)};function yn(X,pe,Ce){X.transparent===!0&&X.side===_l&&X.forceSinglePass===!1?(X.side=Ds,X.needsUpdate=!0,Ei(X,pe,Ce),X.side=Hc,X.needsUpdate=!0,Ei(X,pe,Ce),X.side=_l):Ei(X,pe,Ce)}this.compile=function(X,pe,Ce=null){Ce===null&&(Ce=X),x=St.get(Ce),x.init(pe),T.push(x),Ce.traverseVisible(function(ye){ye.isLight&&ye.layers.test(pe.layers)&&(x.pushLight(ye),ye.castShadow&&x.pushShadow(ye))}),X!==Ce&&X.traverseVisible(function(ye){ye.isLight&&ye.layers.test(pe.layers)&&(x.pushLight(ye),ye.castShadow&&x.pushShadow(ye))}),x.setupLights();const xe=new Set;return X.traverse(function(ye){if(!(ye.isMesh||ye.isPoints||ye.isLine||ye.isSprite))return;const Ze=ye.material;if(Ze)if(Array.isArray(Ze))for(let mt=0;mt<Ze.length;mt++){const dt=Ze[mt];yn(dt,Ce,ye),xe.add(dt)}else yn(Ze,Ce,ye),xe.add(Ze)}),T.pop(),x=null,xe},this.compileAsync=function(X,pe,Ce=null){const xe=this.compile(X,pe,Ce);return new Promise(ye=>{function Ze(){if(xe.forEach(function(mt){je.get(mt).currentProgram.isReady()&&xe.delete(mt)}),xe.size===0){ye(X);return}setTimeout(Ze,10)}Ge.get("KHR_parallel_shader_compile")!==null?Ze():setTimeout(Ze,10)})};let fr=null;function Sr(X){fr&&fr(X)}function la(){Pr.stop()}function Oo(){Pr.start()}const Pr=new kN;Pr.setAnimationLoop(Sr),typeof self<"u"&&Pr.setContext(self),this.setAnimationLoop=function(X){fr=X,Le.setAnimationLoop(X),X===null?Pr.stop():Pr.start()},Le.addEventListener("sessionstart",la),Le.addEventListener("sessionend",Oo),this.render=function(X,pe){if(pe!==void 0&&pe.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(L===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),Le.enabled===!0&&Le.isPresenting===!0&&(Le.cameraAutoUpdate===!0&&Le.updateCamera(pe),pe=Le.getCamera()),X.isScene===!0&&X.onBeforeRender(A,X,pe,z),x=St.get(X,T.length),x.init(pe),T.push(x),ze.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),ue.setFromProjectionMatrix(ze),we=this.localClippingEnabled,me=Xe.init(this.clippingPlanes,we),w=Ye.get(X,C.length),w.init(),C.push(w),Le.enabled===!0&&Le.isPresenting===!0){const Ze=A.xr.getDepthSensingMesh();Ze!==null&&bi(Ze,pe,-1/0,A.sortObjects)}bi(X,pe,0,A.sortObjects),w.finish(),A.sortObjects===!0&&w.sort(ee,V),We=Le.enabled===!1||Le.isPresenting===!1||Le.hasDepthSensing()===!1,We&&kt.addToRenderList(w,X),this.info.render.frame++,me===!0&&Xe.beginShadows();const Ce=x.state.shadowsArray;_t.render(Ce,X,pe),me===!0&&Xe.endShadows(),this.info.autoReset===!0&&this.info.reset();const xe=w.opaque,ye=w.transmissive;if(x.setupLights(),pe.isArrayCamera){const Ze=pe.cameras;if(ye.length>0)for(let mt=0,dt=Ze.length;mt<dt;mt++){const At=Ze[mt];Yi(xe,ye,X,At)}We&&kt.render(X);for(let mt=0,dt=Ze.length;mt<dt;mt++){const At=Ze[mt];No(w,X,At,At.viewport)}}else ye.length>0&&Yi(xe,ye,X,pe),We&&kt.render(X),No(w,X,pe);z!==null&&N===0&&(te.updateMultisampleRenderTarget(z),te.updateRenderTargetMipmap(z)),X.isScene===!0&&X.onAfterRender(A,X,pe),at.resetDefaultState(),D=-1,I=null,T.pop(),T.length>0?(x=T[T.length-1],me===!0&&Xe.setGlobalState(A.clippingPlanes,x.state.camera)):x=null,C.pop(),C.length>0?w=C[C.length-1]:w=null};function bi(X,pe,Ce,xe){if(X.visible===!1)return;if(X.layers.test(pe.layers)){if(X.isGroup)Ce=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(pe);else if(X.isLight)x.pushLight(X),X.castShadow&&x.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||ue.intersectsSprite(X)){xe&&Ke.setFromMatrixPosition(X.matrixWorld).applyMatrix4(ze);const mt=ce.update(X),dt=X.material;dt.visible&&w.push(X,mt,dt,Ce,Ke.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||ue.intersectsObject(X))){const mt=ce.update(X),dt=X.material;if(xe&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),Ke.copy(X.boundingSphere.center)):(mt.boundingSphere===null&&mt.computeBoundingSphere(),Ke.copy(mt.boundingSphere.center)),Ke.applyMatrix4(X.matrixWorld).applyMatrix4(ze)),Array.isArray(dt)){const At=mt.groups;for(let Xt=0,Yt=At.length;Xt<Yt;Xt++){const ht=At[Xt],Vt=dt[ht.materialIndex];Vt&&Vt.visible&&w.push(X,mt,Vt,Ce,Ke.z,ht)}}else dt.visible&&w.push(X,mt,dt,Ce,Ke.z,null)}}const Ze=X.children;for(let mt=0,dt=Ze.length;mt<dt;mt++)bi(Ze[mt],pe,Ce,xe)}function No(X,pe,Ce,xe){const ye=X.opaque,Ze=X.transmissive,mt=X.transparent;x.setupLightsView(Ce),me===!0&&Xe.setGlobalState(A.clippingPlanes,Ce),xe&&Qe.viewport(B.copy(xe)),ye.length>0&&Us(ye,pe,Ce),Ze.length>0&&Us(Ze,pe,Ce),mt.length>0&&Us(mt,pe,Ce),Qe.buffers.depth.setTest(!0),Qe.buffers.depth.setMask(!0),Qe.buffers.color.setMask(!0),Qe.setPolygonOffset(!1)}function Yi(X,pe,Ce,xe){if((Ce.isScene===!0?Ce.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[xe.id]===void 0&&(x.state.transmissionRenderTarget[xe.id]=new kl(1,1,{generateMipmaps:!0,type:Ge.has("EXT_color_buffer_half_float")||Ge.has("EXT_color_buffer_float")?Wm:$a,minFilter:wl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Gn.workingColorSpace}));const Ze=x.state.transmissionRenderTarget[xe.id],mt=xe.viewport||B;Ze.setSize(mt.z*A.transmissionResolutionScale,mt.w*A.transmissionResolutionScale);const dt=A.getRenderTarget();A.setRenderTarget(Ze),A.getClearColor(j),J=A.getClearAlpha(),J<1&&A.setClearColor(16777215,.5),A.clear(),We&&kt.render(Ce);const At=A.toneMapping;A.toneMapping=Cl;const Xt=xe.viewport;if(xe.viewport!==void 0&&(xe.viewport=void 0),x.setupLightsView(xe),me===!0&&Xe.setGlobalState(A.clippingPlanes,xe),Us(X,Ce,xe),te.updateMultisampleRenderTarget(Ze),te.updateRenderTargetMipmap(Ze),Ge.has("WEBGL_multisampled_render_to_texture")===!1){let Yt=!1;for(let ht=0,Vt=pe.length;ht<Vt;ht++){const an=pe[ht],In=an.object,Dn=an.geometry,bn=an.material,Bt=an.group;if(bn.side===_l&&In.layers.test(xe.layers)){const Fn=bn.side;bn.side=Ds,bn.needsUpdate=!0,Bl(In,Ce,xe,Dn,bn,Bt),bn.side=Fn,bn.needsUpdate=!0,Yt=!0}}Yt===!0&&(te.updateMultisampleRenderTarget(Ze),te.updateRenderTargetMipmap(Ze))}A.setRenderTarget(dt),A.setClearColor(j,J),Xt!==void 0&&(xe.viewport=Xt),A.toneMapping=At}function Us(X,pe,Ce){const xe=pe.isScene===!0?pe.overrideMaterial:null;for(let ye=0,Ze=X.length;ye<Ze;ye++){const mt=X[ye],dt=mt.object,At=mt.geometry,Xt=xe===null?mt.material:xe,Yt=mt.group;dt.layers.test(Ce.layers)&&Bl(dt,pe,Ce,At,Xt,Yt)}}function Bl(X,pe,Ce,xe,ye,Ze){X.onBeforeRender(A,pe,Ce,xe,ye,Ze),X.modelViewMatrix.multiplyMatrices(Ce.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),ye.onBeforeRender(A,pe,Ce,xe,X,Ze),ye.transparent===!0&&ye.side===_l&&ye.forceSinglePass===!1?(ye.side=Ds,ye.needsUpdate=!0,A.renderBufferDirect(Ce,pe,xe,ye,X,Ze),ye.side=Hc,ye.needsUpdate=!0,A.renderBufferDirect(Ce,pe,xe,ye,X,Ze),ye.side=_l):A.renderBufferDirect(Ce,pe,xe,ye,X,Ze),X.onAfterRender(A,pe,Ce,xe,ye,Ze)}function Ei(X,pe,Ce){pe.isScene!==!0&&(pe=xt);const xe=je.get(X),ye=x.state.lights,Ze=x.state.shadowsArray,mt=ye.state.version,dt=Pe.getParameters(X,ye.state,Ze,pe,Ce),At=Pe.getProgramCacheKey(dt);let Xt=xe.programs;xe.environment=X.isMeshStandardMaterial?pe.environment:null,xe.fog=pe.fog,xe.envMap=(X.isMeshStandardMaterial?be:Q).get(X.envMap||xe.environment),xe.envMapRotation=xe.environment!==null&&X.envMap===null?pe.environmentRotation:X.envMapRotation,Xt===void 0&&(X.addEventListener("dispose",Et),Xt=new Map,xe.programs=Xt);let Yt=Xt.get(At);if(Yt!==void 0){if(xe.currentProgram===Yt&&xe.lightsStateVersion===mt)return gs(X,dt),Yt}else dt.uniforms=Pe.getUniforms(X),X.onBeforeCompile(dt,A),Yt=Pe.acquireProgram(dt,At),Xt.set(At,Yt),xe.uniforms=dt.uniforms;const ht=xe.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(ht.clippingPlanes=Xe.uniform),gs(X,dt),xe.needsLights=Jc(X),xe.lightsStateVersion=mt,xe.needsLights&&(ht.ambientLightColor.value=ye.state.ambient,ht.lightProbe.value=ye.state.probe,ht.directionalLights.value=ye.state.directional,ht.directionalLightShadows.value=ye.state.directionalShadow,ht.spotLights.value=ye.state.spot,ht.spotLightShadows.value=ye.state.spotShadow,ht.rectAreaLights.value=ye.state.rectArea,ht.ltc_1.value=ye.state.rectAreaLTC1,ht.ltc_2.value=ye.state.rectAreaLTC2,ht.pointLights.value=ye.state.point,ht.pointLightShadows.value=ye.state.pointShadow,ht.hemisphereLights.value=ye.state.hemi,ht.directionalShadowMap.value=ye.state.directionalShadowMap,ht.directionalShadowMatrix.value=ye.state.directionalShadowMatrix,ht.spotShadowMap.value=ye.state.spotShadowMap,ht.spotLightMatrix.value=ye.state.spotLightMatrix,ht.spotLightMap.value=ye.state.spotLightMap,ht.pointShadowMap.value=ye.state.pointShadowMap,ht.pointShadowMatrix.value=ye.state.pointShadowMatrix),xe.currentProgram=Yt,xe.uniformsList=null,Yt}function Fl(X){if(X.uniformsList===null){const pe=X.currentProgram.getUniforms();X.uniformsList=Wx.seqWithValue(pe.seq,X.uniforms)}return X.uniformsList}function gs(X,pe){const Ce=je.get(X);Ce.outputColorSpace=pe.outputColorSpace,Ce.batching=pe.batching,Ce.batchingColor=pe.batchingColor,Ce.instancing=pe.instancing,Ce.instancingColor=pe.instancingColor,Ce.instancingMorph=pe.instancingMorph,Ce.skinning=pe.skinning,Ce.morphTargets=pe.morphTargets,Ce.morphNormals=pe.morphNormals,Ce.morphColors=pe.morphColors,Ce.morphTargetsCount=pe.morphTargetsCount,Ce.numClippingPlanes=pe.numClippingPlanes,Ce.numIntersection=pe.numClipIntersection,Ce.vertexAlphas=pe.vertexAlphas,Ce.vertexTangents=pe.vertexTangents,Ce.toneMapping=pe.toneMapping}function zl(X,pe,Ce,xe,ye){pe.isScene!==!0&&(pe=xt),te.resetTextureUnits();const Ze=pe.fog,mt=xe.isMeshStandardMaterial?pe.environment:null,dt=z===null?A.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:Zf,At=(xe.isMeshStandardMaterial?be:Q).get(xe.envMap||mt),Xt=xe.vertexColors===!0&&!!Ce.attributes.color&&Ce.attributes.color.itemSize===4,Yt=!!Ce.attributes.tangent&&(!!xe.normalMap||xe.anisotropy>0),ht=!!Ce.morphAttributes.position,Vt=!!Ce.morphAttributes.normal,an=!!Ce.morphAttributes.color;let In=Cl;xe.toneMapped&&(z===null||z.isXRRenderTarget===!0)&&(In=A.toneMapping);const Dn=Ce.morphAttributes.position||Ce.morphAttributes.normal||Ce.morphAttributes.color,bn=Dn!==void 0?Dn.length:0,Bt=je.get(xe),Fn=x.state.lights;if(me===!0&&(we===!0||X!==I)){const ai=X===I&&xe.id===D;Xe.setState(xe,X,ai)}let An=!1;xe.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==Fn.state.version||Bt.outputColorSpace!==dt||ye.isBatchedMesh&&Bt.batching===!1||!ye.isBatchedMesh&&Bt.batching===!0||ye.isBatchedMesh&&Bt.batchingColor===!0&&ye.colorTexture===null||ye.isBatchedMesh&&Bt.batchingColor===!1&&ye.colorTexture!==null||ye.isInstancedMesh&&Bt.instancing===!1||!ye.isInstancedMesh&&Bt.instancing===!0||ye.isSkinnedMesh&&Bt.skinning===!1||!ye.isSkinnedMesh&&Bt.skinning===!0||ye.isInstancedMesh&&Bt.instancingColor===!0&&ye.instanceColor===null||ye.isInstancedMesh&&Bt.instancingColor===!1&&ye.instanceColor!==null||ye.isInstancedMesh&&Bt.instancingMorph===!0&&ye.morphTexture===null||ye.isInstancedMesh&&Bt.instancingMorph===!1&&ye.morphTexture!==null||Bt.envMap!==At||xe.fog===!0&&Bt.fog!==Ze||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==Xe.numPlanes||Bt.numIntersection!==Xe.numIntersection)||Bt.vertexAlphas!==Xt||Bt.vertexTangents!==Yt||Bt.morphTargets!==ht||Bt.morphNormals!==Vt||Bt.morphColors!==an||Bt.toneMapping!==In||Bt.morphTargetsCount!==bn)&&(An=!0):(An=!0,Bt.__version=xe.version);let oi=Bt.currentProgram;An===!0&&(oi=Ei(xe,pe,ye));let ca=!1,qr=!1,Bo=!1;const On=oi.getUniforms(),Ci=Bt.uniforms;if(Qe.useProgram(oi.program)&&(ca=!0,qr=!0,Bo=!0),xe.id!==D&&(D=xe.id,qr=!0),ca||I!==X){Qe.buffers.depth.getReversed()?(Me.copy(X.projectionMatrix),GG(Me),$G(Me),On.setValue(re,"projectionMatrix",Me)):On.setValue(re,"projectionMatrix",X.projectionMatrix),On.setValue(re,"viewMatrix",X.matrixWorldInverse);const Lr=On.map.cameraPosition;Lr!==void 0&&Lr.setValue(re,rt.setFromMatrixPosition(X.matrixWorld)),ot.logarithmicDepthBuffer&&On.setValue(re,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(xe.isMeshPhongMaterial||xe.isMeshToonMaterial||xe.isMeshLambertMaterial||xe.isMeshBasicMaterial||xe.isMeshStandardMaterial||xe.isShaderMaterial)&&On.setValue(re,"isOrthographic",X.isOrthographicCamera===!0),I!==X&&(I=X,qr=!0,Bo=!0)}if(ye.isSkinnedMesh){On.setOptional(re,ye,"bindMatrix"),On.setOptional(re,ye,"bindMatrixInverse");const ai=ye.skeleton;ai&&(ai.boneTexture===null&&ai.computeBoneTexture(),On.setValue(re,"boneTexture",ai.boneTexture,te))}ye.isBatchedMesh&&(On.setOptional(re,ye,"batchingTexture"),On.setValue(re,"batchingTexture",ye._matricesTexture,te),On.setOptional(re,ye,"batchingIdTexture"),On.setValue(re,"batchingIdTexture",ye._indirectTexture,te),On.setOptional(re,ye,"batchingColorTexture"),ye._colorsTexture!==null&&On.setValue(re,"batchingColorTexture",ye._colorsTexture,te));const Xr=Ce.morphAttributes;if((Xr.position!==void 0||Xr.normal!==void 0||Xr.color!==void 0)&&Lt.update(ye,Ce,oi),(qr||Bt.receiveShadow!==ye.receiveShadow)&&(Bt.receiveShadow=ye.receiveShadow,On.setValue(re,"receiveShadow",ye.receiveShadow)),xe.isMeshGouraudMaterial&&xe.envMap!==null&&(Ci.envMap.value=At,Ci.flipEnvMap.value=At.isCubeTexture&&At.isRenderTargetTexture===!1?-1:1),xe.isMeshStandardMaterial&&xe.envMap===null&&pe.environment!==null&&(Ci.envMapIntensity.value=pe.environmentIntensity),qr&&(On.setValue(re,"toneMappingExposure",A.toneMappingExposure),Bt.needsLights&&Ul(Ci,Bo),Ze&&xe.fog===!0&&Ve.refreshFogUniforms(Ci,Ze),Ve.refreshMaterialUniforms(Ci,xe,U,ie,x.state.transmissionRenderTarget[X.id]),Wx.upload(re,Fl(Bt),Ci,te)),xe.isShaderMaterial&&xe.uniformsNeedUpdate===!0&&(Wx.upload(re,Fl(Bt),Ci,te),xe.uniformsNeedUpdate=!1),xe.isSpriteMaterial&&On.setValue(re,"center",ye.center),On.setValue(re,"modelViewMatrix",ye.modelViewMatrix),On.setValue(re,"normalMatrix",ye.normalMatrix),On.setValue(re,"modelMatrix",ye.matrixWorld),xe.isShaderMaterial||xe.isRawShaderMaterial){const ai=xe.uniformsGroups;for(let Lr=0,Nn=ai.length;Lr<Nn;Lr++){const Ki=ai[Lr];fe.update(Ki,oi),fe.bind(Ki,oi)}}return oi}function Ul(X,pe){X.ambientLightColor.needsUpdate=pe,X.lightProbe.needsUpdate=pe,X.directionalLights.needsUpdate=pe,X.directionalLightShadows.needsUpdate=pe,X.pointLights.needsUpdate=pe,X.pointLightShadows.needsUpdate=pe,X.spotLights.needsUpdate=pe,X.spotLightShadows.needsUpdate=pe,X.rectAreaLights.needsUpdate=pe,X.hemisphereLights.needsUpdate=pe}function Jc(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return N},this.getRenderTarget=function(){return z},this.setRenderTargetTextures=function(X,pe,Ce){je.get(X.texture).__webglTexture=pe,je.get(X.depthTexture).__webglTexture=Ce;const xe=je.get(X);xe.__hasExternalTextures=!0,xe.__autoAllocateDepthBuffer=Ce===void 0,xe.__autoAllocateDepthBuffer||Ge.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),xe.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(X,pe){const Ce=je.get(X);Ce.__webglFramebuffer=pe,Ce.__useDefaultFramebuffer=pe===void 0};const Ut=re.createFramebuffer();this.setRenderTarget=function(X,pe=0,Ce=0){z=X,R=pe,N=Ce;let xe=!0,ye=null,Ze=!1,mt=!1;if(X){const At=je.get(X);if(At.__useDefaultFramebuffer!==void 0)Qe.bindFramebuffer(re.FRAMEBUFFER,null),xe=!1;else if(At.__webglFramebuffer===void 0)te.setupRenderTarget(X);else if(At.__hasExternalTextures)te.rebindTextures(X,je.get(X.texture).__webglTexture,je.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const ht=X.depthTexture;if(At.__boundDepthTexture!==ht){if(ht!==null&&je.has(ht)&&(X.width!==ht.image.width||X.height!==ht.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");te.setupDepthRenderbuffer(X)}}const Xt=X.texture;(Xt.isData3DTexture||Xt.isDataArrayTexture||Xt.isCompressedArrayTexture)&&(mt=!0);const Yt=je.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Yt[pe])?ye=Yt[pe][Ce]:ye=Yt[pe],Ze=!0):X.samples>0&&te.useMultisampledRTT(X)===!1?ye=je.get(X).__webglMultisampledFramebuffer:Array.isArray(Yt)?ye=Yt[Ce]:ye=Yt,B.copy(X.viewport),q.copy(X.scissor),K=X.scissorTest}else B.copy(G).multiplyScalar(U).floor(),q.copy(oe).multiplyScalar(U).floor(),K=Z;if(Ce!==0&&(ye=Ut),Qe.bindFramebuffer(re.FRAMEBUFFER,ye)&&xe&&Qe.drawBuffers(X,ye),Qe.viewport(B),Qe.scissor(q),Qe.setScissorTest(K),Ze){const At=je.get(X.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_CUBE_MAP_POSITIVE_X+pe,At.__webglTexture,Ce)}else if(mt){const At=je.get(X.texture),Xt=pe;re.framebufferTextureLayer(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,At.__webglTexture,Ce,Xt)}else if(X!==null&&Ce!==0){const At=je.get(X.texture);re.framebufferTexture2D(re.FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,At.__webglTexture,Ce)}D=-1},this.readRenderTargetPixels=function(X,pe,Ce,xe,ye,Ze,mt){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let dt=je.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&mt!==void 0&&(dt=dt[mt]),dt){Qe.bindFramebuffer(re.FRAMEBUFFER,dt);try{const At=X.texture,Xt=At.format,Yt=At.type;if(!ot.textureFormatReadable(Xt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!ot.textureTypeReadable(Yt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=X.width-xe&&Ce>=0&&Ce<=X.height-ye&&re.readPixels(pe,Ce,xe,ye,Fe.convert(Xt),Fe.convert(Yt),Ze)}finally{const At=z!==null?je.get(z).__webglFramebuffer:null;Qe.bindFramebuffer(re.FRAMEBUFFER,At)}}},this.readRenderTargetPixelsAsync=async function(X,pe,Ce,xe,ye,Ze,mt){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let dt=je.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&mt!==void 0&&(dt=dt[mt]),dt){const At=X.texture,Xt=At.format,Yt=At.type;if(!ot.textureFormatReadable(Xt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!ot.textureTypeReadable(Yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(pe>=0&&pe<=X.width-xe&&Ce>=0&&Ce<=X.height-ye){Qe.bindFramebuffer(re.FRAMEBUFFER,dt);const ht=re.createBuffer();re.bindBuffer(re.PIXEL_PACK_BUFFER,ht),re.bufferData(re.PIXEL_PACK_BUFFER,Ze.byteLength,re.STREAM_READ),re.readPixels(pe,Ce,xe,ye,Fe.convert(Xt),Fe.convert(Yt),0);const Vt=z!==null?je.get(z).__webglFramebuffer:null;Qe.bindFramebuffer(re.FRAMEBUFFER,Vt);const an=re.fenceSync(re.SYNC_GPU_COMMANDS_COMPLETE,0);return re.flush(),await WG(re,an,4),re.bindBuffer(re.PIXEL_PACK_BUFFER,ht),re.getBufferSubData(re.PIXEL_PACK_BUFFER,0,Ze),re.deleteBuffer(ht),re.deleteSync(an),Ze}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(X,pe=null,Ce=0){X.isTexture!==!0&&(zp("WebGLRenderer: copyFramebufferToTexture function signature has changed."),pe=arguments[0]||null,X=arguments[1]);const xe=Math.pow(2,-Ce),ye=Math.floor(X.image.width*xe),Ze=Math.floor(X.image.height*xe),mt=pe!==null?pe.x:0,dt=pe!==null?pe.y:0;te.setTexture2D(X,0),re.copyTexSubImage2D(re.TEXTURE_2D,Ce,0,0,mt,dt,ye,Ze),Qe.unbindTexture()};const ge=re.createFramebuffer(),it=re.createFramebuffer();this.copyTextureToTexture=function(X,pe,Ce=null,xe=null,ye=0,Ze=null){X.isTexture!==!0&&(zp("WebGLRenderer: copyTextureToTexture function signature has changed."),xe=arguments[0]||null,X=arguments[1],pe=arguments[2],Ze=arguments[3]||0,Ce=null),Ze===null&&(ye!==0?(zp("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ze=ye,ye=0):Ze=0);let mt,dt,At,Xt,Yt,ht,Vt,an,In;const Dn=X.isCompressedTexture?X.mipmaps[Ze]:X.image;if(Ce!==null)mt=Ce.max.x-Ce.min.x,dt=Ce.max.y-Ce.min.y,At=Ce.isBox3?Ce.max.z-Ce.min.z:1,Xt=Ce.min.x,Yt=Ce.min.y,ht=Ce.isBox3?Ce.min.z:0;else{const Xr=Math.pow(2,-ye);mt=Math.floor(Dn.width*Xr),dt=Math.floor(Dn.height*Xr),X.isDataArrayTexture?At=Dn.depth:X.isData3DTexture?At=Math.floor(Dn.depth*Xr):At=1,Xt=0,Yt=0,ht=0}xe!==null?(Vt=xe.x,an=xe.y,In=xe.z):(Vt=0,an=0,In=0);const bn=Fe.convert(pe.format),Bt=Fe.convert(pe.type);let Fn;pe.isData3DTexture?(te.setTexture3D(pe,0),Fn=re.TEXTURE_3D):pe.isDataArrayTexture||pe.isCompressedArrayTexture?(te.setTexture2DArray(pe,0),Fn=re.TEXTURE_2D_ARRAY):(te.setTexture2D(pe,0),Fn=re.TEXTURE_2D),re.pixelStorei(re.UNPACK_FLIP_Y_WEBGL,pe.flipY),re.pixelStorei(re.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),re.pixelStorei(re.UNPACK_ALIGNMENT,pe.unpackAlignment);const An=re.getParameter(re.UNPACK_ROW_LENGTH),oi=re.getParameter(re.UNPACK_IMAGE_HEIGHT),ca=re.getParameter(re.UNPACK_SKIP_PIXELS),qr=re.getParameter(re.UNPACK_SKIP_ROWS),Bo=re.getParameter(re.UNPACK_SKIP_IMAGES);re.pixelStorei(re.UNPACK_ROW_LENGTH,Dn.width),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,Dn.height),re.pixelStorei(re.UNPACK_SKIP_PIXELS,Xt),re.pixelStorei(re.UNPACK_SKIP_ROWS,Yt),re.pixelStorei(re.UNPACK_SKIP_IMAGES,ht);const On=X.isDataArrayTexture||X.isData3DTexture,Ci=pe.isDataArrayTexture||pe.isData3DTexture;if(X.isDepthTexture){const Xr=je.get(X),ai=je.get(pe),Lr=je.get(Xr.__renderTarget),Nn=je.get(ai.__renderTarget);Qe.bindFramebuffer(re.READ_FRAMEBUFFER,Lr.__webglFramebuffer),Qe.bindFramebuffer(re.DRAW_FRAMEBUFFER,Nn.__webglFramebuffer);for(let Ki=0;Ki<At;Ki++)On&&(re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,je.get(X).__webglTexture,ye,ht+Ki),re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,je.get(pe).__webglTexture,Ze,In+Ki)),re.blitFramebuffer(Xt,Yt,mt,dt,Vt,an,mt,dt,re.DEPTH_BUFFER_BIT,re.NEAREST);Qe.bindFramebuffer(re.READ_FRAMEBUFFER,null),Qe.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else if(ye!==0||X.isRenderTargetTexture||je.has(X)){const Xr=je.get(X),ai=je.get(pe);Qe.bindFramebuffer(re.READ_FRAMEBUFFER,ge),Qe.bindFramebuffer(re.DRAW_FRAMEBUFFER,it);for(let Lr=0;Lr<At;Lr++)On?re.framebufferTextureLayer(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,Xr.__webglTexture,ye,ht+Lr):re.framebufferTexture2D(re.READ_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,Xr.__webglTexture,ye),Ci?re.framebufferTextureLayer(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,ai.__webglTexture,Ze,In+Lr):re.framebufferTexture2D(re.DRAW_FRAMEBUFFER,re.COLOR_ATTACHMENT0,re.TEXTURE_2D,ai.__webglTexture,Ze),ye!==0?re.blitFramebuffer(Xt,Yt,mt,dt,Vt,an,mt,dt,re.COLOR_BUFFER_BIT,re.NEAREST):Ci?re.copyTexSubImage3D(Fn,Ze,Vt,an,In+Lr,Xt,Yt,mt,dt):re.copyTexSubImage2D(Fn,Ze,Vt,an,Xt,Yt,mt,dt);Qe.bindFramebuffer(re.READ_FRAMEBUFFER,null),Qe.bindFramebuffer(re.DRAW_FRAMEBUFFER,null)}else Ci?X.isDataTexture||X.isData3DTexture?re.texSubImage3D(Fn,Ze,Vt,an,In,mt,dt,At,bn,Bt,Dn.data):pe.isCompressedArrayTexture?re.compressedTexSubImage3D(Fn,Ze,Vt,an,In,mt,dt,At,bn,Dn.data):re.texSubImage3D(Fn,Ze,Vt,an,In,mt,dt,At,bn,Bt,Dn):X.isDataTexture?re.texSubImage2D(re.TEXTURE_2D,Ze,Vt,an,mt,dt,bn,Bt,Dn.data):X.isCompressedTexture?re.compressedTexSubImage2D(re.TEXTURE_2D,Ze,Vt,an,Dn.width,Dn.height,bn,Dn.data):re.texSubImage2D(re.TEXTURE_2D,Ze,Vt,an,mt,dt,bn,Bt,Dn);re.pixelStorei(re.UNPACK_ROW_LENGTH,An),re.pixelStorei(re.UNPACK_IMAGE_HEIGHT,oi),re.pixelStorei(re.UNPACK_SKIP_PIXELS,ca),re.pixelStorei(re.UNPACK_SKIP_ROWS,qr),re.pixelStorei(re.UNPACK_SKIP_IMAGES,Bo),Ze===0&&pe.generateMipmaps&&re.generateMipmap(Fn),Qe.unbindTexture()},this.copyTextureToTexture3D=function(X,pe,Ce=null,xe=null,ye=0){return X.isTexture!==!0&&(zp("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ce=arguments[0]||null,xe=arguments[1]||null,X=arguments[2],pe=arguments[3],ye=arguments[4]||0),zp('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(X,pe,Ce,xe,ye)},this.initRenderTarget=function(X){je.get(X).__webglFramebuffer===void 0&&te.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?te.setTextureCube(X,0):X.isData3DTexture?te.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?te.setTexture2DArray(X,0):te.setTexture2D(X,0),Qe.unbindTexture()},this.resetState=function(){R=0,N=0,z=null,Qe.reset(),at.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Va}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Gn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Gn._getUnpackColorSpace()}}const QY=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:JM,AddEquation:Yu,AddOperation:i3,AdditiveAnimationBlendMode:cA,AdditiveBlending:rT,AgXToneMapping:c3,AlphaFormat:rA,AlwaysCompare:E3,AlwaysDepth:vS,AlwaysStencilFunc:aT,AmbientLight:yN,AnimationAction:TN,AnimationClip:O0,AnimationLoader:m$,AnimationMixer:W$,AnimationObjectGroup:V$,AnimationUtils:h$,ArcCurve:H3,ArrayCamera:bN,ArrowHelper:hj,AttachedBindMode:oT,Audio:EN,AudioAnalyser:P$,AudioContext:IA,AudioListener:A$,AudioLoader:C$,AxesHelper:fj,BackSide:Ds,BasicDepthPacking:m3,BasicShadowMap:FO,BatchedMesh:F3,Bone:gA,BooleanKeyframeTrack:ld,Box2:Z$,Box3:Os,Box3Helper:cj,BoxGeometry:ad,BoxHelper:lj,BufferAttribute:ur,BufferGeometry:Ln,BufferGeometryLoader:wN,ByteType:eA,Cache:Oc,Camera:i_,CameraHelper:aj,CanvasTexture:O9,CapsuleGeometry:_1,CatmullRomCurve3:W3,CineonToneMapping:a3,CircleGeometry:v1,ClampToEdgeWrapping:na,Clock:DA,Color:It,ColorKeyframeTrack:RA,ColorManagement:Gn,CompressedArrayTexture:I9,CompressedCubeTexture:D9,CompressedTexture:g1,CompressedTextureLoader:g$,ConeGeometry:x1,ConstantAlphaFactor:t3,ConstantColorFactor:QO,Controls:pj,CubeCamera:P3,CubeReflectionMapping:Wc,CubeRefractionMapping:eh,CubeTexture:s_,CubeTextureLoader:y$,CubeUVReflectionMapping:Hm,CubicBezierCurve:xA,CubicBezierCurve3:G3,CubicInterpolant:cN,CullFaceBack:nT,CullFaceFront:BO,CullFaceFrontBack:GW,CullFaceNone:NO,Curve:Xa,CurvePath:j3,CustomBlending:zO,CustomToneMapping:l3,CylinderGeometry:Gm,Cylindrical:K$,Data3DTexture:h1,DataArrayTexture:r_,DataTexture:Tl,DataTextureLoader:_$,DataUtils:o9,DecrementStencilOp:iG,DecrementWrapStencilOp:oG,DefaultLoadingManager:fN,DepthFormat:Hf,DepthStencilFormat:Kf,DepthTexture:_A,DetachedBindMode:h3,DirectionalLight:gN,DirectionalLightHelper:oj,DiscreteInterpolant:uN,DodecahedronGeometry:S1,DoubleSide:_l,DstAlphaFactor:XO,DstColorFactor:KO,DynamicCopyUsage:SG,DynamicDrawUsage:mG,DynamicReadUsage:_G,EdgesGeometry:q3,EllipseCurve:y1,EqualCompare:x3,EqualDepth:SS,EqualStencilFunc:uG,EquirectangularReflectionMapping:v0,EquirectangularRefractionMapping:x0,Euler:Io,EventDispatcher:Il,ExtrudeGeometry:b1,FileLoader:$c,Float16BufferAttribute:d9,Float32BufferAttribute:Gt,FloatType:lo,Fog:d1,FogExp2:f1,FramebufferTexture:L9,FrontSide:Hc,Frustum:o_,GLBufferAttribute:Y$,GLSL1:bG,GLSL3:lT,GreaterCompare:S3,GreaterDepth:bS,GreaterEqualCompare:b3,GreaterEqualDepth:wS,GreaterEqualStencilFunc:pG,GreaterStencilFunc:fG,GridHelper:ij,Group:jp,HalfFloatType:Wm,HemisphereLight:dN,HemisphereLightHelper:rj,IcosahedronGeometry:E1,ImageBitmapLoader:E$,ImageLoader:N0,ImageUtils:M3,IncrementStencilOp:rG,IncrementWrapStencilOp:sG,InstancedBufferAttribute:bm,InstancedBufferGeometry:SN,InstancedInterleavedBuffer:X$,InstancedMesh:B3,Int16BufferAttribute:h9,Int32BufferAttribute:f9,Int8BufferAttribute:l9,IntType:r1,InterleavedBuffer:p1,InterleavedBufferAttribute:Jf,Interpolant:u_,InterpolateDiscrete:b0,InterpolateLinear:ZS,InterpolateSmooth:Vx,InvertStencilOp:aG,KeepStencilOp:vf,KeyframeTrack:Ya,LOD:O3,LatheGeometry:a_,Layers:Gf,LessCompare:v3,LessDepth:xS,LessEqualCompare:uA,LessEqualDepth:Xf,LessEqualStencilFunc:hG,LessStencilFunc:cG,Light:uh,LightProbe:xN,Line:th,Line3:J$,LineBasicMaterial:zs,LineCurve:SA,LineCurve3:$3,LineDashedMaterial:oN,LineLoop:z3,LineSegments:Dl,LinearFilter:_i,LinearInterpolant:kA,LinearMipMapLinearFilter:XW,LinearMipMapNearestFilter:qW,LinearMipmapLinearFilter:wl,LinearMipmapNearestFilter:Zy,LinearSRGBColorSpace:Zf,LinearToneMapping:s3,LinearTransfer:C0,Loader:ho,LoaderUtils:dT,LoadingManager:PA,LoopOnce:f3,LoopPingPong:p3,LoopRepeat:d3,LuminanceAlphaFormat:oA,LuminanceFormat:sA,MOUSE:yf,Material:ds,MaterialLoader:P1,MathUtils:VG,Matrix2:FA,Matrix3:wn,Matrix4:cn,MaxEquation:WO,Mesh:si,MeshBasicMaterial:lh,MeshDepthMaterial:TA,MeshDistanceMaterial:MA,MeshLambertMaterial:iN,MeshMatcapMaterial:sN,MeshNormalMaterial:rN,MeshPhongMaterial:tN,MeshPhysicalMaterial:eN,MeshStandardMaterial:CA,MeshToonMaterial:nN,MinEquation:HO,MirroredRepeatWrapping:w0,MixOperation:r3,MultiplyBlending:sT,MultiplyOperation:t_,NearestFilter:qi,NearestMipMapLinearFilter:jW,NearestMipMapNearestFilter:$W,NearestMipmapLinearFilter:Gp,NearestMipmapNearestFilter:QM,NeutralToneMapping:u3,NeverCompare:_3,NeverDepth:_S,NeverStencilFunc:lG,NoBlending:Fc,NoColorSpace:Lc,NoToneMapping:Cl,NormalAnimationBlendMode:c1,NormalBlending:Vf,NotEqualCompare:w3,NotEqualDepth:ES,NotEqualStencilFunc:dG,NumberKeyframeTrack:I0,Object3D:Yn,ObjectLoader:w$,ObjectSpaceNormalMap:y3,OctahedronGeometry:l_,OneFactor:$O,OneMinusConstantAlphaFactor:n3,OneMinusConstantColorFactor:e3,OneMinusDstAlphaFactor:YO,OneMinusDstColorFactor:ZO,OneMinusSrcAlphaFactor:yS,OneMinusSrcColorFactor:qO,OrthographicCamera:Ju,PCFShadowMap:t1,PCFSoftShadowMap:Ky,PMREMGenerator:yT,Path:k0,PerspectiveCamera:$r,Plane:Pc,PlaneGeometry:$m,PlaneHelper:uj,PointLight:mN,PointLightHelper:tj,Points:U3,PointsMaterial:yA,PolarGridHelper:sj,PolyhedronGeometry:ch,PositionalAudio:R$,PropertyBinding:qn,PropertyMixer:CN,QuadraticBezierCurve:wA,QuadraticBezierCurve3:bA,Quaternion:us,QuaternionKeyframeTrack:h_,QuaternionLinearInterpolant:hN,RED_GREEN_RGTC2_Format:YS,RED_RGTC1_Format:lA,REVISION:e1,RGBADepthPacking:g3,RGBAFormat:cs,RGBAIntegerFormat:l1,RGBA_ASTC_10x10_Format:WS,RGBA_ASTC_10x5_Format:US,RGBA_ASTC_10x6_Format:VS,RGBA_ASTC_10x8_Format:HS,RGBA_ASTC_12x10_Format:GS,RGBA_ASTC_12x12_Format:$S,RGBA_ASTC_4x4_Format:LS,RGBA_ASTC_5x4_Format:IS,RGBA_ASTC_5x5_Format:DS,RGBA_ASTC_6x5_Format:OS,RGBA_ASTC_6x6_Format:NS,RGBA_ASTC_8x5_Format:BS,RGBA_ASTC_8x6_Format:FS,RGBA_ASTC_8x8_Format:zS,RGBA_BPTC_Format:n0,RGBA_ETC2_EAC_Format:PS,RGBA_PVRTC_2BPPV1_Format:AS,RGBA_PVRTC_4BPPV1_Format:MS,RGBA_S3TC_DXT1_Format:Qy,RGBA_S3TC_DXT3_Format:e0,RGBA_S3TC_DXT5_Format:t0,RGBDepthPacking:QW,RGBFormat:iA,RGBIntegerFormat:YW,RGB_BPTC_SIGNED_Format:jS,RGB_BPTC_UNSIGNED_Format:qS,RGB_ETC1_Format:kS,RGB_ETC2_Format:RS,RGB_PVRTC_2BPPV1_Format:TS,RGB_PVRTC_4BPPV1_Format:CS,RGB_S3TC_DXT1_Format:Jy,RGDepthPacking:eG,RGFormat:aA,RGIntegerFormat:a1,RawShaderMaterial:Q3,Ray:od,Raycaster:MN,RectAreaLight:_N,RedFormat:o1,RedIntegerFormat:n_,ReinhardToneMapping:o3,RenderTarget:u1,RenderTarget3D:G$,RenderTargetArray:$$,RepeatWrapping:S0,ReplaceStencilOp:nG,ReverseSubtractEquation:VO,RingGeometry:C1,SIGNED_RED_GREEN_RGTC2_Format:KS,SIGNED_RED_RGTC1_Format:XS,SRGBColorSpace:io,SRGBTransfer:or,Scene:pA,ShaderChunk:Pn,ShaderLib:Fa,ShaderMaterial:ja,ShadowMaterial:J3,Shape:$f,ShapeGeometry:T1,ShapePath:dj,ShapeUtils:Ml,ShortType:tA,Skeleton:m1,SkeletonHelper:ej,SkinnedMesh:N3,Source:Pf,Sphere:hs,SphereGeometry:c_,Spherical:mT,SphericalHarmonics3:vN,SplineCurve:EA,SpotLight:pN,SpotLightHelper:Q$,Sprite:D3,SpriteMaterial:mA,SrcAlphaFactor:gS,SrcAlphaSaturateFactor:JO,SrcColorFactor:jO,StaticCopyUsage:xG,StaticDrawUsage:T0,StaticReadUsage:yG,StereoCamera:T$,StreamCopyUsage:wG,StreamDrawUsage:gG,StreamReadUsage:vG,StringKeyframeTrack:cd,SubtractEquation:UO,SubtractiveBlending:iT,TOUCH:_f,TangentSpaceNormalMap:ah,TetrahedronGeometry:M1,Texture:Ur,TextureLoader:xf,TextureUtils:vj,TimestampQuery:EG,TorusGeometry:A1,TorusKnotGeometry:k1,Triangle:oo,TriangleFanDrawMode:JW,TriangleStripDrawMode:ZW,TrianglesDrawMode:KW,TubeGeometry:R1,UVMapping:n1,Uint16BufferAttribute:fA,Uint32BufferAttribute:dA,Uint8BufferAttribute:c9,Uint8ClampedBufferAttribute:u9,Uniform:BA,UniformsGroup:q$,UniformsLib:Tt,UniformsUtils:R3,UnsignedByteType:$a,UnsignedInt248Type:Yf,UnsignedInt5999Type:nA,UnsignedIntType:Gc,UnsignedShort4444Type:i1,UnsignedShort5551Type:s1,UnsignedShortType:xm,VSMShadowMap:Ba,Vector2:qe,Vector3:se,Vector4:Xn,VectorKeyframeTrack:D0,VideoFrameTexture:P9,VideoTexture:V3,WebGL3DRenderTarget:KG,WebGLArrayRenderTarget:YG,WebGLCoordinateSystem:Va,WebGLCubeRenderTarget:L3,WebGLRenderTarget:kl,WebGLRenderer:ON,WebGLUtils:DN,WebGPUCoordinateSystem:M0,WebXRController:Hx,WireframeGeometry:Z3,WrapAroundEnding:E0,ZeroCurvatureEnding:kf,ZeroFactor:GO,ZeroSlopeEnding:Rf,ZeroStencilOp:tG,createCanvasElement:T3},Symbol.toStringTag,{value:"Module"}));var jE={exports:{}},Bu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP;function eK(){return qP||(qP=1,Bu.ConcurrentRoot=1,Bu.ContinuousEventPriority=4,Bu.DefaultEventPriority=16,Bu.DiscreteEventPriority=1,Bu.IdleEventPriority=536870912,Bu.LegacyRoot=0),Bu}var XP;function tK(){return XP||(XP=1,jE.exports=eK()),jE.exports}var Yp=tK();function nK(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const _=u(e);if(!f(p,_)){const S=p;c(p=_,S)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const rK=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YP=rK?Re.useEffect:Re.useLayoutEffect;function iK(t){const e=typeof t=="function"?nK(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=Re.useReducer(w=>w+1,0),o=e.getState(),a=Re.useRef(o),l=Re.useRef(r),c=Re.useRef(i),u=Re.useRef(!1),f=Re.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),YP(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const _=Re.useRef(o);YP(()=>{const w=()=>{try{const C=e.getState(),T=l.current(C);c.current(f.current,T)||(a.current=C,f.current=T,s())}catch{u.current=!0,s()}},x=e.subscribe(w);return e.getState()!==_.current&&w(),x},[]);const S=m?p:f.current;return Re.useDebugValue(S),S};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const sK=t=>typeof t=="object"&&typeof t.then=="function",If=[];function NN(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function BN(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of If)if(NN(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=If.indexOf(i);s!==-1&&If.splice(s,1)},promise:(sK(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(If.push(i),!n)throw i.promise}const oK=(t,e,n)=>BN(t,e,!1,n),aK=(t,e,n)=>void BN(t,e,!0,n),lK=t=>{if(t===void 0||t.length===0)If.splice(0,If.length);else{const e=If.find(n=>NN(t,n.keys,n.equal));e&&e.remove()}};var qE={exports:{}},XE={exports:{}},YE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KP;function cK(){return KP||(KP=1,function(t){function e(U,ee){var V=U.length;U.push(ee);e:for(;0<V;){var G=V-1>>>1,oe=U[G];if(0<i(oe,ee))U[G]=ee,U[V]=oe,V=G;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var ee=U[0],V=U.pop();if(V!==ee){U[0]=V;e:for(var G=0,oe=U.length,Z=oe>>>1;G<Z;){var ue=2*(G+1)-1,me=U[ue],we=ue+1,Me=U[we];if(0>i(me,V))we<oe&&0>i(Me,me)?(U[G]=Me,U[we]=V,G=we):(U[G]=me,U[ue]=V,G=ue);else if(we<oe&&0>i(Me,V))U[G]=Me,U[we]=V,G=we;else break e}}return ee}function i(U,ee){var V=U.sortIndex-ee.sortIndex;return V!==0?V:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,_=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=U)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function A(U){if(S=!1,T(U),!_)if(n(l)!==null)_=!0,$(L);else{var ee=n(c);ee!==null&&ie(A,ee.startTime-U)}}function L(U,ee){_=!1,S&&(S=!1,x(z),z=-1),m=!0;var V=p;try{for(T(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||U&&!B());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var oe=G(f.expirationTime<=ee);ee=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),T(ee)}else r(l);f=n(l)}if(f!==null)var Z=!0;else{var ue=n(c);ue!==null&&ie(A,ue.startTime-ee),Z=!1}return Z}finally{f=null,p=V,m=!1}}var R=!1,N=null,z=-1,D=5,I=-1;function B(){return!(t.unstable_now()-I<D)}function q(){if(N!==null){var U=t.unstable_now();I=U;var ee=!0;try{ee=N(!0,U)}finally{ee?K():(R=!1,N=null)}}else R=!1}var K;if(typeof C=="function")K=function(){C(q)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,J=j.port2;j.port1.onmessage=q,K=function(){J.postMessage(null)}}else K=function(){w(q,0)};function $(U){N=U,R||(R=!0,K())}function ie(U,ee){z=w(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,$(L))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var V=p;p=ee;try{return U()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=p;p=U;try{return ee()}finally{p=V}},t.unstable_scheduleCallback=function(U,ee,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,U){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,U={id:u++,callback:ee,priorityLevel:U,startTime:V,expirationTime:oe,sortIndex:-1},V>G?(U.sortIndex=V,e(c,U),n(l)===null&&U===n(c)&&(S?(x(z),z=-1):S=!0,ie(A,V-G))):(U.sortIndex=oe,e(l,U),_||m||(_=!0,$(L))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var ee=p;return function(){var V=p;p=ee;try{return U.apply(this,arguments)}finally{p=V}}}}(YE)),YE}var ZP;function uK(){return ZP||(ZP=1,XE.exports=cK()),XE.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KE,JP;function hK(){return JP||(JP=1,KE=function(e){var n={},r=zm(),i=uK(),s=Object.assign;function o(g){for(var y="https://reactjs.org/docs/error-decoder.html?invariant="+g,b=1;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),_=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),L=Symbol.iterator;function R(g){return g===null||typeof g!="object"?null:(g=L&&g[L]||g["@@iterator"],typeof g=="function"?g:null)}function N(g){if(g==null)return null;if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g;switch(g){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof g=="object")switch(g.$$typeof){case _:return(g.displayName||"Context")+".Consumer";case m:return(g._context.displayName||"Context")+".Provider";case S:var y=g.render;return g=g.displayName,g||(g=y.displayName||y.name||"",g=g!==""?"ForwardRef("+g+")":"ForwardRef"),g;case C:return y=g.displayName||null,y!==null?y:N(g.type)||"Memo";case T:y=g._payload,g=g._init;try{return N(g(y))}catch{}}return null}function z(g){var y=g.type;switch(g.tag){case 24:return"Cache";case 9:return(y.displayName||"Context")+".Consumer";case 10:return(y._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return g=y.render,g=g.displayName||g.name||"",y.displayName||(g!==""?"ForwardRef("+g+")":"ForwardRef");case 7:return"Fragment";case 5:return y;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(y);case 8:return y===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof y=="function")return y.displayName||y.name||null;if(typeof y=="string")return y}return null}function D(g){var y=g,b=g;if(g.alternate)for(;y.return;)y=y.return;else{g=y;do y=g,y.flags&4098&&(b=y.return),g=y.return;while(g)}return y.tag===3?b:null}function I(g){if(D(g)!==g)throw Error(o(188))}function B(g){var y=g.alternate;if(!y){if(y=D(g),y===null)throw Error(o(188));return y!==g?null:g}for(var b=g,M=y;;){var P=b.return;if(P===null)break;var H=P.alternate;if(H===null){if(M=P.return,M!==null){b=M;continue}break}if(P.child===H.child){for(H=P.child;H;){if(H===b)return I(P),g;if(H===M)return I(P),y;H=H.sibling}throw Error(o(188))}if(b.return!==M.return)b=P,M=H;else{for(var ae=!1,ve=P.child;ve;){if(ve===b){ae=!0,b=P,M=H;break}if(ve===M){ae=!0,M=P,b=H;break}ve=ve.sibling}if(!ae){for(ve=H.child;ve;){if(ve===b){ae=!0,b=H,M=P;break}if(ve===M){ae=!0,M=H,b=P;break}ve=ve.sibling}if(!ae)throw Error(o(189))}}if(b.alternate!==M)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?g:y}function q(g){return g=B(g),g!==null?K(g):null}function K(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){var y=K(g);if(y!==null)return y;g=g.sibling}return null}function j(g){if(g.tag===5||g.tag===6)return g;for(g=g.child;g!==null;){if(g.tag!==4){var y=j(g);if(y!==null)return y}g=g.sibling}return null}var J=Array.isArray,$=e.getPublicInstance,ie=e.getRootHostContext,U=e.getChildHostContext,ee=e.prepareForCommit,V=e.resetAfterCommit,G=e.createInstance,oe=e.appendInitialChild,Z=e.finalizeInitialChildren,ue=e.prepareUpdate,me=e.shouldSetTextContent,we=e.createTextInstance,Me=e.scheduleTimeout,ze=e.cancelTimeout,rt=e.noTimeout,Ke=e.isPrimaryRenderer,xt=e.supportsMutation,We=e.supportsPersistence,Oe=e.supportsHydration,re=e.getInstanceFromNode,pt=e.preparePortalMount,Ge=e.getCurrentEventPriority,ot=e.detachDeletedInstance,Qe=e.supportsMicrotasks,Rt=e.scheduleMicrotask,je=e.supportsTestSelectors,te=e.findFiberRoot,Q=e.getBoundingRect,be=e.getTextContent,Ne=e.isHiddenSubtree,$e=e.matchAccessibilityRole,ce=e.setFocusIfFocusable,Pe=e.setupIntersectionObserver,Ve=e.appendChild,Ye=e.appendChildToContainer,St=e.commitTextUpdate,Xe=e.commitMount,_t=e.commitUpdate,kt=e.insertBefore,Lt=e.insertInContainerBefore,gt=e.removeChild,he=e.removeChildFromContainer,Fe=e.resetTextContent,at=e.hideInstance,fe=e.hideTextInstance,tt=e.unhideInstance,Le=e.unhideTextInstance,He=e.clearContainer,bt=e.cloneInstance,vt=e.createContainerChildSet,Et=e.appendChildToContainerChildSet,_n=e.finalizeContainerChildren,Qn=e.replaceContainerChildren,yn=e.cloneHiddenInstance,fr=e.cloneHiddenTextInstance,Sr=e.canHydrateInstance,la=e.canHydrateTextInstance,Oo=e.canHydrateSuspenseInstance,Pr=e.isSuspenseInstancePending,bi=e.isSuspenseInstanceFallback,No=e.registerSuspenseInstanceRetry,Yi=e.getNextHydratableSibling,Us=e.getFirstHydratableChild,Bl=e.getFirstHydratableChildWithinContainer,Ei=e.getFirstHydratableChildWithinSuspenseInstance,Fl=e.hydrateInstance,gs=e.hydrateTextInstance,zl=e.hydrateSuspenseInstance,Ul=e.getNextHydratableInstanceAfterSuspenseInstance,Jc=e.commitHydratedContainer,Ut=e.commitHydratedSuspenseInstance,ge=e.clearSuspenseBoundary,it=e.clearSuspenseBoundaryFromContainer,X=e.shouldDeleteUnhydratedTailInstances,pe=e.didNotMatchHydratedContainerTextInstance,Ce=e.didNotMatchHydratedTextInstance,xe;function ye(g){if(xe===void 0)try{throw Error()}catch(b){var y=b.stack.trim().match(/\n( *(at )?)/);xe=y&&y[1]||""}return`
`+xe+g}var Ze=!1;function mt(g,y){if(!g||Ze)return"";Ze=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(y)if(y=function(){throw Error()},Object.defineProperty(y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(y,[])}catch(lt){var M=lt}Reflect.construct(g,[],y)}else{try{y.call()}catch(lt){M=lt}g.call(y.prototype)}else{try{throw Error()}catch(lt){M=lt}g()}}catch(lt){if(lt&&M&&typeof lt.stack=="string"){for(var P=lt.stack.split(`
`),H=M.stack.split(`
`),ae=P.length-1,ve=H.length-1;1<=ae&&0<=ve&&P[ae]!==H[ve];)ve--;for(;1<=ae&&0<=ve;ae--,ve--)if(P[ae]!==H[ve]){if(ae!==1||ve!==1)do if(ae--,ve--,0>ve||P[ae]!==H[ve]){var Ue=`
`+P[ae].replace(" at new "," at ");return g.displayName&&Ue.includes("<anonymous>")&&(Ue=Ue.replace("<anonymous>",g.displayName)),Ue}while(1<=ae&&0<=ve);break}}}finally{Ze=!1,Error.prepareStackTrace=b}return(g=g?g.displayName||g.name:"")?ye(g):""}var dt=Object.prototype.hasOwnProperty,At=[],Xt=-1;function Yt(g){return{current:g}}function ht(g){0>Xt||(g.current=At[Xt],At[Xt]=null,Xt--)}function Vt(g,y){Xt++,At[Xt]=g.current,g.current=y}var an={},In=Yt(an),Dn=Yt(!1),bn=an;function Bt(g,y){var b=g.type.contextTypes;if(!b)return an;var M=g.stateNode;if(M&&M.__reactInternalMemoizedUnmaskedChildContext===y)return M.__reactInternalMemoizedMaskedChildContext;var P={},H;for(H in b)P[H]=y[H];return M&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=y,g.__reactInternalMemoizedMaskedChildContext=P),P}function Fn(g){return g=g.childContextTypes,g!=null}function An(){ht(Dn),ht(In)}function oi(g,y,b){if(In.current!==an)throw Error(o(168));Vt(In,y),Vt(Dn,b)}function ca(g,y,b){var M=g.stateNode;if(y=y.childContextTypes,typeof M.getChildContext!="function")return b;M=M.getChildContext();for(var P in M)if(!(P in y))throw Error(o(108,z(g)||"Unknown",P));return s({},b,M)}function qr(g){return g=(g=g.stateNode)&&g.__reactInternalMemoizedMergedChildContext||an,bn=In.current,Vt(In,g),Vt(Dn,Dn.current),!0}function Bo(g,y,b){var M=g.stateNode;if(!M)throw Error(o(169));b?(g=ca(g,y,bn),M.__reactInternalMemoizedMergedChildContext=g,ht(Dn),ht(In),Vt(In,g)):ht(Dn),Vt(Dn,b)}var On=Math.clz32?Math.clz32:ai,Ci=Math.log,Xr=Math.LN2;function ai(g){return g>>>=0,g===0?32:31-(Ci(g)/Xr|0)|0}var Lr=64,Nn=4194304;function Ki(g){switch(g&-g){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return g&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return g}}function dh(g,y){var b=g.pendingLanes;if(b===0)return 0;var M=0,P=g.suspendedLanes,H=g.pingedLanes,ae=b&268435455;if(ae!==0){var ve=ae&~P;ve!==0?M=Ki(ve):(H&=ae,H!==0&&(M=Ki(H)))}else ae=b&~P,ae!==0?M=Ki(ae):H!==0&&(M=Ki(H));if(M===0)return 0;if(y!==0&&y!==M&&!(y&P)&&(P=M&-M,H=y&-y,P>=H||P===16&&(H&4194240)!==0))return y;if(M&4&&(M|=b&16),y=g.entangledLanes,y!==0)for(g=g.entanglements,y&=M;0<y;)b=31-On(y),P=1<<b,M|=g[b],y&=~P;return M}function ag(g,y){switch(g){case 1:case 2:case 4:return y+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k_(g,y){for(var b=g.suspendedLanes,M=g.pingedLanes,P=g.expirationTimes,H=g.pendingLanes;0<H;){var ae=31-On(H),ve=1<<ae,Ue=P[ae];Ue===-1?(!(ve&b)||ve&M)&&(P[ae]=ag(ve,y)):Ue<=y&&(g.expiredLanes|=ve),H&=~ve}}function gd(g){return g=g.pendingLanes&-1073741825,g!==0?g:g&1073741824?1073741824:0}function yd(g){for(var y=[],b=0;31>b;b++)y.push(g);return y}function Vl(g,y,b){g.pendingLanes|=y,y!==536870912&&(g.suspendedLanes=0,g.pingedLanes=0),g=g.eventTimes,y=31-On(y),g[y]=b}function _d(g,y){var b=g.pendingLanes&~y;g.pendingLanes=y,g.suspendedLanes=0,g.pingedLanes=0,g.expiredLanes&=y,g.mutableReadLanes&=y,g.entangledLanes&=y,y=g.entanglements;var M=g.eventTimes;for(g=g.expirationTimes;0<b;){var P=31-On(b),H=1<<P;y[P]=0,M[P]=-1,g[P]=-1,b&=~H}}function Fo(g,y){var b=g.entangledLanes|=y;for(g=g.entanglements;b;){var M=31-On(b),P=1<<M;P&y|g[M]&y&&(g[M]|=y),b&=~P}}var kn=0;function ua(g){return g&=-g,1<g?4<g?g&268435455?16:536870912:4:1}var Hl=i.unstable_scheduleCallback,Qc=i.unstable_cancelCallback,Ja=i.unstable_shouldYield,db=i.unstable_requestPaint,Vr=i.unstable_now,Wl=i.unstable_ImmediatePriority,pb=i.unstable_UserBlockingPriority,vd=i.unstable_NormalPriority,xd=i.unstable_IdlePriority,ph=null,zo=null;function mh(g){if(zo&&typeof zo.onCommitFiberRoot=="function")try{zo.onCommitFiberRoot(ph,g,void 0,(g.current.flags&128)===128)}catch{}}function gh(g,y){return g===y&&(g!==0||1/g===1/y)||g!==g&&y!==y}var Oi=typeof Object.is=="function"?Object.is:gh,Vs=null,Sd=!1,lg=!1;function wd(g){Vs===null?Vs=[g]:Vs.push(g)}function bd(g){Sd=!0,wd(g)}function Hs(){if(!lg&&Vs!==null){lg=!0;var g=0,y=kn;try{var b=Vs;for(kn=1;g<b.length;g++){var M=b[g];do M=M(!0);while(M!==null)}Vs=null,Sd=!1}catch(P){throw Vs!==null&&(Vs=Vs.slice(g+1)),Hl(Wl,Hs),P}finally{kn=y,lg=!1}}return null}var R_=a.ReactCurrentBatchConfig;function po(g,y){if(Oi(g,y))return!0;if(typeof g!="object"||g===null||typeof y!="object"||y===null)return!1;var b=Object.keys(g),M=Object.keys(y);if(b.length!==M.length)return!1;for(M=0;M<b.length;M++){var P=b[M];if(!dt.call(y,P)||!Oi(g[P],y[P]))return!1}return!0}function cg(g){switch(g.tag){case 5:return ye(g.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return g=mt(g.type,!1),g;case 11:return g=mt(g.type.render,!1),g;case 1:return g=mt(g.type,!0),g;default:return""}}function Zi(g,y){if(g&&g.defaultProps){y=s({},y),g=g.defaultProps;for(var b in g)y[b]===void 0&&(y[b]=g[b]);return y}return y}var yh=Yt(null),Gl=null,ha=null,Ed=null;function Ni(){Ed=ha=Gl=null}function $l(g,y,b){Ke?(Vt(yh,y._currentValue),y._currentValue=b):(Vt(yh,y._currentValue2),y._currentValue2=b)}function _h(g){var y=yh.current;ht(yh),Ke?g._currentValue=y:g._currentValue2=y}function jl(g,y,b){for(;g!==null;){var M=g.alternate;if((g.childLanes&y)!==y?(g.childLanes|=y,M!==null&&(M.childLanes|=y)):M!==null&&(M.childLanes&y)!==y&&(M.childLanes|=y),g===b)break;g=g.return}}function eu(g,y){Gl=g,Ed=ha=null,g=g.dependencies,g!==null&&g.firstContext!==null&&(g.lanes&y&&(Jr=!0),g.firstContext=null)}function Ji(g){var y=Ke?g._currentValue:g._currentValue2;if(Ed!==g)if(g={context:g,memoizedValue:y,next:null},ha===null){if(Gl===null)throw Error(o(308));ha=g,Gl.dependencies={lanes:0,firstContext:g}}else ha=ha.next=g;return y}var Ws=null,Gs=!1;function tu(g){g.updateQueue={baseState:g.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ug(g,y){g=g.updateQueue,y.updateQueue===g&&(y.updateQueue={baseState:g.baseState,firstBaseUpdate:g.firstBaseUpdate,lastBaseUpdate:g.lastBaseUpdate,shared:g.shared,effects:g.effects})}function fa(g,y){return{eventTime:g,lane:y,tag:0,payload:null,callback:null,next:null}}function Qa(g,y){var b=g.updateQueue;b!==null&&(b=b.shared,Dr!==null&&g.mode&1&&!(Sn&2)?(g=b.interleaved,g===null?(y.next=y,Ws===null?Ws=[b]:Ws.push(b)):(y.next=g.next,g.next=y),b.interleaved=y):(g=b.pending,g===null?y.next=y:(y.next=g.next,g.next=y),b.pending=y))}function Cd(g,y,b){if(y=y.updateQueue,y!==null&&(y=y.shared,(b&4194240)!==0)){var M=y.lanes;M&=g.pendingLanes,b|=M,y.lanes=b,Fo(g,b)}}function Td(g,y){var b=g.updateQueue,M=g.alternate;if(M!==null&&(M=M.updateQueue,b===M)){var P=null,H=null;if(b=b.firstBaseUpdate,b!==null){do{var ae={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};H===null?P=H=ae:H=H.next=ae,b=b.next}while(b!==null);H===null?P=H=y:H=H.next=y}else P=H=y;b={baseState:M.baseState,firstBaseUpdate:P,lastBaseUpdate:H,shared:M.shared,effects:M.effects},g.updateQueue=b;return}g=b.lastBaseUpdate,g===null?b.firstBaseUpdate=y:g.next=y,b.lastBaseUpdate=y}function Md(g,y,b,M){var P=g.updateQueue;Gs=!1;var H=P.firstBaseUpdate,ae=P.lastBaseUpdate,ve=P.shared.pending;if(ve!==null){P.shared.pending=null;var Ue=ve,lt=Ue.next;Ue.next=null,ae===null?H=lt:ae.next=lt,ae=Ue;var Dt=g.alternate;Dt!==null&&(Dt=Dt.updateQueue,ve=Dt.lastBaseUpdate,ve!==ae&&(ve===null?Dt.firstBaseUpdate=lt:ve.next=lt,Dt.lastBaseUpdate=Ue))}if(H!==null){var mn=P.baseState;ae=0,Dt=lt=Ue=null,ve=H;do{var tn=ve.lane,En=ve.eventTime;if((M&tn)===tn){Dt!==null&&(Dt=Dt.next={eventTime:En,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var Mt=g,di=ve;switch(tn=y,En=b,di.tag){case 1:if(Mt=di.payload,typeof Mt=="function"){mn=Mt.call(En,mn,tn);break e}mn=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=di.payload,tn=typeof Mt=="function"?Mt.call(En,mn,tn):Mt,tn==null)break e;mn=s({},mn,tn);break e;case 2:Gs=!0}}ve.callback!==null&&ve.lane!==0&&(g.flags|=64,tn=P.effects,tn===null?P.effects=[ve]:tn.push(ve))}else En={eventTime:En,lane:tn,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},Dt===null?(lt=Dt=En,Ue=mn):Dt=Dt.next=En,ae|=tn;if(ve=ve.next,ve===null){if(ve=P.shared.pending,ve===null)break;tn=ve,ve=tn.next,tn.next=null,P.lastBaseUpdate=tn,P.shared.pending=null}}while(!0);if(Dt===null&&(Ue=mn),P.baseState=Ue,P.firstBaseUpdate=lt,P.lastBaseUpdate=Dt,y=P.shared.interleaved,y!==null){P=y;do ae|=P.lane,P=P.next;while(P!==y)}else H===null&&(P.shared.lanes=0);Wo|=ae,g.lanes=ae,g.memoizedState=mn}}function P_(g,y,b){if(g=y.effects,y.effects=null,g!==null)for(y=0;y<g.length;y++){var M=g[y],P=M.callback;if(P!==null){if(M.callback=null,M=b,typeof P!="function")throw Error(o(191,P));P.call(M)}}}var L_=new r.Component().refs;function hg(g,y,b,M){y=g.memoizedState,b=b(M,y),b=b==null?y:s({},y,b),g.memoizedState=b,g.lanes===0&&(g.updateQueue.baseState=b)}var Ad={isMounted:function(g){return(g=g._reactInternals)?D(g)===g:!1},enqueueSetState:function(g,y,b){g=g._reactInternals;var M=Wn(),P=So(g),H=fa(M,P);H.payload=y,b!=null&&(H.callback=b),Qa(g,H),y=Ai(g,P,M),y!==null&&Cd(y,g,P)},enqueueReplaceState:function(g,y,b){g=g._reactInternals;var M=Wn(),P=So(g),H=fa(M,P);H.tag=1,H.payload=y,b!=null&&(H.callback=b),Qa(g,H),y=Ai(g,P,M),y!==null&&Cd(y,g,P)},enqueueForceUpdate:function(g,y){g=g._reactInternals;var b=Wn(),M=So(g),P=fa(b,M);P.tag=2,y!=null&&(P.callback=y),Qa(g,P),y=Ai(g,M,b),y!==null&&Cd(y,g,M)}};function fg(g,y,b,M,P,H,ae){return g=g.stateNode,typeof g.shouldComponentUpdate=="function"?g.shouldComponentUpdate(M,H,ae):y.prototype&&y.prototype.isPureReactComponent?!po(b,M)||!po(P,H):!0}function I_(g,y,b){var M=!1,P=an,H=y.contextType;return typeof H=="object"&&H!==null?H=Ji(H):(P=Fn(y)?bn:In.current,M=y.contextTypes,H=(M=M!=null)?Bt(g,P):an),y=new y(b,H),g.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Ad,g.stateNode=y,y._reactInternals=g,M&&(g=g.stateNode,g.__reactInternalMemoizedUnmaskedChildContext=P,g.__reactInternalMemoizedMaskedChildContext=H),y}function D_(g,y,b,M){g=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(b,M),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(b,M),y.state!==g&&Ad.enqueueReplaceState(y,y.state,null)}function dg(g,y,b,M){var P=g.stateNode;P.props=b,P.state=g.memoizedState,P.refs=L_,tu(g);var H=y.contextType;typeof H=="object"&&H!==null?P.context=Ji(H):(H=Fn(y)?bn:In.current,P.context=Bt(g,H)),P.state=g.memoizedState,H=y.getDerivedStateFromProps,typeof H=="function"&&(hg(g,y,H,b),P.state=g.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(y=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),y!==P.state&&Ad.enqueueReplaceState(P,P.state,null),Md(g,b,P,M),P.state=g.memoizedState),typeof P.componentDidMount=="function"&&(g.flags|=4194308)}var nu=[],el=0,kd=null,Rd=0,$s=[],ys=0,ql=null,da=1,pa="";function Xl(g,y){nu[el++]=Rd,nu[el++]=kd,kd=g,Rd=y}function O_(g,y,b){$s[ys++]=da,$s[ys++]=pa,$s[ys++]=ql,ql=g;var M=da;g=pa;var P=32-On(M)-1;M&=~(1<<P),b+=1;var H=32-On(y)+P;if(30<H){var ae=P-P%5;H=(M&(1<<ae)-1).toString(32),M>>=ae,P-=ae,da=1<<32-On(y)+P|b<<P|M,pa=H+g}else da=1<<H|b<<P|M,pa=g}function pg(g){g.return!==null&&(Xl(g,1),O_(g,1,0))}function mg(g){for(;g===kd;)kd=nu[--el],nu[el]=null,Rd=nu[--el],nu[el]=null;for(;g===ql;)ql=$s[--ys],$s[ys]=null,pa=$s[--ys],$s[ys]=null,da=$s[--ys],$s[ys]=null}var Bi=null,li=null,mr=!1,ru=!1,js=null;function gg(g,y){var b=Es(5,null,null,0);b.elementType="DELETED",b.stateNode=y,b.return=g,y=g.deletions,y===null?(g.deletions=[b],g.flags|=16):y.push(b)}function yg(g,y){switch(g.tag){case 5:return y=Sr(y,g.type,g.pendingProps),y!==null?(g.stateNode=y,Bi=g,li=Us(y),!0):!1;case 6:return y=la(y,g.pendingProps),y!==null?(g.stateNode=y,Bi=g,li=null,!0):!1;case 13:if(y=Oo(y),y!==null){var b=ql!==null?{id:da,overflow:pa}:null;return g.memoizedState={dehydrated:y,treeContext:b,retryLane:1073741824},b=Es(18,null,null,0),b.stateNode=y,b.return=g,g.child=b,Bi=g,li=null,!0}return!1;default:return!1}}function Pd(g){return(g.mode&1)!==0&&(g.flags&128)===0}function tl(g){if(mr){var y=li;if(y){var b=y;if(!yg(g,y)){if(Pd(g))throw Error(o(418));y=Yi(b);var M=Bi;y&&yg(g,y)?gg(M,b):(g.flags=g.flags&-4097|2,mr=!1,Bi=g)}}else{if(Pd(g))throw Error(o(418));g.flags=g.flags&-4097|2,mr=!1,Bi=g}}}function N_(g){for(g=g.return;g!==null&&g.tag!==5&&g.tag!==3&&g.tag!==13;)g=g.return;Bi=g}function vh(g){if(!Oe||g!==Bi)return!1;if(!mr)return N_(g),mr=!0,!1;if(g.tag!==3&&(g.tag!==5||X(g.type)&&!me(g.type,g.memoizedProps))){var y=li;if(y){if(Pd(g)){for(g=li;g;)g=Yi(g);throw Error(o(418))}for(;y;)gg(g,y),y=Yi(y)}}if(N_(g),g.tag===13){if(!Oe)throw Error(o(316));if(g=g.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));li=Ul(g)}else li=Bi?Yi(g.stateNode):null;return!0}function iu(){Oe&&(li=Bi=null,ru=mr=!1)}function Ld(g){js===null?js=[g]:js.push(g)}function su(g,y,b){if(g=b.ref,g!==null&&typeof g!="function"&&typeof g!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var M=b.stateNode}if(!M)throw Error(o(147,g));var P=M,H=""+g;return y!==null&&y.ref!==null&&typeof y.ref=="function"&&y.ref._stringRef===H?y.ref:(y=function(ae){var ve=P.refs;ve===L_&&(ve=P.refs={}),ae===null?delete ve[H]:ve[H]=ae},y._stringRef=H,y)}if(typeof g!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,g))}return g}function nl(g,y){throw g=Object.prototype.toString.call(y),Error(o(31,g==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":g))}function ou(g){var y=g._init;return y(g._payload)}function B_(g){function y(ke,Se){if(g){var Be=ke.deletions;Be===null?(ke.deletions=[Se],ke.flags|=16):Be.push(Se)}}function b(ke,Se){if(!g)return null;for(;Se!==null;)y(ke,Se),Se=Se.sibling;return null}function M(ke,Se){for(ke=new Map;Se!==null;)Se.key!==null?ke.set(Se.key,Se):ke.set(Se.index,Se),Se=Se.sibling;return ke}function P(ke,Se){return ke=Aa(ke,Se),ke.index=0,ke.sibling=null,ke}function H(ke,Se,Be){return ke.index=Be,g?(Be=ke.alternate,Be!==null?(Be=Be.index,Be<Se?(ke.flags|=2,Se):Be):(ke.flags|=2,Se)):(ke.flags|=1048576,Se)}function ae(ke){return g&&ke.alternate===null&&(ke.flags|=2),ke}function ve(ke,Se,Be,Ct){return Se===null||Se.tag!==6?(Se=sp(Be,ke.mode,Ct),Se.return=ke,Se):(Se=P(Se,Be),Se.return=ke,Se)}function Ue(ke,Se,Be,Ct){var Wt=Be.type;return Wt===u?Dt(ke,Se,Be.props.children,Ct,Be.key):Se!==null&&(Se.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===T&&ou(Wt)===Se.type)?(Ct=P(Se,Be.props),Ct.ref=su(ke,Se,Be),Ct.return=ke,Ct):(Ct=ip(Be.type,Be.key,Be.props,null,ke.mode,Ct),Ct.ref=su(ke,Se,Be),Ct.return=ke,Ct)}function lt(ke,Se,Be,Ct){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Be.containerInfo||Se.stateNode.implementation!==Be.implementation?(Se=op(Be,ke.mode,Ct),Se.return=ke,Se):(Se=P(Se,Be.children||[]),Se.return=ke,Se)}function Dt(ke,Se,Be,Ct,Wt){return Se===null||Se.tag!==7?(Se=gc(Be,ke.mode,Ct,Wt),Se.return=ke,Se):(Se=P(Se,Be),Se.return=ke,Se)}function mn(ke,Se,Be){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=sp(""+Se,ke.mode,Be),Se.return=ke,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case l:return Be=ip(Se.type,Se.key,Se.props,null,ke.mode,Be),Be.ref=su(ke,null,Se),Be.return=ke,Be;case c:return Se=op(Se,ke.mode,Be),Se.return=ke,Se;case T:var Ct=Se._init;return mn(ke,Ct(Se._payload),Be)}if(J(Se)||R(Se))return Se=gc(Se,ke.mode,Be,null),Se.return=ke,Se;nl(ke,Se)}return null}function tn(ke,Se,Be,Ct){var Wt=Se!==null?Se.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Wt!==null?null:ve(ke,Se,""+Be,Ct);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case l:return Be.key===Wt?Ue(ke,Se,Be,Ct):null;case c:return Be.key===Wt?lt(ke,Se,Be,Ct):null;case T:return Wt=Be._init,tn(ke,Se,Wt(Be._payload),Ct)}if(J(Be)||R(Be))return Wt!==null?null:Dt(ke,Se,Be,Ct,null);nl(ke,Be)}return null}function En(ke,Se,Be,Ct,Wt){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return ke=ke.get(Be)||null,ve(Se,ke,""+Ct,Wt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case l:return ke=ke.get(Ct.key===null?Be:Ct.key)||null,Ue(Se,ke,Ct,Wt);case c:return ke=ke.get(Ct.key===null?Be:Ct.key)||null,lt(Se,ke,Ct,Wt);case T:var vn=Ct._init;return En(ke,Se,Be,vn(Ct._payload),Wt)}if(J(Ct)||R(Ct))return ke=ke.get(Be)||null,Dt(Se,ke,Ct,Wt,null);nl(Se,Ct)}return null}function Mt(ke,Se,Be,Ct){for(var Wt=null,vn=null,gn=Se,Hn=Se=0,Br=null;gn!==null&&Hn<Be.length;Hn++){gn.index>Hn?(Br=gn,gn=null):Br=gn.sibling;var Un=tn(ke,gn,Be[Hn],Ct);if(Un===null){gn===null&&(gn=Br);break}g&&gn&&Un.alternate===null&&y(ke,gn),Se=H(Un,Se,Hn),vn===null?Wt=Un:vn.sibling=Un,vn=Un,gn=Br}if(Hn===Be.length)return b(ke,gn),mr&&Xl(ke,Hn),Wt;if(gn===null){for(;Hn<Be.length;Hn++)gn=mn(ke,Be[Hn],Ct),gn!==null&&(Se=H(gn,Se,Hn),vn===null?Wt=gn:vn.sibling=gn,vn=gn);return mr&&Xl(ke,Hn),Wt}for(gn=M(ke,gn);Hn<Be.length;Hn++)Br=En(gn,ke,Hn,Be[Hn],Ct),Br!==null&&(g&&Br.alternate!==null&&gn.delete(Br.key===null?Hn:Br.key),Se=H(Br,Se,Hn),vn===null?Wt=Br:vn.sibling=Br,vn=Br);return g&&gn.forEach(function(ka){return y(ke,ka)}),mr&&Xl(ke,Hn),Wt}function di(ke,Se,Be,Ct){var Wt=R(Be);if(typeof Wt!="function")throw Error(o(150));if(Be=Wt.call(Be),Be==null)throw Error(o(151));for(var vn=Wt=null,gn=Se,Hn=Se=0,Br=null,Un=Be.next();gn!==null&&!Un.done;Hn++,Un=Be.next()){gn.index>Hn?(Br=gn,gn=null):Br=gn.sibling;var ka=tn(ke,gn,Un.value,Ct);if(ka===null){gn===null&&(gn=Br);break}g&&gn&&ka.alternate===null&&y(ke,gn),Se=H(ka,Se,Hn),vn===null?Wt=ka:vn.sibling=ka,vn=ka,gn=Br}if(Un.done)return b(ke,gn),mr&&Xl(ke,Hn),Wt;if(gn===null){for(;!Un.done;Hn++,Un=Be.next())Un=mn(ke,Un.value,Ct),Un!==null&&(Se=H(Un,Se,Hn),vn===null?Wt=Un:vn.sibling=Un,vn=Un);return mr&&Xl(ke,Hn),Wt}for(gn=M(ke,gn);!Un.done;Hn++,Un=Be.next())Un=En(gn,ke,Hn,Un.value,Ct),Un!==null&&(g&&Un.alternate!==null&&gn.delete(Un.key===null?Hn:Un.key),Se=H(Un,Se,Hn),vn===null?Wt=Un:vn.sibling=Un,vn=Un);return g&&gn.forEach(function(Xg){return y(ke,Xg)}),mr&&Xl(ke,Hn),Wt}function Cs(ke,Se,Be,Ct){if(typeof Be=="object"&&Be!==null&&Be.type===u&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case l:e:{for(var Wt=Be.key,vn=Se;vn!==null;){if(vn.key===Wt){if(Wt=Be.type,Wt===u){if(vn.tag===7){b(ke,vn.sibling),Se=P(vn,Be.props.children),Se.return=ke,ke=Se;break e}}else if(vn.elementType===Wt||typeof Wt=="object"&&Wt!==null&&Wt.$$typeof===T&&ou(Wt)===vn.type){b(ke,vn.sibling),Se=P(vn,Be.props),Se.ref=su(ke,vn,Be),Se.return=ke,ke=Se;break e}b(ke,vn);break}else y(ke,vn);vn=vn.sibling}Be.type===u?(Se=gc(Be.props.children,ke.mode,Ct,Be.key),Se.return=ke,ke=Se):(Ct=ip(Be.type,Be.key,Be.props,null,ke.mode,Ct),Ct.ref=su(ke,Se,Be),Ct.return=ke,ke=Ct)}return ae(ke);case c:e:{for(vn=Be.key;Se!==null;){if(Se.key===vn)if(Se.tag===4&&Se.stateNode.containerInfo===Be.containerInfo&&Se.stateNode.implementation===Be.implementation){b(ke,Se.sibling),Se=P(Se,Be.children||[]),Se.return=ke,ke=Se;break e}else{b(ke,Se);break}else y(ke,Se);Se=Se.sibling}Se=op(Be,ke.mode,Ct),Se.return=ke,ke=Se}return ae(ke);case T:return vn=Be._init,Cs(ke,Se,vn(Be._payload),Ct)}if(J(Be))return Mt(ke,Se,Be,Ct);if(R(Be))return di(ke,Se,Be,Ct);nl(ke,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"?(Be=""+Be,Se!==null&&Se.tag===6?(b(ke,Se.sibling),Se=P(Se,Be),Se.return=ke,ke=Se):(b(ke,Se),Se=sp(Be,ke.mode,Ct),Se.return=ke,ke=Se),ae(ke)):b(ke,Se)}return Cs}var ma=B_(!0),F_=B_(!1),au={},Qi=Yt(au),Yl=Yt(au),Kl=Yt(au);function mo(g){if(g===au)throw Error(o(174));return g}function Id(g,y){Vt(Kl,y),Vt(Yl,g),Vt(Qi,au),g=ie(y),ht(Qi),Vt(Qi,g)}function lu(){ht(Qi),ht(Yl),ht(Kl)}function z_(g){var y=mo(Kl.current),b=mo(Qi.current);y=U(b,g.type,y),b!==y&&(Vt(Yl,g),Vt(Qi,y))}function _g(g){Yl.current===g&&(ht(Qi),ht(Yl))}var wr=Yt(0);function Dd(g){for(var y=g;y!==null;){if(y.tag===13){var b=y.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||Pr(b)||bi(b)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if(y.flags&128)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}var _s=[];function Zl(){for(var g=0;g<_s.length;g++){var y=_s[g];Ke?y._workInProgressVersionPrimary=null:y._workInProgressVersionSecondary=null}_s.length=0}var xh=a.ReactCurrentDispatcher,vs=a.ReactCurrentBatchConfig,Jl=0,br=null,Yr=null,Kr=null,Od=!1,Uo=!1,Ql=0,Sh=0;function Zr(){throw Error(o(321))}function Nd(g,y){if(y===null)return!1;for(var b=0;b<y.length&&b<g.length;b++)if(!Oi(g[b],y[b]))return!1;return!0}function cu(g,y,b,M,P,H){if(Jl=H,br=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,xh.current=g===null||g.memoizedState===null?Eg:Cg,g=b(M,P),Uo){H=0;do{if(Uo=!1,Ql=0,25<=H)throw Error(o(301));H+=1,Kr=Yr=null,y.updateQueue=null,xh.current=Tg,g=b(M,P)}while(Uo)}if(xh.current=du,y=Yr!==null&&Yr.next!==null,Jl=0,Kr=Yr=br=null,Od=!1,y)throw Error(o(300));return g}function rl(){var g=Ql!==0;return Ql=0,g}function go(){var g={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?br.memoizedState=Kr=g:Kr=Kr.next=g,Kr}function yo(){if(Yr===null){var g=br.alternate;g=g!==null?g.memoizedState:null}else g=Yr.next;var y=Kr===null?br.memoizedState:Kr.next;if(y!==null)Kr=y,Yr=g;else{if(g===null)throw Error(o(310));Yr=g,g={memoizedState:Yr.memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},Kr===null?br.memoizedState=Kr=g:Kr=Kr.next=g}return Kr}function Vo(g,y){return typeof y=="function"?y(g):y}function wh(g){var y=yo(),b=y.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=g;var M=Yr,P=M.baseQueue,H=b.pending;if(H!==null){if(P!==null){var ae=P.next;P.next=H.next,H.next=ae}M.baseQueue=P=H,b.pending=null}if(P!==null){H=P.next,M=M.baseState;var ve=ae=null,Ue=null,lt=H;do{var Dt=lt.lane;if((Jl&Dt)===Dt)Ue!==null&&(Ue=Ue.next={lane:0,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null}),M=lt.hasEagerState?lt.eagerState:g(M,lt.action);else{var mn={lane:Dt,action:lt.action,hasEagerState:lt.hasEagerState,eagerState:lt.eagerState,next:null};Ue===null?(ve=Ue=mn,ae=M):Ue=Ue.next=mn,br.lanes|=Dt,Wo|=Dt}lt=lt.next}while(lt!==null&&lt!==H);Ue===null?ae=M:Ue.next=ve,Oi(M,y.memoizedState)||(Jr=!0),y.memoizedState=M,y.baseState=ae,y.baseQueue=Ue,b.lastRenderedState=M}if(g=b.interleaved,g!==null){P=g;do H=P.lane,br.lanes|=H,Wo|=H,P=P.next;while(P!==g)}else P===null&&(b.lanes=0);return[y.memoizedState,b.dispatch]}function bh(g){var y=yo(),b=y.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=g;var M=b.dispatch,P=b.pending,H=y.memoizedState;if(P!==null){b.pending=null;var ae=P=P.next;do H=g(H,ae.action),ae=ae.next;while(ae!==P);Oi(H,y.memoizedState)||(Jr=!0),y.memoizedState=H,y.baseQueue===null&&(y.baseState=H),b.lastRenderedState=H}return[H,M]}function vg(){}function xg(g,y){var b=br,M=yo(),P=y(),H=!Oi(M.memoizedState,P);if(H&&(M.memoizedState=P,Jr=!0),M=M.queue,uu(ga.bind(null,b,M,g),[g]),M.getSnapshot!==y||H||Kr!==null&&Kr.memoizedState.tag&1){if(b.flags|=2048,Ch(9,wg.bind(null,b,M,P,y),void 0,null),Dr===null)throw Error(o(349));Jl&30||Sg(b,y,P)}return P}function Sg(g,y,b){g.flags|=16384,g={getSnapshot:y,value:b},y=br.updateQueue,y===null?(y={lastEffect:null,stores:null},br.updateQueue=y,y.stores=[g]):(b=y.stores,b===null?y.stores=[g]:b.push(g))}function wg(g,y,b,M){y.value=b,y.getSnapshot=M,Bd(y)&&Ai(g,1,-1)}function ga(g,y,b){return b(function(){Bd(y)&&Ai(g,1,-1)})}function Bd(g){var y=g.getSnapshot;g=g.value;try{var b=y();return!Oi(g,b)}catch{return!0}}function Eh(g){var y=go();return typeof g=="function"&&(g=g()),y.memoizedState=y.baseState=g,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:g},y.queue=g,g=g.dispatch=mb.bind(null,br,g),[y.memoizedState,g]}function Ch(g,y,b,M){return g={tag:g,create:y,destroy:b,deps:M,next:null},y=br.updateQueue,y===null?(y={lastEffect:null,stores:null},br.updateQueue=y,y.lastEffect=g.next=g):(b=y.lastEffect,b===null?y.lastEffect=g.next=g:(M=b.next,b.next=g,g.next=M,y.lastEffect=g)),g}function U_(){return yo().memoizedState}function il(g,y,b,M){var P=go();br.flags|=g,P.memoizedState=Ch(1|y,b,void 0,M===void 0?null:M)}function Fd(g,y,b,M){var P=yo();M=M===void 0?null:M;var H=void 0;if(Yr!==null){var ae=Yr.memoizedState;if(H=ae.destroy,M!==null&&Nd(M,ae.deps)){P.memoizedState=Ch(y,b,H,M);return}}br.flags|=g,P.memoizedState=Ch(1|y,b,H,M)}function zd(g,y){return il(8390656,8,g,y)}function uu(g,y){return Fd(2048,8,g,y)}function ar(g,y){return Fd(4,2,g,y)}function Ud(g,y){return Fd(4,4,g,y)}function Th(g,y){if(typeof y=="function")return g=g(),y(g),function(){y(null)};if(y!=null)return g=g(),y.current=g,function(){y.current=null}}function hu(g,y,b){return b=b!=null?b.concat([g]):null,Fd(4,4,Th.bind(null,y,g),b)}function Vd(){}function Hd(g,y){var b=yo();y=y===void 0?null:y;var M=b.memoizedState;return M!==null&&y!==null&&Nd(y,M[1])?M[0]:(b.memoizedState=[g,y],g)}function fu(g,y){var b=yo();y=y===void 0?null:y;var M=b.memoizedState;return M!==null&&y!==null&&Nd(y,M[1])?M[0]:(g=g(),b.memoizedState=[g,y],g)}function Wd(g,y){var b=kn;kn=b!==0&&4>b?b:4,g(!0);var M=vs.transition;vs.transition={};try{g(!1),y()}finally{kn=b,vs.transition=M}}function ec(){return yo().memoizedState}function V_(g,y,b){var M=So(g);b={lane:M,action:b,hasEagerState:!1,eagerState:null,next:null},H_(g)?bg(y,b):(Mh(g,y,b),b=Wn(),g=Ai(g,M,b),g!==null&&Ah(g,y,M))}function mb(g,y,b){var M=So(g),P={lane:M,action:b,hasEagerState:!1,eagerState:null,next:null};if(H_(g))bg(y,P);else{Mh(g,y,P);var H=g.alternate;if(g.lanes===0&&(H===null||H.lanes===0)&&(H=y.lastRenderedReducer,H!==null))try{var ae=y.lastRenderedState,ve=H(ae,b);if(P.hasEagerState=!0,P.eagerState=ve,Oi(ve,ae))return}catch{}finally{}b=Wn(),g=Ai(g,M,b),g!==null&&Ah(g,y,M)}}function H_(g){var y=g.alternate;return g===br||y!==null&&y===br}function bg(g,y){Uo=Od=!0;var b=g.pending;b===null?y.next=y:(y.next=b.next,b.next=y),g.pending=y}function Mh(g,y,b){Dr!==null&&g.mode&1&&!(Sn&2)?(g=y.interleaved,g===null?(b.next=b,Ws===null?Ws=[y]:Ws.push(y)):(b.next=g.next,g.next=b),y.interleaved=b):(g=y.pending,g===null?b.next=b:(b.next=g.next,g.next=b),y.pending=b)}function Ah(g,y,b){if(b&4194240){var M=y.lanes;M&=g.pendingLanes,b|=M,y.lanes=b,Fo(g,b)}}var du={readContext:Ji,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},Eg={readContext:Ji,useCallback:function(g,y){return go().memoizedState=[g,y===void 0?null:y],g},useContext:Ji,useEffect:zd,useImperativeHandle:function(g,y,b){return b=b!=null?b.concat([g]):null,il(4194308,4,Th.bind(null,y,g),b)},useLayoutEffect:function(g,y){return il(4194308,4,g,y)},useInsertionEffect:function(g,y){return il(4,2,g,y)},useMemo:function(g,y){var b=go();return y=y===void 0?null:y,g=g(),b.memoizedState=[g,y],g},useReducer:function(g,y,b){var M=go();return y=b!==void 0?b(y):y,M.memoizedState=M.baseState=y,g={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g,lastRenderedState:y},M.queue=g,g=g.dispatch=V_.bind(null,br,g),[M.memoizedState,g]},useRef:function(g){var y=go();return g={current:g},y.memoizedState=g},useState:Eh,useDebugValue:Vd,useDeferredValue:function(g){var y=Eh(g),b=y[0],M=y[1];return zd(function(){var P=vs.transition;vs.transition={};try{M(g)}finally{vs.transition=P}},[g]),b},useTransition:function(){var g=Eh(!1),y=g[0];return g=Wd.bind(null,g[1]),go().memoizedState=g,[y,g]},useMutableSource:function(){},useSyncExternalStore:function(g,y,b){var M=br,P=go();if(mr){if(b===void 0)throw Error(o(407));b=b()}else{if(b=y(),Dr===null)throw Error(o(349));Jl&30||Sg(M,y,b)}P.memoizedState=b;var H={value:b,getSnapshot:y};return P.queue=H,zd(ga.bind(null,M,H,g),[g]),M.flags|=2048,Ch(9,wg.bind(null,M,H,b,y),void 0,null),b},useId:function(){var g=go(),y=Dr.identifierPrefix;if(mr){var b=pa,M=da;b=(M&~(1<<32-On(M)-1)).toString(32)+b,y=":"+y+"R"+b,b=Ql++,0<b&&(y+="H"+b.toString(32)),y+=":"}else b=Sh++,y=":"+y+"r"+b.toString(32)+":";return g.memoizedState=y},unstable_isNewReconciler:!1},Cg={readContext:Ji,useCallback:Hd,useContext:Ji,useEffect:uu,useImperativeHandle:hu,useInsertionEffect:ar,useLayoutEffect:Ud,useMemo:fu,useReducer:wh,useRef:U_,useState:function(){return wh(Vo)},useDebugValue:Vd,useDeferredValue:function(g){var y=wh(Vo),b=y[0],M=y[1];return uu(function(){var P=vs.transition;vs.transition={};try{M(g)}finally{vs.transition=P}},[g]),b},useTransition:function(){var g=wh(Vo)[0],y=yo().memoizedState;return[g,y]},useMutableSource:vg,useSyncExternalStore:xg,useId:ec,unstable_isNewReconciler:!1},Tg={readContext:Ji,useCallback:Hd,useContext:Ji,useEffect:uu,useImperativeHandle:hu,useInsertionEffect:ar,useLayoutEffect:Ud,useMemo:fu,useReducer:bh,useRef:U_,useState:function(){return bh(Vo)},useDebugValue:Vd,useDeferredValue:function(g){var y=bh(Vo),b=y[0],M=y[1];return uu(function(){var P=vs.transition;vs.transition={};try{M(g)}finally{vs.transition=P}},[g]),b},useTransition:function(){var g=bh(Vo)[0],y=yo().memoizedState;return[g,y]},useMutableSource:vg,useSyncExternalStore:xg,useId:ec,unstable_isNewReconciler:!1};function Mg(g,y){try{var b="",M=y;do b+=cg(M),M=M.return;while(M);var P=b}catch(H){P=`
Error generating stack: `+H.message+`
`+H.stack}return{value:g,source:y,stack:P}}function Gd(g,y){try{console.error(y.value)}catch(b){setTimeout(function(){throw b})}}var gb=typeof WeakMap=="function"?WeakMap:Map;function W_(g,y,b){b=fa(-1,b),b.tag=3,b.payload={element:null};var M=y.value;return b.callback=function(){vu||(vu=!0,pr=M),Gd(g,y)},b}function $d(g,y,b){b=fa(-1,b),b.tag=3;var M=g.type.getDerivedStateFromError;if(typeof M=="function"){var P=y.value;b.payload=function(){return M(P)},b.callback=function(){Gd(g,y)}}var H=g.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(b.callback=function(){Gd(g,y),typeof M!="function"&&(xo===null?xo=new Set([this]):xo.add(this));var ae=y.stack;this.componentDidCatch(y.value,{componentStack:ae!==null?ae:""})}),b}function ya(g,y,b){var M=g.pingCache;if(M===null){M=g.pingCache=new gb;var P=new Set;M.set(y,P)}else P=M.get(y),P===void 0&&(P=new Set,M.set(y,P));P.has(b)||(P.add(b),g=$g.bind(null,g,y,b),y.then(g,g))}function Ag(g){do{var y;if((y=g.tag===13)&&(y=g.memoizedState,y=y!==null?y.dehydrated!==null:!0),y)return g;g=g.return}while(g!==null);return null}function tc(g,y,b,M,P){return g.mode&1?(g.flags|=65536,g.lanes=P,g):(g===y?g.flags|=65536:(g.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(y=fa(-1,1),y.tag=2,Qa(b,y))),b.lanes|=1),g)}function Hr(g){g.flags|=4}function pu(g,y){if(g!==null&&g.child===y.child)return!0;if(y.flags&16)return!1;for(g=y.child;g!==null;){if(g.flags&12854||g.subtreeFlags&12854)return!1;g=g.sibling}return!0}var xs,nc,jd,qd;if(xt)xs=function(g,y){for(var b=y.child;b!==null;){if(b.tag===5||b.tag===6)oe(g,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===y)break;for(;b.sibling===null;){if(b.return===null||b.return===y)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},nc=function(){},jd=function(g,y,b,M,P){if(g=g.memoizedProps,g!==M){var H=y.stateNode,ae=mo(Qi.current);b=ue(H,b,g,M,P,ae),(y.updateQueue=b)&&Hr(y)}},qd=function(g,y,b,M){b!==M&&Hr(y)};else if(We){xs=function(g,y,b,M){for(var P=y.child;P!==null;){if(P.tag===5){var H=P.stateNode;b&&M&&(H=yn(H,P.type,P.memoizedProps,P)),oe(g,H)}else if(P.tag===6)H=P.stateNode,b&&M&&(H=fr(H,P.memoizedProps,P)),oe(g,H);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)H=P.child,H!==null&&(H.return=P),xs(g,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===y)break;for(;P.sibling===null;){if(P.return===null||P.return===y)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var sl=function(g,y,b,M){for(var P=y.child;P!==null;){if(P.tag===5){var H=P.stateNode;b&&M&&(H=yn(H,P.type,P.memoizedProps,P)),Et(g,H)}else if(P.tag===6)H=P.stateNode,b&&M&&(H=fr(H,P.memoizedProps,P)),Et(g,H);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)H=P.child,H!==null&&(H.return=P),sl(g,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===y)break;for(;P.sibling===null;){if(P.return===null||P.return===y)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};nc=function(g,y){var b=y.stateNode;if(!pu(g,y)){g=b.containerInfo;var M=vt(g);sl(M,y,!1,!1),b.pendingChildren=M,Hr(y),_n(g,M)}},jd=function(g,y,b,M,P){var H=g.stateNode,ae=g.memoizedProps;if((g=pu(g,y))&&ae===M)y.stateNode=H;else{var ve=y.stateNode,Ue=mo(Qi.current),lt=null;ae!==M&&(lt=ue(ve,b,ae,M,P,Ue)),g&&lt===null?y.stateNode=H:(H=bt(H,lt,b,ae,M,y,g,ve),Z(H,b,M,P,Ue)&&Hr(y),y.stateNode=H,g?Hr(y):xs(H,y,!1,!1))}},qd=function(g,y,b,M){b!==M?(g=mo(Kl.current),b=mo(Qi.current),y.stateNode=we(M,g,b,y),Hr(y)):y.stateNode=g.stateNode}}else nc=function(){},jd=function(){},qd=function(){};function _a(g,y){if(!mr)switch(g.tailMode){case"hidden":y=g.tail;for(var b=null;y!==null;)y.alternate!==null&&(b=y),y=y.sibling;b===null?g.tail=null:b.sibling=null;break;case"collapsed":b=g.tail;for(var M=null;b!==null;)b.alternate!==null&&(M=b),b=b.sibling;M===null?y||g.tail===null?g.tail=null:g.tail.sibling=null:M.sibling=null}}function Ir(g){var y=g.alternate!==null&&g.alternate.child===g.child,b=0,M=0;if(y)for(var P=g.child;P!==null;)b|=P.lanes|P.childLanes,M|=P.subtreeFlags&14680064,M|=P.flags&14680064,P.return=g,P=P.sibling;else for(P=g.child;P!==null;)b|=P.lanes|P.childLanes,M|=P.subtreeFlags,M|=P.flags,P.return=g,P=P.sibling;return g.subtreeFlags|=M,g.childLanes=b,y}function Xd(g,y,b){var M=y.pendingProps;switch(mg(y),y.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(y),null;case 1:return Fn(y.type)&&An(),Ir(y),null;case 3:return M=y.stateNode,lu(),ht(Dn),ht(In),Zl(),M.pendingContext&&(M.context=M.pendingContext,M.pendingContext=null),(g===null||g.child===null)&&(vh(y)?Hr(y):g===null||g.memoizedState.isDehydrated&&!(y.flags&256)||(y.flags|=1024,js!==null&&(Vh(js),js=null))),nc(g,y),Ir(y),null;case 5:_g(y),b=mo(Kl.current);var P=y.type;if(g!==null&&y.stateNode!=null)jd(g,y,P,M,b),g.ref!==y.ref&&(y.flags|=512,y.flags|=2097152);else{if(!M){if(y.stateNode===null)throw Error(o(166));return Ir(y),null}if(g=mo(Qi.current),vh(y)){if(!Oe)throw Error(o(175));g=Fl(y.stateNode,y.type,y.memoizedProps,b,g,y,!ru),y.updateQueue=g,g!==null&&Hr(y)}else{var H=G(P,M,b,g,y);xs(H,y,!1,!1),y.stateNode=H,Z(H,P,M,b,g)&&Hr(y)}y.ref!==null&&(y.flags|=512,y.flags|=2097152)}return Ir(y),null;case 6:if(g&&y.stateNode!=null)qd(g,y,g.memoizedProps,M);else{if(typeof M!="string"&&y.stateNode===null)throw Error(o(166));if(g=mo(Kl.current),b=mo(Qi.current),vh(y)){if(!Oe)throw Error(o(176));if(g=y.stateNode,M=y.memoizedProps,(b=gs(g,M,y,!ru))&&(P=Bi,P!==null))switch(H=(P.mode&1)!==0,P.tag){case 3:pe(P.stateNode.containerInfo,g,M,H);break;case 5:Ce(P.type,P.memoizedProps,P.stateNode,g,M,H)}b&&Hr(y)}else y.stateNode=we(M,g,b,y)}return Ir(y),null;case 13:if(ht(wr),M=y.memoizedState,mr&&li!==null&&y.mode&1&&!(y.flags&128)){for(g=li;g;)g=Yi(g);return iu(),y.flags|=98560,y}if(M!==null&&M.dehydrated!==null){if(M=vh(y),g===null){if(!M)throw Error(o(318));if(!Oe)throw Error(o(344));if(g=y.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(o(317));zl(g,y)}else iu(),!(y.flags&128)&&(y.memoizedState=null),y.flags|=4;return Ir(y),null}return js!==null&&(Vh(js),js=null),y.flags&128?(y.lanes=b,y):(M=M!==null,b=!1,g===null?vh(y):b=g.memoizedState!==null,M&&!b&&(y.child.flags|=8192,y.mode&1&&(g===null||wr.current&1?Mr===0&&(Mr=3):tp())),y.updateQueue!==null&&(y.flags|=4),Ir(y),null);case 4:return lu(),nc(g,y),g===null&&pt(y.stateNode.containerInfo),Ir(y),null;case 10:return _h(y.type._context),Ir(y),null;case 17:return Fn(y.type)&&An(),Ir(y),null;case 19:if(ht(wr),P=y.memoizedState,P===null)return Ir(y),null;if(M=(y.flags&128)!==0,H=P.rendering,H===null)if(M)_a(P,!1);else{if(Mr!==0||g!==null&&g.flags&128)for(g=y.child;g!==null;){if(H=Dd(g),H!==null){for(y.flags|=128,_a(P,!1),g=H.updateQueue,g!==null&&(y.updateQueue=g,y.flags|=4),y.subtreeFlags=0,g=b,M=y.child;M!==null;)b=M,P=g,b.flags&=14680066,H=b.alternate,H===null?(b.childLanes=0,b.lanes=P,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=H.childLanes,b.lanes=H.lanes,b.child=H.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=H.memoizedProps,b.memoizedState=H.memoizedState,b.updateQueue=H.updateQueue,b.type=H.type,P=H.dependencies,b.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),M=M.sibling;return Vt(wr,wr.current&1|2),y.child}g=g.sibling}P.tail!==null&&Vr()>ll&&(y.flags|=128,M=!0,_a(P,!1),y.lanes=4194304)}else{if(!M)if(g=Dd(H),g!==null){if(y.flags|=128,M=!0,g=g.updateQueue,g!==null&&(y.updateQueue=g,y.flags|=4),_a(P,!0),P.tail===null&&P.tailMode==="hidden"&&!H.alternate&&!mr)return Ir(y),null}else 2*Vr()-P.renderingStartTime>ll&&b!==1073741824&&(y.flags|=128,M=!0,_a(P,!1),y.lanes=4194304);P.isBackwards?(H.sibling=y.child,y.child=H):(g=P.last,g!==null?g.sibling=H:y.child=H,P.last=H)}return P.tail!==null?(y=P.tail,P.rendering=y,P.tail=y.sibling,P.renderingStartTime=Vr(),y.sibling=null,g=wr.current,Vt(wr,M?g&1|2:g&1),y):(Ir(y),null);case 22:case 23:return Hh(),M=y.memoizedState!==null,g!==null&&g.memoizedState!==null!==M&&(y.flags|=8192),M&&y.mode&1?Mi&1073741824&&(Ir(y),xt&&y.subtreeFlags&6&&(y.flags|=8192)):Ir(y),null;case 24:return null;case 25:return null}throw Error(o(156,y.tag))}var kg=a.ReactCurrentOwner,Jr=!1;function Tr(g,y,b,M){y.child=g===null?F_(y,null,b,M):ma(y,g.child,b,M)}function lr(g,y,b,M,P){b=b.render;var H=y.ref;return eu(y,P),M=cu(g,y,b,M,H,P),b=rl(),g!==null&&!Jr?(y.updateQueue=g.updateQueue,y.flags&=-2053,g.lanes&=~P,es(g,y,P)):(mr&&b&&pg(y),y.flags|=1,Tr(g,y,M,P),y.child)}function sr(g,y,b,M,P){if(g===null){var H=b.type;return typeof H=="function"&&!rp(H)&&H.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(y.tag=15,y.type=H,va(g,y,H,M,P)):(g=ip(b.type,null,M,y,y.mode,P),g.ref=y.ref,g.return=y,y.child=g)}if(H=g.child,!(g.lanes&P)){var ae=H.memoizedProps;if(b=b.compare,b=b!==null?b:po,b(ae,M)&&g.ref===y.ref)return es(g,y,P)}return y.flags|=1,g=Aa(H,M),g.ref=y.ref,g.return=y,y.child=g}function va(g,y,b,M,P){if(g!==null&&po(g.memoizedProps,M)&&g.ref===y.ref)if(Jr=!1,(g.lanes&P)!==0)g.flags&131072&&(Jr=!0);else return y.lanes=g.lanes,es(g,y,P);return xa(g,y,b,M,P)}function ci(g,y,b){var M=y.pendingProps,P=M.children,H=g!==null?g.memoizedState:null;if(M.mode==="hidden")if(!(y.mode&1))y.memoizedState={baseLanes:0,cachePool:null},Vt(hc,Mi),Mi|=b;else if(b&1073741824)y.memoizedState={baseLanes:0,cachePool:null},M=H!==null?H.baseLanes:b,Vt(hc,Mi),Mi|=M;else return g=H!==null?H.baseLanes|b:b,y.lanes=y.childLanes=1073741824,y.memoizedState={baseLanes:g,cachePool:null},y.updateQueue=null,Vt(hc,Mi),Mi|=g,null;else H!==null?(M=H.baseLanes|b,y.memoizedState=null):M=b,Vt(hc,Mi),Mi|=M;return Tr(g,y,P,b),y.child}function Fi(g,y){var b=y.ref;(g===null&&b!==null||g!==null&&g.ref!==b)&&(y.flags|=512,y.flags|=2097152)}function xa(g,y,b,M,P){var H=Fn(b)?bn:In.current;return H=Bt(y,H),eu(y,P),b=cu(g,y,b,M,H,P),M=rl(),g!==null&&!Jr?(y.updateQueue=g.updateQueue,y.flags&=-2053,g.lanes&=~P,es(g,y,P)):(mr&&M&&pg(y),y.flags|=1,Tr(g,y,b,P),y.child)}function rc(g,y,b,M,P){if(Fn(b)){var H=!0;qr(y)}else H=!1;if(eu(y,P),y.stateNode===null)g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),I_(y,b,M),dg(y,b,M,P),M=!0;else if(g===null){var ae=y.stateNode,ve=y.memoizedProps;ae.props=ve;var Ue=ae.context,lt=b.contextType;typeof lt=="object"&&lt!==null?lt=Ji(lt):(lt=Fn(b)?bn:In.current,lt=Bt(y,lt));var Dt=b.getDerivedStateFromProps,mn=typeof Dt=="function"||typeof ae.getSnapshotBeforeUpdate=="function";mn||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ve!==M||Ue!==lt)&&D_(y,ae,M,lt),Gs=!1;var tn=y.memoizedState;ae.state=tn,Md(y,M,ae,P),Ue=y.memoizedState,ve!==M||tn!==Ue||Dn.current||Gs?(typeof Dt=="function"&&(hg(y,b,Dt,M),Ue=y.memoizedState),(ve=Gs||fg(y,b,ve,M,tn,Ue,lt))?(mn||typeof ae.UNSAFE_componentWillMount!="function"&&typeof ae.componentWillMount!="function"||(typeof ae.componentWillMount=="function"&&ae.componentWillMount(),typeof ae.UNSAFE_componentWillMount=="function"&&ae.UNSAFE_componentWillMount()),typeof ae.componentDidMount=="function"&&(y.flags|=4194308)):(typeof ae.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=M,y.memoizedState=Ue),ae.props=M,ae.state=Ue,ae.context=lt,M=ve):(typeof ae.componentDidMount=="function"&&(y.flags|=4194308),M=!1)}else{ae=y.stateNode,ug(g,y),ve=y.memoizedProps,lt=y.type===y.elementType?ve:Zi(y.type,ve),ae.props=lt,mn=y.pendingProps,tn=ae.context,Ue=b.contextType,typeof Ue=="object"&&Ue!==null?Ue=Ji(Ue):(Ue=Fn(b)?bn:In.current,Ue=Bt(y,Ue));var En=b.getDerivedStateFromProps;(Dt=typeof En=="function"||typeof ae.getSnapshotBeforeUpdate=="function")||typeof ae.UNSAFE_componentWillReceiveProps!="function"&&typeof ae.componentWillReceiveProps!="function"||(ve!==mn||tn!==Ue)&&D_(y,ae,M,Ue),Gs=!1,tn=y.memoizedState,ae.state=tn,Md(y,M,ae,P);var Mt=y.memoizedState;ve!==mn||tn!==Mt||Dn.current||Gs?(typeof En=="function"&&(hg(y,b,En,M),Mt=y.memoizedState),(lt=Gs||fg(y,b,lt,M,tn,Mt,Ue)||!1)?(Dt||typeof ae.UNSAFE_componentWillUpdate!="function"&&typeof ae.componentWillUpdate!="function"||(typeof ae.componentWillUpdate=="function"&&ae.componentWillUpdate(M,Mt,Ue),typeof ae.UNSAFE_componentWillUpdate=="function"&&ae.UNSAFE_componentWillUpdate(M,Mt,Ue)),typeof ae.componentDidUpdate=="function"&&(y.flags|=4),typeof ae.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof ae.componentDidUpdate!="function"||ve===g.memoizedProps&&tn===g.memoizedState||(y.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ve===g.memoizedProps&&tn===g.memoizedState||(y.flags|=1024),y.memoizedProps=M,y.memoizedState=Mt),ae.props=M,ae.state=Mt,ae.context=Ue,M=lt):(typeof ae.componentDidUpdate!="function"||ve===g.memoizedProps&&tn===g.memoizedState||(y.flags|=4),typeof ae.getSnapshotBeforeUpdate!="function"||ve===g.memoizedProps&&tn===g.memoizedState||(y.flags|=1024),M=!1)}return Ti(g,y,b,M,H,P)}function Ti(g,y,b,M,P,H){Fi(g,y);var ae=(y.flags&128)!==0;if(!M&&!ae)return P&&Bo(y,b,!1),es(g,y,H);M=y.stateNode,kg.current=y;var ve=ae&&typeof b.getDerivedStateFromError!="function"?null:M.render();return y.flags|=1,g!==null&&ae?(y.child=ma(y,g.child,null,H),y.child=ma(y,null,ve,H)):Tr(g,y,ve,H),y.memoizedState=M.state,P&&Bo(y,b,!0),y.child}function kh(g){var y=g.stateNode;y.pendingContext?oi(g,y.pendingContext,y.pendingContext!==y.context):y.context&&oi(g,y.context,!1),Id(g,y.containerInfo)}function Rg(g,y,b,M,P){return iu(),Ld(P),y.flags|=256,Tr(g,y,b,M),y.child}var Rh={dehydrated:null,treeContext:null,retryLane:0};function ic(g){return{baseLanes:g,cachePool:null}}function Pg(g,y,b){var M=y.pendingProps,P=wr.current,H=!1,ae=(y.flags&128)!==0,ve;if((ve=ae)||(ve=g!==null&&g.memoizedState===null?!1:(P&2)!==0),ve?(H=!0,y.flags&=-129):(g===null||g.memoizedState!==null)&&(P|=1),Vt(wr,P&1),g===null)return tl(y),g=y.memoizedState,g!==null&&(g=g.dehydrated,g!==null)?(y.mode&1?bi(g)?y.lanes=8:y.lanes=1073741824:y.lanes=1,null):(P=M.children,g=M.fallback,H?(M=y.mode,H=y.child,P={mode:"hidden",children:P},!(M&1)&&H!==null?(H.childLanes=0,H.pendingProps=P):H=$h(P,M,0,null),g=gc(g,M,b,null),H.return=y,g.return=y,H.sibling=g,y.child=H,y.child.memoizedState=ic(b),y.memoizedState=Rh,g):_o(y,P));if(P=g.memoizedState,P!==null){if(ve=P.dehydrated,ve!==null){if(ae)return y.flags&256?(y.flags&=-257,Lh(g,y,b,Error(o(422)))):y.memoizedState!==null?(y.child=g.child,y.flags|=128,null):(H=M.fallback,P=y.mode,M=$h({mode:"visible",children:M.children},P,0,null),H=gc(H,P,b,null),H.flags|=2,M.return=y,H.return=y,M.sibling=H,y.child=M,y.mode&1&&ma(y,g.child,null,b),y.child.memoizedState=ic(b),y.memoizedState=Rh,H);if(!(y.mode&1))y=Lh(g,y,b,null);else if(bi(ve))y=Lh(g,y,b,Error(o(419)));else if(M=(b&g.childLanes)!==0,Jr||M){if(M=Dr,M!==null){switch(b&-b){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}M=H&(M.suspendedLanes|b)?0:H,M!==0&&M!==P.retryLane&&(P.retryLane=M,Ai(g,M,-1))}tp(),y=Lh(g,y,b,Error(o(421)))}else Pr(ve)?(y.flags|=128,y.child=g.child,y=X_.bind(null,g),No(ve,y),y=null):(b=P.treeContext,Oe&&(li=Ei(ve),Bi=y,mr=!0,js=null,ru=!1,b!==null&&($s[ys++]=da,$s[ys++]=pa,$s[ys++]=ql,da=b.id,pa=b.overflow,ql=y)),y=_o(y,y.pendingProps.children),y.flags|=4096);return y}return H?(M=Yd(g,y,M.children,M.fallback,b),H=y.child,P=g.child.memoizedState,H.memoizedState=P===null?ic(b):{baseLanes:P.baseLanes|b,cachePool:null},H.childLanes=g.childLanes&~b,y.memoizedState=Rh,M):(b=Ph(g,y,M.children,b),y.memoizedState=null,b)}return H?(M=Yd(g,y,M.children,M.fallback,b),H=y.child,P=g.child.memoizedState,H.memoizedState=P===null?ic(b):{baseLanes:P.baseLanes|b,cachePool:null},H.childLanes=g.childLanes&~b,y.memoizedState=Rh,M):(b=Ph(g,y,M.children,b),y.memoizedState=null,b)}function _o(g,y){return y=$h({mode:"visible",children:y},g.mode,0,null),y.return=g,g.child=y}function Ph(g,y,b,M){var P=g.child;return g=P.sibling,b=Aa(P,{mode:"visible",children:b}),!(y.mode&1)&&(b.lanes=M),b.return=y,b.sibling=null,g!==null&&(M=y.deletions,M===null?(y.deletions=[g],y.flags|=16):M.push(g)),y.child=b}function Yd(g,y,b,M,P){var H=y.mode;g=g.child;var ae=g.sibling,ve={mode:"hidden",children:b};return!(H&1)&&y.child!==g?(b=y.child,b.childLanes=0,b.pendingProps=ve,y.deletions=null):(b=Aa(g,ve),b.subtreeFlags=g.subtreeFlags&14680064),ae!==null?M=Aa(ae,M):(M=gc(M,H,P,null),M.flags|=2),M.return=y,b.return=y,b.sibling=M,y.child=b,M}function Lh(g,y,b,M){return M!==null&&Ld(M),ma(y,g.child,null,b),g=_o(y,y.pendingProps.children),g.flags|=2,y.memoizedState=null,g}function G_(g,y,b){g.lanes|=y;var M=g.alternate;M!==null&&(M.lanes|=y),jl(g.return,y,b)}function Ho(g,y,b,M,P){var H=g.memoizedState;H===null?g.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:M,tail:b,tailMode:P}:(H.isBackwards=y,H.rendering=null,H.renderingStartTime=0,H.last=M,H.tail=b,H.tailMode=P)}function sc(g,y,b){var M=y.pendingProps,P=M.revealOrder,H=M.tail;if(Tr(g,y,M.children,b),M=wr.current,M&2)M=M&1|2,y.flags|=128;else{if(g!==null&&g.flags&128)e:for(g=y.child;g!==null;){if(g.tag===13)g.memoizedState!==null&&G_(g,b,y);else if(g.tag===19)G_(g,b,y);else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===y)break e;for(;g.sibling===null;){if(g.return===null||g.return===y)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}M&=1}if(Vt(wr,M),!(y.mode&1))y.memoizedState=null;else switch(P){case"forwards":for(b=y.child,P=null;b!==null;)g=b.alternate,g!==null&&Dd(g)===null&&(P=b),b=b.sibling;b=P,b===null?(P=y.child,y.child=null):(P=b.sibling,b.sibling=null),Ho(y,!1,P,b,H);break;case"backwards":for(b=null,P=y.child,y.child=null;P!==null;){if(g=P.alternate,g!==null&&Dd(g)===null){y.child=P;break}g=P.sibling,P.sibling=b,b=P,P=g}Ho(y,!0,b,null,H);break;case"together":Ho(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function es(g,y,b){if(g!==null&&(y.dependencies=g.dependencies),Wo|=y.lanes,!(b&y.childLanes))return null;if(g!==null&&y.child!==g.child)throw Error(o(153));if(y.child!==null){for(g=y.child,b=Aa(g,g.pendingProps),y.child=b,b.return=y;g.sibling!==null;)g=g.sibling,b=b.sibling=Aa(g,g.pendingProps),b.return=y;b.sibling=null}return y.child}function Kd(g,y,b){switch(y.tag){case 3:kh(y),iu();break;case 5:z_(y);break;case 1:Fn(y.type)&&qr(y);break;case 4:Id(y,y.stateNode.containerInfo);break;case 10:$l(y,y.type._context,y.memoizedProps.value);break;case 13:var M=y.memoizedState;if(M!==null)return M.dehydrated!==null?(Vt(wr,wr.current&1),y.flags|=128,null):b&y.child.childLanes?Pg(g,y,b):(Vt(wr,wr.current&1),g=es(g,y,b),g!==null?g.sibling:null);Vt(wr,wr.current&1);break;case 19:if(M=(b&y.childLanes)!==0,g.flags&128){if(M)return sc(g,y,b);y.flags|=128}var P=y.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Vt(wr,wr.current),M)break;return null;case 22:case 23:return y.lanes=0,ci(g,y,b)}return es(g,y,b)}function Zd(g,y){switch(mg(y),y.tag){case 1:return Fn(y.type)&&An(),g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 3:return lu(),ht(Dn),ht(In),Zl(),g=y.flags,g&65536&&!(g&128)?(y.flags=g&-65537|128,y):null;case 5:return _g(y),null;case 13:if(ht(wr),g=y.memoizedState,g!==null&&g.dehydrated!==null){if(y.alternate===null)throw Error(o(340));iu()}return g=y.flags,g&65536?(y.flags=g&-65537|128,y):null;case 19:return ht(wr),null;case 4:return lu(),null;case 10:return _h(y.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var zi=!1,Qr=!1,oc=typeof WeakSet=="function"?WeakSet:Set,yt=null;function qs(g,y){var b=g.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(M){Vi(g,y,M)}else b.current=null}function Sa(g,y,b){try{b()}catch(M){Vi(g,y,M)}}var Lg=!1;function Ig(g,y){for(ee(g.containerInfo),yt=y;yt!==null;)if(g=yt,y=g.child,(g.subtreeFlags&1028)!==0&&y!==null)y.return=g,yt=y;else for(;yt!==null;){g=yt;try{var b=g.alternate;if(g.flags&1024)switch(g.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var M=b.memoizedProps,P=b.memoizedState,H=g.stateNode,ae=H.getSnapshotBeforeUpdate(g.elementType===g.type?M:Zi(g.type,M),P);H.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:xt&&He(g.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ve){Vi(g,g.return,ve)}if(y=g.sibling,y!==null){y.return=g.return,yt=y;break}yt=g.return}return b=Lg,Lg=!1,b}function wa(g,y,b){var M=y.updateQueue;if(M=M!==null?M.lastEffect:null,M!==null){var P=M=M.next;do{if((P.tag&g)===g){var H=P.destroy;P.destroy=void 0,H!==void 0&&Sa(y,b,H)}P=P.next}while(P!==M)}}function ui(g,y){if(y=y.updateQueue,y=y!==null?y.lastEffect:null,y!==null){var b=y=y.next;do{if((b.tag&g)===g){var M=b.create;b.destroy=M()}b=b.next}while(b!==y)}}function Ui(g){var y=g.ref;if(y!==null){var b=g.stateNode;switch(g.tag){case 5:g=$(b);break;default:g=b}typeof y=="function"?y(g):y.current=g}}function dr(g,y,b){if(zo&&typeof zo.onCommitFiberUnmount=="function")try{zo.onCommitFiberUnmount(ph,y)}catch{}switch(y.tag){case 0:case 11:case 14:case 15:if(g=y.updateQueue,g!==null&&(g=g.lastEffect,g!==null)){var M=g=g.next;do{var P=M,H=P.destroy;P=P.tag,H!==void 0&&(P&2||P&4)&&Sa(y,b,H),M=M.next}while(M!==g)}break;case 1:if(qs(y,b),g=y.stateNode,typeof g.componentWillUnmount=="function")try{g.props=y.memoizedProps,g.state=y.memoizedState,g.componentWillUnmount()}catch(ae){Vi(y,b,ae)}break;case 5:qs(y,b);break;case 4:xt?Ng(g,y,b):We&&We&&(y=y.stateNode.containerInfo,b=vt(y),Qn(y,b))}}function Xs(g,y,b){for(var M=y;;)if(dr(g,M,b),M.child===null||xt&&M.tag===4){if(M===y)break;for(;M.sibling===null;){if(M.return===null||M.return===y)return;M=M.return}M.sibling.return=M.return,M=M.sibling}else M.child.return=M,M=M.child}function Dg(g){var y=g.alternate;y!==null&&(g.alternate=null,Dg(y)),g.child=null,g.deletions=null,g.sibling=null,g.tag===5&&(y=g.stateNode,y!==null&&ot(y)),g.stateNode=null,g.return=null,g.dependencies=null,g.memoizedProps=null,g.memoizedState=null,g.pendingProps=null,g.stateNode=null,g.updateQueue=null}function Og(g){return g.tag===5||g.tag===3||g.tag===4}function Jd(g){e:for(;;){for(;g.sibling===null;){if(g.return===null||Og(g.return))return null;g=g.return}for(g.sibling.return=g.return,g=g.sibling;g.tag!==5&&g.tag!==6&&g.tag!==18;){if(g.flags&2||g.child===null||g.tag===4)continue e;g.child.return=g,g=g.child}if(!(g.flags&2))return g.stateNode}}function Qd(g){if(xt){e:{for(var y=g.return;y!==null;){if(Og(y))break e;y=y.return}throw Error(o(160))}var b=y;switch(b.tag){case 5:y=b.stateNode,b.flags&32&&(Fe(y),b.flags&=-33),b=Jd(g),mu(g,b,y);break;case 3:case 4:y=b.stateNode.containerInfo,b=Jd(g),ep(g,b,y);break;default:throw Error(o(161))}}}function ep(g,y,b){var M=g.tag;if(M===5||M===6)g=g.stateNode,y?Lt(b,g,y):Ye(b,g);else if(M!==4&&(g=g.child,g!==null))for(ep(g,y,b),g=g.sibling;g!==null;)ep(g,y,b),g=g.sibling}function mu(g,y,b){var M=g.tag;if(M===5||M===6)g=g.stateNode,y?kt(b,g,y):Ve(b,g);else if(M!==4&&(g=g.child,g!==null))for(mu(g,y,b),g=g.sibling;g!==null;)mu(g,y,b),g=g.sibling}function Ng(g,y,b){for(var M=y,P=!1,H,ae;;){if(!P){P=M.return;e:for(;;){if(P===null)throw Error(o(160));switch(H=P.stateNode,P.tag){case 5:ae=!1;break e;case 3:H=H.containerInfo,ae=!0;break e;case 4:H=H.containerInfo,ae=!0;break e}P=P.return}P=!0}if(M.tag===5||M.tag===6)Xs(g,M,b),ae?he(H,M.stateNode):gt(H,M.stateNode);else if(M.tag===18)ae?it(H,M.stateNode):ge(H,M.stateNode);else if(M.tag===4){if(M.child!==null){H=M.stateNode.containerInfo,ae=!0,M.child.return=M,M=M.child;continue}}else if(dr(g,M,b),M.child!==null){M.child.return=M,M=M.child;continue}if(M===y)break;for(;M.sibling===null;){if(M.return===null||M.return===y)return;M=M.return,M.tag===4&&(P=!1)}M.sibling.return=M.return,M=M.sibling}}function ol(g,y){if(xt){switch(y.tag){case 0:case 11:case 14:case 15:wa(3,y,y.return),ui(3,y),wa(5,y,y.return);return;case 1:return;case 5:var b=y.stateNode;if(b!=null){var M=y.memoizedProps;g=g!==null?g.memoizedProps:M;var P=y.type,H=y.updateQueue;y.updateQueue=null,H!==null&&_t(b,H,P,g,M,y)}return;case 6:if(y.stateNode===null)throw Error(o(162));b=y.memoizedProps,St(y.stateNode,g!==null?g.memoizedProps:b,b);return;case 3:Oe&&g!==null&&g.memoizedState.isDehydrated&&Jc(y.stateNode.containerInfo);return;case 12:return;case 13:gu(y);return;case 19:gu(y);return;case 17:return}throw Error(o(163))}switch(y.tag){case 0:case 11:case 14:case 15:wa(3,y,y.return),ui(3,y),wa(5,y,y.return);return;case 12:return;case 13:gu(y);return;case 19:gu(y);return;case 3:Oe&&g!==null&&g.memoizedState.isDehydrated&&Jc(y.stateNode.containerInfo);break;case 22:case 23:return}e:if(We){switch(y.tag){case 1:case 5:case 6:break e;case 3:case 4:y=y.stateNode,Qn(y.containerInfo,y.pendingChildren);break e}throw Error(o(163))}}function gu(g){var y=g.updateQueue;if(y!==null){g.updateQueue=null;var b=g.stateNode;b===null&&(b=g.stateNode=new oc),y.forEach(function(M){var P=Y_.bind(null,g,M);b.has(M)||(b.add(M),M.then(P,P))})}}function yb(g,y){for(yt=y;yt!==null;){y=yt;var b=y.deletions;if(b!==null)for(var M=0;M<b.length;M++){var P=b[M];try{var H=g;xt?Ng(H,P,y):Xs(H,P,y);var ae=P.alternate;ae!==null&&(ae.return=null),P.return=null}catch(Wt){Vi(P,y,Wt)}}if(b=y.child,y.subtreeFlags&12854&&b!==null)b.return=y,yt=b;else for(;yt!==null;){y=yt;try{var ve=y.flags;if(ve&32&&xt&&Fe(y.stateNode),ve&512){var Ue=y.alternate;if(Ue!==null){var lt=Ue.ref;lt!==null&&(typeof lt=="function"?lt(null):lt.current=null)}}if(ve&8192)switch(y.tag){case 13:if(y.memoizedState!==null){var Dt=y.alternate;(Dt===null||Dt.memoizedState===null)&&(zh=Vr())}break;case 22:var mn=y.memoizedState!==null,tn=y.alternate,En=tn!==null&&tn.memoizedState!==null;if(b=y,xt){e:if(M=b,P=mn,H=null,xt)for(var Mt=M;;){if(Mt.tag===5){if(H===null){H=Mt;var di=Mt.stateNode;P?at(di):tt(Mt.stateNode,Mt.memoizedProps)}}else if(Mt.tag===6){if(H===null){var Cs=Mt.stateNode;P?fe(Cs):Le(Cs,Mt.memoizedProps)}}else if((Mt.tag!==22&&Mt.tag!==23||Mt.memoizedState===null||Mt===M)&&Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===M)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===M)break e;H===Mt&&(H=null),Mt=Mt.return}H===Mt&&(H=null),Mt.sibling.return=Mt.return,Mt=Mt.sibling}}if(mn&&!En&&b.mode&1){yt=b;for(var ke=b.child;ke!==null;){for(b=yt=ke;yt!==null;){M=yt;var Se=M.child;switch(M.tag){case 0:case 11:case 14:case 15:wa(4,M,M.return);break;case 1:qs(M,M.return);var Be=M.stateNode;if(typeof Be.componentWillUnmount=="function"){var Ct=M.return;try{Be.props=M.memoizedProps,Be.state=M.memoizedState,Be.componentWillUnmount()}catch(Wt){Vi(M,Ct,Wt)}}break;case 5:qs(M,M.return);break;case 22:if(M.memoizedState!==null){Fg(b);continue}}Se!==null?(Se.return=M,yt=Se):Fg(b)}ke=ke.sibling}}}switch(ve&4102){case 2:Qd(y),y.flags&=-3;break;case 6:Qd(y),y.flags&=-3,ol(y.alternate,y);break;case 4096:y.flags&=-4097;break;case 4100:y.flags&=-4097,ol(y.alternate,y);break;case 4:ol(y.alternate,y)}}catch(Wt){Vi(y,y.return,Wt)}if(b=y.sibling,b!==null){b.return=y.return,yt=b;break}yt=y.return}}}function Ih(g,y,b){yt=g,Dh(g)}function Dh(g,y,b){for(var M=(g.mode&1)!==0;yt!==null;){var P=yt,H=P.child;if(P.tag===22&&M){var ae=P.memoizedState!==null||zi;if(!ae){var ve=P.alternate,Ue=ve!==null&&ve.memoizedState!==null||Qr;ve=zi;var lt=Qr;if(zi=ae,(Qr=Ue)&&!lt)for(yt=P;yt!==null;)ae=yt,Ue=ae.child,ae.tag===22&&ae.memoizedState!==null?ac(P):Ue!==null?(Ue.return=ae,yt=Ue):ac(P);for(;H!==null;)yt=H,Dh(H),H=H.sibling;yt=P,zi=ve,Qr=lt}Bg(g)}else P.subtreeFlags&8772&&H!==null?(H.return=P,yt=H):Bg(g)}}function Bg(g){for(;yt!==null;){var y=yt;if(y.flags&8772){var b=y.alternate;try{if(y.flags&8772)switch(y.tag){case 0:case 11:case 15:Qr||ui(5,y);break;case 1:var M=y.stateNode;if(y.flags&4&&!Qr)if(b===null)M.componentDidMount();else{var P=y.elementType===y.type?b.memoizedProps:Zi(y.type,b.memoizedProps);M.componentDidUpdate(P,b.memoizedState,M.__reactInternalSnapshotBeforeUpdate)}var H=y.updateQueue;H!==null&&P_(y,H,M);break;case 3:var ae=y.updateQueue;if(ae!==null){if(b=null,y.child!==null)switch(y.child.tag){case 5:b=$(y.child.stateNode);break;case 1:b=y.child.stateNode}P_(y,ae,b)}break;case 5:var ve=y.stateNode;b===null&&y.flags&4&&Xe(ve,y.type,y.memoizedProps,y);break;case 6:break;case 4:break;case 12:break;case 13:if(Oe&&y.memoizedState===null){var Ue=y.alternate;if(Ue!==null){var lt=Ue.memoizedState;if(lt!==null){var Dt=lt.dehydrated;Dt!==null&&Ut(Dt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Qr||y.flags&512&&Ui(y)}catch(mn){Vi(y,y.return,mn)}}if(y===g){yt=null;break}if(b=y.sibling,b!==null){b.return=y.return,yt=b;break}yt=y.return}}function Fg(g){for(;yt!==null;){var y=yt;if(y===g){yt=null;break}var b=y.sibling;if(b!==null){b.return=y.return,yt=b;break}yt=y.return}}function ac(g){for(;yt!==null;){var y=yt;try{switch(y.tag){case 0:case 11:case 15:var b=y.return;try{ui(4,y)}catch(Ue){Vi(y,b,Ue)}break;case 1:var M=y.stateNode;if(typeof M.componentDidMount=="function"){var P=y.return;try{M.componentDidMount()}catch(Ue){Vi(y,P,Ue)}}var H=y.return;try{Ui(y)}catch(Ue){Vi(y,H,Ue)}break;case 5:var ae=y.return;try{Ui(y)}catch(Ue){Vi(y,ae,Ue)}}}catch(Ue){Vi(y,y.return,Ue)}if(y===g){yt=null;break}var ve=y.sibling;if(ve!==null){ve.return=y.return,yt=ve;break}yt=y.return}}var Oh=0,lc=1,cc=2,ba=3,yu=4;if(typeof Symbol=="function"&&Symbol.for){var uc=Symbol.for;Oh=uc("selector.component"),lc=uc("selector.has_pseudo_class"),cc=uc("selector.role"),ba=uc("selector.test_id"),yu=uc("selector.text")}function Nh(g){var y=re(g);if(y!=null){if(typeof y.memoizedProps["data-testname"]!="string")throw Error(o(364));return y}if(g=te(g),g===null)throw Error(o(362));return g.stateNode.current}function Bh(g,y){switch(y.$$typeof){case Oh:if(g.type===y.value)return!0;break;case lc:e:{y=y.value,g=[g,0];for(var b=0;b<g.length;){var M=g[b++],P=g[b++],H=y[P];if(M.tag!==5||!Ne(M)){for(;H!=null&&Bh(M,H);)P++,H=y[P];if(P===y.length){y=!0;break e}else for(M=M.child;M!==null;)g.push(M,P),M=M.sibling}}y=!1}return y;case cc:if(g.tag===5&&$e(g.stateNode,y.value))return!0;break;case yu:if((g.tag===5||g.tag===6)&&(g=be(g),g!==null&&0<=g.indexOf(y.value)))return!0;break;case ba:if(g.tag===5&&(g=g.memoizedProps["data-testname"],typeof g=="string"&&g.toLowerCase()===y.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function al(g){switch(g.$$typeof){case Oh:return"<"+(N(g.value)||"Unknown")+">";case lc:return":has("+(al(g)||"")+")";case cc:return'[role="'+g.value+'"]';case yu:return'"'+g.value+'"';case ba:return'[data-testname="'+g.value+'"]';default:throw Error(o(365))}}function Ss(g,y){var b=[];g=[g,0];for(var M=0;M<g.length;){var P=g[M++],H=g[M++],ae=y[H];if(P.tag!==5||!Ne(P)){for(;ae!=null&&Bh(P,ae);)H++,ae=y[H];if(H===y.length)b.push(P);else for(P=P.child;P!==null;)g.push(P,H),P=P.sibling}}return b}function Ea(g,y){if(!je)throw Error(o(363));g=Nh(g),g=Ss(g,y),y=[],g=Array.from(g);for(var b=0;b<g.length;){var M=g[b++];if(M.tag===5)Ne(M)||y.push(M.stateNode);else for(M=M.child;M!==null;)g.push(M),M=M.sibling}return y}var zg=Math.ceil,Fh=a.ReactCurrentDispatcher,vo=a.ReactCurrentOwner,er=a.ReactCurrentBatchConfig,Sn=0,Dr=null,tr=null,gr=0,Mi=0,hc=Yt(0),Mr=0,_u=null,Wo=0,ws=0,fc=0,Ca=null,Nr=null,zh=0,ll=1/0;function dc(){ll=Vr()+500}var vu=!1,pr=null,xo=null,xu=!1,Go=null,pc=0,mc=0,Ta=null,cr=-1,Ar=0;function Wn(){return Sn&6?Vr():cr!==-1?cr:cr=Vr()}function So(g){return g.mode&1?Sn&2&&gr!==0?gr&-gr:R_.transition!==null?(Ar===0&&(g=Lr,Lr<<=1,!(Lr&4194240)&&(Lr=64),Ar=g),Ar):(g=kn,g!==0?g:Ge()):1}function Ai(g,y,b){if(50<mc)throw mc=0,Ta=null,Error(o(185));var M=cl(g,y);return M===null?null:(Vl(M,y,b),(!(Sn&2)||M!==Dr)&&(M===Dr&&(!(Sn&2)&&(ws|=y),Mr===4&&fi(M,gr)),ts(M,b),y===1&&Sn===0&&!(g.mode&1)&&(dc(),Sd&&Hs())),M)}function cl(g,y){g.lanes|=y;var b=g.alternate;for(b!==null&&(b.lanes|=y),b=g,g=g.return;g!==null;)g.childLanes|=y,b=g.alternate,b!==null&&(b.childLanes|=y),b=g,g=g.return;return b.tag===3?b.stateNode:null}function ts(g,y){var b=g.callbackNode;k_(g,y);var M=dh(g,g===Dr?gr:0);if(M===0)b!==null&&Qc(b),g.callbackNode=null,g.callbackPriority=0;else if(y=M&-M,g.callbackPriority!==y){if(b!=null&&Qc(b),y===1)g.tag===0?bd(bs.bind(null,g)):wd(bs.bind(null,g)),Qe?Rt(function(){Sn===0&&Hs()}):Hl(Wl,Hs),b=null;else{switch(ua(M)){case 1:b=Wl;break;case 4:b=pb;break;case 16:b=vd;break;case 536870912:b=xd;break;default:b=vd}b=np(b,hi.bind(null,g))}g.callbackPriority=y,g.callbackNode=b}}function hi(g,y){if(cr=-1,Ar=0,Sn&6)throw Error(o(327));var b=g.callbackNode;if($o()&&g.callbackNode!==b)return null;var M=dh(g,g===Dr?gr:0);if(M===0)return null;if(M&30||M&g.expiredLanes||y)y=Wh(g,M);else{y=M;var P=Sn;Sn|=2;var H=Hg();(Dr!==g||gr!==y)&&(dc(),Ma(g,y));do try{j_();break}catch(ve){Vg(g,ve)}while(!0);Ni(),Fh.current=H,Sn=P,tr!==null?y=0:(Dr=null,gr=0,y=Mr)}if(y!==0){if(y===2&&(P=gd(g),P!==0&&(M=P,y=Uh(g,P))),y===1)throw b=_u,Ma(g,0),fi(g,M),ts(g,Vr()),b;if(y===6)fi(g,M);else{if(P=g.current.alternate,!(M&30)&&!Ug(P)&&(y=Wh(g,M),y===2&&(H=gd(g),H!==0&&(M=H,y=Uh(g,H))),y===1))throw b=_u,Ma(g,0),fi(g,M),ts(g,Vr()),b;switch(g.finishedWork=P,g.finishedLanes=M,y){case 0:case 1:throw Error(o(345));case 2:wo(g,Nr);break;case 3:if(fi(g,M),(M&130023424)===M&&(y=zh+500-Vr(),10<y)){if(dh(g,0)!==0)break;if(P=g.suspendedLanes,(P&M)!==M){Wn(),g.pingedLanes|=g.suspendedLanes&P;break}g.timeoutHandle=Me(wo.bind(null,g,Nr),y);break}wo(g,Nr);break;case 4:if(fi(g,M),(M&4194240)===M)break;for(y=g.eventTimes,P=-1;0<M;){var ae=31-On(M);H=1<<ae,ae=y[ae],ae>P&&(P=ae),M&=~H}if(M=P,M=Vr()-M,M=(120>M?120:480>M?480:1080>M?1080:1920>M?1920:3e3>M?3e3:4320>M?4320:1960*zg(M/1960))-M,10<M){g.timeoutHandle=Me(wo.bind(null,g,Nr),M);break}wo(g,Nr);break;case 5:wo(g,Nr);break;default:throw Error(o(329))}}}return ts(g,Vr()),g.callbackNode===b?hi.bind(null,g):null}function Uh(g,y){var b=Ca;return g.current.memoizedState.isDehydrated&&(Ma(g,y).flags|=256),g=Wh(g,y),g!==2&&(y=Nr,Nr=b,y!==null&&Vh(y)),g}function Vh(g){Nr===null?Nr=g:Nr.push.apply(Nr,g)}function Ug(g){for(var y=g;;){if(y.flags&16384){var b=y.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var M=0;M<b.length;M++){var P=b[M],H=P.getSnapshot;P=P.value;try{if(!Oi(H(),P))return!1}catch{return!1}}}if(b=y.child,y.subtreeFlags&16384&&b!==null)b.return=y,y=b;else{if(y===g)break;for(;y.sibling===null;){if(y.return===null||y.return===g)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function fi(g,y){for(y&=~fc,y&=~ws,g.suspendedLanes|=y,g.pingedLanes&=~y,g=g.expirationTimes;0<y;){var b=31-On(y),M=1<<b;g[b]=-1,y&=~M}}function bs(g){if(Sn&6)throw Error(o(327));$o();var y=dh(g,0);if(!(y&1))return ts(g,Vr()),null;var b=Wh(g,y);if(g.tag!==0&&b===2){var M=gd(g);M!==0&&(y=M,b=Uh(g,M))}if(b===1)throw b=_u,Ma(g,0),fi(g,y),ts(g,Vr()),b;if(b===6)throw Error(o(345));return g.finishedWork=g.current.alternate,g.finishedLanes=y,wo(g,Nr),ts(g,Vr()),null}function Su(g){Go!==null&&Go.tag===0&&!(Sn&6)&&$o();var y=Sn;Sn|=1;var b=er.transition,M=kn;try{if(er.transition=null,kn=1,g)return g()}finally{kn=M,er.transition=b,Sn=y,!(Sn&6)&&Hs()}}function Hh(){Mi=hc.current,ht(hc)}function Ma(g,y){g.finishedWork=null,g.finishedLanes=0;var b=g.timeoutHandle;if(b!==rt&&(g.timeoutHandle=rt,ze(b)),tr!==null)for(b=tr.return;b!==null;){var M=b;switch(mg(M),M.tag){case 1:M=M.type.childContextTypes,M!=null&&An();break;case 3:lu(),ht(Dn),ht(In),Zl();break;case 5:_g(M);break;case 4:lu();break;case 13:ht(wr);break;case 19:ht(wr);break;case 10:_h(M.type._context);break;case 22:case 23:Hh()}b=b.return}if(Dr=g,tr=g=Aa(g.current,null),gr=Mi=y,Mr=0,_u=null,fc=ws=Wo=0,Nr=Ca=null,Ws!==null){for(y=0;y<Ws.length;y++)if(b=Ws[y],M=b.interleaved,M!==null){b.interleaved=null;var P=M.next,H=b.pending;if(H!==null){var ae=H.next;H.next=P,M.next=ae}b.pending=M}Ws=null}return g}function Vg(g,y){do{var b=tr;try{if(Ni(),xh.current=du,Od){for(var M=br.memoizedState;M!==null;){var P=M.queue;P!==null&&(P.pending=null),M=M.next}Od=!1}if(Jl=0,Kr=Yr=br=null,Uo=!1,Ql=0,vo.current=null,b===null||b.return===null){Mr=1,_u=y,tr=null;break}e:{var H=g,ae=b.return,ve=b,Ue=y;if(y=gr,ve.flags|=32768,Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"){var lt=Ue,Dt=ve,mn=Dt.tag;if(!(Dt.mode&1)&&(mn===0||mn===11||mn===15)){var tn=Dt.alternate;tn?(Dt.updateQueue=tn.updateQueue,Dt.memoizedState=tn.memoizedState,Dt.lanes=tn.lanes):(Dt.updateQueue=null,Dt.memoizedState=null)}var En=Ag(ae);if(En!==null){En.flags&=-257,tc(En,ae,ve,H,y),En.mode&1&&ya(H,lt,y),y=En,Ue=lt;var Mt=y.updateQueue;if(Mt===null){var di=new Set;di.add(Ue),y.updateQueue=di}else Mt.add(Ue);break e}else{if(!(y&1)){ya(H,lt,y),tp();break e}Ue=Error(o(426))}}else if(mr&&ve.mode&1){var Cs=Ag(ae);if(Cs!==null){!(Cs.flags&65536)&&(Cs.flags|=256),tc(Cs,ae,ve,H,y),Ld(Ue);break e}}H=Ue,Mr!==4&&(Mr=2),Ca===null?Ca=[H]:Ca.push(H),Ue=Mg(Ue,ve),ve=ae;do{switch(ve.tag){case 3:ve.flags|=65536,y&=-y,ve.lanes|=y;var ke=W_(ve,Ue,y);Td(ve,ke);break e;case 1:H=Ue;var Se=ve.type,Be=ve.stateNode;if(!(ve.flags&128)&&(typeof Se.getDerivedStateFromError=="function"||Be!==null&&typeof Be.componentDidCatch=="function"&&(xo===null||!xo.has(Be)))){ve.flags|=65536,y&=-y,ve.lanes|=y;var Ct=$d(ve,H,y);Td(ve,Ct);break e}}ve=ve.return}while(ve!==null)}Gg(b)}catch(Wt){y=Wt,tr===b&&b!==null&&(tr=b=b.return);continue}break}while(!0)}function Hg(){var g=Fh.current;return Fh.current=du,g===null?du:g}function tp(){(Mr===0||Mr===3||Mr===2)&&(Mr=4),Dr===null||!(Wo&268435455)&&!(ws&268435455)||fi(Dr,gr)}function Wh(g,y){var b=Sn;Sn|=2;var M=Hg();Dr===g&&gr===y||Ma(g,y);do try{$_();break}catch(P){Vg(g,P)}while(!0);if(Ni(),Sn=b,Fh.current=M,tr!==null)throw Error(o(261));return Dr=null,gr=0,Mr}function $_(){for(;tr!==null;)Wg(tr)}function j_(){for(;tr!==null&&!Ja();)Wg(tr)}function Wg(g){var y=qg(g.alternate,g,Mi);g.memoizedProps=g.pendingProps,y===null?Gg(g):tr=y,vo.current=null}function Gg(g){var y=g;do{var b=y.alternate;if(g=y.return,y.flags&32768){if(b=Zd(b,y),b!==null){b.flags&=32767,tr=b;return}if(g!==null)g.flags|=32768,g.subtreeFlags=0,g.deletions=null;else{Mr=6,tr=null;return}}else if(b=Xd(b,y,Mi),b!==null){tr=b;return}if(y=y.sibling,y!==null){tr=y;return}tr=y=g}while(y!==null);Mr===0&&(Mr=5)}function wo(g,y){var b=kn,M=er.transition;try{er.transition=null,kn=1,q_(g,y,b)}finally{er.transition=M,kn=b}return null}function q_(g,y,b){do $o();while(Go!==null);if(Sn&6)throw Error(o(327));var M=g.finishedWork,P=g.finishedLanes;if(M===null)return null;if(g.finishedWork=null,g.finishedLanes=0,M===g.current)throw Error(o(177));g.callbackNode=null,g.callbackPriority=0;var H=M.lanes|M.childLanes;if(_d(g,H),g===Dr&&(tr=Dr=null,gr=0),!(M.subtreeFlags&2064)&&!(M.flags&2064)||xu||(xu=!0,np(vd,function(){return $o(),null})),H=(M.flags&15990)!==0,M.subtreeFlags&15990||H){H=er.transition,er.transition=null;var ae=kn;kn=1;var ve=Sn;Sn|=4,vo.current=null,Ig(g,M),yb(g,M),V(g.containerInfo),g.current=M,Ih(M),db(),Sn=ve,kn=ae,er.transition=H}else g.current=M;if(xu&&(xu=!1,Go=g,pc=P),H=g.pendingLanes,H===0&&(xo=null),mh(M.stateNode),ts(g,Vr()),y!==null)for(b=g.onRecoverableError,M=0;M<y.length;M++)b(y[M]);if(vu)throw vu=!1,g=pr,pr=null,g;return pc&1&&g.tag!==0&&$o(),H=g.pendingLanes,H&1?g===Ta?mc++:(mc=0,Ta=g):mc=0,Hs(),null}function $o(){if(Go!==null){var g=ua(pc),y=er.transition,b=kn;try{if(er.transition=null,kn=16>g?16:g,Go===null)var M=!1;else{if(g=Go,Go=null,pc=0,Sn&6)throw Error(o(331));var P=Sn;for(Sn|=4,yt=g.current;yt!==null;){var H=yt,ae=H.child;if(yt.flags&16){var ve=H.deletions;if(ve!==null){for(var Ue=0;Ue<ve.length;Ue++){var lt=ve[Ue];for(yt=lt;yt!==null;){var Dt=yt;switch(Dt.tag){case 0:case 11:case 15:wa(8,Dt,H)}var mn=Dt.child;if(mn!==null)mn.return=Dt,yt=mn;else for(;yt!==null;){Dt=yt;var tn=Dt.sibling,En=Dt.return;if(Dg(Dt),Dt===lt){yt=null;break}if(tn!==null){tn.return=En,yt=tn;break}yt=En}}}var Mt=H.alternate;if(Mt!==null){var di=Mt.child;if(di!==null){Mt.child=null;do{var Cs=di.sibling;di.sibling=null,di=Cs}while(di!==null)}}yt=H}}if(H.subtreeFlags&2064&&ae!==null)ae.return=H,yt=ae;else e:for(;yt!==null;){if(H=yt,H.flags&2048)switch(H.tag){case 0:case 11:case 15:wa(9,H,H.return)}var ke=H.sibling;if(ke!==null){ke.return=H.return,yt=ke;break e}yt=H.return}}var Se=g.current;for(yt=Se;yt!==null;){ae=yt;var Be=ae.child;if(ae.subtreeFlags&2064&&Be!==null)Be.return=ae,yt=Be;else e:for(ae=Se;yt!==null;){if(ve=yt,ve.flags&2048)try{switch(ve.tag){case 0:case 11:case 15:ui(9,ve)}}catch(Wt){Vi(ve,ve.return,Wt)}if(ve===ae){yt=null;break e}var Ct=ve.sibling;if(Ct!==null){Ct.return=ve.return,yt=Ct;break e}yt=ve.return}}if(Sn=P,Hs(),zo&&typeof zo.onPostCommitFiberRoot=="function")try{zo.onPostCommitFiberRoot(ph,g)}catch{}M=!0}return M}finally{kn=b,er.transition=y}}return!1}function Gh(g,y,b){y=Mg(b,y),y=W_(g,y,1),Qa(g,y),y=Wn(),g=cl(g,1),g!==null&&(Vl(g,1,y),ts(g,y))}function Vi(g,y,b){if(g.tag===3)Gh(g,g,b);else for(;y!==null;){if(y.tag===3){Gh(y,g,b);break}else if(y.tag===1){var M=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof M.componentDidCatch=="function"&&(xo===null||!xo.has(M))){g=Mg(b,g),g=$d(y,g,1),Qa(y,g),g=Wn(),y=cl(y,1),y!==null&&(Vl(y,1,g),ts(y,g));break}}y=y.return}}function $g(g,y,b){var M=g.pingCache;M!==null&&M.delete(y),y=Wn(),g.pingedLanes|=g.suspendedLanes&b,Dr===g&&(gr&b)===b&&(Mr===4||Mr===3&&(gr&130023424)===gr&&500>Vr()-zh?Ma(g,0):fc|=b),ts(g,y)}function jg(g,y){y===0&&(g.mode&1?(y=Nn,Nn<<=1,!(Nn&130023424)&&(Nn=4194304)):y=1);var b=Wn();g=cl(g,y),g!==null&&(Vl(g,y,b),ts(g,b))}function X_(g){var y=g.memoizedState,b=0;y!==null&&(b=y.retryLane),jg(g,b)}function Y_(g,y){var b=0;switch(g.tag){case 13:var M=g.stateNode,P=g.memoizedState;P!==null&&(b=P.retryLane);break;case 19:M=g.stateNode;break;default:throw Error(o(314))}M!==null&&M.delete(y),jg(g,b)}var qg;qg=function(g,y,b){if(g!==null)if(g.memoizedProps!==y.pendingProps||Dn.current)Jr=!0;else{if(!(g.lanes&b)&&!(y.flags&128))return Jr=!1,Kd(g,y,b);Jr=!!(g.flags&131072)}else Jr=!1,mr&&y.flags&1048576&&O_(y,Rd,y.index);switch(y.lanes=0,y.tag){case 2:var M=y.type;g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),g=y.pendingProps;var P=Bt(y,In.current);eu(y,b),P=cu(null,y,M,g,P,b);var H=rl();return y.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(y.tag=1,y.memoizedState=null,y.updateQueue=null,Fn(M)?(H=!0,qr(y)):H=!1,y.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,tu(y),P.updater=Ad,y.stateNode=P,P._reactInternals=y,dg(y,M,g,b),y=Ti(null,y,M,!0,H,b)):(y.tag=0,mr&&H&&pg(y),Tr(null,y,P,b),y=y.child),y;case 16:M=y.elementType;e:{switch(g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),g=y.pendingProps,P=M._init,M=P(M._payload),y.type=M,P=y.tag=_b(M),g=Zi(M,g),P){case 0:y=xa(null,y,M,g,b);break e;case 1:y=rc(null,y,M,g,b);break e;case 11:y=lr(null,y,M,g,b);break e;case 14:y=sr(null,y,M,Zi(M.type,g),b);break e}throw Error(o(306,M,""))}return y;case 0:return M=y.type,P=y.pendingProps,P=y.elementType===M?P:Zi(M,P),xa(g,y,M,P,b);case 1:return M=y.type,P=y.pendingProps,P=y.elementType===M?P:Zi(M,P),rc(g,y,M,P,b);case 3:e:{if(kh(y),g===null)throw Error(o(387));M=y.pendingProps,H=y.memoizedState,P=H.element,ug(g,y),Md(y,M,null,b);var ae=y.memoizedState;if(M=ae.element,Oe&&H.isDehydrated)if(H={element:M,isDehydrated:!1,cache:ae.cache,transitions:ae.transitions},y.updateQueue.baseState=H,y.memoizedState=H,y.flags&256){P=Error(o(423)),y=Rg(g,y,M,b,P);break e}else if(M!==P){P=Error(o(424)),y=Rg(g,y,M,b,P);break e}else for(Oe&&(li=Bl(y.stateNode.containerInfo),Bi=y,mr=!0,js=null,ru=!1),b=F_(y,null,M,b),y.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(iu(),M===P){y=es(g,y,b);break e}Tr(g,y,M,b)}y=y.child}return y;case 5:return z_(y),g===null&&tl(y),M=y.type,P=y.pendingProps,H=g!==null?g.memoizedProps:null,ae=P.children,me(M,P)?ae=null:H!==null&&me(M,H)&&(y.flags|=32),Fi(g,y),Tr(g,y,ae,b),y.child;case 6:return g===null&&tl(y),null;case 13:return Pg(g,y,b);case 4:return Id(y,y.stateNode.containerInfo),M=y.pendingProps,g===null?y.child=ma(y,null,M,b):Tr(g,y,M,b),y.child;case 11:return M=y.type,P=y.pendingProps,P=y.elementType===M?P:Zi(M,P),lr(g,y,M,P,b);case 7:return Tr(g,y,y.pendingProps,b),y.child;case 8:return Tr(g,y,y.pendingProps.children,b),y.child;case 12:return Tr(g,y,y.pendingProps.children,b),y.child;case 10:e:{if(M=y.type._context,P=y.pendingProps,H=y.memoizedProps,ae=P.value,$l(y,M,ae),H!==null)if(Oi(H.value,ae)){if(H.children===P.children&&!Dn.current){y=es(g,y,b);break e}}else for(H=y.child,H!==null&&(H.return=y);H!==null;){var ve=H.dependencies;if(ve!==null){ae=H.child;for(var Ue=ve.firstContext;Ue!==null;){if(Ue.context===M){if(H.tag===1){Ue=fa(-1,b&-b),Ue.tag=2;var lt=H.updateQueue;if(lt!==null){lt=lt.shared;var Dt=lt.pending;Dt===null?Ue.next=Ue:(Ue.next=Dt.next,Dt.next=Ue),lt.pending=Ue}}H.lanes|=b,Ue=H.alternate,Ue!==null&&(Ue.lanes|=b),jl(H.return,b,y),ve.lanes|=b;break}Ue=Ue.next}}else if(H.tag===10)ae=H.type===y.type?null:H.child;else if(H.tag===18){if(ae=H.return,ae===null)throw Error(o(341));ae.lanes|=b,ve=ae.alternate,ve!==null&&(ve.lanes|=b),jl(ae,b,y),ae=H.sibling}else ae=H.child;if(ae!==null)ae.return=H;else for(ae=H;ae!==null;){if(ae===y){ae=null;break}if(H=ae.sibling,H!==null){H.return=ae.return,ae=H;break}ae=ae.return}H=ae}Tr(g,y,P.children,b),y=y.child}return y;case 9:return P=y.type,M=y.pendingProps.children,eu(y,b),P=Ji(P),M=M(P),y.flags|=1,Tr(g,y,M,b),y.child;case 14:return M=y.type,P=Zi(M,y.pendingProps),P=Zi(M.type,P),sr(g,y,M,P,b);case 15:return va(g,y,y.type,y.pendingProps,b);case 17:return M=y.type,P=y.pendingProps,P=y.elementType===M?P:Zi(M,P),g!==null&&(g.alternate=null,y.alternate=null,y.flags|=2),y.tag=1,Fn(M)?(g=!0,qr(y)):g=!1,eu(y,b),I_(y,M,P),dg(y,M,P,b),Ti(null,y,M,!0,g,b);case 19:return sc(g,y,b);case 22:return ci(g,y,b)}throw Error(o(156,y.tag))};function np(g,y){return Hl(g,y)}function K_(g,y,b,M){this.tag=g,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=M,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(g,y,b,M){return new K_(g,y,b,M)}function rp(g){return g=g.prototype,!(!g||!g.isReactComponent)}function _b(g){if(typeof g=="function")return rp(g)?1:0;if(g!=null){if(g=g.$$typeof,g===S)return 11;if(g===C)return 14}return 2}function Aa(g,y){var b=g.alternate;return b===null?(b=Es(g.tag,y,g.key,g.mode),b.elementType=g.elementType,b.type=g.type,b.stateNode=g.stateNode,b.alternate=g,g.alternate=b):(b.pendingProps=y,b.type=g.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=g.flags&14680064,b.childLanes=g.childLanes,b.lanes=g.lanes,b.child=g.child,b.memoizedProps=g.memoizedProps,b.memoizedState=g.memoizedState,b.updateQueue=g.updateQueue,y=g.dependencies,b.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},b.sibling=g.sibling,b.index=g.index,b.ref=g.ref,b}function ip(g,y,b,M,P,H){var ae=2;if(M=g,typeof g=="function")rp(g)&&(ae=1);else if(typeof g=="string")ae=5;else e:switch(g){case u:return gc(b.children,P,H,y);case f:ae=8,P|=8;break;case p:return g=Es(12,b,y,P|2),g.elementType=p,g.lanes=H,g;case w:return g=Es(13,b,y,P),g.elementType=w,g.lanes=H,g;case x:return g=Es(19,b,y,P),g.elementType=x,g.lanes=H,g;case A:return $h(b,P,H,y);default:if(typeof g=="object"&&g!==null)switch(g.$$typeof){case m:ae=10;break e;case _:ae=9;break e;case S:ae=11;break e;case C:ae=14;break e;case T:ae=16,M=null;break e}throw Error(o(130,g==null?g:typeof g,""))}return y=Es(ae,b,y,P),y.elementType=g,y.type=M,y.lanes=H,y}function gc(g,y,b,M){return g=Es(7,g,M,y),g.lanes=b,g}function $h(g,y,b,M){return g=Es(22,g,M,y),g.elementType=A,g.lanes=b,g.stateNode={},g}function sp(g,y,b){return g=Es(6,g,null,y),g.lanes=b,g}function op(g,y,b){return y=Es(4,g.children!==null?g.children:[],g.key,y),y.lanes=b,y.stateNode={containerInfo:g.containerInfo,pendingChildren:null,implementation:g.implementation},y}function ap(g,y,b,M,P){this.tag=y,this.containerInfo=g,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=rt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yd(0),this.expirationTimes=yd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yd(0),this.identifierPrefix=M,this.onRecoverableError=P,Oe&&(this.mutableSourceEagerHydrationData=null)}function Z_(g,y,b,M,P,H,ae,ve,Ue){return g=new ap(g,y,b,ve,Ue),y===1?(y=1,H===!0&&(y|=8)):y=0,H=Es(3,null,null,y),g.current=H,H.stateNode=g,H.memoizedState={element:M,isDehydrated:b,cache:null,transitions:null},tu(H),g}function J_(g){if(!g)return an;g=g._reactInternals;e:{if(D(g)!==g||g.tag!==1)throw Error(o(170));var y=g;do{switch(y.tag){case 3:y=y.stateNode.context;break e;case 1:if(Fn(y.type)){y=y.stateNode.__reactInternalMemoizedMergedChildContext;break e}}y=y.return}while(y!==null);throw Error(o(171))}if(g.tag===1){var b=g.type;if(Fn(b))return ca(g,b,y)}return y}function Q_(g){var y=g._reactInternals;if(y===void 0)throw typeof g.render=="function"?Error(o(188)):(g=Object.keys(g).join(","),Error(o(268,g)));return g=q(y),g===null?null:g.stateNode}function Ys(g,y){if(g=g.memoizedState,g!==null&&g.dehydrated!==null){var b=g.retryLane;g.retryLane=b!==0&&b<y?b:y}}function jh(g,y){Ys(g,y),(g=g.alternate)&&Ys(g,y)}function lp(g){return g=q(g),g===null?null:g.stateNode}function ev(){return null}return n.attemptContinuousHydration=function(g){if(g.tag===13){var y=Wn();Ai(g,134217728,y),jh(g,134217728)}},n.attemptHydrationAtCurrentPriority=function(g){if(g.tag===13){var y=Wn(),b=So(g);Ai(g,b,y),jh(g,b)}},n.attemptSynchronousHydration=function(g){switch(g.tag){case 3:var y=g.stateNode;if(y.current.memoizedState.isDehydrated){var b=Ki(y.pendingLanes);b!==0&&(Fo(y,b|1),ts(y,Vr()),!(Sn&6)&&(dc(),Hs()))}break;case 13:var M=Wn();Su(function(){return Ai(g,1,M)}),jh(g,1)}},n.batchedUpdates=function(g,y){var b=Sn;Sn|=1;try{return g(y)}finally{Sn=b,Sn===0&&(dc(),Sd&&Hs())}},n.createComponentSelector=function(g){return{$$typeof:Oh,value:g}},n.createContainer=function(g,y,b,M,P,H,ae){return Z_(g,y,!1,null,b,M,P,H,ae)},n.createHasPseudoClassSelector=function(g){return{$$typeof:lc,value:g}},n.createHydrationContainer=function(g,y,b,M,P,H,ae,ve,Ue){return g=Z_(b,M,!0,g,P,H,ae,ve,Ue),g.context=J_(null),b=g.current,M=Wn(),P=So(b),H=fa(M,P),H.callback=y??null,Qa(b,H),g.current.lanes=P,Vl(g,P,M),ts(g,M),g},n.createPortal=function(g,y,b){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:M==null?null:""+M,children:g,containerInfo:y,implementation:b}},n.createRoleSelector=function(g){return{$$typeof:cc,value:g}},n.createTestNameSelector=function(g){return{$$typeof:ba,value:g}},n.createTextSelector=function(g){return{$$typeof:yu,value:g}},n.deferredUpdates=function(g){var y=kn,b=er.transition;try{return er.transition=null,kn=16,g()}finally{kn=y,er.transition=b}},n.discreteUpdates=function(g,y,b,M,P){var H=kn,ae=er.transition;try{return er.transition=null,kn=1,g(y,b,M,P)}finally{kn=H,er.transition=ae,Sn===0&&dc()}},n.findAllNodes=Ea,n.findBoundingRects=function(g,y){if(!je)throw Error(o(363));y=Ea(g,y),g=[];for(var b=0;b<y.length;b++)g.push(Q(y[b]));for(y=g.length-1;0<y;y--){b=g[y];for(var M=b.x,P=M+b.width,H=b.y,ae=H+b.height,ve=y-1;0<=ve;ve--)if(y!==ve){var Ue=g[ve],lt=Ue.x,Dt=lt+Ue.width,mn=Ue.y,tn=mn+Ue.height;if(M>=lt&&H>=mn&&P<=Dt&&ae<=tn){g.splice(y,1);break}else if(M!==lt||b.width!==Ue.width||tn<H||mn>ae){if(!(H!==mn||b.height!==Ue.height||Dt<M||lt>P)){lt>M&&(Ue.width+=lt-M,Ue.x=M),Dt<P&&(Ue.width=P-lt),g.splice(y,1);break}}else{mn>H&&(Ue.height+=mn-H,Ue.y=H),tn<ae&&(Ue.height=ae-mn),g.splice(y,1);break}}}return g},n.findHostInstance=Q_,n.findHostInstanceWithNoPortals=function(g){return g=B(g),g=g!==null?j(g):null,g===null?null:g.stateNode},n.findHostInstanceWithWarning=function(g){return Q_(g)},n.flushControlled=function(g){var y=Sn;Sn|=1;var b=er.transition,M=kn;try{er.transition=null,kn=1,g()}finally{kn=M,er.transition=b,Sn=y,Sn===0&&(dc(),Hs())}},n.flushPassiveEffects=$o,n.flushSync=Su,n.focusWithin=function(g,y){if(!je)throw Error(o(363));for(g=Nh(g),y=Ss(g,y),y=Array.from(y),g=0;g<y.length;){var b=y[g++];if(!Ne(b)){if(b.tag===5&&ce(b.stateNode))return!0;for(b=b.child;b!==null;)y.push(b),b=b.sibling}}return!1},n.getCurrentUpdatePriority=function(){return kn},n.getFindAllNodesFailureDescription=function(g,y){if(!je)throw Error(o(363));var b=0,M=[];g=[Nh(g),0];for(var P=0;P<g.length;){var H=g[P++],ae=g[P++],ve=y[ae];if((H.tag!==5||!Ne(H))&&(Bh(H,ve)&&(M.push(al(ve)),ae++,ae>b&&(b=ae)),ae<y.length))for(H=H.child;H!==null;)g.push(H,ae),H=H.sibling}if(b<y.length){for(g=[];b<y.length;b++)g.push(al(y[b]));return`findAllNodes was able to match part of the selector:
  `+(M.join(" > ")+`

No matching component was found for:
  `)+g.join(" > ")}return null},n.getPublicRootInstance=function(g){if(g=g.current,!g.child)return null;switch(g.child.tag){case 5:return $(g.child.stateNode);default:return g.child.stateNode}},n.injectIntoDevTools=function(g){if(g={bundleType:g.bundleType,version:g.version,rendererPackageName:g.rendererPackageName,rendererConfig:g.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:lp,findFiberByHostInstance:g.findFiberByHostInstance||ev,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")g=!1;else{var y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(y.isDisabled||!y.supportsFiber)g=!0;else{try{ph=y.inject(g),zo=y}catch{}g=!!y.checkDCE}}return g},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(g,y,b,M){if(!je)throw Error(o(363));g=Ea(g,y);var P=Pe(g,b,M).disconnect;return{disconnect:function(){P()}}},n.registerMutableSourceForHydration=function(g,y){var b=y._getVersion;b=b(y._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[y,b]:g.mutableSourceEagerHydrationData.push(y,b)},n.runWithPriority=function(g,y){var b=kn;try{return kn=g,y()}finally{kn=b}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(g,y,b,M){var P=y.current,H=Wn(),ae=So(P);return b=J_(b),y.context===null?y.context=b:y.pendingContext=b,y=fa(H,ae),y.payload={element:g},M=M===void 0?null:M,M!==null&&(y.callback=M),Qa(P,y),g=Ai(P,ae,H),g!==null&&Cd(g,P,ae),ae},n}),KE}var QP;function fK(){return QP||(QP=1,qE.exports=hK()),qE.exports}var dK=fK();const pK=Fm(dK);var ZE={exports:{}},JE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eL;function mK(){return eL||(eL=1,function(t){function e(U,ee){var V=U.length;U.push(ee);e:for(;0<V;){var G=V-1>>>1,oe=U[G];if(0<i(oe,ee))U[G]=ee,U[V]=oe,V=G;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var ee=U[0],V=U.pop();if(V!==ee){U[0]=V;e:for(var G=0,oe=U.length,Z=oe>>>1;G<Z;){var ue=2*(G+1)-1,me=U[ue],we=ue+1,Me=U[we];if(0>i(me,V))we<oe&&0>i(Me,me)?(U[G]=Me,U[we]=V,G=we):(U[G]=me,U[ue]=V,G=ue);else if(we<oe&&0>i(Me,V))U[G]=Me,U[we]=V,G=we;else break e}}return ee}function i(U,ee){var V=U.sortIndex-ee.sortIndex;return V!==0?V:U.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,_=!1,S=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(U){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=U)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function A(U){if(S=!1,T(U),!_)if(n(l)!==null)_=!0,$(L);else{var ee=n(c);ee!==null&&ie(A,ee.startTime-U)}}function L(U,ee){_=!1,S&&(S=!1,x(z),z=-1),m=!0;var V=p;try{for(T(ee),f=n(l);f!==null&&(!(f.expirationTime>ee)||U&&!B());){var G=f.callback;if(typeof G=="function"){f.callback=null,p=f.priorityLevel;var oe=G(f.expirationTime<=ee);ee=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),T(ee)}else r(l);f=n(l)}if(f!==null)var Z=!0;else{var ue=n(c);ue!==null&&ie(A,ue.startTime-ee),Z=!1}return Z}finally{f=null,p=V,m=!1}}var R=!1,N=null,z=-1,D=5,I=-1;function B(){return!(t.unstable_now()-I<D)}function q(){if(N!==null){var U=t.unstable_now();I=U;var ee=!0;try{ee=N(!0,U)}finally{ee?K():(R=!1,N=null)}}else R=!1}var K;if(typeof C=="function")K=function(){C(q)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,J=j.port2;j.port1.onmessage=q,K=function(){J.postMessage(null)}}else K=function(){w(q,0)};function $(U){N=U,R||(R=!0,K())}function ie(U,ee){z=w(function(){U(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){_||m||(_=!0,$(L))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(p){case 1:case 2:case 3:var ee=3;break;default:ee=p}var V=p;p=ee;try{return U()}finally{p=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=p;p=U;try{return ee()}finally{p=V}},t.unstable_scheduleCallback=function(U,ee,V){var G=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,U){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=V+oe,U={id:u++,callback:ee,priorityLevel:U,startTime:V,expirationTime:oe,sortIndex:-1},V>G?(U.sortIndex=V,e(c,U),n(l)===null&&U===n(c)&&(S?(x(z),z=-1):S=!0,ie(A,V-G))):(U.sortIndex=oe,e(l,U),_||m||(_=!0,$(L))),U},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(U){var ee=p;return function(){var V=p;p=ee;try{return U.apply(this,arguments)}finally{p=V}}}}(JE)),JE}var tL;function gK(){return tL||(tL=1,ZE.exports=mK()),ZE.exports}var nL=gK();const UA={},yK=t=>void Object.assign(UA,t);function _K(t,e){function n(u,{args:f=[],attach:p,...m},_){let S=`${u[0].toUpperCase()}${u.slice(1)}`,w;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const x=m.object;w=Up(x,{type:u,root:_,attach:p,primitive:!0})}else{const x=UA[S];if(!x)throw new Error(`R3F: ${S} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");w=Up(new x(...f),{type:u,root:_,attach:p,memoizedProps:{args:f}})}return w.__r3f.attach===void 0&&(w.isBufferGeometry?w.__r3f.attach="geometry":w.isMaterial&&(w.__r3f.attach="material")),S!=="inject"&&tC(w,m),w}function r(u,f){let p=!1;if(f){var m,_;(m=f.__r3f)!=null&&m.attach?eC(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),p=!0),p||(_=u.__r3f)==null||_.objects.push(f),f.__r3f||Up(f,{}),f.__r3f.parent=u,xT(f),Vp(f)}}function i(u,f,p){let m=!1;if(f){var _,S;if((_=f.__r3f)!=null&&_.attach)eC(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const w=u.children.filter(C=>C!==f),x=w.indexOf(p);u.children=[...w.slice(0,x),f,...w.slice(x)],m=!0}m||(S=u.__r3f)==null||S.objects.push(f),f.__r3f||Up(f,{}),f.__r3f.parent=u,xT(f),Vp(f)}}function s(u,f,p=!1){u&&[...u].forEach(m=>o(f,m,p))}function o(u,f,p){if(f){var m,_,S;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==f)),(_=f.__r3f)!=null&&_.attach)aL(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var w;u.remove(f),(w=f.__r3f)!=null&&w.root&&TK(Gx(f),f)}const C=(S=f.__r3f)==null?void 0:S.primitive,T=!C&&(p===void 0?f.dispose!==null:p);if(!C){var x;s((x=f.__r3f)==null?void 0:x.objects,f,T),s(f.children,f,T)}if(delete f.__r3f,T&&f.dispose&&f.type!=="Scene"){const A=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?nL.unstable_scheduleCallback(nL.unstable_IdlePriority,A):A()}Vp(u)}}function a(u,f,p,m){var _;const S=(_=u.__r3f)==null?void 0:_.parent;if(!S)return;const w=n(f,p,u.__r3f.root);if(u.children){for(const x of u.children)x.__r3f&&r(w,x);u.children=u.children.filter(x=>!x.__r3f)}u.__r3f.objects.forEach(x=>r(w,x)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(S,u),w.parent&&(w.__r3f.autoRemovedBeforeAppend=!0),r(S,w),w.raycast&&w.__r3f.eventCount&&Gx(w).getState().internal.interaction.push(w),[m,m.alternate].forEach(x=>{x!==null&&(x.stateNode=w,x.ref&&(typeof x.ref=="function"?x.ref(w):x.ref.current=w))})}const l=()=>{};return{reconciler:pK({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,p)=>{if(!f||!p)return;const m=u.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,p,m){var _;if(((_=u==null?void 0:u.__r3f)!=null?_:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:w=[],children:x,...C}=m,{args:T=[],children:A,...L}=p;if(!Array.isArray(w))throw new Error("R3F: the args prop must be an array!");if(w.some((N,z)=>N!==T[z]))return[!0];const R=GN(u,C,L,!0);return R.changes.length?[!1,R]:null}},commitUpdate(u,[f,p],m,_,S,w){f?a(u,m,S,w):tC(u,p)},commitMount(u,f,p,m){var _;const S=(_=u.__r3f)!=null?_:{};u.raycast&&S.handlers&&S.eventCount&&Gx(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Up(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&aL(m,u,p),u.isObject3D&&(u.visible=!1),Vp(u)},unhideInstance(u,f){var p;const{attach:m,parent:_}=(p=u.__r3f)!=null?p:{};m&&_&&eC(_,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Vp(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Yp.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&vr.fun(performance.now)?performance.now:vr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:vr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:vr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:tC}}var rL,iL;const QE=t=>"colorSpace"in t||"outputColorSpace"in t,FN=()=>{var t;return(t=UA.ColorManagement)!=null?t:null},zN=t=>t&&t.isOrthographicCamera,vK=t=>t&&t.hasOwnProperty("current"),f_=typeof window<"u"&&((rL=window.document)!=null&&rL.createElement||((iL=window.navigator)==null?void 0:iL.product)==="ReactNative")?Re.useLayoutEffect:Re.useEffect;function UN(t){const e=Re.useRef(t);return f_(()=>void(e.current=t),[t]),e}function xK({set:t}){return f_(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class VN extends Re.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}VN.getDerivedStateFromError=()=>({error:!0});const HN="__default",sL=new Map,SK=t=>t&&!!t.memoized&&!!t.changes;function WN(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const my=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Gx(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const vr={obj:t=>t===Object(t)&&!vr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(vr.str(t)||vr.num(t)||vr.boo(t))return t===e;const s=vr.obj(t);if(s&&r==="reference")return t===e;const o=vr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!vr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(vr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function wK(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function bK(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Up(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function vT(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const oL=/-\d+$/;function eC(t,e,n){if(vr.str(n)){if(oL.test(n)){const s=n.replace(oL,""),{target:o,key:a}=vT(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=vT(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function aL(t,e,n){var r,i;if(vr.str(n)){const{target:s,key:o}=vT(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function GN(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),p=[];if(c){const _=Object.keys(l);for(let S=0;S<_.length;S++)i.hasOwnProperty(_[S])||f.unshift([_[S],HN+"remove"])}f.forEach(([_,S])=>{var w;if((w=t.__r3f)!=null&&w.primitive&&_==="object"||vr.equ(S,l[_]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(_))return p.push([_,S,!0,[]]);let x=[];_.includes("-")&&(x=_.split("-")),p.push([_,S,!1,x]);for(const C in i){const T=i[C];C.startsWith(`${_}-`)&&p.push([C,T,!1,C.split("-")])}});const m={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:p}}function tC(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=SK(e)?e:GN(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,_,S,w]=a[p];if(QE(t)){const A="srgb",L="srgb-linear";m==="encoding"?(m="colorSpace",_=_===3001?A:L):m==="outputEncoding"&&(m="outputColorSpace",_=_===3001?A:L)}let x=t,C=x[m];if(w.length&&(C=w.reduce((T,A)=>T[A],t),!(C&&C.set))){const[T,...A]=w.reverse();x=A.reverse().reduce((L,R)=>L[R],t),m=T}if(_===HN+"remove")if(x.constructor){let T=sL.get(x.constructor);T||(T=new x.constructor,sL.set(x.constructor,T)),_=T[m]}else _=0;if(S&&r)_?r.handlers[m]=_:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(C&&C.set&&(C.copy||C instanceof Gf)){if(Array.isArray(_))C.fromArray?C.fromArray(_):C.set(..._);else if(C.copy&&_&&_.constructor&&C.constructor===_.constructor)C.copy(_);else if(_!==void 0){var c;const T=(c=C)==null?void 0:c.isColor;!T&&C.setScalar?C.setScalar(_):C instanceof Gf&&_ instanceof Gf?C.mask=_.mask:C.set(_),!FN()&&s&&!s.linear&&T&&C.convertSRGBToLinear()}}else{var u;if(x[m]=_,(u=x[m])!=null&&u.isTexture&&x[m].format===cs&&x[m].type===$a&&s){const T=x[m];QE(T)&&QE(s.gl)?T.colorSpace=s.gl.outputColorSpace:T.encoding=s.gl.outputEncoding}}Vp(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const p=Gx(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),r.eventCount&&p.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&xT(t),t}function Vp(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function xT(t){t.onUpdate==null||t.onUpdate(t)}function EK(t,e){t.manual||(zN(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function yx(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function CK(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Yp.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Yp.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Yp.ContinuousEventPriority;default:return Yp.DefaultEventPriority}}function $N(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function TK(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{$N(n.capturedMap,e,r,i)})}function MK(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let x=0;x<m.length;x++){const C=my(m[x]);C&&(C.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function _(x){const C=my(x);if(!C||!C.events.enabled||C.raycaster.camera===null)return[];if(C.raycaster.camera===void 0){var T;C.events.compute==null||C.events.compute(l,C,(T=C.previousRoot)==null?void 0:T.getState()),C.raycaster.camera===void 0&&(C.raycaster.camera=null)}return C.raycaster.camera?C.raycaster.intersectObject(x,!0):[]}let S=m.flatMap(_).sort((x,C)=>{const T=my(x.object),A=my(C.object);return!T||!A?x.distance-C.distance:A.events.priority-T.events.priority||x.distance-C.distance}).filter(x=>{const C=yx(x);return f.has(C)?!1:(f.add(C),!0)});u.events.filter&&(S=u.events.filter(S,u));for(const x of S){let C=x.object;for(;C;){var w;(w=C.__r3f)!=null&&w.eventCount&&p.push({...x,eventObject:C}),C=C.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let x of u.internal.capturedMap.get(l.pointerId).values())f.has(yx(x.intersection))||p.push(x.intersection);return p}function i(l,c,u,f){const p=t.getState();if(l.length){const m={stopped:!1};for(const _ of l){const S=my(_.object)||p,{raycaster:w,pointer:x,camera:C,internal:T}=S,A=new se(x.x,x.y,0).unproject(C),L=I=>{var B,q;return(B=(q=T.capturedMap.get(I))==null?void 0:q.has(_.eventObject))!=null?B:!1},R=I=>{const B={intersection:_,target:c.target};T.capturedMap.has(I)?T.capturedMap.get(I).set(_.eventObject,B):T.capturedMap.set(I,new Map([[_.eventObject,B]])),c.target.setPointerCapture(I)},N=I=>{const B=T.capturedMap.get(I);B&&$N(T.capturedMap,_.eventObject,B,I)};let z={};for(let I in c){let B=c[I];typeof B!="function"&&(z[I]=B)}let D={..._,...z,pointer:x,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:A,ray:w.ray,camera:C,stopPropagation(){const I="pointerId"in c&&T.capturedMap.get(c.pointerId);if((!I||I.has(_.eventObject))&&(D.stopped=m.stopped=!0,T.hovered.size&&Array.from(T.hovered.values()).find(B=>B.eventObject===_.eventObject))){const B=l.slice(0,l.indexOf(_));s([...B,_])}},target:{hasPointerCapture:L,setPointerCapture:R,releasePointerCapture:N},currentTarget:{hasPointerCapture:L,setPointerCapture:R,releasePointerCapture:N},nativeEvent:c};if(f(D),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(yx(u)),p!=null&&p.eventCount){const _={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(_),m.onPointerLeave==null||m.onPointerLeave(_)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:p}=t.getState();p.lastEvent.current=u;const m=l==="onPointerMove",_=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=r(u,m?n:void 0),x=_?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=w.map(T=>T.eventObject)),_&&!w.length&&x<=2&&(o(u,p.interaction),f&&f(u)),m&&s(w);function C(T){const A=T.eventObject,L=A.__r3f,R=L==null?void 0:L.handlers;if(L!=null&&L.eventCount)if(m){if(R.onPointerOver||R.onPointerEnter||R.onPointerOut||R.onPointerLeave){const N=yx(T),z=p.hovered.get(N);z?z.stopped&&T.stopPropagation():(p.hovered.set(N,T),R.onPointerOver==null||R.onPointerOver(T),R.onPointerEnter==null||R.onPointerEnter(T))}R.onPointerMove==null||R.onPointerMove(T)}else{const N=R[l];N?(!_||p.initialHits.includes(A))&&(o(u,p.interaction.filter(z=>!p.initialHits.includes(z))),N(T)):_&&p.initialHits.includes(A)&&o(u,p.interaction.filter(z=>!p.initialHits.includes(z)))}}i(w,u,x,C)}}return{handlePointer:a}}const jN=t=>!!(t!=null&&t.render),qN=Re.createContext(null),AK=(t,e)=>{const n=iK((a,l)=>{const c=new se,u=new se,f=new se;function p(x=l().camera,C=u,T=l().size){const{width:A,height:L,top:R,left:N}=T,z=A/L;C.isVector3?f.copy(C):f.set(...C);const D=x.getWorldPosition(c).distanceTo(f);if(zN(x))return{width:A/x.zoom,height:L/x.zoom,top:R,left:N,factor:1,distance:D,aspect:z};{const I=x.fov*Math.PI/180,B=2*Math.tan(I/2)*D,q=B*(A/L);return{width:q,height:B,top:R,left:N,factor:A/q,distance:D,aspect:z}}}let m;const _=x=>a(C=>({performance:{...C.performance,current:x}})),S=new qe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(x=1)=>t(l(),x),advance:(x,C)=>e(x,C,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new DA,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const x=l();m&&clearTimeout(m),x.performance.current!==x.performance.min&&_(x.performance.min),m=setTimeout(()=>_(l().performance.max),x.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:x=>a(C=>({...C,events:{...C.events,...x}})),setSize:(x,C,T,A,L)=>{const R=l().camera,N={width:x,height:C,top:A||0,left:L||0,updateStyle:T};a(z=>({size:N,viewport:{...z.viewport,...p(R,u,N)}}))},setDpr:x=>a(C=>{const T=WN(x);return{viewport:{...C.viewport,dpr:T,initialDpr:C.viewport.initialDpr||T}}}),setFrameloop:(x="always")=>{const C=l().clock;C.stop(),C.elapsedTime=0,x!=="never"&&(C.start(),C.elapsedTime=0),a(()=>({frameloop:x}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Re.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(x,C,T)=>{const A=l().internal;return A.priority=A.priority+(C>0?1:0),A.subscribers.push({ref:x,priority:C,store:T}),A.subscribers=A.subscribers.sort((L,R)=>L.priority-R.priority),()=>{const L=l().internal;L!=null&&L.subscribers&&(L.priority=L.priority-(C>0?1:0),L.subscribers=L.subscribers.filter(R=>R.ref!==x))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,EK(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let _x,kK=new Set,RK=new Set,PK=new Set;function nC(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function gy(t,e){switch(t){case"before":return nC(kK,e);case"after":return nC(RK,e);case"tail":return nC(PK,e)}}let rC,iC;function sC(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),rC=e.internal.subscribers,_x=0;_x<rC.length;_x++)iC=rC[_x],iC.ref.current(iC.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function LK(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,gy("before",c),n=!0;for(const f of t.values()){var u;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=sC(c,s))}if(n=!1,gy("after",c),r===0)return gy("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var f;if(!c)return t.forEach(p=>a(p.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,f,p){if(u&&gy("before",c),f)sC(c,f,p);else for(const m of t.values())sC(c,m.store.getState());u&&gy("after",c)}return{loop:o,invalidate:a,advance:l}}function XN(){const t=Re.useContext(qN);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Ac(t=n=>n,e){return XN()(t,e)}function VA(t,e=0){const n=XN(),r=n.getState().internal.subscribe,i=UN(t);return f_(()=>r(i,e,n),[e,r,n]),null}const lL=new WeakMap;function YN(t,e){return function(n,...r){let i=lL.get(n);return i||(i=new n,lL.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,wK(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function qu(t,e,n,r){const i=Array.isArray(e)?e:[e],s=oK(YN(n,r),[t,...i],{equal:vr.equ});return Array.isArray(e)?s:s[0]}qu.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return aK(YN(n),[t,...r])};qu.clear=function(t,e){const n=Array.isArray(e)?e:[e];return lK([t,...n])};const Em=new Map,{invalidate:cL,advance:uL}=LK(Em),{reconciler:tw,applyProps:Lp}=_K(Em,CK),Ip={objects:"shallow",strict:!1},IK=(t,e)=>{const n=typeof t=="function"?t(e):t;return jN(n)?n:new ON({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function DK(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function OK(t){const e=Em.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||AK(cL,uL),o=n||tw.createContainer(s,Yp.ConcurrentRoot,null,!1,null,"",i,null);e||Em.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:p,scene:m,events:_,onCreated:S,shadows:w=!1,linear:x=!1,flat:C=!1,legacy:T=!1,orthographic:A=!1,frameloop:L="always",dpr:R=[1,2],performance:N,raycaster:z,camera:D,onPointerMissed:I}=u,B=s.getState(),q=B.gl;B.gl||B.set({gl:q=IK(f,t)});let K=B.raycaster;K||B.set({raycaster:K=new MN});const{params:j,...J}=z||{};if(vr.equ(J,K,Ip)||Lp(K,{...J}),vr.equ(j,K.params,Ip)||Lp(K,{params:{...K.params,...j}}),!B.camera||B.camera===c&&!vr.equ(c,D,Ip)){c=D;const V=D instanceof i_,G=V?D:A?new Ju(0,0,0,0,.1,1e3):new $r(75,0,.1,1e3);V||(G.position.z=5,D&&(Lp(G,D),("aspect"in D||"left"in D||"right"in D||"bottom"in D||"top"in D)&&(G.manual=!0,G.updateProjectionMatrix())),!B.camera&&!(D!=null&&D.rotation)&&G.lookAt(0,0,0)),B.set({camera:G}),K.camera=G}if(!B.scene){let V;m!=null&&m.isScene?V=m:(V=new pA,m&&Lp(V,m)),B.set({scene:Up(V)})}if(!B.xr){var $;const V=(Z,ue)=>{const me=s.getState();me.frameloop!=="never"&&uL(Z,!0,me,ue)},G=()=>{const Z=s.getState();Z.gl.xr.enabled=Z.gl.xr.isPresenting,Z.gl.xr.setAnimationLoop(Z.gl.xr.isPresenting?V:null),Z.gl.xr.isPresenting||cL(Z)},oe={connect(){const Z=s.getState().gl;Z.xr.addEventListener("sessionstart",G),Z.xr.addEventListener("sessionend",G)},disconnect(){const Z=s.getState().gl;Z.xr.removeEventListener("sessionstart",G),Z.xr.removeEventListener("sessionend",G)}};typeof(($=q.xr)==null?void 0:$.addEventListener)=="function"&&oe.connect(),B.set({xr:oe})}if(q.shadowMap){const V=q.shadowMap.enabled,G=q.shadowMap.type;if(q.shadowMap.enabled=!!w,vr.boo(w))q.shadowMap.type=Ky;else if(vr.str(w)){var ie;const oe={basic:FO,percentage:t1,soft:Ky,variance:Ba};q.shadowMap.type=(ie=oe[w])!=null?ie:Ky}else vr.obj(w)&&Object.assign(q.shadowMap,w);(V!==q.shadowMap.enabled||G!==q.shadowMap.type)&&(q.shadowMap.needsUpdate=!0)}const U=FN();U&&("enabled"in U?U.enabled=!T:"legacyMode"in U&&(U.legacyMode=T)),l||Lp(q,{outputEncoding:x?3e3:3001,toneMapping:C?Cl:JM}),B.legacy!==T&&B.set(()=>({legacy:T})),B.linear!==x&&B.set(()=>({linear:x})),B.flat!==C&&B.set(()=>({flat:C})),f&&!vr.fun(f)&&!jN(f)&&!vr.equ(f,q,Ip)&&Lp(q,f),_&&!B.events.handlers&&B.set({events:_(s)});const ee=DK(t,p);return vr.equ(ee,B.size,Ip)||B.setSize(ee.width,ee.height,ee.updateStyle,ee.top,ee.left),R&&B.viewport.dpr!==WN(R)&&B.setDpr(R),B.frameloop!==L&&B.setFrameloop(L),B.onPointerMissed||B.set({onPointerMissed:I}),N&&!vr.equ(N,B.performance,Ip)&&B.set(V=>({performance:{...V.performance,...N}})),a=S,l=!0,this},render(u){return l||this.configure(),tw.updateContainer(ne.jsx(NK,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){KN(t)}}}function NK({store:t,children:e,onCreated:n,rootElement:r}){return f_(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),ne.jsx(qN.Provider,{value:t,children:e})}function KN(t,e){const n=Em.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),tw.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),bK(i),Em.delete(t)}catch{}},500)})}}tw.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Re.version});const oC={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function BK(t){const{handlePointer:e}=MK(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(oC).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=oC[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=oC[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function hL(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function FK({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=Re.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=Re.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=Re.useRef(!1);Re.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,p,m]=Re.useMemo(()=>{const x=()=>{if(!a.current.element)return;const{left:C,top:T,width:A,height:L,bottom:R,right:N,x:z,y:D}=a.current.element.getBoundingClientRect(),I={left:C,top:T,width:A,height:L,bottom:R,right:N,x:z,y:D};a.current.element instanceof HTMLElement&&r&&(I.height=a.current.element.offsetHeight,I.width=a.current.element.offsetWidth),Object.freeze(I),u.current&&!HK(a.current.lastBounds,I)&&o(a.current.lastBounds=I)};return[x,c?hL(x,c):x,l?hL(x,l):x]},[o,r,l,c]);function _(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function S(){a.current.element&&(a.current.resizeObserver=new i(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(x=>x.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const w=x=>{!x||x===a.current.element||(_(),a.current.element=x,a.current.scrollContainers=ZN(x),S())};return UK(m,!!e),zK(p),Re.useEffect(()=>{_(),S()},[e,m,p]),Re.useEffect(()=>_,[]),[w,s,f]}function zK(t){Re.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function UK(t,e){Re.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function ZN(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...ZN(t.parentElement)]}const VK=["x","y","top","bottom","left","right","width","height"],HK=(t,e)=>VK.every(n=>t[n]===e[n]);var WK=Object.defineProperty,GK=Object.defineProperties,$K=Object.getOwnPropertyDescriptors,fL=Object.getOwnPropertySymbols,jK=Object.prototype.hasOwnProperty,qK=Object.prototype.propertyIsEnumerable,dL=(t,e,n)=>e in t?WK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pL=(t,e)=>{for(var n in e||(e={}))jK.call(e,n)&&dL(t,n,e[n]);if(fL)for(var n of fL(e))qK.call(e,n)&&dL(t,n,e[n]);return t},XK=(t,e)=>GK(t,$K(e)),mL,gL;typeof window<"u"&&((mL=window.document)!=null&&mL.createElement||((gL=window.navigator)==null?void 0:gL.product)==="ReactNative")?Re.useLayoutEffect:Re.useEffect;function JN(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=JN(r,e,n);if(i)return i;r=r.sibling}}function QN(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const yL=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=yL;return}return yL.apply(this,arguments)};const HA=QN(Re.createContext(null));class eB extends Re.Component{render(){return Re.createElement(HA.Provider,{value:this._reactInternals},this.props.children)}}function YK(){const t=Re.useContext(HA);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Re.useId();return Re.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=JN(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function KK(){const t=YK(),[e]=Re.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==HA&&!e.has(i)&&e.set(i,Re.useContext(QN(i)))}n=n.return}return e}function ZK(){const t=KK();return Re.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>Re.createElement(e,null,Re.createElement(n.Provider,XK(pL({},r),{value:t.get(n)}))),e=>Re.createElement(eB,pL({},e))),[t])}const JK=Re.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=BK,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:_,dpr:S,performance:w,raycaster:x,camera:C,scene:T,onPointerMissed:A,onCreated:L,...R},N){Re.useMemo(()=>yK(QY),[]);const z=ZK(),[D,I]=FK({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=Re.useRef(null),q=Re.useRef(null);Re.useImperativeHandle(N,()=>B.current);const K=UN(A),[j,J]=Re.useState(!1),[$,ie]=Re.useState(!1);if(j)throw j;if($)throw $;const U=Re.useRef(null);f_(()=>{const V=B.current;I.width>0&&I.height>0&&V&&(U.current||(U.current=OK(V)),U.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:_,dpr:S,performance:w,raycaster:x,camera:C,scene:T,size:I,onPointerMissed:(...G)=>K.current==null?void 0:K.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(a?vK(a)?a.current:a:q.current),l&&G.setEvents({compute:(oe,Z)=>{const ue=oe[l+"X"],me=oe[l+"Y"];Z.pointer.set(ue/Z.size.width*2-1,-(me/Z.size.height)*2+1),Z.raycaster.setFromCamera(Z.pointer,Z.camera)}}),L==null||L(G)}}),U.current.render(ne.jsx(z,{children:ne.jsx(VN,{set:ie,children:ne.jsx(Re.Suspense,{fallback:ne.jsx(xK,{set:J}),children:e??null})})})))}),Re.useEffect(()=>{const V=B.current;if(V)return()=>KN(V)},[]);const ee=a?"none":"auto";return ne.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:ee,...i},...R,children:ne.jsx("div",{ref:D,style:{width:"100%",height:"100%"},children:ne.jsx("canvas",{ref:B,style:{display:"block"},children:n})})})}),QK=Re.forwardRef(function(e,n){return ne.jsx(eB,{children:ne.jsx(JK,{...e,ref:n})})});function ST(){return ST=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ST.apply(null,arguments)}var eZ=Object.defineProperty,tZ=(t,e,n)=>e in t?eZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nZ=(t,e,n)=>(tZ(t,e+"",n),n);class rZ{constructor(){nZ(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var iZ=Object.defineProperty,sZ=(t,e,n)=>e in t?iZ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sn=(t,e,n)=>(sZ(t,typeof e!="symbol"?e+"":e,n),n);const vx=new od,_L=new Pc,oZ=Math.cos(70*(Math.PI/180)),vL=(t,e)=>(t%e+e)%e;let aZ=class extends rZ{constructor(e,n){super(),sn(this,"object"),sn(this,"domElement"),sn(this,"enabled",!0),sn(this,"target",new se),sn(this,"minDistance",0),sn(this,"maxDistance",1/0),sn(this,"minZoom",0),sn(this,"maxZoom",1/0),sn(this,"minPolarAngle",0),sn(this,"maxPolarAngle",Math.PI),sn(this,"minAzimuthAngle",-1/0),sn(this,"maxAzimuthAngle",1/0),sn(this,"enableDamping",!1),sn(this,"dampingFactor",.05),sn(this,"enableZoom",!0),sn(this,"zoomSpeed",1),sn(this,"enableRotate",!0),sn(this,"rotateSpeed",1),sn(this,"enablePan",!0),sn(this,"panSpeed",1),sn(this,"screenSpacePanning",!0),sn(this,"keyPanSpeed",7),sn(this,"zoomToCursor",!1),sn(this,"autoRotate",!1),sn(this,"autoRotateSpeed",2),sn(this,"reverseOrbit",!1),sn(this,"reverseHorizontalOrbit",!1),sn(this,"reverseVerticalOrbit",!1),sn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),sn(this,"mouseButtons",{LEFT:yf.ROTATE,MIDDLE:yf.DOLLY,RIGHT:yf.PAN}),sn(this,"touches",{ONE:_f.ROTATE,TWO:_f.DOLLY_PAN}),sn(this,"target0"),sn(this,"position0"),sn(this,"zoom0"),sn(this,"_domElementKeyEvents",null),sn(this,"getPolarAngle"),sn(this,"getAzimuthalAngle"),sn(this,"setPolarAngle"),sn(this,"setAzimuthalAngle"),sn(this,"getDistance"),sn(this,"getZoomScale"),sn(this,"listenToKeyEvents"),sn(this,"stopListenToKeyEvents"),sn(this,"saveState"),sn(this,"reset"),sn(this,"update"),sn(this,"connect"),sn(this,"dispose"),sn(this,"dollyIn"),sn(this,"dollyOut"),sn(this,"getScale"),sn(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=he=>{let Fe=vL(he,2*Math.PI),at=u.phi;at<0&&(at+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let fe=Math.abs(Fe-at);2*Math.PI-fe<fe&&(Fe<at?Fe+=2*Math.PI:at+=2*Math.PI),f.phi=Fe-at,r.update()},this.setAzimuthalAngle=he=>{let Fe=vL(he,2*Math.PI),at=u.theta;at<0&&(at+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let fe=Math.abs(Fe-at);2*Math.PI-fe<fe&&(Fe<at?Fe+=2*Math.PI:at+=2*Math.PI),f.theta=Fe-at,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",Ve),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ve),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const he=new se,Fe=new se(0,1,0),at=new us().setFromUnitVectors(e.up,Fe),fe=at.clone().invert(),tt=new se,Le=new us,He=2*Math.PI;return function(){const vt=r.object.position;at.setFromUnitVectors(e.up,Fe),fe.copy(at).invert(),he.copy(vt).sub(r.target),he.applyQuaternion(at),u.setFromVector3(he),r.autoRotate&&l===a.NONE&&j(q()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Et=r.minAzimuthAngle,_n=r.maxAzimuthAngle;isFinite(Et)&&isFinite(_n)&&(Et<-Math.PI?Et+=He:Et>Math.PI&&(Et-=He),_n<-Math.PI?_n+=He:_n>Math.PI&&(_n-=He),Et<=_n?u.theta=Math.max(Et,Math.min(_n,u.theta)):u.theta=u.theta>(Et+_n)/2?Math.max(Et,u.theta):Math.min(_n,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&D||r.object.isOrthographicCamera?u.radius=Z(u.radius):u.radius=Z(u.radius*p),he.setFromSpherical(u),he.applyQuaternion(fe),vt.copy(r.target).add(he),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let Qn=!1;if(r.zoomToCursor&&D){let yn=null;if(r.object instanceof $r&&r.object.isPerspectiveCamera){const fr=he.length();yn=Z(fr*p);const Sr=fr-yn;r.object.position.addScaledVector(N,Sr),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const fr=new se(z.x,z.y,0);fr.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Qn=!0;const Sr=new se(z.x,z.y,0);Sr.unproject(r.object),r.object.position.sub(Sr).add(fr),r.object.updateMatrixWorld(),yn=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;yn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(yn).add(r.object.position):(vx.origin.copy(r.object.position),vx.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(vx.direction))<oZ?e.lookAt(r.target):(_L.setFromNormalAndCoplanarPoint(r.object.up,r.target),vx.intersectPlane(_L,r.target))))}else r.object instanceof Ju&&r.object.isOrthographicCamera&&(Qn=p!==1,Qn&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,D=!1,Qn||tt.distanceToSquared(r.object.position)>c||8*(1-Le.dot(r.object.quaternion))>c?(r.dispatchEvent(i),tt.copy(r.object.position),Le.copy(r.object.quaternion),Qn=!1,!0):!1}})(),this.connect=he=>{r.domElement=he,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Xe),r.domElement.addEventListener("pointerdown",Q),r.domElement.addEventListener("pointercancel",Ne),r.domElement.addEventListener("wheel",Pe)},this.dispose=()=>{var he,Fe,at,fe,tt,Le;r.domElement&&(r.domElement.style.touchAction="auto"),(he=r.domElement)==null||he.removeEventListener("contextmenu",Xe),(Fe=r.domElement)==null||Fe.removeEventListener("pointerdown",Q),(at=r.domElement)==null||at.removeEventListener("pointercancel",Ne),(fe=r.domElement)==null||fe.removeEventListener("wheel",Pe),(tt=r.domElement)==null||tt.ownerDocument.removeEventListener("pointermove",be),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",Ne),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ve)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new mT,f=new mT;let p=1;const m=new se,_=new qe,S=new qe,w=new qe,x=new qe,C=new qe,T=new qe,A=new qe,L=new qe,R=new qe,N=new se,z=new qe;let D=!1;const I=[],B={};function q(){return 2*Math.PI/60/60*r.autoRotateSpeed}function K(){return Math.pow(.95,r.zoomSpeed)}function j(he){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=he:f.theta-=he}function J(he){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=he:f.phi-=he}const $=(()=>{const he=new se;return function(at,fe){he.setFromMatrixColumn(fe,0),he.multiplyScalar(-at),m.add(he)}})(),ie=(()=>{const he=new se;return function(at,fe){r.screenSpacePanning===!0?he.setFromMatrixColumn(fe,1):(he.setFromMatrixColumn(fe,0),he.crossVectors(r.object.up,he)),he.multiplyScalar(at),m.add(he)}})(),U=(()=>{const he=new se;return function(at,fe){const tt=r.domElement;if(tt&&r.object instanceof $r&&r.object.isPerspectiveCamera){const Le=r.object.position;he.copy(Le).sub(r.target);let He=he.length();He*=Math.tan(r.object.fov/2*Math.PI/180),$(2*at*He/tt.clientHeight,r.object.matrix),ie(2*fe*He/tt.clientHeight,r.object.matrix)}else tt&&r.object instanceof Ju&&r.object.isOrthographicCamera?($(at*(r.object.right-r.object.left)/r.object.zoom/tt.clientWidth,r.object.matrix),ie(fe*(r.object.top-r.object.bottom)/r.object.zoom/tt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function ee(he){r.object instanceof $r&&r.object.isPerspectiveCamera||r.object instanceof Ju&&r.object.isOrthographicCamera?p=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function V(he){ee(p/he)}function G(he){ee(p*he)}function oe(he){if(!r.zoomToCursor||!r.domElement)return;D=!0;const Fe=r.domElement.getBoundingClientRect(),at=he.clientX-Fe.left,fe=he.clientY-Fe.top,tt=Fe.width,Le=Fe.height;z.x=at/tt*2-1,z.y=-(fe/Le)*2+1,N.set(z.x,z.y,1).unproject(r.object).sub(r.object.position).normalize()}function Z(he){return Math.max(r.minDistance,Math.min(r.maxDistance,he))}function ue(he){_.set(he.clientX,he.clientY)}function me(he){oe(he),A.set(he.clientX,he.clientY)}function we(he){x.set(he.clientX,he.clientY)}function Me(he){S.set(he.clientX,he.clientY),w.subVectors(S,_).multiplyScalar(r.rotateSpeed);const Fe=r.domElement;Fe&&(j(2*Math.PI*w.x/Fe.clientHeight),J(2*Math.PI*w.y/Fe.clientHeight)),_.copy(S),r.update()}function ze(he){L.set(he.clientX,he.clientY),R.subVectors(L,A),R.y>0?V(K()):R.y<0&&G(K()),A.copy(L),r.update()}function rt(he){C.set(he.clientX,he.clientY),T.subVectors(C,x).multiplyScalar(r.panSpeed),U(T.x,T.y),x.copy(C),r.update()}function Ke(he){oe(he),he.deltaY<0?G(K()):he.deltaY>0&&V(K()),r.update()}function xt(he){let Fe=!1;switch(he.code){case r.keys.UP:U(0,r.keyPanSpeed),Fe=!0;break;case r.keys.BOTTOM:U(0,-r.keyPanSpeed),Fe=!0;break;case r.keys.LEFT:U(r.keyPanSpeed,0),Fe=!0;break;case r.keys.RIGHT:U(-r.keyPanSpeed,0),Fe=!0;break}Fe&&(he.preventDefault(),r.update())}function We(){if(I.length==1)_.set(I[0].pageX,I[0].pageY);else{const he=.5*(I[0].pageX+I[1].pageX),Fe=.5*(I[0].pageY+I[1].pageY);_.set(he,Fe)}}function Oe(){if(I.length==1)x.set(I[0].pageX,I[0].pageY);else{const he=.5*(I[0].pageX+I[1].pageX),Fe=.5*(I[0].pageY+I[1].pageY);x.set(he,Fe)}}function re(){const he=I[0].pageX-I[1].pageX,Fe=I[0].pageY-I[1].pageY,at=Math.sqrt(he*he+Fe*Fe);A.set(0,at)}function pt(){r.enableZoom&&re(),r.enablePan&&Oe()}function Ge(){r.enableZoom&&re(),r.enableRotate&&We()}function ot(he){if(I.length==1)S.set(he.pageX,he.pageY);else{const at=gt(he),fe=.5*(he.pageX+at.x),tt=.5*(he.pageY+at.y);S.set(fe,tt)}w.subVectors(S,_).multiplyScalar(r.rotateSpeed);const Fe=r.domElement;Fe&&(j(2*Math.PI*w.x/Fe.clientHeight),J(2*Math.PI*w.y/Fe.clientHeight)),_.copy(S)}function Qe(he){if(I.length==1)C.set(he.pageX,he.pageY);else{const Fe=gt(he),at=.5*(he.pageX+Fe.x),fe=.5*(he.pageY+Fe.y);C.set(at,fe)}T.subVectors(C,x).multiplyScalar(r.panSpeed),U(T.x,T.y),x.copy(C)}function Rt(he){const Fe=gt(he),at=he.pageX-Fe.x,fe=he.pageY-Fe.y,tt=Math.sqrt(at*at+fe*fe);L.set(0,tt),R.set(0,Math.pow(L.y/A.y,r.zoomSpeed)),V(R.y),A.copy(L)}function je(he){r.enableZoom&&Rt(he),r.enablePan&&Qe(he)}function te(he){r.enableZoom&&Rt(he),r.enableRotate&&ot(he)}function Q(he){var Fe,at;r.enabled!==!1&&(I.length===0&&((Fe=r.domElement)==null||Fe.ownerDocument.addEventListener("pointermove",be),(at=r.domElement)==null||at.ownerDocument.addEventListener("pointerup",Ne)),_t(he),he.pointerType==="touch"?Ye(he):$e(he))}function be(he){r.enabled!==!1&&(he.pointerType==="touch"?St(he):ce(he))}function Ne(he){var Fe,at,fe;kt(he),I.length===0&&((Fe=r.domElement)==null||Fe.releasePointerCapture(he.pointerId),(at=r.domElement)==null||at.ownerDocument.removeEventListener("pointermove",be),(fe=r.domElement)==null||fe.ownerDocument.removeEventListener("pointerup",Ne)),r.dispatchEvent(o),l=a.NONE}function $e(he){let Fe;switch(he.button){case 0:Fe=r.mouseButtons.LEFT;break;case 1:Fe=r.mouseButtons.MIDDLE;break;case 2:Fe=r.mouseButtons.RIGHT;break;default:Fe=-1}switch(Fe){case yf.DOLLY:if(r.enableZoom===!1)return;me(he),l=a.DOLLY;break;case yf.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enablePan===!1)return;we(he),l=a.PAN}else{if(r.enableRotate===!1)return;ue(he),l=a.ROTATE}break;case yf.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enableRotate===!1)return;ue(he),l=a.ROTATE}else{if(r.enablePan===!1)return;we(he),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function ce(he){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Me(he);break;case a.DOLLY:if(r.enableZoom===!1)return;ze(he);break;case a.PAN:if(r.enablePan===!1)return;rt(he);break}}function Pe(he){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(he.preventDefault(),r.dispatchEvent(s),Ke(he),r.dispatchEvent(o))}function Ve(he){r.enabled===!1||r.enablePan===!1||xt(he)}function Ye(he){switch(Lt(he),I.length){case 1:switch(r.touches.ONE){case _f.ROTATE:if(r.enableRotate===!1)return;We(),l=a.TOUCH_ROTATE;break;case _f.PAN:if(r.enablePan===!1)return;Oe(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case _f.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;pt(),l=a.TOUCH_DOLLY_PAN;break;case _f.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ge(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function St(he){switch(Lt(he),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ot(he),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Qe(he),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;je(he),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;te(he),r.update();break;default:l=a.NONE}}function Xe(he){r.enabled!==!1&&he.preventDefault()}function _t(he){I.push(he)}function kt(he){delete B[he.pointerId];for(let Fe=0;Fe<I.length;Fe++)if(I[Fe].pointerId==he.pointerId){I.splice(Fe,1);return}}function Lt(he){let Fe=B[he.pointerId];Fe===void 0&&(Fe=new qe,B[he.pointerId]=Fe),Fe.set(he.pageX,he.pageY)}function gt(he){const Fe=he.pointerId===I[0].pointerId?I[1]:I[0];return B[Fe.pointerId]}this.dollyIn=(he=K())=>{G(he),r.update()},this.dollyOut=(he=K())=>{V(he),r.update()},this.getScale=()=>p,this.setScale=he=>{ee(he),r.update()},this.getZoomScale=()=>K(),n!==void 0&&this.connect(n),this.update()}};const lZ=Re.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const f=Ac(R=>R.invalidate),p=Ac(R=>R.camera),m=Ac(R=>R.gl),_=Ac(R=>R.events),S=Ac(R=>R.setEvents),w=Ac(R=>R.set),x=Ac(R=>R.get),C=Ac(R=>R.performance),T=e||p,A=r||_.connected||m.domElement,L=Re.useMemo(()=>new aZ(T),[T]);return VA(()=>{L.enabled&&L.update()},-1),Re.useEffect(()=>(s&&L.connect(s===!0?A:s),L.connect(A),()=>void L.dispose()),[s,A,n,L,f]),Re.useEffect(()=>{const R=D=>{f(),n&&C.regress(),o&&o(D)},N=D=>{a&&a(D)},z=D=>{l&&l(D)};return L.addEventListener("change",R),L.addEventListener("start",N),L.addEventListener("end",z),()=>{L.removeEventListener("start",N),L.removeEventListener("end",z),L.removeEventListener("change",R)}},[o,a,l,L,f,S]),Re.useEffect(()=>{if(t){const R=x().controls;return w({controls:L}),()=>w({controls:R})}},[t,L]),Re.createElement("primitive",ST({ref:u,object:L,enableDamping:i},c))}),cZ=({position:t,size:e,textures:n,isSelected:r,onClick:i})=>{const s=Re.useRef(null),o=qu(xf,n.front),a=qu(xf,n.back),l=qu(xf,n.side),c=qu(xf,n.top),u=qu(xf,n.bottom),f=qu(xf,n.pages);return VA(()=>{if(s.current){const p=r?t[2]+1:t[2];s.current.position.z+=(p-s.current.position.z)*.1,r?s.current.rotation.y>-1.6&&(s.current.rotation.y-=.04,setTimeout(()=>{s.current&&(s.current.scale.y<2||s.current.scale.z<2)&&s.current.scale.set(1,s.current.scale.y+.1,s.current.scale.z+.1)},300)):(s.current.scale.set(1,1,1),s.current.rotation.y=0)}}),ne.jsxs("mesh",{ref:s,position:t,onClick:p=>{p.stopPropagation(),i()},children:[ne.jsx("boxGeometry",{args:e}),ne.jsx("meshStandardMaterial",{attach:"material-0",map:o})," ",ne.jsx("meshStandardMaterial",{attach:"material-1",map:a})," ",ne.jsx("meshStandardMaterial",{attach:"material-2",map:c})," ",ne.jsx("meshStandardMaterial",{attach:"material-3",map:u})," ",ne.jsx("meshStandardMaterial",{attach:"material-4",map:l})," ",ne.jsx("meshStandardMaterial",{attach:"material-5",map:f})," "]})},uZ=t=>{const{books:e,selectedBookId:n,onBookClick:r}=t,i=4,s=5,o=.5,a=1.5,l=1.2,c=.9,u=1.2,f=e.map(({id:p,textures:m},_)=>{const S=i-1-Math.floor(_/s),w=_%s;return{id:p,position:[(-2.5+w)*o,S*a-i*a/2+u/2,-.5],size:[.3,u,c],textures:m}});return ne.jsxs("group",{children:[ne.jsxs("mesh",{position:[-.2,-1.5*i/2-.05,-.6],children:[ne.jsx("boxGeometry",{args:[2.7,.1,l]}),ne.jsx("meshStandardMaterial",{color:"#5c4033",roughness:.9})]}),Array.from({length:i-1}).map((p,m)=>ne.jsxs("mesh",{position:[-.2,.6+(m+1)*a-i*a/2-u/2,-.5],children:[ne.jsx("boxGeometry",{args:[2.7,.1,l]}),ne.jsx("meshStandardMaterial",{color:"#5c4033",roughness:.9})]},m)),f.map((p,m)=>ne.jsx(cZ,{id:p.id,position:p.position,size:p.size,textures:p.textures,isSelected:n===p.id,onClick:()=>r(p.id)},m))]})},hZ="/assets/book_top-BeQskpo3.webp",fZ="/assets/book_bottom-CJLN1Way.webp",dZ="/assets/book_pages-DL-rbroe.webp",pZ="/assets/book_foodspring_front_cover-CMGNxJPJ.webp",mZ="data:image/webp;base64,UklGRogMAABXRUJQVlA4WAoAAAAQAAAAawEAowUAQUxQSDgAAAABDzD/ERFCbRtJykP/HVP+uujJEf2fgBR6m0tX/uM//uM//uM//uM//uM//uM//uM//uO/HSqFDlZQOCAqDAAAkK8AnQEqbAGkBT6RSJ9MJaSioiMRuAiwEglpbuF2lDZhP8lVD+d/9R3BeZNbJbw7E5TsOJkdqu26d7wDr1OQS33vbqqzZXkEt97FSAYrXjHeZJC9RujUVn3dXs4P+f/P2j6ETNq9nB/z/5+0IyV7OD/n/z9nCAD4rtXs4P+f/P2cKNaNwfJ8O0lPCEwxcxenwnOaKi9tHE+4qRp4ZLppZ6LFKE4zcNyFJkCqwGcVIUUsz7MFsaIPwr5+hRVHyZRpjXUAWkyTT6hEjIDDe8HCUqqvdgKq9WG+mdmyNT0B1McfOplz2Dr6DkOzkTgufCAsGMNYDnyHt+kZsBgwSaTeIj47rdqwokvtX/0bG1FhLMXp8nhFWbToelOgLcy7HNqr0NJwNEKN8KXBSF1ExEQAWJl5gINolOYqjjZBJ+vsSUHbeiJ5hZRhOIaZc6+KfDJawlWR2JhCC3U0YiY48J7a8MYbNP7B7OFGxEziQilruV2bbuSh4FZVXHPWC442Miq4f0kvtX/+bR+ujpEZ7gdfTC86MWjOQU2AgA+K7V7ZVG8aor31P5MjAVV7OD/nx2b2BXRuROC5/8/ZwXLxApsBAB75R/n/z9WV/OAl0xCFs2vEqKQA+K7V7OD/oE37/oAzipCklH+f/P2cKNiJm1ezg/5/8/aEZK9nB/z/5+zhAB8V2r2cH/P/n7OFGtG4P+f/P2cH/Qb02lHu6vZwf8/+j3tKkKSUf5/8/ZyJwXPhKFnoPD0bB3BaOU4CSn2X3xTG5E1Ma5WayvI5WnYRwOvpOAoIHNo95qa0a5W2SqT8k/ArCiS60KJLYXh3r7VvdD55Q8CqxoZvoRM2t798oYrgItZ8QdJVVsYtGa25Os4CAgmO5zcgD5tHrQh7oI+cfIr07DvIssPisLdmUtz+mP9JkjH/Qb02SjqyMUsOvpN9HpprsychjZr+mZw0A9l+qmLXd+PtMRXec0QUcqyoUlGmmjblGddkyxqouwFjFoz3A6+mF507GLRmtsptp5VPhkugnNVr3pFaJVbGLRnuB19IghDNi0DJgkpCyvSSD2lf8yyUa86djFozWvyfBUUJJJdaFElsLlhxZMp51/jBu68U2Af9VNiV1uBBb3ZmRaM9wOvpPAqgYFdG4Ua0bdUpAohJEb6paTDzAAF2MkfQOedOVTYle8VOLcyh4HX0wvOjFOYz5kJUe81JR7ur2cIDekpAD4rtXs4P+f/P2cKNaNwf8/+fs4P+g3ptKPd1ezg/5/9HvaVIUko/z/5+zkTguf/P2cH/P/n7sBVXs4P+f/P2cILK9JLpx/8/Zwf9BvM/z/5+zg/5/9AGexdOP/n7OD/n/6Kz7ur2cH/P/n7QjSX5/8/Zwf8/+gDOKkKSUf5/8/Zwo2ImbV7OD/n/z9oRkr2cH/P/n7OEAHxXavZwf8/+fs4Ua0bg/5/8/Zwf9BvTaUe7q9nB/z/6Pe0qQpJR/n/z9nInBc/+fs4P+f/P3YCqvZwf8/+fs4QWV6SXTj/5+zg/6DeZ/n/z9nB/z/6AM9i6cf/P2cH/P/0Vn3dXs4P+f/P2hGkvz/5+zg/5/9AGcVIUko/z/5+zhRsRM2r2cH/P/n7QjJXs4P+f/P2cIAPiu1ezg/5/8/Zwo1o3B/z/5+zg/6Dem0o93V7OD/n/0e9pUhSSj/P/n7OROC5/8/Zwf8/+fuwFVezg/5/8/Zwgsr0kunH/z9nB/0G8z/P/n7OD/n/0AZ7F04/+fs4P+f/orPu6vZwf8/+ftCNJfn/z9nB/z/6AM4qQpJR/n/z9nCjYiZtXs4P+f/P2hGSvZwf8/+fs4QAfFdq9nB/z/5+zhRrRuD/n/z9nB/0G9NpR7ur2cH/P/o/HkEt9726qs2V5BLfe9uSgAP7/VMhQT423Zzm1c5mMBgoA6wSTTTB3PyMrYOsEk00wdz8jK2DrBJNNMHc/IyturPG2d+aHLkr3dtOschAAAAAG1CuwIfywgYPgJlaiGTkwL8jGu3NAd4aMV2fvbFz5LlSXFImSUErCqgkqSn7ckO9hYDzztE6moR7sgBVjGVIdoQdCcGRFrEecos29GvDaBq3oiT3ETh/KqT+K6Nyuy5SYY0v07ilNT+2/MIAoDfPbWSy738r8fxGsPAfYOlDb2HpNBySmd2ItCmG8dycq7mDV2T+ZWahePcf+zhAiwuGojUzjErEcxUjpBRYEWoGbcFyaz+3FptJUhIvwipbwM2AonBmHJv5hf5YlvHHaLwGDY/7gK/ffmZ8OnEC2UPWjMAYN41U7YbI0iCMgk8BU0tFXzkeaLNQaIvNYjKcD4BT/aKLEC/UgnMXEn7ce3xEkuJTqBVVfI3WjgJoGcZIK9Ciycb16wI8lDdnixT0QiM3+wzOOgGpb+tYVfC+AlNO3InYHdw8XEw6a4wzl/ip1uClE5i7G3nT0d3++Mk1OOaBj6dP3U0+DKmNY35R/rKW/S35KnBIkxwnShlUv0i/o06bwaMdvKOIxyGNkKQmtcacPWRniDpllQzvihsQhUfikow+IuR3EUn7+ZCNO6o5AZmdsKUY4fTJO4HKx+V0e11rgvXN+a//3+dbw72rt9usxoSDVqytYGqlYrCq+FG9noDUnIVXofv+c6lkIeTd7gskkvBt2TlglRko4FbPeDrPv8z52JTFsNgb9Tje/Pzzoue8sxL/8vO7hEUXovZL+hRZQBN+9DN6gu9KWUAIxWicSa7SbE2YXNBSwUaLPvOdt8JYAW6zZcH7VEVZrVuSRgj8tKGC8zOlWXPCL9MN2/UAbmpHZ4MSeEk5IX5pFl6wDlQTXUyO9rC0RYHwD0OCwjAL3j5VKc6OQ77W8i99naKZenANWxty4X4oVLja537HaLk9zpSj1kZvBJGRO/mjlwNQSC+2QaA09IAJ/M5EVEcm0LrXBCQao+W2f29Jjh1z41sfn6wS7p3h92HlGqqzL2jpLwSm5XuTDb5YR5ecosPVbbxTQZ9/uFRDRmOHDnkhb7M7gj+zUaHY2vqJ2h7c3mLS2Y1t2Tc5V4rCkZbCx9f4Jeg/+M06T1VcT8pyioHc5ewnurl4v7KpMpb5ibfRL2sR3jRg3bHvp5XllQzWo2z9VQHcWtRaPetRq1PXRQoJw3D5p0YatuQPpABwUTpFC/7k3YSzLADb7AilSYE6RhDxLAHT2BFKkwJ0jCHiWYqF+G258hb6AYN3hgAp3tPKg8mygGz4lug1SuIZhvvo4jFgKLdIIGcTxQWNG2XdeiU0IMXFfgYhR5ShrUWOkAdpaRhqqMz9l02FjVw5SOaP7rxgqHfXRPHB5vYTIIaWeHlBKehevEX7tylHKrIzlrdemPANC9VdVjZnoFqVLiCyc/mEQYjI/FKk36530NITsJL9f3GnxYgMC24LxvSV0YJSXYkaH6oPz55IaBeZb/XNeBkjyBx4BJ34GwNUAklPP0N+R7hN286Rtyd+u9ECn5buIMAKnLKbyEVUy5FOSCLHzSxzG5RI9GjpTI5M0h+AWOZJpy7dyQeWh41nqtkq303seXOOq0Wix1RQpcs68N7fb+aRxrBNavXFa38Hy3eYaHeJ8abY90lu7j4OfpdG7trgyWHf8L7as9Ds+xkRMiopoDC66HN0jb3WwRBlrsvJtYO61uohN7bEPdKJyVrA+vZu2GR1NIRYIAunt9hcw4ZJyaLBiZz5WrDBZikrZzTbhUETbE8oDWFsKWAk8BPM9veytpsGertc5qiy0/Y246o6+RJS5Hcjy3VnHqL/7tiqdJyaYgKVqYI9BbtvmZf10gDY9CFr4eIyidYovZrakdB2AGmP+slWrVky2L8VpGRFH9MHcTI8boWIAF/4YiHuOLn/MKr1o7vIHo7C/uR4+Ob6eBNuA0qru5tAyCMvoEEn4h8FOpxCX5icYU1x71YR4E0d1+pUysos2j6b+AytzDwm38QM88q1B97gV7xGTAa3vHhX6A9Dq7aB19gRPBICYWohk5MC/Iwh4lgDp7AilSYE6RhDxLAHT2BFKkwJ0jCHiWAOnsCKVJgTpGEPEsAdPYEUqTAnSMIeJYA6ewIpUmBOkYQ8SwB09gRSpMCdIwh4lgDp7AilSYE6RhDxLAHT2BFKkwJ0jCHiWAOnsCKVJgTpGEPEsAdPYEUqTAnSMIeJYBZkz+BlZ1/AA",gZ="/assets/book_foodspring_back_cover-CpogWFu1.webp",tB={id:"foodspring",parentId:null,회사key:"marketboro",이름:"식자재 E-Commerce, 식봄",소개:ne.jsxs(ne.Fragment,{children:[ne.jsxs("p",{children:["식봄은 식자재 시장의 활성화를 목표로 개발된 B2B 커머스 플랫폼입니다. 이 플랫폼은 식자재 구매자와 판매자를 연결하여 효율적인 거래를 지원합니다. 특히, 판매자의 배송 유형에 따라 직배송, 택배배송 등으로 구분하여 상품을 노출하며, 이를 통해 구매자에게는 신선하고 다양한 식자재를, 판매자에게는 안정적인 판로를 제공합니다.",ne.jsx("br",{}),ne.jsx("br",{})]}),ne.jsx("h3",{className:"font-bold text-xl",children:"주요 특징: "}),ne.jsxs("ul",{className:"list-disc list-inside",children:[ne.jsx("li",{children:"다양한 배송 옵션: 판매자의 물류 역량에 따라 직배송, 택배배송 등 다양한 배송 방식을 지원하여 구매자에게 최적의 배송 서비스를 제공합니다."}),ne.jsx("li",{children:"지역 기반 상품 노출: 상품의 배송 가능 지역을 기반으로 구매자에게 맞춤형 상품을 노출하여 지역 특산물의 유통을 촉진합니다."}),ne.jsx("li",{children:"실시간 재고 관리: 판매자는 실시간으로 재고를 관리하고, 구매자는 현재 재고 상황을 즉시 확인할 수 있어 원활한 거래가 가능합니다."})]})]}),기간:"2024.01 ~ ",기술들:["react","next","tailwindcss","relay","jest","typescript","bitbucket_pipelines","datadog","vite","bun"],책:{표지:{앞:pZ,등:mZ,뒤:gZ}},업적:[{id:"php-to-next-js-transition",제목:"PHP to Next.js 전환 및 UI 작업",기술:["react","next","tailwindcss","relay","jest","typescript","bitbucket_pipelines","datadog","vite","bun"],소개:ne.jsxs(ne.Fragment,{children:["식봄은 기존에 ",ne.jsx("strong",{children:"Code Igniter"}),"라는 PHP 프레임워크를 사용하고 있었으며, 프론트엔드는 ",ne.jsx("strong",{children:"Next.js"}),", 백엔드는",ne.jsx("strong",{children:"Kotlin Spring Boot"}),"로 전환하는 프로젝트입니다. 저는 프론트엔드를 담당하여 전환 작업을 진행하면서 새로운 기능도 함께 개발하였고, 그 과정에서 다양한 문제와 해결방법을 찾을 수 있었습니다."]}),경험:[{id:"php-to-next-js-transition-outcome-1",제목:"SSR에 대한 경험",내용:ne.jsx(ne.Fragment,{children:"ㅁㅁ"})},{id:"php-to-next-js-transition-outcome-2",제목:"SSR에 대한 경험",내용:ne.jsx(ne.Fragment,{children:"ㅁㅁ"})}]},{id:"prowser-printing-template-library-development",제목:"브라우저 인쇄 템플릿 라이브러리 개발",기술:["react","tailwindcss","typescript","bitbucket_pipelines","vite","bun"],소개:`식봄은 기존에 Code Igniter라는 PHP 프레임워크를 사용하고 있었으며, 프론트엔드는 Next.js, 백엔드는 Kotlin Spring Boot로 전환하는 프로젝트입니다.
                    전환 작업을 진행하면서 새로운 기능도 함께 개발하였고, 그 과정에서 다양한 문제와 해결방법을 찾을 수 있었습니다. 아래에서 그 내용을 이야기 하겠습니다.`,경험:[]},{id:"datadog-monitoring-for-server-side-next-js",제목:"DataDog을 이용한 모니터링",기술:["react","next","tailwindcss","relay","jest","typescript","bitbucket_pipelines","datadog","vite","bun"],소개:`식봄은 기존에 Code Igniter라는 PHP 프레임워크를 사용하고 있었으며, 프론트엔드는 Next.js, 백엔드는 Kotlin Spring Boot로 전환하는 프로젝트입니다.
                    전환 작업을 진행하면서 새로운 기능도 함께 개발하였고, 그 과정에서 다양한 문제와 해결방법을 찾을 수 있었습니다. 아래에서 그 내용을 이야기 하겠습니다.`,경험:[]}]},yZ="/assets/book_hybrid_app_integration_framework_with_flutter_back_cover-D9sTItPE.webp",_Z="/assets/book_hybrid_app_integration_framework_with_flutter_front_cover-D3C5n1-p.webp",vZ="/assets/book_hybrid_app_integration_framework_with_flutter_side_cover-DPS8jZxj.webp",xZ={id:"hybrid-app-integration-framework-with-flutter",parentId:null,회사key:"marketboro",이름:"하이브리드 앱 통합 프레임워크",소개:"마켓보로에서 사용중인 모든 하이브리드 앱을 하나의 코드로 통합하기 위해서 기본적인 하이브리드 앱을 개발할 수 있는 프래입워크를 개발하였습니다.",기간:"2021.01 ~ ",기술들:["flutter","firebase","bitbucket_pipelines"],책:{표지:{앞:_Z,뒤:yZ,등:vZ}}},SZ="/assets/book_marketbom_pro_back_cover-Bxzz6eoF.webp",wZ="/assets/book_marketbom_pro_front_cover-qdIaBV4q.webp",bZ="/assets/book_marketbom_pro_side_cover-Btv6Lo6w.webp",EZ={id:"marketbom-pro",parentId:null,회사key:"marketboro",이름:"식자재 수발주 솔루션, 마켓봄 프로",소개:"",기간:"2021.01 ~ ",기술들:["nuxt","typescript","vuetify","storybook","apollo_graphql","datadog","pnpm","yarn","react","vite","webpack"],책:{표지:{앞:wZ,뒤:SZ,등:bZ}}},CZ="/assets/book_co_working_solution_cnaps_back_cover-DY7TpTuD.webp",TZ="/assets/book_co_working_solution_cnaps_front_cover-2Es3hgMu.webp",MZ="/assets/book_co_working_solution_cnaps_side_cover-YXkS3wDZ.webp",AZ={id:"co-working-solution-cnaps",parentId:null,회사key:"korens",이름:"업무 협업 솔루션, 시냅스",소개:"",기간:"2021.01 ~ ",기술들:["vue","quasar","graphql","typescript","aws_amplify"],책:{표지:{앞:TZ,뒤:CZ,등:MZ}}},wT=[tB,xZ,EZ,AZ],jc=Symbol.for("@ts-pattern/matcher"),kZ=Symbol.for("@ts-pattern/isVariadic"),nw="@ts-pattern/anonymous-select-key",bT=t=>!!(t&&typeof t=="object"),$x=t=>t&&!!t[jc],vl=(t,e,n)=>{if($x(t)){const r=t[jc](),{matched:i,selections:s}=r.match(e);return i&&s&&Object.keys(s).forEach(o=>n(o,s[o])),i}if(bT(t)){if(!bT(e))return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;let r=[],i=[],s=[];for(const o of t.keys()){const a=t[o];$x(a)&&a[kZ]?s.push(a):s.length?i.push(a):r.push(a)}if(s.length){if(s.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<r.length+i.length)return!1;const o=e.slice(0,r.length),a=i.length===0?[]:e.slice(-i.length),l=e.slice(r.length,i.length===0?1/0:-i.length);return r.every((c,u)=>vl(c,o[u],n))&&i.every((c,u)=>vl(c,a[u],n))&&(s.length===0||vl(s[0],l,n))}return t.length===e.length&&t.every((o,a)=>vl(o,e[a],n))}return Reflect.ownKeys(t).every(r=>{const i=t[r];return(r in e||$x(s=i)&&s[jc]().matcherType==="optional")&&vl(i,e[r],n);var s})}return Object.is(e,t)},nh=t=>{var e,n,r;return bT(t)?$x(t)?(e=(n=(r=t[jc]()).getSelectionKeys)==null?void 0:n.call(r))!=null?e:[]:Array.isArray(t)?B0(t,nh):B0(Object.values(t),nh):[]},B0=(t,e)=>t.reduce((n,r)=>n.concat(e(r)),[]);function oa(t){return Object.assign(t,{optional:()=>RZ(t),and:e=>Rr(t,e),or:e=>PZ(t,e),select:e=>e===void 0?xL(t):xL(e,t)})}function RZ(t){return oa({[jc]:()=>({match:e=>{let n={};const r=(i,s)=>{n[i]=s};return e===void 0?(nh(t).forEach(i=>r(i,void 0)),{matched:!0,selections:n}):{matched:vl(t,e,r),selections:n}},getSelectionKeys:()=>nh(t),matcherType:"optional"})})}function Rr(...t){return oa({[jc]:()=>({match:e=>{let n={};const r=(i,s)=>{n[i]=s};return{matched:t.every(i=>vl(i,e,r)),selections:n}},getSelectionKeys:()=>B0(t,nh),matcherType:"and"})})}function PZ(...t){return oa({[jc]:()=>({match:e=>{let n={};const r=(i,s)=>{n[i]=s};return B0(t,nh).forEach(i=>r(i,void 0)),{matched:t.some(i=>vl(i,e,r)),selections:n}},getSelectionKeys:()=>B0(t,nh),matcherType:"or"})})}function Zn(t){return{[jc]:()=>({match:e=>({matched:!!t(e)})})}}function xL(...t){const e=typeof t[0]=="string"?t[0]:void 0,n=t.length===2?t[1]:typeof t[0]=="string"?void 0:t[0];return oa({[jc]:()=>({match:r=>{let i={[e??nw]:r};return{matched:n===void 0||vl(n,r,(s,o)=>{i[s]=o}),selections:i}},getSelectionKeys:()=>[e??nw].concat(n===void 0?[]:nh(n))})})}function fl(t){return typeof t=="number"}function Hu(t){return typeof t=="string"}function Wu(t){return typeof t=="bigint"}oa(Zn(function(t){return!0}));const Gu=t=>Object.assign(oa(t),{startsWith:e=>{return Gu(Rr(t,(n=e,Zn(r=>Hu(r)&&r.startsWith(n)))));var n},endsWith:e=>{return Gu(Rr(t,(n=e,Zn(r=>Hu(r)&&r.endsWith(n)))));var n},minLength:e=>Gu(Rr(t,(n=>Zn(r=>Hu(r)&&r.length>=n))(e))),length:e=>Gu(Rr(t,(n=>Zn(r=>Hu(r)&&r.length===n))(e))),maxLength:e=>Gu(Rr(t,(n=>Zn(r=>Hu(r)&&r.length<=n))(e))),includes:e=>{return Gu(Rr(t,(n=e,Zn(r=>Hu(r)&&r.includes(n)))));var n},regex:e=>{return Gu(Rr(t,(n=e,Zn(r=>Hu(r)&&!!r.match(n)))));var n}});Gu(Zn(Hu));const dl=t=>Object.assign(oa(t),{between:(e,n)=>dl(Rr(t,((r,i)=>Zn(s=>fl(s)&&r<=s&&i>=s))(e,n))),lt:e=>dl(Rr(t,(n=>Zn(r=>fl(r)&&r<n))(e))),gt:e=>dl(Rr(t,(n=>Zn(r=>fl(r)&&r>n))(e))),lte:e=>dl(Rr(t,(n=>Zn(r=>fl(r)&&r<=n))(e))),gte:e=>dl(Rr(t,(n=>Zn(r=>fl(r)&&r>=n))(e))),int:()=>dl(Rr(t,Zn(e=>fl(e)&&Number.isInteger(e)))),finite:()=>dl(Rr(t,Zn(e=>fl(e)&&Number.isFinite(e)))),positive:()=>dl(Rr(t,Zn(e=>fl(e)&&e>0))),negative:()=>dl(Rr(t,Zn(e=>fl(e)&&e<0)))});dl(Zn(fl));const $u=t=>Object.assign(oa(t),{between:(e,n)=>$u(Rr(t,((r,i)=>Zn(s=>Wu(s)&&r<=s&&i>=s))(e,n))),lt:e=>$u(Rr(t,(n=>Zn(r=>Wu(r)&&r<n))(e))),gt:e=>$u(Rr(t,(n=>Zn(r=>Wu(r)&&r>n))(e))),lte:e=>$u(Rr(t,(n=>Zn(r=>Wu(r)&&r<=n))(e))),gte:e=>$u(Rr(t,(n=>Zn(r=>Wu(r)&&r>=n))(e))),positive:()=>$u(Rr(t,Zn(e=>Wu(e)&&e>0))),negative:()=>$u(Rr(t,Zn(e=>Wu(e)&&e<0)))});$u(Zn(Wu));oa(Zn(function(t){return typeof t=="boolean"}));oa(Zn(function(t){return typeof t=="symbol"}));oa(Zn(function(t){return t==null}));oa(Zn(function(t){return t!=null}));let LZ=class extends Error{constructor(e){let n;try{n=JSON.stringify(e)}catch{n=e}super(`Pattern matching error: no pattern matches value ${n}`),this.input=void 0,this.input=e}};const ET={matched:!1,value:void 0};function WA(t){return new IZ(t,ET)}let IZ=class CT{constructor(e,n){this.input=void 0,this.state=void 0,this.input=e,this.state=n}with(...e){if(this.state.matched)return this;const n=e[e.length-1],r=[e[0]];let i;e.length===3&&typeof e[1]=="function"?i=e[1]:e.length>2&&r.push(...e.slice(1,e.length-1));let s=!1,o={};const a=(c,u)=>{s=!0,o[c]=u},l=!r.some(c=>vl(c,this.input,a))||i&&!i(this.input)?ET:{matched:!0,value:n(s?nw in o?o[nw]:o:this.input,this.input)};return new CT(this.input,l)}when(e,n){if(this.state.matched)return this;const r=!!e(this.input);return new CT(this.input,r?{matched:!0,value:n(this.input,this.input)}:ET)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new LZ(this.input)}run(){return this.exhaustive()}returnType(){return this}};const DZ=sa("/_layout/projects")({component:BZ}),OZ=wT.filter(t=>t.parentId===null).map(t=>({id:t.id,textures:{front:t.책.표지.앞,back:t.책.표지.뒤,side:t.책.표지.등,top:hZ,bottom:fZ,pages:dZ}}));function NZ({selectedBookId:t}){const{camera:e}=Ac(),n=Re.useRef(new se(5,5,10));return VA(()=>{e.position.lerp(n.current,.05),e.lookAt(0,0,0)}),t?n.current.set(0,5,10):n.current.set(5,5,10),null}function BZ(){const[t,e]=Re.useState(null),n=qa(),r=i=>{WA(t).with(i,()=>confirm("해당 프로젝트를 자세히 보시겠습니까?")).otherwise(()=>!1)&&n.navigate({to:`/projects/${i}`}),e(o=>o===i?null:i)};return ne.jsxs(QK,{camera:{position:[5,5,10],zoom:2},children:[ne.jsx(NZ,{selectedBookId:t}),ne.jsx("ambientLight",{}),ne.jsx("directionalLight",{position:[2,5,5]}),ne.jsx(uZ,{books:OZ,selectedBookId:t,onBookClick:r}),ne.jsx(lZ,{enableZoom:!1})]})}const nB=Re.forwardRef(({className:t,...e},n)=>ne.jsx("div",{ref:n,className:vi("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));nB.displayName="Card";const FZ=Re.forwardRef(({className:t,...e},n)=>ne.jsx("div",{ref:n,className:vi("flex flex-col space-y-1.5 p-6",t),...e}));FZ.displayName="CardHeader";const zZ=Re.forwardRef(({className:t,...e},n)=>ne.jsx("h3",{ref:n,className:vi("text-2xl font-semibold leading-none tracking-tight",t),...e}));zZ.displayName="CardTitle";const UZ=Re.forwardRef(({className:t,...e},n)=>ne.jsx("p",{ref:n,className:vi("text-sm text-muted-foreground",t),...e}));UZ.displayName="CardDescription";const VZ=Re.forwardRef(({className:t,...e},n)=>ne.jsx("div",{ref:n,className:vi("p-6 pt-0",t),...e}));VZ.displayName="CardContent";const HZ=Re.forwardRef(({className:t,...e},n)=>ne.jsx("div",{ref:n,className:vi("flex items-center p-6 pt-0",t),...e}));HZ.displayName="CardFooter";const WZ=t=>{const{컨텐츠:e,확장:n}=t;return ne.jsxs(nB,{className:"rounded-[10px] py-[12px] px-[10px]",children:[ne.jsx("p",{children:e}),WA(n).with({__t:"Link"},({경로:r,라벨:i})=>ne.jsx(YM,{href:r,className:"text-blue-500 hover:underline flex justify-end break-all",to:"",children:i})).otherwise(()=>null)]})};function GZ(t,e=[]){let n=[];function r(s,o){const a=Re.createContext(o),l=n.length;n=[...n,o];const c=f=>{var x;const{scope:p,children:m,..._}=f,S=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,w=Re.useMemo(()=>_,Object.values(_));return ne.jsx(S.Provider,{value:w,children:m})};c.displayName=s+"Provider";function u(f,p){var S;const m=((S=p==null?void 0:p[t])==null?void 0:S[l])||a,_=Re.useContext(m);if(_)return _;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>Re.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return Re.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,$Z(i,...e)]}function $Z(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return Re.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function jZ(t){const e=Re.useRef(t);return Re.useEffect(()=>{e.current=t}),Re.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}var rB=globalThis!=null&&globalThis.document?Re.useLayoutEffect:()=>{};function SL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function qZ(...t){return e=>{let n=!1;const r=t.map(i=>{const s=SL(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():SL(t[i],null)}}}}var iB=Re.forwardRef((t,e)=>{const{children:n,...r}=t,i=Re.Children.toArray(n),s=i.find(YZ);if(s){const o=s.props.children,a=i.map(l=>l===s?Re.Children.count(o)>1?Re.Children.only(null):Re.isValidElement(o)?o.props.children:null:l);return ne.jsx(TT,{...r,ref:e,children:Re.isValidElement(o)?Re.cloneElement(o,void 0,a):null})}return ne.jsx(TT,{...r,ref:e,children:n})});iB.displayName="Slot";var TT=Re.forwardRef((t,e)=>{const{children:n,...r}=t;if(Re.isValidElement(n)){const i=ZZ(n),s=KZ(r,n.props);return n.type!==Re.Fragment&&(s.ref=e?qZ(e,i):i),Re.cloneElement(n,s)}return Re.Children.count(n)>1?Re.Children.only(null):null});TT.displayName="SlotClone";var XZ=({children:t})=>ne.jsx(ne.Fragment,{children:t});function YZ(t){return Re.isValidElement(t)&&t.type===XZ}function KZ(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ZZ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var JZ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],GA=JZ.reduce((t,e)=>{const n=Re.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?iB:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),ne.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),$A="Avatar",[QZ,sSe]=GZ($A),[eJ,sB]=QZ($A),oB=Re.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=Re.useState("idle");return ne.jsx(eJ,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:ne.jsx(GA.span,{...r,ref:e})})});oB.displayName=$A;var aB="AvatarImage",lB=Re.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=sB(aB,n),a=tJ(r,s.referrerPolicy),l=jZ(c=>{i(c),o.onImageLoadingStatusChange(c)});return rB(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?ne.jsx(GA.img,{...s,ref:e,src:r}):null});lB.displayName=aB;var cB="AvatarFallback",uB=Re.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=sB(cB,n),[o,a]=Re.useState(r===void 0);return Re.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?ne.jsx(GA.span,{...i,ref:e}):null});uB.displayName=cB;function tJ(t,e){const[n,r]=Re.useState("idle");return rB(()=>{if(!t){r("error");return}let i=!0;const s=new window.Image,o=a=>()=>{i&&r(a)};return r("loading"),s.onload=o("loaded"),s.onerror=o("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),n}var hB=oB,fB=lB,dB=uB;const pB=Re.forwardRef(({className:t,...e},n)=>ne.jsx(hB,{ref:n,className:vi("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));pB.displayName=hB.displayName;const mB=Re.forwardRef(({className:t,...e},n)=>ne.jsx(fB,{ref:n,className:vi("aspect-square h-full w-full",t),...e}));mB.displayName=fB.displayName;const gB=Re.forwardRef(({className:t,...e},n)=>ne.jsx(dB,{ref:n,className:vi("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));gB.displayName=dB.displayName;const nJ=[{이름:"James",컨텐츠:"안녕하세요! 개발자 김선민님의 페이지에 오신 것을 환영합니다."},{이름:"James",컨텐츠:"이 페이지를 통해서 선민님에 대해 더 자세한 정보를 얻을 수 있도록 도와드리겠습니다."},{이름:"James",컨텐츠:"자, 그럼 선민님과 채팅 인터뷰를 시작하겠습니다! 🎉"},{이름:"James",컨텐츠:"안녕하세요, 선민님!"},{이름:"Sunmin",컨텐츠:"네, 안녕하세요!"},{이름:"James",컨텐츠:"선민님, 간단하게 자기소개 부탁드립니다."},{이름:"Sunmin",컨텐츠:"네, 저는 웹, 모바일/PC 플랫폼뿐만 아니라, Flutter를 활용한 앱 개발 경험도 보유한 프론트엔드 개발자입니다."},{이름:"James",컨텐츠:"프론트엔드뿐만 아니라 다양한 기술 경험을 보유하고 계시군요. 혹시 개발자로 커리어를 시작하게 된 계기가 있을까요?"},{이름:"Sunmin",컨텐츠:"사실 저는 응용물리학을 전공했습니다. 대학 시절 실험 데이터를 분석하고 그래프로 시각화하기 위해 Python을 활용했었는데요. 프로그래밍을 하면서 화면이 내 의도대로 동작하고, 기능을 추가할 수 있다는 점이 무척 흥미로웠습니다. 점점 프로그래밍 자체에 더 깊이 빠지게 되었고, 결국 개발자로 커리어를 쌓기로 결정했습니다."},{이름:"James",컨텐츠:"프로그래밍을 통해 원하는 것을 쉽게 만들 수 있다는 점이 매력적이었던 거군요! 그렇다면 개발을 시작한 후 가장 뿌듯했던 프로젝트가 있을까요?"},{이름:"Sunmin",컨텐츠:"처음 만들었던 프로젝트는 숫자 야구 게임이었습니다. 프로그램에서 무작위로 3자리 숫자를 선택하면 사용자가 숫자를 입력하여 스트라이크와 볼을 판정받고 정답을 맞추는 방식이었죠. 간단한 프로젝트였지만, 제가 만든 프로그램을 다른 사람이 직접 플레이하는 모습을 보면서 큰 보람을 느꼈던 기억이 있습니다."},{이름:"James",컨텐츠:"자신이 만든 프로그램을 사람들이 사용하는 모습을 보면 정말 뿌듯할 것 같아요! 그 이후에 개발자로서 사용자 경험을 개선하면서 보람을 느꼈던 순간이 있을까요?"},{이름:"Sunmin",컨텐츠:"현재 운영 중인 식자재 커머스 서비스에서 제가 개발한 기능 덕분에 장바구니에 상품을 담는 비율이 증가하거나, 검색이 더 편리해졌다는 피드백을 받았을 때 보람을 느꼈습니다. 사용자의 행동이 데이터로 직접 반영되다 보니, 개선 효과를 숫자로 확인할 수 있다는 점에서 큰 동기부여가 되었습니다."},{이름:"James",컨텐츠:"실제 사용자 경험을 개선하는 일이 개발자로서 큰 보람이 되는군요! 성능 최적화 측면에서도 개선 사례가 있을까요?"},{이름:"Sunmin",컨텐츠:"네, 웹 애플리케이션의 응답 속도가 느리다는 피드백을 받아 개선 작업을 진행한 적이 있습니다. 모든 사용자 액션의 평균 응답 시간을 300ms 이하로 줄이는 것이 목표였죠. 특히, 한 액션의 백엔드 응답 시간이 3초나 걸려 사용성이 떨어졌는데, 이를 스탭퍼 UI를 활용하여 단위 액션별 응답 시간을 줄이는 방식으로 개선했고, 좋은 평가를 받았습니다."},{이름:"James",컨텐츠:"UI 개선을 통해 성능 최적화를 이뤄낸 사례군요! 다양한 기술을 경험하셨는데, Flutter와 Next.js 기반의 SSR 개발을 하면서 어떤 차이점을 느끼셨나요?"},{이름:"Sunmin",컨텐츠:"Flutter 자체는 배우기 쉬웠지만, 안드로이드와 iOS라는 모바일 생태계에 적응하는 것이 더 중요한 부분이었습니다. 웹과 달리 배포 후 사용자가 직접 앱을 업데이트해야 최신 기능을 사용할 수 있기 때문에, 하위 버전과의 호환성을 고려하며 개발하는 것이 필수적이었어요."},{이름:"Sunmin",컨텐츠:"반면, Next.js 기반 SSR 개발에서는 프론트엔드 개발자가 서버도 함께 다룬다는 점이 가장 큰 차이점이었습니다. 브라우저에서는 새로고침하면 모든 리소스가 초기화되지만, 서버는 실행 중이므로 특정 값이 유지될 수도 있다는 점을 신경 써야 했습니다. 예를 들어 `Date()`를 사용할 때, 브라우저에서는 새로고침할 때마다 최신 시간이 반영되지만, 서버에서는 실행된 시점의 시간이 고정될 수 있는 점이 대표적인 차이점이었습니다."},{이름:"James",컨텐츠:"각 기술 스택의 특징을 잘 이해하고 고려하면서 개발하셨군요! 그렇다면 새로운 기술을 배울 때 선민님만의 학습 방법이 있을까요?"},{이름:"Sunmin",컨텐츠:"특별한 방법은 아니지만, 먼저 문서나 책을 통해 개념을 익히고, 직접 실습을 해보는 방식입니다. 실습 과정에서는 **일부러 다양한 실수를 경험하는 것**이 중요하다고 생각해요. 실패를 해결하면서 더 깊이 학습할 수 있으니까요. 또한, 커뮤니티를 통해 다른 개발자의 실패 경험을 간접적으로 배우는 것도 효과적인 학습 방법이라고 생각합니다."},{이름:"James",컨텐츠:"실수를 학습의 일부로 받아들이고, 문제를 해결하는 과정에서 성장하는 방식이군요! 그렇다면 개발자로서 가장 중요하다고 생각하는 가치나 원칙이 있을까요?"},{이름:"Sunmin",컨텐츠:`제가 개발하면서 깨달은 점은 '내가 어렵게 개발해야, 사용자가 편하다.'는 것입니다.  
        개발자가 귀찮거나 어렵다고 대충 개발하면 결국 사용자가 불편해지고, 나중에는 동료 개발자들에게도 부담이 될 수 있어요.  
        그래서 최대한 꼼꼼하게 공부하고 시도하면서 개발해야 유지보수도 용이하고, 가용성이 높은 소프트웨어를 만들 수 있다고 생각합니다.`},{이름:"James",컨텐츠:"정말 멋진 개발 철학이네요! 마지막으로, 앞으로 개발자로서 어떤 목표를 가지고 계신가요?"},{이름:"Sunmin",컨텐츠:"학습을 이어나가는 것은 기본이겠지만, 단순히 기술에만 몰두하는 개발자가 아니라, 주변을 살피고 필요한 기술을 적재적소에 활용할 수 있는 개발자가 되고 싶습니다."},{이름:"James",컨텐츠:`말씀하신 것처럼, 기술 자체에만 몰두하다 보면 정작 중요한 문제를 놓칠 수도 있고, 실질적인 사용자 경험을 개선하는 데 어려움을 겪을 수도 있을 것 같아요.
                그래서 상황을 전체적으로 조망하면서, 필요한 기술과 해결책을 유연하게 적용하는 개발자가 되는 것이 정말 중요할 것 같습니다!`},{이름:"James",컨텐츠:`오늘 인터뷰 정말 즐거웠습니다! 😊
                선민님의 개발 철학과 경험을 들으면서 저도 많은 걸 배운 것 같아요.
                앞으로도 계속 좋은 개발자로 성장하시길 응원하겠습니다!`},{이름:"Sunmin",컨텐츠:"넵 저도 즐거운 시간이었습니다. 감사합니다~! 😄"}],rJ=sa("/_layout/interview")({component:iJ,errorComponent:void 0,notFoundComponent:void 0,pendingComponent:void 0});function iJ(){return ne.jsxs(ne.Fragment,{children:[ne.jsx("p",{className:"text-gray-500 border-l-2 px-4 py-2 text-sm break-words",children:"이 페이지는 제가 지금까지 면접이나 주변 사람들에게 들었던 질문들과 그에 대한 답변을 기반으로 작성해보았습니다."}),ne.jsx("section",{className:"flex flex-wrap gap-y-[10px] pt-10",children:nJ.map((t,e,n)=>{var s;const{이름:r}=t,i=((s=n[e-1])==null?void 0:s.이름)===r;return ne.jsxs("div",{className:vi("w-full flex gap-x-2.5 gap-y-1",{"flex-row":r==="James","flex-row-reverse":r==="Sunmin"}),children:[i?ne.jsx("div",{className:"w-10"}):ne.jsx("div",{className:"flex items-start",children:ne.jsxs(pB,{children:[ne.jsx(mB,{src:r==="James"?"https://images.unsplash.com/photo-1736033302187-64b6be9e4652?q=80&w=3474&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D":"https://github.com/gitsunmin.png",alt:`${r}_profile`,width:40,className:"rounded-full"}),ne.jsx(gB,{children:r})]})}),ne.jsxs("div",{className:"max-w-[60%] flex flex-col gap-y-1",children:[i?null:ne.jsx("div",{className:vi("text-sm",{"text-left":r==="James","text-right":r==="Sunmin"}),children:r}),ne.jsx(WZ,{...t})]})]},`${r}-${e}`)})})]})}const sJ="data:image/webp;base64,UklGRkIHAABXRUJQVlA4IDYHAADwKgCdASrIAMgAPpFEnkulo6KholVZ+LASCWVu4XPB/Vzj7fafzeHdXW/47NPpN24vmA8330f/8DfgPIA63vAL/6P2q/5jo1PRcnuw/90fxfDX8NMoX+G3rzlP9j77L+S9CtKPND8jf1R/4fcKFxJYmsOJ+PBkICSxNYcT8eDIQEliaw4n48GGVajcpbN8wbeaP8GktXW6Jwcm0YjpRSsB4BvjqqCFNyYmPMPMhTt3HJfceuBdBqqu8Wbp3d9ImHwNtK08xP6SVBD9Woi61nEpdOAfRT6VBOP26yEOsaxu2DRlVwNS96JCFSJsdbtdgpb6TU5kSUWbIn8iEi9p57Zk/VhXCv14Y/usEDfe+KJHh2f8Cf04e2FO9hOlmV7rk4aFiPj7DmOnsrIuGjK7DjwoxvgN5kLUM9v7lhuO4FRUYvazHsSyA5Zp7aLIvhNYcT8eDIQEliaw4n48GQgJLD0AAP7/S8AAAAGTxIQD/9WmNFh+e838NTL2wgSuI22u793ozMGD+x8++sco/T3yccs74ZdS/9MjFKfRR6AUhhDS+Kvx5nuDY29YT29COBXAUGvm34W3yaQZTzWWDf+ehP1T0RvEuZ5+4qoXFvt2zv6J879xaKEA8Sz2qImoZ9Ojup3kH7knU6seyiDXLNUcpz7RdlwitBpVM+jYV+SN3k19rH8SE/4S1d16W24693yT1OW6soxcsInCPsAq3evSAYJvN15Io8OVdekxnnDQf5Sdq0mmoiRdS/f9tqfHq6RLMJXt/zkR32jly/+DTWsvccOBKURUMJC58chkMJzUdvrDU+Ve9ncoQiedDl7i/i0xg9E1+03sNuxog+K4wYlGv2loWraO3IS3CR2eLYxVah9/7dJ6mxsIUSCkfSt1tv6x24Kbk70Y/WrmOEBIFuzdcR/jNJY3xWWgunJXllu161dnLZ7jRQ/yeF4rqShadFAjlfLG/f0AX8B1boYPIeiaLtR5mnT1gFPeZ0cpTEvrKqyZ7N43VOjiKwGQ/0BcWwBQnyZTmo5O3LDL26vk8i0M0itUXFwcLK40yd9toDLodrhEjY3duU/B7qK0DGaZLxFlPGAJ7nGStcYIMy09Xw60ueb0nsrXGCmTcSU/+JIXqTNZJoi7beT19D225WWnmOCp7EeIoaYANRRPKiVH/r581ePk5o9MMhICbc7+czJeNDRck4ly4E2ufY6veGj867hPwrisDuuESqkLH3ehKAa95VU6OTlnoTw1adp5WFwBPagHRPIapoA7P5KXaXVnAHHjq9/lKYBG/y2n0/BiOVZpkU8/wYb3y+iBG5rZ11ZPyWCTiRmCxbcwX0idsUgl6k7/Drnjysuzmf5Fa5VgNH2dl2j+MISW+MbyL+t69Ql6zAlZuYP4NIOTrx4n3a8EYzQZ46EQpoWJPLjxBAVFe3rDHhe1Rgxs0OdstvFrmSGHADor3OVI4lH9q4OFwe5IHMpJUVN4CbgQJVLQ1IApzSNyDtXoG1RW7lpsJDSgzsp6D3uLfdlELSuJif4QLi60FR0fX//8PL1cElfBNa+kBhVY1IUO7GXfZYboNk22cMY2t2eLjWlhsEm9T9kM6pem8UwpdAMV23zyq8mvIiKBCNsL9cCMHtG5PfQDXcx8WDfdT6bTXWjbzEud5dXKDfBb/sbI+8fG6LluSSD2B/I/UkLls959L2kCHHd8Qo/NVuN4orSkdTvfPO9BfpPyUPRceEV4Kv0nIB+NqIGwWe9gCVSFCu2f+7HagyQgkH/m95AdIws9MMmGz65OZC2w/JoDIvOB5BAuxlJHTlZIGOsg76jkOOgWkPzfvGBg2pDT7lPEAsEaBj9cCgf0P3fvQ/QRAHealabi2EnzDrU53EKXB4RVW/exA4lu3yUrUqkRnbY1KULgjq3pZbwKMwCZlS3KYM4oT1fB8N0IvZ9lVA2yjrRBWjeHbnPef3O7kIib22sv4lsDRset40l/0ohiafJM3PgGKznWhr9tNOyKmbONG3/pggn+m/3KlPw10vJyGYfstlIPq0dVxddyQWGQO/KLLNyCO/q3mZ/960a0aQJMNzm0FU2yZFU1OYU4Hksmln+b3B/JXiSmL2WPh2eEjvC/hzjVQXqMLApvs3nFc7g+ZG9tQhCmtEh196CgqRABWa4pfAnMcg5EL9ZHtvX/WPpb2ojoaGEbFQsLpaz1V9r6xNwm3M9ETsIr7iDqDi8W7xub3TlWIQpcqs2G/xEjlOdDyYzDCqqlq9fLx6C9GNeSo/dTnOYlVez8QgcSIwKMvEnhVxBQzljiqndBh6ITg2T/J9S/QiQWtYF/13UXRdKnF17YhIGsvUOQhwJjaC6d5khw/NnJj3KQFpYj92KTVkOTM7vD+ETfesh92eVpX/35sX30OJMS4uh8JT7QgI/Ir+Gh/hy45PWsKIB3PiKaiUgLJU+jDO2a89pIOzksn51cr69NkkUAAAAAAAAA",oJ="data:image/webp;base64,UklGRiQOAABXRUJQVlA4IBgOAACQRQCdASo3AaIAPpFIn0slpKMhpPWpYLASCU3cLqojYlesixB4D8svZUrP90/EPsH6+ej/Mc5n/5nnG/zPsR8wD9Wv1p6w/mK/oX+F/YD3ef95+zPvE/Zj2AP6P/cetX9Az90vTX9lz+0f8b9tPai//+ccdhf+X6VL0XLaMQfc79nwl8AL8e/n27UzaeoF3Z76DVB8LewB/LuFhoBfzP/J+hzoTevfR961PoljzCBgrKfhAyE/HZUVlPwgZCfjsqKyn4QMhPx2VFZT3ksp4m2lJ+o06pGB8j9LPBVXNyGBNPs1YMxgvkDTzxZ9erb2wz+YIJlkBrRZ2OyBTHUuK3fs3czWvOe6LtIgNvMbvk19A0ArIT5Wdk5h7c0nUklfMjHdYyzMis/H+MzKsWBzoMAZlkyWBgPiz8EIbR0Yv8Ol4z0AnNGhrrZlmkiynNkhMQIOOYxR7SsrcdCaSXA/BKCNTNNLXYB9SbFjDkRDu/bzXCwGIZo7wgPqT65iaFfPv8lO7wO8Sih72bQOab4QKVHxvciWmNFnXdAxRjifaKHmzue3PIgujA/z3FO8KKGVrKW1NZhlyaHnOpA6S5pZy19wbw56OOCn6q19o9vM5lUYqMQ4NkjQoMoBN2hIFaCuj0U/hYZFI/B0ugqHqXdR2cMtsqIfyWYL2PvcIJVrm4P0mORp/S4Ce+IGE0wQZktChOKbukn47KisqPTzjXyEDBWU/CBkJ+OyorKfhAyE/HZUVlPwgY5AAP7/jnQAAC2FC7hq91ajQ8gNZ0dRJL60jDrNUjO4UyPsYpnErR5WmDquHig1oovK9NtRCtzeBlXiciE0CeEa4rp6QXp/XB//EonmoDzj1d9vlx56fE7QjZ865a/OWA0na9/nUoA9mFjQfgUvpmf5UNjscslHDSMAONfJbbaHMyjoYiu9oaablUQDDKkh2aRZlUO3TOcqT6gY8yzZwBGPg1r/7yqZXgw0dJFBQ2PVBpEHrIcbYWG4cR1EtcP6nwr2AqMLS3wjUdGe4z+Koyx/+sgBb5Dku1S/n4AImKipK3huuyTNOYZnBkQvU8A0CTV0WEL+y51/isG22ggxAPrrzQiz9Kbyw5SX2tnD/aprg2TzTvu26Yth/5DWFNoz/m2HS6EFeOassR5kWrayTNCNXR/Mr1xMlKrGLSHvh3pbpzqTMRLzvDi5kuLATOUvPZqPM9Iiii8d0hxFke6tRoeLK3RJM8QJ4Xu1Gp2WRf9djD6XiH+QwVZpmkFUcvwjXGEWaXictk3H/xKJ5qhXARzHYMVA8gPcuKEw+X/lGX6hwIy9GEh8b9HBVbYBfF01B72q/HLrkIABGdYtu+krsLzPrgqi7hGdCTtn+dTpQjUXOCq9s3jii0xHyYjPtusjHSjf6K7Z7T4kFRBWiWb1GE56n/yjP/RaSYTyy2ecLyz6Y5WZ4CVh8R69dUZS5NB86JgzRDJqU6+ftV8kfeD21BGqZ8k1YCx9JGFL5B2kd7Av1bADpKYkKF2jG7s14Pilt8vuwwpgnYV2FIC88duk5F4S6o1N9rRr/q52n82udvgjn1cUR6kq+P+jzPWH8c/B9m1HKQMUp4OgITRhPyzsbehWDFzpjFM8qqnfGjSiWX3OaCQ6Ccb4tA+chklRtUvh7f1TJFQsmhOsgIOCnxDVunH4+d26914lLFnETF/AOvddnojhpmtJSsQJ+jQfRSpoffxHntWikzjykUIwRhu4J5IeXb4WwyhtVK3pkXpSBSFj5TdOP98dH5uDcv3n6pnAIgo7kNnLhcqaOman7aeqXuE7ZFmm+6hcbK0ac+knE5ceraP0AesktMgH9yIhapd6MDSNWL0lHdpvnh+X9ka5COxx+RRfzUTNix1RSLlvnICpqXCHv3TWsKe7UeZ6Oysg0A3r0mRZ9fKXrSM0lPtuD230vCiI9Z23i9hL4yPRkqWYkipaTLIUMRFCyZf5N6RbntwvjaWeylNNKPRvftUxR1ruY0PJu6M1R+zToVPP2nUgnbPB1xrTQhP9gkjCHXmOxgyF4VLawZOhyzbyykhrwL87phYKEP0onAI0Drrq+32M2VkQ3jX+VGGcncWLKYDpQFLtELsfiWsHZopECsRGY9qWHdI2Oj0F3Ls4OhM+HercxXDOYVfMbe4qm2SLPau+FGinx5xxC0KBDO4vsJbA1skDD7rctA0SHzbqe3vDXVU3DvrINUy6vHV967vialV2ipMFW8kvRW/+v2C4kjgZqE5WrsTw3go3x+PcJd/AutnJPaWbzGptF5fB5Stp4yXDUzPMmPGYmXT6gYirJyNzpTaSukCZ/8T2WflRBX13//tnY42x/ILKbDSARqsUN74K1XpuVZnSlgPJ8On86Nqmkmr+hjJRTHFaqD+1w/kzXPj7ZgmyYuYM2ZDb3//MR7LnqiE3bD+I3N8l5bQQNnQ3eo7nMY9f2PbZ7kvtmy7qLNtOWbJHGX0J2EtMaGf2RKXw+dSalzrmZ81vxEvvolhuDMUwyakjXtYqyseSMk8xuHo8nFvfv4+p7ZNB7+QGjDhrNrcnG5e9HcVj1zdH+Ep8yMcw6adX6GdtHcQxoVqc8JiWKimLTe2Hefrix9xbzoOC3Hra/cnZ3DYumiGSK/K/KtHF9cO8iPjFNBvoE4MQR5HKCxF98YNfwgdPR+90AcwxcYMcvnceSNsSHf8igdoegbUCzyQRbTBVSZmta8vDFG3hHgvj0yZMkryTO78RlMZXIJjCnKwKH94e58g2v3Q8jyLmGtLTuAeLkU6DA1tzHVY4nmBwRrNHb/iznTMvl9nbt/62qIc6FsQijqA2XTLQN9HdF0kxlRzKur9+C2atEG4a/BPvm5JDz1DkWXf7je+0kiUaOEUpV6RkpGBrG1Dfv59uxltEZgHMiSm1aSRfnKEFUwWea/DyScE9gSGnkL5CEHPqbmFz9DXVc7/xFZv9KP9bCCVOB9eD/cygEfVtF3g46WLviGncXgKS2RR1L7exff9A/UrpBNiA8h6iBKc11saYkErT+cyICe/+2nEp+4FuvRYBYixpYpw9W/MC5RsG5YfvSDlz7us3DYLK7uM2O0+LufHeMVE/um4rhAF5R+eIjXO0soAA17E6/mzKpImJiwhebrKR5z5pPgpmiSVApot5EihSNsCqTOoE69Er6BK8I5+Hl264pF9jA/+IsuDmiy/h8b+y6smI7lJvrANdlq7yrwl73dXyh6ghCE6uObj6DLTzqTxg31dCYnJKJVVWZjxrY3Er9gQEWAVDU5NDRBW2IdpBkGxFcUfcQ3Eefxi8uOyT9s3sfYvQEVo2U/nrrVM6lROD05PmWIMHt10hiW6NnbL3+9j+20IS3AcPtSFe5kkXQMAUF6B89ryXjbIQsMbVW0qYrkjctvoHvxXY4c8CXa+c90EvNd3Bk639mh7jTpyuIMMsW7EmDOqpIjc5DINiWoLkZjDZJjWtEUPAQ5YEZV3sCBkyklyRHR7FoKtc1T2NgXqHVQSj6UL2Tscbjtz13YV57VuUyFdDz+CxnG0YTxOvYeSMtRzAK9L5kEJGgsh0tA5ax0rJroUS1y5VRD4E2zJoYgz+XLnRf/UO39C7/O4NQssTehCZ2+3SKN273qX5pMY+0CSFzAHxnZg8mR7LoL6kWELnP2n4Dnx1C1FdCzWqGBxqrXH/VAxWkrkVLEtOOvrgGCkQ3ZeZJzS6K2VI+98R+tfboT934BxZ7qwDcqv+I5rJlFMnHgJFdM7AE8Kq/BXmHwJtwafczOd9pRaMI/4mDVsz5vC+hr4zJpTT+Pd37RzpKrkrRQ8ur97NkD/zXvYugnL/1he8OHALsw6lHCaO5mbcEt43NeFyP6WGZyM5licEUw3cAM7Y+8R1Uoj0XeX3pBwL3Wyx5A0yCcVthlP4lbu28o7Own6VtruA31Zb1/ztev76FNVu9iCK+KleYz3JQ+XKonRe/JLBOFkSnpwl/2GFO5g3D/xCOZfgUlh6ZzFbU9Tb7gN0hg416Pepw1Ok30rySjWjT8DFBIcC+cTAc0N2q/7+KfIJHnc7aVtGbSbZFX6SRoGsffQP+l0ZwmVV+iboaeM8Gx845w4h8jkO1F81K4k0Pohpvf3a3asfOV7/s/VMGL3+QWFg7phH/acBg/SKBzQySO/vLG9rWJ+5fIejgcX3UVfLsmttO2g3rBJCUPoUVZBsApDeq2vla8fqtVfO+fx3cCZjdzU5Nk6eI8ebK0fVfLD+1DxJQqygYrXYkhY1juo2rXauFWrIu8Qo+B/pgGPEvkg0hQuvsZhC01x0ysDhAdyYc8309jv2VXg/B+03JQXjApyU//KmjFEn81nK9/g6GwGLfMVte/TCHbUJGQMPLdv4pKMWYt8ETuypApPgOUcFbCYjj3M6NpHwX4huTGSYSMNPWwPP+OPorEf5RWznX06/6Am3w8oup5UTUDBAO8NKTkw3H7He+k7kcRXnL1q84T1WGPInytlZAqCdMF/XKXUq2aZfBNoJrI96RlDeJ8hHHpwtcOx3x01ZGO10PlWQJgnlz0TUIUzxMoejLm6e+Cnw2KkRhCMuDb3giT/WP/iQ9DJ7+GW6GeTlLQkQAADJT8ugKKKLCDMxKbOu6iUVlPi33gDdzn4+NLyKG8SSvRV/6L4XpBKY2++dSyKkZLQvgBnuTVkSzHVzCWT/AHc1Wuzu+V675zLNEYOwGDSr4z/qNZPJEFSOhXyRh26Bhl2VBJw1HkWo9XXNaikBZYvaT/W5oLm9MV5Cna9jGFerSuxAu85S/AhRQwOLhZ3T6BEAuAs+W57N7fIS0NAGfuNNkzPvd2AAAAAAAA==",aJ=[{id:"marketboro",이름:"(주) 마켓보로",로고:sJ,소개:`(주) 마켓보로는 B2B 식자재 유통 시장에서 중간 과정을 최소화하여 비용 절감과 효율 증대를 실현하는 엔터프라이즈 푸드테크 플랫폼을 제공합니다. 
          또한 사업자 대상의 오픈 마켓인 식봄을 운영하고 있습니다. 
          저는 프론트엔드 개발자로서 React.js와 Next.js를 활용하여 웹과 모바일 애플리케이션의 사용자 인터페이스를 개발하고 있습니다. 
          특히, 기존 PHP로 개발된 식봄을 Next.js로 전환하는 프로젝트를 주도하며, 성능 최적화와 사용자 경험 향상을 달성하였습니다. 
          이러한 경험을 통해 다양한 디바이스에서의 접근성을 보장하고, 최신 기술 스택을 적극 활용하는 역량을 갖추게 되었습니다.`,기간:"2020.10 ~ ",직책:"프론트엔드 개발자",프로젝트들:wT.filter(t=>t.회사key==="marketboro"),링크들:[{label:"마켓보로 웹사이트",url:"https://www.marketboro.com"},{label:"식봄",url:"https://www.foodspring.co.kr"},{label:"마켓봄 프로",url:"https://pro.marketbom.com"}]},{id:"korens",이름:"(주) 코렌스",로고:oJ,소개:`(주) 코렌스는 자동차 부품 제조사로서, 소프트웨어 사업부를 신설하여 새로운 도전을 시작하였습니다. 
          이곳에서 프론트엔드 개발자로서의 커리어를 시작하였으며, 
          Vue.js를 활용한 프론트엔드 개발뿐만 아니라 백엔드 개발과 AWS Amplify를 통한 클라우드 서비스 구축 등 다양한 역할을 수행하였습니다. 
          특히, 초기 개발 환경과 프로세스 구축에 참여하여, 개발 역량뿐만 아니라 문제 해결 능력과 주도적인 업무 수행 능력을 함양하였습니다.`,직책:"프론트엔드 개발자",기간:"2019.07 ~ 2020.10",프로젝트들:wT.filter(t=>t.회사key==="korens"),링크들:[{label:"코렌스 웹사이트",url:"http://www.korens.com"}]}],lJ=sa("/_layout/careers")({component:cJ});function cJ(){return ne.jsx("ul",{className:"flex flex-col gap-12",children:aJ.map(t=>ne.jsxs("li",{className:"flex flex-col gap-2",children:[ne.jsxs("h5",{className:"flex justify-between items-center",children:[ne.jsxs("span",{className:"text-2xl font-bold",children:[t.이름," "]}),ne.jsx("span",{className:"max-w-12 max-h-12 text-sm flex items-center justify-center rounded-full shadow-md",children:ne.jsx("img",{src:t.로고,alt:`${t.이름} 로고`,className:"rounded-full size-12"})})]}),ne.jsx("section",{children:t.주의&&ne.jsxs("span",{className:"text-red-500 text-sm",children:["* ",t.주의]})}),ne.jsxs("section",{className:"text-gray-500",children:[t.직책," | ",t.기간]}),ne.jsx("section",{children:ne.jsx("p",{children:t.소개})}),ne.jsxs("section",{children:[ne.jsx("h6",{children:"Projects"}),ne.jsx("ul",{children:t.프로젝트들.map(({id:e,이름:n})=>ne.jsx("li",{className:"ml-4 list-disc",children:n},e))})]}),ne.jsxs("section",{children:[ne.jsx("h6",{children:"Links"}),ne.jsx("ul",{children:t.링크들.map(({label:e,url:n})=>ne.jsx("li",{className:"ml-4 list-disc",children:ne.jsx("a",{href:n,target:"_blank",className:"text-blue-500 hover:underline",children:e})},n))})]})]}))})}function yB(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const uJ=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,hJ=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,fJ={};function wL(t,e){return(fJ.jsx?hJ:uJ).test(t)}const dJ=/[ \t\n\f\r]/g;function I1(t){return typeof t=="object"?t.type==="text"?bL(t.value):!1:bL(t)}function bL(t){return t.replace(dJ,"")===""}let d_=class{constructor(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}};d_.prototype.property={};d_.prototype.normal={};d_.prototype.space=null;function _B(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new d_(n,r,e)}function MT(t){return t.toLowerCase()}let aa=class{constructor(e,n){this.property=e,this.attribute=n}};aa.prototype.space=null;aa.prototype.boolean=!1;aa.prototype.booleanish=!1;aa.prototype.overloadedBoolean=!1;aa.prototype.number=!1;aa.prototype.commaSeparated=!1;aa.prototype.spaceSeparated=!1;aa.prototype.commaOrSpaceSeparated=!1;aa.prototype.mustUseProperty=!1;aa.prototype.defined=!1;let pJ=0;const Cn=ud(),ni=ud(),vB=ud(),ct=ud(),yr=ud(),rm=ud(),Mo=ud();function ud(){return 2**++pJ}const AT=Object.freeze(Object.defineProperty({__proto__:null,boolean:Cn,booleanish:ni,commaOrSpaceSeparated:Mo,commaSeparated:rm,number:ct,overloadedBoolean:vB,spaceSeparated:yr},Symbol.toStringTag,{value:"Module"})),aC=Object.keys(AT);let jA=class extends aa{constructor(e,n,r,i){let s=-1;if(super(e,n),EL(this,"space",i),typeof r=="number")for(;++s<aC.length;){const o=aC[s];EL(this,aC[s],(r&AT[o])===AT[o])}}};jA.prototype.defined=!0;function EL(t,e,n){n&&(t[e]=n)}const mJ={}.hasOwnProperty;function qm(t){const e={},n={};let r;for(r in t.properties)if(mJ.call(t.properties,r)){const i=t.properties[r],s=new jA(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[MT(r)]=r,n[MT(s.attribute)]=r}return new d_(e,n,t.space)}const xB=qm({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),SB=qm({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function wB(t,e){return e in t?t[e]:e}function bB(t,e){return wB(t,e.toLowerCase())}const EB=qm({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:bB,properties:{xmlns:null,xmlnsXLink:null}}),CB=qm({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:ni,ariaAutoComplete:null,ariaBusy:ni,ariaChecked:ni,ariaColCount:ct,ariaColIndex:ct,ariaColSpan:ct,ariaControls:yr,ariaCurrent:null,ariaDescribedBy:yr,ariaDetails:null,ariaDisabled:ni,ariaDropEffect:yr,ariaErrorMessage:null,ariaExpanded:ni,ariaFlowTo:yr,ariaGrabbed:ni,ariaHasPopup:null,ariaHidden:ni,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:yr,ariaLevel:ct,ariaLive:null,ariaModal:ni,ariaMultiLine:ni,ariaMultiSelectable:ni,ariaOrientation:null,ariaOwns:yr,ariaPlaceholder:null,ariaPosInSet:ct,ariaPressed:ni,ariaReadOnly:ni,ariaRelevant:null,ariaRequired:ni,ariaRoleDescription:yr,ariaRowCount:ct,ariaRowIndex:ct,ariaRowSpan:ct,ariaSelected:ni,ariaSetSize:ct,ariaSort:null,ariaValueMax:ct,ariaValueMin:ct,ariaValueNow:ct,ariaValueText:null,role:null}}),gJ=qm({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:bB,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:rm,acceptCharset:yr,accessKey:yr,action:null,allow:null,allowFullScreen:Cn,allowPaymentRequest:Cn,allowUserMedia:Cn,alt:null,as:null,async:Cn,autoCapitalize:null,autoComplete:yr,autoFocus:Cn,autoPlay:Cn,blocking:yr,capture:null,charSet:null,checked:Cn,cite:null,className:yr,cols:ct,colSpan:null,content:null,contentEditable:ni,controls:Cn,controlsList:yr,coords:ct|rm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Cn,defer:Cn,dir:null,dirName:null,disabled:Cn,download:vB,draggable:ni,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Cn,formTarget:null,headers:yr,height:ct,hidden:Cn,high:ct,href:null,hrefLang:null,htmlFor:yr,httpEquiv:yr,id:null,imageSizes:null,imageSrcSet:null,inert:Cn,inputMode:null,integrity:null,is:null,isMap:Cn,itemId:null,itemProp:yr,itemRef:yr,itemScope:Cn,itemType:yr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Cn,low:ct,manifest:null,max:null,maxLength:ct,media:null,method:null,min:null,minLength:ct,multiple:Cn,muted:Cn,name:null,nonce:null,noModule:Cn,noValidate:Cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Cn,optimum:ct,pattern:null,ping:yr,placeholder:null,playsInline:Cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Cn,referrerPolicy:null,rel:yr,required:Cn,reversed:Cn,rows:ct,rowSpan:ct,sandbox:yr,scope:null,scoped:Cn,seamless:Cn,selected:Cn,shadowRootClonable:Cn,shadowRootDelegatesFocus:Cn,shadowRootMode:null,shape:null,size:ct,sizes:null,slot:null,span:ct,spellCheck:ni,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ct,step:null,style:null,tabIndex:ct,target:null,title:null,translate:null,type:null,typeMustMatch:Cn,useMap:null,value:ni,width:ct,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:yr,axis:null,background:null,bgColor:null,border:ct,borderColor:null,bottomMargin:ct,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Cn,declare:Cn,event:null,face:null,frame:null,frameBorder:null,hSpace:ct,leftMargin:ct,link:null,longDesc:null,lowSrc:null,marginHeight:ct,marginWidth:ct,noResize:Cn,noHref:Cn,noShade:Cn,noWrap:Cn,object:null,profile:null,prompt:null,rev:null,rightMargin:ct,rules:null,scheme:null,scrolling:ni,standby:null,summary:null,text:null,topMargin:ct,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ct,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Cn,disableRemotePlayback:Cn,prefix:null,property:null,results:ct,security:null,unselectable:null}}),yJ=qm({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:wB,properties:{about:Mo,accentHeight:ct,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ct,amplitude:ct,arabicForm:null,ascent:ct,attributeName:null,attributeType:null,azimuth:ct,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ct,by:null,calcMode:null,capHeight:ct,className:yr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ct,diffuseConstant:ct,direction:null,display:null,dur:null,divisor:ct,dominantBaseline:null,download:Cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ct,enableBackground:null,end:null,event:null,exponent:ct,externalResourcesRequired:null,fill:null,fillOpacity:ct,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:rm,g2:rm,glyphName:rm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ct,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ct,horizOriginX:ct,horizOriginY:ct,id:null,ideographic:ct,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ct,k:ct,k1:ct,k2:ct,k3:ct,k4:ct,kernelMatrix:Mo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ct,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ct,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ct,overlineThickness:ct,paintOrder:null,panose1:null,path:null,pathLength:ct,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:yr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ct,pointsAtY:ct,pointsAtZ:ct,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Mo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Mo,rev:Mo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Mo,requiredFeatures:Mo,requiredFonts:Mo,requiredFormats:Mo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ct,specularExponent:ct,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ct,strikethroughThickness:ct,string:null,stroke:null,strokeDashArray:Mo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ct,strokeOpacity:ct,strokeWidth:null,style:null,surfaceScale:ct,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Mo,tabIndex:ct,tableValues:null,target:null,targetX:ct,targetY:ct,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Mo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ct,underlineThickness:ct,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ct,values:null,vAlphabetic:ct,vMathematical:ct,vectorEffect:null,vHanging:ct,vIdeographic:ct,version:null,vertAdvY:ct,vertOriginX:ct,vertOriginY:ct,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ct,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),_J=/^data[-\w.:]+$/i,CL=/-[a-z]/g,vJ=/[A-Z]/g;function xJ(t,e){const n=MT(e);let r=e,i=aa;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_J.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(CL,wJ);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!CL.test(s)){let o=s.replace(vJ,SJ);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=jA}return new i(r,e)}function SJ(t){return"-"+t.toLowerCase()}function wJ(t){return t.charAt(1).toUpperCase()}const bJ={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},EJ=_B([SB,xB,EB,CB,gJ],"html"),qA=_B([SB,xB,EB,CB,yJ],"svg");function TB(t){return t.join(" ").trim()}var Dp={},lC,TL;function CJ(){if(TL)return lC;TL=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,o=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,c="/",u="*",f="",p="comment",m="declaration";lC=function(S,w){if(typeof S!="string")throw new TypeError("First argument must be a string");if(!S)return[];w=w||{};var x=1,C=1;function T(K){var j=K.match(e);j&&(x+=j.length);var J=K.lastIndexOf(l);C=~J?K.length-J:C+K.length}function A(){var K={line:x,column:C};return function(j){return j.position=new L(K),z(),j}}function L(K){this.start=K,this.end={line:x,column:C},this.source=w.source}L.prototype.content=S;function R(K){var j=new Error(w.source+":"+x+":"+C+": "+K);if(j.reason=K,j.filename=w.source,j.line=x,j.column=C,j.source=S,!w.silent)throw j}function N(K){var j=K.exec(S);if(j){var J=j[0];return T(J),S=S.slice(J.length),j}}function z(){N(n)}function D(K){var j;for(K=K||[];j=I();)j!==!1&&K.push(j);return K}function I(){var K=A();if(!(c!=S.charAt(0)||u!=S.charAt(1))){for(var j=2;f!=S.charAt(j)&&(u!=S.charAt(j)||c!=S.charAt(j+1));)++j;if(j+=2,f===S.charAt(j-1))return R("End of comment missing");var J=S.slice(2,j-2);return C+=2,T(J),S=S.slice(j),C+=2,K({type:p,comment:J})}}function B(){var K=A(),j=N(r);if(j){if(I(),!N(i))return R("property missing ':'");var J=N(s),$=K({type:m,property:_(j[0].replace(t,f)),value:J?_(J[0].replace(t,f)):f});return N(o),$}}function q(){var K=[];D(K);for(var j;j=B();)j!==!1&&(K.push(j),D(K));return K}return z(),q()};function _(S){return S?S.replace(a,f):f}return lC}var ML;function TJ(){if(ML)return Dp;ML=1;var t=Dp&&Dp.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.default=n;var e=t(CJ());function n(r,i){var s=null;if(!r||typeof r!="string")return s;var o=(0,e.default)(r),a=typeof i=="function";return o.forEach(function(l){if(l.type==="declaration"){var c=l.property,u=l.value;a?i(c,u,l):u&&(s=s||{},s[c]=u)}}),s}return Dp}var MJ=TJ();const AL=Fm(MJ),AJ=AL.default||AL,MB=AB("end"),XA=AB("start");function AB(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function kJ(t){const e=XA(t),n=MB(t);if(e&&n)return{start:e,end:n}}function o0(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?kL(t.position):"start"in t||"end"in t?kL(t):"line"in t||"column"in t?kT(t):""}function kT(t){return RL(t&&t.line)+":"+RL(t&&t.column)}function kL(t){return kT(t&&t.start)+"-"+kT(t&&t.end)}function RL(t){return t&&typeof t=="number"?t:1}class ps extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},o=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(o=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=o0(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual,this.expected,this.note,this.url}}ps.prototype.file="";ps.prototype.name="";ps.prototype.reason="";ps.prototype.message="";ps.prototype.stack="";ps.prototype.column=void 0;ps.prototype.line=void 0;ps.prototype.ancestors=void 0;ps.prototype.cause=void 0;ps.prototype.fatal=void 0;ps.prototype.place=void 0;ps.prototype.ruleId=void 0;ps.prototype.source=void 0;const YA={}.hasOwnProperty,RJ=new Map,PJ=/[A-Z]/g,LJ=/-([a-z])/g,IJ=new Set(["table","tbody","thead","tfoot","tr"]),DJ=new Set(["td","th"]),kB="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function OJ(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=WJ(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=HJ(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?qA:EJ,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=RB(i,t,void 0);return s&&typeof s!="string"?s:i.create(t,i.Fragment,{children:s||void 0},void 0)}function RB(t,e,n){if(e.type==="element")return NJ(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return BJ(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return zJ(t,e,n);if(e.type==="mdxjsEsm")return FJ(t,e);if(e.type==="root")return UJ(t,e,n);if(e.type==="text")return VJ(t,e)}function NJ(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=qA,t.schema=i),t.ancestors.push(e);const s=LB(t,e.tagName,!1),o=GJ(t,e);let a=ZA(t,e);return IJ.has(e.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!I1(l):!0})),PB(t,o,s,e),KA(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function BJ(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}F0(t,e.position)}function FJ(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);F0(t,e.position)}function zJ(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=qA,t.schema=i),t.ancestors.push(e);const s=e.name===null?t.Fragment:LB(t,e.name,!0),o=$J(t,e),a=ZA(t,e);return PB(t,o,s,e),KA(o,a),t.ancestors.pop(),t.schema=r,t.create(e,s,o,n)}function UJ(t,e,n){const r={};return KA(r,ZA(t,e)),t.create(e,t.Fragment,r,n)}function VJ(t,e){return e.value}function PB(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function KA(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function HJ(t,e,n){return r;function r(i,s,o,a){const c=Array.isArray(o.children)?n:e;return a?c(s,o,a):c(s,o)}}function WJ(t,e){return n;function n(r,i,s,o){const a=Array.isArray(s.children),l=XA(r);return e(i,s,o,a,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function GJ(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&YA.call(e.properties,i)){const s=jJ(t,i,e.properties[i]);if(s){const[o,a]=s;t.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&DJ.has(e.tagName)?r=a:n[o]=a}}if(r){const s=n.style||(n.style={});s[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function $J(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const s=r.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(n,t.evaluater.evaluateExpression(a.argument))}else F0(t,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const a=r.value.data.estree.body[0];a.type,s=t.evaluater.evaluateExpression(a.expression)}else F0(t,e.position);else s=r.value===null?!0:r.value;n[i]=s}return n}function ZA(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:RJ;for(;++r<e.children.length;){const s=e.children[r];let o;if(t.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;o=l+"-"+c,i.set(l,c+1)}}const a=RB(t,s,o);a!==void 0&&n.push(a)}return n}function jJ(t,e,n){const r=xJ(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?yB(n):TB(n)),r.property==="style"){let i=typeof n=="object"?n:qJ(t,String(n));return t.stylePropertyNameCase==="css"&&(i=XJ(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?bJ[r.property]||r.property:r.attribute,n]}}function qJ(t,e){const n={};try{AJ(e,r)}catch(i){if(!t.ignoreInvalidStyle){const s=i,o=new ps("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=t.filePath||void 0,o.url=kB+"#cannot-parse-style-attribute",o}}return n;function r(i,s){let o=i;o.slice(0,2)!=="--"&&(o.slice(0,4)==="-ms-"&&(o="ms-"+o.slice(4)),o=o.replace(LJ,KJ)),n[o]=s}}function LB(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,o;for(;++s<i.length;){const a=wL(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}r=o}else r=wL(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return YA.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);F0(t)}function F0(t,e){const n=new ps("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=kB+"#cannot-handle-mdx-estrees-without-createevaluater",n}function XJ(t){const e={};let n;for(n in t)YA.call(t,n)&&(e[YJ(n)]=t[n]);return e}function YJ(t){let e=t.replace(PJ,ZJ);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function KJ(t,e){return e.toUpperCase()}function ZJ(t){return"-"+t.toLowerCase()}const cC={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},JJ={};function QJ(t,e){const n=JJ,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return IB(t,r,i)}function IB(t,e,n){if(eQ(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return PL(t.children,e,n)}return Array.isArray(t)?PL(t,e,n):""}function PL(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=IB(t[i],e,n);return r.join("")}function eQ(t){return!!(t&&typeof t=="object")}const LL=document.createElement("i");function JA(t){const e="&"+t+";";LL.innerHTML=e;const n=LL.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Rl(t,e,n,r){const i=t.length;let s=0,o;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),t.splice(...o);else for(n&&t.splice(e,n);s<r.length;)o=r.slice(s,s+1e4),o.unshift(e,0),t.splice(...o),s+=1e4,e+=1e4}function ea(t,e){return t.length>0?(Rl(t,t.length,0,e),t):e}const IL={}.hasOwnProperty;function tQ(t){const e={};let n=-1;for(;++n<t.length;)nQ(e,t[n]);return e}function nQ(t,e){let n;for(n in e){const i=(IL.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n];let o;if(s)for(o in s){IL.call(i,o)||(i[o]=[]);const a=s[o];rQ(i[o],Array.isArray(a)?a:a?[a]:[])}}}function rQ(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Rl(t,0,0,r)}function DB(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function im(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const xl=hh(/[A-Za-z]/),Ro=hh(/[\dA-Za-z]/),iQ=hh(/[#-'*+\--9=?A-Z^-~]/);function RT(t){return t!==null&&(t<32||t===127)}const PT=hh(/\d/),sQ=hh(/[\dA-Fa-f]/),oQ=hh(/[!-/:-@[-`{-~]/);function fn(t){return t!==null&&t<-2}function uo(t){return t!==null&&(t<0||t===32)}function Jn(t){return t===-2||t===-1||t===32}const aQ=hh(new RegExp("\\p{P}|\\p{S}","u")),lQ=hh(/\s/);function hh(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Xm(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const s=t.charCodeAt(n);let o="";if(s===37&&Ro(t.charCodeAt(n+1))&&Ro(t.charCodeAt(n+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=t.charCodeAt(n+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),i=1):o="�"}else o=String.fromCharCode(s);o&&(e.push(t.slice(r,n),encodeURIComponent(o)),r=n+i+1,o=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function xr(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(l){return Jn(l)?(t.enter(n),a(l)):e(l)}function a(l){return Jn(l)&&s++<i?(t.consume(l),a):(t.exit(n),e(l))}}const cQ={tokenize:uQ};function uQ(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),xr(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),s(a)}function s(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(a)}function o(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return fn(a)?(t.consume(a),t.exit("chunkText"),s):(t.consume(a),o)}}const hQ={tokenize:fQ},DL={tokenize:dQ};function fQ(t){const e=this,n=[];let r=0,i,s,o;return a;function a(T){if(r<n.length){const A=n[r];return e.containerState=A[1],t.attempt(A[0].continuation,l,c)(T)}return c(T)}function l(T){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&C();const A=e.events.length;let L=A,R;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){R=e.events[L][1].end;break}x(r);let N=A;for(;N<e.events.length;)e.events[N][1].end={...R},N++;return Rl(e.events,L+1,0,e.events.slice(A)),e.events.length=N,c(T)}return a(T)}function c(T){if(r===n.length){if(!i)return p(T);if(i.currentConstruct&&i.currentConstruct.concrete)return _(T);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(DL,u,f)(T)}function u(T){return i&&C(),x(r),p(T)}function f(T){return e.parser.lazy[e.now().line]=r!==n.length,o=e.now().offset,_(T)}function p(T){return e.containerState={},t.attempt(DL,m,_)(T)}function m(T){return r++,n.push([e.currentConstruct,e.containerState]),p(T)}function _(T){if(T===null){i&&C(),x(0),t.consume(T);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(T)}function S(T){if(T===null){w(t.exit("chunkFlow"),!0),x(0),t.consume(T);return}return fn(T)?(t.consume(T),w(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(T),S)}function w(T,A){const L=e.sliceStream(T);if(A&&L.push(null),T.previous=s,s&&(s.next=T),s=T,i.defineSkip(T.start),i.write(L),e.parser.lazy[T.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<o&&(!i.events[R][1].end||i.events[R][1].end.offset>o))return;const N=e.events.length;let z=N,D,I;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){if(D){I=e.events[z][1].end;break}D=!0}for(x(r),R=N;R<e.events.length;)e.events[R][1].end={...I},R++;Rl(e.events,z+1,0,e.events.slice(N)),e.events.length=R}}function x(T){let A=n.length;for(;A-- >T;){const L=n[A];e.containerState=L[1],L[0].exit.call(e,t)}n.length=T}function C(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function dQ(t,e,n){return xr(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function OL(t){if(t===null||uo(t)||lQ(t))return 1;if(aQ(t))return 2}function QA(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}const LT={name:"attention",resolveAll:pQ,tokenize:mQ};function pQ(t,e){let n=-1,r,i,s,o,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},p={...t[n][1].start};NL(f,-l),NL(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},t[r][1].end={...o.start},t[n][1].start={...a.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ea(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ea(c,[["enter",i,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=ea(c,QA(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ea(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=ea(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,Rl(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function mQ(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=OL(r);let s;return o;function o(l){return s=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===s)return t.consume(l),a;const c=t.exit("attentionSequence"),u=OL(l),f=!u||u===2&&i||n.includes(l),p=!i||i===2&&u||n.includes(r);return c._open=!!(s===42?f:f&&(i||!p)),c._close=!!(s===42?p:p&&(u||!f)),e(l)}}function NL(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const gQ={name:"autolink",tokenize:yQ};function yQ(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(m){return xl(m)?(t.consume(m),o):m===64?n(m):c(m)}function o(m){return m===43||m===45||m===46||Ro(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||Ro(m))&&r++<32?(t.consume(m),a):(r=0,c(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||RT(m)?n(m):(t.consume(m),l)}function c(m){return m===64?(t.consume(m),u):iQ(m)?(t.consume(m),c):n(m)}function u(m){return Ro(m)?f(m):n(m)}function f(m){return m===46?(t.consume(m),r=0,u):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||Ro(m))&&r++<63){const _=m===45?p:f;return t.consume(m),_}return n(m)}}const D1={partial:!0,tokenize:_Q};function _Q(t,e,n){return r;function r(s){return Jn(s)?xr(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||fn(s)?e(s):n(s)}}const OB={continuation:{tokenize:xQ},exit:SQ,name:"blockQuote",tokenize:vQ};function vQ(t,e,n){const r=this;return i;function i(o){if(o===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(o),t.exit("blockQuoteMarker"),s}return n(o)}function s(o){return Jn(o)?(t.enter("blockQuotePrefixWhitespace"),t.consume(o),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(o))}}function xQ(t,e,n){const r=this;return i;function i(o){return Jn(o)?xr(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return t.attempt(OB,e,n)(o)}}function SQ(t){t.exit("blockQuote")}const NB={name:"characterEscape",tokenize:wQ};function wQ(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return oQ(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}const BB={name:"characterReference",tokenize:bQ};function bQ(t,e,n){const r=this;let i=0,s,o;return a;function a(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,o=Ro,u(f))}function c(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,o=sQ,u):(t.enter("characterReferenceValue"),s=7,o=PT,u(f))}function u(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return o===Ro&&!JA(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return o(f)&&i++<s?(t.consume(f),u):n(f)}}const BL={partial:!0,tokenize:CQ},FL={concrete:!0,name:"codeFenced",tokenize:EQ};function EQ(t,e,n){const r=this,i={partial:!0,tokenize:L};let s=0,o=0,a;return l;function l(R){return c(R)}function c(R){const N=r.events[r.events.length-1];return s=N&&N[1].type==="linePrefix"?N[2].sliceSerialize(N[1],!0).length:0,a=R,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(R)}function u(R){return R===a?(o++,t.consume(R),u):o<3?n(R):(t.exit("codeFencedFenceSequence"),Jn(R)?xr(t,f,"whitespace")(R):f(R))}function f(R){return R===null||fn(R)?(t.exit("codeFencedFence"),r.interrupt?e(R):t.check(BL,S,A)(R)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(R))}function p(R){return R===null||fn(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(R)):Jn(R)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),xr(t,m,"whitespace")(R)):R===96&&R===a?n(R):(t.consume(R),p)}function m(R){return R===null||fn(R)?f(R):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),_(R))}function _(R){return R===null||fn(R)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(R)):R===96&&R===a?n(R):(t.consume(R),_)}function S(R){return t.attempt(i,A,w)(R)}function w(R){return t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),x}function x(R){return s>0&&Jn(R)?xr(t,C,"linePrefix",s+1)(R):C(R)}function C(R){return R===null||fn(R)?t.check(BL,S,A)(R):(t.enter("codeFlowValue"),T(R))}function T(R){return R===null||fn(R)?(t.exit("codeFlowValue"),C(R)):(t.consume(R),T)}function A(R){return t.exit("codeFenced"),e(R)}function L(R,N,z){let D=0;return I;function I(J){return R.enter("lineEnding"),R.consume(J),R.exit("lineEnding"),B}function B(J){return R.enter("codeFencedFence"),Jn(J)?xr(R,q,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):q(J)}function q(J){return J===a?(R.enter("codeFencedFenceSequence"),K(J)):z(J)}function K(J){return J===a?(D++,R.consume(J),K):D>=o?(R.exit("codeFencedFenceSequence"),Jn(J)?xr(R,j,"whitespace")(J):j(J)):z(J)}function j(J){return J===null||fn(J)?(R.exit("codeFencedFence"),N(J)):z(J)}}}function CQ(t,e,n){const r=this;return i;function i(o){return o===null?n(o):(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}const uC={name:"codeIndented",tokenize:MQ},TQ={partial:!0,tokenize:AQ};function MQ(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),xr(t,s,"linePrefix",5)(c)}function s(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?o(c):n(c)}function o(c){return c===null?l(c):fn(c)?t.attempt(TQ,o,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||fn(c)?(t.exit("codeFlowValue"),o(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function AQ(t,e,n){const r=this;return i;function i(o){return r.parser.lazy[r.now().line]?n(o):fn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),i):xr(t,s,"linePrefix",5)(o)}function s(o){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):fn(o)?i(o):n(o)}}const kQ={name:"codeText",previous:PQ,resolve:RQ,tokenize:LQ};function RQ(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function PQ(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function LQ(t,e,n){let r=0,i,s;return o;function o(f){return t.enter("codeText"),t.enter("codeTextSequence"),a(f)}function a(f){return f===96?(t.consume(f),r++,a):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(s=t.enter("codeTextSequence"),i=0,u(f)):fn(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(f))}function c(f){return f===null||f===32||f===96||fn(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),c)}function u(f){return f===96?(t.consume(f),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(s.type="codeTextData",c(f))}}class IQ{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&yy(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yy(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yy(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yy(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yy(this.left,n.reverse())}}}function yy(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function FB(t){const e={};let n=-1,r,i,s,o,a,l,c;const u=new IQ(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,DQ(u,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(o=u.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),o[1].type="lineEnding",i=s);else if(o[1].type!=="linePrefix")break;i&&(r[1].end={...u.get(i)[1].start},a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return Rl(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function DQ(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const s=[],o=n._tokenizer||r.parser[n.contentType](n.start),a=o.events,l=[],c={};let u,f,p=-1,m=n,_=0,S=0;const w=[S];for(;m;){for(;t.get(++i)[1]!==m;);s.push(i),m._tokenizer||(u=r.sliceStream(m),m.next||u.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(u),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(S=p+1,w.push(S),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):w.pop(),p=w.length;p--;){const x=a.slice(w[p],w[p+1]),C=s.pop();l.push([C,C+x.length-1]),t.splice(C,2,x)}for(l.reverse(),p=-1;++p<l.length;)c[_+l[p][0]]=_+l[p][1],_+=l[p][1]-l[p][0]-1;return c}const OQ={resolve:BQ,tokenize:FQ},NQ={partial:!0,tokenize:zQ};function BQ(t){return FB(t),t}function FQ(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?s(a):fn(a)?t.check(NQ,o,s)(a):(t.consume(a),i)}function s(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function o(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function zQ(t,e,n){const r=this;return i;function i(o){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),xr(t,s,"linePrefix")}function s(o){if(o===null||fn(o))return n(o);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):t.interrupt(r.parser.constructs.flow,n,e)(o)}}function zB(t,e,n,r,i,s,o,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return f;function f(x){return x===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(x),t.exit(s),p):x===null||x===32||x===41||RT(x)?n(x):(t.enter(r),t.enter(o),t.enter(a),t.enter("chunkString",{contentType:"string"}),S(x))}function p(x){return x===62?(t.enter(s),t.consume(x),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(t.exit("chunkString"),t.exit(a),p(x)):x===null||x===60||fn(x)?n(x):(t.consume(x),x===92?_:m)}function _(x){return x===60||x===62||x===92?(t.consume(x),m):m(x)}function S(x){return!u&&(x===null||x===41||uo(x))?(t.exit("chunkString"),t.exit(a),t.exit(o),t.exit(r),e(x)):u<c&&x===40?(t.consume(x),u++,S):x===41?(t.consume(x),u--,S):x===null||x===32||x===40||RT(x)?n(x):(t.consume(x),x===92?w:S)}function w(x){return x===40||x===41||x===92?(t.consume(x),S):S(x)}}function UB(t,e,n,r,i,s){const o=this;let a=0,l;return c;function c(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(s),u}function u(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(t.exit(s),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):fn(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||fn(m)||a++>999?(t.exit("chunkString"),u(m)):(t.consume(m),l||(l=!Jn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),a++,f):f(m)}}function VB(t,e,n,r,i,s){let o;return a;function a(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),o=p===40?41:p,l):n(p)}function l(p){return p===o?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===o?(t.exit(s),l(o)):p===null?n(p):fn(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),xr(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(p))}function u(p){return p===o||p===null||fn(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?f:u)}function f(p){return p===o||p===92?(t.consume(p),u):u(p)}}function a0(t,e){let n;return r;function r(i){return fn(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Jn(i)?xr(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const UQ={name:"definition",tokenize:HQ},VQ={partial:!0,tokenize:WQ};function HQ(t,e,n){const r=this;let i;return s;function s(m){return t.enter("definition"),o(m)}function o(m){return UB.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=im(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return uo(m)?a0(t,c)(m):c(m)}function c(m){return zB(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function u(m){return t.attempt(VQ,f,f)(m)}function f(m){return Jn(m)?xr(t,p,"whitespace")(m):p(m)}function p(m){return m===null||fn(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function WQ(t,e,n){return r;function r(a){return uo(a)?a0(t,i)(a):n(a)}function i(a){return VB(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Jn(a)?xr(t,o,"whitespace")(a):o(a)}function o(a){return a===null||fn(a)?e(a):n(a)}}const GQ={name:"hardBreakEscape",tokenize:$Q};function $Q(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return fn(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}const jQ={name:"headingAtx",resolve:qQ,tokenize:XQ};function qQ(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Rl(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function XQ(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),s(u)}function s(u){return t.enter("atxHeadingSequence"),o(u)}function o(u){return u===35&&r++<6?(t.consume(u),o):u===null||uo(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||fn(u)?(t.exit("atxHeading"),e(u)):Jn(u)?xr(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||uo(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const YQ=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],zL=["pre","script","style","textarea"],KQ={concrete:!0,name:"htmlFlow",resolveTo:QQ,tokenize:eee},ZQ={partial:!0,tokenize:nee},JQ={partial:!0,tokenize:tee};function QQ(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function eee(t,e,n){const r=this;let i,s,o,a,l;return c;function c(Z){return u(Z)}function u(Z){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(Z),f}function f(Z){return Z===33?(t.consume(Z),p):Z===47?(t.consume(Z),s=!0,S):Z===63?(t.consume(Z),i=3,r.interrupt?e:V):xl(Z)?(t.consume(Z),o=String.fromCharCode(Z),w):n(Z)}function p(Z){return Z===45?(t.consume(Z),i=2,m):Z===91?(t.consume(Z),i=5,a=0,_):xl(Z)?(t.consume(Z),i=4,r.interrupt?e:V):n(Z)}function m(Z){return Z===45?(t.consume(Z),r.interrupt?e:V):n(Z)}function _(Z){const ue="CDATA[";return Z===ue.charCodeAt(a++)?(t.consume(Z),a===ue.length?r.interrupt?e:q:_):n(Z)}function S(Z){return xl(Z)?(t.consume(Z),o=String.fromCharCode(Z),w):n(Z)}function w(Z){if(Z===null||Z===47||Z===62||uo(Z)){const ue=Z===47,me=o.toLowerCase();return!ue&&!s&&zL.includes(me)?(i=1,r.interrupt?e(Z):q(Z)):YQ.includes(o.toLowerCase())?(i=6,ue?(t.consume(Z),x):r.interrupt?e(Z):q(Z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(Z):s?C(Z):T(Z))}return Z===45||Ro(Z)?(t.consume(Z),o+=String.fromCharCode(Z),w):n(Z)}function x(Z){return Z===62?(t.consume(Z),r.interrupt?e:q):n(Z)}function C(Z){return Jn(Z)?(t.consume(Z),C):I(Z)}function T(Z){return Z===47?(t.consume(Z),I):Z===58||Z===95||xl(Z)?(t.consume(Z),A):Jn(Z)?(t.consume(Z),T):I(Z)}function A(Z){return Z===45||Z===46||Z===58||Z===95||Ro(Z)?(t.consume(Z),A):L(Z)}function L(Z){return Z===61?(t.consume(Z),R):Jn(Z)?(t.consume(Z),L):T(Z)}function R(Z){return Z===null||Z===60||Z===61||Z===62||Z===96?n(Z):Z===34||Z===39?(t.consume(Z),l=Z,N):Jn(Z)?(t.consume(Z),R):z(Z)}function N(Z){return Z===l?(t.consume(Z),l=null,D):Z===null||fn(Z)?n(Z):(t.consume(Z),N)}function z(Z){return Z===null||Z===34||Z===39||Z===47||Z===60||Z===61||Z===62||Z===96||uo(Z)?L(Z):(t.consume(Z),z)}function D(Z){return Z===47||Z===62||Jn(Z)?T(Z):n(Z)}function I(Z){return Z===62?(t.consume(Z),B):n(Z)}function B(Z){return Z===null||fn(Z)?q(Z):Jn(Z)?(t.consume(Z),B):n(Z)}function q(Z){return Z===45&&i===2?(t.consume(Z),$):Z===60&&i===1?(t.consume(Z),ie):Z===62&&i===4?(t.consume(Z),G):Z===63&&i===3?(t.consume(Z),V):Z===93&&i===5?(t.consume(Z),ee):fn(Z)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(ZQ,oe,K)(Z)):Z===null||fn(Z)?(t.exit("htmlFlowData"),K(Z)):(t.consume(Z),q)}function K(Z){return t.check(JQ,j,oe)(Z)}function j(Z){return t.enter("lineEnding"),t.consume(Z),t.exit("lineEnding"),J}function J(Z){return Z===null||fn(Z)?K(Z):(t.enter("htmlFlowData"),q(Z))}function $(Z){return Z===45?(t.consume(Z),V):q(Z)}function ie(Z){return Z===47?(t.consume(Z),o="",U):q(Z)}function U(Z){if(Z===62){const ue=o.toLowerCase();return zL.includes(ue)?(t.consume(Z),G):q(Z)}return xl(Z)&&o.length<8?(t.consume(Z),o+=String.fromCharCode(Z),U):q(Z)}function ee(Z){return Z===93?(t.consume(Z),V):q(Z)}function V(Z){return Z===62?(t.consume(Z),G):Z===45&&i===2?(t.consume(Z),V):q(Z)}function G(Z){return Z===null||fn(Z)?(t.exit("htmlFlowData"),oe(Z)):(t.consume(Z),G)}function oe(Z){return t.exit("htmlFlow"),e(Z)}}function tee(t,e,n){const r=this;return i;function i(o){return fn(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),s):n(o)}function s(o){return r.parser.lazy[r.now().line]?n(o):e(o)}}function nee(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(D1,e,n)}}const ree={name:"htmlText",tokenize:iee};function iee(t,e,n){const r=this;let i,s,o;return a;function a(V){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(V),l}function l(V){return V===33?(t.consume(V),c):V===47?(t.consume(V),L):V===63?(t.consume(V),T):xl(V)?(t.consume(V),z):n(V)}function c(V){return V===45?(t.consume(V),u):V===91?(t.consume(V),s=0,_):xl(V)?(t.consume(V),C):n(V)}function u(V){return V===45?(t.consume(V),m):n(V)}function f(V){return V===null?n(V):V===45?(t.consume(V),p):fn(V)?(o=f,ie(V)):(t.consume(V),f)}function p(V){return V===45?(t.consume(V),m):f(V)}function m(V){return V===62?$(V):V===45?p(V):f(V)}function _(V){const G="CDATA[";return V===G.charCodeAt(s++)?(t.consume(V),s===G.length?S:_):n(V)}function S(V){return V===null?n(V):V===93?(t.consume(V),w):fn(V)?(o=S,ie(V)):(t.consume(V),S)}function w(V){return V===93?(t.consume(V),x):S(V)}function x(V){return V===62?$(V):V===93?(t.consume(V),x):S(V)}function C(V){return V===null||V===62?$(V):fn(V)?(o=C,ie(V)):(t.consume(V),C)}function T(V){return V===null?n(V):V===63?(t.consume(V),A):fn(V)?(o=T,ie(V)):(t.consume(V),T)}function A(V){return V===62?$(V):T(V)}function L(V){return xl(V)?(t.consume(V),R):n(V)}function R(V){return V===45||Ro(V)?(t.consume(V),R):N(V)}function N(V){return fn(V)?(o=N,ie(V)):Jn(V)?(t.consume(V),N):$(V)}function z(V){return V===45||Ro(V)?(t.consume(V),z):V===47||V===62||uo(V)?D(V):n(V)}function D(V){return V===47?(t.consume(V),$):V===58||V===95||xl(V)?(t.consume(V),I):fn(V)?(o=D,ie(V)):Jn(V)?(t.consume(V),D):$(V)}function I(V){return V===45||V===46||V===58||V===95||Ro(V)?(t.consume(V),I):B(V)}function B(V){return V===61?(t.consume(V),q):fn(V)?(o=B,ie(V)):Jn(V)?(t.consume(V),B):D(V)}function q(V){return V===null||V===60||V===61||V===62||V===96?n(V):V===34||V===39?(t.consume(V),i=V,K):fn(V)?(o=q,ie(V)):Jn(V)?(t.consume(V),q):(t.consume(V),j)}function K(V){return V===i?(t.consume(V),i=void 0,J):V===null?n(V):fn(V)?(o=K,ie(V)):(t.consume(V),K)}function j(V){return V===null||V===34||V===39||V===60||V===61||V===96?n(V):V===47||V===62||uo(V)?D(V):(t.consume(V),j)}function J(V){return V===47||V===62||uo(V)?D(V):n(V)}function $(V){return V===62?(t.consume(V),t.exit("htmlTextData"),t.exit("htmlText"),e):n(V)}function ie(V){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),U}function U(V){return Jn(V)?xr(t,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(V):ee(V)}function ee(V){return t.enter("htmlTextData"),o(V)}}const e2={name:"labelEnd",resolveAll:lee,resolveTo:cee,tokenize:uee},see={tokenize:hee},oee={tokenize:fee},aee={tokenize:dee};function lee(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Rl(t,0,t.length,n),t}function cee(t,e){let n=t.length,r=0,i,s,o,a;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(o){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(o=n);const l={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[o][1].end}},u={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[o-2][1].start}};return a=[["enter",l,e],["enter",c,e]],a=ea(a,t.slice(s+1,s+r+3)),a=ea(a,[["enter",u,e]]),a=ea(a,QA(e.parser.constructs.insideSpan.null,t.slice(s+r+4,o-3),e)),a=ea(a,[["exit",u,e],t[o-2],t[o-1],["exit",c,e]]),a=ea(a,t.slice(o+1)),a=ea(a,[["exit",l,e]]),Rl(t,s,t.length,a),t}function uee(t,e,n){const r=this;let i=r.events.length,s,o;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return a;function a(p){return s?s._inactive?f(p):(o=r.parser.defined.includes(im(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(see,u,o?u:f)(p):p===91?t.attempt(oee,u,o?c:f)(p):o?u(p):f(p)}function c(p){return t.attempt(aee,u,f)(p)}function u(p){return e(p)}function f(p){return s._balanced=!0,n(p)}}function hee(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return uo(f)?a0(t,s)(f):s(f)}function s(f){return f===41?u(f):zB(t,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return uo(f)?a0(t,l)(f):u(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?VB(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):u(f)}function c(f){return uo(f)?a0(t,u)(f):u(f)}function u(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function fee(t,e,n){const r=this;return i;function i(a){return UB.call(r,t,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return r.parser.defined.includes(im(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function o(a){return n(a)}}function dee(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}const pee={name:"labelStartImage",resolveAll:e2.resolveAll,tokenize:mee};function mee(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),s}function s(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),o):n(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const gee={name:"labelStartLink",resolveAll:e2.resolveAll,tokenize:yee};function yee(t,e,n){const r=this;return i;function i(o){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const hC={name:"lineEnding",tokenize:_ee};function _ee(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),xr(t,e,"linePrefix")}}const jx={name:"thematicBreak",tokenize:vee};function vee(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),o(c)}function o(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||fn(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),Jn(c)?xr(t,a,"whitespace")(c):a(c))}}const no={continuation:{tokenize:bee},exit:Cee,name:"list",tokenize:wee},xee={partial:!0,tokenize:Tee},See={partial:!0,tokenize:Eee};function wee(t,e,n){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,o=0;return a;function a(m){const _=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(_==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:PT(m)){if(r.containerState.type||(r.containerState.type=_,t.enter(_,{_container:!0})),_==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(jx,n,c)(m):c(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return PT(m)&&++o<10?(t.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(D1,r.interrupt?n:u,t.attempt(xee,p,f))}function u(m){return r.containerState.initialBlankLine=!0,s++,p(m)}function f(m){return Jn(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function bee(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(D1,i,s);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,xr(t,e,"listItemIndent",r.containerState.size+1)(a)}function s(a){return r.containerState.furtherBlankLines||!Jn(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(See,e,o)(a))}function o(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,xr(t,t.attempt(no,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function Eee(t,e,n){const r=this;return xr(t,i,"listItemIndent",r.containerState.size+1);function i(s){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?e(s):n(s)}}function Cee(t){t.exit(this.containerState.type)}function Tee(t,e,n){const r=this;return xr(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const o=r.events[r.events.length-1];return!Jn(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}const UL={name:"setextUnderline",resolveTo:Mee,tokenize:Aee};function Mee(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);const o={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",o,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=o,t.push(["exit",o,e]),t}function Aee(t,e,n){const r=this;let i;return s;function s(c){let u=r.events.length,f;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){f=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=c,o(c)):n(c)}function o(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),Jn(c)?xr(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||fn(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const kee={tokenize:Ree};function Ree(t){const e=this,n=t.attempt(D1,r,t.attempt(this.parser.constructs.flowInitial,i,xr(t,t.attempt(this.parser.constructs.flow,i,t.attempt(OQ,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const Pee={resolveAll:WB()},Lee=HB("string"),Iee=HB("text");function HB(t){return{resolveAll:WB(t==="text"?Dee:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],s=n.attempt(i,o,a);return o;function o(u){return c(u)?s(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),s(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const f=i[u];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function WB(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function Dee(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let s=i.length,o=-1,a=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)l=!0,a++;else if(c!==-1){s++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:r.start._bufferIndex+o,_index:r.start._index+s,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}const Oee={42:no,43:no,45:no,48:no,49:no,50:no,51:no,52:no,53:no,54:no,55:no,56:no,57:no,62:OB},Nee={91:UQ},Bee={[-2]:uC,[-1]:uC,32:uC},Fee={35:jQ,42:jx,45:[UL,jx],60:KQ,61:UL,95:jx,96:FL,126:FL},zee={38:BB,92:NB},Uee={[-5]:hC,[-4]:hC,[-3]:hC,33:pee,38:BB,42:LT,60:[gQ,ree],91:gee,92:[GQ,NB],93:e2,95:LT,96:kQ},Vee={null:[LT,Pee]},Hee={null:[42,95]},Wee={null:[]},Gee=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Hee,contentInitial:Nee,disable:Wee,document:Oee,flow:Fee,flowInitial:Bee,insideSpan:Vee,string:zee,text:Uee},Symbol.toStringTag,{value:"Module"}));function $ee(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},s=[];let o=[],a=[];const l={attempt:N(L),check:N(R),consume:C,enter:T,exit:A,interrupt:N(R,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:_,parser:t,previous:null,sliceSerialize:p,sliceStream:m,write:f};let u=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function f(B){return o=ea(o,B),w(),o[o.length-1]!==null?[]:(z(e,0),c.events=QA(s,c.events,c),c.events)}function p(B,q){return qee(m(B),q)}function m(B){return jee(o,B)}function _(){const{_bufferIndex:B,_index:q,line:K,column:j,offset:J}=r;return{_bufferIndex:B,_index:q,line:K,column:j,offset:J}}function S(B){i[B.line]=B.column,I()}function w(){let B;for(;r._index<o.length;){const q=o[r._index];if(typeof q=="string")for(B=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===B&&r._bufferIndex<q.length;)x(q.charCodeAt(r._bufferIndex));else x(q)}}function x(B){u=u(B)}function C(B){fn(B)?(r.line++,r.column=1,r.offset+=B===-3?2:1,I()):B!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=B}function T(B,q){const K=q||{};return K.type=B,K.start=_(),c.events.push(["enter",K,c]),a.push(K),K}function A(B){const q=a.pop();return q.end=_(),c.events.push(["exit",q,c]),q}function L(B,q){z(B,q.from)}function R(B,q){q.restore()}function N(B,q){return K;function K(j,J,$){let ie,U,ee,V;return Array.isArray(j)?oe(j):"tokenize"in j?oe([j]):G(j);function G(we){return Me;function Me(ze){const rt=ze!==null&&we[ze],Ke=ze!==null&&we.null,xt=[...Array.isArray(rt)?rt:rt?[rt]:[],...Array.isArray(Ke)?Ke:Ke?[Ke]:[]];return oe(xt)(ze)}}function oe(we){return ie=we,U=0,we.length===0?$:Z(we[U])}function Z(we){return Me;function Me(ze){return V=D(),ee=we,we.partial||(c.currentConstruct=we),we.name&&c.parser.constructs.disable.null.includes(we.name)?me():we.tokenize.call(q?Object.assign(Object.create(c),q):c,l,ue,me)(ze)}}function ue(we){return B(ee,V),J}function me(we){return V.restore(),++U<ie.length?Z(ie[U]):$}}}function z(B,q){B.resolveAll&&!s.includes(B)&&s.push(B),B.resolve&&Rl(c.events,q,c.events.length-q,B.resolve(c.events.slice(q),c)),B.resolveTo&&(c.events=B.resolveTo(c.events,c))}function D(){const B=_(),q=c.previous,K=c.currentConstruct,j=c.events.length,J=Array.from(a);return{from:j,restore:$};function $(){r=B,c.previous=q,c.currentConstruct=K,c.events.length=j,a=J,I()}}function I(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function jee(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let o;if(n===i)o=[t[n].slice(r,s)];else{if(o=t.slice(n,i),r>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(r):o.shift()}s>0&&o.push(t[i].slice(0,s))}return o}function qee(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const s=t[n];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&i)continue;o=" ";break}default:o=String.fromCharCode(s)}i=s===-2,r.push(o)}return r.join("")}function Xee(t){const r={constructs:tQ([Gee,...(t||{}).extensions||[]]),content:i(cQ),defined:[],document:i(hQ),flow:i(kee),lazy:{},string:i(Lee),text:i(Iee)};return r;function i(s){return o;function o(a){return $ee(r,s,a)}}}function Yee(t){for(;!FB(t););return t}const VL=/[\0\t\n\r]/g;function Kee(){let t=1,e="",n=!0,r;return i;function i(s,o,a){const l=[];let c,u,f,p,m;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),f=0,e="",n&&(s.charCodeAt(0)===65279&&f++,n=void 0);f<s.length;){if(VL.lastIndex=f,c=VL.exec(s),p=c&&c.index!==void 0?c.index:s.length,m=s.charCodeAt(p),!c){e=s.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(s.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const Zee=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Jee(t){return t.replace(Zee,Qee)}function Qee(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),s=i===120||i===88;return DB(n.slice(s?2:1),s?16:10)}return JA(n)||t}const GB={}.hasOwnProperty;function ete(t,e,n){return typeof e!="string"&&(n=e,e=void 0),tte(n)(Yee(Xee(n).document().write(Kee()(t,e,!0))))}function tte(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Rt),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(pt),blockQuote:s(Ke),characterEscape:D,characterReference:D,codeFenced:s(xt),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(xt,o),codeText:s(We,o),codeTextData:D,data:D,codeFlowValue:D,definition:s(Oe),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(re),hardBreakEscape:s(Ge),hardBreakTrailing:s(Ge),htmlFlow:s(ot,o),htmlFlowData:D,htmlText:s(ot,o),htmlTextData:D,image:s(Qe),label:o,link:s(Rt),listItem:s(te),listItemValue:p,listOrdered:s(je,f),listUnordered:s(je),paragraph:s(Q),reference:Z,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(pt),strong:s(be),thematicBreak:s($e)},exit:{atxHeading:l(),atxHeadingSequence:L,autolink:l(),autolinkEmail:rt,autolinkProtocol:ze,blockQuote:l(),characterEscapeValue:I,characterReferenceMarkerHexadecimal:me,characterReferenceMarkerNumeric:me,characterReferenceValue:we,characterReference:Me,codeFenced:l(w),codeFencedFence:S,codeFencedFenceInfo:m,codeFencedFenceMeta:_,codeFlowValue:I,codeIndented:l(x),codeText:l(J),codeTextData:I,data:I,definition:l(),definitionDestinationString:A,definitionLabelString:C,definitionTitleString:T,emphasis:l(),hardBreakEscape:l(q),hardBreakTrailing:l(q),htmlFlow:l(K),htmlFlowData:I,htmlText:l(j),htmlTextData:I,image:l(ie),label:ee,labelText:U,lineEnding:B,link:l($),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:ue,resourceDestinationString:V,resourceTitleString:G,resource:oe,setextHeading:l(z),setextHeadingLineSequence:N,setextHeadingText:R,strong:l(),thematicBreak:l()}};$B(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(ce){let Pe={type:"root",children:[]};const Ve={stack:[Pe],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:u,data:n},Ye=[];let St=-1;for(;++St<ce.length;)if(ce[St][1].type==="listOrdered"||ce[St][1].type==="listUnordered")if(ce[St][0]==="enter")Ye.push(St);else{const Xe=Ye.pop();St=i(ce,Xe,St)}for(St=-1;++St<ce.length;){const Xe=e[ce[St][0]];GB.call(Xe,ce[St][1].type)&&Xe[ce[St][1].type].call(Object.assign({sliceSerialize:ce[St][2].sliceSerialize},Ve),ce[St][1])}if(Ve.tokenStack.length>0){const Xe=Ve.tokenStack[Ve.tokenStack.length-1];(Xe[1]||HL).call(Ve,void 0,Xe[0])}for(Pe.position={start:Fu(ce.length>0?ce[0][1].start:{line:1,column:1,offset:0}),end:Fu(ce.length>0?ce[ce.length-2][1].end:{line:1,column:1,offset:0})},St=-1;++St<e.transforms.length;)Pe=e.transforms[St](Pe)||Pe;return Pe}function i(ce,Pe,Ve){let Ye=Pe-1,St=-1,Xe=!1,_t,kt,Lt,gt;for(;++Ye<=Ve;){const he=ce[Ye];switch(he[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{he[0]==="enter"?St++:St--,gt=void 0;break}case"lineEndingBlank":{he[0]==="enter"&&(_t&&!gt&&!St&&!Lt&&(Lt=Ye),gt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:gt=void 0}if(!St&&he[0]==="enter"&&he[1].type==="listItemPrefix"||St===-1&&he[0]==="exit"&&(he[1].type==="listUnordered"||he[1].type==="listOrdered")){if(_t){let Fe=Ye;for(kt=void 0;Fe--;){const at=ce[Fe];if(at[1].type==="lineEnding"||at[1].type==="lineEndingBlank"){if(at[0]==="exit")continue;kt&&(ce[kt][1].type="lineEndingBlank",Xe=!0),at[1].type="lineEnding",kt=Fe}else if(!(at[1].type==="linePrefix"||at[1].type==="blockQuotePrefix"||at[1].type==="blockQuotePrefixWhitespace"||at[1].type==="blockQuoteMarker"||at[1].type==="listItemIndent"))break}Lt&&(!kt||Lt<kt)&&(_t._spread=!0),_t.end=Object.assign({},kt?ce[kt][1].start:he[1].end),ce.splice(kt||Ye,0,["exit",_t,he[2]]),Ye++,Ve++}if(he[1].type==="listItemPrefix"){const Fe={type:"listItem",_spread:!1,start:Object.assign({},he[1].start),end:void 0};_t=Fe,ce.splice(Ye,0,["enter",Fe,he[2]]),Ye++,Ve++,Lt=void 0,gt=!0}}}return ce[Pe][1]._spread=Xe,Ve}function s(ce,Pe){return Ve;function Ve(Ye){a.call(this,ce(Ye),Ye),Pe&&Pe.call(this,Ye)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(ce,Pe,Ve){this.stack[this.stack.length-1].children.push(ce),this.stack.push(ce),this.tokenStack.push([Pe,Ve||void 0]),ce.position={start:Fu(Pe.start),end:void 0}}function l(ce){return Pe;function Pe(Ve){ce&&ce.call(this,Ve),c.call(this,Ve)}}function c(ce,Pe){const Ve=this.stack.pop(),Ye=this.tokenStack.pop();if(Ye)Ye[0].type!==ce.type&&(Pe?Pe.call(this,ce,Ye[0]):(Ye[1]||HL).call(this,ce,Ye[0]));else throw new Error("Cannot close `"+ce.type+"` ("+o0({start:ce.start,end:ce.end})+"): it’s not open");Ve.position.end=Fu(ce.end)}function u(){return QJ(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(ce){if(this.data.expectingFirstListItemValue){const Pe=this.stack[this.stack.length-2];Pe.start=Number.parseInt(this.sliceSerialize(ce),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.lang=ce}function _(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.meta=ce}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=ce.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=ce.replace(/(\r?\n|\r)$/g,"")}function C(ce){const Pe=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Pe,Ve.identifier=im(this.sliceSerialize(ce)).toLowerCase()}function T(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.title=ce}function A(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.url=ce}function L(ce){const Pe=this.stack[this.stack.length-1];if(!Pe.depth){const Ve=this.sliceSerialize(ce).length;Pe.depth=Ve}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function N(ce){const Pe=this.stack[this.stack.length-1];Pe.depth=this.sliceSerialize(ce).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function D(ce){const Ve=this.stack[this.stack.length-1].children;let Ye=Ve[Ve.length-1];(!Ye||Ye.type!=="text")&&(Ye=Ne(),Ye.position={start:Fu(ce.start),end:void 0},Ve.push(Ye)),this.stack.push(Ye)}function I(ce){const Pe=this.stack.pop();Pe.value+=this.sliceSerialize(ce),Pe.position.end=Fu(ce.end)}function B(ce){const Pe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ve=Pe.children[Pe.children.length-1];Ve.position.end=Fu(ce.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Pe.type)&&(D.call(this,ce),I.call(this,ce))}function q(){this.data.atHardBreak=!0}function K(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=ce}function j(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=ce}function J(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.value=ce}function $(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const Pe=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=Pe,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function ie(){const ce=this.stack[this.stack.length-1];if(this.data.inReference){const Pe=this.data.referenceType||"shortcut";ce.type+="Reference",ce.referenceType=Pe,delete ce.url,delete ce.title}else delete ce.identifier,delete ce.label;this.data.referenceType=void 0}function U(ce){const Pe=this.sliceSerialize(ce),Ve=this.stack[this.stack.length-2];Ve.label=Jee(Pe),Ve.identifier=im(Pe).toLowerCase()}function ee(){const ce=this.stack[this.stack.length-1],Pe=this.resume(),Ve=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ve.type==="link"){const Ye=ce.children;Ve.children=Ye}else Ve.alt=Pe}function V(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.url=ce}function G(){const ce=this.resume(),Pe=this.stack[this.stack.length-1];Pe.title=ce}function oe(){this.data.inReference=void 0}function Z(){this.data.referenceType="collapsed"}function ue(ce){const Pe=this.resume(),Ve=this.stack[this.stack.length-1];Ve.label=Pe,Ve.identifier=im(this.sliceSerialize(ce)).toLowerCase(),this.data.referenceType="full"}function me(ce){this.data.characterReferenceType=ce.type}function we(ce){const Pe=this.sliceSerialize(ce),Ve=this.data.characterReferenceType;let Ye;Ve?(Ye=DB(Pe,Ve==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Ye=JA(Pe);const St=this.stack[this.stack.length-1];St.value+=Ye}function Me(ce){const Pe=this.stack.pop();Pe.position.end=Fu(ce.end)}function ze(ce){I.call(this,ce);const Pe=this.stack[this.stack.length-1];Pe.url=this.sliceSerialize(ce)}function rt(ce){I.call(this,ce);const Pe=this.stack[this.stack.length-1];Pe.url="mailto:"+this.sliceSerialize(ce)}function Ke(){return{type:"blockquote",children:[]}}function xt(){return{type:"code",lang:null,meta:null,value:""}}function We(){return{type:"inlineCode",value:""}}function Oe(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function re(){return{type:"emphasis",children:[]}}function pt(){return{type:"heading",depth:0,children:[]}}function Ge(){return{type:"break"}}function ot(){return{type:"html",value:""}}function Qe(){return{type:"image",title:null,url:"",alt:null}}function Rt(){return{type:"link",title:null,url:"",children:[]}}function je(ce){return{type:"list",ordered:ce.type==="listOrdered",start:null,spread:ce._spread,children:[]}}function te(ce){return{type:"listItem",spread:ce._spread,checked:null,children:[]}}function Q(){return{type:"paragraph",children:[]}}function be(){return{type:"strong",children:[]}}function Ne(){return{type:"text",value:""}}function $e(){return{type:"thematicBreak"}}}function Fu(t){return{line:t.line,column:t.column,offset:t.offset}}function $B(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?$B(t,r):nte(t,r)}}function nte(t,e){let n;for(n in e)if(GB.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function HL(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+o0({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+o0({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+o0({start:e.start,end:e.end})+") is still open")}function rte(t){const e=this;e.parser=n;function n(r){return ete(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function ite(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function ste(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function ote(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(i.data={meta:e.meta}),t.patch(e,i),i=t.applyData(e,i),i={type:"element",tagName:"pre",properties:{},children:[i]},t.patch(e,i),i}function ate(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function lte(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function cte(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Xm(r.toLowerCase()),s=t.footnoteOrder.indexOf(r);let o,a=t.footnoteCounts.get(r);a===void 0?(a=0,t.footnoteOrder.push(r),o=t.footnoteOrder.length):o=s+1,a+=1,t.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,c),t.applyData(e,c)}function ute(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function hte(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function jB(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const o=i[i.length-1];return o&&o.type==="text"?o.value+=r:i.push({type:"text",value:r}),i}function fte(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return jB(t,e);const i={src:Xm(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,s),t.applyData(e,s)}function dte(t,e){const n={src:Xm(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function pte(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function mte(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return jB(t,e);const i={href:Xm(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,s),t.applyData(e,s)}function gte(t,e){const n={href:Xm(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function yte(t,e,n){const r=t.all(e),i=n?_te(n):qB(e),s={},o=[];if(typeof e.checked=="boolean"){const u=r[0];let f;u&&u.type==="element"&&u.tagName==="p"?f=u:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const u=r[a];(i||a!==0||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?o.push(...u.children):o.push(u)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return t.patch(e,c),t.applyData(e,c)}function _te(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=qB(n[r])}return e}function qB(t){const e=t.spread;return e??t.children.length>1}function vte(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const o=r[i];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,s),t.applyData(e,s)}function xte(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Ste(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function wte(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bte(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],o),i.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},a=XA(e.children[1]),l=MB(e.children[e.children.length-1]);a&&l&&(o.position={start:a,end:l}),i.push(o)}const s={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,s),t.applyData(e,s)}function Ete(t,e,n){const r=n?n.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",o=n&&n.type==="table"?n.align:void 0,a=o?o.length:e.children.length;let l=-1;const c=[];for(;++l<a;){const f=e.children[l],p={},m=o?o[l]:void 0;m&&(p.align=m);let _={type:"element",tagName:s,properties:p,children:[]};f&&(_.children=t.all(f),t.patch(f,_),_=t.applyData(f,_)),c.push(_)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function Cte(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const WL=9,GL=32;function Tte(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const s=[];for(;r;)s.push($L(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return s.push($L(e.slice(i),i>0,!1)),s.join("")}function $L(t,e,n){let r=0,i=t.length;if(e){let s=t.codePointAt(r);for(;s===WL||s===GL;)r++,s=t.codePointAt(r)}if(n){let s=t.codePointAt(i-1);for(;s===WL||s===GL;)i--,s=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function Mte(t,e){const n={type:"text",value:Tte(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Ate(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const kte={blockquote:ite,break:ste,code:ote,delete:ate,emphasis:lte,footnoteReference:cte,heading:ute,html:hte,imageReference:fte,image:dte,inlineCode:pte,linkReference:mte,link:gte,listItem:yte,list:vte,paragraph:xte,root:Ste,strong:wte,table:bte,tableCell:Cte,tableRow:Ete,text:Mte,thematicBreak:Ate,toml:xx,yaml:xx,definition:xx,footnoteDefinition:xx};function xx(){}const XB=-1,O1=0,l0=1,rw=2,t2=3,n2=4,r2=5,i2=6,YB=7,KB=8,jL=typeof self=="object"?self:globalThis,Rte=(t,e)=>{const n=(i,s)=>(t.set(s,i),i),r=i=>{if(t.has(i))return t.get(i);const[s,o]=e[i];switch(s){case O1:case XB:return n(o,i);case l0:{const a=n([],i);for(const l of o)a.push(r(l));return a}case rw:{const a=n({},i);for(const[l,c]of o)a[r(l)]=r(c);return a}case t2:return n(new Date(o),i);case n2:{const{source:a,flags:l}=o;return n(new RegExp(a,l),i)}case r2:{const a=n(new Map,i);for(const[l,c]of o)a.set(r(l),r(c));return a}case i2:{const a=n(new Set,i);for(const l of o)a.add(r(l));return a}case YB:{const{name:a,message:l}=o;return n(new jL[a](l),i)}case KB:return n(BigInt(o),i);case"BigInt":return n(Object(BigInt(o)),i);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return n(new DataView(a),o)}}return n(new jL[s](o),i)};return r},qL=t=>Rte(new Map,t)(0),Op="",{toString:Pte}={},{keys:Lte}=Object,_y=t=>{const e=typeof t;if(e!=="object"||!t)return[O1,e];const n=Pte.call(t).slice(8,-1);switch(n){case"Array":return[l0,Op];case"Object":return[rw,Op];case"Date":return[t2,Op];case"RegExp":return[n2,Op];case"Map":return[r2,Op];case"Set":return[i2,Op];case"DataView":return[l0,n]}return n.includes("Array")?[l0,n]:n.includes("Error")?[YB,n]:[rw,n]},Sx=([t,e])=>t===O1&&(e==="function"||e==="symbol"),Ite=(t,e,n,r)=>{const i=(o,a)=>{const l=r.push(o)-1;return n.set(a,l),l},s=o=>{if(n.has(o))return n.get(o);let[a,l]=_y(o);switch(a){case O1:{let u=o;switch(l){case"bigint":a=KB,u=o.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);u=null;break;case"undefined":return i([XB],o)}return i([a,u],o)}case l0:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),i([l,[...p]],o)}const u=[],f=i([a,u],o);for(const p of o)u.push(s(p));return f}case rw:{if(l)switch(l){case"BigInt":return i([l,o.toString()],o);case"Boolean":case"Number":case"String":return i([l,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const u=[],f=i([a,u],o);for(const p of Lte(o))(t||!Sx(_y(o[p])))&&u.push([s(p),s(o[p])]);return f}case t2:return i([a,o.toISOString()],o);case n2:{const{source:u,flags:f}=o;return i([a,{source:u,flags:f}],o)}case r2:{const u=[],f=i([a,u],o);for(const[p,m]of o)(t||!(Sx(_y(p))||Sx(_y(m))))&&u.push([s(p),s(m)]);return f}case i2:{const u=[],f=i([a,u],o);for(const p of o)(t||!Sx(_y(p)))&&u.push(s(p));return f}}const{message:c}=o;return i([a,{name:l,message:c}],o)};return s},XL=(t,{json:e,lossy:n}={})=>{const r=[];return Ite(!(e||n),!!e,new Map,r)(t),r},iw=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?qL(XL(t,e)):structuredClone(t):(t,e)=>qL(XL(t,e));function Dte(t,e){const n=[{type:"text",value:"↩"}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function Ote(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function Nte(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||Dte,r=t.options.footnoteBackLabel||Ote,i=t.options.footnoteLabel||"Footnotes",s=t.options.footnoteLabelTagName||"h2",o=t.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<t.footnoteOrder.length;){const c=t.footnoteById.get(t.footnoteOrder[l]);if(!c)continue;const u=t.all(c),f=String(c.identifier).toUpperCase(),p=Xm(f.toLowerCase());let m=0;const _=[],S=t.footnoteCounts.get(f);for(;S!==void 0&&++m<=S;){_.length>0&&_.push({type:"text",value:" "});let C=typeof n=="string"?n:n(l,m);typeof C=="string"&&(C={type:"text",value:C}),_.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(C)?C:[C]})}const w=u[u.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const C=w.children[w.children.length-1];C&&C.type==="text"?C.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(..._)}else u.push(..._);const x={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(u,!0)};t.patch(c,x),a.push(x)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...iw(o),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(a,!0)},{type:"text",value:`
`}]}}const ZB=function(t){if(t==null)return Ute;if(typeof t=="function")return N1(t);if(typeof t=="object")return Array.isArray(t)?Bte(t):Fte(t);if(typeof t=="string")return zte(t);throw new Error("Expected function, string, or object as test")};function Bte(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=ZB(t[n]);return N1(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Fte(t){const e=t;return N1(n);function n(r){const i=r;let s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function zte(t){return N1(e);function e(n){return n&&n.type===t}}function N1(t){return e;function e(n,r,i){return!!(Vte(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Ute(){return!0}function Vte(t){return t!==null&&typeof t=="object"&&"type"in t}const JB=[],Hte=!0,YL=!1,Wte="skip";function Gte(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const s=ZB(i),o=r?-1:1;a(t,void 0,[])();function a(l,c,u){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=JB,_,S,w;if((!e||s(l,c,u[u.length-1]||void 0))&&(m=$te(n(l,u)),m[0]===YL))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==Wte)for(S=(r?x.children.length:-1)+o,w=u.concat(x);S>-1&&S<x.children.length;){const C=x.children[S];if(_=a(C,S,w)(),_[0]===YL)return _;S=typeof _[1]=="number"?_[1]:S+o}}return m}}}function $te(t){return Array.isArray(t)?t:typeof t=="number"?[Hte,t]:t==null?JB:[t]}function QB(t,e,n,r){let i,s,o;typeof e=="function"?(s=void 0,o=e,i=n):(s=e,o=n,i=r),Gte(t,s,a,i);function a(l,c){const u=c[c.length-1],f=u?u.children.indexOf(l):void 0;return o(l,f,u)}}const IT={}.hasOwnProperty,jte={};function qte(t,e){const n=e||jte,r=new Map,i=new Map,s=new Map,o={...kte,...n.handlers},a={all:c,applyData:Yte,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:o,one:l,options:n,patch:Xte,wrap:Zte};return QB(t,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const f=u.type==="definition"?r:i,p=String(u.identifier).toUpperCase();f.has(p)||f.set(p,u)}}),a;function l(u,f){const p=u.type,m=a.handlers[p];if(IT.call(a.handlers,p)&&m)return m(a,u,f);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in u){const{children:S,...w}=u,x=iw(w);return x.children=a.all(u),x}return iw(u)}return(a.options.unknownHandler||Kte)(a,u,f)}function c(u){const f=[];if("children"in u){const p=u.children;let m=-1;for(;++m<p.length;){const _=a.one(p[m],u);if(_){if(m&&p[m-1].type==="break"&&(!Array.isArray(_)&&_.type==="text"&&(_.value=KL(_.value)),!Array.isArray(_)&&_.type==="element")){const S=_.children[0];S&&S.type==="text"&&(S.value=KL(S.value))}Array.isArray(_)?f.push(..._):f.push(_)}}}return f}}function Xte(t,e){t.position&&(e.position=kJ(t))}function Yte(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,s=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&s&&Object.assign(n.properties,iw(s)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Kte(t,e){const n=e.data||{},r="value"in e&&!(IT.call(n,"hProperties")||IT.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function Zte(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function KL(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function ZL(t,e){const n=qte(t,e),r=n.one(t,void 0),i=Nte(n),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function Jte(t,e){return t&&"run"in t?async function(n,r){const i=ZL(n,{file:r,...e});await t.run(i,r)}:function(n,r){return ZL(n,{file:r,...t||e})}}function JL(t){if(t)throw t}var fC,QL;function Qte(){if(QL)return fC;QL=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var u=t.call(c,"constructor"),f=c.constructor&&c.constructor.prototype&&t.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!u&&!f)return!1;var p;for(p in c);return typeof p>"u"||t.call(c,p)},o=function(c,u){n&&u.name==="__proto__"?n(c,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):c[u.name]=u.newValue},a=function(c,u){if(u==="__proto__")if(t.call(c,u)){if(r)return r(c,u).value}else return;return c[u]};return fC=function l(){var c,u,f,p,m,_,S=arguments[0],w=1,x=arguments.length,C=!1;for(typeof S=="boolean"&&(C=S,S=arguments[1]||{},w=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});w<x;++w)if(c=arguments[w],c!=null)for(u in c)f=a(S,u),p=a(c,u),S!==p&&(C&&p&&(s(p)||(m=i(p)))?(m?(m=!1,_=f&&i(f)?f:[]):_=f&&s(f)?f:{},o(S,{name:u,newValue:l(C,_,p)})):typeof p<"u"&&o(S,{name:u,newValue:p}));return S},fC}var ene=Qte();const dC=Fm(ene);function DT(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function tne(){const t=[],e={run:n,use:r};return e;function n(...i){let s=-1;const o=i.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...i);function a(l,...c){const u=t[++s];let f=-1;if(l){o(l);return}for(;++f<i.length;)(c[f]===null||c[f]===void 0)&&(c[f]=i[f]);i=c,u?nne(u,a)(...c):o(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function nne(t,e){let n;return r;function r(...o){const a=t.length>o.length;let l;a&&o.push(i);try{l=t.apply(this,o)}catch(c){const u=c;if(a&&n)throw u;return i(u)}a||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(o,...a){n||(n=!0,e(o,...a))}function s(o){i(null,o)}}const gl={basename:rne,dirname:ine,extname:sne,join:one,sep:"/"};function rne(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');p_(t);let n=0,r=-1,i=t.length,s;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let o=-1,a=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(s){n=i+1;break}}else o<0&&(s=!0,o=i+1),a>-1&&(t.codePointAt(i)===e.codePointAt(a--)?a<0&&(r=i):(a=-1,r=o));return n===r?r=o:r<0&&(r=t.length),t.slice(n,r)}function ine(t){if(p_(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function sne(t){p_(t);let e=t.length,n=-1,r=0,i=-1,s=0,o;for(;e--;){const a=t.codePointAt(e);if(a===47){if(o){r=e+1;break}continue}n<0&&(o=!0,n=e+1),a===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||n<0||s===0||s===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function one(...t){let e=-1,n;for(;++e<t.length;)p_(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":ane(n)}function ane(t){p_(t);const e=t.codePointAt(0)===47;let n=lne(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function lne(t,e){let n="",r=0,i=-1,s=0,o=-1,a,l;for(;++o<=t.length;){if(o<t.length)a=t.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(i===o-1||s===1))if(i!==o-1&&s===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=o,s=0;continue}}else if(n.length>0){n="",r=0,i=o,s=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,o):n=t.slice(i+1,o),r=o-i-1;i=o,s=0}else a===46&&s>-1?s++:s=-1}return n}function p_(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const cne={cwd:une};function une(){return"/"}function OT(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function hne(t){if(typeof t=="string")t=new URL(t);else if(!OT(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return fne(t)}function fne(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const pC=["history","path","basename","stem","extname","dirname"];class eF{constructor(e){let n;e?OT(e)?n={path:e}:typeof e=="string"||dne(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":cne.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<pC.length;){const s=pC[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)pC.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?gl.basename(this.path):void 0}set basename(e){gC(e,"basename"),mC(e,"basename"),this.path=gl.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?gl.dirname(this.path):void 0}set dirname(e){eI(this.basename,"dirname"),this.path=gl.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?gl.extname(this.path):void 0}set extname(e){if(mC(e,"extname"),eI(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gl.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){OT(e)&&(e=hne(e)),gC(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?gl.basename(this.path,this.extname):void 0}set stem(e){gC(e,"stem"),mC(e,"stem"),this.path=gl.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new ps(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function mC(t,e){if(t&&t.includes(gl.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+gl.sep+"`")}function gC(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function eI(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function dne(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const pne=function(t){const r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s},mne={}.hasOwnProperty;class s2 extends pne{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=tne()}copy(){const e=new s2;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(dC(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(vC("data",this.frozen),this.namespace[e]=n,this):mne.call(this.namespace,e)&&this.namespace[e]||void 0:e?(vC("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=wx(e),r=this.parser||this.Parser;return yC("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),yC("process",this.parser||this.Parser),_C("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,o){const a=wx(e),l=r.parse(a);r.run(l,a,function(u,f,p){if(u||!f||!p)return c(u);const m=f,_=r.stringify(m,p);_ne(_)?p.value=_:p.result=_,c(u,p)});function c(u,f){u||!f?o(u):s?s(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),yC("processSync",this.parser||this.Parser),_C("processSync",this.compiler||this.Compiler),this.process(e,i),nI("processSync","process",n),r;function i(s,o){n=!0,JL(s),r=o}}run(e,n,r){tI(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(o,a){const l=wx(n);i.run(e,l,c);function c(u,f,p){const m=f||e;u?a(u):o?o(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),nI("runSync","run",r),i;function s(o,a){JL(o),i=a,r=!0}}stringify(e,n){this.freeze();const r=wx(n),i=this.compiler||this.Compiler;return _C("stringify",i),tI(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(vC("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[u,...f]=c;l(u,f)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(i.settings=dC(!0,i.settings,c.settings))}function a(c){let u=-1;if(c!=null)if(Array.isArray(c))for(;++u<c.length;){const f=c[u];s(f)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,u){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===c){p=f;break}if(p===-1)r.push([c,...u]);else if(u.length>0){let[m,..._]=u;const S=r[p][1];DT(S)&&DT(m)&&(m=dC(!0,S,m)),r[p]=[c,m,..._]}}}}const gne=new s2().freeze();function yC(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function _C(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function vC(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function tI(t){if(!DT(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function nI(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function wx(t){return yne(t)?t:new eF(t)}function yne(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function _ne(t){return typeof t=="string"||vne(t)}function vne(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const xne="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",rI=[],iI={allowDangerousHtml:!0},Sne=/^(https?|ircs?|mailto|xmpp)$/i,wne=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tF(t){const e=bne(t),n=Ene(t);return Cne(e.runSync(e.parse(n),n),t)}function bne(t){const e=t.rehypePlugins||rI,n=t.remarkPlugins||rI,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...iI}:iI;return gne().use(rte).use(n).use(Jte,r).use(e)}function Ene(t){const e=t.children||"",n=new eF;return typeof e=="string"&&(n.value=e),n}function Cne(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,l=e.urlTransform||Tne;for(const u of wne)Object.hasOwn(e,u.from)&&(""+u.from+(u.to?"use `"+u.to+"` instead":"remove it")+xne+u.id,void 0);return QB(t,c),OJ(t,{Fragment:ne.Fragment,components:i,ignoreInvalidStyle:!0,jsx:ne.jsx,jsxs:ne.jsxs,passKeys:!0,passNode:!0});function c(u,f,p){if(u.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:u.value},f;if(u.type==="element"){let m;for(m in cC)if(Object.hasOwn(cC,m)&&Object.hasOwn(u.properties,m)){const _=u.properties[m],S=cC[m];(S===null||S.includes(u.tagName))&&(u.properties[m]=l(String(_||""),m,u))}}if(u.type==="element"){let m=n?!n.includes(u.tagName):s?s.includes(u.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(u,f,p)),m&&p&&typeof f=="number")return a&&u.children?p.children.splice(f,1,...u.children):p.children.splice(f,1),f}}}function Tne(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||Sne.test(t.slice(0,e))?t:""}const Mne=({content:t})=>ne.jsx(tF,{skipHtml:!0,components:{h1:({children:e})=>ne.jsx("h1",{className:"text-4xl pb-4",children:e}),h2:({children:e})=>ne.jsx("h2",{className:"text-3xl py-2",children:e}),ul:({children:e})=>ne.jsx("ul",{className:"list-disc ml-4",children:e}),li:({children:e})=>ne.jsx("li",{style:{listStyleType:"disc"},className:"ml-4",children:e}),a:({children:e,href:n})=>ne.jsx(YM,{href:`/til/${n}`,to:".",className:"text-blue-400",children:e})},children:t}),Ane=sa("/_layout/til/")({component:kne,loader:async()=>({content:await W(()=>import("./README-DykMFFJv.js"),[]).then(e=>e.default)})});function kne(){const{content:t}=vO("/_layout/til/").useLoaderData();return ne.jsx(Mne,{content:t})}function sI(t){const e={h1:"h1",...t.components};return ne.jsx(e.h1,{children:"식자재 수발주 솔루션, 마켓봄 프로"})}function Rne(t={}){const{wrapper:e}=t.components||{};return e?ne.jsx(e,{...t,children:ne.jsx(sI,{...t})}):sI(t)}const Pne=sa("/_books/projects/marketbom-pro")({component:Lne});function Lne(){return ne.jsx(Rne,{components:{h1:t=>ne.jsx("h1",{className:"text-6xl",...t}),h2:t=>ne.jsx("h2",{className:"text-5xl",...t}),h3:t=>ne.jsx("h3",{className:"text-4xl",...t}),h4:t=>ne.jsx("h4",{className:"text-3xl",...t}),h5:t=>ne.jsx("h5",{className:"text-2xl",...t}),h6:t=>ne.jsx("h6",{className:"text-xl",...t})}})}function oI(t){const e={h1:"h1",...t.components};return ne.jsx(e.h1,{children:"하이브리드 앱 통합 프레임워크"})}function Ine(t={}){const{wrapper:e}=t.components||{};return e?ne.jsx(e,{...t,children:ne.jsx(oI,{...t})}):oI(t)}const Dne=sa("/_books/projects/hybrid-app-integration-framework-with-flutter")({component:One});function One(){return ne.jsx(Ine,{components:{h1:t=>ne.jsx("h1",{className:"text-6xl",...t}),h2:t=>ne.jsx("h2",{className:"text-5xl",...t}),h3:t=>ne.jsx("h3",{className:"text-4xl",...t}),h4:t=>ne.jsx("h4",{className:"text-3xl",...t}),h5:t=>ne.jsx("h5",{className:"text-2xl",...t}),h6:t=>ne.jsx("h6",{className:"text-xl",...t})}})}const pf=({label:t="",variant:e="default",className:n,children:r})=>ne.jsxs("section",{className:vi("w-full md:max-w-screen-md mx-auto px-4 snap-always snap-start min-h-[100dvh] break-words",{"flex items-center justify-center":e==="cover"},n),children:[ne.jsx("div",{className:vi("h-12",{"px-4 py-1 rounded-xl flex items-center ml-8 md:ml-0 md:px-0 text-md md:text-2xl font-bold":e==="default"&&t!==""}),children:t}),r]}),Nne=({skill:t})=>ne.jsxs("div",{className:"max-w-12 lg:max-w-16 flex flex-col gap-y-2",children:[ne.jsx("div",{className:"peer",children:ne.jsx("img",{src:t.아이콘_링크,alt:t.이름,className:"w-full h-full",loading:"lazy"})}),ne.jsx("div",{className:"peer-hover:flex peer-hover:visible invisible justify-center text-sm text-center",children:t.이름})]}),Bne={react:{이름:"React",아이콘_링크:"https://simpleicons.org/icons/react.svg"},next:{이름:"Next",아이콘_링크:"https://simpleicons.org/icons/nextdotjs.svg"},vue:{이름:"Vue",아이콘_링크:"https://simpleicons.org/icons/vue-dot-js.svg"},flutter:{이름:"Flutter",아이콘_링크:"https://simpleicons.org/icons/flutter.svg"},tailwindcss:{이름:"Tailwind CSS",아이콘_링크:"https://simpleicons.org/icons/tailwindcss.svg"},typescript:{이름:"TypeScript",아이콘_링크:"https://simpleicons.org/icons/typescript.svg"},relay:{이름:"Relay",아이콘_링크:"https://simpleicons.org/icons/relay.svg"},jest:{이름:"Jest",아이콘_링크:"https://simpleicons.org/icons/jest.svg"},graphql:{이름:"GraphQL",아이콘_링크:"https://simpleicons.org/icons/graphql.svg"},bitbucket_pipelines:{이름:"Bitbucket Pipelines",아이콘_링크:"https://simpleicons.org/icons/bitbucket.svg"},datadog:{이름:"Datadog",아이콘_링크:"https://simpleicons.org/icons/datadog.svg"},vite:{이름:"Vite",아이콘_링크:"https://simpleicons.org/icons/vite.svg"},bun:{이름:"Bun",아이콘_링크:"https://simpleicons.org/icons/bun.svg"},firebase:{이름:"Firebase",아이콘_링크:"https://simpleicons.org/icons/firebase.svg"},nuxt:{이름:"Nuxt",아이콘_링크:"https://simpleicons.org/icons/nuxt.svg"},vuetify:{이름:"Vuetify",아이콘_링크:"https://simpleicons.org/icons/vuetify.svg"},pnpm:{이름:"pnpm",아이콘_링크:"https://simpleicons.org/icons/pnpm.svg"},storybook:{이름:"Storybook",아이콘_링크:"https://simpleicons.org/icons/storybook.svg"},yarn:{이름:"Yarn",아이콘_링크:"https://simpleicons.org/icons/yarn.svg"},webpack:{이름:"Webpack",아이콘_링크:"https://simpleicons.org/icons/webpack.svg"},quasar:{이름:"Quasar",아이콘_링크:"https://simpleicons.org/icons/quasar.svg"},electron:{이름:"Electron",아이콘_링크:"https://simpleicons.org/icons/electron.svg"},apollo_graphql:{이름:"Apollo GraphQL",아이콘_링크:"https://simpleicons.org/icons/apollographql.svg"},aws_amplify:{이름:"AWS Amplify",아이콘_링크:"https://simpleicons.org/icons/awsamplify.svg"}},Fne=t=>{const{list:e}=t;return ne.jsx("div",{className:"flex flex-wrap gap-x-6 gap-y-2",children:e.map(n=>ne.jsx(Nne,{skill:Bne[n]},n))})},zne=({프로젝트:t})=>{const{이름:e,소개:n,책:r,업적:i}=t;return ne.jsxs("article",{className:"snap-y snap-mandatory h-[100dvh] overflow-y-scroll",children:[ne.jsx(pf,{variant:"cover",children:ne.jsx("img",{src:r.표지.앞,loading:"lazy",alt:"식봄 프로젝트 정면 표지","aria-label":"식봄 프로젝트 정면 표지"})}),ne.jsx(pf,{className:"flex items-center justify-center",children:ne.jsx("h1",{className:"text-3xl md:text-5xl font-bold",children:e})}),ne.jsx(pf,{children:ne.jsx("h2",{className:"text-2xl md:text-4xl font-bold",children:"목차"})}),ne.jsxs(pf,{children:[ne.jsxs("h2",{className:"text-2xl md:text-4xl pb-4 font-bold",children:[e," 소개"]}),n]}),i==null?void 0:i.map(s=>ne.jsxs(ne.Fragment,{children:[ne.jsxs(pf,{children:[ne.jsx("h2",{className:"text-2xl md:text-4xl pb-4 font-bold",children:s.제목}),ne.jsx("br",{}),ne.jsx("p",{children:s.소개}),ne.jsx("br",{}),ne.jsx(Fne,{list:s.기술})]}),s.경험.map(o=>ne.jsxs(pf,{label:s.제목,children:[ne.jsx("h2",{className:"text-2xl md:text-4xl mt-2 font-bold",children:o.제목}),ne.jsx("br",{}),ne.jsx("p",{children:o.내용}),ne.jsx("br",{})]},o.id))]})),ne.jsx(pf,{variant:"cover",children:ne.jsx("img",{src:r.표지.뒤,loading:"lazy",alt:"식봄 프로젝트 정면 표지","aria-label":"식봄 프로젝트 정면 표지"})})]})},Une=sa("/_books/projects/foodspring")({component:Vne});function Vne(){return ne.jsx(zne,{프로젝트:tB})}function aI(t){const e={h1:"h1",...t.components};return ne.jsx(e.h1,{children:"업무 협업 솔루션, 시냅스"})}function Hne(t={}){const{wrapper:e}=t.components||{};return e?ne.jsx(e,{...t,children:ne.jsx(aI,{...t})}):aI(t)}const Wne=sa("/_books/projects/co-working-solution-cnaps")({component:Gne});function Gne(){return ne.jsx(Hne,{components:{h1:t=>ne.jsx("h1",{className:"text-6xl",...t}),h2:t=>ne.jsx("h2",{className:"text-5xl",...t}),h3:t=>ne.jsx("h3",{className:"text-4xl",...t}),h4:t=>ne.jsx("h4",{className:"text-3xl",...t}),h5:t=>ne.jsx("h5",{className:"text-2xl",...t}),h6:t=>ne.jsx("h6",{className:"text-xl",...t})}})}var lI={exports:{}},vy={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cI;function $ne(){if(cI)return vy;cI=1;var t=A6,e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(a,l,c){var u,f={},p=null,m=null;c!==void 0&&(p=""+c),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(m=l.ref);for(u in l)r.call(l,u)&&!s.hasOwnProperty(u)&&(f[u]=l[u]);if(a&&a.defaultProps)for(u in l=a.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:e,type:a,key:p,ref:m,props:f,_owner:i.current}}return vy.Fragment=n,vy.jsx=o,vy.jsxs=o,vy}var uI;function jne(){return uI||(uI=1,lI.exports=$ne()),lI.exports}var hl=jne();function nF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=nF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function qne(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=nF(t))&&(r&&(r+=" "),r+=e);return r}const o2="-",Xne=t=>{const e=Kne(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const s=i.split(o2);return s[0]===""&&s.length!==1&&s.shift(),rF(s,e)||Yne(i)},getConflictingClassGroupIds:(i,s)=>{const o=n[i]||[];return s&&r[i]?[...o,...r[i]]:o}}},rF=(t,e)=>{var n;if(t.length===0)return e.classGroupId;const r=t[0],i=e.nextPart.get(r),s=i?rF(t.slice(1),i):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(o2);return(n=e.validators.find(({validator:a})=>a(o)))==null?void 0:n.classGroupId},hI=/^\[(.+)\]$/,Yne=t=>{if(hI.test(t)){const e=hI.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Kne=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return Jne(Object.entries(t.classGroups),n).forEach(([i,s])=>{NT(s,r,i,e)}),r},NT=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:fI(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(Zne(i)){NT(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{NT(o,fI(e,s),n,r)})})},fI=(t,e)=>{let n=t;return e.split(o2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Zne=t=>t.isThemeGetter,Jne=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,Qne=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},iF="!",ere=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let w=0;w<a.length;w++){let x=a[w];if(c===0){if(x===i&&(r||a.slice(w,w+s)===e)){l.push(a.slice(u,w)),u=w+s;continue}if(x==="/"){f=w;continue}}x==="["?c++:x==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(iF),_=m?p.substring(1):p,S=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:_,maybePostfixModifierPosition:S}};return n?a=>n({className:a,parseClassName:o}):o},tre=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},nre=t=>({cache:Qne(t.cacheSize),parseClassName:ere(t),...Xne(t)}),rre=/\s+/,ire=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(rre);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let _=!!m,S=r(_?p.substring(0,m):p);if(!S){if(!_){a=c+(a.length>0?" "+a:a);continue}if(S=r(p),!S){a=c+(a.length>0?" "+a:a);continue}_=!1}const w=tre(u).join(":"),x=f?w+iF:w,C=x+S;if(s.includes(C))continue;s.push(C);const T=i(S,_);for(let A=0;A<T.length;++A){const L=T[A];s.push(x+L)}a=c+(a.length>0?" "+a:a)}return a};function sre(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sF(e))&&(r&&(r+=" "),r+=n);return r}const sF=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=sF(t[r]))&&(n&&(n+=" "),n+=e);return n};function ore(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=nre(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=ire(l,n);return i(l,u),u}return function(){return s(sre.apply(null,arguments))}}const Er=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},oF=/^\[(?:([a-z-]+):)?(.+)\]$/i,are=/^\d+\/\d+$/,lre=new Set(["px","full","screen"]),cre=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ure=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,hre=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,fre=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,dre=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cc=t=>sm(t)||lre.has(t)||are.test(t),zu=t=>Ym(t,"length",Sre),sm=t=>!!t&&!Number.isNaN(Number(t)),xC=t=>Ym(t,"number",sm),xy=t=>!!t&&Number.isInteger(Number(t)),pre=t=>t.endsWith("%")&&sm(t.slice(0,-1)),Rn=t=>oF.test(t),Uu=t=>cre.test(t),mre=new Set(["length","size","percentage"]),gre=t=>Ym(t,mre,aF),yre=t=>Ym(t,"position",aF),_re=new Set(["image","url"]),vre=t=>Ym(t,_re,bre),xre=t=>Ym(t,"",wre),Sy=()=>!0,Ym=(t,e,n)=>{const r=oF.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Sre=t=>ure.test(t)&&!hre.test(t),aF=()=>!1,wre=t=>fre.test(t),bre=t=>dre.test(t),Ere=()=>{const t=Er("colors"),e=Er("spacing"),n=Er("blur"),r=Er("brightness"),i=Er("borderColor"),s=Er("borderRadius"),o=Er("borderSpacing"),a=Er("borderWidth"),l=Er("contrast"),c=Er("grayscale"),u=Er("hueRotate"),f=Er("invert"),p=Er("gap"),m=Er("gradientColorStops"),_=Er("gradientColorStopPositions"),S=Er("inset"),w=Er("margin"),x=Er("opacity"),C=Er("padding"),T=Er("saturate"),A=Er("scale"),L=Er("sepia"),R=Er("skew"),N=Er("space"),z=Er("translate"),D=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Rn,e],q=()=>[Rn,e],K=()=>["",Cc,zu],j=()=>["auto",sm,Rn],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Rn],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[sm,Rn];return{cacheSize:500,separator:":",theme:{colors:[Sy],spacing:[Cc,zu],blur:["none","",Uu,Rn],brightness:G(),borderColor:[t],borderRadius:["none","","full",Uu,Rn],borderSpacing:q(),borderWidth:K(),contrast:G(),grayscale:ee(),hueRotate:G(),invert:ee(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[pre,zu],inset:B(),margin:B(),opacity:G(),padding:q(),saturate:G(),scale:G(),sepia:ee(),skew:G(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",Rn]}],container:["container"],columns:[{columns:[Uu]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Rn]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xy,Rn]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rn]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",xy,Rn]}],"grid-cols":[{"grid-cols":[Sy]}],"col-start-end":[{col:["auto",{span:["full",xy,Rn]},Rn]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Sy]}],"row-start-end":[{row:["auto",{span:[xy,Rn]},Rn]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rn]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rn,e]}],"min-w":[{"min-w":[Rn,e,"min","max","fit"]}],"max-w":[{"max-w":[Rn,e,"none","full","min","max","fit","prose",{screen:[Uu]},Uu]}],h:[{h:[Rn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Uu,zu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xC]}],"font-family":[{font:[Sy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rn]}],"line-clamp":[{"line-clamp":["none",sm,xC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cc,Rn]}],"list-image":[{"list-image":["none",Rn]}],"list-style-type":[{list:["none","disc","decimal",Rn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cc,zu]}],"underline-offset":[{"underline-offset":["auto",Cc,Rn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),yre]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gre]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vre]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Cc,Rn]}],"outline-w":[{outline:[Cc,zu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Cc,zu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Uu,xre]}],"shadow-color":[{shadow:[Sy]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Uu,Rn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rn]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Rn]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[xy,Rn]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Cc,zu,xC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Cre=ore(Ere),Tre=(...t)=>Cre(qne(t)),bx=({token:t,variant:e="normal",children:n,...r})=>{const i={className:Tre({"light-text-shadow dark:dark-text-shadow":e==="bright","font-bold":e==="bold"},{"text-body-1":t==="body-1","text-body-2":t==="body-2","text-body-3":t==="body-3"},"text-light-foreground-primary dark:text-dark-foreground-primary",r.className),...r};return{"heading-1":hl.jsx("h1",{...i,children:n}),"heading-2":hl.jsx("h2",{...i,children:n}),"heading-3":hl.jsx("h3",{...i,children:n}),"heading-4":hl.jsx("h4",{...i,children:n}),"heading-5":hl.jsx("h5",{...i,children:n}),"heading-6":hl.jsx("h6",{...i,children:n}),"body-1":hl.jsx("span",{...i,children:n}),"body-2":hl.jsx("span",{...i,children:n}),"body-3":hl.jsx("span",{...i,children:n})}[t]??hl.jsx("span",{children:n})};let Di=class extends Error{constructor(e){super(e),this.name="ShikiError"}};function Mre(t){return a2(t)}function a2(t){return Array.isArray(t)?Are(t):t instanceof RegExp?t:typeof t=="object"?kre(t):t}function Are(t){let e=[];for(let n=0,r=t.length;n<r;n++)e[n]=a2(t[n]);return e}function kre(t){let e={};for(let n in t)e[n]=a2(t[n]);return e}function lF(t,...e){return e.forEach(n=>{for(let r in n)t[r]=n[r]}),t}function cF(t){const e=~t.lastIndexOf("/")||~t.lastIndexOf("\\");return e===0?t:~e===t.length-1?cF(t.substring(0,t.length-1)):t.substr(~e+1)}var SC=/\$(\d+)|\${(\d+):\/(downcase|upcase)}/g,Ex=class{static hasCaptures(t){return t===null?!1:(SC.lastIndex=0,SC.test(t))}static replaceCaptures(t,e,n){return t.replace(SC,(r,i,s,o)=>{let a=n[parseInt(i||s,10)];if(a){let l=e.substring(a.start,a.end);for(;l[0]===".";)l=l.substring(1);switch(o){case"downcase":return l.toLowerCase();case"upcase":return l.toUpperCase();default:return l}}else return r})}};function uF(t,e){return t<e?-1:t>e?1:0}function hF(t,e){if(t===null&&e===null)return 0;if(!t)return-1;if(!e)return 1;let n=t.length,r=e.length;if(n===r){for(let i=0;i<n;i++){let s=uF(t[i],e[i]);if(s!==0)return s}return 0}return n-r}function dI(t){return!!(/^#[0-9a-f]{6}$/i.test(t)||/^#[0-9a-f]{8}$/i.test(t)||/^#[0-9a-f]{3}$/i.test(t)||/^#[0-9a-f]{4}$/i.test(t))}function fF(t){return t.replace(/[\-\\\{\}\*\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&")}var dF=class{constructor(t){De(this,"cache",new Map);this.fn=t}get(t){if(this.cache.has(t))return this.cache.get(t);const e=this.fn(t);return this.cache.set(t,e),e}},sw=class{constructor(e,n,r){De(this,"_cachedMatchRoot",new dF(e=>this._root.match(e)));this._colorMap=e,this._defaults=n,this._root=r}static createFromRawTheme(e,n){return this.createFromParsedTheme(Lre(e),n)}static createFromParsedTheme(e,n){return Dre(e,n)}getColorMap(){return this._colorMap.getColorMap()}getDefaults(){return this._defaults}match(e){if(e===null)return this._defaults;const n=e.scopeName,i=this._cachedMatchRoot.get(n).find(s=>Rre(e.parent,s.parentScopes));return i?new pF(i.fontStyle,i.foreground,i.background):null}},wC=class qx{constructor(e,n){this.parent=e,this.scopeName=n}static push(e,n){for(const r of n)e=new qx(e,r);return e}static from(...e){let n=null;for(let r=0;r<e.length;r++)n=new qx(n,e[r]);return n}push(e){return new qx(this,e)}getSegments(){let e=this;const n=[];for(;e;)n.push(e.scopeName),e=e.parent;return n.reverse(),n}toString(){return this.getSegments().join(" ")}extends(e){return this===e?!0:this.parent===null?!1:this.parent.extends(e)}getExtensionIfDefined(e){const n=[];let r=this;for(;r&&r!==e;)n.push(r.scopeName),r=r.parent;return r===e?n.reverse():void 0}};function Rre(t,e){if(e.length===0)return!0;for(let n=0;n<e.length;n++){let r=e[n],i=!1;if(r===">"){if(n===e.length-1)return!1;r=e[++n],i=!0}for(;t&&!Pre(t.scopeName,r);){if(i)return!1;t=t.parent}if(!t)return!1;t=t.parent}return!0}function Pre(t,e){return e===t||t.startsWith(e)&&t[e.length]==="."}var pF=class{constructor(t,e,n){this.fontStyle=t,this.foregroundId=e,this.backgroundId=n}};function Lre(t){if(!t)return[];if(!t.settings||!Array.isArray(t.settings))return[];let e=t.settings,n=[],r=0;for(let i=0,s=e.length;i<s;i++){let o=e[i];if(!o.settings)continue;let a;if(typeof o.scope=="string"){let f=o.scope;f=f.replace(/^[,]+/,""),f=f.replace(/[,]+$/,""),a=f.split(",")}else Array.isArray(o.scope)?a=o.scope:a=[""];let l=-1;if(typeof o.settings.fontStyle=="string"){l=0;let f=o.settings.fontStyle.split(" ");for(let p=0,m=f.length;p<m;p++)switch(f[p]){case"italic":l=l|1;break;case"bold":l=l|2;break;case"underline":l=l|4;break;case"strikethrough":l=l|8;break}}let c=null;typeof o.settings.foreground=="string"&&dI(o.settings.foreground)&&(c=o.settings.foreground);let u=null;typeof o.settings.background=="string"&&dI(o.settings.background)&&(u=o.settings.background);for(let f=0,p=a.length;f<p;f++){let _=a[f].trim().split(" "),S=_[_.length-1],w=null;_.length>1&&(w=_.slice(0,_.length-1),w.reverse()),n[r++]=new Ire(S,w,i,l,c,u)}}return n}var Ire=class{constructor(t,e,n,r,i,s){this.scope=t,this.parentScopes=e,this.index=n,this.fontStyle=r,this.foreground=i,this.background=s}},Nc=(t=>(t[t.NotSet=-1]="NotSet",t[t.None=0]="None",t[t.Italic=1]="Italic",t[t.Bold=2]="Bold",t[t.Underline=4]="Underline",t[t.Strikethrough=8]="Strikethrough",t))(Nc||{});function Dre(t,e){t.sort((l,c)=>{let u=uF(l.scope,c.scope);return u!==0||(u=hF(l.parentScopes,c.parentScopes),u!==0)?u:l.index-c.index});let n=0,r="#000000",i="#ffffff";for(;t.length>=1&&t[0].scope==="";){let l=t.shift();l.fontStyle!==-1&&(n=l.fontStyle),l.foreground!==null&&(r=l.foreground),l.background!==null&&(i=l.background)}let s=new Ore(e),o=new pF(n,s.getId(r),s.getId(i)),a=new Bre(new BT(0,null,-1,0,0),[]);for(let l=0,c=t.length;l<c;l++){let u=t[l];a.insert(0,u.scope,u.parentScopes,u.fontStyle,s.getId(u.foreground),s.getId(u.background))}return new sw(s,o,a)}var Ore=class{constructor(t){De(this,"_isFrozen");De(this,"_lastColorId");De(this,"_id2color");De(this,"_color2id");if(this._lastColorId=0,this._id2color=[],this._color2id=Object.create(null),Array.isArray(t)){this._isFrozen=!0;for(let e=0,n=t.length;e<n;e++)this._color2id[t[e]]=e,this._id2color[e]=t[e]}else this._isFrozen=!1}getId(t){if(t===null)return 0;t=t.toUpperCase();let e=this._color2id[t];if(e)return e;if(this._isFrozen)throw new Error(`Missing color in color map - ${t}`);return e=++this._lastColorId,this._color2id[t]=e,this._id2color[e]=t,e}getColorMap(){return this._id2color.slice(0)}},Nre=Object.freeze([]),BT=class mF{constructor(e,n,r,i,s){De(this,"scopeDepth");De(this,"parentScopes");De(this,"fontStyle");De(this,"foreground");De(this,"background");this.scopeDepth=e,this.parentScopes=n||Nre,this.fontStyle=r,this.foreground=i,this.background=s}clone(){return new mF(this.scopeDepth,this.parentScopes,this.fontStyle,this.foreground,this.background)}static cloneArr(e){let n=[];for(let r=0,i=e.length;r<i;r++)n[r]=e[r].clone();return n}acceptOverwrite(e,n,r,i){this.scopeDepth>e?console.log("how did this happen?"):this.scopeDepth=e,n!==-1&&(this.fontStyle=n),r!==0&&(this.foreground=r),i!==0&&(this.background=i)}},Bre=class FT{constructor(e,n=[],r={}){De(this,"_rulesWithParentScopes");this._mainRule=e,this._children=r,this._rulesWithParentScopes=n}static _cmpBySpecificity(e,n){if(e.scopeDepth!==n.scopeDepth)return n.scopeDepth-e.scopeDepth;let r=0,i=0;for(;e.parentScopes[r]===">"&&r++,n.parentScopes[i]===">"&&i++,!(r>=e.parentScopes.length||i>=n.parentScopes.length);){const s=n.parentScopes[i].length-e.parentScopes[r].length;if(s!==0)return s;r++,i++}return n.parentScopes.length-e.parentScopes.length}match(e){if(e!==""){let r=e.indexOf("."),i,s;if(r===-1?(i=e,s=""):(i=e.substring(0,r),s=e.substring(r+1)),this._children.hasOwnProperty(i))return this._children[i].match(s)}const n=this._rulesWithParentScopes.concat(this._mainRule);return n.sort(FT._cmpBySpecificity),n}insert(e,n,r,i,s,o){if(n===""){this._doInsertHere(e,r,i,s,o);return}let a=n.indexOf("."),l,c;a===-1?(l=n,c=""):(l=n.substring(0,a),c=n.substring(a+1));let u;this._children.hasOwnProperty(l)?u=this._children[l]:(u=new FT(this._mainRule.clone(),BT.cloneArr(this._rulesWithParentScopes)),this._children[l]=u),u.insert(e+1,c,r,i,s,o)}_doInsertHere(e,n,r,i,s){if(n===null){this._mainRule.acceptOverwrite(e,r,i,s);return}for(let o=0,a=this._rulesWithParentScopes.length;o<a;o++){let l=this._rulesWithParentScopes[o];if(hF(l.parentScopes,n)===0){l.acceptOverwrite(e,r,i,s);return}}r===-1&&(r=this._mainRule.fontStyle),i===0&&(i=this._mainRule.foreground),s===0&&(s=this._mainRule.background),this._rulesWithParentScopes.push(new BT(e,n,r,i,s))}},Cm=class Zo{static toBinaryStr(e){return e.toString(2).padStart(32,"0")}static print(e){const n=Zo.getLanguageId(e),r=Zo.getTokenType(e),i=Zo.getFontStyle(e),s=Zo.getForeground(e),o=Zo.getBackground(e);console.log({languageId:n,tokenType:r,fontStyle:i,foreground:s,background:o})}static getLanguageId(e){return(e&255)>>>0}static getTokenType(e){return(e&768)>>>8}static containsBalancedBrackets(e){return(e&1024)!==0}static getFontStyle(e){return(e&30720)>>>11}static getForeground(e){return(e&16744448)>>>15}static getBackground(e){return(e&4278190080)>>>24}static set(e,n,r,i,s,o,a){let l=Zo.getLanguageId(e),c=Zo.getTokenType(e),u=Zo.containsBalancedBrackets(e)?1:0,f=Zo.getFontStyle(e),p=Zo.getForeground(e),m=Zo.getBackground(e);return n!==0&&(l=n),r!==8&&(c=r),i!==null&&(u=i?1:0),s!==-1&&(f=s),o!==0&&(p=o),a!==0&&(m=a),(l<<0|c<<8|u<<10|f<<11|p<<15|m<<24)>>>0}};function ow(t,e){const n=[],r=Fre(t);let i=r.next();for(;i!==null;){let l=0;if(i.length===2&&i.charAt(1)===":"){switch(i.charAt(0)){case"R":l=1;break;case"L":l=-1;break;default:console.log(`Unknown priority ${i} in scope selector`)}i=r.next()}let c=o();if(n.push({matcher:c,priority:l}),i!==",")break;i=r.next()}return n;function s(){if(i==="-"){i=r.next();const l=s();return c=>!!l&&!l(c)}if(i==="("){i=r.next();const l=a();return i===")"&&(i=r.next()),l}if(pI(i)){const l=[];do l.push(i),i=r.next();while(pI(i));return c=>e(l,c)}return null}function o(){const l=[];let c=s();for(;c;)l.push(c),c=s();return u=>l.every(f=>f(u))}function a(){const l=[];let c=o();for(;c&&(l.push(c),i==="|"||i===",");){do i=r.next();while(i==="|"||i===",");c=o()}return u=>l.some(f=>f(u))}}function pI(t){return!!t&&!!t.match(/[\w\.:]+/)}function Fre(t){let e=/([LR]:|[\w\.:][\w\.:\-]*|[\,\|\-\(\)])/g,n=e.exec(t);return{next:()=>{if(!n)return null;const r=n[0];return n=e.exec(t),r}}}function gF(t){typeof t.dispose=="function"&&t.dispose()}var z0=class{constructor(t){this.scopeName=t}toKey(){return this.scopeName}},zre=class{constructor(t,e){this.scopeName=t,this.ruleName=e}toKey(){return`${this.scopeName}#${this.ruleName}`}},Ure=class{constructor(){De(this,"_references",[]);De(this,"_seenReferenceKeys",new Set);De(this,"visitedRule",new Set)}get references(){return this._references}add(t){const e=t.toKey();this._seenReferenceKeys.has(e)||(this._seenReferenceKeys.add(e),this._references.push(t))}},Vre=class{constructor(t,e){De(this,"seenFullScopeRequests",new Set);De(this,"seenPartialScopeRequests",new Set);De(this,"Q");this.repo=t,this.initialScopeName=e,this.seenFullScopeRequests.add(this.initialScopeName),this.Q=[new z0(this.initialScopeName)]}processQueue(){const t=this.Q;this.Q=[];const e=new Ure;for(const n of t)Hre(n,this.initialScopeName,this.repo,e);for(const n of e.references)if(n instanceof z0){if(this.seenFullScopeRequests.has(n.scopeName))continue;this.seenFullScopeRequests.add(n.scopeName),this.Q.push(n)}else{if(this.seenFullScopeRequests.has(n.scopeName)||this.seenPartialScopeRequests.has(n.toKey()))continue;this.seenPartialScopeRequests.add(n.toKey()),this.Q.push(n)}}};function Hre(t,e,n,r){const i=n.lookup(t.scopeName);if(!i){if(t.scopeName===e)throw new Error(`No grammar provided for <${e}>`);return}const s=n.lookup(e);t instanceof z0?Xx({baseGrammar:s,selfGrammar:i},r):zT(t.ruleName,{baseGrammar:s,selfGrammar:i,repository:i.repository},r);const o=n.injections(t.scopeName);if(o)for(const a of o)r.add(new z0(a))}function zT(t,e,n){if(e.repository&&e.repository[t]){const r=e.repository[t];aw([r],e,n)}}function Xx(t,e){t.selfGrammar.patterns&&Array.isArray(t.selfGrammar.patterns)&&aw(t.selfGrammar.patterns,{...t,repository:t.selfGrammar.repository},e),t.selfGrammar.injections&&aw(Object.values(t.selfGrammar.injections),{...t,repository:t.selfGrammar.repository},e)}function aw(t,e,n){for(const r of t){if(n.visitedRule.has(r))continue;n.visitedRule.add(r);const i=r.repository?lF({},e.repository,r.repository):e.repository;Array.isArray(r.patterns)&&aw(r.patterns,{...e,repository:i},n);const s=r.include;if(!s)continue;const o=yF(s);switch(o.kind){case 0:Xx({...e,selfGrammar:e.baseGrammar},n);break;case 1:Xx(e,n);break;case 2:zT(o.ruleName,{...e,repository:i},n);break;case 3:case 4:const a=o.scopeName===e.selfGrammar.scopeName?e.selfGrammar:o.scopeName===e.baseGrammar.scopeName?e.baseGrammar:void 0;if(a){const l={baseGrammar:e.baseGrammar,selfGrammar:a,repository:i};o.kind===4?zT(o.ruleName,l,n):Xx(l,n)}else o.kind===4?n.add(new zre(o.scopeName,o.ruleName)):n.add(new z0(o.scopeName));break}}}var Wre=class{constructor(){De(this,"kind",0)}},Gre=class{constructor(){De(this,"kind",1)}},$re=class{constructor(t){De(this,"kind",2);this.ruleName=t}},jre=class{constructor(t){De(this,"kind",3);this.scopeName=t}},qre=class{constructor(t,e){De(this,"kind",4);this.scopeName=t,this.ruleName=e}};function yF(t){if(t==="$base")return new Wre;if(t==="$self")return new Gre;const e=t.indexOf("#");if(e===-1)return new jre(t);if(e===0)return new $re(t.substring(1));{const n=t.substring(0,e),r=t.substring(e+1);return new qre(n,r)}}var Xre=/\\(\d+)/,mI=/\\(\d+)/g,Yre=-1,_F=-2;var m_=class{constructor(t,e,n,r){De(this,"$location");De(this,"id");De(this,"_nameIsCapturing");De(this,"_name");De(this,"_contentNameIsCapturing");De(this,"_contentName");this.$location=t,this.id=e,this._name=n||null,this._nameIsCapturing=Ex.hasCaptures(this._name),this._contentName=r||null,this._contentNameIsCapturing=Ex.hasCaptures(this._contentName)}get debugName(){const t=this.$location?`${cF(this.$location.filename)}:${this.$location.line}`:"unknown";return`${this.constructor.name}#${this.id} @ ${t}`}getName(t,e){return!this._nameIsCapturing||this._name===null||t===null||e===null?this._name:Ex.replaceCaptures(this._name,t,e)}getContentName(t,e){return!this._contentNameIsCapturing||this._contentName===null?this._contentName:Ex.replaceCaptures(this._contentName,t,e)}},Kre=class extends m_{constructor(e,n,r,i,s){super(e,n,r,i);De(this,"retokenizeCapturedWithRuleId");this.retokenizeCapturedWithRuleId=s}dispose(){}collectPatterns(e,n){throw new Error("Not supported!")}compile(e,n){throw new Error("Not supported!")}compileAG(e,n,r,i){throw new Error("Not supported!")}},Zre=class extends m_{constructor(e,n,r,i,s){super(e,n,r,null);De(this,"_match");De(this,"captures");De(this,"_cachedCompiledPatterns");this._match=new U0(i,this.id),this.captures=s,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugMatchRegExp(){return`${this._match.source}`}collectPatterns(e,n){n.push(this._match)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,i){return this._getCachedCompiledPatterns(e).compileAG(e,r,i)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new V0,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},gI=class extends m_{constructor(e,n,r,i,s){super(e,n,r,i);De(this,"hasMissingPatterns");De(this,"patterns");De(this,"_cachedCompiledPatterns");this.patterns=s.patterns,this.hasMissingPatterns=s.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}collectPatterns(e,n){for(const r of this.patterns)e.getRule(r).collectPatterns(e,n)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,i){return this._getCachedCompiledPatterns(e).compileAG(e,r,i)}_getCachedCompiledPatterns(e){return this._cachedCompiledPatterns||(this._cachedCompiledPatterns=new V0,this.collectPatterns(e,this._cachedCompiledPatterns)),this._cachedCompiledPatterns}},UT=class extends m_{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i);De(this,"_begin");De(this,"beginCaptures");De(this,"_end");De(this,"endHasBackReferences");De(this,"endCaptures");De(this,"applyEndPatternLast");De(this,"hasMissingPatterns");De(this,"patterns");De(this,"_cachedCompiledPatterns");this._begin=new U0(s,this.id),this.beginCaptures=o,this._end=new U0(a||"￿",-1),this.endHasBackReferences=this._end.hasBackReferences,this.endCaptures=l,this.applyEndPatternLast=c||!1,this.patterns=u.patterns,this.hasMissingPatterns=u.hasMissingPatterns,this._cachedCompiledPatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugEndRegExp(){return`${this._end.source}`}getEndWithResolvedBackReferences(e,n){return this._end.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e,n).compile(e)}compileAG(e,n,r,i){return this._getCachedCompiledPatterns(e,n).compileAG(e,r,i)}_getCachedCompiledPatterns(e,n){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new V0;for(const r of this.patterns)e.getRule(r).collectPatterns(e,this._cachedCompiledPatterns);this.applyEndPatternLast?this._cachedCompiledPatterns.push(this._end.hasBackReferences?this._end.clone():this._end):this._cachedCompiledPatterns.unshift(this._end.hasBackReferences?this._end.clone():this._end)}return this._end.hasBackReferences&&(this.applyEndPatternLast?this._cachedCompiledPatterns.setSource(this._cachedCompiledPatterns.length()-1,n):this._cachedCompiledPatterns.setSource(0,n)),this._cachedCompiledPatterns}},lw=class extends m_{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i);De(this,"_begin");De(this,"beginCaptures");De(this,"whileCaptures");De(this,"_while");De(this,"whileHasBackReferences");De(this,"hasMissingPatterns");De(this,"patterns");De(this,"_cachedCompiledPatterns");De(this,"_cachedCompiledWhilePatterns");this._begin=new U0(s,this.id),this.beginCaptures=o,this.whileCaptures=l,this._while=new U0(a,_F),this.whileHasBackReferences=this._while.hasBackReferences,this.patterns=c.patterns,this.hasMissingPatterns=c.hasMissingPatterns,this._cachedCompiledPatterns=null,this._cachedCompiledWhilePatterns=null}dispose(){this._cachedCompiledPatterns&&(this._cachedCompiledPatterns.dispose(),this._cachedCompiledPatterns=null),this._cachedCompiledWhilePatterns&&(this._cachedCompiledWhilePatterns.dispose(),this._cachedCompiledWhilePatterns=null)}get debugBeginRegExp(){return`${this._begin.source}`}get debugWhileRegExp(){return`${this._while.source}`}getWhileWithResolvedBackReferences(e,n){return this._while.resolveBackReferences(e,n)}collectPatterns(e,n){n.push(this._begin)}compile(e,n){return this._getCachedCompiledPatterns(e).compile(e)}compileAG(e,n,r,i){return this._getCachedCompiledPatterns(e).compileAG(e,r,i)}_getCachedCompiledPatterns(e){if(!this._cachedCompiledPatterns){this._cachedCompiledPatterns=new V0;for(const n of this.patterns)e.getRule(n).collectPatterns(e,this._cachedCompiledPatterns)}return this._cachedCompiledPatterns}compileWhile(e,n){return this._getCachedCompiledWhilePatterns(e,n).compile(e)}compileWhileAG(e,n,r,i){return this._getCachedCompiledWhilePatterns(e,n).compileAG(e,r,i)}_getCachedCompiledWhilePatterns(e,n){return this._cachedCompiledWhilePatterns||(this._cachedCompiledWhilePatterns=new V0,this._cachedCompiledWhilePatterns.push(this._while.hasBackReferences?this._while.clone():this._while)),this._while.hasBackReferences&&this._cachedCompiledWhilePatterns.setSource(0,n||"￿"),this._cachedCompiledWhilePatterns}},vF=class as{static createCaptureRule(e,n,r,i,s){return e.registerRule(o=>new Kre(n,o,r,i,s))}static getCompiledRuleId(e,n,r){return e.id||n.registerRule(i=>{if(e.id=i,e.match)return new Zre(e.$vscodeTextmateLocation,e.id,e.name,e.match,as._compileCaptures(e.captures,n,r));if(typeof e.begin>"u"){e.repository&&(r=lF({},r,e.repository));let s=e.patterns;return typeof s>"u"&&e.include&&(s=[{include:e.include}]),new gI(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,as._compilePatterns(s,n,r))}return e.while?new lw(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,as._compileCaptures(e.beginCaptures||e.captures,n,r),e.while,as._compileCaptures(e.whileCaptures||e.captures,n,r),as._compilePatterns(e.patterns,n,r)):new UT(e.$vscodeTextmateLocation,e.id,e.name,e.contentName,e.begin,as._compileCaptures(e.beginCaptures||e.captures,n,r),e.end,as._compileCaptures(e.endCaptures||e.captures,n,r),e.applyEndPatternLast,as._compilePatterns(e.patterns,n,r))}),e.id}static _compileCaptures(e,n,r){let i=[];if(e){let s=0;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const a=parseInt(o,10);a>s&&(s=a)}for(let o=0;o<=s;o++)i[o]=null;for(const o in e){if(o==="$vscodeTextmateLocation")continue;const a=parseInt(o,10);let l=0;e[o].patterns&&(l=as.getCompiledRuleId(e[o],n,r)),i[a]=as.createCaptureRule(n,e[o].$vscodeTextmateLocation,e[o].name,e[o].contentName,l)}}return i}static _compilePatterns(e,n,r){let i=[];if(e)for(let s=0,o=e.length;s<o;s++){const a=e[s];let l=-1;if(a.include){const c=yF(a.include);switch(c.kind){case 0:case 1:l=as.getCompiledRuleId(r[a.include],n,r);break;case 2:let u=r[c.ruleName];u&&(l=as.getCompiledRuleId(u,n,r));break;case 3:case 4:const f=c.scopeName,p=c.kind===4?c.ruleName:null,m=n.getExternalGrammar(f,r);if(m)if(p){let _=m.repository[p];_&&(l=as.getCompiledRuleId(_,n,m.repository))}else l=as.getCompiledRuleId(m.repository.$self,n,m.repository);break}}else l=as.getCompiledRuleId(a,n,r);if(l!==-1){const c=n.getRule(l);let u=!1;if((c instanceof gI||c instanceof UT||c instanceof lw)&&c.hasMissingPatterns&&c.patterns.length===0&&(u=!0),u)continue;i.push(l)}}return{patterns:i,hasMissingPatterns:(e?e.length:0)!==i.length}}},U0=class xF{constructor(e,n){De(this,"source");De(this,"ruleId");De(this,"hasAnchor");De(this,"hasBackReferences");De(this,"_anchorCache");if(e&&typeof e=="string"){const r=e.length;let i=0,s=[],o=!1;for(let a=0;a<r;a++)if(e.charAt(a)==="\\"&&a+1<r){const c=e.charAt(a+1);c==="z"?(s.push(e.substring(i,a)),s.push("$(?!\\n)(?<!\\n)"),i=a+2):(c==="A"||c==="G")&&(o=!0),a++}this.hasAnchor=o,i===0?this.source=e:(s.push(e.substring(i,r)),this.source=s.join(""))}else this.hasAnchor=!1,this.source=e;this.hasAnchor?this._anchorCache=this._buildAnchorCache():this._anchorCache=null,this.ruleId=n,typeof this.source=="string"?this.hasBackReferences=Xre.test(this.source):this.hasBackReferences=!1}clone(){return new xF(this.source,this.ruleId)}setSource(e){this.source!==e&&(this.source=e,this.hasAnchor&&(this._anchorCache=this._buildAnchorCache()))}resolveBackReferences(e,n){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let r=n.map(i=>e.substring(i.start,i.end));return mI.lastIndex=0,this.source.replace(mI,(i,s)=>fF(r[parseInt(s,10)]||""))}_buildAnchorCache(){if(typeof this.source!="string")throw new Error("This method should only be called if the source is a string");let e=[],n=[],r=[],i=[],s,o,a,l;for(s=0,o=this.source.length;s<o;s++)a=this.source.charAt(s),e[s]=a,n[s]=a,r[s]=a,i[s]=a,a==="\\"&&s+1<o&&(l=this.source.charAt(s+1),l==="A"?(e[s+1]="￿",n[s+1]="￿",r[s+1]="A",i[s+1]="A"):l==="G"?(e[s+1]="￿",n[s+1]="G",r[s+1]="￿",i[s+1]="G"):(e[s+1]=l,n[s+1]=l,r[s+1]=l,i[s+1]=l),s++);return{A0_G0:e.join(""),A0_G1:n.join(""),A1_G0:r.join(""),A1_G1:i.join("")}}resolveAnchors(e,n){return!this.hasAnchor||!this._anchorCache||typeof this.source!="string"?this.source:e?n?this._anchorCache.A1_G1:this._anchorCache.A1_G0:n?this._anchorCache.A0_G1:this._anchorCache.A0_G0}},V0=class{constructor(){De(this,"_items");De(this,"_hasAnchors");De(this,"_cached");De(this,"_anchorCache");this._items=[],this._hasAnchors=!1,this._cached=null,this._anchorCache={A0_G0:null,A0_G1:null,A1_G0:null,A1_G1:null}}dispose(){this._disposeCaches()}_disposeCaches(){this._cached&&(this._cached.dispose(),this._cached=null),this._anchorCache.A0_G0&&(this._anchorCache.A0_G0.dispose(),this._anchorCache.A0_G0=null),this._anchorCache.A0_G1&&(this._anchorCache.A0_G1.dispose(),this._anchorCache.A0_G1=null),this._anchorCache.A1_G0&&(this._anchorCache.A1_G0.dispose(),this._anchorCache.A1_G0=null),this._anchorCache.A1_G1&&(this._anchorCache.A1_G1.dispose(),this._anchorCache.A1_G1=null)}push(t){this._items.push(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}unshift(t){this._items.unshift(t),this._hasAnchors=this._hasAnchors||t.hasAnchor}length(){return this._items.length}setSource(t,e){this._items[t].source!==e&&(this._disposeCaches(),this._items[t].setSource(e))}compile(t){if(!this._cached){let e=this._items.map(n=>n.source);this._cached=new yI(t,e,this._items.map(n=>n.ruleId))}return this._cached}compileAG(t,e,n){return this._hasAnchors?e?n?(this._anchorCache.A1_G1||(this._anchorCache.A1_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G1):(this._anchorCache.A1_G0||(this._anchorCache.A1_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A1_G0):n?(this._anchorCache.A0_G1||(this._anchorCache.A0_G1=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G1):(this._anchorCache.A0_G0||(this._anchorCache.A0_G0=this._resolveAnchors(t,e,n)),this._anchorCache.A0_G0):this.compile(t)}_resolveAnchors(t,e,n){let r=this._items.map(i=>i.resolveAnchors(e,n));return new yI(t,r,this._items.map(i=>i.ruleId))}},yI=class{constructor(t,e,n){De(this,"scanner");this.regExps=e,this.rules=n,this.scanner=t.createOnigScanner(e)}dispose(){typeof this.scanner.dispose=="function"&&this.scanner.dispose()}toString(){const t=[];for(let e=0,n=this.rules.length;e<n;e++)t.push("   - "+this.rules[e]+": "+this.regExps[e]);return t.join(`
`)}findNextMatchSync(t,e,n){const r=this.scanner.findNextMatchSync(t,e,n);return r?{ruleId:this.rules[r.index],captureIndices:r.captureIndices}:null}},bC=class{constructor(t,e){this.languageId=t,this.tokenType=e}},Dc,Jre=(Dc=class{constructor(e,n){De(this,"_defaultAttributes");De(this,"_embeddedLanguagesMatcher");De(this,"_getBasicScopeAttributes",new dF(e=>{const n=this._scopeToLanguage(e),r=this._toStandardTokenType(e);return new bC(n,r)}));this._defaultAttributes=new bC(e,8),this._embeddedLanguagesMatcher=new Qre(Object.entries(n||{}))}getDefaultAttributes(){return this._defaultAttributes}getBasicScopeAttributes(e){return e===null?Dc._NULL_SCOPE_METADATA:this._getBasicScopeAttributes.get(e)}_scopeToLanguage(e){return this._embeddedLanguagesMatcher.match(e)||0}_toStandardTokenType(e){const n=e.match(Dc.STANDARD_TOKEN_TYPE_REGEXP);if(!n)return 8;switch(n[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"meta.embedded":return 0}throw new Error("Unexpected match for standard token type!")}},De(Dc,"_NULL_SCOPE_METADATA",new bC(0,0)),De(Dc,"STANDARD_TOKEN_TYPE_REGEXP",/\b(comment|string|regex|meta\.embedded)\b/),Dc),Qre=class{constructor(t){De(this,"values");De(this,"scopesRegExp");if(t.length===0)this.values=null,this.scopesRegExp=null;else{this.values=new Map(t);const e=t.map(([n,r])=>fF(n));e.sort(),e.reverse(),this.scopesRegExp=new RegExp(`^((${e.join(")|(")}))($|\\.)`,"")}}match(t){if(!this.scopesRegExp)return;const e=t.match(this.scopesRegExp);if(e)return this.values.get(e[1])}},_I=class{constructor(t,e){this.stack=t,this.stoppedEarly=e}};function SF(t,e,n,r,i,s,o,a){const l=e.content.length;let c=!1,u=-1;if(o){const m=eie(t,e,n,r,i,s);i=m.stack,r=m.linePos,n=m.isFirstLine,u=m.anchorPosition}const f=Date.now();for(;!c;){if(a!==0&&Date.now()-f>a)return new _I(i,!0);p()}return new _I(i,!1);function p(){const m=tie(t,e,n,r,i,u);if(!m){s.produce(i,l),c=!0;return}const _=m.captureIndices,S=m.matchedRuleId,w=_&&_.length>0?_[0].end>r:!1;if(S===Yre){const x=i.getRule(t);s.produce(i,_[0].start),i=i.withContentNameScopesList(i.nameScopesList),Uy(t,e,n,i,s,x.endCaptures,_),s.produce(i,_[0].end);const C=i;if(i=i.parent,u=C.getAnchorPos(),!w&&C.getEnterPos()===r){i=C,s.produce(i,l),c=!0;return}}else{const x=t.getRule(S);s.produce(i,_[0].start);const C=i,T=x.getName(e.content,_),A=i.contentNameScopesList.pushAttributed(T,t);if(i=i.push(S,r,u,_[0].end===l,null,A,A),x instanceof UT){const L=x;Uy(t,e,n,i,s,L.beginCaptures,_),s.produce(i,_[0].end),u=_[0].end;const R=L.getContentName(e.content,_),N=A.pushAttributed(R,t);if(i=i.withContentNameScopesList(N),L.endHasBackReferences&&(i=i.withEndRule(L.getEndWithResolvedBackReferences(e.content,_))),!w&&C.hasSameRuleAs(i)){i=i.pop(),s.produce(i,l),c=!0;return}}else if(x instanceof lw){const L=x;Uy(t,e,n,i,s,L.beginCaptures,_),s.produce(i,_[0].end),u=_[0].end;const R=L.getContentName(e.content,_),N=A.pushAttributed(R,t);if(i=i.withContentNameScopesList(N),L.whileHasBackReferences&&(i=i.withEndRule(L.getWhileWithResolvedBackReferences(e.content,_))),!w&&C.hasSameRuleAs(i)){i=i.pop(),s.produce(i,l),c=!0;return}}else if(Uy(t,e,n,i,s,x.captures,_),s.produce(i,_[0].end),i=i.pop(),!w){i=i.safePop(),s.produce(i,l),c=!0;return}}_[0].end>r&&(r=_[0].end,n=!1)}}function eie(t,e,n,r,i,s){let o=i.beginRuleCapturedEOL?0:-1;const a=[];for(let l=i;l;l=l.pop()){const c=l.getRule(t);c instanceof lw&&a.push({rule:c,stack:l})}for(let l=a.pop();l;l=a.pop()){const{ruleScanner:c,findOptions:u}=iie(l.rule,t,l.stack.endRule,n,r===o),f=c.findNextMatchSync(e,r,u);if(f){if(f.ruleId!==_F){i=l.stack.pop();break}f.captureIndices&&f.captureIndices.length&&(s.produce(l.stack,f.captureIndices[0].start),Uy(t,e,n,l.stack,s,l.rule.whileCaptures,f.captureIndices),s.produce(l.stack,f.captureIndices[0].end),o=f.captureIndices[0].end,f.captureIndices[0].end>r&&(r=f.captureIndices[0].end,n=!1))}else{i=l.stack.pop();break}}return{stack:i,linePos:r,anchorPosition:o,isFirstLine:n}}function tie(t,e,n,r,i,s){const o=nie(t,e,n,r,i,s),a=t.getInjections();if(a.length===0)return o;const l=rie(a,t,e,n,r,i,s);if(!l)return o;if(!o)return l;const c=o.captureIndices[0].start,u=l.captureIndices[0].start;return u<c||l.priorityMatch&&u===c?l:o}function nie(t,e,n,r,i,s){const o=i.getRule(t),{ruleScanner:a,findOptions:l}=wF(o,t,i.endRule,n,r===s),c=a.findNextMatchSync(e,r,l);return c?{captureIndices:c.captureIndices,matchedRuleId:c.ruleId}:null}function rie(t,e,n,r,i,s,o){let a=Number.MAX_VALUE,l=null,c,u=0;const f=s.contentNameScopesList.getScopeNames();for(let p=0,m=t.length;p<m;p++){const _=t[p];if(!_.matcher(f))continue;const S=e.getRule(_.ruleId),{ruleScanner:w,findOptions:x}=wF(S,e,null,r,i===o),C=w.findNextMatchSync(n,i,x);if(!C)continue;const T=C.captureIndices[0].start;if(!(T>=a)&&(a=T,l=C.captureIndices,c=C.ruleId,u=_.priority,a===i))break}return l?{priorityMatch:u===-1,captureIndices:l,matchedRuleId:c}:null}function wF(t,e,n,r,i){return{ruleScanner:t.compileAG(e,n,r,i),findOptions:0}}function iie(t,e,n,r,i){return{ruleScanner:t.compileWhileAG(e,n,r,i),findOptions:0}}function Uy(t,e,n,r,i,s,o){if(s.length===0)return;const a=e.content,l=Math.min(s.length,o.length),c=[],u=o[0].end;for(let f=0;f<l;f++){const p=s[f];if(p===null)continue;const m=o[f];if(m.length===0)continue;if(m.start>u)break;for(;c.length>0&&c[c.length-1].endPos<=m.start;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop();if(c.length>0?i.produceFromScopes(c[c.length-1].scopes,m.start):i.produce(r,m.start),p.retokenizeCapturedWithRuleId){const S=p.getName(a,o),w=r.contentNameScopesList.pushAttributed(S,t),x=p.getContentName(a,o),C=w.pushAttributed(x,t),T=r.push(p.retokenizeCapturedWithRuleId,m.start,-1,!1,null,w,C),A=t.createOnigString(a.substring(0,m.end));SF(t,A,n&&m.start===0,m.start,T,i,!1,0),gF(A);continue}const _=p.getName(a,o);if(_!==null){const w=(c.length>0?c[c.length-1].scopes:r.contentNameScopesList).pushAttributed(_,t);c.push(new sie(w,m.end))}}for(;c.length>0;)i.produceFromScopes(c[c.length-1].scopes,c[c.length-1].endPos),c.pop()}var sie=class{constructor(t,e){De(this,"scopes");De(this,"endPos");this.scopes=t,this.endPos=e}};function oie(t,e,n,r,i,s,o,a){return new lie(t,e,n,r,i,s,o,a)}function vI(t,e,n,r,i){const s=ow(e,cw),o=vF.getCompiledRuleId(n,r,i.repository);for(const a of s)t.push({debugSelector:e,matcher:a.matcher,ruleId:o,grammar:i,priority:a.priority})}function cw(t,e){if(e.length<t.length)return!1;let n=0;return t.every(r=>{for(let i=n;i<e.length;i++)if(aie(e[i],r))return n=i+1,!0;return!1})}function aie(t,e){if(!t)return!1;if(t===e)return!0;const n=e.length;return t.length>n&&t.substr(0,n)===e&&t[n]==="."}var lie=class{constructor(t,e,n,r,i,s,o,a){De(this,"_rootId");De(this,"_lastRuleId");De(this,"_ruleId2desc");De(this,"_includedGrammars");De(this,"_grammarRepository");De(this,"_grammar");De(this,"_injections");De(this,"_basicScopeAttributesProvider");De(this,"_tokenTypeMatchers");if(this._rootScopeName=t,this.balancedBracketSelectors=s,this._onigLib=a,this._basicScopeAttributesProvider=new Jre(n,r),this._rootId=-1,this._lastRuleId=0,this._ruleId2desc=[null],this._includedGrammars={},this._grammarRepository=o,this._grammar=xI(e,null),this._injections=null,this._tokenTypeMatchers=[],i)for(const l of Object.keys(i)){const c=ow(l,cw);for(const u of c)this._tokenTypeMatchers.push({matcher:u.matcher,type:i[l]})}}get themeProvider(){return this._grammarRepository}dispose(){for(const t of this._ruleId2desc)t&&t.dispose()}createOnigScanner(t){return this._onigLib.createOnigScanner(t)}createOnigString(t){return this._onigLib.createOnigString(t)}getMetadataForScope(t){return this._basicScopeAttributesProvider.getBasicScopeAttributes(t)}_collectInjections(){const t={lookup:i=>i===this._rootScopeName?this._grammar:this.getExternalGrammar(i),injections:i=>this._grammarRepository.injections(i)},e=[],n=this._rootScopeName,r=t.lookup(n);if(r){const i=r.injections;if(i)for(let o in i)vI(e,o,i[o],this,r);const s=this._grammarRepository.injections(n);s&&s.forEach(o=>{const a=this.getExternalGrammar(o);if(a){const l=a.injectionSelector;l&&vI(e,l,a,this,a)}})}return e.sort((i,s)=>i.priority-s.priority),e}getInjections(){return this._injections===null&&(this._injections=this._collectInjections()),this._injections}registerRule(t){const e=++this._lastRuleId,n=t(e);return this._ruleId2desc[e]=n,n}getRule(t){return this._ruleId2desc[t]}getExternalGrammar(t,e){if(this._includedGrammars[t])return this._includedGrammars[t];if(this._grammarRepository){const n=this._grammarRepository.lookup(t);if(n)return this._includedGrammars[t]=xI(n,e&&e.$base),this._includedGrammars[t]}}tokenizeLine(t,e,n=0){const r=this._tokenize(t,e,!1,n);return{tokens:r.lineTokens.getResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}tokenizeLine2(t,e,n=0){const r=this._tokenize(t,e,!0,n);return{tokens:r.lineTokens.getBinaryResult(r.ruleStack,r.lineLength),ruleStack:r.ruleStack,stoppedEarly:r.stoppedEarly}}_tokenize(t,e,n,r){this._rootId===-1&&(this._rootId=vF.getCompiledRuleId(this._grammar.repository.$self,this,this._grammar.repository),this.getInjections());let i;if(!e||e===VT.NULL){i=!0;const c=this._basicScopeAttributesProvider.getDefaultAttributes(),u=this.themeProvider.getDefaults(),f=Cm.set(0,c.languageId,c.tokenType,null,u.fontStyle,u.foregroundId,u.backgroundId),p=this.getRule(this._rootId).getName(null,null);let m;p?m=c0.createRootAndLookUpScopeName(p,f,this):m=c0.createRoot("unknown",f),e=new VT(null,this._rootId,-1,-1,!1,null,m,m)}else i=!1,e.reset();t=t+`
`;const s=this.createOnigString(t),o=s.content.length,a=new uie(n,t,this._tokenTypeMatchers,this.balancedBracketSelectors),l=SF(this,s,i,0,e,a,!0,r);return gF(s),{lineLength:o,lineTokens:a,ruleStack:l.stack,stoppedEarly:l.stoppedEarly}}};function xI(t,e){return t=Mre(t),t.repository=t.repository||{},t.repository.$self={$vscodeTextmateLocation:t.$vscodeTextmateLocation,patterns:t.patterns,name:t.scopeName},t.repository.$base=e||t.repository.$self,t}var c0=class pl{constructor(e,n,r){this.parent=e,this.scopePath=n,this.tokenAttributes=r}static fromExtension(e,n){let r=e,i=(e==null?void 0:e.scopePath)??null;for(const s of n)i=wC.push(i,s.scopeNames),r=new pl(r,i,s.encodedTokenAttributes);return r}static createRoot(e,n){return new pl(null,new wC(null,e),n)}static createRootAndLookUpScopeName(e,n,r){const i=r.getMetadataForScope(e),s=new wC(null,e),o=r.themeProvider.themeMatch(s),a=pl.mergeAttributes(n,i,o);return new pl(null,s,a)}get scopeName(){return this.scopePath.scopeName}toString(){return this.getScopeNames().join(" ")}equals(e){return pl.equals(this,e)}static equals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.scopeName!==n.scopeName||e.tokenAttributes!==n.tokenAttributes)return!1;e=e.parent,n=n.parent}while(!0)}static mergeAttributes(e,n,r){let i=-1,s=0,o=0;return r!==null&&(i=r.fontStyle,s=r.foregroundId,o=r.backgroundId),Cm.set(e,n.languageId,n.tokenType,null,i,s,o)}pushAttributed(e,n){if(e===null)return this;if(e.indexOf(" ")===-1)return pl._pushAttributed(this,e,n);const r=e.split(/ /g);let i=this;for(const s of r)i=pl._pushAttributed(i,s,n);return i}static _pushAttributed(e,n,r){const i=r.getMetadataForScope(n),s=e.scopePath.push(n),o=r.themeProvider.themeMatch(s),a=pl.mergeAttributes(e.tokenAttributes,i,o);return new pl(e,s,a)}getScopeNames(){return this.scopePath.getSegments()}getExtensionIfDefined(e){var i;const n=[];let r=this;for(;r&&r!==e;)n.push({encodedTokenAttributes:r.tokenAttributes,scopeNames:r.scopePath.getExtensionIfDefined(((i=r.parent)==null?void 0:i.scopePath)??null)}),r=r.parent;return r===e?n.reverse():void 0}},ta,VT=(ta=class{constructor(e,n,r,i,s,o,a,l){De(this,"_stackElementBrand");De(this,"_enterPos");De(this,"_anchorPos");De(this,"depth");this.parent=e,this.ruleId=n,this.beginRuleCapturedEOL=s,this.endRule=o,this.nameScopesList=a,this.contentNameScopesList=l,this.depth=this.parent?this.parent.depth+1:1,this._enterPos=r,this._anchorPos=i}equals(e){return e===null?!1:ta._equals(this,e)}static _equals(e,n){return e===n?!0:this._structuralEquals(e,n)?c0.equals(e.contentNameScopesList,n.contentNameScopesList):!1}static _structuralEquals(e,n){do{if(e===n||!e&&!n)return!0;if(!e||!n||e.depth!==n.depth||e.ruleId!==n.ruleId||e.endRule!==n.endRule)return!1;e=e.parent,n=n.parent}while(!0)}clone(){return this}static _reset(e){for(;e;)e._enterPos=-1,e._anchorPos=-1,e=e.parent}reset(){ta._reset(this)}pop(){return this.parent}safePop(){return this.parent?this.parent:this}push(e,n,r,i,s,o,a){return new ta(this,e,n,r,i,s,o,a)}getEnterPos(){return this._enterPos}getAnchorPos(){return this._anchorPos}getRule(e){return e.getRule(this.ruleId)}toString(){const e=[];return this._writeString(e,0),"["+e.join(",")+"]"}_writeString(e,n){var r,i;return this.parent&&(n=this.parent._writeString(e,n)),e[n++]=`(${this.ruleId}, ${(r=this.nameScopesList)==null?void 0:r.toString()}, ${(i=this.contentNameScopesList)==null?void 0:i.toString()})`,n}withContentNameScopesList(e){return this.contentNameScopesList===e?this:this.parent.push(this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,this.endRule,this.nameScopesList,e)}withEndRule(e){return this.endRule===e?this:new ta(this.parent,this.ruleId,this._enterPos,this._anchorPos,this.beginRuleCapturedEOL,e,this.nameScopesList,this.contentNameScopesList)}hasSameRuleAs(e){let n=this;for(;n&&n._enterPos===e._enterPos;){if(n.ruleId===e.ruleId)return!0;n=n.parent}return!1}toStateStackFrame(){var e,n,r;return{ruleId:this.ruleId,beginRuleCapturedEOL:this.beginRuleCapturedEOL,endRule:this.endRule,nameScopesList:((n=this.nameScopesList)==null?void 0:n.getExtensionIfDefined(((e=this.parent)==null?void 0:e.nameScopesList)??null))??[],contentNameScopesList:((r=this.contentNameScopesList)==null?void 0:r.getExtensionIfDefined(this.nameScopesList))??[]}}static pushFrame(e,n){const r=c0.fromExtension((e==null?void 0:e.nameScopesList)??null,n.nameScopesList);return new ta(e,n.ruleId,n.enterPos??-1,n.anchorPos??-1,n.beginRuleCapturedEOL,n.endRule,r,c0.fromExtension(r,n.contentNameScopesList))}},De(ta,"NULL",new ta(null,0,0,0,!1,null,null,null)),ta),cie=class{constructor(t,e){De(this,"balancedBracketScopes");De(this,"unbalancedBracketScopes");De(this,"allowAny",!1);this.balancedBracketScopes=t.flatMap(n=>n==="*"?(this.allowAny=!0,[]):ow(n,cw).map(r=>r.matcher)),this.unbalancedBracketScopes=e.flatMap(n=>ow(n,cw).map(r=>r.matcher))}get matchesAlways(){return this.allowAny&&this.unbalancedBracketScopes.length===0}get matchesNever(){return this.balancedBracketScopes.length===0&&!this.allowAny}match(t){for(const e of this.unbalancedBracketScopes)if(e(t))return!1;for(const e of this.balancedBracketScopes)if(e(t))return!0;return this.allowAny}},uie=class{constructor(t,e,n,r){De(this,"_emitBinaryTokens");De(this,"_lineText");De(this,"_tokens");De(this,"_binaryTokens");De(this,"_lastTokenEndIndex");De(this,"_tokenTypeOverrides");this.balancedBracketSelectors=r,this._emitBinaryTokens=t,this._tokenTypeOverrides=n,this._lineText=null,this._tokens=[],this._binaryTokens=[],this._lastTokenEndIndex=0}produce(t,e){this.produceFromScopes(t.contentNameScopesList,e)}produceFromScopes(t,e){var r;if(this._lastTokenEndIndex>=e)return;if(this._emitBinaryTokens){let i=(t==null?void 0:t.tokenAttributes)??0,s=!1;if((r=this.balancedBracketSelectors)!=null&&r.matchesAlways&&(s=!0),this._tokenTypeOverrides.length>0||this.balancedBracketSelectors&&!this.balancedBracketSelectors.matchesAlways&&!this.balancedBracketSelectors.matchesNever){const o=(t==null?void 0:t.getScopeNames())??[];for(const a of this._tokenTypeOverrides)a.matcher(o)&&(i=Cm.set(i,0,a.type,null,-1,0,0));this.balancedBracketSelectors&&(s=this.balancedBracketSelectors.match(o))}if(s&&(i=Cm.set(i,0,8,s,-1,0,0)),this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-1]===i){this._lastTokenEndIndex=e;return}this._binaryTokens.push(this._lastTokenEndIndex),this._binaryTokens.push(i),this._lastTokenEndIndex=e;return}const n=(t==null?void 0:t.getScopeNames())??[];this._tokens.push({startIndex:this._lastTokenEndIndex,endIndex:e,scopes:n}),this._lastTokenEndIndex=e}getResult(t,e){return this._tokens.length>0&&this._tokens[this._tokens.length-1].startIndex===e-1&&this._tokens.pop(),this._tokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._tokens[this._tokens.length-1].startIndex=0),this._tokens}getBinaryResult(t,e){this._binaryTokens.length>0&&this._binaryTokens[this._binaryTokens.length-2]===e-1&&(this._binaryTokens.pop(),this._binaryTokens.pop()),this._binaryTokens.length===0&&(this._lastTokenEndIndex=-1,this.produce(t,e),this._binaryTokens[this._binaryTokens.length-2]=0);const n=new Uint32Array(this._binaryTokens.length);for(let r=0,i=this._binaryTokens.length;r<i;r++)n[r]=this._binaryTokens[r];return n}},hie=class{constructor(t,e){De(this,"_grammars",new Map);De(this,"_rawGrammars",new Map);De(this,"_injectionGrammars",new Map);De(this,"_theme");this._onigLib=e,this._theme=t}dispose(){for(const t of this._grammars.values())t.dispose()}setTheme(t){this._theme=t}getColorMap(){return this._theme.getColorMap()}addGrammar(t,e){this._rawGrammars.set(t.scopeName,t),e&&this._injectionGrammars.set(t.scopeName,e)}lookup(t){return this._rawGrammars.get(t)}injections(t){return this._injectionGrammars.get(t)}getDefaults(){return this._theme.getDefaults()}themeMatch(t){return this._theme.match(t)}grammarForScopeName(t,e,n,r,i){if(!this._grammars.has(t)){let s=this._rawGrammars.get(t);if(!s)return null;this._grammars.set(t,oie(t,s,e,n,r,i,this,this._onigLib))}return this._grammars.get(t)}},fie=class{constructor(e){De(this,"_options");De(this,"_syncRegistry");De(this,"_ensureGrammarCache");this._options=e,this._syncRegistry=new hie(sw.createFromRawTheme(e.theme,e.colorMap),e.onigLib),this._ensureGrammarCache=new Map}dispose(){this._syncRegistry.dispose()}setTheme(e,n){this._syncRegistry.setTheme(sw.createFromRawTheme(e,n))}getColorMap(){return this._syncRegistry.getColorMap()}loadGrammarWithEmbeddedLanguages(e,n,r){return this.loadGrammarWithConfiguration(e,n,{embeddedLanguages:r})}loadGrammarWithConfiguration(e,n,r){return this._loadGrammar(e,n,r.embeddedLanguages,r.tokenTypes,new cie(r.balancedBracketSelectors||[],r.unbalancedBracketSelectors||[]))}loadGrammar(e){return this._loadGrammar(e,0,null,null,null)}_loadGrammar(e,n,r,i,s){const o=new Vre(this._syncRegistry,e);for(;o.Q.length>0;)o.Q.map(a=>this._loadSingleGrammar(a.scopeName)),o.processQueue();return this._grammarForScopeName(e,n,r,i,s)}_loadSingleGrammar(e){this._ensureGrammarCache.has(e)||(this._doLoadSingleGrammar(e),this._ensureGrammarCache.set(e,!0))}_doLoadSingleGrammar(e){const n=this._options.loadGrammar(e);if(n){const r=typeof this._options.getInjections=="function"?this._options.getInjections(e):void 0;this._syncRegistry.addGrammar(n,r)}}addGrammar(e,n=[],r=0,i=null){return this._syncRegistry.addGrammar(e,n),this._grammarForScopeName(e.scopeName,r,i)}_grammarForScopeName(e,n=0,r=null,i=null,s=null){return this._syncRegistry.grammarForScopeName(e,n,r,i,s)}},HT=VT.NULL;const die=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"];class g_{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}g_.prototype.normal={};g_.prototype.property={};g_.prototype.space=void 0;function bF(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new g_(n,r,e)}function WT(t){return t.toLowerCase()}class fo{constructor(e,n){this.attribute=n,this.property=e}}fo.prototype.attribute="";fo.prototype.booleanish=!1;fo.prototype.boolean=!1;fo.prototype.commaOrSpaceSeparated=!1;fo.prototype.commaSeparated=!1;fo.prototype.defined=!1;fo.prototype.mustUseProperty=!1;fo.prototype.number=!1;fo.prototype.overloadedBoolean=!1;fo.prototype.property="";fo.prototype.spaceSeparated=!1;fo.prototype.space=void 0;let pie=0;const Tn=hd(),ri=hd(),EF=hd(),ut=hd(),_r=hd(),om=hd(),Ao=hd();function hd(){return 2**++pie}const GT=Object.freeze(Object.defineProperty({__proto__:null,boolean:Tn,booleanish:ri,commaOrSpaceSeparated:Ao,commaSeparated:om,number:ut,overloadedBoolean:EF,spaceSeparated:_r},Symbol.toStringTag,{value:"Module"})),EC=Object.keys(GT);class l2 extends fo{constructor(e,n,r,i){let s=-1;if(super(e,n),SI(this,"space",i),typeof r=="number")for(;++s<EC.length;){const o=EC[s];SI(this,EC[s],(r&GT[o])===GT[o])}}}l2.prototype.defined=!0;function SI(t,e,n){n&&(t[e]=n)}function Km(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const s=new l2(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,n[WT(r)]=r,n[WT(s.attribute)]=r}return new g_(e,n,t.space)}const CF=Km({properties:{ariaActiveDescendant:null,ariaAtomic:ri,ariaAutoComplete:null,ariaBusy:ri,ariaChecked:ri,ariaColCount:ut,ariaColIndex:ut,ariaColSpan:ut,ariaControls:_r,ariaCurrent:null,ariaDescribedBy:_r,ariaDetails:null,ariaDisabled:ri,ariaDropEffect:_r,ariaErrorMessage:null,ariaExpanded:ri,ariaFlowTo:_r,ariaGrabbed:ri,ariaHasPopup:null,ariaHidden:ri,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:_r,ariaLevel:ut,ariaLive:null,ariaModal:ri,ariaMultiLine:ri,ariaMultiSelectable:ri,ariaOrientation:null,ariaOwns:_r,ariaPlaceholder:null,ariaPosInSet:ut,ariaPressed:ri,ariaReadOnly:ri,ariaRelevant:null,ariaRequired:ri,ariaRoleDescription:_r,ariaRowCount:ut,ariaRowIndex:ut,ariaRowSpan:ut,ariaSelected:ri,ariaSetSize:ut,ariaSort:null,ariaValueMax:ut,ariaValueMin:ut,ariaValueNow:ut,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function TF(t,e){return e in t?t[e]:e}function MF(t,e){return TF(t,e.toLowerCase())}const mie=Km({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:om,acceptCharset:_r,accessKey:_r,action:null,allow:null,allowFullScreen:Tn,allowPaymentRequest:Tn,allowUserMedia:Tn,alt:null,as:null,async:Tn,autoCapitalize:null,autoComplete:_r,autoFocus:Tn,autoPlay:Tn,blocking:_r,capture:null,charSet:null,checked:Tn,cite:null,className:_r,cols:ut,colSpan:null,content:null,contentEditable:ri,controls:Tn,controlsList:_r,coords:ut|om,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Tn,defer:Tn,dir:null,dirName:null,disabled:Tn,download:EF,draggable:ri,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Tn,formTarget:null,headers:_r,height:ut,hidden:Tn,high:ut,href:null,hrefLang:null,htmlFor:_r,httpEquiv:_r,id:null,imageSizes:null,imageSrcSet:null,inert:Tn,inputMode:null,integrity:null,is:null,isMap:Tn,itemId:null,itemProp:_r,itemRef:_r,itemScope:Tn,itemType:_r,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Tn,low:ut,manifest:null,max:null,maxLength:ut,media:null,method:null,min:null,minLength:ut,multiple:Tn,muted:Tn,name:null,nonce:null,noModule:Tn,noValidate:Tn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Tn,optimum:ut,pattern:null,ping:_r,placeholder:null,playsInline:Tn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Tn,referrerPolicy:null,rel:_r,required:Tn,reversed:Tn,rows:ut,rowSpan:ut,sandbox:_r,scope:null,scoped:Tn,seamless:Tn,selected:Tn,shadowRootClonable:Tn,shadowRootDelegatesFocus:Tn,shadowRootMode:null,shape:null,size:ut,sizes:null,slot:null,span:ut,spellCheck:ri,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ut,step:null,style:null,tabIndex:ut,target:null,title:null,translate:null,type:null,typeMustMatch:Tn,useMap:null,value:ri,width:ut,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:_r,axis:null,background:null,bgColor:null,border:ut,borderColor:null,bottomMargin:ut,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Tn,declare:Tn,event:null,face:null,frame:null,frameBorder:null,hSpace:ut,leftMargin:ut,link:null,longDesc:null,lowSrc:null,marginHeight:ut,marginWidth:ut,noResize:Tn,noHref:Tn,noShade:Tn,noWrap:Tn,object:null,profile:null,prompt:null,rev:null,rightMargin:ut,rules:null,scheme:null,scrolling:ri,standby:null,summary:null,text:null,topMargin:ut,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ut,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Tn,disableRemotePlayback:Tn,prefix:null,property:null,results:ut,security:null,unselectable:null},space:"html",transform:MF}),gie=Km({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ao,accentHeight:ut,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ut,amplitude:ut,arabicForm:null,ascent:ut,attributeName:null,attributeType:null,azimuth:ut,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ut,by:null,calcMode:null,capHeight:ut,className:_r,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ut,diffuseConstant:ut,direction:null,display:null,dur:null,divisor:ut,dominantBaseline:null,download:Tn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ut,enableBackground:null,end:null,event:null,exponent:ut,externalResourcesRequired:null,fill:null,fillOpacity:ut,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:om,g2:om,glyphName:om,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ut,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ut,horizOriginX:ut,horizOriginY:ut,id:null,ideographic:ut,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ut,k:ut,k1:ut,k2:ut,k3:ut,k4:ut,kernelMatrix:Ao,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ut,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ut,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ut,overlineThickness:ut,paintOrder:null,panose1:null,path:null,pathLength:ut,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:_r,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ut,pointsAtY:ut,pointsAtZ:ut,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ao,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ao,rev:Ao,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ao,requiredFeatures:Ao,requiredFonts:Ao,requiredFormats:Ao,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ut,specularExponent:ut,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ut,strikethroughThickness:ut,string:null,stroke:null,strokeDashArray:Ao,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ut,strokeOpacity:ut,strokeWidth:null,style:null,surfaceScale:ut,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ao,tabIndex:ut,tableValues:null,target:null,targetX:ut,targetY:ut,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ao,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ut,underlineThickness:ut,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ut,values:null,vAlphabetic:ut,vMathematical:ut,vectorEffect:null,vHanging:ut,vIdeographic:ut,version:null,vertAdvY:ut,vertOriginX:ut,vertOriginY:ut,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ut,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:TF}),AF=Km({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),kF=Km({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:MF}),RF=Km({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),yie=/[A-Z]/g,wI=/-[a-z]/g,_ie=/^data[-\w.:]+$/i;function vie(t,e){const n=WT(e);let r=e,i=fo;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&_ie.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(wI,Sie);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!wI.test(s)){let o=s.replace(yie,xie);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}i=l2}return new i(r,e)}function xie(t){return"-"+t.toLowerCase()}function Sie(t){return t.charAt(1).toUpperCase()}const wie=bF([CF,mie,AF,kF,RF],"html"),PF=bF([CF,gie,AF,kF,RF],"svg"),bI={}.hasOwnProperty;function bie(t,e){const n=e||{};function r(i,...s){let o=r.invalid;const a=r.handlers;if(i&&bI.call(i,t)){const l=String(i[t]);o=bI.call(a,l)?a[l]:r.unknown}if(o)return o.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Eie=/["&'<>`]/g,Cie=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Tie=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Mie=/[|\\{}()[\]^$+*?.]/g,EI=new WeakMap;function Aie(t,e){if(t=t.replace(e.subset?kie(e.subset):Eie,r),e.subset||e.escapeOnly)return t;return t.replace(Cie,n).replace(Tie,r);function n(i,s,o){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,o.charCodeAt(s+2),e)}function r(i,s,o){return e.format(i.charCodeAt(0),o.charCodeAt(s+1),e)}}function kie(t){let e=EI.get(t);return e||(e=Rie(t),EI.set(t,e)),e}function Rie(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(Mie,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}const Pie=/[\dA-Fa-f]/;function Lie(t,e,n){const r="&#x"+t.toString(16).toUpperCase();return n&&e&&!Pie.test(String.fromCharCode(e))?r:r+";"}const Iie=/\d/;function Die(t,e,n){const r="&#"+String(t);return n&&e&&!Iie.test(String.fromCharCode(e))?r:r+";"}const Oie=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],CC={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},Nie=["cent","copy","divide","gt","lt","not","para","times"],LF={}.hasOwnProperty,$T={};let Cx;for(Cx in CC)LF.call(CC,Cx)&&($T[CC[Cx]]=Cx);const Bie=/[^\dA-Za-z]/;function Fie(t,e,n,r){const i=String.fromCharCode(t);if(LF.call($T,i)){const s=$T[i],o="&"+s;return n&&Oie.includes(s)&&!Nie.includes(s)&&(!r||e&&e!==61&&Bie.test(String.fromCharCode(e)))?o:o+";"}return""}function zie(t,e,n){let r=Lie(t,e,n.omitOptionalSemicolons),i;if((n.useNamedReferences||n.useShortestReferences)&&(i=Fie(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!i)&&n.useShortestReferences){const s=Die(t,e,n.omitOptionalSemicolons);s.length<r.length&&(r=s)}return i&&(!n.useShortestReferences||i.length<r.length)?i:r}function am(t,e){return Aie(t,Object.assign({format:zie},e))}const Uie=/^>|^->|<!--|-->|--!>|<!-$/g,Vie=[">"],Hie=["<",">"];function Wie(t,e,n,r){return r.settings.bogusComments?"<?"+am(t.value,Object.assign({},r.settings.characterReferences,{subset:Vie}))+">":"<!--"+t.value.replace(Uie,i)+"-->";function i(s){return am(s,Object.assign({},r.settings.characterReferences,{subset:Hie}))}}function Gie(t,e,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function CI(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const wi=DF(1),IF=DF(-1),$ie=[];function DF(t){return e;function e(n,r,i){const s=n?n.children:$ie;let o=(r||0)+t,a=s[o];if(!i)for(;a&&I1(a);)o+=t,a=s[o];return a}}const jie={}.hasOwnProperty;function OF(t){return e;function e(n,r,i){return jie.call(t,n.tagName)&&t[n.tagName](n,r,i)}}const c2=OF({body:Xie,caption:TC,colgroup:TC,dd:Jie,dt:Zie,head:TC,html:qie,li:Kie,optgroup:Qie,option:ese,p:Yie,rp:TI,rt:TI,tbody:nse,td:MI,tfoot:rse,th:MI,thead:tse,tr:ise});function TC(t,e,n){const r=wi(n,e,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&I1(r.value.charAt(0)))}function qie(t,e,n){const r=wi(n,e);return!r||r.type!=="comment"}function Xie(t,e,n){const r=wi(n,e);return!r||r.type!=="comment"}function Yie(t,e,n){const r=wi(n,e);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function Kie(t,e,n){const r=wi(n,e);return!r||r.type==="element"&&r.tagName==="li"}function Zie(t,e,n){const r=wi(n,e);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function Jie(t,e,n){const r=wi(n,e);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function TI(t,e,n){const r=wi(n,e);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function Qie(t,e,n){const r=wi(n,e);return!r||r.type==="element"&&r.tagName==="optgroup"}function ese(t,e,n){const r=wi(n,e);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function tse(t,e,n){const r=wi(n,e);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function nse(t,e,n){const r=wi(n,e);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function rse(t,e,n){return!wi(n,e)}function ise(t,e,n){const r=wi(n,e);return!r||r.type==="element"&&r.tagName==="tr"}function MI(t,e,n){const r=wi(n,e);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const sse=OF({body:lse,colgroup:cse,head:ase,html:ose,tbody:use});function ose(t){const e=wi(t,-1);return!e||e.type!=="comment"}function ase(t){const e=new Set;for(const r of t.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(e.has(r.tagName))return!1;e.add(r.tagName)}const n=t.children[0];return!n||n.type==="element"}function lse(t){const e=wi(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&I1(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function cse(t,e,n){const r=IF(n,e),i=wi(t,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&c2(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="col")}function use(t,e,n){const r=IF(n,e),i=wi(t,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&c2(r,n.children.indexOf(r),n)?!1:!!(i&&i.type==="element"&&i.tagName==="tr")}const Tx={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function hse(t,e,n,r){const i=r.schema,s=i.space==="svg"?!1:r.settings.omitOptionalTags;let o=i.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(t.tagName.toLowerCase());const a=[];let l;i.space==="html"&&t.tagName==="svg"&&(r.schema=PF);const c=fse(r,t.properties),u=r.all(i.space==="html"&&t.tagName==="template"?t.content:t);return r.schema=i,u&&(o=!1),(c||!s||!sse(t,e,n))&&(a.push("<",t.tagName,c?" "+c:""),o&&(i.space==="svg"||r.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!r.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&a.push(" "),a.push("/")),a.push(">")),a.push(u),!o&&(!s||!c2(t,e,n))&&a.push("</"+t.tagName+">"),a.join("")}function fse(t,e){const n=[];let r=-1,i;if(e){for(i in e)if(e[i]!==null&&e[i]!==void 0){const s=dse(t,i,e[i]);s&&n.push(s)}}for(;++r<n.length;){const s=t.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&s!=='"'&&s!=="'"&&(n[r]+=" ")}return n.join("")}function dse(t,e,n){const r=vie(t.schema,e),i=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,s=t.settings.allowDangerousCharacters?0:1;let o=t.quote,a;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=am(r.attribute,Object.assign({},t.settings.characterReferences,{subset:Tx.name[i][s]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?yB:TB)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?l:(t.settings.preferUnquoted&&(a=am(n,Object.assign({},t.settings.characterReferences,{attribute:!0,subset:Tx.unquoted[i][s]}))),a!==n&&(t.settings.quoteSmart&&CI(n,o)>CI(n,t.alternative)&&(o=t.alternative),a=o+am(n,Object.assign({},t.settings.characterReferences,{subset:(o==="'"?Tx.single:Tx.double)[i][s],attribute:!0}))+o),l+(a&&"="+a))}const pse=["<","&"];function NF(t,e,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:am(t.value,Object.assign({},r.settings.characterReferences,{subset:pse}))}function mse(t,e,n,r){return r.settings.allowDangerousHtml?t.value:NF(t,e,n,r)}function gse(t,e,n,r){return r.all(t)}const yse=bie("type",{invalid:_se,unknown:vse,handlers:{comment:Wie,doctype:Gie,element:hse,raw:mse,root:gse,text:NF}});function _se(t){throw new Error("Expected node, not `"+t+"`")}function vse(t){const e=t;throw new Error("Cannot compile unknown node `"+e.type+"`")}const xse={},Sse={},wse=[];function bse(t,e){const n=e||xse,r=n.quote||'"',i=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:Ese,all:Cse,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||die,characterReferences:n.characterReferences||Sse,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?PF:wie,quote:r,alternative:i}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function Ese(t,e,n){return yse(t,e,n,this)}function Cse(t){const e=[],n=t&&t.children||wse;let r=-1;for(;++r<n.length;)e[r]=this.one(n[r],r,t);return e.join("")}function uw(t,e){const n=typeof t=="string"?{}:{...t.colorReplacements},r=typeof t=="string"?t:t.name;for(const[i,s]of Object.entries((e==null?void 0:e.colorReplacements)||{}))typeof s=="string"?n[i]=s:i===r&&Object.assign(n,s);return n}function Df(t,e){return t&&((e==null?void 0:e[t==null?void 0:t.toLowerCase()])||t)}function Tse(t){return Array.isArray(t)?t:[t]}async function BF(t){return Promise.resolve(typeof t=="function"?t():t).then(e=>e.default||e)}function u2(t){return!t||["plaintext","txt","text","plain"].includes(t)}function FF(t){return t==="ansi"||u2(t)}function h2(t){return t==="none"}function zF(t){return h2(t)}function UF(t,e){var r;if(!e)return t;t.properties||(t.properties={}),(r=t.properties).class||(r.class=[]),typeof t.properties.class=="string"&&(t.properties.class=t.properties.class.split(/\s+/g)),Array.isArray(t.properties.class)||(t.properties.class=[]);const n=Array.isArray(e)?e:e.split(/\s+/g);for(const i of n)i&&!t.properties.class.includes(i)&&t.properties.class.push(i);return t}function B1(t,e=!1){var s;const n=t.split(/(\r?\n)/g);let r=0;const i=[];for(let o=0;o<n.length;o+=2){const a=e?n[o]+(n[o+1]||""):n[o];i.push([a,r]),r+=n[o].length,r+=((s=n[o+1])==null?void 0:s.length)||0}return i}function Mse(t){const e=B1(t,!0).map(([i])=>i);function n(i){if(i===t.length)return{line:e.length-1,character:e[e.length-1].length};let s=i,o=0;for(const a of e){if(s<a.length)break;s-=a.length,o++}return{line:o,character:s}}function r(i,s){let o=0;for(let a=0;a<i;a++)o+=e[a].length;return o+=s,o}return{lines:e,indexToPos:n,posToIndex:r}}function Ase(t,e,n){const r=new Set;for(const s of t.matchAll(/lang=["']([\w-]+)["']/g))r.add(s[1]);for(const s of t.matchAll(/(?:```|~~~)([\w-]+)/g))r.add(s[1]);for(const s of t.matchAll(/\\begin\{([\w-]+)\}/g))r.add(s[1]);if(!n)return Array.from(r);const i=n.getBundledLanguages();return Array.from(r).filter(s=>s&&i[s])}function kse(t,e){let n=0;const r=[];for(const i of e)i>n&&r.push({...t,content:t.content.slice(n,i),offset:t.offset+n}),n=i;return n<t.content.length&&r.push({...t,content:t.content.slice(n),offset:t.offset+n}),r}function Rse(t,e){const n=Array.from(e instanceof Set?e:new Set(e)).sort((r,i)=>r-i);return n.length?t.map(r=>r.flatMap(i=>{const s=n.filter(o=>i.offset<o&&o<i.offset+i.content.length).map(o=>o-i.offset).sort((o,a)=>o-a);return s.length?kse(i,s):i})):t}function Pse(t,e,n,r){const i={content:t.content,explanation:t.explanation,offset:t.offset},s=e.map(l=>VF(t.variants[l])),o=new Set(s.flatMap(l=>Object.keys(l))),a={};return s.forEach((l,c)=>{for(const u of o){const f=l[u]||"inherit";if(c===0&&r)a[u]=f;else{const p=u==="color"?"":u==="background-color"?"-bg":`-${u}`,m=n+e[c]+(u==="color"?"":p);a[m]=f}}}),i.htmlStyle=a,i}function VF(t){const e={};return t.color&&(e.color=t.color),t.bgColor&&(e["background-color"]=t.bgColor),t.fontStyle&&(t.fontStyle&Nc.Italic&&(e["font-style"]="italic"),t.fontStyle&Nc.Bold&&(e["font-weight"]="bold"),t.fontStyle&Nc.Underline&&(e["text-decoration"]="underline")),e}function Lse(t){return typeof t=="string"?t:Object.entries(t).map(([e,n])=>`${e}:${n}`).join(";")}const HF=new WeakMap;function F1(t,e){HF.set(t,e)}function H0(t){return HF.get(t)}class Zm{constructor(...e){De(this,"_stacks",{});De(this,"lang");if(e.length===2){const[n,r]=e;this.lang=r,this._stacks=n}else{const[n,r,i]=e;this.lang=r,this._stacks={[i]:n}}}get themes(){return Object.keys(this._stacks)}get theme(){return this.themes[0]}get _stack(){return this._stacks[this.theme]}static initial(e,n){return new Zm(Object.fromEntries(Tse(n).map(r=>[r,HT])),e)}getInternalStack(e=this.theme){return this._stacks[e]}getScopes(e=this.theme){return Ise(this._stacks[e])}toJSON(){return{lang:this.lang,theme:this.theme,themes:this.themes,scopes:this.getScopes()}}}function Ise(t){const e=[],n=new Set;function r(i){var o;if(n.has(i))return;n.add(i);const s=(o=i==null?void 0:i.nameScopesList)==null?void 0:o.scopeName;s&&e.push(s),i.parent&&r(i.parent)}return r(t),e}function Dse(t,e){if(!(t instanceof Zm))throw new Di("Invalid grammar state");return t.getInternalStack(e)}function Ose(){const t=new WeakMap;function e(n){if(!t.has(n.meta)){let r=function(o){if(typeof o=="number"){if(o<0||o>n.source.length)throw new Di(`Invalid decoration offset: ${o}. Code length: ${n.source.length}`);return{...i.indexToPos(o),offset:o}}else{const a=i.lines[o.line];if(a===void 0)throw new Di(`Invalid decoration position ${JSON.stringify(o)}. Lines length: ${i.lines.length}`);if(o.character<0||o.character>a.length)throw new Di(`Invalid decoration position ${JSON.stringify(o)}. Line ${o.line} length: ${a.length}`);return{...o,offset:i.posToIndex(o.line,o.character)}}};const i=Mse(n.source),s=(n.options.decorations||[]).map(o=>({...o,start:r(o.start),end:r(o.end)}));Nse(s),t.set(n.meta,{decorations:s,converter:i,source:n.source})}return t.get(n.meta)}return{name:"shiki:decorations",tokens(n){var o;if(!((o=this.options.decorations)!=null&&o.length))return;const i=e(this).decorations.flatMap(a=>[a.start.offset,a.end.offset]);return Rse(n,i)},code(n){var u;if(!((u=this.options.decorations)!=null&&u.length))return;const r=e(this),i=Array.from(n.children).filter(f=>f.type==="element"&&f.tagName==="span");if(i.length!==r.converter.lines.length)throw new Di(`Number of lines in code element (${i.length}) does not match the number of lines in the source (${r.converter.lines.length}). Failed to apply decorations.`);function s(f,p,m,_){const S=i[f];let w="",x=-1,C=-1;if(p===0&&(x=0),m===0&&(C=0),m===Number.POSITIVE_INFINITY&&(C=S.children.length),x===-1||C===-1)for(let A=0;A<S.children.length;A++)w+=WF(S.children[A]),x===-1&&w.length===p&&(x=A+1),C===-1&&w.length===m&&(C=A+1);if(x===-1)throw new Di(`Failed to find start index for decoration ${JSON.stringify(_.start)}`);if(C===-1)throw new Di(`Failed to find end index for decoration ${JSON.stringify(_.end)}`);const T=S.children.slice(x,C);if(!_.alwaysWrap&&T.length===S.children.length)a(S,_,"line");else if(!_.alwaysWrap&&T.length===1&&T[0].type==="element")a(T[0],_,"token");else{const A={type:"element",tagName:"span",properties:{},children:T};a(A,_,"wrapper"),S.children.splice(x,T.length,A)}}function o(f,p){i[f]=a(i[f],p,"line")}function a(f,p,m){var w;const _=p.properties||{},S=p.transform||(x=>x);return f.tagName=p.tagName||"span",f.properties={...f.properties,..._,class:f.properties.class},(w=p.properties)!=null&&w.class&&UF(f,p.properties.class),f=S(f,m)||f,f}const l=[],c=r.decorations.sort((f,p)=>p.start.offset-f.start.offset||f.end.offset-p.end.offset);for(const f of c){const{start:p,end:m}=f;if(p.line===m.line)s(p.line,p.character,m.character,f);else if(p.line<m.line){s(p.line,p.character,Number.POSITIVE_INFINITY,f);for(let _=p.line+1;_<m.line;_++)l.unshift(()=>o(_,f));s(m.line,0,m.character,f)}}l.forEach(f=>f())}}}function Nse(t){for(let e=0;e<t.length;e++){const n=t[e];if(n.start.offset>n.end.offset)throw new Di(`Invalid decoration range: ${JSON.stringify(n.start)} - ${JSON.stringify(n.end)}`);for(let r=e+1;r<t.length;r++){const i=t[r],s=n.start.offset<=i.start.offset&&i.start.offset<n.end.offset,o=n.start.offset<i.end.offset&&i.end.offset<=n.end.offset,a=i.start.offset<=n.start.offset&&n.start.offset<i.end.offset,l=i.start.offset<n.end.offset&&n.end.offset<=i.end.offset;if(s||o||a||l){if(s&&o||a&&l)continue;throw new Di(`Decorations ${JSON.stringify(n.start)} and ${JSON.stringify(i.start)} intersect.`)}}}}function WF(t){return t.type==="text"?t.value:t.type==="element"?t.children.map(WF).join(""):""}const Bse=[Ose()];function hw(t){return[...t.transformers||[],...Bse]}var Of=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"],MC={1:"bold",2:"dim",3:"italic",4:"underline",7:"reverse",8:"hidden",9:"strikethrough"};function Fse(t,e){const n=t.indexOf("\x1B",e);if(n!==-1&&t[n+1]==="["){const r=t.indexOf("m",n);if(r!==-1)return{sequence:t.substring(n+2,r).split(";"),startPosition:n,position:r+1}}return{position:t.length}}function AI(t){const e=t.shift();if(e==="2"){const n=t.splice(0,3).map(r=>Number.parseInt(r));return n.length!==3||n.some(r=>Number.isNaN(r))?void 0:{type:"rgb",rgb:n}}else if(e==="5"){const n=t.shift();if(n)return{type:"table",index:Number(n)}}}function zse(t){const e=[];for(;t.length>0;){const n=t.shift();if(!n)continue;const r=Number.parseInt(n);if(!Number.isNaN(r))if(r===0)e.push({type:"resetAll"});else if(r<=9)MC[r]&&e.push({type:"setDecoration",value:MC[r]});else if(r<=29){const i=MC[r-20];i&&(e.push({type:"resetDecoration",value:i}),i==="dim"&&e.push({type:"resetDecoration",value:"bold"}))}else if(r<=37)e.push({type:"setForegroundColor",value:{type:"named",name:Of[r-30]}});else if(r===38){const i=AI(t);i&&e.push({type:"setForegroundColor",value:i})}else if(r===39)e.push({type:"resetForegroundColor"});else if(r<=47)e.push({type:"setBackgroundColor",value:{type:"named",name:Of[r-40]}});else if(r===48){const i=AI(t);i&&e.push({type:"setBackgroundColor",value:i})}else r===49?e.push({type:"resetBackgroundColor"}):r===53?e.push({type:"setDecoration",value:"overline"}):r===55?e.push({type:"resetDecoration",value:"overline"}):r>=90&&r<=97?e.push({type:"setForegroundColor",value:{type:"named",name:Of[r-90+8]}}):r>=100&&r<=107&&e.push({type:"setBackgroundColor",value:{type:"named",name:Of[r-100+8]}})}return e}function Use(){let t=null,e=null,n=new Set;return{parse(r){const i=[];let s=0;do{const o=Fse(r,s),a=o.sequence?r.substring(s,o.startPosition):r.substring(s);if(a.length>0&&i.push({value:a,foreground:t,background:e,decorations:new Set(n)}),o.sequence){const l=zse(o.sequence);for(const c of l)c.type==="resetAll"?(t=null,e=null,n.clear()):c.type==="resetForegroundColor"?t=null:c.type==="resetBackgroundColor"?e=null:c.type==="resetDecoration"&&n.delete(c.value);for(const c of l)c.type==="setForegroundColor"?t=c.value:c.type==="setBackgroundColor"?e=c.value:c.type==="setDecoration"&&n.add(c.value)}s=o.position}while(s<r.length);return i}}}var Vse={black:"#000000",red:"#bb0000",green:"#00bb00",yellow:"#bbbb00",blue:"#0000bb",magenta:"#ff00ff",cyan:"#00bbbb",white:"#eeeeee",brightBlack:"#555555",brightRed:"#ff5555",brightGreen:"#00ff00",brightYellow:"#ffff55",brightBlue:"#5555ff",brightMagenta:"#ff55ff",brightCyan:"#55ffff",brightWhite:"#ffffff"};function Hse(t=Vse){function e(a){return t[a]}function n(a){return`#${a.map(l=>Math.max(0,Math.min(l,255)).toString(16).padStart(2,"0")).join("")}`}let r;function i(){if(r)return r;r=[];for(let c=0;c<Of.length;c++)r.push(e(Of[c]));let a=[0,95,135,175,215,255];for(let c=0;c<6;c++)for(let u=0;u<6;u++)for(let f=0;f<6;f++)r.push(n([a[c],a[u],a[f]]));let l=8;for(let c=0;c<24;c++,l+=10)r.push(n([l,l,l]));return r}function s(a){return i()[a]}function o(a){switch(a.type){case"named":return e(a.name);case"rgb":return n(a.rgb);case"table":return s(a.index)}}return{value:o}}function Wse(t,e,n){const r=uw(t,n),i=B1(e),s=Hse(Object.fromEntries(Of.map(a=>{var l;return[a,(l=t.colors)==null?void 0:l[`terminal.ansi${a[0].toUpperCase()}${a.substring(1)}`]]}))),o=Use();return i.map(a=>o.parse(a[0]).map(l=>{let c,u;l.decorations.has("reverse")?(c=l.background?s.value(l.background):t.bg,u=l.foreground?s.value(l.foreground):t.fg):(c=l.foreground?s.value(l.foreground):t.fg,u=l.background?s.value(l.background):void 0),c=Df(c,r),u=Df(u,r),l.decorations.has("dim")&&(c=Gse(c));let f=Nc.None;return l.decorations.has("bold")&&(f|=Nc.Bold),l.decorations.has("italic")&&(f|=Nc.Italic),l.decorations.has("underline")&&(f|=Nc.Underline),{content:l.value,offset:a[1],color:c,bgColor:u,fontStyle:f}}))}function Gse(t){const e=t.match(/#([0-9a-f]{3})([0-9a-f]{3})?([0-9a-f]{2})?/);if(e)if(e[3]){const r=Math.round(Number.parseInt(e[3],16)/2).toString(16).padStart(2,"0");return`#${e[1]}${e[2]}${r}`}else return e[2]?`#${e[1]}${e[2]}80`:`#${Array.from(e[1]).map(r=>`${r}${r}`).join("")}80`;const n=t.match(/var\((--[\w-]+-ansi-[\w-]+)\)/);return n?`var(${n[1]}-dim)`:t}function f2(t,e,n={}){const{lang:r="text",theme:i=t.getLoadedThemes()[0]}=n;if(u2(r)||h2(i))return B1(e).map(l=>[{content:l[0],offset:l[1]}]);const{theme:s,colorMap:o}=t.setTheme(i);if(r==="ansi")return Wse(s,e,n);const a=t.getLanguage(r);if(n.grammarState){if(n.grammarState.lang!==a.name)throw new Di(`Grammar state language "${n.grammarState.lang}" does not match highlight language "${a.name}"`);if(!n.grammarState.themes.includes(s.name))throw new Di(`Grammar state themes "${n.grammarState.themes}" do not contain highlight theme "${s.name}"`)}return jse(e,a,s,o,n)}function $se(...t){if(t.length===2)return H0(t[1]);const[e,n,r={}]=t,{lang:i="text",theme:s=e.getLoadedThemes()[0]}=r;if(u2(i)||h2(s))throw new Di("Plain language does not have grammar state");if(i==="ansi")throw new Di("ANSI language does not have grammar state");const{theme:o,colorMap:a}=e.setTheme(s),l=e.getLanguage(i);return new Zm(fw(n,l,o,a,r).stateStack,l.name,o.name)}function jse(t,e,n,r,i){const s=fw(t,e,n,r,i),o=new Zm(fw(t,e,n,r,i).stateStack,e.name,n.name);return F1(s.tokens,o),s.tokens}function fw(t,e,n,r,i){const s=uw(n,i),{tokenizeMaxLineLength:o=0,tokenizeTimeLimit:a=500}=i,l=B1(t);let c=i.grammarState?Dse(i.grammarState,n.name)??HT:i.grammarContextCode!=null?fw(i.grammarContextCode,e,n,r,{...i,grammarState:void 0,grammarContextCode:void 0}).stateStack:HT,u=[];const f=[];for(let p=0,m=l.length;p<m;p++){const[_,S]=l[p];if(_===""){u=[],f.push([]);continue}if(o>0&&_.length>=o){u=[],f.push([{content:_,offset:S,color:"",fontStyle:0}]);continue}let w,x,C;i.includeExplanation&&(w=e.tokenizeLine(_,c,a),x=w.tokens,C=0);const T=e.tokenizeLine2(_,c,a),A=T.tokens.length/2;for(let L=0;L<A;L++){const R=T.tokens[2*L],N=L+1<A?T.tokens[2*L+2]:_.length;if(R===N)continue;const z=T.tokens[2*L+1],D=Df(r[Cm.getForeground(z)],s),I=Cm.getFontStyle(z),B={content:_.substring(R,N),offset:S+R,color:D,fontStyle:I};if(i.includeExplanation){const q=[];if(i.includeExplanation!=="scopeName")for(const j of n.settings){let J;switch(typeof j.scope){case"string":J=j.scope.split(/,/).map($=>$.trim());break;case"object":J=j.scope;break;default:continue}q.push({settings:j,selectors:J.map($=>$.split(/ /))})}B.explanation=[];let K=0;for(;R+K<N;){const j=x[C],J=_.substring(j.startIndex,j.endIndex);K+=J.length,B.explanation.push({content:J,scopes:i.includeExplanation==="scopeName"?qse(j.scopes):Xse(q,j.scopes)}),C+=1}}u.push(B)}f.push(u),u=[],c=T.ruleStack}return{tokens:f,stateStack:c}}function qse(t){return t.map(e=>({scopeName:e}))}function Xse(t,e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n[r]={scopeName:s,themeMatches:Kse(t,s,e.slice(0,r))}}return n}function kI(t,e){return t===e||e.substring(0,t.length)===t&&e[t.length]==="."}function Yse(t,e,n){if(!kI(t[t.length-1],e))return!1;let r=t.length-2,i=n.length-1;for(;r>=0&&i>=0;)kI(t[r],n[i])&&(r-=1),i-=1;return r===-1}function Kse(t,e,n){const r=[];for(const{selectors:i,settings:s}of t)for(const o of i)if(Yse(o,e,n)){r.push(s);break}return r}function GF(t,e,n){const r=Object.entries(n.themes).filter(l=>l[1]).map(l=>({color:l[0],theme:l[1]})),i=r.map(l=>{const c=f2(t,e,{...n,theme:l.theme}),u=H0(c),f=typeof l.theme=="string"?l.theme:l.theme.name;return{tokens:c,state:u,theme:f}}),s=Zse(...i.map(l=>l.tokens)),o=s[0].map((l,c)=>l.map((u,f)=>{const p={content:u.content,variants:{},offset:u.offset};return"includeExplanation"in n&&n.includeExplanation&&(p.explanation=u.explanation),s.forEach((m,_)=>{const{content:S,explanation:w,offset:x,...C}=m[c][f];p.variants[r[_].color]=C}),p})),a=i[0].state?new Zm(Object.fromEntries(i.map(l=>{var c;return[l.theme,(c=l.state)==null?void 0:c.getInternalStack(l.theme)]})),i[0].state.lang):void 0;return a&&F1(o,a),o}function Zse(...t){const e=t.map(()=>[]),n=t.length;for(let r=0;r<t[0].length;r++){const i=t.map(l=>l[r]),s=e.map(()=>[]);e.forEach((l,c)=>l.push(s[c]));const o=i.map(()=>0),a=i.map(l=>l[0]);for(;a.every(l=>l);){const l=Math.min(...a.map(c=>c.content.length));for(let c=0;c<n;c++){const u=a[c];u.content.length===l?(s[c].push(u),o[c]+=1,a[c]=i[c][o[c]]):(s[c].push({...u,content:u.content.slice(0,l)}),a[c]={...u,content:u.content.slice(l),offset:u.offset+l})}}}return e}function dw(t,e,n){let r,i,s,o,a,l;if("themes"in n){const{defaultColor:c="light",cssVariablePrefix:u="--shiki-"}=n,f=Object.entries(n.themes).filter(w=>w[1]).map(w=>({color:w[0],theme:w[1]})).sort((w,x)=>w.color===c?-1:x.color===c?1:0);if(f.length===0)throw new Di("`themes` option must not be empty");const p=GF(t,e,n);if(l=H0(p),c&&!f.find(w=>w.color===c))throw new Di(`\`themes\` option must contain the defaultColor key \`${c}\``);const m=f.map(w=>t.getTheme(w.theme)),_=f.map(w=>w.color);s=p.map(w=>w.map(x=>Pse(x,_,u,c))),l&&F1(s,l);const S=f.map(w=>uw(w.theme,n));i=f.map((w,x)=>(x===0&&c?"":`${u+w.color}:`)+(Df(m[x].fg,S[x])||"inherit")).join(";"),r=f.map((w,x)=>(x===0&&c?"":`${u+w.color}-bg:`)+(Df(m[x].bg,S[x])||"inherit")).join(";"),o=`shiki-themes ${m.map(w=>w.name).join(" ")}`,a=c?void 0:[i,r].join(";")}else if("theme"in n){const c=uw(n.theme,n);s=f2(t,e,n);const u=t.getTheme(n.theme);r=Df(u.bg,c),i=Df(u.fg,c),o=u.name,l=H0(s)}else throw new Di("Invalid options, either `theme` or `themes` must be provided");return{tokens:s,fg:i,bg:r,themeName:o,rootStyle:a,grammarState:l}}function pw(t,e,n,r={meta:{},options:n,codeToHast:(i,s)=>pw(t,i,s),codeToTokens:(i,s)=>dw(t,i,s)}){var m,_;let i=e;for(const S of hw(n))i=((m=S.preprocess)==null?void 0:m.call(r,i,n))||i;let{tokens:s,fg:o,bg:a,themeName:l,rootStyle:c,grammarState:u}=dw(t,i,n);const{mergeWhitespaces:f=!0}=n;f===!0?s=Qse(s):f==="never"&&(s=eoe(s));const p={...r,get source(){return i}};for(const S of hw(n))s=((_=S.tokens)==null?void 0:_.call(p,s))||s;return Jse(s,{...n,fg:o,bg:a,themeName:l,rootStyle:c},p,u)}function Jse(t,e,n,r=H0(t)){var _,S,w;const i=hw(e),s=[],o={type:"root",children:[]},{structure:a="classic",tabindex:l="0"}=e;let c={type:"element",tagName:"pre",properties:{class:`shiki ${e.themeName||""}`,style:e.rootStyle||`background-color:${e.bg};color:${e.fg}`,...l!==!1&&l!=null?{tabindex:l.toString()}:{},...Object.fromEntries(Array.from(Object.entries(e.meta||{})).filter(([x])=>!x.startsWith("_")))},children:[]},u={type:"element",tagName:"code",properties:{},children:s};const f=[],p={...n,structure:a,addClassToHast:UF,get source(){return n.source},get tokens(){return t},get options(){return e},get root(){return o},get pre(){return c},get code(){return u},get lines(){return f}};if(t.forEach((x,C)=>{var L,R;C&&(a==="inline"?o.children.push({type:"element",tagName:"br",properties:{},children:[]}):a==="classic"&&s.push({type:"text",value:`
`}));let T={type:"element",tagName:"span",properties:{class:"line"},children:[]},A=0;for(const N of x){let z={type:"element",tagName:"span",properties:{...N.htmlAttrs},children:[{type:"text",value:N.content}]};const D=Lse(N.htmlStyle||VF(N));D&&(z.properties.style=D);for(const I of i)z=((L=I==null?void 0:I.span)==null?void 0:L.call(p,z,C+1,A,T,N))||z;a==="inline"?o.children.push(z):a==="classic"&&T.children.push(z),A+=N.content.length}if(a==="classic"){for(const N of i)T=((R=N==null?void 0:N.line)==null?void 0:R.call(p,T,C+1))||T;f.push(T),s.push(T)}}),a==="classic"){for(const x of i)u=((_=x==null?void 0:x.code)==null?void 0:_.call(p,u))||u;c.children.push(u);for(const x of i)c=((S=x==null?void 0:x.pre)==null?void 0:S.call(p,c))||c;o.children.push(c)}let m=o;for(const x of i)m=((w=x==null?void 0:x.root)==null?void 0:w.call(p,m))||m;return r&&F1(m,r),m}function Qse(t){return t.map(e=>{const n=[];let r="",i=0;return e.forEach((s,o)=>{const l=!(s.fontStyle&&s.fontStyle&Nc.Underline);l&&s.content.match(/^\s+$/)&&e[o+1]?(i||(i=s.offset),r+=s.content):r?(l?n.push({...s,offset:i,content:r+s.content}):n.push({content:r,offset:i},s),i=0,r=""):n.push(s)}),n})}function eoe(t){return t.map(e=>e.flatMap(n=>{if(n.content.match(/^\s+$/))return n;const r=n.content.match(/^(\s*)(.*?)(\s*)$/);if(!r)return n;const[,i,s,o]=r;if(!i&&!o)return n;const a=[{...n,offset:n.offset+i.length,content:s}];return i&&a.unshift({content:i,offset:n.offset}),o&&a.push({content:o,offset:n.offset+i.length+s.length}),a}))}const toe=bse;function noe(t,e,n){var s;const r={meta:{},options:n,codeToHast:(o,a)=>pw(t,o,a),codeToTokens:(o,a)=>dw(t,o,a)};let i=toe(pw(t,e,n,r));for(const o of hw(n))i=((s=o.postprocess)==null?void 0:s.call(r,i,n))||i;return i}const RI={light:"#333333",dark:"#bbbbbb"},PI={light:"#fffffe",dark:"#1e1e1e"},LI="__shiki_resolved";function d2(t){var a,l,c,u,f;if(t!=null&&t[LI])return t;const e={...t};e.tokenColors&&!e.settings&&(e.settings=e.tokenColors,delete e.tokenColors),e.type||(e.type="dark"),e.colorReplacements={...e.colorReplacements},e.settings||(e.settings=[]);let{bg:n,fg:r}=e;if(!n||!r){const p=e.settings?e.settings.find(m=>!m.name&&!m.scope):void 0;(a=p==null?void 0:p.settings)!=null&&a.foreground&&(r=p.settings.foreground),(l=p==null?void 0:p.settings)!=null&&l.background&&(n=p.settings.background),!r&&((c=e==null?void 0:e.colors)!=null&&c["editor.foreground"])&&(r=e.colors["editor.foreground"]),!n&&((u=e==null?void 0:e.colors)!=null&&u["editor.background"])&&(n=e.colors["editor.background"]),r||(r=e.type==="light"?RI.light:RI.dark),n||(n=e.type==="light"?PI.light:PI.dark),e.fg=r,e.bg=n}e.settings[0]&&e.settings[0].settings&&!e.settings[0].scope||e.settings.unshift({settings:{foreground:e.fg,background:e.bg}});let i=0;const s=new Map;function o(p){var _;if(s.has(p))return s.get(p);i+=1;const m=`#${i.toString(16).padStart(8,"0").toLowerCase()}`;return(_=e.colorReplacements)!=null&&_[`#${m}`]?o(p):(s.set(p,m),m)}e.settings=e.settings.map(p=>{var w,x;const m=((w=p.settings)==null?void 0:w.foreground)&&!p.settings.foreground.startsWith("#"),_=((x=p.settings)==null?void 0:x.background)&&!p.settings.background.startsWith("#");if(!m&&!_)return p;const S={...p,settings:{...p.settings}};if(m){const C=o(p.settings.foreground);e.colorReplacements[C]=p.settings.foreground,S.settings.foreground=C}if(_){const C=o(p.settings.background);e.colorReplacements[C]=p.settings.background,S.settings.background=C}return S});for(const p of Object.keys(e.colors||{}))if((p==="editor.foreground"||p==="editor.background"||p.startsWith("terminal.ansi"))&&!((f=e.colors[p])!=null&&f.startsWith("#"))){const m=o(e.colors[p]);e.colorReplacements[m]=e.colors[p],e.colors[p]=m}return Object.defineProperty(e,LI,{enumerable:!1,writable:!1,value:!0}),e}async function $F(t){return Array.from(new Set((await Promise.all(t.filter(e=>!FF(e)).map(async e=>await BF(e).then(n=>Array.isArray(n)?n:[n])))).flat()))}async function jF(t){return(await Promise.all(t.map(async n=>zF(n)?null:d2(await BF(n))))).filter(n=>!!n)}let roe=3;function ioe(t,e=3){e>roe||console.trace(`[SHIKI DEPRECATE]: ${t}`)}let Kp=class extends Error{constructor(e){super(e),this.name="ShikiError"}};class soe extends fie{constructor(n,r,i,s={}){super(n);De(this,"_resolvedThemes",new Map);De(this,"_resolvedGrammars",new Map);De(this,"_langMap",new Map);De(this,"_langGraph",new Map);De(this,"_textmateThemeCache",new WeakMap);De(this,"_loadedThemesCache",null);De(this,"_loadedLanguagesCache",null);this._resolver=n,this._themes=r,this._langs=i,this._alias=s,this._themes.map(o=>this.loadTheme(o)),this.loadLanguages(this._langs)}getTheme(n){return typeof n=="string"?this._resolvedThemes.get(n):this.loadTheme(n)}loadTheme(n){const r=d2(n);return r.name&&(this._resolvedThemes.set(r.name,r),this._loadedThemesCache=null),r}getLoadedThemes(){return this._loadedThemesCache||(this._loadedThemesCache=[...this._resolvedThemes.keys()]),this._loadedThemesCache}setTheme(n){let r=this._textmateThemeCache.get(n);r||(r=sw.createFromRawTheme(n),this._textmateThemeCache.set(n,r)),this._syncRegistry.setTheme(r)}getGrammar(n){if(this._alias[n]){const r=new Set([n]);for(;this._alias[n];){if(n=this._alias[n],r.has(n))throw new Kp(`Circular alias \`${Array.from(r).join(" -> ")} -> ${n}\``);r.add(n)}}return this._resolvedGrammars.get(n)}loadLanguage(n){var o,a,l,c;if(this.getGrammar(n.name))return;const r=new Set([...this._langMap.values()].filter(u=>{var f;return(f=u.embeddedLangsLazy)==null?void 0:f.includes(n.name)}));this._resolver.addLanguage(n);const i={balancedBracketSelectors:n.balancedBracketSelectors||["*"],unbalancedBracketSelectors:n.unbalancedBracketSelectors||[]};this._syncRegistry._rawGrammars.set(n.scopeName,n);const s=this.loadGrammarWithConfiguration(n.scopeName,1,i);if(s.name=n.name,this._resolvedGrammars.set(n.name,s),n.aliases&&n.aliases.forEach(u=>{this._alias[u]=n.name}),this._loadedLanguagesCache=null,r.size)for(const u of r)this._resolvedGrammars.delete(u.name),this._loadedLanguagesCache=null,(a=(o=this._syncRegistry)==null?void 0:o._injectionGrammars)==null||a.delete(u.scopeName),(c=(l=this._syncRegistry)==null?void 0:l._grammars)==null||c.delete(u.scopeName),this.loadLanguage(this._langMap.get(u.name))}dispose(){super.dispose(),this._resolvedThemes.clear(),this._resolvedGrammars.clear(),this._langMap.clear(),this._langGraph.clear(),this._loadedThemesCache=null}loadLanguages(n){for(const s of n)this.resolveEmbeddedLanguages(s);const r=Array.from(this._langGraph.entries()),i=r.filter(([s,o])=>!o);if(i.length){const s=r.filter(([o,a])=>{var l;return a&&((l=a.embeddedLangs)==null?void 0:l.some(c=>i.map(([u])=>u).includes(c)))}).filter(o=>!i.includes(o));throw new Kp(`Missing languages ${i.map(([o])=>`\`${o}\``).join(", ")}, required by ${s.map(([o])=>`\`${o}\``).join(", ")}`)}for(const[s,o]of r)this._resolver.addLanguage(o);for(const[s,o]of r)this.loadLanguage(o)}getLoadedLanguages(){return this._loadedLanguagesCache||(this._loadedLanguagesCache=[...new Set([...this._resolvedGrammars.keys(),...Object.keys(this._alias)])]),this._loadedLanguagesCache}resolveEmbeddedLanguages(n){if(this._langMap.set(n.name,n),this._langGraph.set(n.name,n),n.embeddedLangs)for(const r of n.embeddedLangs)this._langGraph.set(r,this._langMap.get(r))}}class ooe{constructor(e,n){De(this,"_langs",new Map);De(this,"_scopeToLang",new Map);De(this,"_injections",new Map);De(this,"_onigLib");this._onigLib={createOnigScanner:r=>e.createScanner(r),createOnigString:r=>e.createString(r)},n.forEach(r=>this.addLanguage(r))}get onigLib(){return this._onigLib}getLangRegistration(e){return this._langs.get(e)}loadGrammar(e){return this._scopeToLang.get(e)}addLanguage(e){this._langs.set(e.name,e),e.aliases&&e.aliases.forEach(n=>{this._langs.set(n,e)}),this._scopeToLang.set(e.scopeName,e),e.injectTo&&e.injectTo.forEach(n=>{this._injections.get(n)||this._injections.set(n,[]),this._injections.get(n).push(e.scopeName)})}getInjections(e){const n=e.split(".");let r=[];for(let i=1;i<=n.length;i++){const s=n.slice(0,i).join(".");r=[...r,...this._injections.get(s)||[]]}return r}}let wy=0;function aoe(t){wy+=1,t.warnings!==!1&&wy>=10&&wy%10===0&&console.warn(`[Shiki] ${wy} instances have been created. Shiki is supposed to be used as a singleton, consider refactoring your code to cache your highlighter instance; Or call \`highlighter.dispose()\` to release unused instances.`);let e=!1;if(!t.engine)throw new Kp("`engine` option is required for synchronous mode");const n=(t.langs||[]).flat(1),r=(t.themes||[]).flat(1).map(d2),i=new ooe(t.engine,n),s=new soe(i,r,n,t.langAlias);let o;function a(C){w();const T=s.getGrammar(typeof C=="string"?C:C.name);if(!T)throw new Kp(`Language \`${C}\` not found, you may need to load it first`);return T}function l(C){if(C==="none")return{bg:"",fg:"",name:"none",settings:[],type:"dark"};w();const T=s.getTheme(C);if(!T)throw new Kp(`Theme \`${C}\` not found, you may need to load it first`);return T}function c(C){w();const T=l(C);o!==C&&(s.setTheme(T),o=C);const A=s.getColorMap();return{theme:T,colorMap:A}}function u(){return w(),s.getLoadedThemes()}function f(){return w(),s.getLoadedLanguages()}function p(...C){w(),s.loadLanguages(C.flat(1))}async function m(...C){return p(await $F(C))}function _(...C){w();for(const T of C.flat(1))s.loadTheme(T)}async function S(...C){return w(),_(await jF(C))}function w(){if(e)throw new Kp("Shiki instance has been disposed")}function x(){e||(e=!0,s.dispose(),wy-=1)}return{setTheme:c,getTheme:l,getLanguage:a,getLoadedThemes:u,getLoadedLanguages:f,loadLanguage:m,loadLanguageSync:p,loadTheme:S,loadThemeSync:_,dispose:x,[Symbol.dispose]:x}}async function loe(t){t.engine||ioe("`engine` option is required. Use `createOnigurumaEngine` or `createJavaScriptRegexEngine` to create an engine.");const[e,n,r]=await Promise.all([jF(t.themes||[]),$F(t.langs||[]),t.engine]);return aoe({...t,themes:e,langs:n,engine:r})}async function coe(t){const e=await loe(t);return{getLastGrammarState:(...n)=>$se(e,...n),codeToTokensBase:(n,r)=>f2(e,n,r),codeToTokensWithThemes:(n,r)=>GF(e,n,r),codeToTokens:(n,r)=>dw(e,n,r),codeToHast:(n,r)=>pw(e,n,r),codeToHtml:(n,r)=>noe(e,n,r),getBundledLanguages:()=>({}),getBundledThemes:()=>({}),...e,getInternalContext:()=>e}}function uoe(t){const e=t.langs,n=t.themes,r=t.engine;async function i(s){function o(f){if(typeof f=="string"){if(FF(f))return[];const p=e[f];if(!p)throw new Di(`Language \`${f}\` is not included in this bundle. You may want to load it from external source.`);return p}return f}function a(f){if(zF(f))return"none";if(typeof f=="string"){const p=n[f];if(!p)throw new Di(`Theme \`${f}\` is not included in this bundle. You may want to load it from external source.`);return p}return f}const l=(s.themes??[]).map(f=>a(f)),c=(s.langs??[]).map(f=>o(f)),u=await coe({engine:s.engine??r(),...s,themes:l,langs:c});return{...u,loadLanguage(...f){return u.loadLanguage(...f.map(o))},loadTheme(...f){return u.loadTheme(...f.map(a))},getBundledLanguages(){return e},getBundledThemes(){return n}}}return i}function hoe(t){let e;async function n(r={}){if(e){const i=await e;return await Promise.all([i.loadTheme(...r.themes||[]),i.loadLanguage(...r.langs||[])]),i}else return e=t({...r,themes:r.themes||[],langs:r.langs||[]}),e}return n}function foe(t,e){const n=hoe(t);async function r(i,s){var l;const o=await n({langs:[s.lang],themes:"theme"in s?[s.theme]:Object.values(s.themes)}),a=await((l=e==null?void 0:e.guessEmbeddedLanguages)==null?void 0:l.call(e,i,s.lang,o));return a&&await o.loadLanguage(...a),o}return{getSingletonHighlighter(i){return n(i)},async codeToHtml(i,s){return(await r(i,s)).codeToHtml(i,s)},async codeToHast(i,s){return(await r(i,s)).codeToHast(i,s)},async codeToTokens(i,s){return(await r(i,s)).codeToTokens(i,s)},async codeToTokensBase(i,s){return(await r(i,s)).codeToTokensBase(i,s)},async codeToTokensWithThemes(i,s){return(await r(i,s)).codeToTokensWithThemes(i,s)},async getLastGrammarState(i,s){return(await n({langs:[s.lang],themes:[s.theme]})).getLastGrammarState(i,s)}}}const qF=[{id:"abap",name:"ABAP",import:()=>W(()=>import("./abap-DsBKuouk.js"),[])},{id:"actionscript-3",name:"ActionScript",import:()=>W(()=>import("./actionscript-3-B_7mSSNY.js"),[])},{id:"ada",name:"Ada",import:()=>W(()=>import("./ada-727ZlQH0.js"),[])},{id:"angular-html",name:"Angular HTML",import:()=>W(()=>import("./angular-html-0A1EF1PY.js").then(t=>t.f),__vite__mapDeps([0,1,2,3]))},{id:"angular-ts",name:"Angular TypeScript",import:()=>W(()=>import("./angular-ts-BQ_2sjHF.js"),__vite__mapDeps([4,0,1,2,3,5]))},{id:"apache",name:"Apache Conf",import:()=>W(()=>import("./apache-Dn00JSTd.js"),[])},{id:"apex",name:"Apex",import:()=>W(()=>import("./apex-COJ4H7py.js"),[])},{id:"apl",name:"APL",import:()=>W(()=>import("./apl-DkRiwRYE.js"),__vite__mapDeps([6,1,2,3,7,8,9]))},{id:"applescript",name:"AppleScript",import:()=>W(()=>import("./applescript-DSrUkfvF.js"),[])},{id:"ara",name:"Ara",import:()=>W(()=>import("./ara-CQ5q8R2W.js"),[])},{id:"asciidoc",name:"AsciiDoc",aliases:["adoc"],import:()=>W(()=>import("./asciidoc-B-_AxZdj.js"),[])},{id:"asm",name:"Assembly",import:()=>W(()=>import("./asm-Dhn9LcZ4.js"),[])},{id:"astro",name:"Astro",import:()=>W(()=>import("./astro-6Nq8D0ds.js"),__vite__mapDeps([10,9,2,11,3,12]))},{id:"awk",name:"AWK",import:()=>W(()=>import("./awk-eg146-Ew.js"),[])},{id:"ballerina",name:"Ballerina",import:()=>W(()=>import("./ballerina-Du268qiB.js"),[])},{id:"bat",name:"Batch File",aliases:["batch"],import:()=>W(()=>import("./bat-fje9CFhw.js"),[])},{id:"beancount",name:"Beancount",import:()=>W(()=>import("./beancount-jY9aw0fr.js"),[])},{id:"berry",name:"Berry",aliases:["be"],import:()=>W(()=>import("./berry-3xVqZejG.js"),[])},{id:"bibtex",name:"BibTeX",import:()=>W(()=>import("./bibtex-xW4inM5L.js"),[])},{id:"bicep",name:"Bicep",import:()=>W(()=>import("./bicep-DHo0CJ0O.js"),[])},{id:"blade",name:"Blade",import:()=>W(()=>import("./blade-BPCFRWwN.js"),__vite__mapDeps([13,1,2,3,7,8,14,9]))},{id:"bsl",name:"1C (Enterprise)",aliases:["1c"],import:()=>W(()=>import("./bsl-0rw82Q3C.js"),__vite__mapDeps([15,16]))},{id:"c",name:"C",import:()=>W(()=>import("./c-C3t2pwGQ.js"),[])},{id:"cadence",name:"Cadence",aliases:["cdc"],import:()=>W(()=>import("./cadence-Olw6fvns.js"),[])},{id:"cairo",name:"Cairo",import:()=>W(()=>import("./cairo-DzT9zD9X.js"),__vite__mapDeps([17,18]))},{id:"clarity",name:"Clarity",import:()=>W(()=>import("./clarity-CeaQPKDP.js"),[])},{id:"clojure",name:"Clojure",aliases:["clj"],import:()=>W(()=>import("./clojure-DxSadP1t.js"),[])},{id:"cmake",name:"CMake",import:()=>W(()=>import("./cmake-DbcauaCG.js"),[])},{id:"cobol",name:"COBOL",import:()=>W(()=>import("./cobol-PXo7EpZU.js"),__vite__mapDeps([19,1,2,3,8]))},{id:"codeowners",name:"CODEOWNERS",import:()=>W(()=>import("./codeowners-Bp6g37R7.js"),[])},{id:"codeql",name:"CodeQL",aliases:["ql"],import:()=>W(()=>import("./codeql-DBtIRQT_.js"),[])},{id:"coffee",name:"CoffeeScript",aliases:["coffeescript"],import:()=>W(()=>import("./coffee-dyiR41kL.js"),__vite__mapDeps([20,2]))},{id:"common-lisp",name:"Common Lisp",aliases:["lisp"],import:()=>W(()=>import("./common-lisp-C7gG9l05.js"),[])},{id:"coq",name:"Coq",import:()=>W(()=>import("./coq-BHyGnp0Z.js"),[])},{id:"cpp",name:"C++",aliases:["c++"],import:()=>W(()=>import("./cpp-DXc6Zn63.js"),__vite__mapDeps([21,22,23,24,14]))},{id:"crystal",name:"Crystal",import:()=>W(()=>import("./crystal-BANhDVLs.js"),__vite__mapDeps([25,1,2,3,14,24,26]))},{id:"csharp",name:"C#",aliases:["c#","cs"],import:()=>W(()=>import("./csharp-C9e09xm7.js"),[])},{id:"css",name:"CSS",import:()=>W(()=>import("./css-BPhBrDlE.js"),[])},{id:"csv",name:"CSV",import:()=>W(()=>import("./csv-B0qRVHPH.js"),[])},{id:"cue",name:"CUE",import:()=>W(()=>import("./cue-DtFQj3wx.js"),[])},{id:"cypher",name:"Cypher",aliases:["cql"],import:()=>W(()=>import("./cypher-Dp08fnRF.js"),[])},{id:"d",name:"D",import:()=>W(()=>import("./d-BoXegm-a.js"),[])},{id:"dart",name:"Dart",import:()=>W(()=>import("./dart-B9wLZaAG.js"),[])},{id:"dax",name:"DAX",import:()=>W(()=>import("./dax-D_iqerNF.js"),[])},{id:"desktop",name:"Desktop",import:()=>W(()=>import("./desktop-DEIpsLCJ.js"),[])},{id:"diff",name:"Diff",import:()=>W(()=>import("./diff-DERFIACx.js"),[])},{id:"docker",name:"Dockerfile",aliases:["dockerfile"],import:()=>W(()=>import("./docker-BcOcwvcX.js"),[])},{id:"dotenv",name:"dotEnv",import:()=>W(()=>import("./dotenv-Ddn3lr0y.js"),[])},{id:"dream-maker",name:"Dream Maker",import:()=>W(()=>import("./dream-maker-2V0Ap-uE.js"),[])},{id:"edge",name:"Edge",import:()=>W(()=>import("./edge-DtcDOGsI.js"),__vite__mapDeps([27,11,1,2,3,28]))},{id:"elixir",name:"Elixir",import:()=>W(()=>import("./elixir-BigP6_ue.js"),__vite__mapDeps([29,1,2,3]))},{id:"elm",name:"Elm",import:()=>W(()=>import("./elm-0zW53zC1.js"),__vite__mapDeps([30,23,24]))},{id:"emacs-lisp",name:"Emacs Lisp",aliases:["elisp"],import:()=>W(()=>import("./emacs-lisp-BX77sIaO.js"),[])},{id:"erb",name:"ERB",import:()=>W(()=>import("./erb-HE-c_T40.js"),__vite__mapDeps([31,1,2,3,32,33,7,8,14,34,11,35,36,21,22,23,24,26,37,38]))},{id:"erlang",name:"Erlang",aliases:["erl"],import:()=>W(()=>import("./erlang-WlOKAcJ7.js"),[])},{id:"fennel",name:"Fennel",import:()=>W(()=>import("./fennel-bCA53EVm.js"),[])},{id:"fish",name:"Fish",import:()=>W(()=>import("./fish-BLmoVg8f.js"),[])},{id:"fluent",name:"Fluent",aliases:["ftl"],import:()=>W(()=>import("./fluent-Dayu4EKP.js"),[])},{id:"fortran-fixed-form",name:"Fortran (Fixed Form)",aliases:["f","for","f77"],import:()=>W(()=>import("./fortran-fixed-form-CMvLjigt.js"),__vite__mapDeps([39,40]))},{id:"fortran-free-form",name:"Fortran (Free Form)",aliases:["f90","f95","f03","f08","f18"],import:()=>W(()=>import("./fortran-free-form-DjP-tqRL.js"),[])},{id:"fsharp",name:"F#",aliases:["f#","fs"],import:()=>W(()=>import("./fsharp-BPKZXYjh.js"),__vite__mapDeps([41,42]))},{id:"gdresource",name:"GDResource",import:()=>W(()=>import("./gdresource-N9nUj_Sl.js"),__vite__mapDeps([43,44,45]))},{id:"gdscript",name:"GDScript",import:()=>W(()=>import("./gdscript-CCbUEAxs.js"),[])},{id:"gdshader",name:"GDShader",import:()=>W(()=>import("./gdshader-SKMF96pI.js"),[])},{id:"genie",name:"Genie",import:()=>W(()=>import("./genie-ajMbGru0.js"),[])},{id:"gherkin",name:"Gherkin",import:()=>W(()=>import("./gherkin--30QC5Em.js"),[])},{id:"git-commit",name:"Git Commit Message",import:()=>W(()=>import("./git-commit-BhPX3RR1.js"),__vite__mapDeps([46,47]))},{id:"git-rebase",name:"Git Rebase Message",import:()=>W(()=>import("./git-rebase-uGYh9tYw.js"),__vite__mapDeps([48,26]))},{id:"gleam",name:"Gleam",import:()=>W(()=>import("./gleam-B430Bg39.js"),[])},{id:"glimmer-js",name:"Glimmer JS",aliases:["gjs"],import:()=>W(()=>import("./glimmer-js-CxrE9ua0.js"),__vite__mapDeps([49,2,11,3,1]))},{id:"glimmer-ts",name:"Glimmer TS",aliases:["gts"],import:()=>W(()=>import("./glimmer-ts-CkqoYwsv.js"),__vite__mapDeps([50,11,3,2,1]))},{id:"glsl",name:"GLSL",import:()=>W(()=>import("./glsl-DBO2IWDn.js"),__vite__mapDeps([23,24]))},{id:"gnuplot",name:"Gnuplot",import:()=>W(()=>import("./gnuplot-CM8KxXT1.js"),[])},{id:"go",name:"Go",import:()=>W(()=>import("./go-Dtn5OO9k.js"),[])},{id:"graphql",name:"GraphQL",aliases:["gql"],import:()=>W(()=>import("./graphql-DCjtUNCr.js"),__vite__mapDeps([34,2,11,35,36]))},{id:"groovy",name:"Groovy",import:()=>W(()=>import("./groovy-Blx2zv3z.js"),[])},{id:"hack",name:"Hack",import:()=>W(()=>import("./hack-oRCDNDMe.js"),__vite__mapDeps([51,1,2,3,14]))},{id:"haml",name:"Ruby Haml",import:()=>W(()=>import("./haml-DeHWu7Vy.js"),__vite__mapDeps([33,2,3]))},{id:"handlebars",name:"Handlebars",aliases:["hbs"],import:()=>W(()=>import("./handlebars-DQyaA0Rc.js"),__vite__mapDeps([52,1,2,3,38]))},{id:"haskell",name:"Haskell",aliases:["hs"],import:()=>W(()=>import("./haskell-CWgbWrzg.js"),[])},{id:"haxe",name:"Haxe",import:()=>W(()=>import("./haxe-C5wWYbrZ.js"),[])},{id:"hcl",name:"HashiCorp HCL",import:()=>W(()=>import("./hcl-CucaAMjX.js"),[])},{id:"hjson",name:"Hjson",import:()=>W(()=>import("./hjson-T-Tgc4AT.js"),[])},{id:"hlsl",name:"HLSL",import:()=>W(()=>import("./hlsl-ifBTmRxC.js"),[])},{id:"html",name:"HTML",import:()=>W(()=>import("./html-Dy5dLvcr.js"),__vite__mapDeps([1,2,3]))},{id:"html-derivative",name:"HTML (Derivative)",import:()=>W(()=>import("./html-derivative-CAzaCcJ8.js"),__vite__mapDeps([28,1,2,3]))},{id:"http",name:"HTTP",import:()=>W(()=>import("./http-D7RGPc5S.js"),__vite__mapDeps([53,26,9,7,8,34,2,11,35,36]))},{id:"hxml",name:"HXML",import:()=>W(()=>import("./hxml-TIA70rKU.js"),__vite__mapDeps([54,55]))},{id:"hy",name:"Hy",import:()=>W(()=>import("./hy-BMj5Y0dO.js"),[])},{id:"imba",name:"Imba",import:()=>W(()=>import("./imba-bv_oIlVt.js"),__vite__mapDeps([56,11]))},{id:"ini",name:"INI",aliases:["properties"],import:()=>W(()=>import("./ini-BjABl1g7.js"),[])},{id:"java",name:"Java",import:()=>W(()=>import("./java-xI-RfyKK.js"),[])},{id:"javascript",name:"JavaScript",aliases:["js"],import:()=>W(()=>import("./javascript-ySlJ1b_l.js"),[])},{id:"jinja",name:"Jinja",import:()=>W(()=>import("./jinja-V0eE2z2R.js"),__vite__mapDeps([57,1,2,3]))},{id:"jison",name:"Jison",import:()=>W(()=>import("./jison-BqZprYcd.js"),__vite__mapDeps([58,2]))},{id:"json",name:"JSON",import:()=>W(()=>import("./json-DTAJTTim.js"),[])},{id:"json5",name:"JSON5",import:()=>W(()=>import("./json5-BLCLeV30.js"),[])},{id:"jsonc",name:"JSON with Comments",import:()=>W(()=>import("./jsonc-CR_dl2Bk.js"),[])},{id:"jsonl",name:"JSON Lines",import:()=>W(()=>import("./jsonl-YSxxb8je.js"),[])},{id:"jsonnet",name:"Jsonnet",import:()=>W(()=>import("./jsonnet-BfivnA6A.js"),[])},{id:"jssm",name:"JSSM",aliases:["fsl"],import:()=>W(()=>import("./jssm-CQPZbkWf.js"),[])},{id:"jsx",name:"JSX",import:()=>W(()=>import("./jsx-BAng5TT0.js"),[])},{id:"julia",name:"Julia",aliases:["jl"],import:()=>W(()=>import("./julia-B15RSDUV.js"),__vite__mapDeps([59,21,22,23,24,14,18,2,60]))},{id:"kotlin",name:"Kotlin",aliases:["kt","kts"],import:()=>W(()=>import("./kotlin-B5lbUyaz.js"),[])},{id:"kusto",name:"Kusto",aliases:["kql"],import:()=>W(()=>import("./kusto-BZ4qjH1z.js"),[])},{id:"latex",name:"LaTeX",import:()=>W(()=>import("./latex-B7S_v0-W.js"),__vite__mapDeps([61,62,60]))},{id:"lean",name:"Lean 4",aliases:["lean4"],import:()=>W(()=>import("./lean-XBlWyCtg.js"),[])},{id:"less",name:"Less",import:()=>W(()=>import("./less-BR4n0CG2.js"),[])},{id:"liquid",name:"Liquid",import:()=>W(()=>import("./liquid-ChyiIx6a.js"),__vite__mapDeps([63,1,2,3,9]))},{id:"log",name:"Log file",import:()=>W(()=>import("./log-Cc5clBb7.js"),[])},{id:"logo",name:"Logo",import:()=>W(()=>import("./logo-IuBKFhSY.js"),[])},{id:"lua",name:"Lua",import:()=>W(()=>import("./lua-CvWAzNxB.js"),__vite__mapDeps([37,24]))},{id:"luau",name:"Luau",import:()=>W(()=>import("./luau-Du5NY7AG.js"),[])},{id:"make",name:"Makefile",aliases:["makefile"],import:()=>W(()=>import("./make-Bvotw-X0.js"),[])},{id:"markdown",name:"Markdown",aliases:["md"],import:()=>W(()=>import("./markdown-BDiHrqA7.js"),[])},{id:"marko",name:"Marko",import:()=>W(()=>import("./marko-DL0akeRX.js"),__vite__mapDeps([64,3,65,5,2]))},{id:"matlab",name:"MATLAB",import:()=>W(()=>import("./matlab-C4-SGcC-.js"),[])},{id:"mdc",name:"MDC",import:()=>W(()=>import("./mdc-CGDDvl7x.js"),__vite__mapDeps([66,42,38,28,1,2,3]))},{id:"mdx",name:"MDX",import:()=>W(()=>import("./mdx-sdHcTMYB.js"),[])},{id:"mermaid",name:"Mermaid",aliases:["mmd"],import:()=>W(()=>import("./mermaid-D3T736Ml.js"),[])},{id:"mipsasm",name:"MIPS Assembly",aliases:["mips"],import:()=>W(()=>import("./mipsasm-D08_rs9c.js"),[])},{id:"mojo",name:"Mojo",import:()=>W(()=>import("./mojo-tpHetfZQ.js"),[])},{id:"move",name:"Move",import:()=>W(()=>import("./move-C1YtDkjL.js"),[])},{id:"narrat",name:"Narrat Language",aliases:["nar"],import:()=>W(()=>import("./narrat-DLbgOhZU.js"),[])},{id:"nextflow",name:"Nextflow",aliases:["nf"],import:()=>W(()=>import("./nextflow-B0XVJmRM.js"),[])},{id:"nginx",name:"Nginx",import:()=>W(()=>import("./nginx-D_VnBJ67.js"),__vite__mapDeps([67,37,24]))},{id:"nim",name:"Nim",import:()=>W(()=>import("./nim-Chhr1h2T.js"),__vite__mapDeps([68,24,1,2,3,7,8,23,42]))},{id:"nix",name:"Nix",import:()=>W(()=>import("./nix-Bjjh7dxw.js"),[])},{id:"nushell",name:"nushell",aliases:["nu"],import:()=>W(()=>import("./nushell-BekpkmYp.js"),[])},{id:"objective-c",name:"Objective-C",aliases:["objc"],import:()=>W(()=>import("./objective-c-BWx0ALLs.js"),[])},{id:"objective-cpp",name:"Objective-C++",import:()=>W(()=>import("./objective-cpp-aBZrgJR0.js"),[])},{id:"ocaml",name:"OCaml",import:()=>W(()=>import("./ocaml-BNioltXt.js"),[])},{id:"pascal",name:"Pascal",import:()=>W(()=>import("./pascal-JqZropPD.js"),[])},{id:"perl",name:"Perl",import:()=>W(()=>import("./perl-DO8QnyoS.js"),__vite__mapDeps([69,1,2,3,7,8,14]))},{id:"php",name:"PHP",import:()=>W(()=>import("./php-udX19NJh.js"),__vite__mapDeps([70,1,2,3,7,8,14,9]))},{id:"plsql",name:"PL/SQL",import:()=>W(()=>import("./plsql-LKU2TuZ1.js"),[])},{id:"po",name:"Gettext PO",aliases:["pot","potx"],import:()=>W(()=>import("./po--71hrkjd.js"),[])},{id:"polar",name:"Polar",import:()=>W(()=>import("./polar-sY1Cc3Se.js"),[])},{id:"postcss",name:"PostCSS",import:()=>W(()=>import("./postcss-B3ZDOciz.js"),[])},{id:"powerquery",name:"PowerQuery",import:()=>W(()=>import("./powerquery-CSHBycmS.js"),[])},{id:"powershell",name:"PowerShell",aliases:["ps","ps1"],import:()=>W(()=>import("./powershell-BXl-Qilg.js"),[])},{id:"prisma",name:"Prisma",import:()=>W(()=>import("./prisma-B48N-Iqd.js"),[])},{id:"prolog",name:"Prolog",import:()=>W(()=>import("./prolog-BY-TUvya.js"),[])},{id:"proto",name:"Protocol Buffer 3",aliases:["protobuf"],import:()=>W(()=>import("./proto-zocC4JxJ.js"),[])},{id:"pug",name:"Pug",aliases:["jade"],import:()=>W(()=>import("./pug-VMgWr3jy.js"),__vite__mapDeps([71,2,3,1]))},{id:"puppet",name:"Puppet",import:()=>W(()=>import("./puppet-COl1u60l.js"),[])},{id:"purescript",name:"PureScript",import:()=>W(()=>import("./purescript-Bg-kzb6g.js"),[])},{id:"python",name:"Python",aliases:["py"],import:()=>W(()=>import("./python-DBPt_AfP.js"),[])},{id:"qml",name:"QML",import:()=>W(()=>import("./qml-D8XfuvdV.js"),__vite__mapDeps([72,2]))},{id:"qmldir",name:"QML Directory",import:()=>W(()=>import("./qmldir-C8lEn-DE.js"),[])},{id:"qss",name:"Qt Style Sheets",import:()=>W(()=>import("./qss-DhMKtDLN.js"),[])},{id:"r",name:"R",import:()=>W(()=>import("./r-CwjWoCRV.js"),[])},{id:"racket",name:"Racket",import:()=>W(()=>import("./racket-CzouJOBO.js"),[])},{id:"raku",name:"Raku",aliases:["perl6"],import:()=>W(()=>import("./raku-B1bQXN8T.js"),[])},{id:"razor",name:"ASP.NET Razor",import:()=>W(()=>import("./razor-AC3CASG2.js"),__vite__mapDeps([73,1,2,3,74]))},{id:"reg",name:"Windows Registry Script",import:()=>W(()=>import("./reg-5LuOXUq_.js"),[])},{id:"regexp",name:"RegExp",aliases:["regex"],import:()=>W(()=>import("./regexp-DFERiEu9.js"),[])},{id:"rel",name:"Rel",import:()=>W(()=>import("./rel-DJlmqQ1C.js"),[])},{id:"riscv",name:"RISC-V",import:()=>W(()=>import("./riscv-BAxNRJcx.js"),[])},{id:"rst",name:"reStructuredText",import:()=>W(()=>import("./rst-DOyLYcpU.js"),__vite__mapDeps([75,28,1,2,3,21,22,23,24,14,18,26,38,76,32,33,7,8,34,11,35,36,37]))},{id:"ruby",name:"Ruby",aliases:["rb"],import:()=>W(()=>import("./ruby-BWnuaWfc.js"),__vite__mapDeps([32,1,2,3,33,7,8,14,34,11,35,36,21,22,23,24,26,37,38]))},{id:"rust",name:"Rust",aliases:["rs"],import:()=>W(()=>import("./rust-Cg69lM4A.js"),[])},{id:"sas",name:"SAS",import:()=>W(()=>import("./sas-CCCYgBRj.js"),__vite__mapDeps([77,14]))},{id:"sass",name:"Sass",import:()=>W(()=>import("./sass-DjCbjd0V.js"),[])},{id:"scala",name:"Scala",import:()=>W(()=>import("./scala-DPWDxuKt.js"),[])},{id:"scheme",name:"Scheme",import:()=>W(()=>import("./scheme-D8P4R8x9.js"),[])},{id:"scss",name:"SCSS",import:()=>W(()=>import("./scss-C31hgJw-.js"),__vite__mapDeps([5,3]))},{id:"sdbl",name:"1C (Query)",aliases:["1c-query"],import:()=>W(()=>import("./sdbl-CSHvh9SD.js"),[])},{id:"shaderlab",name:"ShaderLab",aliases:["shader"],import:()=>W(()=>import("./shaderlab-B7qAK45m.js"),__vite__mapDeps([78,79]))},{id:"shellscript",name:"Shell",aliases:["bash","sh","shell","zsh"],import:()=>W(()=>import("./shellscript-CWGUrYGm.js"),[])},{id:"shellsession",name:"Shell Session",aliases:["console"],import:()=>W(()=>import("./shellsession-DN36oS-i.js"),__vite__mapDeps([80,26]))},{id:"smalltalk",name:"Smalltalk",import:()=>W(()=>import("./smalltalk-RJ4jLoVH.js"),[])},{id:"solidity",name:"Solidity",import:()=>W(()=>import("./solidity-C1w2a3ep.js"),[])},{id:"soy",name:"Closure Templates",aliases:["closure-templates"],import:()=>W(()=>import("./soy-CxmeJsH_.js"),__vite__mapDeps([81,1,2,3]))},{id:"sparql",name:"SPARQL",import:()=>W(()=>import("./sparql-bYkjHRlG.js"),__vite__mapDeps([82,83]))},{id:"splunk",name:"Splunk Query Language",aliases:["spl"],import:()=>W(()=>import("./splunk-a8RH-YUw.js"),[])},{id:"sql",name:"SQL",import:()=>W(()=>import("./sql-BBT0u3iQ.js"),[])},{id:"ssh-config",name:"SSH Config",import:()=>W(()=>import("./ssh-config-BknIz3MU.js"),[])},{id:"stata",name:"Stata",import:()=>W(()=>import("./stata-CXDRq8TI.js"),__vite__mapDeps([84,14]))},{id:"stylus",name:"Stylus",aliases:["styl"],import:()=>W(()=>import("./stylus-Cbu_jgUK.js"),[])},{id:"svelte",name:"Svelte",import:()=>W(()=>import("./svelte-MSaWC3Je.js"),__vite__mapDeps([85,2,11,3,12]))},{id:"swift",name:"Swift",import:()=>W(()=>import("./swift-BSxZ-RaX.js"),[])},{id:"system-verilog",name:"SystemVerilog",import:()=>W(()=>import("./system-verilog-C7L56vO4.js"),[])},{id:"systemd",name:"Systemd Units",import:()=>W(()=>import("./systemd-CUnW07Te.js"),[])},{id:"talonscript",name:"TalonScript",aliases:["talon"],import:()=>W(()=>import("./talonscript-yNdrVPqT.js"),[])},{id:"tasl",name:"Tasl",import:()=>W(()=>import("./tasl-CQjiPCtT.js"),[])},{id:"tcl",name:"Tcl",import:()=>W(()=>import("./tcl-C5AohmeQ.js"),[])},{id:"templ",name:"Templ",import:()=>W(()=>import("./templ-BIXQ7kZj.js"),__vite__mapDeps([86,87,2,3]))},{id:"terraform",name:"Terraform",aliases:["tf","tfvars"],import:()=>W(()=>import("./terraform-eHy1PpK4.js"),[])},{id:"tex",name:"TeX",import:()=>W(()=>import("./tex-rYs2v40G.js"),__vite__mapDeps([62,60]))},{id:"toml",name:"TOML",import:()=>W(()=>import("./toml-8jXJkYXT.js"),[])},{id:"ts-tags",name:"TypeScript with Tags",aliases:["lit"],import:()=>W(()=>import("./ts-tags-D3g7xtbE.js"),__vite__mapDeps([88,11,3,2,23,24,1,14,7,8]))},{id:"tsv",name:"TSV",import:()=>W(()=>import("./tsv-B_m7g4N7.js"),[])},{id:"tsx",name:"TSX",import:()=>W(()=>import("./tsx-B6W0miNI.js"),[])},{id:"turtle",name:"Turtle",import:()=>W(()=>import("./turtle-BMR_PYu6.js"),[])},{id:"twig",name:"Twig",import:()=>W(()=>import("./twig-C4FN8sXG.js"),__vite__mapDeps([89,3,2,5,70,1,7,8,14,9,18,32,33,34,11,35,36,21,22,23,24,26,37,38]))},{id:"typescript",name:"TypeScript",aliases:["ts"],import:()=>W(()=>import("./typescript-Dj6nwHGl.js"),[])},{id:"typespec",name:"TypeSpec",aliases:["tsp"],import:()=>W(()=>import("./typespec-BpWG_bgh.js"),[])},{id:"typst",name:"Typst",aliases:["typ"],import:()=>W(()=>import("./typst-CX-D33aM.js"),[])},{id:"v",name:"V",import:()=>W(()=>import("./v-CAQ2eGtk.js"),[])},{id:"vala",name:"Vala",import:()=>W(()=>import("./vala-BFOHcciG.js"),[])},{id:"vb",name:"Visual Basic",aliases:["cmd"],import:()=>W(()=>import("./vb-CdO5JTpU.js"),[])},{id:"verilog",name:"Verilog",import:()=>W(()=>import("./verilog-CJaU5se_.js"),[])},{id:"vhdl",name:"VHDL",import:()=>W(()=>import("./vhdl-DYoNaHQp.js"),[])},{id:"viml",name:"Vim Script",aliases:["vim","vimscript"],import:()=>W(()=>import("./viml-m4uW47V2.js"),[])},{id:"vue",name:"Vue",import:()=>W(()=>import("./vue-BIMzvBW9.js"),__vite__mapDeps([90,1,2,3,11,9,28]))},{id:"vue-html",name:"Vue HTML",import:()=>W(()=>import("./vue-html-D8tnVLkD.js"),__vite__mapDeps([91,90,1,2,3,11,9,28]))},{id:"vyper",name:"Vyper",aliases:["vy"],import:()=>W(()=>import("./vyper-BzEH12SI.js"),[])},{id:"wasm",name:"WebAssembly",import:()=>W(()=>import("./wasm-ISJeQQUc.js"),[])},{id:"wenyan",name:"Wenyan",aliases:["文言"],import:()=>W(()=>import("./wenyan-7A4Fjokl.js"),[])},{id:"wgsl",name:"WGSL",import:()=>W(()=>import("./wgsl-mD5xMClh.js"),[])},{id:"wikitext",name:"Wikitext",aliases:["mediawiki","wiki"],import:()=>W(()=>import("./wikitext-DCE3LsBG.js"),[])},{id:"wolfram",name:"Wolfram",aliases:["wl"],import:()=>W(()=>import("./wolfram-C3FkfJm5.js"),[])},{id:"xml",name:"XML",import:()=>W(()=>import("./xml-e3z08dGr.js"),__vite__mapDeps([7,8]))},{id:"xsl",name:"XSL",import:()=>W(()=>import("./xsl-Dd0NUgwM.js"),__vite__mapDeps([92,7,8]))},{id:"yaml",name:"YAML",aliases:["yml"],import:()=>W(()=>import("./yaml-CVw76BM1.js"),[])},{id:"zenscript",name:"ZenScript",import:()=>W(()=>import("./zenscript-ulE5f4OK.js"),[])},{id:"zig",name:"Zig",import:()=>W(()=>import("./zig-DFAwn6Qs.js"),[])}],doe=Object.fromEntries(qF.map(t=>[t.id,t.import])),poe=Object.fromEntries(qF.flatMap(t=>{var e;return((e=t.aliases)==null?void 0:e.map(n=>[n,t.import]))||[]})),moe={...doe,...poe},goe=[{id:"andromeeda",displayName:"Andromeeda",type:"dark",import:()=>W(()=>import("./andromeeda-C3khCPGq.js"),[])},{id:"aurora-x",displayName:"Aurora X",type:"dark",import:()=>W(()=>import("./aurora-x-D-2ljcwZ.js"),[])},{id:"ayu-dark",displayName:"Ayu Dark",type:"dark",import:()=>W(()=>import("./ayu-dark-Cv9koXgw.js"),[])},{id:"catppuccin-frappe",displayName:"Catppuccin Frappé",type:"dark",import:()=>W(()=>import("./catppuccin-frappe-CD_QflpE.js"),[])},{id:"catppuccin-latte",displayName:"Catppuccin Latte",type:"light",import:()=>W(()=>import("./catppuccin-latte-DRW-0cLl.js"),[])},{id:"catppuccin-macchiato",displayName:"Catppuccin Macchiato",type:"dark",import:()=>W(()=>import("./catppuccin-macchiato-C-_shW-Y.js"),[])},{id:"catppuccin-mocha",displayName:"Catppuccin Mocha",type:"dark",import:()=>W(()=>import("./catppuccin-mocha-LGGdnPYs.js"),[])},{id:"dark-plus",displayName:"Dark Plus",type:"dark",import:()=>W(()=>import("./dark-plus-C3mMm8J8.js"),[])},{id:"dracula",displayName:"Dracula Theme",type:"dark",import:()=>W(()=>import("./dracula-BzJJZx-M.js"),[])},{id:"dracula-soft",displayName:"Dracula Theme Soft",type:"dark",import:()=>W(()=>import("./dracula-soft-BXkSAIEj.js"),[])},{id:"everforest-dark",displayName:"Everforest Dark",type:"dark",import:()=>W(()=>import("./everforest-dark-BgDCqdQA.js"),[])},{id:"everforest-light",displayName:"Everforest Light",type:"light",import:()=>W(()=>import("./everforest-light-C8M2exoo.js"),[])},{id:"github-dark",displayName:"GitHub Dark",type:"dark",import:()=>W(()=>import("./github-dark-DHJKELXO.js"),[])},{id:"github-dark-default",displayName:"GitHub Dark Default",type:"dark",import:()=>W(()=>import("./github-dark-default-Cuk6v7N8.js"),[])},{id:"github-dark-dimmed",displayName:"GitHub Dark Dimmed",type:"dark",import:()=>W(()=>import("./github-dark-dimmed-DH5Ifo-i.js"),[])},{id:"github-dark-high-contrast",displayName:"GitHub Dark High Contrast",type:"dark",import:()=>W(()=>import("./github-dark-high-contrast-E3gJ1_iC.js"),[])},{id:"github-light",displayName:"GitHub Light",type:"light",import:()=>W(()=>import("./github-light-DAi9KRSo.js"),[])},{id:"github-light-default",displayName:"GitHub Light Default",type:"light",import:()=>W(()=>import("./github-light-default-D7oLnXFd.js"),[])},{id:"github-light-high-contrast",displayName:"GitHub Light High Contrast",type:"light",import:()=>W(()=>import("./github-light-high-contrast-BfjtVDDH.js"),[])},{id:"houston",displayName:"Houston",type:"dark",import:()=>W(()=>import("./houston-DnULxvSX.js"),[])},{id:"kanagawa-dragon",displayName:"Kanagawa Dragon",type:"dark",import:()=>W(()=>import("./kanagawa-dragon-CkXjmgJE.js"),[])},{id:"kanagawa-lotus",displayName:"Kanagawa Lotus",type:"light",import:()=>W(()=>import("./kanagawa-lotus-CfQXZHmo.js"),[])},{id:"kanagawa-wave",displayName:"Kanagawa Wave",type:"dark",import:()=>W(()=>import("./kanagawa-wave-DWedfzmr.js"),[])},{id:"laserwave",displayName:"LaserWave",type:"dark",import:()=>W(()=>import("./laserwave-DUszq2jm.js"),[])},{id:"light-plus",displayName:"Light Plus",type:"light",import:()=>W(()=>import("./light-plus-B7mTdjB0.js"),[])},{id:"material-theme",displayName:"Material Theme",type:"dark",import:()=>W(()=>import("./material-theme-D5KoaKCx.js"),[])},{id:"material-theme-darker",displayName:"Material Theme Darker",type:"dark",import:()=>W(()=>import("./material-theme-darker-BfHTSMKl.js"),[])},{id:"material-theme-lighter",displayName:"Material Theme Lighter",type:"light",import:()=>W(()=>import("./material-theme-lighter-B0m2ddpp.js"),[])},{id:"material-theme-ocean",displayName:"Material Theme Ocean",type:"dark",import:()=>W(()=>import("./material-theme-ocean-CyktbL80.js"),[])},{id:"material-theme-palenight",displayName:"Material Theme Palenight",type:"dark",import:()=>W(()=>import("./material-theme-palenight-Csfq5Kiy.js"),[])},{id:"min-dark",displayName:"Min Dark",type:"dark",import:()=>W(()=>import("./min-dark-CafNBF8u.js"),[])},{id:"min-light",displayName:"Min Light",type:"light",import:()=>W(()=>import("./min-light-CTRr51gU.js"),[])},{id:"monokai",displayName:"Monokai",type:"dark",import:()=>W(()=>import("./monokai-D4h5O-jR.js"),[])},{id:"night-owl",displayName:"Night Owl",type:"dark",import:()=>W(()=>import("./night-owl-C39BiMTA.js"),[])},{id:"nord",displayName:"Nord",type:"dark",import:()=>W(()=>import("./nord-Ddv68eIx.js"),[])},{id:"one-dark-pro",displayName:"One Dark Pro",type:"dark",import:()=>W(()=>import("./one-dark-pro-DVMEJ2y_.js"),[])},{id:"one-light",displayName:"One Light",type:"light",import:()=>W(()=>import("./one-light-PoHY5YXO.js"),[])},{id:"plastic",displayName:"Plastic",type:"dark",import:()=>W(()=>import("./plastic-3e1v2bzS.js"),[])},{id:"poimandres",displayName:"Poimandres",type:"dark",import:()=>W(()=>import("./poimandres-CS3Unz2-.js"),[])},{id:"red",displayName:"Red",type:"dark",import:()=>W(()=>import("./red-bN70gL4F.js"),[])},{id:"rose-pine",displayName:"Rosé Pine",type:"dark",import:()=>W(()=>import("./rose-pine-CmCqftbK.js"),[])},{id:"rose-pine-dawn",displayName:"Rosé Pine Dawn",type:"light",import:()=>W(()=>import("./rose-pine-dawn-Ds-gbosJ.js"),[])},{id:"rose-pine-moon",displayName:"Rosé Pine Moon",type:"dark",import:()=>W(()=>import("./rose-pine-moon-CjDtw9vr.js"),[])},{id:"slack-dark",displayName:"Slack Dark",type:"dark",import:()=>W(()=>import("./slack-dark-BthQWCQV.js"),[])},{id:"slack-ochin",displayName:"Slack Ochin",type:"light",import:()=>W(()=>import("./slack-ochin-DqwNpetd.js"),[])},{id:"snazzy-light",displayName:"Snazzy Light",type:"light",import:()=>W(()=>import("./snazzy-light-Bw305WKR.js"),[])},{id:"solarized-dark",displayName:"Solarized Dark",type:"dark",import:()=>W(()=>import("./solarized-dark-DXbdFlpD.js"),[])},{id:"solarized-light",displayName:"Solarized Light",type:"light",import:()=>W(()=>import("./solarized-light-L9t79GZl.js"),[])},{id:"synthwave-84",displayName:"Synthwave '84",type:"dark",import:()=>W(()=>import("./synthwave-84-CbfX1IO0.js"),[])},{id:"tokyo-night",displayName:"Tokyo Night",type:"dark",import:()=>W(()=>import("./tokyo-night-hegEt444.js"),[])},{id:"vesper",displayName:"Vesper",type:"dark",import:()=>W(()=>import("./vesper-BEBZ7ncR.js"),[])},{id:"vitesse-black",displayName:"Vitesse Black",type:"dark",import:()=>W(()=>import("./vitesse-black-Bkuqu6BP.js"),[])},{id:"vitesse-dark",displayName:"Vitesse Dark",type:"dark",import:()=>W(()=>import("./vitesse-dark-D0r3Knsf.js"),[])},{id:"vitesse-light",displayName:"Vitesse Light",type:"light",import:()=>W(()=>import("./vitesse-light-CVO1_9PV.js"),[])}],yoe=Object.fromEntries(goe.map(t=>[t.id,t.import]));class p2 extends Error{constructor(e){super(e),this.name="ShikiError"}}function _oe(){return 2147483648}function voe(){return typeof performance<"u"?performance.now():Date.now()}const xoe=(t,e)=>t+(e-t%e)%e;async function Soe(t){let e,n;const r={};function i(m){n=m,r.HEAPU8=new Uint8Array(m),r.HEAPU32=new Uint32Array(m)}function s(m,_,S){r.HEAPU8.copyWithin(m,_,_+S)}function o(m){try{return e.grow(m-n.byteLength+65535>>>16),i(e.buffer),1}catch{}}function a(m){const _=r.HEAPU8.length;m=m>>>0;const S=_oe();if(m>S)return!1;for(let w=1;w<=4;w*=2){let x=_*(1+.2/w);x=Math.min(x,m+100663296);const C=Math.min(S,xoe(Math.max(m,x),65536));if(o(C))return!0}return!1}const l=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function c(m,_,S=1024){const w=_+S;let x=_;for(;m[x]&&!(x>=w);)++x;if(x-_>16&&m.buffer&&l)return l.decode(m.subarray(_,x));let C="";for(;_<x;){let T=m[_++];if(!(T&128)){C+=String.fromCharCode(T);continue}const A=m[_++]&63;if((T&224)===192){C+=String.fromCharCode((T&31)<<6|A);continue}const L=m[_++]&63;if((T&240)===224?T=(T&15)<<12|A<<6|L:T=(T&7)<<18|A<<12|L<<6|m[_++]&63,T<65536)C+=String.fromCharCode(T);else{const R=T-65536;C+=String.fromCharCode(55296|R>>10,56320|R&1023)}}return C}function u(m,_){return m?c(r.HEAPU8,m,_):""}const f={emscripten_get_now:voe,emscripten_memcpy_big:s,emscripten_resize_heap:a,fd_write:()=>0};async function p(){const _=await t({env:f,wasi_snapshot_preview1:f});e=_.memory,i(e.buffer),Object.assign(r,_),r.UTF8ToString=u}return await p(),r}var woe=Object.defineProperty,boe=(t,e,n)=>e in t?woe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gi=(t,e,n)=>(boe(t,typeof e!="symbol"?e+"":e,n),n);let Ii=null;function Eoe(t){throw new p2(t.UTF8ToString(t.getLastOnigError()))}class z1{constructor(e){gi(this,"utf16Length"),gi(this,"utf8Length"),gi(this,"utf16Value"),gi(this,"utf8Value"),gi(this,"utf16OffsetToUtf8"),gi(this,"utf8OffsetToUtf16");const n=e.length,r=z1._utf8ByteLength(e),i=r!==n,s=i?new Uint32Array(n+1):null;i&&(s[n]=r);const o=i?new Uint32Array(r+1):null;i&&(o[r]=n);const a=new Uint8Array(r);let l=0;for(let c=0;c<n;c++){const u=e.charCodeAt(c);let f=u,p=!1;if(u>=55296&&u<=56319&&c+1<n){const m=e.charCodeAt(c+1);m>=56320&&m<=57343&&(f=(u-55296<<10)+65536|m-56320,p=!0)}i&&(s[c]=l,p&&(s[c+1]=l),f<=127?o[l+0]=c:f<=2047?(o[l+0]=c,o[l+1]=c):f<=65535?(o[l+0]=c,o[l+1]=c,o[l+2]=c):(o[l+0]=c,o[l+1]=c,o[l+2]=c,o[l+3]=c)),f<=127?a[l++]=f:f<=2047?(a[l++]=192|(f&1984)>>>6,a[l++]=128|(f&63)>>>0):f<=65535?(a[l++]=224|(f&61440)>>>12,a[l++]=128|(f&4032)>>>6,a[l++]=128|(f&63)>>>0):(a[l++]=240|(f&1835008)>>>18,a[l++]=128|(f&258048)>>>12,a[l++]=128|(f&4032)>>>6,a[l++]=128|(f&63)>>>0),p&&c++}this.utf16Length=n,this.utf8Length=r,this.utf16Value=e,this.utf8Value=a,this.utf16OffsetToUtf8=s,this.utf8OffsetToUtf16=o}static _utf8ByteLength(e){let n=0;for(let r=0,i=e.length;r<i;r++){const s=e.charCodeAt(r);let o=s,a=!1;if(s>=55296&&s<=56319&&r+1<i){const l=e.charCodeAt(r+1);l>=56320&&l<=57343&&(o=(s-55296<<10)+65536|l-56320,a=!0)}o<=127?n+=1:o<=2047?n+=2:o<=65535?n+=3:n+=4,a&&r++}return n}createString(e){const n=e.omalloc(this.utf8Length);return e.HEAPU8.set(this.utf8Value,n),n}}const ml=class{constructor(t){if(gi(this,"id",++ml.LAST_ID),gi(this,"_onigBinding"),gi(this,"content"),gi(this,"utf16Length"),gi(this,"utf8Length"),gi(this,"utf16OffsetToUtf8"),gi(this,"utf8OffsetToUtf16"),gi(this,"ptr"),!Ii)throw new p2("Must invoke loadWasm first.");this._onigBinding=Ii,this.content=t;const e=new z1(t);this.utf16Length=e.utf16Length,this.utf8Length=e.utf8Length,this.utf16OffsetToUtf8=e.utf16OffsetToUtf8,this.utf8OffsetToUtf16=e.utf8OffsetToUtf16,this.utf8Length<1e4&&!ml._sharedPtrInUse?(ml._sharedPtr||(ml._sharedPtr=Ii.omalloc(1e4)),ml._sharedPtrInUse=!0,Ii.HEAPU8.set(e.utf8Value,ml._sharedPtr),this.ptr=ml._sharedPtr):this.ptr=e.createString(Ii)}convertUtf8OffsetToUtf16(t){return this.utf8OffsetToUtf16?t<0?0:t>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[t]:t}convertUtf16OffsetToUtf8(t){return this.utf16OffsetToUtf8?t<0?0:t>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[t]:t}dispose(){this.ptr===ml._sharedPtr?ml._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let y_=ml;gi(y_,"LAST_ID",0);gi(y_,"_sharedPtr",0);gi(y_,"_sharedPtrInUse",!1);class Coe{constructor(e){if(gi(this,"_onigBinding"),gi(this,"_ptr"),!Ii)throw new p2("Must invoke loadWasm first.");const n=[],r=[];for(let a=0,l=e.length;a<l;a++){const c=new z1(e[a]);n[a]=c.createString(Ii),r[a]=c.utf8Length}const i=Ii.omalloc(4*e.length);Ii.HEAPU32.set(n,i/4);const s=Ii.omalloc(4*e.length);Ii.HEAPU32.set(r,s/4);const o=Ii.createOnigScanner(i,s,e.length);for(let a=0,l=e.length;a<l;a++)Ii.ofree(n[a]);Ii.ofree(s),Ii.ofree(i),o===0&&Eoe(Ii),this._onigBinding=Ii,this._ptr=o}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(e,n,r){let i=0;if(typeof r=="number"&&(i=r),typeof e=="string"){e=new y_(e);const s=this._findNextMatchSync(e,n,!1,i);return e.dispose(),s}return this._findNextMatchSync(e,n,!1,i)}_findNextMatchSync(e,n,r,i){const s=this._onigBinding,o=s.findNextOnigScannerMatch(this._ptr,e.id,e.ptr,e.utf8Length,e.convertUtf16OffsetToUtf8(n),i);if(o===0)return null;const a=s.HEAPU32;let l=o/4;const c=a[l++],u=a[l++],f=[];for(let p=0;p<u;p++){const m=e.convertUtf8OffsetToUtf16(a[l++]),_=e.convertUtf8OffsetToUtf16(a[l++]);f[p]={start:m,end:_,length:_-m}}return{index:c,captureIndices:f}}}function Toe(t){return typeof t.instantiator=="function"}function Moe(t){return typeof t.default=="function"}function Aoe(t){return typeof t.data<"u"}function koe(t){return typeof Response<"u"&&t instanceof Response}function Roe(t){var e;return typeof ArrayBuffer<"u"&&(t instanceof ArrayBuffer||ArrayBuffer.isView(t))||typeof Buffer<"u"&&((e=Buffer.isBuffer)==null?void 0:e.call(Buffer,t))||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&t instanceof Uint32Array}let Mx;function Poe(t){if(Mx)return Mx;async function e(){Ii=await Soe(async n=>{let r=t;return r=await r,typeof r=="function"&&(r=await r(n)),typeof r=="function"&&(r=await r(n)),Toe(r)?r=await r.instantiator(n):Moe(r)?r=await r.default(n):(Aoe(r)&&(r=r.data),koe(r)?typeof WebAssembly.instantiateStreaming=="function"?r=await Loe(r)(n):r=await Ioe(r)(n):Roe(r)?r=await AC(r)(n):r instanceof WebAssembly.Module?r=await AC(r)(n):"default"in r&&r.default instanceof WebAssembly.Module&&(r=await AC(r.default)(n))),"instance"in r&&(r=r.instance),"exports"in r&&(r=r.exports),r})}return Mx=e(),Mx}function AC(t){return e=>WebAssembly.instantiate(t,e)}function Loe(t){return e=>WebAssembly.instantiateStreaming(t,e)}function Ioe(t){return async e=>{const n=await t.arrayBuffer();return WebAssembly.instantiate(n,e)}}async function Doe(t){return t&&await Poe(t),{createScanner(e){return new Coe(e.map(n=>typeof n=="string"?n:n.source))},createString(e){return new y_(e)}}}const Ooe=uoe({langs:moe,themes:yoe,engine:()=>Doe(W(()=>import("./wasm-CG6Dc4jp.js"),[]))}),{getSingletonHighlighter:Noe}=foe(Ooe,{guessEmbeddedLanguages:Ase});var Yx={exports:{}},Boe=Yx.exports,II;function Foe(){return II||(II=1,function(t,e){(function(n,r){t.exports=r()})(Boe,function(){var n=1e3,r=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",c="day",u="week",f="month",p="quarter",m="year",_="date",S="Invalid Date",w=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(j){var J=["th","st","nd","rd"],$=j%100;return"["+j+(J[($-20)%10]||J[$]||J[0])+"]"}},T=function(j,J,$){var ie=String(j);return!ie||ie.length>=J?j:""+Array(J+1-ie.length).join($)+j},A={s:T,z:function(j){var J=-j.utcOffset(),$=Math.abs(J),ie=Math.floor($/60),U=$%60;return(J<=0?"+":"-")+T(ie,2,"0")+":"+T(U,2,"0")},m:function j(J,$){if(J.date()<$.date())return-j($,J);var ie=12*($.year()-J.year())+($.month()-J.month()),U=J.clone().add(ie,f),ee=$-U<0,V=J.clone().add(ie+(ee?-1:1),f);return+(-(ie+($-U)/(ee?U-V:V-U))||0)},a:function(j){return j<0?Math.ceil(j)||0:Math.floor(j)},p:function(j){return{M:f,y:m,w:u,d:c,D:_,h:l,m:a,s:o,ms:s,Q:p}[j]||String(j||"").toLowerCase().replace(/s$/,"")},u:function(j){return j===void 0}},L="en",R={};R[L]=C;var N="$isDayjsObject",z=function(j){return j instanceof q||!(!j||!j[N])},D=function j(J,$,ie){var U;if(!J)return L;if(typeof J=="string"){var ee=J.toLowerCase();R[ee]&&(U=ee),$&&(R[ee]=$,U=ee);var V=J.split("-");if(!U&&V.length>1)return j(V[0])}else{var G=J.name;R[G]=J,U=G}return!ie&&U&&(L=U),U||!ie&&L},I=function(j,J){if(z(j))return j.clone();var $=typeof J=="object"?J:{};return $.date=j,$.args=arguments,new q($)},B=A;B.l=D,B.i=z,B.w=function(j,J){return I(j,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var q=function(){function j($){this.$L=D($.locale,null,!0),this.parse($),this.$x=this.$x||$.x||{},this[N]=!0}var J=j.prototype;return J.parse=function($){this.$d=function(ie){var U=ie.date,ee=ie.utc;if(U===null)return new Date(NaN);if(B.u(U))return new Date;if(U instanceof Date)return new Date(U);if(typeof U=="string"&&!/Z$/i.test(U)){var V=U.match(w);if(V){var G=V[2]-1||0,oe=(V[7]||"0").substring(0,3);return ee?new Date(Date.UTC(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,oe)):new Date(V[1],G,V[3]||1,V[4]||0,V[5]||0,V[6]||0,oe)}}return new Date(U)}($),this.init()},J.init=function(){var $=this.$d;this.$y=$.getFullYear(),this.$M=$.getMonth(),this.$D=$.getDate(),this.$W=$.getDay(),this.$H=$.getHours(),this.$m=$.getMinutes(),this.$s=$.getSeconds(),this.$ms=$.getMilliseconds()},J.$utils=function(){return B},J.isValid=function(){return this.$d.toString()!==S},J.isSame=function($,ie){var U=I($);return this.startOf(ie)<=U&&U<=this.endOf(ie)},J.isAfter=function($,ie){return I($)<this.startOf(ie)},J.isBefore=function($,ie){return this.endOf(ie)<I($)},J.$g=function($,ie,U){return B.u($)?this[ie]:this.set(U,$)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function($,ie){var U=this,ee=!!B.u(ie)||ie,V=B.p($),G=function(rt,Ke){var xt=B.w(U.$u?Date.UTC(U.$y,Ke,rt):new Date(U.$y,Ke,rt),U);return ee?xt:xt.endOf(c)},oe=function(rt,Ke){return B.w(U.toDate()[rt].apply(U.toDate("s"),(ee?[0,0,0,0]:[23,59,59,999]).slice(Ke)),U)},Z=this.$W,ue=this.$M,me=this.$D,we="set"+(this.$u?"UTC":"");switch(V){case m:return ee?G(1,0):G(31,11);case f:return ee?G(1,ue):G(0,ue+1);case u:var Me=this.$locale().weekStart||0,ze=(Z<Me?Z+7:Z)-Me;return G(ee?me-ze:me+(6-ze),ue);case c:case _:return oe(we+"Hours",0);case l:return oe(we+"Minutes",1);case a:return oe(we+"Seconds",2);case o:return oe(we+"Milliseconds",3);default:return this.clone()}},J.endOf=function($){return this.startOf($,!1)},J.$set=function($,ie){var U,ee=B.p($),V="set"+(this.$u?"UTC":""),G=(U={},U[c]=V+"Date",U[_]=V+"Date",U[f]=V+"Month",U[m]=V+"FullYear",U[l]=V+"Hours",U[a]=V+"Minutes",U[o]=V+"Seconds",U[s]=V+"Milliseconds",U)[ee],oe=ee===c?this.$D+(ie-this.$W):ie;if(ee===f||ee===m){var Z=this.clone().set(_,1);Z.$d[G](oe),Z.init(),this.$d=Z.set(_,Math.min(this.$D,Z.daysInMonth())).$d}else G&&this.$d[G](oe);return this.init(),this},J.set=function($,ie){return this.clone().$set($,ie)},J.get=function($){return this[B.p($)]()},J.add=function($,ie){var U,ee=this;$=Number($);var V=B.p(ie),G=function(ue){var me=I(ee);return B.w(me.date(me.date()+Math.round(ue*$)),ee)};if(V===f)return this.set(f,this.$M+$);if(V===m)return this.set(m,this.$y+$);if(V===c)return G(1);if(V===u)return G(7);var oe=(U={},U[a]=r,U[l]=i,U[o]=n,U)[V]||1,Z=this.$d.getTime()+$*oe;return B.w(Z,this)},J.subtract=function($,ie){return this.add(-1*$,ie)},J.format=function($){var ie=this,U=this.$locale();if(!this.isValid())return U.invalidDate||S;var ee=$||"YYYY-MM-DDTHH:mm:ssZ",V=B.z(this),G=this.$H,oe=this.$m,Z=this.$M,ue=U.weekdays,me=U.months,we=U.meridiem,Me=function(Ke,xt,We,Oe){return Ke&&(Ke[xt]||Ke(ie,ee))||We[xt].slice(0,Oe)},ze=function(Ke){return B.s(G%12||12,Ke,"0")},rt=we||function(Ke,xt,We){var Oe=Ke<12?"AM":"PM";return We?Oe.toLowerCase():Oe};return ee.replace(x,function(Ke,xt){return xt||function(We){switch(We){case"YY":return String(ie.$y).slice(-2);case"YYYY":return B.s(ie.$y,4,"0");case"M":return Z+1;case"MM":return B.s(Z+1,2,"0");case"MMM":return Me(U.monthsShort,Z,me,3);case"MMMM":return Me(me,Z);case"D":return ie.$D;case"DD":return B.s(ie.$D,2,"0");case"d":return String(ie.$W);case"dd":return Me(U.weekdaysMin,ie.$W,ue,2);case"ddd":return Me(U.weekdaysShort,ie.$W,ue,3);case"dddd":return ue[ie.$W];case"H":return String(G);case"HH":return B.s(G,2,"0");case"h":return ze(1);case"hh":return ze(2);case"a":return rt(G,oe,!0);case"A":return rt(G,oe,!1);case"m":return String(oe);case"mm":return B.s(oe,2,"0");case"s":return String(ie.$s);case"ss":return B.s(ie.$s,2,"0");case"SSS":return B.s(ie.$ms,3,"0");case"Z":return V}return null}(Ke)||V.replace(":","")})},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function($,ie,U){var ee,V=this,G=B.p(ie),oe=I($),Z=(oe.utcOffset()-this.utcOffset())*r,ue=this-oe,me=function(){return B.m(V,oe)};switch(G){case m:ee=me()/12;break;case f:ee=me();break;case p:ee=me()/3;break;case u:ee=(ue-Z)/6048e5;break;case c:ee=(ue-Z)/864e5;break;case l:ee=ue/i;break;case a:ee=ue/r;break;case o:ee=ue/n;break;default:ee=ue}return U?ee:B.a(ee)},J.daysInMonth=function(){return this.endOf(f).$D},J.$locale=function(){return R[this.$L]},J.locale=function($,ie){if(!$)return this.$L;var U=this.clone(),ee=D($,ie,!0);return ee&&(U.$L=ee),U},J.clone=function(){return B.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},j}(),K=q.prototype;return I.prototype=K,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",c],["$M",f],["$y",m],["$D",_]].forEach(function(j){K[j[1]]=function(J){return this.$g(J,j[0],j[1])}}),I.extend=function(j,J){return j.$i||(j(J,q,I),j.$i=!0),I},I.locale=D,I.isDayjs=z,I.unix=function(j){return I(1e3*j)},I.en=R[L],I.Ls=R,I.p={},I})}(Yx)),Yx.exports}var zoe=Foe();const Uoe=Fm(zoe),Kx={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const i=n<.5?n*(1+e):n+e-n*e,s=2*n-i;switch(r){case"r":return Kx.hue2rgb(s,i,t+1/3)*255;case"g":return Kx.hue2rgb(s,i,t)*255;case"b":return Kx.hue2rgb(s,i,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),s=Math.min(t,e,n),o=(i+s)/2;if(r==="l")return o*100;if(i===s)return 0;const a=i-s,l=o>.5?a/(2-i-s):a/(i+s);if(r==="s")return l*100;switch(i){case t:return((e-n)/a+(e<n?6:0))*60;case e:return((n-t)/a+2)*60;case n:return((t-e)/a+4)*60;default:return-1}}},Voe={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},Hoe={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},hn={channel:Kx,lang:Voe,unit:Hoe},ju={};for(let t=0;t<=255;t++)ju[t]=hn.unit.dec2hex(t);const ls={ALL:0,RGB:1,HSL:2};class Woe{constructor(){this.type=ls.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=ls.ALL}is(e){return this.type===e}}class Goe{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new Woe}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=ls.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:r,l:i}=e;n===void 0&&(e.h=hn.channel.rgb2hsl(e,"h")),r===void 0&&(e.s=hn.channel.rgb2hsl(e,"s")),i===void 0&&(e.l=hn.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:r,b:i}=e;n===void 0&&(e.r=hn.channel.hsl2rgb(e,"r")),r===void 0&&(e.g=hn.channel.hsl2rgb(e,"g")),i===void 0&&(e.b=hn.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(ls.HSL)&&n!==void 0?n:(this._ensureHSL(),hn.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(ls.HSL)&&n!==void 0?n:(this._ensureHSL(),hn.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(ls.HSL)&&n!==void 0?n:(this._ensureHSL(),hn.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(ls.RGB)&&n!==void 0?n:(this._ensureRGB(),hn.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(ls.RGB)&&n!==void 0?n:(this._ensureRGB(),hn.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(ls.RGB)&&n!==void 0?n:(this._ensureRGB(),hn.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(ls.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(ls.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(ls.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(ls.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(ls.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(ls.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const U1=new Goe({r:0,g:0,b:0,a:0},"transparent"),lm={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(lm.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,s=i%4===0,o=i>4,a=o?1:17,l=o?8:4,c=s?0:-1,u=o?255:15;return U1.set({r:(r>>l*(c+3)&u)*a,g:(r>>l*(c+2)&u)*a,b:(r>>l*(c+1)&u)*a,a:s?(r&u)*a/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${ju[Math.round(e)]}${ju[Math.round(n)]}${ju[Math.round(r)]}${ju[Math.round(i*255)]}`:`#${ju[Math.round(e)]}${ju[Math.round(n)]}${ju[Math.round(r)]}`}},Nf={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Nf.hueRe);if(e){const[,n,r]=e;switch(r){case"grad":return hn.channel.clamp.h(parseFloat(n)*.9);case"rad":return hn.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return hn.channel.clamp.h(parseFloat(n)*360)}}return hn.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(Nf.re);if(!n)return;const[,r,i,s,o,a]=n;return U1.set({h:Nf._hue2deg(r),s:hn.channel.clamp.s(parseFloat(i)),l:hn.channel.clamp.l(parseFloat(s)),a:o?hn.channel.clamp.a(a?parseFloat(o)/100:parseFloat(o)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${hn.lang.round(e)}, ${hn.lang.round(n)}%, ${hn.lang.round(r)}%, ${i})`:`hsl(${hn.lang.round(e)}, ${hn.lang.round(n)}%, ${hn.lang.round(r)}%)`}},u0={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=u0.colors[t];if(e)return lm.parse(e)},stringify:t=>{const e=lm.stringify(t);for(const n in u0.colors)if(u0.colors[n]===e)return n}},Vy={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(Vy.re);if(!n)return;const[,r,i,s,o,a,l,c,u]=n;return U1.set({r:hn.channel.clamp.r(i?parseFloat(r)*2.55:parseFloat(r)),g:hn.channel.clamp.g(o?parseFloat(s)*2.55:parseFloat(s)),b:hn.channel.clamp.b(l?parseFloat(a)*2.55:parseFloat(a)),a:c?hn.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${hn.lang.round(e)}, ${hn.lang.round(n)}, ${hn.lang.round(r)}, ${hn.lang.round(i)})`:`rgb(${hn.lang.round(e)}, ${hn.lang.round(n)}, ${hn.lang.round(r)})`}},Pl={format:{keyword:u0,hex:lm,rgb:Vy,rgba:Vy,hsl:Nf,hsla:Nf},parse:t=>{if(typeof t!="string")return t;const e=lm.parse(t)||Vy.parse(t)||Nf.parse(t)||u0.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(ls.HSL)||t.data.r===void 0?Nf.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?Vy.stringify(t):lm.stringify(t)},XF=(t,e)=>{const n=Pl.parse(t);for(const r in e)n[r]=hn.channel.clamp[r](e[r]);return Pl.stringify(n)},h0=(t,e,n=0,r=1)=>{if(typeof t!="number")return XF(t,{a:e});const i=U1.set({r:hn.channel.clamp.r(t),g:hn.channel.clamp.g(e),b:hn.channel.clamp.b(n),a:hn.channel.clamp.a(r)});return Pl.stringify(i)},$oe=t=>{const{r:e,g:n,b:r}=Pl.parse(t),i=.2126*hn.channel.toLinear(e)+.7152*hn.channel.toLinear(n)+.0722*hn.channel.toLinear(r);return hn.lang.round(i)},joe=t=>$oe(t)>=.5,__=t=>!joe(t),YF=(t,e,n)=>{const r=Pl.parse(t),i=r[e],s=hn.channel.clamp[e](i+n);return i!==s&&(r[e]=s),Pl.stringify(r)},Jt=(t,e)=>YF(t,"l",e),on=(t,e)=>YF(t,"l",-e),Ee=(t,e)=>{const n=Pl.parse(t),r={};for(const i in e)e[i]&&(r[i]=n[i]+e[i]);return XF(t,r)},qoe=(t,e,n=50)=>{const{r,g:i,b:s,a:o}=Pl.parse(t),{r:a,g:l,b:c,a:u}=Pl.parse(e),f=n/100,p=f*2-1,m=o-u,S=((p*m===-1?p:(p+m)/(1+p*m))+1)/2,w=1-S,x=r*S+a*w,C=i*S+l*w,T=s*S+c*w,A=o*f+u*(1-f);return h0(x,C,T,A)},wt=(t,e=100)=>{const n=Pl.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,qoe(n,t,e)};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:KF,setPrototypeOf:DI,isFrozen:Xoe,getPrototypeOf:Yoe,getOwnPropertyDescriptor:Koe}=Object;let{freeze:Bs,seal:ra,create:ZF}=Object,{apply:jT,construct:qT}=typeof Reflect<"u"&&Reflect;Bs||(Bs=function(e){return e});ra||(ra=function(e){return e});jT||(jT=function(e,n,r){return e.apply(n,r)});qT||(qT=function(e,n){return new e(...n)});const Ax=Fs(Array.prototype.forEach),Zoe=Fs(Array.prototype.lastIndexOf),OI=Fs(Array.prototype.pop),by=Fs(Array.prototype.push),Joe=Fs(Array.prototype.splice),Zx=Fs(String.prototype.toLowerCase),kC=Fs(String.prototype.toString),NI=Fs(String.prototype.match),Ey=Fs(String.prototype.replace),Qoe=Fs(String.prototype.indexOf),eae=Fs(String.prototype.trim),Na=Fs(Object.prototype.hasOwnProperty),As=Fs(RegExp.prototype.test),Cy=tae(TypeError);function Fs(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return jT(t,e,r)}}function tae(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return qT(t,n)}}function zn(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Zx;DI&&DI(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(Xoe(e)||(e[r]=s),i=s)}t[i]=!0}return t}function nae(t){for(let e=0;e<t.length;e++)Na(t,e)||(t[e]=null);return t}function wf(t){const e=ZF(null);for(const[n,r]of KF(t))Na(t,n)&&(Array.isArray(r)?e[n]=nae(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=wf(r):e[n]=r);return e}function Ty(t,e){for(;t!==null;){const r=Koe(t,e);if(r){if(r.get)return Fs(r.get);if(typeof r.value=="function")return Fs(r.value)}t=Yoe(t)}function n(){return null}return n}const BI=Bs(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),RC=Bs(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),PC=Bs(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rae=Bs(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),LC=Bs(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),iae=Bs(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),FI=Bs(["#text"]),zI=Bs(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),IC=Bs(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),UI=Bs(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),kx=Bs(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),sae=ra(/\{\{[\w\W]*|[\w\W]*\}\}/gm),oae=ra(/<%[\w\W]*|[\w\W]*%>/gm),aae=ra(/\$\{[\w\W]*/gm),lae=ra(/^data-[\-\w.\u00B7-\uFFFF]+$/),cae=ra(/^aria-[\-\w]+$/),JF=ra(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),uae=ra(/^(?:\w+script|data):/i),hae=ra(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),QF=ra(/^html$/i),fae=ra(/^[a-z][.\w]*(-[.\w]+)+$/i);var VI=Object.freeze({__proto__:null,ARIA_ATTR:cae,ATTR_WHITESPACE:hae,CUSTOM_ELEMENT:fae,DATA_ATTR:lae,DOCTYPE_NAME:QF,ERB_EXPR:oae,IS_ALLOWED_URI:JF,IS_SCRIPT_OR_DATA:uae,MUSTACHE_EXPR:sae,TMPLIT_EXPR:aae});const My={element:1,text:3,progressingInstruction:7,comment:8,document:9},dae=function(){return typeof window>"u"?null:window},pae=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},HI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function ez(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:dae();const e=Ut=>ez(Ut);if(e.version="3.2.4",e.removed=[],!t||!t.document||t.document.nodeType!==My.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:a,Element:l,NodeFilter:c,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:m}=t,_=l.prototype,S=Ty(_,"cloneNode"),w=Ty(_,"remove"),x=Ty(_,"nextSibling"),C=Ty(_,"childNodes"),T=Ty(_,"parentNode");if(typeof o=="function"){const Ut=n.createElement("template");Ut.content&&Ut.content.ownerDocument&&(n=Ut.content.ownerDocument)}let A,L="";const{implementation:R,createNodeIterator:N,createDocumentFragment:z,getElementsByTagName:D}=n,{importNode:I}=r;let B=HI();e.isSupported=typeof KF=="function"&&typeof T=="function"&&R&&R.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:q,ERB_EXPR:K,TMPLIT_EXPR:j,DATA_ATTR:J,ARIA_ATTR:$,IS_SCRIPT_OR_DATA:ie,ATTR_WHITESPACE:U,CUSTOM_ELEMENT:ee}=VI;let{IS_ALLOWED_URI:V}=VI,G=null;const oe=zn({},[...BI,...RC,...PC,...LC,...FI]);let Z=null;const ue=zn({},[...zI,...IC,...UI,...kx]);let me=Object.seal(ZF(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,Me=null,ze=!0,rt=!0,Ke=!1,xt=!0,We=!1,Oe=!0,re=!1,pt=!1,Ge=!1,ot=!1,Qe=!1,Rt=!1,je=!0,te=!1;const Q="user-content-";let be=!0,Ne=!1,$e={},ce=null;const Pe=zn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const Ye=zn({},["audio","video","img","source","image","track"]);let St=null;const Xe=zn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),_t="http://www.w3.org/1998/Math/MathML",kt="http://www.w3.org/2000/svg",Lt="http://www.w3.org/1999/xhtml";let gt=Lt,he=!1,Fe=null;const at=zn({},[_t,kt,Lt],kC);let fe=zn({},["mi","mo","mn","ms","mtext"]),tt=zn({},["annotation-xml"]);const Le=zn({},["title","style","font","a","script"]);let He=null;const bt=["application/xhtml+xml","text/html"],vt="text/html";let Et=null,_n=null;const Qn=n.createElement("form"),yn=function(ge){return ge instanceof RegExp||ge instanceof Function},fr=function(){let ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(_n&&_n===ge)){if((!ge||typeof ge!="object")&&(ge={}),ge=wf(ge),He=bt.indexOf(ge.PARSER_MEDIA_TYPE)===-1?vt:ge.PARSER_MEDIA_TYPE,Et=He==="application/xhtml+xml"?kC:Zx,G=Na(ge,"ALLOWED_TAGS")?zn({},ge.ALLOWED_TAGS,Et):oe,Z=Na(ge,"ALLOWED_ATTR")?zn({},ge.ALLOWED_ATTR,Et):ue,Fe=Na(ge,"ALLOWED_NAMESPACES")?zn({},ge.ALLOWED_NAMESPACES,kC):at,St=Na(ge,"ADD_URI_SAFE_ATTR")?zn(wf(Xe),ge.ADD_URI_SAFE_ATTR,Et):Xe,Ve=Na(ge,"ADD_DATA_URI_TAGS")?zn(wf(Ye),ge.ADD_DATA_URI_TAGS,Et):Ye,ce=Na(ge,"FORBID_CONTENTS")?zn({},ge.FORBID_CONTENTS,Et):Pe,we=Na(ge,"FORBID_TAGS")?zn({},ge.FORBID_TAGS,Et):{},Me=Na(ge,"FORBID_ATTR")?zn({},ge.FORBID_ATTR,Et):{},$e=Na(ge,"USE_PROFILES")?ge.USE_PROFILES:!1,ze=ge.ALLOW_ARIA_ATTR!==!1,rt=ge.ALLOW_DATA_ATTR!==!1,Ke=ge.ALLOW_UNKNOWN_PROTOCOLS||!1,xt=ge.ALLOW_SELF_CLOSE_IN_ATTR!==!1,We=ge.SAFE_FOR_TEMPLATES||!1,Oe=ge.SAFE_FOR_XML!==!1,re=ge.WHOLE_DOCUMENT||!1,ot=ge.RETURN_DOM||!1,Qe=ge.RETURN_DOM_FRAGMENT||!1,Rt=ge.RETURN_TRUSTED_TYPE||!1,Ge=ge.FORCE_BODY||!1,je=ge.SANITIZE_DOM!==!1,te=ge.SANITIZE_NAMED_PROPS||!1,be=ge.KEEP_CONTENT!==!1,Ne=ge.IN_PLACE||!1,V=ge.ALLOWED_URI_REGEXP||JF,gt=ge.NAMESPACE||Lt,fe=ge.MATHML_TEXT_INTEGRATION_POINTS||fe,tt=ge.HTML_INTEGRATION_POINTS||tt,me=ge.CUSTOM_ELEMENT_HANDLING||{},ge.CUSTOM_ELEMENT_HANDLING&&yn(ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(me.tagNameCheck=ge.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ge.CUSTOM_ELEMENT_HANDLING&&yn(ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(me.attributeNameCheck=ge.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ge.CUSTOM_ELEMENT_HANDLING&&typeof ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(me.allowCustomizedBuiltInElements=ge.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),We&&(rt=!1),Qe&&(ot=!0),$e&&(G=zn({},FI),Z=[],$e.html===!0&&(zn(G,BI),zn(Z,zI)),$e.svg===!0&&(zn(G,RC),zn(Z,IC),zn(Z,kx)),$e.svgFilters===!0&&(zn(G,PC),zn(Z,IC),zn(Z,kx)),$e.mathMl===!0&&(zn(G,LC),zn(Z,UI),zn(Z,kx))),ge.ADD_TAGS&&(G===oe&&(G=wf(G)),zn(G,ge.ADD_TAGS,Et)),ge.ADD_ATTR&&(Z===ue&&(Z=wf(Z)),zn(Z,ge.ADD_ATTR,Et)),ge.ADD_URI_SAFE_ATTR&&zn(St,ge.ADD_URI_SAFE_ATTR,Et),ge.FORBID_CONTENTS&&(ce===Pe&&(ce=wf(ce)),zn(ce,ge.FORBID_CONTENTS,Et)),be&&(G["#text"]=!0),re&&zn(G,["html","head","body"]),G.table&&(zn(G,["tbody"]),delete we.tbody),ge.TRUSTED_TYPES_POLICY){if(typeof ge.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ge.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=ge.TRUSTED_TYPES_POLICY,L=A.createHTML("")}else A===void 0&&(A=pae(m,i)),A!==null&&typeof L=="string"&&(L=A.createHTML(""));Bs&&Bs(ge),_n=ge}},Sr=zn({},[...RC,...PC,...rae]),la=zn({},[...LC,...iae]),Oo=function(ge){let it=T(ge);(!it||!it.tagName)&&(it={namespaceURI:gt,tagName:"template"});const X=Zx(ge.tagName),pe=Zx(it.tagName);return Fe[ge.namespaceURI]?ge.namespaceURI===kt?it.namespaceURI===Lt?X==="svg":it.namespaceURI===_t?X==="svg"&&(pe==="annotation-xml"||fe[pe]):!!Sr[X]:ge.namespaceURI===_t?it.namespaceURI===Lt?X==="math":it.namespaceURI===kt?X==="math"&&tt[pe]:!!la[X]:ge.namespaceURI===Lt?it.namespaceURI===kt&&!tt[pe]||it.namespaceURI===_t&&!fe[pe]?!1:!la[X]&&(Le[X]||!Sr[X]):!!(He==="application/xhtml+xml"&&Fe[ge.namespaceURI]):!1},Pr=function(ge){by(e.removed,{element:ge});try{T(ge).removeChild(ge)}catch{w(ge)}},bi=function(ge,it){try{by(e.removed,{attribute:it.getAttributeNode(ge),from:it})}catch{by(e.removed,{attribute:null,from:it})}if(it.removeAttribute(ge),ge==="is")if(ot||Qe)try{Pr(it)}catch{}else try{it.setAttribute(ge,"")}catch{}},No=function(ge){let it=null,X=null;if(Ge)ge="<remove></remove>"+ge;else{const xe=NI(ge,/^[\r\n\t ]+/);X=xe&&xe[0]}He==="application/xhtml+xml"&&gt===Lt&&(ge='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ge+"</body></html>");const pe=A?A.createHTML(ge):ge;if(gt===Lt)try{it=new p().parseFromString(pe,He)}catch{}if(!it||!it.documentElement){it=R.createDocument(gt,"template",null);try{it.documentElement.innerHTML=he?L:pe}catch{}}const Ce=it.body||it.documentElement;return ge&&X&&Ce.insertBefore(n.createTextNode(X),Ce.childNodes[0]||null),gt===Lt?D.call(it,re?"html":"body")[0]:re?it.documentElement:Ce},Yi=function(ge){return N.call(ge.ownerDocument||ge,ge,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Us=function(ge){return ge instanceof f&&(typeof ge.nodeName!="string"||typeof ge.textContent!="string"||typeof ge.removeChild!="function"||!(ge.attributes instanceof u)||typeof ge.removeAttribute!="function"||typeof ge.setAttribute!="function"||typeof ge.namespaceURI!="string"||typeof ge.insertBefore!="function"||typeof ge.hasChildNodes!="function")},Bl=function(ge){return typeof a=="function"&&ge instanceof a};function Ei(Ut,ge,it){Ax(Ut,X=>{X.call(e,ge,it,_n)})}const Fl=function(ge){let it=null;if(Ei(B.beforeSanitizeElements,ge,null),Us(ge))return Pr(ge),!0;const X=Et(ge.nodeName);if(Ei(B.uponSanitizeElement,ge,{tagName:X,allowedTags:G}),ge.hasChildNodes()&&!Bl(ge.firstElementChild)&&As(/<[/\w]/g,ge.innerHTML)&&As(/<[/\w]/g,ge.textContent)||ge.nodeType===My.progressingInstruction||Oe&&ge.nodeType===My.comment&&As(/<[/\w]/g,ge.data))return Pr(ge),!0;if(!G[X]||we[X]){if(!we[X]&&zl(X)&&(me.tagNameCheck instanceof RegExp&&As(me.tagNameCheck,X)||me.tagNameCheck instanceof Function&&me.tagNameCheck(X)))return!1;if(be&&!ce[X]){const pe=T(ge)||ge.parentNode,Ce=C(ge)||ge.childNodes;if(Ce&&pe){const xe=Ce.length;for(let ye=xe-1;ye>=0;--ye){const Ze=S(Ce[ye],!0);Ze.__removalCount=(ge.__removalCount||0)+1,pe.insertBefore(Ze,x(ge))}}}return Pr(ge),!0}return ge instanceof l&&!Oo(ge)||(X==="noscript"||X==="noembed"||X==="noframes")&&As(/<\/no(script|embed|frames)/i,ge.innerHTML)?(Pr(ge),!0):(We&&ge.nodeType===My.text&&(it=ge.textContent,Ax([q,K,j],pe=>{it=Ey(it,pe," ")}),ge.textContent!==it&&(by(e.removed,{element:ge.cloneNode()}),ge.textContent=it)),Ei(B.afterSanitizeElements,ge,null),!1)},gs=function(ge,it,X){if(je&&(it==="id"||it==="name")&&(X in n||X in Qn))return!1;if(!(rt&&!Me[it]&&As(J,it))){if(!(ze&&As($,it))){if(!Z[it]||Me[it]){if(!(zl(ge)&&(me.tagNameCheck instanceof RegExp&&As(me.tagNameCheck,ge)||me.tagNameCheck instanceof Function&&me.tagNameCheck(ge))&&(me.attributeNameCheck instanceof RegExp&&As(me.attributeNameCheck,it)||me.attributeNameCheck instanceof Function&&me.attributeNameCheck(it))||it==="is"&&me.allowCustomizedBuiltInElements&&(me.tagNameCheck instanceof RegExp&&As(me.tagNameCheck,X)||me.tagNameCheck instanceof Function&&me.tagNameCheck(X))))return!1}else if(!St[it]){if(!As(V,Ey(X,U,""))){if(!((it==="src"||it==="xlink:href"||it==="href")&&ge!=="script"&&Qoe(X,"data:")===0&&Ve[ge])){if(!(Ke&&!As(ie,Ey(X,U,"")))){if(X)return!1}}}}}}return!0},zl=function(ge){return ge!=="annotation-xml"&&NI(ge,ee)},Ul=function(ge){Ei(B.beforeSanitizeAttributes,ge,null);const{attributes:it}=ge;if(!it||Us(ge))return;const X={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z,forceKeepAttr:void 0};let pe=it.length;for(;pe--;){const Ce=it[pe],{name:xe,namespaceURI:ye,value:Ze}=Ce,mt=Et(xe);let dt=xe==="value"?Ze:eae(Ze);if(X.attrName=mt,X.attrValue=dt,X.keepAttr=!0,X.forceKeepAttr=void 0,Ei(B.uponSanitizeAttribute,ge,X),dt=X.attrValue,te&&(mt==="id"||mt==="name")&&(bi(xe,ge),dt=Q+dt),Oe&&As(/((--!?|])>)|<\/(style|title)/i,dt)){bi(xe,ge);continue}if(X.forceKeepAttr||(bi(xe,ge),!X.keepAttr))continue;if(!xt&&As(/\/>/i,dt)){bi(xe,ge);continue}We&&Ax([q,K,j],Xt=>{dt=Ey(dt,Xt," ")});const At=Et(ge.nodeName);if(gs(At,mt,dt)){if(A&&typeof m=="object"&&typeof m.getAttributeType=="function"&&!ye)switch(m.getAttributeType(At,mt)){case"TrustedHTML":{dt=A.createHTML(dt);break}case"TrustedScriptURL":{dt=A.createScriptURL(dt);break}}try{ye?ge.setAttributeNS(ye,xe,dt):ge.setAttribute(xe,dt),Us(ge)?Pr(ge):OI(e.removed)}catch{}}}Ei(B.afterSanitizeAttributes,ge,null)},Jc=function Ut(ge){let it=null;const X=Yi(ge);for(Ei(B.beforeSanitizeShadowDOM,ge,null);it=X.nextNode();)Ei(B.uponSanitizeShadowNode,it,null),Fl(it),Ul(it),it.content instanceof s&&Ut(it.content);Ei(B.afterSanitizeShadowDOM,ge,null)};return e.sanitize=function(Ut){let ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=null,X=null,pe=null,Ce=null;if(he=!Ut,he&&(Ut="<!-->"),typeof Ut!="string"&&!Bl(Ut))if(typeof Ut.toString=="function"){if(Ut=Ut.toString(),typeof Ut!="string")throw Cy("dirty is not a string, aborting")}else throw Cy("toString is not a function");if(!e.isSupported)return Ut;if(pt||fr(ge),e.removed=[],typeof Ut=="string"&&(Ne=!1),Ne){if(Ut.nodeName){const Ze=Et(Ut.nodeName);if(!G[Ze]||we[Ze])throw Cy("root node is forbidden and cannot be sanitized in-place")}}else if(Ut instanceof a)it=No("<!---->"),X=it.ownerDocument.importNode(Ut,!0),X.nodeType===My.element&&X.nodeName==="BODY"||X.nodeName==="HTML"?it=X:it.appendChild(X);else{if(!ot&&!We&&!re&&Ut.indexOf("<")===-1)return A&&Rt?A.createHTML(Ut):Ut;if(it=No(Ut),!it)return ot?null:Rt?L:""}it&&Ge&&Pr(it.firstChild);const xe=Yi(Ne?Ut:it);for(;pe=xe.nextNode();)Fl(pe),Ul(pe),pe.content instanceof s&&Jc(pe.content);if(Ne)return Ut;if(ot){if(Qe)for(Ce=z.call(it.ownerDocument);it.firstChild;)Ce.appendChild(it.firstChild);else Ce=it;return(Z.shadowroot||Z.shadowrootmode)&&(Ce=I.call(r,Ce,!0)),Ce}let ye=re?it.outerHTML:it.innerHTML;return re&&G["!doctype"]&&it.ownerDocument&&it.ownerDocument.doctype&&it.ownerDocument.doctype.name&&As(QF,it.ownerDocument.doctype.name)&&(ye="<!DOCTYPE "+it.ownerDocument.doctype.name+`>
`+ye),We&&Ax([q,K,j],Ze=>{ye=Ey(ye,Ze," ")}),A&&Rt?A.createHTML(ye):ye},e.setConfig=function(){let Ut=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};fr(Ut),pt=!0},e.clearConfig=function(){_n=null,pt=!1},e.isValidAttribute=function(Ut,ge,it){_n||fr({});const X=Et(Ut),pe=Et(ge);return gs(X,pe,it)},e.addHook=function(Ut,ge){typeof ge=="function"&&by(B[Ut],ge)},e.removeHook=function(Ut,ge){if(ge!==void 0){const it=Zoe(B[Ut],ge);return it===-1?void 0:Joe(B[Ut],it,1)[0]}return OI(B[Ut])},e.removeHooks=function(Ut){B[Ut]=[]},e.removeAllHooks=function(){B=HI()},e}var Tm=ez(),tz=Object.defineProperty,F=(t,e)=>tz(t,"name",{value:e,configurable:!0}),mae=(t,e)=>{for(var n in e)tz(t,n,{get:e[n],enumerable:!0})},Tc={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Je={trace:F((...t)=>{},"trace"),debug:F((...t)=>{},"debug"),info:F((...t)=>{},"info"),warn:F((...t)=>{},"warn"),error:F((...t)=>{},"error"),fatal:F((...t)=>{},"fatal")},m2=F(function(t="fatal"){let e=Tc.fatal;typeof t=="string"?t.toLowerCase()in Tc&&(e=Tc[t]):typeof t=="number"&&(e=t),Je.trace=()=>{},Je.debug=()=>{},Je.info=()=>{},Je.warn=()=>{},Je.error=()=>{},Je.fatal=()=>{},e<=Tc.fatal&&(Je.fatal=console.error?console.error.bind(console,Yo("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Yo("FATAL"))),e<=Tc.error&&(Je.error=console.error?console.error.bind(console,Yo("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Yo("ERROR"))),e<=Tc.warn&&(Je.warn=console.warn?console.warn.bind(console,Yo("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Yo("WARN"))),e<=Tc.info&&(Je.info=console.info?console.info.bind(console,Yo("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Yo("INFO"))),e<=Tc.debug&&(Je.debug=console.debug?console.debug.bind(console,Yo("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Yo("DEBUG"))),e<=Tc.trace&&(Je.trace=console.debug?console.debug.bind(console,Yo("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Yo("TRACE")))},"setLogLevel"),Yo=F(t=>`%c${Uoe().format("ss.SSS")} : ${t} : `,"format"),nz=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,f0=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,gae=/\s*%%.*\n/gm,hm,rz=(hm=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},F(hm,"UnknownDiagramError"),hm),Mm={},g2=F(function(t,e){t=t.replace(nz,"").replace(f0,"").replace(gae,`
`);for(const[n,{detector:r}]of Object.entries(Mm))if(r(t,e))return n;throw new rz(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),iz=F((...t)=>{for(const{id:e,detector:n,loader:r}of t)sz(e,n,r)},"registerLazyLoadedDiagrams"),sz=F((t,e,n)=>{Mm[t]&&Je.warn(`Detector with key ${t} already exists. Overwriting.`),Mm[t]={detector:e,loader:n},Je.debug(`Detector with key ${t} added${n?" with loader":""}`)},"addDetector"),yae=F(t=>Mm[t].loader,"getDiagramLoader"),XT=F((t,e,{depth:n=2,clobber:r=!1}={})=>{const i={depth:n,clobber:r};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(s=>XT(t,s,i)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(s=>{t.includes(s)||t.push(s)}),t):t===void 0||n<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(s=>{typeof e[s]=="object"&&(t[s]===void 0||typeof t[s]=="object")?(t[s]===void 0&&(t[s]=Array.isArray(e[s])?[]:{}),t[s]=XT(t[s],e[s],{depth:n-1,clobber:r})):(r||typeof t[s]!="object"&&typeof e[s]!="object")&&(t[s]=e[s])}),t)},"assignWithDepth"),ji=XT,V1="#ffffff",H1="#f2f2f2",Ps=F((t,e)=>e?Ee(t,{s:-40,l:10}):Ee(t,{s:-40,l:-10}),"mkBorder"),fm,_ae=(fm=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var n,r,i,s,o,a,l,c,u,f,p;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Ee(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Ee(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Ps(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Ps(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Ps(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Ps(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||wt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||wt(this.tertiaryColor),this.lineColor=this.lineColor||wt(this.background),this.arrowheadColor=this.arrowheadColor||wt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?on(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||on(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||wt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Jt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ee(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ee(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ee(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ee(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ee(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ee(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Ee(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ee(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ee(this.primaryColor,{h:330}),this.darkMode)for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScale"+m]=on(this["cScale"+m],75);else for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScale"+m]=on(this["cScale"+m],25);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleInv"+m]=this["cScaleInv"+m]||wt(this["cScale"+m]);for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this.darkMode?this["cScalePeer"+m]=this["cScalePeer"+m]||Jt(this["cScale"+m],10):this["cScalePeer"+m]=this["cScalePeer"+m]||on(this["cScale"+m],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let m=0;m<this.THEME_COLOR_LIMIT;m++)this["cScaleLabel"+m]=this["cScaleLabel"+m]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let m=0;m<5;m++)this["surface"+m]=this["surface"+m]||Ee(this.mainBkg,{h:180,s:-15,l:e*(5+m*3)}),this["surfacePeer"+m]=this["surfacePeer"+m]||Ee(this.mainBkg,{h:180,s:-15,l:e*(8+m*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Ee(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Ee(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Ee(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Ee(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Ee(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Ee(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ee(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ee(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Ee(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Ee(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ee(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ee(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ee(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Ee(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Ee(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||__(this.quadrant1Fill)?Jt(this.quadrant1Fill):on(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((n=this.xyChart)==null?void 0:n.backgroundColor)||this.background,titleColor:((r=this.xyChart)==null?void 0:r.titleColor)||this.primaryTextColor,xAxisTitleColor:((i=this.xyChart)==null?void 0:i.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((s=this.xyChart)==null?void 0:s.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((o=this.xyChart)==null?void 0:o.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((l=this.xyChart)==null?void 0:l.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((c=this.xyChart)==null?void 0:c.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((u=this.xyChart)==null?void 0:u.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((p=this.xyChart)==null?void 0:p.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?on(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ee(this.primaryColor,{h:-30}),this.git4=this.git4||Ee(this.primaryColor,{h:-60}),this.git5=this.git5||Ee(this.primaryColor,{h:-90}),this.git6=this.git6||Ee(this.primaryColor,{h:60}),this.git7=this.git7||Ee(this.primaryColor,{h:120}),this.darkMode?(this.git0=Jt(this.git0,25),this.git1=Jt(this.git1,25),this.git2=Jt(this.git2,25),this.git3=Jt(this.git3,25),this.git4=Jt(this.git4,25),this.git5=Jt(this.git5,25),this.git6=Jt(this.git6,25),this.git7=Jt(this.git7,25)):(this.git0=on(this.git0,25),this.git1=on(this.git1,25),this.git2=on(this.git2,25),this.git3=on(this.git3,25),this.git4=on(this.git4,25),this.git5=on(this.git5,25),this.git6=on(this.git6,25),this.git7=on(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||V1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||H1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},F(fm,"Theme"),fm),vae=F(t=>{const e=new _ae;return e.calculate(t),e},"getThemeVariables"),dm,xae=(dm=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Jt(this.primaryColor,16),this.tertiaryColor=Ee(this.primaryColor,{h:-160}),this.primaryBorderColor=wt(this.background),this.secondaryBorderColor=Ps(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ps(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Jt(wt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=h0(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=on("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=on(this.sectionBkgColor,10),this.taskBorderColor=h0(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=h0(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,n,r,i,s,o,a,l,c,u,f;this.secondBkg=Jt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Jt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Jt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ee(this.primaryColor,{h:64}),this.fillType3=Ee(this.secondaryColor,{h:64}),this.fillType4=Ee(this.primaryColor,{h:-64}),this.fillType5=Ee(this.secondaryColor,{h:-64}),this.fillType6=Ee(this.primaryColor,{h:128}),this.fillType7=Ee(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ee(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ee(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ee(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ee(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ee(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ee(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ee(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ee(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ee(this.primaryColor,{h:330});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||wt(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScalePeer"+p]=this["cScalePeer"+p]||Jt(this["cScale"+p],10);for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ee(this.mainBkg,{h:30,s:-30,l:-(-10+p*4)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ee(this.mainBkg,{h:30,s:-30,l:-(-7+p*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||__(this.quadrant1Fill)?Jt(this.quadrant1Fill):on(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?on(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Jt(this.secondaryColor,20),this.git1=Jt(this.pie2||this.secondaryColor,20),this.git2=Jt(this.pie3||this.tertiaryColor,20),this.git3=Jt(this.pie4||Ee(this.primaryColor,{h:-30}),20),this.git4=Jt(this.pie5||Ee(this.primaryColor,{h:-60}),20),this.git5=Jt(this.pie6||Ee(this.primaryColor,{h:-90}),10),this.git6=Jt(this.pie7||Ee(this.primaryColor,{h:60}),10),this.git7=Jt(this.pie8||Ee(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},F(dm,"Theme"),dm),Sae=F(t=>{const e=new xae;return e.calculate(t),e},"getThemeVariables"),pm,wae=(pm=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Ee(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Ee(this.primaryColor,{h:-160}),this.primaryBorderColor=Ps(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ps(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ps(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=h0(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,n,r,i,s,o,a,l,c,u,f;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ee(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ee(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ee(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ee(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ee(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ee(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ee(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ee(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ee(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||on(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||on(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=on(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||on(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Ee(this["cScale"+p],{h:180});for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ee(this.mainBkg,{h:30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ee(this.mainBkg,{h:30,l:-(7+p*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||wt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||wt(this.labelTextColor);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Jt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ee(this.primaryColor,{h:64}),this.fillType3=Ee(this.secondaryColor,{h:64}),this.fillType4=Ee(this.primaryColor,{h:-64}),this.fillType5=Ee(this.secondaryColor,{h:-64}),this.fillType6=Ee(this.primaryColor,{h:128}),this.fillType7=Ee(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Ee(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Ee(this.primaryColor,{l:-10}),this.pie5=this.pie5||Ee(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ee(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Ee(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Ee(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Ee(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Ee(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Ee(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Ee(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||__(this.quadrant1Fill)?Jt(this.quadrant1Fill):on(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ee(this.primaryColor,{h:-30}),this.git4=this.git4||Ee(this.primaryColor,{h:-60}),this.git5=this.git5||Ee(this.primaryColor,{h:-90}),this.git6=this.git6||Ee(this.primaryColor,{h:60}),this.git7=this.git7||Ee(this.primaryColor,{h:120}),this.darkMode?(this.git0=Jt(this.git0,25),this.git1=Jt(this.git1,25),this.git2=Jt(this.git2,25),this.git3=Jt(this.git3,25),this.git4=Jt(this.git4,25),this.git5=Jt(this.git5,25),this.git6=Jt(this.git6,25),this.git7=Jt(this.git7,25)):(this.git0=on(this.git0,25),this.git1=on(this.git1,25),this.git2=on(this.git2,25),this.git3=on(this.git3,25),this.git4=on(this.git4,25),this.git5=on(this.git5,25),this.git6=on(this.git6,25),this.git7=on(this.git7,25)),this.gitInv0=this.gitInv0||on(wt(this.git0),25),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||V1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||H1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},F(pm,"Theme"),pm),bae=F(t=>{const e=new wae;return e.calculate(t),e},"getThemeVariables"),mm,Eae=(mm=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Jt("#cde498",10),this.primaryBorderColor=Ps(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ps(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ps(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.primaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,n,r,i,s,o,a,l,c,u,f;this.actorBorder=on(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Ee(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Ee(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Ee(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Ee(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Ee(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Ee(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Ee(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Ee(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Ee(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||on(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||on(this.tertiaryColor,40);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScale"+p]=on(this["cScale"+p],10),this["cScalePeer"+p]=this["cScalePeer"+p]||on(this["cScale"+p],25);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||Ee(this["cScale"+p],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ee(this.mainBkg,{h:30,s:-30,l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ee(this.mainBkg,{h:30,s:-30,l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ee(this.primaryColor,{h:64}),this.fillType3=Ee(this.secondaryColor,{h:64}),this.fillType4=Ee(this.primaryColor,{h:-64}),this.fillType5=Ee(this.secondaryColor,{h:-64}),this.fillType6=Ee(this.primaryColor,{h:128}),this.fillType7=Ee(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Ee(this.primaryColor,{l:-30}),this.pie5=this.pie5||Ee(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Ee(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Ee(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Ee(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Ee(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Ee(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Ee(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Ee(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||__(this.quadrant1Fill)?Jt(this.quadrant1Fill):on(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Ee(this.primaryColor,{h:-30}),this.git4=this.git4||Ee(this.primaryColor,{h:-60}),this.git5=this.git5||Ee(this.primaryColor,{h:-90}),this.git6=this.git6||Ee(this.primaryColor,{h:60}),this.git7=this.git7||Ee(this.primaryColor,{h:120}),this.darkMode?(this.git0=Jt(this.git0,25),this.git1=Jt(this.git1,25),this.git2=Jt(this.git2,25),this.git3=Jt(this.git3,25),this.git4=Jt(this.git4,25),this.git5=Jt(this.git5,25),this.git6=Jt(this.git6,25),this.git7=Jt(this.git7,25)):(this.git0=on(this.git0,25),this.git1=on(this.git1,25),this.git2=on(this.git2,25),this.git3=on(this.git3,25),this.git4=on(this.git4,25),this.git5=on(this.git5,25),this.git6=on(this.git6,25),this.git7=on(this.git7,25)),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||V1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||H1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},F(mm,"Theme"),mm),Cae=F(t=>{const e=new Eae;return e.calculate(t),e},"getThemeVariables"),gm,Tae=(gm=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Jt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Ee(this.primaryColor,{h:-160}),this.primaryBorderColor=Ps(this.primaryColor,this.darkMode),this.secondaryBorderColor=Ps(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Ps(this.tertiaryColor,this.darkMode),this.primaryTextColor=wt(this.primaryColor),this.secondaryTextColor=wt(this.secondaryColor),this.tertiaryTextColor=wt(this.tertiaryColor),this.lineColor=wt(this.background),this.textColor=wt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,n,r,i,s,o,a,l,c,u,f;this.secondBkg=Jt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Jt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleInv"+p]=this["cScaleInv"+p]||wt(this["cScale"+p]);for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this.darkMode?this["cScalePeer"+p]=this["cScalePeer"+p]||Jt(this["cScale"+p],10):this["cScalePeer"+p]=this["cScalePeer"+p]||on(this["cScale"+p],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["cScaleLabel"+p]=this["cScaleLabel"+p]||this.scaleLabelColor;for(let p=0;p<5;p++)this["surface"+p]=this["surface"+p]||Ee(this.mainBkg,{l:-(5+p*5)}),this["surfacePeer"+p]=this["surfacePeer"+p]||Ee(this.mainBkg,{l:-(8+p*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Jt(this.contrast,30),this.sectionBkgColor2=Jt(this.contrast,30),this.taskBorderColor=on(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Jt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=on(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Ee(this.primaryColor,{h:64}),this.fillType3=Ee(this.secondaryColor,{h:64}),this.fillType4=Ee(this.primaryColor,{h:-64}),this.fillType5=Ee(this.secondaryColor,{h:-64}),this.fillType6=Ee(this.primaryColor,{h:128}),this.fillType7=Ee(this.secondaryColor,{h:128});for(let p=0;p<this.THEME_COLOR_LIMIT;p++)this["pie"+p]=this["cScale"+p];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Ee(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Ee(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Ee(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Ee(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Ee(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Ee(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||__(this.quadrant1Fill)?Jt(this.quadrant1Fill):on(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((n=this.xyChart)==null?void 0:n.titleColor)||this.primaryTextColor,xAxisTitleColor:((r=this.xyChart)==null?void 0:r.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((i=this.xyChart)==null?void 0:i.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((s=this.xyChart)==null?void 0:s.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((a=this.xyChart)==null?void 0:a.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((l=this.xyChart)==null?void 0:l.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((c=this.xyChart)==null?void 0:c.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((u=this.xyChart)==null?void 0:u.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((f=this.xyChart)==null?void 0:f.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=on(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Ee(this.primaryColor,{h:-30}),this.git4=this.pie5||Ee(this.primaryColor,{h:-60}),this.git5=this.pie6||Ee(this.primaryColor,{h:-90}),this.git6=this.pie7||Ee(this.primaryColor,{h:60}),this.git7=this.pie8||Ee(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||wt(this.git0),this.gitInv1=this.gitInv1||wt(this.git1),this.gitInv2=this.gitInv2||wt(this.git2),this.gitInv3=this.gitInv3||wt(this.git3),this.gitInv4=this.gitInv4||wt(this.git4),this.gitInv5=this.gitInv5||wt(this.git5),this.gitInv6=this.gitInv6||wt(this.git6),this.gitInv7=this.gitInv7||wt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||V1,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||H1}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(r=>{this[r]=e[r]}),this.updateColors(),n.forEach(r=>{this[r]=e[r]})}},F(gm,"Theme"),gm),Mae=F(t=>{const e=new Tae;return e.calculate(t),e},"getThemeVariables"),Uc={base:{getThemeVariables:vae},dark:{getThemeVariables:Sae},default:{getThemeVariables:bae},forest:{getThemeVariables:Cae},neutral:{getThemeVariables:Mae}},Vu={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},oz={...Vu,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:Uc.default.getThemeVariables(),sequence:{...Vu.sequence,messageFont:F(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:F(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:F(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Vu.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Vu.c4,useWidth:void 0,personFont:F(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),external_personFont:F(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:F(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:F(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:F(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:F(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:F(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:F(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:F(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:F(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:F(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:F(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:F(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:F(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:F(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:F(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:F(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:F(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:F(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:F(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:F(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:F(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Vu.pie,useWidth:984},xyChart:{...Vu.xyChart,useWidth:void 0},requirement:{...Vu.requirement,useWidth:void 0},packet:{...Vu.packet}},az=F((t,e="")=>Object.keys(t).reduce((n,r)=>Array.isArray(t[r])?n:typeof t[r]=="object"&&t[r]!==null?[...n,e+r,...az(t[r],"")]:[...n,e+r],[]),"keyify"),Aae=new Set(az(oz,"")),lz=oz,mw=F(t=>{if(Je.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>mw(e));return}for(const e of Object.keys(t)){if(Je.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!Aae.has(e)||t[e]==null){Je.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){Je.debug("sanitizing object",e),mw(t[e]);continue}const n=["themeCSS","fontFamily","altFontFamily"];for(const r of n)e.includes(r)&&(Je.debug("sanitizing css option",e),t[e]=kae(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const n=t.themeVariables[e];n!=null&&n.match&&!n.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}Je.debug("After sanitization",t)}},"sanitizeDirective"),kae=F(t=>{let e=0,n=0;for(const r of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";r==="{"?e++:r==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Am=Object.freeze(lz),so=ji({},Am),cz,km=[],d0=ji({},Am),W1=F((t,e)=>{let n=ji({},t),r={};for(const i of e)fz(i),r=ji(r,i);if(n=ji(n,r),r.theme&&r.theme in Uc){const i=ji({},cz),s=ji(i.themeVariables||{},r.themeVariables);n.theme&&n.theme in Uc&&(n.themeVariables=Uc[n.theme].getThemeVariables(s))}return d0=n,dz(d0),d0},"updateCurrentConfig"),Rae=F(t=>(so=ji({},Am),so=ji(so,t),t.theme&&Uc[t.theme]&&(so.themeVariables=Uc[t.theme].getThemeVariables(t.themeVariables)),W1(so,km),so),"setSiteConfig"),Pae=F(t=>{cz=ji({},t)},"saveConfigFromInitialize"),Lae=F(t=>(so=ji(so,t),W1(so,km),so),"updateSiteConfig"),uz=F(()=>ji({},so),"getSiteConfig"),hz=F(t=>(dz(t),ji(d0,t),Ka()),"setConfig"),Ka=F(()=>ji({},d0),"getConfig"),fz=F(t=>{t&&(["secure",...so.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(Je.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&fz(t[e])}))},"sanitize"),Iae=F(t=>{var e;mw(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),km.push(t),W1(so,km)},"addDirective"),gw=F((t=so)=>{km=[],W1(t,km)},"reset"),Dae={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},WI={},Oae=F(t=>{WI[t]||(Je.warn(Dae[t]),WI[t]=!0)},"issueWarning"),dz=F(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&Oae("LAZY_LOAD_DEPRECATED")},"checkConfig"),v_=/<br\s*\/?>/gi,Nae=F(t=>t?gz(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),Bae=(()=>{let t=!1;return()=>{t||(pz(),t=!0)}})();function pz(){const t="data-temp-href-target";Tm.addHook("beforeSanitizeAttributes",e=>{e instanceof Element&&e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Tm.addHook("afterSanitizeAttributes",e=>{e instanceof Element&&e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}F(pz,"setupDompurifyHooks");var mz=F(t=>(Bae(),Tm.sanitize(t)),"removeScript"),GI=F((t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const r=e.securityLevel;r==="antiscript"||r==="strict"?t=mz(t):r!=="loose"&&(t=gz(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=Vae(t))}return t},"sanitizeMore"),ed=F((t,e)=>t&&(e.dompurifyConfig?t=Tm.sanitize(GI(t,e),e.dompurifyConfig).toString():t=Tm.sanitize(GI(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),Fae=F((t,e)=>typeof t=="string"?ed(t,e):t.flat().map(n=>ed(n,e)),"sanitizeTextOrArray"),zae=F(t=>v_.test(t),"hasBreaks"),Uae=F(t=>t.split(v_),"splitBreaks"),Vae=F(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),gz=F(t=>t.replace(v_,"#br#"),"breakToPlaceholder"),Hae=F(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},"getUrl"),Xi=F(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),Wae=F(function(...t){const e=t.filter(n=>!isNaN(n));return Math.max(...e)},"getMax"),Gae=F(function(...t){const e=t.filter(n=>!isNaN(n));return Math.min(...e)},"getMin"),dSe=F(function(t){const e=t.split(/(,)/),n=[];for(let r=0;r<e.length;r++){let i=e[r];if(i===","&&r>0&&r+1<e.length){const s=e[r-1],o=e[r+1];$ae(s,o)&&(i=s+","+o,r++,n.pop())}n.push(jae(i))}return n.join("")},"parseGenericTypes"),YT=F((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),$ae=F((t,e)=>{const n=YT(t,"~"),r=YT(e,"~");return n===1&&r===1},"shouldCombineSets"),jae=F(t=>{const e=YT(t,"~");let n=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),n=!0);const r=[...t];let i=r.indexOf("~"),s=r.lastIndexOf("~");for(;i!==-1&&s!==-1&&i!==s;)r[i]="<",r[s]=">",i=r.indexOf("~"),s=r.lastIndexOf("~");return n&&r.unshift("~"),r.join("")},"processSet"),$I=F(()=>window.MathMLElement!==void 0,"isMathMLSupported"),KT=/\$\$(.*)\$\$/g,Rm=F(t=>{var e;return(((e=t.match(KT))==null?void 0:e.length)??0)>0},"hasKatex"),pSe=F(async(t,e)=>{t=await y2(t,e);const n=document.createElement("div");n.innerHTML=t,n.id="katex-temp",n.style.visibility="hidden",n.style.position="absolute",n.style.top="0";const r=document.querySelector("body");r==null||r.insertAdjacentElement("beforeend",n);const i={width:n.clientWidth,height:n.clientHeight};return n.remove(),i},"calculateMathMLDimensions"),y2=F(async(t,e)=>{if(!Rm(t))return t;if(!($I()||e.legacyMathML||e.forceLegacyMathML))return t.replace(KT,"MathML is unsupported in this environment.");const{default:n}=await W(async()=>{const{default:i}=await import("./katex-CfZphoad.js");return{default:i}},[]),r=e.forceLegacyMathML||!$I()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(v_).map(i=>Rm(i)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${i}</div>`:`<div>${i}</div>`).join("").replace(KT,(i,s)=>n.renderToString(s,{throwOnError:!0,displayMode:!0,output:r}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},"renderKatex"),Jm={getRows:Nae,sanitizeText:ed,sanitizeTextOrArray:Fae,hasBreaks:zae,splitBreaks:Uae,lineBreakRegex:v_,removeScript:mz,getUrl:Hae,evaluate:Xi,getMax:Wae,getMin:Gae},qae=F(function(t,e){for(let n of e)t.attr(n[0],n[1])},"d3Attrs"),Xae=F(function(t,e,n){let r=new Map;return n?(r.set("width","100%"),r.set("style",`max-width: ${e}px;`)):(r.set("height",t),r.set("width",e)),r},"calculateSvgSizeAttrs"),yz=F(function(t,e,n,r){const i=Xae(e,n,r);qae(t,i)},"configureSvgSize"),Yae=F(function(t,e,n,r){const i=e.node().getBBox(),s=i.width,o=i.height;Je.info(`SVG bounds: ${s}x${o}`,i);let a=0,l=0;Je.info(`Graph bounds: ${a}x${l}`,t),a=s+n*2,l=o+n*2,Je.info(`Calculated bounds: ${a}x${l}`),yz(e,l,a,r);const c=`${i.x-n} ${i.y-n} ${i.width+2*n} ${i.height+2*n}`;e.attr("viewBox",c)},"setupGraphViewbox"),Jx={},Kae=F((t,e,n)=>{let r="";return t in Jx&&Jx[t]?r=Jx[t](n):Je.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }
   & p {
    margin: 0
   }

  ${r}

  ${e}
`},"getStyles"),Zae=F((t,e)=>{e!==void 0&&(Jx[t]=e)},"addStylesForDiagram"),Jae=Kae,_z={};mae(_z,{clear:()=>Qae,getAccDescription:()=>rle,getAccTitle:()=>tle,getDiagramTitle:()=>sle,setAccDescription:()=>nle,setAccTitle:()=>ele,setDiagramTitle:()=>ile});var _2="",v2="",x2="",S2=F(t=>ed(t,Ka()),"sanitizeText"),Qae=F(()=>{_2="",x2="",v2=""},"clear"),ele=F(t=>{_2=S2(t).replace(/^\s+/g,"")},"setAccTitle"),tle=F(()=>_2,"getAccTitle"),nle=F(t=>{x2=S2(t).replace(/\n\s+/g,`
`)},"setAccDescription"),rle=F(()=>x2,"getAccDescription"),ile=F(t=>{v2=S2(t)},"setDiagramTitle"),sle=F(()=>v2,"getDiagramTitle"),jI=Je,ole=m2,rr=Ka,mSe=hz,gSe=Am,vz=F(t=>ed(t,rr()),"sanitizeText"),ale=Yae,lle=F(()=>_z,"getCommonDb"),yw={},_w=F((t,e,n)=>{var r;yw[t]&&jI.warn(`Diagram with id ${t} already registered. Overwriting.`),yw[t]=e,n&&sz(t,n),Zae(t,e.styles),(r=e.injectUtils)==null||r.call(e,jI,ole,rr,vz,ale,lle(),()=>{})},"registerDiagram"),ZT=F(t=>{if(t in yw)return yw[t];throw new cle(t)},"getDiagram"),ym,cle=(ym=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},F(ym,"DiagramNotFoundError"),ym);function w2(t){return typeof t>"u"||t===null}F(w2,"isNothing");function xz(t){return typeof t=="object"&&t!==null}F(xz,"isObject");function Sz(t){return Array.isArray(t)?t:w2(t)?[]:[t]}F(Sz,"toArray");function wz(t,e){var n,r,i,s;if(e)for(s=Object.keys(e),n=0,r=s.length;n<r;n+=1)i=s[n],t[i]=e[i];return t}F(wz,"extend");function bz(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}F(bz,"repeat");function Ez(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}F(Ez,"isNegativeZero");var ule=w2,hle=xz,fle=Sz,dle=bz,ple=Ez,mle=wz,yi={isNothing:ule,isObject:hle,toArray:fle,repeat:dle,isNegativeZero:ple,extend:mle};function b2(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}F(b2,"formatError");function Pm(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=b2(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}F(Pm,"YAMLException$1");Pm.prototype=Object.create(Error.prototype);Pm.prototype.constructor=Pm;Pm.prototype.toString=F(function(e){return this.name+": "+b2(this,e)},"toString");var ao=Pm;function Qx(t,e,n,r,i){var s="",o="",a=Math.floor(i/2)-1;return r-e>a&&(s=" ... ",e=r-a+s.length),n-r>a&&(o=" ...",n=r+a-o.length),{str:s+t.slice(e,n).replace(/\t/g,"→")+o,pos:r-e+s.length}}F(Qx,"getLine");function eS(t,e){return yi.repeat(" ",e-t.length)+t}F(eS,"padStart");function Cz(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],s,o=-1;s=n.exec(t.buffer);)i.push(s.index),r.push(s.index+s[0].length),t.position<=s.index&&o<0&&(o=r.length-2);o<0&&(o=r.length-1);var a="",l,c,u=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(o-l<0);l++)c=Qx(t.buffer,r[o-l],i[o-l],t.position-(r[o]-r[o-l]),f),a=yi.repeat(" ",e.indent)+eS((t.line-l+1).toString(),u)+" | "+c.str+`
`+a;for(c=Qx(t.buffer,r[o],i[o],t.position,f),a+=yi.repeat(" ",e.indent)+eS((t.line+1).toString(),u)+" | "+c.str+`
`,a+=yi.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(o+l>=i.length);l++)c=Qx(t.buffer,r[o+l],i[o+l],t.position-(r[o]-r[o+l]),f),a+=yi.repeat(" ",e.indent)+eS((t.line+l+1).toString(),u)+" | "+c.str+`
`;return a.replace(/\n$/,"")}F(Cz,"makeSnippet");var gle=Cz,yle=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],_le=["scalar","sequence","mapping"];function Tz(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}F(Tz,"compileStyleAliases");function Mz(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(yle.indexOf(n)===-1)throw new ao('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=Tz(e.styleAliases||null),_le.indexOf(this.kind)===-1)throw new ao('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}F(Mz,"Type$1");var fs=Mz;function JT(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(s,o){s.tag===r.tag&&s.kind===r.kind&&s.multi===r.multi&&(i=o)}),n[i]=r}),n}F(JT,"compileList");function Az(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(F(r,"collectType"),e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}F(Az,"compileMap");function vw(t){return this.extend(t)}F(vw,"Schema$1");vw.prototype.extend=F(function(e){var n=[],r=[];if(e instanceof fs)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new ao("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof fs))throw new ao("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ao("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ao("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(s){if(!(s instanceof fs))throw new ao("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(vw.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=JT(i,"implicit"),i.compiledExplicit=JT(i,"explicit"),i.compiledTypeMap=Az(i.compiledImplicit,i.compiledExplicit),i},"extend");var vle=vw,xle=new fs("tag:yaml.org,2002:str",{kind:"scalar",construct:F(function(t){return t!==null?t:""},"construct")}),Sle=new fs("tag:yaml.org,2002:seq",{kind:"sequence",construct:F(function(t){return t!==null?t:[]},"construct")}),wle=new fs("tag:yaml.org,2002:map",{kind:"mapping",construct:F(function(t){return t!==null?t:{}},"construct")}),ble=new vle({explicit:[xle,Sle,wle]});function kz(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}F(kz,"resolveYamlNull");function Rz(){return null}F(Rz,"constructYamlNull");function Pz(t){return t===null}F(Pz,"isNull");var Ele=new fs("tag:yaml.org,2002:null",{kind:"scalar",resolve:kz,construct:Rz,predicate:Pz,represent:{canonical:F(function(){return"~"},"canonical"),lowercase:F(function(){return"null"},"lowercase"),uppercase:F(function(){return"NULL"},"uppercase"),camelcase:F(function(){return"Null"},"camelcase"),empty:F(function(){return""},"empty")},defaultStyle:"lowercase"});function Lz(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}F(Lz,"resolveYamlBoolean");function Iz(t){return t==="true"||t==="True"||t==="TRUE"}F(Iz,"constructYamlBoolean");function Dz(t){return Object.prototype.toString.call(t)==="[object Boolean]"}F(Dz,"isBoolean");var Cle=new fs("tag:yaml.org,2002:bool",{kind:"scalar",resolve:Lz,construct:Iz,predicate:Dz,represent:{lowercase:F(function(t){return t?"true":"false"},"lowercase"),uppercase:F(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:F(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function Oz(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}F(Oz,"isHexCode");function Nz(t){return 48<=t&&t<=55}F(Nz,"isOctCode");function Bz(t){return 48<=t&&t<=57}F(Bz,"isDecCode");function Fz(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!Oz(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!Nz(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!Bz(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}F(Fz,"resolveYamlInteger");function zz(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}F(zz,"constructYamlInteger");function Uz(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!yi.isNegativeZero(t)}F(Uz,"isInteger");var Tle=new fs("tag:yaml.org,2002:int",{kind:"scalar",resolve:Fz,construct:zz,predicate:Uz,represent:{binary:F(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:F(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:F(function(t){return t.toString(10)},"decimal"),hexadecimal:F(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Mle=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Vz(t){return!(t===null||!Mle.test(t)||t[t.length-1]==="_")}F(Vz,"resolveYamlFloat");function Hz(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}F(Hz,"constructYamlFloat");var Ale=/^[-+]?[0-9]+e/;function Wz(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(yi.isNegativeZero(t))return"-0.0";return n=t.toString(10),Ale.test(n)?n.replace("e",".e"):n}F(Wz,"representYamlFloat");function Gz(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||yi.isNegativeZero(t))}F(Gz,"isFloat");var kle=new fs("tag:yaml.org,2002:float",{kind:"scalar",resolve:Vz,construct:Hz,predicate:Gz,represent:Wz,defaultStyle:"lowercase"}),$z=ble.extend({implicit:[Ele,Cle,Tle,kle]}),Rle=$z,jz=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),qz=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Xz(t){return t===null?!1:jz.exec(t)!==null||qz.exec(t)!==null}F(Xz,"resolveYamlTimestamp");function Yz(t){var e,n,r,i,s,o,a,l=0,c=null,u,f,p;if(e=jz.exec(t),e===null&&(e=qz.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(s=+e[4],o=+e[5],a=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],f=+(e[11]||0),c=(u*60+f)*6e4,e[9]==="-"&&(c=-c)),p=new Date(Date.UTC(n,r,i,s,o,a,l)),c&&p.setTime(p.getTime()-c),p}F(Yz,"constructYamlTimestamp");function Kz(t){return t.toISOString()}F(Kz,"representYamlTimestamp");var Ple=new fs("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Xz,construct:Yz,instanceOf:Date,represent:Kz});function Zz(t){return t==="<<"||t===null}F(Zz,"resolveYamlMerge");var Lle=new fs("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Zz}),E2=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Jz(t){if(t===null)return!1;var e,n,r=0,i=t.length,s=E2;for(n=0;n<i;n++)if(e=s.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}F(Jz,"resolveYamlBinary");function Qz(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,s=E2,o=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):n===18?(a.push(o>>10&255),a.push(o>>2&255)):n===12&&a.push(o>>4&255),new Uint8Array(a)}F(Qz,"constructYamlBinary");function eU(t){var e="",n=0,r,i,s=t.length,o=E2;for(r=0;r<s;r++)r%3===0&&r&&(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]),n=(n<<8)+t[r];return i=s%3,i===0?(e+=o[n>>18&63],e+=o[n>>12&63],e+=o[n>>6&63],e+=o[n&63]):i===2?(e+=o[n>>10&63],e+=o[n>>4&63],e+=o[n<<2&63],e+=o[64]):i===1&&(e+=o[n>>2&63],e+=o[n<<4&63],e+=o[64],e+=o[64]),e}F(eU,"representYamlBinary");function tU(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}F(tU,"isBinary");var Ile=new fs("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Jz,construct:Qz,predicate:tU,represent:eU}),Dle=Object.prototype.hasOwnProperty,Ole=Object.prototype.toString;function nU(t){if(t===null)return!0;var e=[],n,r,i,s,o,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],o=!1,Ole.call(i)!=="[object Object]")return!1;for(s in i)if(Dle.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}F(nU,"resolveYamlOmap");function rU(t){return t!==null?t:[]}F(rU,"constructYamlOmap");var Nle=new fs("tag:yaml.org,2002:omap",{kind:"sequence",resolve:nU,construct:rU}),Ble=Object.prototype.toString;function iU(t){if(t===null)return!0;var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1){if(r=o[e],Ble.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;s[e]=[i[0],r[i[0]]]}return!0}F(iU,"resolveYamlPairs");function sU(t){if(t===null)return[];var e,n,r,i,s,o=t;for(s=new Array(o.length),e=0,n=o.length;e<n;e+=1)r=o[e],i=Object.keys(r),s[e]=[i[0],r[i[0]]];return s}F(sU,"constructYamlPairs");var Fle=new fs("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:iU,construct:sU}),zle=Object.prototype.hasOwnProperty;function oU(t){if(t===null)return!0;var e,n=t;for(e in n)if(zle.call(n,e)&&n[e]!==null)return!1;return!0}F(oU,"resolveYamlSet");function aU(t){return t!==null?t:{}}F(aU,"constructYamlSet");var Ule=new fs("tag:yaml.org,2002:set",{kind:"mapping",resolve:oU,construct:aU}),lU=Rle.extend({implicit:[Ple,Lle],explicit:[Ile,Nle,Fle,Ule]}),rh=Object.prototype.hasOwnProperty,xw=1,cU=2,uU=3,Sw=4,DC=1,Vle=2,qI=3,Hle=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Wle=/[\x85\u2028\u2029]/,Gle=/[,\[\]\{\}]/,hU=/^(?:!|!!|![a-z\-]+!)$/i,fU=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function QT(t){return Object.prototype.toString.call(t)}F(QT,"_class");function Ha(t){return t===10||t===13}F(Ha,"is_EOL");function Qu(t){return t===9||t===32}F(Qu,"is_WHITE_SPACE");function Ls(t){return t===9||t===32||t===10||t===13}F(Ls,"is_WS_OR_EOL");function Bf(t){return t===44||t===91||t===93||t===123||t===125}F(Bf,"is_FLOW_INDICATOR");function dU(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}F(dU,"fromHexCode");function pU(t){return t===120?2:t===117?4:t===85?8:0}F(pU,"escapedHexLen");function mU(t){return 48<=t&&t<=57?t-48:-1}F(mU,"fromDecimalCode");function eM(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}F(eM,"simpleEscapeSequence");function gU(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}F(gU,"charFromCodepoint");var yU=new Array(256),_U=new Array(256);for(mf=0;mf<256;mf++)yU[mf]=eM(mf)?1:0,_U[mf]=eM(mf);var mf;function vU(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||lU,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}F(vU,"State$1");function C2(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=gle(n),new ao(e,n)}F(C2,"generateError");function Zt(t,e){throw C2(t,e)}F(Zt,"throwError");function W0(t,e){t.onWarning&&t.onWarning.call(null,C2(t,e))}F(W0,"throwWarning");var XI={YAML:F(function(e,n,r){var i,s,o;e.version!==null&&Zt(e,"duplication of %YAML directive"),r.length!==1&&Zt(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&Zt(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&Zt(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&W0(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:F(function(e,n,r){var i,s;r.length!==2&&Zt(e,"TAG directive accepts exactly two arguments"),i=r[0],s=r[1],hU.test(i)||Zt(e,"ill-formed tag handle (first argument) of the TAG directive"),rh.call(e.tagMap,i)&&Zt(e,'there is a previously declared suffix for "'+i+'" tag handle'),fU.test(s)||Zt(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{Zt(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s},"handleTagDirective")};function Vc(t,e,n,r){var i,s,o,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||Zt(t,"expected valid JSON character");else Hle.test(a)&&Zt(t,"the stream contains non-printable characters");t.result+=a}}F(Vc,"captureSegment");function tM(t,e,n,r){var i,s,o,a;for(yi.isObject(n)||Zt(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),o=0,a=i.length;o<a;o+=1)s=i[o],rh.call(e,s)||(e[s]=n[s],r[s]=!0)}F(tM,"mergeMappings");function Ff(t,e,n,r,i,s,o,a,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&Zt(t,"nested arrays are not supported inside keys"),typeof i=="object"&&QT(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&QT(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)tM(t,e,s[c],n);else tM(t,e,s,n);else!t.json&&!rh.call(n,i)&&rh.call(e,i)&&(t.line=o||t.line,t.lineStart=a||t.lineStart,t.position=l||t.position,Zt(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete n[i];return e}F(Ff,"storeMappingPair");function G1(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):Zt(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}F(G1,"readLineBreak");function jr(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;Qu(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Ha(i))for(G1(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&W0(t,"deficient indentation"),r}F(jr,"skipSeparationSpace");function x_(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Ls(n)))}F(x_,"testDocumentSeparator");function $1(t,e){e===1?t.result+=" ":e>1&&(t.result+=yi.repeat(`
`,e-1))}F($1,"writeFoldedLines");function xU(t,e,n){var r,i,s,o,a,l,c,u,f=t.kind,p=t.result,m;if(m=t.input.charCodeAt(t.position),Ls(m)||Bf(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(i=t.input.charCodeAt(t.position+1),Ls(i)||n&&Bf(i)))return!1;for(t.kind="scalar",t.result="",s=o=t.position,a=!1;m!==0;){if(m===58){if(i=t.input.charCodeAt(t.position+1),Ls(i)||n&&Bf(i))break}else if(m===35){if(r=t.input.charCodeAt(t.position-1),Ls(r))break}else{if(t.position===t.lineStart&&x_(t)||n&&Bf(m))break;if(Ha(m))if(l=t.line,c=t.lineStart,u=t.lineIndent,jr(t,!1,-1),t.lineIndent>=e){a=!0,m=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=l,t.lineStart=c,t.lineIndent=u;break}}a&&(Vc(t,s,o,!1),$1(t,t.line-l),s=o=t.position,a=!1),Qu(m)||(o=t.position+1),m=t.input.charCodeAt(++t.position)}return Vc(t,s,o,!1),t.result?!0:(t.kind=f,t.result=p,!1)}F(xU,"readPlainScalar");function SU(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(Vc(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else Ha(n)?(Vc(t,r,i,!0),$1(t,jr(t,!1,e)),r=i=t.position):t.position===t.lineStart&&x_(t)?Zt(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);Zt(t,"unexpected end of the stream within a single quoted scalar")}F(SU,"readSingleQuotedScalar");function wU(t,e){var n,r,i,s,o,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return Vc(t,n,t.position,!0),t.position++,!0;if(a===92){if(Vc(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),Ha(a))jr(t,!1,e);else if(a<256&&yU[a])t.result+=_U[a],t.position++;else if((o=pU(a))>0){for(i=o,s=0;i>0;i--)a=t.input.charCodeAt(++t.position),(o=dU(a))>=0?s=(s<<4)+o:Zt(t,"expected hexadecimal character");t.result+=gU(s),t.position++}else Zt(t,"unknown escape sequence");n=r=t.position}else Ha(a)?(Vc(t,n,r,!0),$1(t,jr(t,!1,e)),n=r=t.position):t.position===t.lineStart&&x_(t)?Zt(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}Zt(t,"unexpected end of the stream within a double quoted scalar")}F(wU,"readDoubleQuotedScalar");function bU(t,e){var n=!0,r,i,s,o=t.tag,a,l=t.anchor,c,u,f,p,m,_=Object.create(null),S,w,x,C;if(C=t.input.charCodeAt(t.position),C===91)u=93,m=!1,a=[];else if(C===123)u=125,m=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),C=t.input.charCodeAt(++t.position);C!==0;){if(jr(t,!0,e),C=t.input.charCodeAt(t.position),C===u)return t.position++,t.tag=o,t.anchor=l,t.kind=m?"mapping":"sequence",t.result=a,!0;n?C===44&&Zt(t,"expected the node content, but found ','"):Zt(t,"missed comma between flow collection entries"),w=S=x=null,f=p=!1,C===63&&(c=t.input.charCodeAt(t.position+1),Ls(c)&&(f=p=!0,t.position++,jr(t,!0,e))),r=t.line,i=t.lineStart,s=t.position,td(t,e,xw,!1,!0),w=t.tag,S=t.result,jr(t,!0,e),C=t.input.charCodeAt(t.position),(p||t.line===r)&&C===58&&(f=!0,C=t.input.charCodeAt(++t.position),jr(t,!0,e),td(t,e,xw,!1,!0),x=t.result),m?Ff(t,a,_,w,S,x,r,i,s):f?a.push(Ff(t,null,_,w,S,x,r,i,s)):a.push(S),jr(t,!0,e),C=t.input.charCodeAt(t.position),C===44?(n=!0,C=t.input.charCodeAt(++t.position)):n=!1}Zt(t,"unexpected end of the stream within a flow collection")}F(bU,"readFlowCollection");function EU(t,e){var n,r,i=DC,s=!1,o=!1,a=e,l=0,c=!1,u,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)DC===i?i=f===43?qI:Vle:Zt(t,"repeat of a chomping mode identifier");else if((u=mU(f))>=0)u===0?Zt(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?Zt(t,"repeat of an indentation width identifier"):(a=e+u-1,o=!0);else break;if(Qu(f)){do f=t.input.charCodeAt(++t.position);while(Qu(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!Ha(f)&&f!==0)}for(;f!==0;){for(G1(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!o||t.lineIndent<a)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>a&&(a=t.lineIndent),Ha(f)){l++;continue}if(t.lineIndent<a){i===qI?t.result+=yi.repeat(`
`,s?1+l:l):i===DC&&s&&(t.result+=`
`);break}for(r?Qu(f)?(c=!0,t.result+=yi.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=yi.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=yi.repeat(`
`,l):t.result+=yi.repeat(`
`,s?1+l:l),s=!0,o=!0,l=0,n=t.position;!Ha(f)&&f!==0;)f=t.input.charCodeAt(++t.position);Vc(t,n,t.position,!1)}return!0}F(EU,"readBlockScalar");function nM(t,e){var n,r=t.tag,i=t.anchor,s=[],o,a=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Zt(t,"tab characters must not be used in indentation")),!(l!==45||(o=t.input.charCodeAt(t.position+1),!Ls(o))));){if(a=!0,t.position++,jr(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,td(t,e,uU,!1,!0),s.push(t.result),jr(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)Zt(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}F(nM,"readBlockSequence");function CU(t,e,n){var r,i,s,o,a,l,c=t.tag,u=t.anchor,f={},p=Object.create(null),m=null,_=null,S=null,w=!1,x=!1,C;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),C=t.input.charCodeAt(t.position);C!==0;){if(!w&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,Zt(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),s=t.line,(C===63||C===58)&&Ls(r))C===63?(w&&(Ff(t,f,p,m,_,null,o,a,l),m=_=S=null),x=!0,w=!0,i=!0):w?(w=!1,i=!0):Zt(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,C=r;else{if(o=t.line,a=t.lineStart,l=t.position,!td(t,n,cU,!1,!0))break;if(t.line===s){for(C=t.input.charCodeAt(t.position);Qu(C);)C=t.input.charCodeAt(++t.position);if(C===58)C=t.input.charCodeAt(++t.position),Ls(C)||Zt(t,"a whitespace character is expected after the key-value separator within a block mapping"),w&&(Ff(t,f,p,m,_,null,o,a,l),m=_=S=null),x=!0,w=!1,i=!1,m=t.tag,_=t.result;else if(x)Zt(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(x)Zt(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===s||t.lineIndent>e)&&(w&&(o=t.line,a=t.lineStart,l=t.position),td(t,e,Sw,!0,i)&&(w?_=t.result:S=t.result),w||(Ff(t,f,p,m,_,S,o,a,l),m=_=S=null),jr(t,!0,-1),C=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&C!==0)Zt(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return w&&Ff(t,f,p,m,_,null,o,a,l),x&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=f),x}F(CU,"readBlockMapping");function TU(t){var e,n=!1,r=!1,i,s,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&Zt(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(n=!0,o=t.input.charCodeAt(++t.position)):o===33?(r=!0,i="!!",o=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(s=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):Zt(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!Ls(o);)o===33&&(r?Zt(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),hU.test(i)||Zt(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),Gle.test(s)&&Zt(t,"tag suffix cannot contain flow indicator characters")}s&&!fU.test(s)&&Zt(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{Zt(t,"tag name is malformed: "+s)}return n?t.tag=s:rh.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:Zt(t,'undeclared tag handle "'+i+'"'),!0}F(TU,"readTagProperty");function MU(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&Zt(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ls(n)&&!Bf(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&Zt(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}F(MU,"readAnchorProperty");function AU(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Ls(r)&&!Bf(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&Zt(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),rh.call(t.anchorMap,n)||Zt(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],jr(t,!0,-1),!0}F(AU,"readAlias");function td(t,e,n,r,i){var s,o,a,l=1,c=!1,u=!1,f,p,m,_,S,w;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=o=a=Sw===n||uU===n,r&&jr(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;TU(t)||MU(t);)jr(t,!0,-1)?(c=!0,a=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||Sw===n)&&(xw===n||cU===n?S=e:S=e+1,w=t.position-t.lineStart,l===1?a&&(nM(t,w)||CU(t,w,S))||bU(t,S)?u=!0:(o&&EU(t,S)||SU(t,S)||wU(t,S)?u=!0:AU(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&Zt(t,"alias node should not have any properties")):xU(t,S,xw===n)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=a&&nM(t,w))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&Zt(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,p=t.implicitTypes.length;f<p;f+=1)if(_=t.implicitTypes[f],_.resolve(t.result)){t.result=_.construct(t.result),t.tag=_.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(rh.call(t.typeMap[t.kind||"fallback"],t.tag))_=t.typeMap[t.kind||"fallback"][t.tag];else for(_=null,m=t.typeMap.multi[t.kind||"fallback"],f=0,p=m.length;f<p;f+=1)if(t.tag.slice(0,m[f].tag.length)===m[f].tag){_=m[f];break}_||Zt(t,"unknown tag !<"+t.tag+">"),t.result!==null&&_.kind!==t.kind&&Zt(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+_.kind+'", not "'+t.kind+'"'),_.resolve(t.result,t.tag)?(t.result=_.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):Zt(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}F(td,"composeNode");function kU(t){var e=t.position,n,r,i,s=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(jr(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(s=!0,o=t.input.charCodeAt(++t.position),n=t.position;o!==0&&!Ls(o);)o=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&Zt(t,"directive name must not be less than one character in length");o!==0;){for(;Qu(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Ha(o));break}if(Ha(o))break;for(n=t.position;o!==0&&!Ls(o);)o=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}o!==0&&G1(t),rh.call(XI,r)?XI[r](t,r,i):W0(t,'unknown document directive "'+r+'"')}if(jr(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,jr(t,!0,-1)):s&&Zt(t,"directives end mark is expected"),td(t,t.lineIndent-1,Sw,!1,!0),jr(t,!0,-1),t.checkLineBreaks&&Wle.test(t.input.slice(e,t.position))&&W0(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&x_(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,jr(t,!0,-1));return}if(t.position<t.length-1)Zt(t,"end of the stream or a document separator is expected");else return}F(kU,"readDocument");function T2(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new vU(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,Zt(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)kU(n);return n.documents}F(T2,"loadDocuments");function $le(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=T2(t,n);if(typeof e!="function")return r;for(var i=0,s=r.length;i<s;i+=1)e(r[i])}F($le,"loadAll$1");function RU(t,e){var n=T2(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new ao("expected a single document in the stream, but found more")}}F(RU,"load$1");var jle=RU,qle={load:jle},PU=Object.prototype.toString,LU=Object.prototype.hasOwnProperty,M2=65279,Xle=9,G0=10,Yle=13,Kle=32,Zle=33,Jle=34,rM=35,Qle=37,ece=38,tce=39,nce=42,IU=44,rce=45,ww=58,ice=61,sce=62,oce=63,ace=64,DU=91,OU=93,lce=96,NU=123,cce=124,BU=125,ms={};ms[0]="\\0";ms[7]="\\a";ms[8]="\\b";ms[9]="\\t";ms[10]="\\n";ms[11]="\\v";ms[12]="\\f";ms[13]="\\r";ms[27]="\\e";ms[34]='\\"';ms[92]="\\\\";ms[133]="\\N";ms[160]="\\_";ms[8232]="\\L";ms[8233]="\\P";var uce=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],hce=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function FU(t,e){var n,r,i,s,o,a,l;if(e===null)return{};for(n={},r=Object.keys(e),i=0,s=r.length;i<s;i+=1)o=r[i],a=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=t.compiledTypeMap.fallback[o],l&&LU.call(l.styleAliases,a)&&(a=l.styleAliases[a]),n[o]=a;return n}F(FU,"compileStyleMap");function zU(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new ao("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+yi.repeat("0",r-e.length)+e}F(zU,"encodeHex");var fce=1,$0=2;function UU(t){this.schema=t.schema||lU,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=yi.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=FU(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?$0:fce,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}F(UU,"State");function iM(t,e){for(var n=yi.repeat(" ",e),r=0,i=-1,s="",o,a=t.length;r<a;)i=t.indexOf(`
`,r),i===-1?(o=t.slice(r),r=a):(o=t.slice(r,i+1),r=i+1),o.length&&o!==`
`&&(s+=n),s+=o;return s}F(iM,"indentString");function bw(t,e){return`
`+yi.repeat(" ",t.indent*e)}F(bw,"generateNextLine");function VU(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}F(VU,"testImplicitResolving");function j0(t){return t===Kle||t===Xle}F(j0,"isWhitespace");function Lm(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==M2||65536<=t&&t<=1114111}F(Lm,"isPrintable");function sM(t){return Lm(t)&&t!==M2&&t!==Yle&&t!==G0}F(sM,"isNsCharOrWhitespace");function oM(t,e,n){var r=sM(t),i=r&&!j0(t);return(n?r:r&&t!==IU&&t!==DU&&t!==OU&&t!==NU&&t!==BU)&&t!==rM&&!(e===ww&&!i)||sM(e)&&!j0(e)&&t===rM||e===ww&&i}F(oM,"isPlainSafe");function HU(t){return Lm(t)&&t!==M2&&!j0(t)&&t!==rce&&t!==oce&&t!==ww&&t!==IU&&t!==DU&&t!==OU&&t!==NU&&t!==BU&&t!==rM&&t!==ece&&t!==nce&&t!==Zle&&t!==cce&&t!==ice&&t!==sce&&t!==tce&&t!==Jle&&t!==Qle&&t!==ace&&t!==lce}F(HU,"isPlainSafeFirst");function WU(t){return!j0(t)&&t!==ww}F(WU,"isPlainSafeLast");function Zp(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}F(Zp,"codePointAt");function A2(t){var e=/^\n* /;return e.test(t)}F(A2,"needIndentIndicator");var GU=1,aM=2,$U=3,jU=4,Hp=5;function qU(t,e,n,r,i,s,o,a){var l,c=0,u=null,f=!1,p=!1,m=r!==-1,_=-1,S=HU(Zp(t,0))&&WU(Zp(t,t.length-1));if(e||o)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Zp(t,l),!Lm(c))return Hp;S=S&&oM(c,u,a),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=Zp(t,l),c===G0)f=!0,m&&(p=p||l-_-1>r&&t[_+1]!==" ",_=l);else if(!Lm(c))return Hp;S=S&&oM(c,u,a),u=c}p=p||m&&l-_-1>r&&t[_+1]!==" "}return!f&&!p?S&&!o&&!i(t)?GU:s===$0?Hp:aM:n>9&&A2(t)?Hp:o?s===$0?Hp:aM:p?jU:$U}F(qU,"chooseScalarStyle");function XU(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===$0?'""':"''";if(!t.noCompatMode&&(uce.indexOf(e)!==-1||hce.test(e)))return t.quotingType===$0?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,n),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),a=r||t.flowLevel>-1&&n>=t.flowLevel;function l(c){return VU(t,c)}switch(F(l,"testAmbiguity"),qU(e,a,t.indent,o,l,t.quotingType,t.forceQuotes&&!r,i)){case GU:return e;case aM:return"'"+e.replace(/'/g,"''")+"'";case $U:return"|"+lM(e,t.indent)+cM(iM(e,s));case jU:return">"+lM(e,t.indent)+cM(iM(YU(e,o),s));case Hp:return'"'+KU(e)+'"';default:throw new ao("impossible error: invalid scalar style")}}()}F(XU,"writeScalar");function lM(t,e){var n=A2(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),s=i?"+":r?"":"-";return n+s+`
`}F(lM,"blockHeader");function cM(t){return t[t.length-1]===`
`?t.slice(0,-1):t}F(cM,"dropEndingNewline");function YU(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,n.lastIndex=c,uM(t.slice(0,c),e)}(),i=t[0]===`
`||t[0]===" ",s,o;o=n.exec(t);){var a=o[1],l=o[2];s=l[0]===" ",r+=a+(!i&&!s&&l!==""?`
`:"")+uM(l,e),i=s}return r}F(YU,"foldString");function uM(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,s,o=0,a=0,l="";r=n.exec(t);)a=r.index,a-i>e&&(s=o>i?o:a,l+=`
`+t.slice(i,s),i=s+1),o=a;return l+=`
`,t.length-i>e&&o>i?l+=t.slice(i,o)+`
`+t.slice(o+1):l+=t.slice(i),l.slice(1)}F(uM,"foldLine");function KU(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=Zp(t,i),r=ms[n],!r&&Lm(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||zU(n);return e}F(KU,"escapeString");function ZU(t,e,n){var r="",i=t.tag,s,o,a;for(s=0,o=n.length;s<o;s+=1)a=n[s],t.replacer&&(a=t.replacer.call(n,String(s),a)),(Ll(t,e,a,!1,!1)||typeof a>"u"&&Ll(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}F(ZU,"writeFlowSequence");function hM(t,e,n,r){var i="",s=t.tag,o,a,l;for(o=0,a=n.length;o<a;o+=1)l=n[o],t.replacer&&(l=t.replacer.call(n,String(o),l)),(Ll(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Ll(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=bw(t,e)),t.dump&&G0===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}F(hM,"writeBlockSequence");function JU(t,e,n){var r="",i=t.tag,s=Object.keys(n),o,a,l,c,u;for(o=0,a=s.length;o<a;o+=1)u="",r!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=s[o],c=n[l],t.replacer&&(c=t.replacer.call(n,l,c)),Ll(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Ll(t,e,c,!1,!1)&&(u+=t.dump,r+=u));t.tag=i,t.dump="{"+r+"}"}F(JU,"writeFlowMapping");function QU(t,e,n,r){var i="",s=t.tag,o=Object.keys(n),a,l,c,u,f,p;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new ao("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)p="",(!r||i!=="")&&(p+=bw(t,e)),c=o[a],u=n[c],t.replacer&&(u=t.replacer.call(n,c,u)),Ll(t,e+1,c,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&G0===t.dump.charCodeAt(0)?p+="?":p+="? "),p+=t.dump,f&&(p+=bw(t,e)),Ll(t,e+1,u,!0,f)&&(t.dump&&G0===t.dump.charCodeAt(0)?p+=":":p+=": ",p+=t.dump,i+=p));t.tag=s,t.dump=i||"{}"}F(QU,"writeBlockMapping");function fM(t,e,n){var r,i,s,o,a,l;for(i=n?t.explicitTypes:t.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(l=t.styleMap[a.tag]||a.defaultStyle,PU.call(a.represent)==="[object Function]")r=a.represent(e,l);else if(LU.call(a.represent,l))r=a.represent[l](e,l);else throw new ao("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');t.dump=r}return!0}return!1}F(fM,"detectType");function Ll(t,e,n,r,i,s,o){t.tag=null,t.dump=n,fM(t,n,!1)||fM(t,n,!0);var a=PU.call(t.dump),l=r,c;r&&(r=t.flowLevel<0||t.flowLevel>e);var u=a==="[object Object]"||a==="[object Array]",f,p;if(u&&(f=t.duplicates.indexOf(n),p=f!==-1),(t.tag!==null&&t.tag!=="?"||p||t.indent!==2&&e>0)&&(i=!1),p&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(u&&p&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(QU(t,e,t.dump,i),p&&(t.dump="&ref_"+f+t.dump)):(JU(t,e,t.dump),p&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?hM(t,e-1,t.dump,i):hM(t,e,t.dump,i),p&&(t.dump="&ref_"+f+t.dump)):(ZU(t,e,t.dump),p&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&XU(t,t.dump,e,s,l);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new ao("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}F(Ll,"writeNode");function e4(t,e){var n=[],r=[],i,s;for(Ew(t,n,r),i=0,s=r.length;i<s;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(s)}F(e4,"getDuplicateReferences");function Ew(t,e,n){var r,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)Ew(t[i],e,n);else for(r=Object.keys(t),i=0,s=r.length;i<s;i+=1)Ew(t[r[i]],e,n)}F(Ew,"inspectNode");function dce(t,e){e=e||{};var n=new UU(e);n.noRefs||e4(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Ll(n,0,r,!0,!0)?n.dump+`
`:""}F(dce,"dump$1");function pce(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}F(pce,"renamed");var mce=$z,gce=qle.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/const yce=Object.freeze({left:0,top:0,width:16,height:16}),Cw=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),t4=Object.freeze({...yce,...Cw}),_ce=Object.freeze({...t4,body:"",hidden:!1}),vce=Object.freeze({width:null,height:null}),xce=Object.freeze({...vce,...Cw}),Sce=(t,e,n,r="")=>{const i=t.split(":");if(t.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),c={provider:i.length>0?i[0]:r,prefix:l,name:a};return OC(c)?c:null}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return OC(a)?a:null}if(n&&r===""){const a={provider:r,prefix:"",name:s};return OC(a,n)?a:null}return null},OC=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function wce(t,e){const n={};!t.hFlip!=!e.hFlip&&(n.hFlip=!0),!t.vFlip!=!e.vFlip&&(n.vFlip=!0);const r=((t.rotate||0)+(e.rotate||0))%4;return r&&(n.rotate=r),n}function YI(t,e){const n=wce(t,e);for(const r in _ce)r in Cw?r in t&&!(r in n)&&(n[r]=Cw[r]):r in e?n[r]=e[r]:r in t&&(n[r]=t[r]);return n}function bce(t,e){const n=t.icons,r=t.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(e||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function KI(t,e,n){const r=t.icons,i=t.aliases||Object.create(null);let s={};function o(a){s=YI(r[a]||i[a],s)}return o(e),n.forEach(o),YI(t,s)}function Ece(t,e){if(t.icons[e])return KI(t,e,[]);const n=bce(t,[e])[e];return n?KI(t,e,n):null}const Cce=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Tce=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function ZI(t,e,n){if(e===1)return t;if(n=n||100,typeof t=="number")return Math.ceil(t*e*n)/n;if(typeof t!="string")return t;const r=t.split(Cce);if(r===null||!r.length)return t;const i=[];let s=r.shift(),o=Tce.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*e*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}function Mce(t,e="defs"){let n="";const r=t.indexOf("<"+e);for(;r>=0;){const i=t.indexOf(">",r),s=t.indexOf("</"+e);if(i===-1||s===-1)break;const o=t.indexOf(">",s);if(o===-1)break;n+=t.slice(i+1,s).trim(),t=t.slice(0,r).trim()+t.slice(o+1)}return{defs:n,content:t}}function Ace(t,e){return t?"<defs>"+t+"</defs>"+e:e}function kce(t,e,n){const r=Mce(t);return Ace(r.defs,e+r.content+n)}const Rce=t=>t==="unset"||t==="undefined"||t==="none";function Pce(t,e){const n={...t4,...t},r={...xce,...e},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(S=>{const w=[],x=S.hFlip,C=S.vFlip;let T=S.rotate;x?C?T+=2:(w.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),w.push("scale(-1 1)"),i.top=i.left=0):C&&(w.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),w.push("scale(1 -1)"),i.top=i.left=0);let A;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:A=i.height/2+i.top,w.unshift("rotate(90 "+A.toString()+" "+A.toString()+")");break;case 2:w.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:A=i.width/2+i.left,w.unshift("rotate(-90 "+A.toString()+" "+A.toString()+")");break}T%2===1&&(i.left!==i.top&&(A=i.left,i.left=i.top,i.top=A),i.width!==i.height&&(A=i.width,i.width=i.height,i.height=A)),w.length&&(s=kce(s,'<g transform="'+w.join(" ")+'">',"</g>"))});const o=r.width,a=r.height,l=i.width,c=i.height;let u,f;o===null?(f=a===null?"1em":a==="auto"?c:a,u=ZI(f,l/c)):(u=o==="auto"?l:o,f=a===null?ZI(u,c/l):a==="auto"?c:a);const p={},m=(S,w)=>{Rce(w)||(p[S]=w.toString())};m("width",u),m("height",f);const _=[i.left,i.top,l,c];return p.viewBox=_.join(" "),{attributes:p,viewBox:_,body:s}}const Lce=/\sid="(\S+)"/g,Ice="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Dce=0;function Oce(t,e=Ice){const n=[];let r;for(;r=Lce.exec(t);)n.push(r[1]);if(!n.length)return t;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const o=typeof e=="function"?e(s):e+(Dce++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),t=t.replace(new RegExp(i,"g"),""),t}function Nce(t,e){let n=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in e)n+=" "+r+'="'+e[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+t+"</svg>"}var Bce={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},dM=new Map,n4=new Map,Fce=F(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Je.debug("Registering icon pack:",e.name),"loader"in e)n4.set(e.name,e.loader);else if("icons"in e)dM.set(e.name,e.icons);else throw Je.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),zce=F(async(t,e)=>{const n=Sce(t,!0,e!==void 0);if(!n)throw new Error(`Invalid icon name: ${t}`);const r=n.prefix||e;if(!r)throw new Error(`Icon name must contain a prefix: ${t}`);let i=dM.get(r);if(!i){const o=n4.get(r);if(!o)throw new Error(`Icon set not found: ${n.prefix}`);try{i={...await o(),prefix:r},dM.set(r,i)}catch(a){throw Je.error(a),new Error(`Failed to load icon set: ${n.prefix}`)}}const s=Ece(i,n.name);if(!s)throw new Error(`Icon not found: ${t}`);return s},"getRegisteredIconData"),j1=F(async(t,e)=>{let n;try{n=await zce(t,e==null?void 0:e.fallbackPrefix)}catch(s){Je.error(s),n=Bce}const r=Pce(n,e);return Nce(Oce(r.body),r.attributes)},"getIconSVG"),k2=F(({flowchart:t})=>{var i,s;const e=((i=t==null?void 0:t.subGraphTitleMargin)==null?void 0:i.top)??0,n=((s=t==null?void 0:t.subGraphTitleMargin)==null?void 0:s.bottom)??0,r=e+n;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:n,subGraphTitleTotalMargin:r}},"getSubGraphTitleMargins"),Ay={},mi={},JI;function Uce(){return JI||(JI=1,Object.defineProperty(mi,"__esModule",{value:!0}),mi.BLANK_URL=mi.relativeFirstCharacters=mi.whitespaceEscapeCharsRegex=mi.urlSchemeRegex=mi.ctrlCharactersRegex=mi.htmlCtrlEntityRegex=mi.htmlEntitiesRegex=mi.invalidProtocolRegex=void 0,mi.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,mi.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,mi.htmlCtrlEntityRegex=/&(newline|tab);/gi,mi.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,mi.urlSchemeRegex=/^.+(:|&colon;)/gim,mi.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,mi.relativeFirstCharacters=[".","/"],mi.BLANK_URL="about:blank"),mi}var QI;function Vce(){if(QI)return Ay;QI=1,Object.defineProperty(Ay,"__esModule",{value:!0}),Ay.sanitizeUrl=void 0;var t=Uce();function e(o){return t.relativeFirstCharacters.indexOf(o[0])>-1}function n(o){var a=o.replace(t.ctrlCharactersRegex,"");return a.replace(t.htmlEntitiesRegex,function(l,c){return String.fromCharCode(c)})}function r(o){return URL.canParse(o)}function i(o){try{return decodeURIComponent(o)}catch{return o}}function s(o){if(!o)return t.BLANK_URL;var a,l=i(o.trim());do l=n(l).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim(),l=i(l),a=l.match(t.ctrlCharactersRegex)||l.match(t.htmlEntitiesRegex)||l.match(t.htmlCtrlEntityRegex)||l.match(t.whitespaceEscapeCharsRegex);while(a&&a.length>0);var c=l;if(!c)return t.BLANK_URL;if(e(c))return c;var u=c.trimStart(),f=u.match(t.urlSchemeRegex);if(!f)return c;var p=f[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(p))return t.BLANK_URL;var m=u.replace(/\\/g,"/");if(p==="mailto:"||p.includes("://"))return m;if(p==="http:"||p==="https:"){if(!r(m))return t.BLANK_URL;var _=new URL(m);return _.protocol=_.protocol.toLowerCase(),_.hostname=_.hostname.toLowerCase(),_.toString()}return m}return Ay.sanitizeUrl=s,Ay}var Hce=Vce(),Wce={value:()=>{}};function r4(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new tS(n)}function tS(t){this._=t}function Gce(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}tS.prototype=r4.prototype={constructor:tS,on:function(t,e){var n=this._,r=Gce(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=$ce(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=eD(n[i],t.name,e);else if(e==null)for(i in n)n[i]=eD(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new tS(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function $ce(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function eD(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Wce,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var pM="http://www.w3.org/1999/xhtml";const tD={svg:"http://www.w3.org/2000/svg",xhtml:pM,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function q1(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),tD.hasOwnProperty(e)?{space:tD[e],local:t}:t}function jce(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pM&&e.documentElement.namespaceURI===pM?e.createElement(t):e.createElementNS(n,t)}}function qce(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function i4(t){var e=q1(t);return(e.local?qce:jce)(e)}function Xce(){}function R2(t){return t==null?Xce:function(){return this.querySelector(t)}}function Yce(t){typeof t!="function"&&(t=R2(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=t.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Do(r,this._parents)}function Kce(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Zce(){return[]}function s4(t){return t==null?Zce:function(){return this.querySelectorAll(t)}}function Jce(t){return function(){return Kce(t.apply(this,arguments))}}function Qce(t){typeof t=="function"?t=Jce(t):t=s4(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new Do(r,i)}function o4(t){return function(){return this.matches(t)}}function a4(t){return function(e){return e.matches(t)}}var eue=Array.prototype.find;function tue(t){return function(){return eue.call(this.children,t)}}function nue(){return this.firstElementChild}function rue(t){return this.select(t==null?nue:tue(typeof t=="function"?t:a4(t)))}var iue=Array.prototype.filter;function sue(){return Array.from(this.children)}function oue(t){return function(){return iue.call(this.children,t)}}function aue(t){return this.selectAll(t==null?sue:oue(typeof t=="function"?t:a4(t)))}function lue(t){typeof t!="function"&&(t=o4(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Do(r,this._parents)}function l4(t){return new Array(t.length)}function cue(){return new Do(this._enter||this._groups.map(l4),this._parents)}function Tw(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Tw.prototype={constructor:Tw,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function uue(t){return function(){return t}}function hue(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Tw(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function fue(t,e,n,r,i,s,o){var a,l,c=new Map,u=e.length,f=s.length,p=new Array(u),m;for(a=0;a<u;++a)(l=e[a])&&(p[a]=m=o.call(l,l.__data__,a,e)+"",c.has(m)?i[a]=l:c.set(m,l));for(a=0;a<f;++a)m=o.call(t,s[a],a,s)+"",(l=c.get(m))?(r[a]=l,l.__data__=s[a],c.delete(m)):n[a]=new Tw(t,s[a]);for(a=0;a<u;++a)(l=e[a])&&c.get(p[a])===l&&(i[a]=l)}function due(t){return t.__data__}function pue(t,e){if(!arguments.length)return Array.from(this,due);var n=e?fue:hue,r=this._parents,i=this._groups;typeof t!="function"&&(t=uue(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],f=i[c],p=f.length,m=mue(t.call(u,u&&u.__data__,c,r)),_=m.length,S=a[c]=new Array(_),w=o[c]=new Array(_),x=l[c]=new Array(p);n(u,f,S,w,x,m,e);for(var C=0,T=0,A,L;C<_;++C)if(A=S[C]){for(C>=T&&(T=C+1);!(L=w[T])&&++T<_;);A._next=L||null}}return o=new Do(o,r),o._enter=a,o._exit=l,o}function mue(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gue(){return new Do(this._exit||this._groups.map(l4),this._parents)}function yue(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function _ue(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],f=c.length,p=a[l]=new Array(f),m,_=0;_<f;++_)(m=c[_]||u[_])&&(p[_]=m);for(;l<i;++l)a[l]=n[l];return new Do(a,this._parents)}function vue(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function xue(t){t||(t=Sue);function e(f,p){return f&&p?t(f.__data__,p.__data__):!f-!p}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(e)}return new Do(i,this._parents).order()}function Sue(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function wue(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function bue(){return Array.from(this)}function Eue(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Cue(){let t=0;for(const e of this)++t;return t}function Tue(){return!this.node()}function Mue(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Aue(t){return function(){this.removeAttribute(t)}}function kue(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rue(t,e){return function(){this.setAttribute(t,e)}}function Pue(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Lue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Iue(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Due(t,e){var n=q1(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?kue:Aue:typeof e=="function"?n.local?Iue:Lue:n.local?Pue:Rue)(n,e))}function c4(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Oue(t){return function(){this.style.removeProperty(t)}}function Nue(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Bue(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Fue(t,e,n){return arguments.length>1?this.each((e==null?Oue:typeof e=="function"?Bue:Nue)(t,e,n??"")):Im(this.node(),t)}function Im(t,e){return t.style.getPropertyValue(e)||c4(t).getComputedStyle(t,null).getPropertyValue(e)}function zue(t){return function(){delete this[t]}}function Uue(t,e){return function(){this[t]=e}}function Vue(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Hue(t,e){return arguments.length>1?this.each((e==null?zue:typeof e=="function"?Vue:Uue)(t,e)):this.node()[t]}function u4(t){return t.trim().split(/^|\s+/)}function P2(t){return t.classList||new h4(t)}function h4(t){this._node=t,this._names=u4(t.getAttribute("class")||"")}h4.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function f4(t,e){for(var n=P2(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function d4(t,e){for(var n=P2(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wue(t){return function(){f4(this,t)}}function Gue(t){return function(){d4(this,t)}}function $ue(t,e){return function(){(e.apply(this,arguments)?f4:d4)(this,t)}}function jue(t,e){var n=u4(t+"");if(arguments.length<2){for(var r=P2(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?$ue:e?Wue:Gue)(n,e))}function que(){this.textContent=""}function Xue(t){return function(){this.textContent=t}}function Yue(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Kue(t){return arguments.length?this.each(t==null?que:(typeof t=="function"?Yue:Xue)(t)):this.node().textContent}function Zue(){this.innerHTML=""}function Jue(t){return function(){this.innerHTML=t}}function Que(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ehe(t){return arguments.length?this.each(t==null?Zue:(typeof t=="function"?Que:Jue)(t)):this.node().innerHTML}function the(){this.nextSibling&&this.parentNode.appendChild(this)}function nhe(){return this.each(the)}function rhe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ihe(){return this.each(rhe)}function she(t){var e=typeof t=="function"?t:i4(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function ohe(){return null}function ahe(t,e){var n=typeof t=="function"?t:i4(t),r=e==null?ohe:typeof e=="function"?e:R2(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function lhe(){var t=this.parentNode;t&&t.removeChild(this)}function che(){return this.each(lhe)}function uhe(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function hhe(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function fhe(t){return this.select(t?hhe:uhe)}function dhe(t){return arguments.length?this.property("__data__",t):this.node().__data__}function phe(t){return function(e){t.call(this,e,this.__data__)}}function mhe(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function ghe(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function yhe(t,e,n){return function(){var r=this.__on,i,s=phe(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function _he(t,e,n){var r=mhe(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=e?yhe:ghe,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function p4(t,e,n){var r=c4(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function vhe(t,e){return function(){return p4(this,t,e)}}function xhe(t,e){return function(){return p4(this,t,e.apply(this,arguments))}}function She(t,e){return this.each((typeof e=="function"?xhe:vhe)(t,e))}function*whe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var m4=[null];function Do(t,e){this._groups=t,this._parents=e}function S_(){return new Do([[document.documentElement]],m4)}function bhe(){return this}Do.prototype=S_.prototype={constructor:Do,select:Yce,selectAll:Qce,selectChild:rue,selectChildren:aue,filter:lue,data:pue,enter:cue,exit:gue,join:yue,merge:_ue,selection:bhe,order:vue,sort:xue,call:wue,nodes:bue,node:Eue,size:Cue,empty:Tue,each:Mue,attr:Due,style:Fue,property:Hue,classed:jue,text:Kue,html:ehe,raise:nhe,lower:ihe,append:she,insert:ahe,remove:che,clone:fhe,datum:dhe,on:_he,dispatch:She,[Symbol.iterator]:whe};function nr(t){return typeof t=="string"?new Do([[document.querySelector(t)]],[document.documentElement]):new Do([[t]],m4)}function L2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function g4(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function w_(){}var q0=.7,Mw=1/q0,cm="\\s*([+-]?\\d+)\\s*",X0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Al="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ehe=/^#([0-9a-f]{3,8})$/,Che=new RegExp(`^rgb\\(${cm},${cm},${cm}\\)$`),The=new RegExp(`^rgb\\(${Al},${Al},${Al}\\)$`),Mhe=new RegExp(`^rgba\\(${cm},${cm},${cm},${X0}\\)$`),Ahe=new RegExp(`^rgba\\(${Al},${Al},${Al},${X0}\\)$`),khe=new RegExp(`^hsl\\(${X0},${Al},${Al}\\)$`),Rhe=new RegExp(`^hsla\\(${X0},${Al},${Al},${X0}\\)$`),nD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};L2(w_,Y0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:rD,formatHex:rD,formatHex8:Phe,formatHsl:Lhe,formatRgb:iD,toString:iD});function rD(){return this.rgb().formatHex()}function Phe(){return this.rgb().formatHex8()}function Lhe(){return y4(this).formatHsl()}function iD(){return this.rgb().formatRgb()}function Y0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ehe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?sD(e):n===3?new co(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Rx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Rx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Che.exec(t))?new co(e[1],e[2],e[3],1):(e=The.exec(t))?new co(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Mhe.exec(t))?Rx(e[1],e[2],e[3],e[4]):(e=Ahe.exec(t))?Rx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=khe.exec(t))?lD(e[1],e[2]/100,e[3]/100,1):(e=Rhe.exec(t))?lD(e[1],e[2]/100,e[3]/100,e[4]):nD.hasOwnProperty(t)?sD(nD[t]):t==="transparent"?new co(NaN,NaN,NaN,0):null}function sD(t){return new co(t>>16&255,t>>8&255,t&255,1)}function Rx(t,e,n,r){return r<=0&&(t=e=n=NaN),new co(t,e,n,r)}function Ihe(t){return t instanceof w_||(t=Y0(t)),t?(t=t.rgb(),new co(t.r,t.g,t.b,t.opacity)):new co}function mM(t,e,n,r){return arguments.length===1?Ihe(t):new co(t,e,n,r??1)}function co(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}L2(co,mM,g4(w_,{brighter(t){return t=t==null?Mw:Math.pow(Mw,t),new co(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?q0:Math.pow(q0,t),new co(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new co(jf(this.r),jf(this.g),jf(this.b),Aw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oD,formatHex:oD,formatHex8:Dhe,formatRgb:aD,toString:aD}));function oD(){return`#${zf(this.r)}${zf(this.g)}${zf(this.b)}`}function Dhe(){return`#${zf(this.r)}${zf(this.g)}${zf(this.b)}${zf((isNaN(this.opacity)?1:this.opacity)*255)}`}function aD(){const t=Aw(this.opacity);return`${t===1?"rgb(":"rgba("}${jf(this.r)}, ${jf(this.g)}, ${jf(this.b)}${t===1?")":`, ${t})`}`}function Aw(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function jf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function zf(t){return t=jf(t),(t<16?"0":"")+t.toString(16)}function lD(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new za(t,e,n,r)}function y4(t){if(t instanceof za)return new za(t.h,t.s,t.l,t.opacity);if(t instanceof w_||(t=Y0(t)),!t)return new za;if(t instanceof za)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new za(o,a,l,t.opacity)}function Ohe(t,e,n,r){return arguments.length===1?y4(t):new za(t,e,n,r??1)}function za(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}L2(za,Ohe,g4(w_,{brighter(t){return t=t==null?Mw:Math.pow(Mw,t),new za(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?q0:Math.pow(q0,t),new za(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new co(NC(t>=240?t-240:t+120,i,r),NC(t,i,r),NC(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new za(cD(this.h),Px(this.s),Px(this.l),Aw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Aw(this.opacity);return`${t===1?"hsl(":"hsla("}${cD(this.h)}, ${Px(this.s)*100}%, ${Px(this.l)*100}%${t===1?")":`, ${t})`}`}}));function cD(t){return t=(t||0)%360,t<0?t+360:t}function Px(t){return Math.max(0,Math.min(1,t||0))}function NC(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const I2=t=>()=>t;function _4(t,e){return function(n){return t+n*e}}function Nhe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ySe(t,e){var n=e-t;return n?_4(t,n>180||n<-180?n-360*Math.round(n/360):n):I2(isNaN(t)?e:t)}function Bhe(t){return(t=+t)==1?v4:function(e,n){return n-e?Nhe(e,n,t):I2(isNaN(e)?n:e)}}function v4(t,e){var n=e-t;return n?_4(t,n):I2(isNaN(t)?e:t)}const uD=function t(e){var n=Bhe(e);function r(i,s){var o=n((i=mM(i)).r,(s=mM(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=v4(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Xu(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var gM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,BC=new RegExp(gM.source,"g");function Fhe(t){return function(){return t}}function zhe(t){return function(e){return t(e)+""}}function Uhe(t,e){var n=gM.lastIndex=BC.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=gM.exec(t))&&(i=BC.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Xu(r,i)})),n=BC.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?zhe(l[0].x):Fhe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}var hD=180/Math.PI,yM={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function x4(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*hD,skewX:Math.atan(l)*hD,scaleX:o,scaleY:a}}var Lx;function Vhe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?yM:x4(e.a,e.b,e.c,e.d,e.e,e.f)}function Hhe(t){return t==null||(Lx||(Lx=document.createElementNS("http://www.w3.org/2000/svg","g")),Lx.setAttribute("transform",t),!(t=Lx.transform.baseVal.consolidate()))?yM:(t=t.matrix,x4(t.a,t.b,t.c,t.d,t.e,t.f))}function S4(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,f,p,m,_){if(c!==f||u!==p){var S=m.push("translate(",null,e,null,n);_.push({i:S-4,x:Xu(c,f)},{i:S-2,x:Xu(u,p)})}else(f||p)&&m.push("translate("+f+e+p+n)}function o(c,u,f,p){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),p.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Xu(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,p){c!==u?p.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Xu(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,p,m,_){if(c!==f||u!==p){var S=m.push(i(m)+"scale(",null,",",null,")");_.push({i:S-4,x:Xu(c,f)},{i:S-2,x:Xu(u,p)})}else(f!==1||p!==1)&&m.push(i(m)+"scale("+f+","+p+")")}return function(c,u){var f=[],p=[];return c=t(c),u=t(u),s(c.translateX,c.translateY,u.translateX,u.translateY,f,p),o(c.rotate,u.rotate,f,p),a(c.skewX,u.skewX,f,p),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,p),c=u=null,function(m){for(var _=-1,S=p.length,w;++_<S;)f[(w=p[_]).i]=w.x(m);return f.join("")}}}var Whe=S4(Vhe,"px, ","px)","deg)"),Ghe=S4(Hhe,", ",")",")"),Dm=0,Hy=0,ky=0,w4=1e3,kw,Wy,Rw=0,nd=0,X1=0,K0=typeof performance=="object"&&performance.now?performance:Date,b4=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function D2(){return nd||(b4($he),nd=K0.now()+X1)}function $he(){nd=0}function Pw(){this._call=this._time=this._next=null}Pw.prototype=E4.prototype={constructor:Pw,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?D2():+n)+(e==null?0:+e),!this._next&&Wy!==this&&(Wy?Wy._next=this:kw=this,Wy=this),this._call=t,this._time=n,_M()},stop:function(){this._call&&(this._call=null,this._time=1/0,_M())}};function E4(t,e,n){var r=new Pw;return r.restart(t,e,n),r}function jhe(){D2(),++Dm;for(var t=kw,e;t;)(e=nd-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Dm}function fD(){nd=(Rw=K0.now())+X1,Dm=Hy=0;try{jhe()}finally{Dm=0,Xhe(),nd=0}}function qhe(){var t=K0.now(),e=t-Rw;e>w4&&(X1-=e,Rw=t)}function Xhe(){for(var t,e=kw,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:kw=n);Wy=t,_M(r)}function _M(t){if(!Dm){Hy&&(Hy=clearTimeout(Hy));var e=t-nd;e>24?(t<1/0&&(Hy=setTimeout(fD,t-K0.now()-X1)),ky&&(ky=clearInterval(ky))):(ky||(Rw=K0.now(),ky=setInterval(qhe,w4)),Dm=1,b4(fD))}}function dD(t,e,n){var r=new Pw;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Yhe=r4("start","end","cancel","interrupt"),Khe=[],C4=0,pD=1,vM=2,nS=3,mD=4,xM=5,rS=6;function Y1(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Zhe(t,n,{name:e,index:r,group:i,on:Yhe,tween:Khe,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:C4})}function O2(t,e){var n=Za(t,e);if(n.state>C4)throw new Error("too late; already scheduled");return n}function Ol(t,e){var n=Za(t,e);if(n.state>nS)throw new Error("too late; already running");return n}function Za(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Zhe(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=E4(s,0,n.time);function s(c){n.state=pD,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,p,m;if(n.state!==pD)return l();for(u in r)if(m=r[u],m.name===n.name){if(m.state===nS)return dD(o);m.state===mD?(m.state=rS,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[u]):+u<e&&(m.state=rS,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[u])}if(dD(function(){n.state===nS&&(n.state=mD,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=vM,n.on.call("start",t,t.__data__,n.index,n.group),n.state===vM){for(n.state=nS,i=new Array(p=n.tween.length),u=0,f=-1;u<p;++u)(m=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=xM,1),f=-1,p=i.length;++f<p;)i[f].call(t,u);n.state===xM&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=rS,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function Jhe(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>vM&&r.state<xM,r.state=rS,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function Qhe(t){return this.each(function(){Jhe(this,t)})}function efe(t,e){var n,r;return function(){var i=Ol(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function tfe(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ol(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function nfe(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Za(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?efe:tfe)(n,t,e))}function N2(t,e,n){var r=t._id;return t.each(function(){var i=Ol(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Za(i,r).value[e]}}function T4(t,e){var n;return(typeof e=="number"?Xu:e instanceof Y0?uD:(n=Y0(e))?(e=n,uD):Uhe)(t,e)}function rfe(t){return function(){this.removeAttribute(t)}}function ife(t){return function(){this.removeAttributeNS(t.space,t.local)}}function sfe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function ofe(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function afe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function lfe(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function cfe(t,e){var n=q1(t),r=n==="transform"?Ghe:T4;return this.attrTween(t,typeof e=="function"?(n.local?lfe:afe)(n,r,N2(this,"attr."+t,e)):e==null?(n.local?ife:rfe)(n):(n.local?ofe:sfe)(n,r,e))}function ufe(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function hfe(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ffe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&hfe(t,s)),n}return i._value=e,i}function dfe(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ufe(t,s)),n}return i._value=e,i}function pfe(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=q1(t);return this.tween(n,(r.local?ffe:dfe)(r,e))}function mfe(t,e){return function(){O2(this,t).delay=+e.apply(this,arguments)}}function gfe(t,e){return e=+e,function(){O2(this,t).delay=e}}function yfe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?mfe:gfe)(e,t)):Za(this.node(),e).delay}function _fe(t,e){return function(){Ol(this,t).duration=+e.apply(this,arguments)}}function vfe(t,e){return e=+e,function(){Ol(this,t).duration=e}}function xfe(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?_fe:vfe)(e,t)):Za(this.node(),e).duration}function Sfe(t,e){if(typeof e!="function")throw new Error;return function(){Ol(this,t).ease=e}}function wfe(t){var e=this._id;return arguments.length?this.each(Sfe(e,t)):Za(this.node(),e).ease}function bfe(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ol(this,t).ease=n}}function Efe(t){if(typeof t!="function")throw new Error;return this.each(bfe(this._id,t))}function Cfe(t){typeof t!="function"&&(t=o4(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new qc(r,this._parents,this._name,this._id)}function Tfe(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],u=l.length,f=o[a]=new Array(u),p,m=0;m<u;++m)(p=l[m]||c[m])&&(f[m]=p);for(;a<r;++a)o[a]=e[a];return new qc(o,this._parents,this._name,this._id)}function Mfe(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Afe(t,e,n){var r,i,s=Mfe(e)?O2:Ol;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function kfe(t,e){var n=this._id;return arguments.length<2?Za(this.node(),n).on.on(t):this.each(Afe(n,t,e))}function Rfe(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Pfe(){return this.on("end.remove",Rfe(this._id))}function Lfe(t){var e=this._name,n=this._id;typeof t!="function"&&(t=R2(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,f,p=0;p<l;++p)(u=a[p])&&(f=t.call(u,u.__data__,p,a))&&("__data__"in u&&(f.__data__=u.__data__),c[p]=f,Y1(c[p],e,n,p,c,Za(u,n)));return new qc(s,this._parents,e,n)}function Ife(t){var e=this._name,n=this._id;typeof t!="function"&&(t=s4(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var p=t.call(u,u.__data__,f,l),m,_=Za(u,n),S=0,w=p.length;S<w;++S)(m=p[S])&&Y1(m,e,n,S,p,_);s.push(p),o.push(u)}return new qc(s,o,e,n)}var Dfe=S_.prototype.constructor;function Ofe(){return new Dfe(this._groups,this._parents)}function Nfe(t,e){var n,r,i;return function(){var s=Im(this,t),o=(this.style.removeProperty(t),Im(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function M4(t){return function(){this.style.removeProperty(t)}}function Bfe(t,e,n){var r,i=n+"",s;return function(){var o=Im(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function Ffe(t,e,n){var r,i,s;return function(){var o=Im(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Im(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function zfe(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Ol(this,t),c=l.on,u=l.value[s]==null?a||(a=M4(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function Ufe(t,e,n){var r=(t+="")=="transform"?Whe:T4;return e==null?this.styleTween(t,Nfe(t,r)).on("end.style."+t,M4(t)):typeof e=="function"?this.styleTween(t,Ffe(t,r,N2(this,"style."+t,e))).each(zfe(this._id,t)):this.styleTween(t,Bfe(t,r,e),n).on("end.style."+t,null)}function Vfe(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Hfe(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Vfe(t,o,n)),r}return s._value=e,s}function Wfe(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Hfe(t,e,n??""))}function Gfe(t){return function(){this.textContent=t}}function $fe(t){return function(){var e=t(this);this.textContent=e??""}}function jfe(t){return this.tween("text",typeof t=="function"?$fe(N2(this,"text",t)):Gfe(t==null?"":t+""))}function qfe(t){return function(e){this.textContent=t.call(this,e)}}function Xfe(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&qfe(i)),e}return r._value=t,r}function Yfe(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Xfe(t))}function Kfe(){for(var t=this._name,e=this._id,n=A4(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Za(l,e);Y1(l,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new qc(r,this._parents,t,n)}function Zfe(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=Ol(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var Jfe=0;function qc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function A4(){return++Jfe}var Mc=S_.prototype;qc.prototype={constructor:qc,select:Lfe,selectAll:Ife,selectChild:Mc.selectChild,selectChildren:Mc.selectChildren,filter:Cfe,merge:Tfe,selection:Ofe,transition:Kfe,call:Mc.call,nodes:Mc.nodes,node:Mc.node,size:Mc.size,empty:Mc.empty,each:Mc.each,on:kfe,attr:cfe,attrTween:pfe,style:Ufe,styleTween:Wfe,text:jfe,textTween:Yfe,remove:Pfe,tween:nfe,delay:yfe,duration:xfe,ease:wfe,easeVarying:Efe,end:Zfe,[Symbol.iterator]:Mc[Symbol.iterator]};function Qfe(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ede={time:null,delay:0,duration:250,ease:Qfe};function tde(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function nde(t){var e,n;t instanceof qc?(e=t._id,t=t._name):(e=A4(),(n=ede).time=D2(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Y1(l,t,e,c,o,n||tde(l,e));return new qc(r,this._parents,t,e)}S_.prototype.interrupt=Qhe;S_.prototype.transition=nde;const SM=Math.PI,wM=2*SM,bf=1e-6,rde=wM-bf;function k4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ide(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return k4;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class sde{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?k4:ide(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,u=o-e,f=a-n,p=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>bf)if(!(Math.abs(f*l-c*u)>bf)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,_=i-a,S=l*l+c*c,w=m*m+_*_,x=Math.sqrt(S),C=Math.sqrt(p),T=s*Math.tan((SM-Math.acos((S+p-w)/(2*x*C)))/2),A=T/C,L=T/x;Math.abs(A-1)>bf&&this._append`L${e+A*u},${n+A*f}`,this._append`A${s},${s},0,0,${+(f*m>u*_)},${this._x1=e+L*l},${this._y1=n+L*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,u=n+l,f=1^o,p=o?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>bf||Math.abs(this._y1-u)>bf)&&this._append`L${c},${u}`,r&&(p<0&&(p=p%wM+wM),p>rde?this._append`A${r},${r},0,1,${f},${e-a},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:p>bf&&this._append`A${r},${r},0,${+(p>=SM)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Np(t){return function(){return t}}const _Se=Math.abs,vSe=Math.atan2,xSe=Math.cos,SSe=Math.max,wSe=Math.min,bSe=Math.sin,ESe=Math.sqrt,gD=1e-12,B2=Math.PI,yD=B2/2,CSe=2*B2;function TSe(t){return t>1?0:t<-1?B2:Math.acos(t)}function MSe(t){return t>=1?yD:t<=-1?-yD:Math.asin(t)}function ode(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new sde(e)}function ade(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function R4(t){this._context=t}R4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function P4(t){return new R4(t)}function lde(t){return t[0]}function cde(t){return t[1]}function ude(t,e){var n=Np(!0),r=null,i=P4,s=null,o=ode(a);t=typeof t=="function"?t:t===void 0?lde:Np(t),e=typeof e=="function"?e:e===void 0?cde:Np(e);function a(l){var c,u=(l=ade(l)).length,f,p=!1,m;for(r==null&&(s=i(m=o())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(f,c,l),+e(f,c,l));if(m)return s=null,m+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Np(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Np(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Np(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}class L4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function hde(t){return new L4(t,!0)}function fde(t){return new L4(t,!1)}function ih(){}function Lw(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function K1(t){this._context=t}K1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function I4(t){return new K1(t)}function D4(t){this._context=t}D4.prototype={areaStart:ih,areaEnd:ih,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Lw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dde(t){return new D4(t)}function O4(t){this._context=t}O4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Lw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pde(t){return new O4(t)}function N4(t,e){this._basis=new K1(t),this._beta=e}N4.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],s=t[n]-r,o=e[n]-i,a=-1,l;++a<=n;)l=a/n,this._basis.point(this._beta*t[a]+(1-this._beta)*(r+l*s),this._beta*e[a]+(1-this._beta)*(i+l*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const mde=function t(e){function n(r){return e===1?new K1(r):new N4(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Iw(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function F2(t,e){this._context=t,this._k=(1-e)/6}F2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Iw(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Iw(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const gde=function t(e){function n(r){return new F2(r,e)}return n.tension=function(r){return t(+r)},n}(0);function z2(t,e){this._context=t,this._k=(1-e)/6}z2.prototype={areaStart:ih,areaEnd:ih,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Iw(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yde=function t(e){function n(r){return new z2(r,e)}return n.tension=function(r){return t(+r)},n}(0);function U2(t,e){this._context=t,this._k=(1-e)/6}U2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Iw(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const _de=function t(e){function n(r){return new U2(r,e)}return n.tension=function(r){return t(+r)},n}(0);function V2(t,e,n){var r=t._x1,i=t._y1,s=t._x2,o=t._y2;if(t._l01_a>gD){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>gD){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);s=(s*c+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,s,o,t._x2,t._y2)}function B4(t,e){this._context=t,this._alpha=e}B4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:V2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const vde=function t(e){function n(r){return e?new B4(r,e):new F2(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function F4(t,e){this._context=t,this._alpha=e}F4.prototype={areaStart:ih,areaEnd:ih,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:V2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const xde=function t(e){function n(r){return e?new F4(r,e):new z2(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function z4(t,e){this._context=t,this._alpha=e}z4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:V2(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Sde=function t(e){function n(r){return e?new z4(r,e):new U2(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function U4(t){this._context=t}U4.prototype={areaStart:ih,areaEnd:ih,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function wde(t){return new U4(t)}function _D(t){return t<0?-1:1}function vD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(_D(s)+_D(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function xD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function FC(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function Dw(t){this._context=t}Dw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FC(this,this._t0,xD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,FC(this,xD(this,n=vD(this,t,e)),n);break;default:FC(this,this._t0,n=vD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function V4(t){this._context=new H4(t)}(V4.prototype=Object.create(Dw.prototype)).point=function(t,e){Dw.prototype.point.call(this,e,t)};function H4(t){this._context=t}H4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function bde(t){return new Dw(t)}function Ede(t){return new V4(t)}function W4(t){this._context=t}W4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=SD(t),i=SD(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function SD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Cde(t){return new W4(t)}function Z1(t,e){this._context=t,this._t=e}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Tde(t){return new Z1(t,.5)}function Mde(t){return new Z1(t,0)}function Ade(t){return new Z1(t,1)}function Gy(t,e,n){this.k=t,this.x=e,this.y=n}Gy.prototype={constructor:Gy,scale:function(t){return t===1?this:new Gy(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Gy(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gy.prototype;var G4=typeof global=="object"&&global&&global.Object===Object&&global,kde=typeof self=="object"&&self&&self.Object===Object&&self,Nl=G4||kde||Function("return this")(),Ow=Nl.Symbol,$4=Object.prototype,Rde=$4.hasOwnProperty,Pde=$4.toString,Ry=Ow?Ow.toStringTag:void 0;function Lde(t){var e=Rde.call(t,Ry),n=t[Ry];try{t[Ry]=void 0;var r=!0}catch{}var i=Pde.call(t);return r&&(e?t[Ry]=n:delete t[Ry]),i}var Ide=Object.prototype,Dde=Ide.toString;function Ode(t){return Dde.call(t)}var Nde="[object Null]",Bde="[object Undefined]",wD=Ow?Ow.toStringTag:void 0;function Qm(t){return t==null?t===void 0?Bde:Nde:wD&&wD in Object(t)?Lde(t):Ode(t)}function fd(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Fde="[object AsyncFunction]",zde="[object Function]",Ude="[object GeneratorFunction]",Vde="[object Proxy]";function H2(t){if(!fd(t))return!1;var e=Qm(t);return e==zde||e==Ude||e==Fde||e==Vde}var zC=Nl["__core-js_shared__"],bD=function(){var t=/[^.]+$/.exec(zC&&zC.keys&&zC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Hde(t){return!!bD&&bD in t}var Wde=Function.prototype,Gde=Wde.toString;function dd(t){if(t!=null){try{return Gde.call(t)}catch{}try{return t+""}catch{}}return""}var $de=/[\\^$.*+?()[\]{}|]/g,jde=/^\[object .+?Constructor\]$/,qde=Function.prototype,Xde=Object.prototype,Yde=qde.toString,Kde=Xde.hasOwnProperty,Zde=RegExp("^"+Yde.call(Kde).replace($de,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Jde(t){if(!fd(t)||Hde(t))return!1;var e=H2(t)?Zde:jde;return e.test(dd(t))}function Qde(t,e){return t==null?void 0:t[e]}function pd(t,e){var n=Qde(t,e);return Jde(n)?n:void 0}var Z0=pd(Object,"create");function epe(){this.__data__=Z0?Z0(null):{},this.size=0}function tpe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var npe="__lodash_hash_undefined__",rpe=Object.prototype,ipe=rpe.hasOwnProperty;function spe(t){var e=this.__data__;if(Z0){var n=e[t];return n===npe?void 0:n}return ipe.call(e,t)?e[t]:void 0}var ope=Object.prototype,ape=ope.hasOwnProperty;function lpe(t){var e=this.__data__;return Z0?e[t]!==void 0:ape.call(e,t)}var cpe="__lodash_hash_undefined__";function upe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Z0&&e===void 0?cpe:e,this}function rd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}rd.prototype.clear=epe;rd.prototype.delete=tpe;rd.prototype.get=spe;rd.prototype.has=lpe;rd.prototype.set=upe;function hpe(){this.__data__=[],this.size=0}function J1(t,e){return t===e||t!==t&&e!==e}function Q1(t,e){for(var n=t.length;n--;)if(J1(t[n][0],e))return n;return-1}var fpe=Array.prototype,dpe=fpe.splice;function ppe(t){var e=this.__data__,n=Q1(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():dpe.call(e,n,1),--this.size,!0}function mpe(t){var e=this.__data__,n=Q1(e,t);return n<0?void 0:e[n][1]}function gpe(t){return Q1(this.__data__,t)>-1}function ype(t,e){var n=this.__data__,r=Q1(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function Yc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Yc.prototype.clear=hpe;Yc.prototype.delete=ppe;Yc.prototype.get=mpe;Yc.prototype.has=gpe;Yc.prototype.set=ype;var J0=pd(Nl,"Map");function _pe(){this.size=0,this.__data__={hash:new rd,map:new(J0||Yc),string:new rd}}function vpe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function eb(t,e){var n=t.__data__;return vpe(e)?n[typeof e=="string"?"string":"hash"]:n.map}function xpe(t){var e=eb(this,t).delete(t);return this.size-=e?1:0,e}function Spe(t){return eb(this,t).get(t)}function wpe(t){return eb(this,t).has(t)}function bpe(t,e){var n=eb(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function fh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}fh.prototype.clear=_pe;fh.prototype.delete=xpe;fh.prototype.get=Spe;fh.prototype.has=wpe;fh.prototype.set=bpe;var Epe="Expected a function";function b_(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Epe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(b_.Cache||fh),n}b_.Cache=fh;function Cpe(){this.__data__=new Yc,this.size=0}function Tpe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Mpe(t){return this.__data__.get(t)}function Ape(t){return this.__data__.has(t)}var kpe=200;function Rpe(t,e){var n=this.__data__;if(n instanceof Yc){var r=n.__data__;if(!J0||r.length<kpe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fh(r)}return n.set(t,e),this.size=n.size,this}function eg(t){var e=this.__data__=new Yc(t);this.size=e.size}eg.prototype.clear=Cpe;eg.prototype.delete=Tpe;eg.prototype.get=Mpe;eg.prototype.has=Ape;eg.prototype.set=Rpe;var Nw=function(){try{var t=pd(Object,"defineProperty");return t({},"",{}),t}catch{}}();function W2(t,e,n){e=="__proto__"&&Nw?Nw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function bM(t,e,n){(n!==void 0&&!J1(t[e],n)||n===void 0&&!(e in t))&&W2(t,e,n)}function Ppe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[++i];if(n(s[l],l,s)===!1)break}return e}}var Lpe=Ppe(),j4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ED=j4&&typeof module=="object"&&module&&!module.nodeType&&module,Ipe=ED&&ED.exports===j4,CD=Ipe?Nl.Buffer:void 0,TD=CD?CD.allocUnsafe:void 0;function Dpe(t,e){if(e)return t.slice();var n=t.length,r=TD?TD(n):new t.constructor(n);return t.copy(r),r}var MD=Nl.Uint8Array;function Ope(t){var e=new t.constructor(t.byteLength);return new MD(e).set(new MD(t)),e}function Npe(t,e){var n=e?Ope(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Bpe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var AD=Object.create,Fpe=function(){function t(){}return function(e){if(!fd(e))return{};if(AD)return AD(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function q4(t,e){return function(n){return t(e(n))}}var X4=q4(Object.getPrototypeOf,Object),zpe=Object.prototype;function tb(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||zpe;return t===n}function Upe(t){return typeof t.constructor=="function"&&!tb(t)?Fpe(X4(t)):{}}function E_(t){return t!=null&&typeof t=="object"}var Vpe="[object Arguments]";function kD(t){return E_(t)&&Qm(t)==Vpe}var Y4=Object.prototype,Hpe=Y4.hasOwnProperty,Wpe=Y4.propertyIsEnumerable,Bw=kD(function(){return arguments}())?kD:function(t){return E_(t)&&Hpe.call(t,"callee")&&!Wpe.call(t,"callee")},Fw=Array.isArray,Gpe=9007199254740991;function K4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Gpe}function nb(t){return t!=null&&K4(t.length)&&!H2(t)}function $pe(t){return E_(t)&&nb(t)}function jpe(){return!1}var Z4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,RD=Z4&&typeof module=="object"&&module&&!module.nodeType&&module,qpe=RD&&RD.exports===Z4,PD=qpe?Nl.Buffer:void 0,Xpe=PD?PD.isBuffer:void 0,G2=Xpe||jpe,Ype="[object Object]",Kpe=Function.prototype,Zpe=Object.prototype,J4=Kpe.toString,Jpe=Zpe.hasOwnProperty,Qpe=J4.call(Object);function eme(t){if(!E_(t)||Qm(t)!=Ype)return!1;var e=X4(t);if(e===null)return!0;var n=Jpe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&J4.call(n)==Qpe}var tme="[object Arguments]",nme="[object Array]",rme="[object Boolean]",ime="[object Date]",sme="[object Error]",ome="[object Function]",ame="[object Map]",lme="[object Number]",cme="[object Object]",ume="[object RegExp]",hme="[object Set]",fme="[object String]",dme="[object WeakMap]",pme="[object ArrayBuffer]",mme="[object DataView]",gme="[object Float32Array]",yme="[object Float64Array]",_me="[object Int8Array]",vme="[object Int16Array]",xme="[object Int32Array]",Sme="[object Uint8Array]",wme="[object Uint8ClampedArray]",bme="[object Uint16Array]",Eme="[object Uint32Array]",Cr={};Cr[gme]=Cr[yme]=Cr[_me]=Cr[vme]=Cr[xme]=Cr[Sme]=Cr[wme]=Cr[bme]=Cr[Eme]=!0;Cr[tme]=Cr[nme]=Cr[pme]=Cr[rme]=Cr[mme]=Cr[ime]=Cr[sme]=Cr[ome]=Cr[ame]=Cr[lme]=Cr[cme]=Cr[ume]=Cr[hme]=Cr[fme]=Cr[dme]=!1;function Cme(t){return E_(t)&&K4(t.length)&&!!Cr[Qm(t)]}function Tme(t){return function(e){return t(e)}}var Q4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,p0=Q4&&typeof module=="object"&&module&&!module.nodeType&&module,Mme=p0&&p0.exports===Q4,UC=Mme&&G4.process,LD=function(){try{var t=p0&&p0.require&&p0.require("util").types;return t||UC&&UC.binding&&UC.binding("util")}catch{}}(),ID=LD&&LD.isTypedArray,$2=ID?Tme(ID):Cme;function EM(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Ame=Object.prototype,kme=Ame.hasOwnProperty;function Rme(t,e,n){var r=t[e];(!(kme.call(t,e)&&J1(r,n))||n===void 0&&!(e in t))&&W2(t,e,n)}function Pme(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=void 0;l===void 0&&(l=t[a]),i?W2(n,a,l):Rme(n,a,l)}return n}function Lme(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ime=9007199254740991,Dme=/^(?:0|[1-9]\d*)$/;function e5(t,e){var n=typeof t;return e=e??Ime,!!e&&(n=="number"||n!="symbol"&&Dme.test(t))&&t>-1&&t%1==0&&t<e}var Ome=Object.prototype,Nme=Ome.hasOwnProperty;function Bme(t,e){var n=Fw(t),r=!n&&Bw(t),i=!n&&!r&&G2(t),s=!n&&!r&&!i&&$2(t),o=n||r||i||s,a=o?Lme(t.length,String):[],l=a.length;for(var c in t)(e||Nme.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||e5(c,l)))&&a.push(c);return a}function Fme(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var zme=Object.prototype,Ume=zme.hasOwnProperty;function Vme(t){if(!fd(t))return Fme(t);var e=tb(t),n=[];for(var r in t)r=="constructor"&&(e||!Ume.call(t,r))||n.push(r);return n}function t5(t){return nb(t)?Bme(t,!0):Vme(t)}function Hme(t){return Pme(t,t5(t))}function Wme(t,e,n,r,i,s,o){var a=EM(t,n),l=EM(e,n),c=o.get(l);if(c){bM(t,n,c);return}var u=s?s(a,l,n+"",t,e,o):void 0,f=u===void 0;if(f){var p=Fw(l),m=!p&&G2(l),_=!p&&!m&&$2(l);u=l,p||m||_?Fw(a)?u=a:$pe(a)?u=Bpe(a):m?(f=!1,u=Dpe(l,!0)):_?(f=!1,u=Npe(l,!0)):u=[]:eme(l)||Bw(l)?(u=a,Bw(a)?u=Hme(a):(!fd(a)||H2(a))&&(u=Upe(l))):f=!1}f&&(o.set(l,u),i(u,l,r,s,o),o.delete(l)),bM(t,n,u)}function n5(t,e,n,r,i){t!==e&&Lpe(e,function(s,o){if(i||(i=new eg),fd(s))Wme(t,e,o,n,n5,r,i);else{var a=r?r(EM(t,o),s,o+"",t,e,i):void 0;a===void 0&&(a=s),bM(t,o,a)}},t5)}function r5(t){return t}function Gme(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var DD=Math.max;function $me(t,e,n){return e=DD(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=DD(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Gme(t,this,a)}}function jme(t){return function(){return t}}var qme=Nw?function(t,e){return Nw(t,"toString",{configurable:!0,enumerable:!1,value:jme(e),writable:!0})}:r5,Xme=800,Yme=16,Kme=Date.now;function Zme(t){var e=0,n=0;return function(){var r=Kme(),i=Yme-(r-n);if(n=r,i>0){if(++e>=Xme)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Jme=Zme(qme);function Qme(t,e){return Jme($me(t,e,r5),t+"")}function ege(t,e,n){if(!fd(n))return!1;var r=typeof e;return(r=="number"?nb(n)&&e5(e,n.length):r=="string"&&e in n)?J1(n[e],t):!1}function tge(t){return Qme(function(e,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=t.length>3&&typeof s=="function"?(i--,s):void 0,o&&ege(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var a=n[r];a&&t(e,a,r,s)}return e})}var nge=tge(function(t,e,n){n5(t,e,n)}),rge="​",ige={curveBasis:I4,curveBasisClosed:dde,curveBasisOpen:pde,curveBumpX:hde,curveBumpY:fde,curveBundle:mde,curveCardinalClosed:yde,curveCardinalOpen:_de,curveCardinal:gde,curveCatmullRomClosed:xde,curveCatmullRomOpen:Sde,curveCatmullRom:vde,curveLinear:P4,curveLinearClosed:wde,curveMonotoneX:bde,curveMonotoneY:Ede,curveNatural:Cde,curveStep:Tde,curveStepAfter:Ade,curveStepBefore:Mde},sge=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,oge=F(function(t,e){const n=i5(t,/(?:init\b)|(?:initialize\b)/);let r={};if(Array.isArray(n)){const o=n.map(a=>a.args);mw(o),r=ji(r,[...o])}else r=n.args;if(!r)return;let i=g2(t,e);const s="config";return r[s]!==void 0&&(i==="flowchart-v2"&&(i="flowchart"),r[i]=r[s],delete r[s]),r},"detectInit"),i5=F(function(t,e=null){var n,r;try{const i=new RegExp(`[%]{2}(?![{]${sge.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(i,"").replace(/'/gm,'"'),Je.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let s;const o=[];for(;(s=f0.exec(t))!==null;)if(s.index===f0.lastIndex&&f0.lastIndex++,s&&!e||e&&((n=s[1])!=null&&n.match(e))||e&&((r=s[2])!=null&&r.match(e))){const a=s[1]?s[1]:s[2],l=s[3]?s[3].trim():s[4]?JSON.parse(s[4].trim()):null;o.push({type:a,args:l})}return o.length===0?{type:t,args:null}:o.length===1?o[0]:o}catch(i){return Je.error(`ERROR: ${i.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),age=F(function(t){return t.replace(f0,"")},"removeDirectives"),lge=F(function(t,e){for(const[n,r]of e.entries())if(r.match(t))return n;return-1},"isSubstringInArray");function j2(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return ige[n]??e}F(j2,"interpolateToCurve");function s5(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?Hce.sanitizeUrl(n):n}F(s5,"formatUrl");var cge=F((t,...e)=>{const n=t.split("."),r=n.length-1,i=n[r];let s=window;for(let o=0;o<r;o++)if(s=s[n[o]],!s){Je.error(`Function name: ${t} not found in window`);return}s[i](...e)},"runFunc");function q2(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}F(q2,"distance");function o5(t){let e,n=0;t.forEach(i=>{n+=q2(i,e),e=i});const r=n/2;return X2(t,r)}F(o5,"traverseEdge");function a5(t){return t.length===1?t[0]:o5(t)}F(a5,"calcLabelPosition");var OD=F((t,e=2)=>{const n=Math.pow(10,e);return Math.round(t*n)/n},"roundNumber"),X2=F((t,e)=>{let n,r=e;for(const i of t){if(n){const s=q2(i,n);if(s<r)r-=s;else{const o=r/s;if(o<=0)return n;if(o>=1)return{x:i.x,y:i.y};if(o>0&&o<1)return{x:OD((1-o)*n.x+o*i.x,5),y:OD((1-o)*n.y+o*i.y,5)}}}n=i}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),uge=F((t,e,n)=>{Je.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());const i=X2(e,25),s=t?10:5,o=Math.atan2(e[0].y-i.y,e[0].x-i.x),a={x:0,y:0};return a.x=Math.sin(o)*s+(e[0].x+i.x)/2,a.y=-Math.cos(o)*s+(e[0].y+i.y)/2,a},"calcCardinalityPosition");function l5(t,e,n){const r=structuredClone(n);Je.info("our points",r),e!=="start_left"&&e!=="start_right"&&r.reverse();const i=25+t,s=X2(r,i),o=10+t*.5,a=Math.atan2(r[0].y-s.y,r[0].x-s.x),l={x:0,y:0};return e==="start_left"?(l.x=Math.sin(a+Math.PI)*o+(r[0].x+s.x)/2,l.y=-Math.cos(a+Math.PI)*o+(r[0].y+s.y)/2):e==="end_right"?(l.x=Math.sin(a-Math.PI)*o+(r[0].x+s.x)/2-5,l.y=-Math.cos(a-Math.PI)*o+(r[0].y+s.y)/2-5):e==="end_left"?(l.x=Math.sin(a)*o+(r[0].x+s.x)/2-5,l.y=-Math.cos(a)*o+(r[0].y+s.y)/2-5):(l.x=Math.sin(a)*o+(r[0].x+s.x)/2,l.y=-Math.cos(a)*o+(r[0].y+s.y)/2),l}F(l5,"calcTerminalLabelPosition");function c5(t){let e="",n="";for(const r of t)r!==void 0&&(r.startsWith("color:")||r.startsWith("text-align:")?n=n+r+";":e=e+r+";");return{style:e,labelStyle:n}}F(c5,"getStylesFromArray");var ND=0,hge=F(()=>(ND++,"id-"+Math.random().toString(36).substr(2,12)+"-"+ND),"generateId");function u5(t){let e="";const n="0123456789abcdef",r=n.length;for(let i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}F(u5,"makeRandomHex");var fge=F(t=>u5(t.length),"random"),dge=F(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),pge=F(function(t,e){const n=e.text.replace(Jm.lineBreakRegex," "),[,r]=rb(e.fontSize),i=t.append("text");i.attr("x",e.x),i.attr("y",e.y),i.style("text-anchor",e.anchor),i.style("font-family",e.fontFamily),i.style("font-size",r),i.style("font-weight",e.fontWeight),i.attr("fill",e.fill),e.class!==void 0&&i.attr("class",e.class);const s=i.append("tspan");return s.attr("x",e.x+e.textMargin*2),s.attr("fill",e.fill),s.text(n),i},"drawSimpleText"),mge=b_((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),Jm.lineBreakRegex.test(t)))return t;const r=t.split(" ").filter(Boolean),i=[];let s="";return r.forEach((o,a)=>{const l=Om(`${o} `,n),c=Om(s,n);if(l>e){const{hyphenatedStrings:p,remainingWord:m}=gge(o,e,"-",n);i.push(s,...p),s=m}else c+l>=e?(i.push(s),s=o):s=[s,o].filter(Boolean).join(" ");a+1===r.length&&i.push(s)}),i.filter(o=>o!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),gge=b_((t,e,n="-",r)=>{r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);const i=[...t],s=[];let o="";return i.forEach((a,l)=>{const c=`${o}${a}`;if(Om(c,r)>=e){const f=l+1,p=i.length===f,m=`${c}${n}`;s.push(p?c:m),o=""}else o=c}),{hyphenatedStrings:s,remainingWord:o}},(t,e,n="-",r)=>`${t}${e}${n}${r.fontSize}${r.fontWeight}${r.fontFamily}`);function h5(t,e){return Y2(t,e).height}F(h5,"calculateTextHeight");function Om(t,e){return Y2(t,e).width}F(Om,"calculateTextWidth");var Y2=b_((t,e)=>{const{fontSize:n=12,fontFamily:r="Arial",fontWeight:i=400}=e;if(!t)return{width:0,height:0};const[,s]=rb(n),o=["sans-serif",r],a=t.split(Jm.lineBreakRegex),l=[],c=nr("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const u=c.append("svg");for(const p of o){let m=0;const _={width:0,height:0,lineHeight:0};for(const S of a){const w=dge();w.text=S||rge;const x=pge(u,w).style("font-size",s).style("font-weight",i).style("font-family",p),C=(x._groups||x)[0][0].getBBox();if(C.width===0&&C.height===0)throw new Error("svg element not in render tree");_.width=Math.round(Math.max(_.width,C.width)),m=Math.round(C.height),_.height+=m,_.lineHeight=Math.round(Math.max(_.lineHeight,m))}l.push(_)}u.remove();const f=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[f]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),_m,yge=(_m=class{constructor(e=!1,n){this.count=0,this.count=n?n.length:0,this.next=e?()=>this.count++:()=>Date.now()}},F(_m,"InitIDGenerator"),_m),Ix,_ge=F(function(t){return Ix=Ix||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Ix.innerHTML=t,unescape(Ix.textContent)},"entityDecode");function K2(t){return"str"in t}F(K2,"isDetailedError");var vge=F((t,e,n,r)=>{var s;if(!r)return;const i=(s=t.node())==null?void 0:s.getBBox();i&&t.append("text").text(r).attr("text-anchor","middle").attr("x",i.x+i.width/2).attr("y",-n).attr("class",e)},"insertTitle"),rb=F(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function Z2(t,e){return nge({},t,e)}F(Z2,"cleanAndMerge");var Sl={assignWithDepth:ji,wrapLabel:mge,calculateTextHeight:h5,calculateTextWidth:Om,calculateTextDimensions:Y2,cleanAndMerge:Z2,detectInit:oge,detectDirective:i5,isSubstringInArray:lge,interpolateToCurve:j2,calcLabelPosition:a5,calcCardinalityPosition:uge,calcTerminalLabelPosition:l5,formatUrl:s5,getStylesFromArray:c5,generateId:hge,random:fge,runFunc:cge,entityDecode:_ge,insertTitle:vge,parseFontSize:rb,InitIDGenerator:yge},xge=F(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const r=n.substring(1,n.length-1);return/^\+?\d+$/.test(r)?"ﬂ°°"+r+"¶ß":"ﬂ°"+r+"¶ß"}),e},"encodeEntities"),tg=F(function(t){return t.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},"decodeEntities"),ASe=F((t,e,{counter:n=0,prefix:r,suffix:i})=>`${r?`${r}_`:""}${t}_${e}_${n}${i?`_${i}`:""}`,"getEdgeId");function Ns(t){return t??null}F(Ns,"handleUndefinedAttr");function J2(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let md=J2();function f5(t){md=t}const d5=/[&<>"']/,Sge=new RegExp(d5.source,"g"),p5=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,wge=new RegExp(p5.source,"g"),bge={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},BD=t=>bge[t];function ko(t,e){if(e){if(d5.test(t))return t.replace(Sge,BD)}else if(p5.test(t))return t.replace(wge,BD);return t}const Ege=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Cge(t){return t.replace(Ege,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const Tge=/(^|[^\[])\^/g;function hr(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(i,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(Tge,"$1"),n=n.replace(i,o),r},getRegex:()=>new RegExp(n,e)};return r}function FD(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const m0={exec:()=>null};function zD(t,e){const n=t.replace(/\|/g,(s,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Py(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r&&t.charAt(r-i-1)===e;)i++;return t.slice(0,r-i)}function Mge(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function UD(t,e,n,r){const i=e.href,s=e.title?ko(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:s,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:s,text:ko(o)}}function Age(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const s=i.match(/^\s+/);if(s===null)return i;const[o]=s;return o.length>=r.length?i.slice(r.length):i}).join(`
`)}class zw{constructor(e){De(this,"options");De(this,"rules");De(this,"lexer");this.options=e||md}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Py(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=Age(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=Py(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:Py(n[0],`
`)}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=Py(n[0],`
`).split(`
`),i="",s="";const o=[];for(;r.length>0;){let a=!1;const l=[];let c;for(c=0;c<r.length;c++)if(/^ {0,3}>/.test(r[c]))l.push(r[c]),a=!0;else if(!a)l.push(r[c]);else break;r=r.slice(c);const u=l.join(`
`),f=u.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");i=i?`${i}
${u}`:u,s=s?`${s}
${f}`:f;const p=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(f,o,!0),this.lexer.state.top=p,r.length===0)break;const m=o[o.length-1];if((m==null?void 0:m.type)==="code")break;if((m==null?void 0:m.type)==="blockquote"){const _=m,S=_.raw+`
`+r.join(`
`),w=this.blockquote(S);o[o.length-1]=w,i=i.substring(0,i.length-_.raw.length)+w.raw,s=s.substring(0,s.length-_.text.length)+w.text;break}else if((m==null?void 0:m.type)==="list"){const _=m,S=_.raw+`
`+r.join(`
`),w=this.list(S);o[o.length-1]=w,i=i.substring(0,i.length-m.raw.length)+w.raw,s=s.substring(0,s.length-_.raw.length)+w.raw,r=S.substring(o[o.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:i,tokens:o,text:s}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const i=r.length>1,s={type:"list",raw:"",ordered:i,start:i?+r.slice(0,-1):"",loose:!1,items:[]};r=i?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=i?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;e;){let l=!1,c="",u="";if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;c=n[0],e=e.substring(c.length);let f=n[2].split(`
`,1)[0].replace(/^\t+/,x=>" ".repeat(3*x.length)),p=e.split(`
`,1)[0],m=!f.trim(),_=0;if(this.options.pedantic?(_=2,u=f.trimStart()):m?_=n[1].length+1:(_=n[2].search(/[^ ]/),_=_>4?1:_,u=f.slice(_),_+=n[1].length),m&&/^ *$/.test(p)&&(c+=p+`
`,e=e.substring(p.length+1),l=!0),!l){const x=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),C=new RegExp(`^ {0,${Math.min(3,_-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),T=new RegExp(`^ {0,${Math.min(3,_-1)}}(?:\`\`\`|~~~)`),A=new RegExp(`^ {0,${Math.min(3,_-1)}}#`);for(;e;){const L=e.split(`
`,1)[0];if(p=L,this.options.pedantic&&(p=p.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),T.test(p)||A.test(p)||x.test(p)||C.test(e))break;if(p.search(/[^ ]/)>=_||!p.trim())u+=`
`+p.slice(_);else{if(m||f.search(/[^ ]/)>=4||T.test(f)||A.test(f)||C.test(f))break;u+=`
`+p}!m&&!p.trim()&&(m=!0),c+=L+`
`,e=e.substring(L.length+1),f=p.slice(_)}}s.loose||(a?s.loose=!0:/\n *\n *$/.test(c)&&(a=!0));let S=null,w;this.options.gfm&&(S=/^\[[ xX]\] /.exec(u),S&&(w=S[0]!=="[ ] ",u=u.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:c,task:!!S,checked:w,loose:!1,text:u,tokens:[]}),s.raw+=c}s.items[s.items.length-1].raw=s.items[s.items.length-1].raw.trimEnd(),s.items[s.items.length-1].text=s.items[s.items.length-1].text.trimEnd(),s.raw=s.raw.trimEnd();for(let l=0;l<s.items.length;l++)if(this.lexer.state.top=!1,s.items[l].tokens=this.lexer.blockTokens(s.items[l].text,[]),!s.loose){const c=s.items[l].tokens.filter(f=>f.type==="space"),u=c.length>0&&c.some(f=>/\n.*\n/.test(f.raw));s.loose=u}if(s.loose)for(let l=0;l<s.items.length;l++)s.items[l].loose=!0;return s}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:s}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=zD(n[1]),i=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===i.length){for(const a of i)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a=0;a<r.length;a++)o.header.push({text:r[a],tokens:this.lexer.inline(r[a]),header:!0,align:o.align[a]});for(const a of s)o.rows.push(zD(a,o.header.length).map((l,c)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:o.align[c]})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:ko(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=Py(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=Mge(n[2],"()");if(o>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);o&&(i=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),UD(n,{href:i&&i.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const i=(r[2]||r[1]).replace(/\s+/g," "),s=n[i.toLowerCase()];if(!s){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return UD(r,s,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrongLDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...i[0]].length-1;let a,l,c=o,u=0;const f=i[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+o);(i=f.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=[...a].length,i[3]||i[4]){c+=l;continue}else if((i[5]||i[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);const p=[...i[0]][0].length,m=e.slice(0,o+i.index+p+l);if(Math.min(o,l)%2){const S=m.slice(1,-1);return{type:"em",raw:m,text:S,tokens:this.lexer.inlineTokens(S)}}const _=m.slice(2,-2);return{type:"strong",raw:m,text:_,tokens:this.lexer.inlineTokens(_)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),s=/^ /.test(r)&&/ $/.test(r);return i&&s&&(r=r.substring(1,r.length-1)),r=ko(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,i;return n[2]==="@"?(r=ko(n[1]),i="mailto:"+r):(r=ko(n[1]),i=r),{type:"link",raw:n[0],text:r,href:i,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let i,s;if(n[2]==="@")i=ko(n[0]),s="mailto:"+i;else{let o;do o=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(o!==n[0]);i=ko(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:i,href:s,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=ko(n[0]),{type:"text",raw:n[0],text:r}}}}const kge=/^(?: *(?:\n|$))+/,Rge=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Pge=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,C_=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Lge=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,m5=/(?:[*+-]|\d{1,9}[.)])/,g5=hr(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,m5).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Q2=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ige=/^[^\n]+/,ek=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Dge=hr(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",ek).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Oge=hr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,m5).getRegex(),ib="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",tk=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Nge=hr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",tk).replace("tag",ib).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),y5=hr(Q2).replace("hr",C_).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ib).getRegex(),Bge=hr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",y5).getRegex(),nk={blockquote:Bge,code:Rge,def:Dge,fences:Pge,heading:Lge,hr:C_,html:Nge,lheading:g5,list:Oge,newline:kge,paragraph:y5,table:m0,text:Ige},VD=hr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",C_).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ib).getRegex(),Fge={...nk,table:VD,paragraph:hr(Q2).replace("hr",C_).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",VD).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",ib).getRegex()},zge={...nk,html:hr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",tk).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:m0,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:hr(Q2).replace("hr",C_).replace("heading",` *#{1,6} *[^
]`).replace("lheading",g5).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},_5=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Uge=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,v5=/^( {2,}|\\)\n(?!\s*$)/,Vge=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,T_="\\p{P}\\p{S}",Hge=hr(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,T_).getRegex(),Wge=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Gge=hr(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,T_).getRegex(),$ge=hr("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,T_).getRegex(),jge=hr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,T_).getRegex(),qge=hr(/\\([punct])/,"gu").replace(/punct/g,T_).getRegex(),Xge=hr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Yge=hr(tk).replace("(?:-->|$)","-->").getRegex(),Kge=hr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Yge).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Uw=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Zge=hr(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Uw).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),x5=hr(/^!?\[(label)\]\[(ref)\]/).replace("label",Uw).replace("ref",ek).getRegex(),S5=hr(/^!?\[(ref)\](?:\[\])?/).replace("ref",ek).getRegex(),Jge=hr("reflink|nolink(?!\\()","g").replace("reflink",x5).replace("nolink",S5).getRegex(),rk={_backpedal:m0,anyPunctuation:qge,autolink:Xge,blockSkip:Wge,br:v5,code:Uge,del:m0,emStrongLDelim:Gge,emStrongRDelimAst:$ge,emStrongRDelimUnd:jge,escape:_5,link:Zge,nolink:S5,punctuation:Hge,reflink:x5,reflinkSearch:Jge,tag:Kge,text:Vge,url:m0},Qge={...rk,link:hr(/^!?\[(label)\]\((.*?)\)/).replace("label",Uw).getRegex(),reflink:hr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Uw).getRegex()},CM={...rk,escape:hr(_5).replace("])","~|])").getRegex(),url:hr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},eye={...CM,br:hr(v5).replace("{2,}","*").getRegex(),text:hr(CM.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Dx={normal:nk,gfm:Fge,pedantic:zge},Ly={normal:rk,gfm:CM,breaks:eye,pedantic:Qge};class bl{constructor(e){De(this,"tokens");De(this,"options");De(this,"state");De(this,"tokenizer");De(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||md,this.options.tokenizer=this.options.tokenizer||new zw,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:Dx.normal,inline:Ly.normal};this.options.pedantic?(n.block=Dx.pedantic,n.inline=Ly.pedantic):this.options.gfm&&(n.block=Dx.gfm,this.options.breaks?n.inline=Ly.breaks:n.inline=Ly.gfm),this.tokenizer.rules=n}static get rules(){return{block:Dx,inline:Ly}}static lex(e,n){return new bl(n).lex(e)}static lexInline(e,n){return new bl(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let i,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},e,n))?(e=e.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+i.raw,s.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),n.push(i);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(o))){s=n[n.length-1],r&&(s==null?void 0:s.type)==="paragraph"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i),r=o.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+i.raw,s.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,s,o=e,a,l,c;if(this.tokens.links){const u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(r=u.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,c)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0;const f=e.slice(1);let p;this.options.extensions.startInline.forEach(m=>{p=m.call({lexer:this},f),typeof p=="number"&&p>=0&&(u=Math.min(u,p))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(r=this.tokenizer.inlineText(s)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(c=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}}class Vw{constructor(e){De(this,"options");De(this,"parser");this.options=e||md}space(e){return""}code({text:e,lang:n,escaped:r}){var o;const i=(o=(n||"").match(/^\S*/))==null?void 0:o[0],s=e.replace(/\n$/,"")+`
`;return i?'<pre><code class="language-'+ko(i)+'">'+(r?s:ko(s,!0))+`</code></pre>
`:"<pre><code>"+(r?s:ko(s,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:n}){return`<h${n}>${this.parser.parseInline(e)}</h${n}>
`}hr(e){return`<hr>
`}list(e){const n=e.ordered,r=e.start;let i="";for(let a=0;a<e.items.length;a++){const l=e.items[a];i+=this.listitem(l)}const s=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+s+o+`>
`+i+"</"+s+`>
`}listitem(e){let n="";if(e.task){const r=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=r+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=r+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:r+" ",text:r+" "}):n+=r+" "}return n+=this.parser.parse(e.tokens,!!e.loose),`<li>${n}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let n="",r="";for(let s=0;s<e.header.length;s++)r+=this.tablecell(e.header[s]);n+=this.tablerow({text:r});let i="";for(let s=0;s<e.rows.length;s++){const o=e.rows[s];r="";for(let a=0;a<o.length;a++)r+=this.tablecell(o[a]);i+=this.tablerow({text:r})}return i&&(i=`<tbody>${i}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+i+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const n=this.parser.parseInline(e.tokens),r=e.header?"th":"td";return(e.align?`<${r} align="${e.align}">`:`<${r}>`)+n+`</${r}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:n,tokens:r}){const i=this.parser.parseInline(r),s=FD(e);if(s===null)return i;e=s;let o='<a href="'+e+'"';return n&&(o+=' title="'+n+'"'),o+=">"+i+"</a>",o}image({href:e,title:n,text:r}){const i=FD(e);if(i===null)return r;e=i;let s=`<img src="${e}" alt="${r}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}}class ik{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class El{constructor(e){De(this,"options");De(this,"renderer");De(this,"textRenderer");this.options=e||md,this.options.renderer=this.options.renderer||new Vw,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ik}static parse(e,n){return new El(n).parse(e)}static parseInline(e,n){return new El(n).parseInline(e)}parse(e,n=!0){let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=s,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){r+=l||"";continue}}const o=s;switch(o.type){case"space":{r+=this.renderer.space(o);continue}case"hr":{r+=this.renderer.hr(o);continue}case"heading":{r+=this.renderer.heading(o);continue}case"code":{r+=this.renderer.code(o);continue}case"table":{r+=this.renderer.table(o);continue}case"blockquote":{r+=this.renderer.blockquote(o);continue}case"list":{r+=this.renderer.list(o);continue}case"html":{r+=this.renderer.html(o);continue}case"paragraph":{r+=this.renderer.paragraph(o);continue}case"text":{let a=o,l=this.renderer.text(a);for(;i+1<e.length&&e[i+1].type==="text";)a=e[++i],l+=`
`+this.renderer.text(a);n?r+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):r+=l;continue}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let i=0;i<e.length;i++){const s=e[i];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){const a=this.options.extensions.renderers[s.type].call({parser:this},s);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){r+=a||"";continue}}const o=s;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{const a='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return r}}class g0{constructor(e){De(this,"options");this.options=e||md}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}De(g0,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var Xc,w5,TM,b5;class tye{constructor(...e){$k(this,Xc);De(this,"defaults",J2());De(this,"options",this.setOptions);De(this,"parse",ty(this,Xc,TM).call(this,bl.lex,El.parse));De(this,"parseInline",ty(this,Xc,TM).call(this,bl.lexInline,El.parseInline));De(this,"Parser",El);De(this,"Renderer",Vw);De(this,"TextRenderer",ik);De(this,"Lexer",bl);De(this,"Tokenizer",zw);De(this,"Hooks",g0);this.use(...e)}walkTokens(e,n){var i,s;let r=[];for(const o of e)switch(r=r.concat(n.call(this,o)),o.type){case"table":{const a=o;for(const l of a.header)r=r.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const c of l)r=r.concat(this.walkTokens(c.tokens,n));break}case"list":{const a=o;r=r.concat(this.walkTokens(a.items,n));break}default:{const a=o;(s=(i=this.defaults.extensions)==null?void 0:i.childTokens)!=null&&s[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const c=a[l].flat(1/0);r=r.concat(this.walkTokens(c,n))}):a.tokens&&(r=r.concat(this.walkTokens(a.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){const o=n.renderers[s.name];o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),i.extensions=n),r.renderer){const s=this.defaults.renderer||new Vw(this.defaults);for(const o in r.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const a=o;let l=r.renderer[a];r.useNewRenderer||(l=ty(this,Xc,w5).call(this,l,a,s));const c=s[a];s[a]=(...u)=>{let f=l.apply(s,u);return f===!1&&(f=c.apply(s,u)),f||""}}i.renderer=s}if(r.tokenizer){const s=this.defaults.tokenizer||new zw(this.defaults);for(const o in r.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const a=o,l=r.tokenizer[a],c=s[a];s[a]=(...u)=>{let f=l.apply(s,u);return f===!1&&(f=c.apply(s,u)),f}}i.tokenizer=s}if(r.hooks){const s=this.defaults.hooks||new g0;for(const o in r.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const a=o,l=r.hooks[a],c=s[a];g0.passThroughHooks.has(o)?s[a]=u=>{if(this.defaults.async)return Promise.resolve(l.call(s,u)).then(p=>c.call(s,p));const f=l.call(s,u);return c.call(s,f)}:s[a]=(...u)=>{let f=l.apply(s,u);return f===!1&&(f=c.apply(s,u)),f}}i.hooks=s}if(r.walkTokens){const s=this.defaults.walkTokens,o=r.walkTokens;i.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return bl.lex(e,n??this.defaults)}parser(e,n){return El.parse(e,n??this.defaults)}}Xc=new WeakSet,w5=function(e,n,r){switch(n){case"heading":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,r.parser.parseInline(i.tokens),i.depth,Cge(r.parser.parseInline(i.tokens,r.parser.textRenderer)))};case"code":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text,i.lang,!!i.escaped)};case"table":return function(i){if(!i.type||i.type!==n)return e.apply(this,arguments);let s="",o="";for(let l=0;l<i.header.length;l++)o+=this.tablecell({text:i.header[l].text,tokens:i.header[l].tokens,header:!0,align:i.align[l]});s+=this.tablerow({text:o});let a="";for(let l=0;l<i.rows.length;l++){const c=i.rows[l];o="";for(let u=0;u<c.length;u++)o+=this.tablecell({text:c[u].text,tokens:c[u].tokens,header:!1,align:i.align[u]});a+=this.tablerow({text:o})}return e.call(this,s,a)};case"blockquote":return function(i){if(!i.type||i.type!==n)return e.apply(this,arguments);const s=this.parser.parse(i.tokens);return e.call(this,s)};case"list":return function(i){if(!i.type||i.type!==n)return e.apply(this,arguments);const s=i.ordered,o=i.start,a=i.loose;let l="";for(let c=0;c<i.items.length;c++){const u=i.items[c],f=u.checked,p=u.task;let m="";if(u.task){const _=this.checkbox({checked:!!f});a?u.tokens.length>0&&u.tokens[0].type==="paragraph"?(u.tokens[0].text=_+" "+u.tokens[0].text,u.tokens[0].tokens&&u.tokens[0].tokens.length>0&&u.tokens[0].tokens[0].type==="text"&&(u.tokens[0].tokens[0].text=_+" "+u.tokens[0].tokens[0].text)):u.tokens.unshift({type:"text",text:_+" "}):m+=_+" "}m+=this.parser.parse(u.tokens,a),l+=this.listitem({type:"list_item",raw:m,text:m,task:p,checked:!!f,loose:a,tokens:u.tokens})}return e.call(this,l,s,o)};case"html":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text,i.block)};case"paragraph":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"escape":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text)};case"link":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.href,i.title,this.parser.parseInline(i.tokens))};case"image":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.href,i.title,i.text)};case"strong":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"em":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"codespan":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text)};case"del":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,this.parser.parseInline(i.tokens))};case"text":return function(i){return!i.type||i.type!==n?e.apply(this,arguments):e.call(this,i.text)}}return e},TM=function(e,n){return(r,i)=>{const s={...i},o={...this.defaults,...s};this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const a=ty(this,Xc,b5).call(this,!!o.silent,!!o.async);if(typeof r>"u"||r===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>n(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(r=o.hooks.preprocess(r));let l=e(r,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=n(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return a(l)}}},b5=function(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const i="<p>An error occurred:</p><pre>"+ko(r.message+"",!0)+"</pre>";return n?Promise.resolve(i):i}if(n)return Promise.reject(r);throw r}};const id=new tye;function ir(t,e){return id.parse(t,e)}ir.options=ir.setOptions=function(t){return id.setOptions(t),ir.defaults=id.defaults,f5(ir.defaults),ir};ir.getDefaults=J2;ir.defaults=md;ir.use=function(...t){return id.use(...t),ir.defaults=id.defaults,f5(ir.defaults),ir};ir.walkTokens=function(t,e){return id.walkTokens(t,e)};ir.parseInline=id.parseInline;ir.Parser=El;ir.parser=El.parse;ir.Renderer=Vw;ir.TextRenderer=ik;ir.Lexer=bl;ir.lexer=bl.lex;ir.Tokenizer=zw;ir.Hooks=g0;ir.parse=ir;ir.options;ir.setOptions;ir.use;ir.walkTokens;ir.parseInline;El.parse;bl.lex;function E5(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Array.from(typeof t=="string"?[t]:t);r[r.length-1]=r[r.length-1].replace(/\r?\n([\t ]*)$/,"");var i=r.reduce(function(a,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?a.concat(c.map(function(u){var f,p;return(p=(f=u.match(/[\t ]/g))===null||f===void 0?void 0:f.length)!==null&&p!==void 0?p:0})):a},[]);if(i.length){var s=new RegExp(`
[	 ]{`+Math.min.apply(Math,i)+"}","g");r=r.map(function(a){return a.replace(s,`
`)})}r[0]=r[0].replace(/^\r?\n/,"");var o=r[0];return e.forEach(function(a,l){var c=o.match(/(?:^|\n)( *)$/),u=c?c[1]:"",f=a;typeof a=="string"&&a.includes(`
`)&&(f=String(a).split(`
`).map(function(p,m){return m===0?p:""+u+p}).join(`
`)),o+=f+r[l+1]}),o}function C5(t,{markdownAutoWrap:e}){const r=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),i=E5(r);return e===!1?i.replace(/ /g,"&nbsp;"):i}F(C5,"preprocessMarkdown");function T5(t,e={}){const n=C5(t,e),r=ir.lexer(n),i=[[]];let s=0;function o(a,l="normal"){a.type==="text"?a.text.split(`
`).forEach((u,f)=>{f!==0&&(s++,i.push([])),u.split(" ").forEach(p=>{p=p.replace(/&#39;/g,"'"),p&&i[s].push({content:p,type:l})})}):a.type==="strong"||a.type==="em"?a.tokens.forEach(c=>{o(c,a.type)}):a.type==="html"&&i[s].push({content:a.text,type:"normal"})}return F(o,"processNode"),r.forEach(a=>{var l;a.type==="paragraph"?(l=a.tokens)==null||l.forEach(c=>{o(c)}):a.type==="html"&&i[s].push({content:a.text,type:"normal"})}),i}F(T5,"markdownToLines");function M5(t,{markdownAutoWrap:e}={}){const n=ir.lexer(t);function r(i){var s,o,a;return i.type==="text"?e===!1?i.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):i.text.replace(/\n */g,"<br/>"):i.type==="strong"?`<strong>${(s=i.tokens)==null?void 0:s.map(r).join("")}</strong>`:i.type==="em"?`<em>${(o=i.tokens)==null?void 0:o.map(r).join("")}</em>`:i.type==="paragraph"?`<p>${(a=i.tokens)==null?void 0:a.map(r).join("")}</p>`:i.type==="space"?"":i.type==="html"?`${i.text}`:i.type==="escape"?i.text:`Unsupported markdown: ${i.type}`}return F(r,"output"),n.map(r).join("")}F(M5,"markdownToHTML");function A5(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}F(A5,"splitTextToChars");function k5(t,e){const n=A5(e.content);return sk(t,[],n,e.type)}F(k5,"splitWordToFitWidth");function sk(t,e,n,r){if(n.length===0)return[{content:e.join(""),type:r},{content:"",type:r}];const[i,...s]=n,o=[...e,i];return t([{content:o.join(""),type:r}])?sk(t,o,s,r):(e.length===0&&i&&(e.push(i),n.shift()),[{content:e.join(""),type:r},{content:n.join(""),type:r}])}F(sk,"splitWordToFitWidthRecursion");function R5(t,e){if(t.some(({content:n})=>n.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Hw(t,e)}F(R5,"splitLineToFitWidth");function Hw(t,e,n=[],r=[]){if(t.length===0)return r.length>0&&n.push(r),n.length>0?n:[];let i="";t[0].content===" "&&(i=" ",t.shift());const s=t.shift()??{content:" ",type:"normal"},o=[...r];if(i!==""&&o.push({content:i,type:"normal"}),o.push(s),e(o))return Hw(t,e,n,o);if(r.length>0)n.push(r),t.unshift(s);else if(s.content){const[a,l]=k5(e,s);n.push([a]),l.content&&t.unshift(l)}return Hw(t,e,n)}F(Hw,"splitLineToFitWidthRecursion");function MM(t,e){e&&t.attr("style",e)}F(MM,"applyStyle");async function P5(t,e,n,r,i=!1){const s=t.append("foreignObject");s.attr("width",`${10*n}px`),s.attr("height",`${10*n}px`);const o=s.append("xhtml:div");let a=e.label;e.label&&Rm(e.label)&&(a=await y2(e.label.replace(Jm.lineBreakRegex,`
`),rr()));const l=e.isNode?"nodeLabel":"edgeLabel",c=o.append("span");c.html(a),MM(c,e.labelStyle),c.attr("class",`${l} ${r}`),MM(o,e.labelStyle),o.style("display","table-cell"),o.style("white-space","nowrap"),o.style("line-height","1.5"),o.style("max-width",n+"px"),o.style("text-align","center"),o.attr("xmlns","http://www.w3.org/1999/xhtml"),i&&o.attr("class","labelBkg");let u=o.node().getBoundingClientRect();return u.width===n&&(o.style("display","table"),o.style("white-space","break-spaces"),o.style("width",n+"px"),u=o.node().getBoundingClientRect()),s.node()}F(P5,"addHtmlSpan");function sb(t,e,n){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*n-.1+"em").attr("dy",n+"em")}F(sb,"createTspan");function L5(t,e,n){const r=t.append("text"),i=sb(r,1,e);ob(i,n);const s=i.node().getComputedTextLength();return r.remove(),s}F(L5,"computeWidthOfText");function nye(t,e,n){var o;const r=t.append("text"),i=sb(r,1,e);ob(i,[{content:n,type:"normal"}]);const s=(o=i.node())==null?void 0:o.getBoundingClientRect();return s&&r.remove(),s}F(nye,"computeDimensionOfText");function I5(t,e,n,r=!1){const s=e.append("g"),o=s.insert("rect").attr("class","background").attr("style","stroke: none"),a=s.append("text").attr("y","-10.1");let l=0;for(const c of n){const u=F(p=>L5(s,1.1,p)<=t,"checkWidth"),f=u(c)?[c]:R5(c,u);for(const p of f){const m=sb(a,l,1.1);ob(m,p),l++}}if(r){const c=a.node().getBBox(),u=2;return o.attr("x",c.x-u).attr("y",c.y-u).attr("width",c.width+2*u).attr("height",c.height+2*u),s.node()}else return a.node()}F(I5,"createFormattedText");function ob(t,e){t.text(""),e.forEach((n,r)=>{const i=t.append("tspan").attr("font-style",n.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",n.type==="strong"?"bold":"normal");r===0?i.text(n.content):i.text(" "+n.content)})}F(ob,"updateTextContentAndStyles");function D5(t){return t.replace(/fa[bklrs]?:fa-[\w-]+/g,e=>`<i class='${e.replace(":"," ")}'></i>`)}F(D5,"replaceIconSubstring");var ng=F(async(t,e="",{style:n="",isTitle:r=!1,classes:i="",useHtmlLabels:s=!0,isNode:o=!0,width:a=200,addSvgBackground:l=!1}={},c)=>{if(Je.debug("XYZ createText",e,n,r,i,s,o,"addSvgBackground: ",l),s){const u=M5(e,c),f=D5(tg(u)),p=e.replace(/\\\\/g,"\\"),m={isNode:o,label:Rm(e)?p:f,labelStyle:n.replace("fill:","color:")};return await P5(t,m,a,i,l)}else{const u=e.replace(/<br\s*\/?>/g,"<br/>"),f=T5(u.replace("<br>","<br/>"),c),p=I5(a,t,f,e?l:!1);if(o){/stroke:/.exec(n)&&(n=n.replace("stroke:","lineColor:"));const m=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");nr(p).attr("style",m)}else{const m=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");nr(p).select("rect").attr("style",m.replace(/background:/g,"fill:"));const _=n.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");nr(p).select("text").attr("style",_)}return p}},"createText");function VC(t,e,n){if(t&&t.length){const[r,i]=e,s=Math.PI/180*n,o=Math.cos(s),a=Math.sin(s);for(const l of t){const[c,u]=l;l[0]=(c-r)*o-(u-i)*a+r,l[1]=(c-r)*a+(u-i)*o+i}}}function rye(t,e){return t[0]===e[0]&&t[1]===e[1]}function iye(t,e,n,r=1){const i=n,s=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(i)for(const c of o)VC(c,a,i);const l=function(c,u,f){const p=[];for(const C of c){const T=[...C];rye(T[0],T[T.length-1])||T.push([T[0][0],T[0][1]]),T.length>2&&p.push(T)}const m=[];u=Math.max(u,.1);const _=[];for(const C of p)for(let T=0;T<C.length-1;T++){const A=C[T],L=C[T+1];if(A[1]!==L[1]){const R=Math.min(A[1],L[1]);_.push({ymin:R,ymax:Math.max(A[1],L[1]),x:R===A[1]?A[0]:L[0],islope:(L[0]-A[0])/(L[1]-A[1])})}}if(_.sort((C,T)=>C.ymin<T.ymin?-1:C.ymin>T.ymin?1:C.x<T.x?-1:C.x>T.x?1:C.ymax===T.ymax?0:(C.ymax-T.ymax)/Math.abs(C.ymax-T.ymax)),!_.length)return m;let S=[],w=_[0].ymin,x=0;for(;S.length||_.length;){if(_.length){let C=-1;for(let T=0;T<_.length&&!(_[T].ymin>w);T++)C=T;_.splice(0,C+1).forEach(T=>{S.push({s:w,edge:T})})}if(S=S.filter(C=>!(C.edge.ymax<=w)),S.sort((C,T)=>C.edge.x===T.edge.x?0:(C.edge.x-T.edge.x)/Math.abs(C.edge.x-T.edge.x)),(f!==1||x%u==0)&&S.length>1)for(let C=0;C<S.length;C+=2){const T=C+1;if(T>=S.length)break;const A=S[C].edge,L=S[T].edge;m.push([[Math.round(A.x),w],[Math.round(L.x),w]])}w+=f,S.forEach(C=>{C.edge.x=C.edge.x+f*C.edge.islope}),x++}return m}(o,s,r);if(i){for(const c of o)VC(c,a,-i);(function(c,u,f){const p=[];c.forEach(m=>p.push(...m)),VC(p,u,f)})(l,a,-i)}return l}function M_(t,e){var n;const r=e.hachureAngle+90;let i=e.hachureGap;i<0&&(i=4*e.strokeWidth),i=Math.round(Math.max(i,.1));let s=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(s=i),iye(t,i,r,s||1)}class ok{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const r=M_(e,n);return{type:"fillSketch",ops:this.renderLines(r,n)}}renderLines(e,n){const r=[];for(const i of e)r.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],n));return r}}function ab(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class sye extends ok{fillPolygons(e,n){let r=n.hachureGap;r<0&&(r=4*n.strokeWidth),r=Math.max(r,.1);const i=M_(e,Object.assign({},n,{hachureGap:r})),s=Math.PI/180*n.hachureAngle,o=[],a=.5*r*Math.cos(s),l=.5*r*Math.sin(s);for(const[c,u]of i)ab([c,u])&&o.push([[c[0]-a,c[1]+l],[...u]],[[c[0]+a,c[1]-l],[...u]]);return{type:"fillSketch",ops:this.renderLines(o,n)}}}class oye extends ok{fillPolygons(e,n){const r=this._fillPolygons(e,n),i=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),s=this._fillPolygons(e,i);return r.ops=r.ops.concat(s.ops),r}}class aye{constructor(e){this.helper=e}fillPolygons(e,n){const r=M_(e,n=Object.assign({},n,{hachureAngle:0}));return this.dotsOnLines(r,n)}dotsOnLines(e,n){const r=[];let i=n.hachureGap;i<0&&(i=4*n.strokeWidth),i=Math.max(i,.1);let s=n.fillWeight;s<0&&(s=n.strokeWidth/2);const o=i/4;for(const a of e){const l=ab(a),c=l/i,u=Math.ceil(c)-1,f=l-u*i,p=(a[0][0]+a[1][0])/2-i/4,m=Math.min(a[0][1],a[1][1]);for(let _=0;_<u;_++){const S=m+f+_*i,w=p-o+2*Math.random()*o,x=S-o+2*Math.random()*o,C=this.helper.ellipse(w,x,s,s,n);r.push(...C.ops)}}return{type:"fillSketch",ops:r}}}class lye{constructor(e){this.helper=e}fillPolygons(e,n){const r=M_(e,n);return{type:"fillSketch",ops:this.dashedLine(r,n)}}dashedLine(e,n){const r=n.dashOffset<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashOffset,i=n.dashGap<0?n.hachureGap<0?4*n.strokeWidth:n.hachureGap:n.dashGap,s=[];return e.forEach(o=>{const a=ab(o),l=Math.floor(a/(r+i)),c=(a+i-l*(r+i))/2;let u=o[0],f=o[1];u[0]>f[0]&&(u=o[1],f=o[0]);const p=Math.atan((f[1]-u[1])/(f[0]-u[0]));for(let m=0;m<l;m++){const _=m*(r+i),S=_+r,w=[u[0]+_*Math.cos(p)+c*Math.cos(p),u[1]+_*Math.sin(p)+c*Math.sin(p)],x=[u[0]+S*Math.cos(p)+c*Math.cos(p),u[1]+S*Math.sin(p)+c*Math.sin(p)];s.push(...this.helper.doubleLineOps(w[0],w[1],x[0],x[1],n))}}),s}}class cye{constructor(e){this.helper=e}fillPolygons(e,n){const r=n.hachureGap<0?4*n.strokeWidth:n.hachureGap,i=n.zigzagOffset<0?r:n.zigzagOffset,s=M_(e,n=Object.assign({},n,{hachureGap:r+i}));return{type:"fillSketch",ops:this.zigzagLines(s,i,n)}}zigzagLines(e,n,r){const i=[];return e.forEach(s=>{const o=ab(s),a=Math.round(o/(2*n));let l=s[0],c=s[1];l[0]>c[0]&&(l=s[1],c=s[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let f=0;f<a;f++){const p=2*f*n,m=2*(f+1)*n,_=Math.sqrt(2*Math.pow(n,2)),S=[l[0]+p*Math.cos(u),l[1]+p*Math.sin(u)],w=[l[0]+m*Math.cos(u),l[1]+m*Math.sin(u)],x=[S[0]+_*Math.cos(u+Math.PI/4),S[1]+_*Math.sin(u+Math.PI/4)];i.push(...this.helper.doubleLineOps(S[0],S[1],x[0],x[1],r),...this.helper.doubleLineOps(x[0],x[1],w[0],w[1],r))}}),i}}const eo={};class uye{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const hye=0,HC=1,HD=2,Ox={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function WC(t,e){return t.type===e}function ak(t){const e=[],n=function(o){const a=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))a[a.length]={type:hye,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];a[a.length]={type:HC,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return a[a.length]={type:HD,text:""},a}(t);let r="BOD",i=0,s=n[i];for(;!WC(s,HD);){let o=0;const a=[];if(r==="BOD"){if(s.text!=="M"&&s.text!=="m")return ak("M0,0"+t);i++,o=Ox[s.text],r=s.text}else WC(s,HC)?o=Ox[r]:(i++,o=Ox[s.text],r=s.text);if(!(i+o<n.length))throw new Error("Path data ended short");for(let l=i;l<i+o;l++){const c=n[l];if(!WC(c,HC))throw new Error("Param not a number: "+r+","+c.text);a[a.length]=+c.text}if(typeof Ox[r]!="number")throw new Error("Bad segment: "+r);{const l={key:r,data:a};e.push(l),i+=o,s=n[i],r==="M"&&(r="L"),r==="m"&&(r="l")}}return e}function O5(t){let e=0,n=0,r=0,i=0;const s=[];for(const{key:o,data:a}of t)switch(o){case"M":s.push({key:"M",data:[...a]}),[e,n]=a,[r,i]=a;break;case"m":e+=a[0],n+=a[1],s.push({key:"M",data:[e,n]}),r=e,i=n;break;case"L":s.push({key:"L",data:[...a]}),[e,n]=a;break;case"l":e+=a[0],n+=a[1],s.push({key:"L",data:[e,n]});break;case"C":s.push({key:"C",data:[...a]}),e=a[4],n=a[5];break;case"c":{const l=a.map((c,u)=>u%2?c+n:c+e);s.push({key:"C",data:l}),e=l[4],n=l[5];break}case"Q":s.push({key:"Q",data:[...a]}),e=a[2],n=a[3];break;case"q":{const l=a.map((c,u)=>u%2?c+n:c+e);s.push({key:"Q",data:l}),e=l[2],n=l[3];break}case"A":s.push({key:"A",data:[...a]}),e=a[5],n=a[6];break;case"a":e+=a[5],n+=a[6],s.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,n]});break;case"H":s.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],s.push({key:"H",data:[e]});break;case"V":s.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],s.push({key:"V",data:[n]});break;case"S":s.push({key:"S",data:[...a]}),e=a[2],n=a[3];break;case"s":{const l=a.map((c,u)=>u%2?c+n:c+e);s.push({key:"S",data:l}),e=l[2],n=l[3];break}case"T":s.push({key:"T",data:[...a]}),e=a[0],n=a[1];break;case"t":e+=a[0],n+=a[1],s.push({key:"T",data:[e,n]});break;case"Z":case"z":s.push({key:"Z",data:[]}),e=r,n=i}return s}function N5(t){const e=[];let n="",r=0,i=0,s=0,o=0,a=0,l=0;for(const{key:c,data:u}of t){switch(c){case"M":e.push({key:"M",data:[...u]}),[r,i]=u,[s,o]=u;break;case"C":e.push({key:"C",data:[...u]}),r=u[4],i=u[5],a=u[2],l=u[3];break;case"L":e.push({key:"L",data:[...u]}),[r,i]=u;break;case"H":r=u[0],e.push({key:"L",data:[r,i]});break;case"V":i=u[0],e.push({key:"L",data:[r,i]});break;case"S":{let f=0,p=0;n==="C"||n==="S"?(f=r+(r-a),p=i+(i-l)):(f=r,p=i),e.push({key:"C",data:[f,p,...u]}),a=u[0],l=u[1],r=u[2],i=u[3];break}case"T":{const[f,p]=u;let m=0,_=0;n==="Q"||n==="T"?(m=r+(r-a),_=i+(i-l)):(m=r,_=i);const S=r+2*(m-r)/3,w=i+2*(_-i)/3,x=f+2*(m-f)/3,C=p+2*(_-p)/3;e.push({key:"C",data:[S,w,x,C,f,p]}),a=m,l=_,r=f,i=p;break}case"Q":{const[f,p,m,_]=u,S=r+2*(f-r)/3,w=i+2*(p-i)/3,x=m+2*(f-m)/3,C=_+2*(p-_)/3;e.push({key:"C",data:[S,w,x,C,m,_]}),a=f,l=p,r=m,i=_;break}case"A":{const f=Math.abs(u[0]),p=Math.abs(u[1]),m=u[2],_=u[3],S=u[4],w=u[5],x=u[6];f===0||p===0?(e.push({key:"C",data:[r,i,w,x,w,x]}),r=w,i=x):(r!==w||i!==x)&&(B5(r,i,w,x,f,p,m,_,S).forEach(function(C){e.push({key:"C",data:C})}),r=w,i=x);break}case"Z":e.push({key:"Z",data:[]}),r=s,i=o}n=c}return e}function Iy(t,e,n){return[t*Math.cos(n)-e*Math.sin(n),t*Math.sin(n)+e*Math.cos(n)]}function B5(t,e,n,r,i,s,o,a,l,c){const u=(f=o,Math.PI*f/180);var f;let p=[],m=0,_=0,S=0,w=0;if(c)[m,_,S,w]=c;else{[t,e]=Iy(t,e,-u),[n,r]=Iy(n,r,-u);const K=(t-n)/2,j=(e-r)/2;let J=K*K/(i*i)+j*j/(s*s);J>1&&(J=Math.sqrt(J),i*=J,s*=J);const $=i*i,ie=s*s,U=$*ie-$*j*j-ie*K*K,ee=$*j*j+ie*K*K,V=(a===l?-1:1)*Math.sqrt(Math.abs(U/ee));S=V*i*j/s+(t+n)/2,w=V*-s*K/i+(e+r)/2,m=Math.asin(parseFloat(((e-w)/s).toFixed(9))),_=Math.asin(parseFloat(((r-w)/s).toFixed(9))),t<S&&(m=Math.PI-m),n<S&&(_=Math.PI-_),m<0&&(m=2*Math.PI+m),_<0&&(_=2*Math.PI+_),l&&m>_&&(m-=2*Math.PI),!l&&_>m&&(_-=2*Math.PI)}let x=_-m;if(Math.abs(x)>120*Math.PI/180){const K=_,j=n,J=r;_=l&&_>m?m+120*Math.PI/180*1:m+120*Math.PI/180*-1,p=B5(n=S+i*Math.cos(_),r=w+s*Math.sin(_),j,J,i,s,o,0,l,[_,K,S,w])}x=_-m;const C=Math.cos(m),T=Math.sin(m),A=Math.cos(_),L=Math.sin(_),R=Math.tan(x/4),N=4/3*i*R,z=4/3*s*R,D=[t,e],I=[t+N*T,e-z*C],B=[n+N*L,r-z*A],q=[n,r];if(I[0]=2*D[0]-I[0],I[1]=2*D[1]-I[1],c)return[I,B,q].concat(p);{p=[I,B,q].concat(p);const K=[];for(let j=0;j<p.length;j+=3){const J=Iy(p[j][0],p[j][1],u),$=Iy(p[j+1][0],p[j+1][1],u),ie=Iy(p[j+2][0],p[j+2][1],u);K.push([J[0],J[1],$[0],$[1],ie[0],ie[1]])}return K}}const fye={randOffset:function(t,e){return ln(t,e)},randOffsetWithRange:function(t,e,n){return Ww(t,e,n)},ellipse:function(t,e,n,r,i){const s=z5(n,r,i);return AM(t,e,i,s).opset},doubleLineOps:function(t,e,n,r,i){return sh(t,e,n,r,i,!0)}};function F5(t,e,n,r,i){return{type:"path",ops:sh(t,e,n,r,i)}}function iS(t,e,n){const r=(t||[]).length;if(r>2){const i=[];for(let s=0;s<r-1;s++)i.push(...sh(t[s][0],t[s][1],t[s+1][0],t[s+1][1],n));return e&&i.push(...sh(t[r-1][0],t[r-1][1],t[0][0],t[0][1],n)),{type:"path",ops:i}}return r===2?F5(t[0][0],t[0][1],t[1][0],t[1][1],n):{type:"path",ops:[]}}function dye(t,e,n,r,i){return function(s,o){return iS(s,!0,o)}([[t,e],[t+n,e],[t+n,e+r],[t,e+r]],i)}function WD(t,e){if(t.length){const n=typeof t[0][0]=="number"?[t]:t,r=Nx(n[0],1*(1+.2*e.roughness),e),i=e.disableMultiStroke?[]:Nx(n[0],1.5*(1+.22*e.roughness),jD(e));for(let s=1;s<n.length;s++){const o=n[s];if(o.length){const a=Nx(o,1*(1+.2*e.roughness),e),l=e.disableMultiStroke?[]:Nx(o,1.5*(1+.22*e.roughness),jD(e));for(const c of a)c.op!=="move"&&r.push(c);for(const c of l)c.op!=="move"&&i.push(c)}}return{type:"path",ops:r.concat(i)}}return{type:"path",ops:[]}}function z5(t,e,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),s=2*Math.PI/i;let o=Math.abs(t/2),a=Math.abs(e/2);const l=1-n.curveFitting;return o+=ln(o*l,n),a+=ln(a*l,n),{increment:s,rx:o,ry:a}}function AM(t,e,n,r){const[i,s]=qD(r.increment,t,e,r.rx,r.ry,1,r.increment*Ww(.1,Ww(.4,1,n),n),n);let o=Gw(i,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[a]=qD(r.increment,t,e,r.rx,r.ry,1.5,0,n),l=Gw(a,null,n);o=o.concat(l)}return{estimatedPoints:s,opset:{type:"path",ops:o}}}function GD(t,e,n,r,i,s,o,a,l){const c=t,u=e;let f=Math.abs(n/2),p=Math.abs(r/2);f+=ln(.01*f,l),p+=ln(.01*p,l);let m=i,_=s;for(;m<0;)m+=2*Math.PI,_+=2*Math.PI;_-m>2*Math.PI&&(m=0,_=2*Math.PI);const S=2*Math.PI/l.curveStepCount,w=Math.min(S/2,(_-m)/2),x=XD(w,c,u,f,p,m,_,1,l);if(!l.disableMultiStroke){const C=XD(w,c,u,f,p,m,_,1.5,l);x.push(...C)}return o&&(a?x.push(...sh(c,u,c+f*Math.cos(m),u+p*Math.sin(m),l),...sh(c,u,c+f*Math.cos(_),u+p*Math.sin(_),l)):x.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+f*Math.cos(m),u+p*Math.sin(m)]})),{type:"path",ops:x}}function $D(t,e){const n=N5(O5(ak(t))),r=[];let i=[0,0],s=[0,0];for(const{key:o,data:a}of n)switch(o){case"M":s=[a[0],a[1]],i=[a[0],a[1]];break;case"L":r.push(...sh(s[0],s[1],a[0],a[1],e)),s=[a[0],a[1]];break;case"C":{const[l,c,u,f,p,m]=a;r.push(...pye(l,c,u,f,p,m,s,e)),s=[p,m];break}case"Z":r.push(...sh(s[0],s[1],i[0],i[1],e)),s=[i[0],i[1]]}return{type:"path",ops:r}}function GC(t,e){const n=[];for(const r of t)if(r.length){const i=e.maxRandomnessOffset||0,s=r.length;if(s>2){n.push({op:"move",data:[r[0][0]+ln(i,e),r[0][1]+ln(i,e)]});for(let o=1;o<s;o++)n.push({op:"lineTo",data:[r[o][0]+ln(i,e),r[o][1]+ln(i,e)]})}}return{type:"fillPath",ops:n}}function Bp(t,e){return function(n,r){let i=n.fillStyle||"hachure";if(!eo[i])switch(i){case"zigzag":eo[i]||(eo[i]=new sye(r));break;case"cross-hatch":eo[i]||(eo[i]=new oye(r));break;case"dots":eo[i]||(eo[i]=new aye(r));break;case"dashed":eo[i]||(eo[i]=new lye(r));break;case"zigzag-line":eo[i]||(eo[i]=new cye(r));break;default:i="hachure",eo[i]||(eo[i]=new ok(r))}return eo[i]}(e,fye).fillPolygons(t,e)}function jD(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function U5(t){return t.randomizer||(t.randomizer=new uye(t.seed||0)),t.randomizer.next()}function Ww(t,e,n,r=1){return n.roughness*r*(U5(n)*(e-t)+t)}function ln(t,e,n=1){return Ww(-t,t,e,n)}function sh(t,e,n,r,i,s=!1){const o=s?i.disableMultiStrokeFill:i.disableMultiStroke,a=kM(t,e,n,r,i,!0,!1);if(o)return a;const l=kM(t,e,n,r,i,!0,!0);return a.concat(l)}function kM(t,e,n,r,i,s,o){const a=Math.pow(t-n,2)+Math.pow(e-r,2),l=Math.sqrt(a);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>a&&(u=l/10);const f=u/2,p=.2+.2*U5(i);let m=i.bowing*i.maxRandomnessOffset*(r-e)/200,_=i.bowing*i.maxRandomnessOffset*(t-n)/200;m=ln(m,i,c),_=ln(_,i,c);const S=[],w=()=>ln(f,i,c),x=()=>ln(u,i,c),C=i.preserveVertices;return o?S.push({op:"move",data:[t+(C?0:w()),e+(C?0:w())]}):S.push({op:"move",data:[t+(C?0:ln(u,i,c)),e+(C?0:ln(u,i,c))]}),o?S.push({op:"bcurveTo",data:[m+t+(n-t)*p+w(),_+e+(r-e)*p+w(),m+t+2*(n-t)*p+w(),_+e+2*(r-e)*p+w(),n+(C?0:w()),r+(C?0:w())]}):S.push({op:"bcurveTo",data:[m+t+(n-t)*p+x(),_+e+(r-e)*p+x(),m+t+2*(n-t)*p+x(),_+e+2*(r-e)*p+x(),n+(C?0:x()),r+(C?0:x())]}),S}function Nx(t,e,n){if(!t.length)return[];const r=[];r.push([t[0][0]+ln(e,n),t[0][1]+ln(e,n)]),r.push([t[0][0]+ln(e,n),t[0][1]+ln(e,n)]);for(let i=1;i<t.length;i++)r.push([t[i][0]+ln(e,n),t[i][1]+ln(e,n)]),i===t.length-1&&r.push([t[i][0]+ln(e,n),t[i][1]+ln(e,n)]);return Gw(r,null,n)}function Gw(t,e,n){const r=t.length,i=[];if(r>3){const s=[],o=1-n.curveTightness;i.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<r;a++){const l=t[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*t[a+1][0]-o*t[a-1][0])/6,l[1]+(o*t[a+1][1]-o*t[a-1][1])/6],s[2]=[t[a+1][0]+(o*t[a][0]-o*t[a+2][0])/6,t[a+1][1]+(o*t[a][1]-o*t[a+2][1])/6],s[3]=[t[a+1][0],t[a+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else r===3?(i.push({op:"move",data:[t[1][0],t[1][1]]}),i.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):r===2&&i.push(...kM(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return i}function qD(t,e,n,r,i,s,o,a){const l=[],c=[];if(a.roughness===0){t/=4,c.push([e+r*Math.cos(-t),n+i*Math.sin(-t)]);for(let u=0;u<=2*Math.PI;u+=t){const f=[e+r*Math.cos(u),n+i*Math.sin(u)];l.push(f),c.push(f)}c.push([e+r*Math.cos(0),n+i*Math.sin(0)]),c.push([e+r*Math.cos(t),n+i*Math.sin(t)])}else{const u=ln(.5,a)-Math.PI/2;c.push([ln(s,a)+e+.9*r*Math.cos(u-t),ln(s,a)+n+.9*i*Math.sin(u-t)]);const f=2*Math.PI+u-.01;for(let p=u;p<f;p+=t){const m=[ln(s,a)+e+r*Math.cos(p),ln(s,a)+n+i*Math.sin(p)];l.push(m),c.push(m)}c.push([ln(s,a)+e+r*Math.cos(u+2*Math.PI+.5*o),ln(s,a)+n+i*Math.sin(u+2*Math.PI+.5*o)]),c.push([ln(s,a)+e+.98*r*Math.cos(u+o),ln(s,a)+n+.98*i*Math.sin(u+o)]),c.push([ln(s,a)+e+.9*r*Math.cos(u+.5*o),ln(s,a)+n+.9*i*Math.sin(u+.5*o)])}return[c,l]}function XD(t,e,n,r,i,s,o,a,l){const c=s+ln(.1,l),u=[];u.push([ln(a,l)+e+.9*r*Math.cos(c-t),ln(a,l)+n+.9*i*Math.sin(c-t)]);for(let f=c;f<=o;f+=t)u.push([ln(a,l)+e+r*Math.cos(f),ln(a,l)+n+i*Math.sin(f)]);return u.push([e+r*Math.cos(o),n+i*Math.sin(o)]),u.push([e+r*Math.cos(o),n+i*Math.sin(o)]),Gw(u,null,l)}function pye(t,e,n,r,i,s,o,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let u=[0,0];const f=a.disableMultiStroke?1:2,p=a.preserveVertices;for(let m=0;m<f;m++)m===0?l.push({op:"move",data:[o[0],o[1]]}):l.push({op:"move",data:[o[0]+(p?0:ln(c[0],a)),o[1]+(p?0:ln(c[0],a))]}),u=p?[i,s]:[i+ln(c[m],a),s+ln(c[m],a)],l.push({op:"bcurveTo",data:[t+ln(c[m],a),e+ln(c[m],a),n+ln(c[m],a),r+ln(c[m],a),u[0],u[1]]});return l}function Dy(t){return[...t]}function YD(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(n===3)r.push(Dy(t[0]),Dy(t[1]),Dy(t[2]),Dy(t[2]));else{const i=[];i.push(t[0],t[0]);for(let a=1;a<t.length;a++)i.push(t[a]),a===t.length-1&&i.push(t[a]);const s=[],o=1-e;r.push(Dy(i[0]));for(let a=1;a+2<i.length;a++){const l=i[a];s[0]=[l[0],l[1]],s[1]=[l[0]+(o*i[a+1][0]-o*i[a-1][0])/6,l[1]+(o*i[a+1][1]-o*i[a-1][1])/6],s[2]=[i[a+1][0]+(o*i[a][0]-o*i[a+2][0])/6,i[a+1][1]+(o*i[a][1]-o*i[a+2][1])/6],s[3]=[i[a+1][0],i[a+1][1]],r.push(s[1],s[2],s[3])}}return r}function sS(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function mye(t,e,n){const r=sS(e,n);if(r===0)return sS(t,e);let i=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/r;return i=Math.max(0,Math.min(1,i)),sS(t,Ef(e,n,i))}function Ef(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function RM(t,e,n,r){const i=r||[];if(function(a,l){const c=a[l+0],u=a[l+1],f=a[l+2],p=a[l+3];let m=3*u[0]-2*c[0]-p[0];m*=m;let _=3*u[1]-2*c[1]-p[1];_*=_;let S=3*f[0]-2*p[0]-c[0];S*=S;let w=3*f[1]-2*p[1]-c[1];return w*=w,m<S&&(m=S),_<w&&(_=w),m+_}(t,e)<n){const a=t[e+0];i.length?(s=i[i.length-1],o=a,Math.sqrt(sS(s,o))>1&&i.push(a)):i.push(a),i.push(t[e+3])}else{const l=t[e+0],c=t[e+1],u=t[e+2],f=t[e+3],p=Ef(l,c,.5),m=Ef(c,u,.5),_=Ef(u,f,.5),S=Ef(p,m,.5),w=Ef(m,_,.5),x=Ef(S,w,.5);RM([l,p,S,x],0,n,i),RM([x,w,_,f],0,n,i)}var s,o;return i}function gye(t,e){return $w(t,0,t.length,e)}function $w(t,e,n,r,i){const s=i||[],o=t[e],a=t[n-1];let l=0,c=1;for(let u=e+1;u<n-1;++u){const f=mye(t[u],o,a);f>l&&(l=f,c=u)}return Math.sqrt(l)>r?($w(t,e,c+1,r,s),$w(t,c,n,r,s)):(s.length||s.push(o),s.push(a)),s}function $C(t,e=.15,n){const r=[],i=(t.length-1)/3;for(let s=0;s<i;s++)RM(t,3*s,e,r);return n&&n>0?$w(r,0,r.length,n):r}const To="none";class jw{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,r){return{shape:e,sets:n||[],options:r||this.defaultOptions}}line(e,n,r,i,s){const o=this._o(s);return this._d("line",[F5(e,n,r,i,o)],o)}rectangle(e,n,r,i,s){const o=this._o(s),a=[],l=dye(e,n,r,i,o);if(o.fill){const c=[[e,n],[e+r,n],[e+r,n+i],[e,n+i]];o.fillStyle==="solid"?a.push(GC([c],o)):a.push(Bp([c],o))}return o.stroke!==To&&a.push(l),this._d("rectangle",a,o)}ellipse(e,n,r,i,s){const o=this._o(s),a=[],l=z5(r,i,o),c=AM(e,n,o,l);if(o.fill)if(o.fillStyle==="solid"){const u=AM(e,n,o,l).opset;u.type="fillPath",a.push(u)}else a.push(Bp([c.estimatedPoints],o));return o.stroke!==To&&a.push(c.opset),this._d("ellipse",a,o)}circle(e,n,r,i){const s=this.ellipse(e,n,r,r,i);return s.shape="circle",s}linearPath(e,n){const r=this._o(n);return this._d("linearPath",[iS(e,!1,r)],r)}arc(e,n,r,i,s,o,a=!1,l){const c=this._o(l),u=[],f=GD(e,n,r,i,s,o,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const p=Object.assign({},c);p.disableMultiStroke=!0;const m=GD(e,n,r,i,s,o,!0,!1,p);m.type="fillPath",u.push(m)}else u.push(function(p,m,_,S,w,x,C){const T=p,A=m;let L=Math.abs(_/2),R=Math.abs(S/2);L+=ln(.01*L,C),R+=ln(.01*R,C);let N=w,z=x;for(;N<0;)N+=2*Math.PI,z+=2*Math.PI;z-N>2*Math.PI&&(N=0,z=2*Math.PI);const D=(z-N)/C.curveStepCount,I=[];for(let B=N;B<=z;B+=D)I.push([T+L*Math.cos(B),A+R*Math.sin(B)]);return I.push([T+L*Math.cos(z),A+R*Math.sin(z)]),I.push([T,A]),Bp([I],C)}(e,n,r,i,s,o,c));return c.stroke!==To&&u.push(f),this._d("arc",u,c)}curve(e,n){const r=this._o(n),i=[],s=WD(e,r);if(r.fill&&r.fill!==To)if(r.fillStyle==="solid"){const o=WD(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],a=e;if(a.length){const l=typeof a[0][0]=="number"?[a]:a;for(const c of l)c.length<3?o.push(...c):c.length===3?o.push(...$C(YD([c[0],c[0],c[1],c[2]]),10,(1+r.roughness)/2)):o.push(...$C(YD(c),10,(1+r.roughness)/2))}o.length&&i.push(Bp([o],r))}return r.stroke!==To&&i.push(s),this._d("curve",i,r)}polygon(e,n){const r=this._o(n),i=[],s=iS(e,!0,r);return r.fill&&(r.fillStyle==="solid"?i.push(GC([e],r)):i.push(Bp([e],r))),r.stroke!==To&&i.push(s),this._d("polygon",i,r)}path(e,n){const r=this._o(n),i=[];if(!e)return this._d("path",i,r);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=r.fill&&r.fill!=="transparent"&&r.fill!==To,o=r.stroke!==To,a=!!(r.simplification&&r.simplification<1),l=function(u,f,p){const m=N5(O5(ak(u))),_=[];let S=[],w=[0,0],x=[];const C=()=>{x.length>=4&&S.push(...$C(x,f)),x=[]},T=()=>{C(),S.length&&(_.push(S),S=[])};for(const{key:L,data:R}of m)switch(L){case"M":T(),w=[R[0],R[1]],S.push(w);break;case"L":C(),S.push([R[0],R[1]]);break;case"C":if(!x.length){const N=S.length?S[S.length-1]:w;x.push([N[0],N[1]])}x.push([R[0],R[1]]),x.push([R[2],R[3]]),x.push([R[4],R[5]]);break;case"Z":C(),S.push([w[0],w[1]])}if(T(),!p)return _;const A=[];for(const L of _){const R=gye(L,p);R.length&&A.push(R)}return A}(e,1,a?4-4*(r.simplification||1):(1+r.roughness)/2),c=$D(e,r);if(s)if(r.fillStyle==="solid")if(l.length===1){const u=$D(e,Object.assign(Object.assign({},r),{disableMultiStroke:!0,roughness:r.roughness?r.roughness+r.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(u.ops)})}else i.push(GC(l,r));else i.push(Bp(l,r));return o&&(a?l.forEach(u=>{i.push(iS(u,!1,r))}):i.push(c)),this._d("path",i,r)}opsToPath(e,n){let r="";for(const i of e.ops){const s=typeof n=="number"&&n>=0?i.data.map(o=>+o.toFixed(n)):i.data;switch(i.op){case"move":r+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":r+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":r+=`L${s[0]} ${s[1]} `}}return r.trim()}toPaths(e){const n=e.sets||[],r=e.options||this.defaultOptions,i=[];for(const s of n){let o=null;switch(s.type){case"path":o={d:this.opsToPath(s),stroke:r.stroke,strokeWidth:r.strokeWidth,fill:To};break;case"fillPath":o={d:this.opsToPath(s),stroke:To,strokeWidth:0,fill:r.fill||To};break;case"fillSketch":o=this.fillSketch(s,r)}o&&i.push(o)}return i}fillSketch(e,n){let r=n.fillWeight;return r<0&&(r=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||To,strokeWidth:r,fill:To}}_mergedShape(e){return e.filter((n,r)=>r===0||n.op!=="move")}}class yye{constructor(e,n){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new jw(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.ctx,s=e.options.fixedDecimalPlaceDigits;for(const o of n)switch(o.type){case"path":i.save(),i.strokeStyle=r.stroke==="none"?"transparent":r.stroke,i.lineWidth=r.strokeWidth,r.strokeLineDash&&i.setLineDash(r.strokeLineDash),r.strokeLineDashOffset&&(i.lineDashOffset=r.strokeLineDashOffset),this._drawToContext(i,o,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=r.fill||"";const a=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,o,s,a),i.restore();break}case"fillSketch":this.fillSketch(i,o,r)}}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2),e.save(),r.fillLineDash&&e.setLineDash(r.fillLineDash),r.fillLineDashOffset&&(e.lineDashOffset=r.fillLineDashOffset),e.strokeStyle=r.fill||"",e.lineWidth=i,this._drawToContext(e,n,r.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,n,r,i="nonzero"){e.beginPath();for(const s of n.ops){const o=typeof r=="number"&&r>=0?s.data.map(a=>+a.toFixed(r)):s.data;switch(s.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}n.type==="fillPath"?e.fill(i):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o),o}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o),o}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o),o}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s),s}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r),r}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r),r}arc(e,n,r,i,s,o,a=!1,l){const c=this.gen.arc(e,n,r,i,s,o,a,l);return this.draw(c),c}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r),r}path(e,n){const r=this.gen.path(e,n);return this.draw(r),r}}const Bx="http://www.w3.org/2000/svg";class _ye{constructor(e,n){this.svg=e,this.gen=new jw(n)}draw(e){const n=e.sets||[],r=e.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(Bx,"g"),o=e.options.fixedDecimalPlaceDigits;for(const a of n){let l=null;switch(a.type){case"path":l=i.createElementNS(Bx,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke",r.stroke),l.setAttribute("stroke-width",r.strokeWidth+""),l.setAttribute("fill","none"),r.strokeLineDash&&l.setAttribute("stroke-dasharray",r.strokeLineDash.join(" ").trim()),r.strokeLineDashOffset&&l.setAttribute("stroke-dashoffset",`${r.strokeLineDashOffset}`);break;case"fillPath":l=i.createElementNS(Bx,"path"),l.setAttribute("d",this.opsToPath(a,o)),l.setAttribute("stroke","none"),l.setAttribute("stroke-width","0"),l.setAttribute("fill",r.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||l.setAttribute("fill-rule","evenodd");break;case"fillSketch":l=this.fillSketch(i,a,r)}l&&s.appendChild(l)}return s}fillSketch(e,n,r){let i=r.fillWeight;i<0&&(i=r.strokeWidth/2);const s=e.createElementNS(Bx,"path");return s.setAttribute("d",this.opsToPath(n,r.fixedDecimalPlaceDigits)),s.setAttribute("stroke",r.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),r.fillLineDash&&s.setAttribute("stroke-dasharray",r.fillLineDash.join(" ").trim()),r.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${r.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,n){return this.gen.opsToPath(e,n)}line(e,n,r,i,s){const o=this.gen.line(e,n,r,i,s);return this.draw(o)}rectangle(e,n,r,i,s){const o=this.gen.rectangle(e,n,r,i,s);return this.draw(o)}ellipse(e,n,r,i,s){const o=this.gen.ellipse(e,n,r,i,s);return this.draw(o)}circle(e,n,r,i){const s=this.gen.circle(e,n,r,i);return this.draw(s)}linearPath(e,n){const r=this.gen.linearPath(e,n);return this.draw(r)}polygon(e,n){const r=this.gen.polygon(e,n);return this.draw(r)}arc(e,n,r,i,s,o,a=!1,l){const c=this.gen.arc(e,n,r,i,s,o,a,l);return this.draw(c)}curve(e,n){const r=this.gen.curve(e,n);return this.draw(r)}path(e,n){const r=this.gen.path(e,n);return this.draw(r)}}var qt={canvas:(t,e)=>new yye(t,e),svg:(t,e)=>new _ye(t,e),generator:t=>new jw(t),newSeed:()=>jw.newSeed()},dn=F(async(t,e,n)=>{var f,p;let r;const i=e.useHtmlLabels||Xi((f=rr())==null?void 0:f.htmlLabels);n?r=n:r="node default";const s=t.insert("g").attr("class",r).attr("id",e.domId||e.id),o=s.insert("g").attr("class","label").attr("style",Ns(e.labelStyle));let a;e.label===void 0?a="":a=typeof e.label=="string"?e.label:e.label[0];const l=await ng(o,ed(tg(a),rr()),{useHtmlLabels:i,width:e.width||((p=rr().flowchart)==null?void 0:p.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let c=l.getBBox();const u=((e==null?void 0:e.padding)??0)/2;if(i){const m=l.children[0],_=nr(l),S=m.getElementsByTagName("img");if(S){const w=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...S].map(x=>new Promise(C=>{function T(){if(x.style.display="flex",x.style.flexDirection="column",w){const A=rr().fontSize?rr().fontSize:window.getComputedStyle(document.body).fontSize,L=5,[R=lz.fontSize]=rb(A),N=R*L+"px";x.style.minWidth=N,x.style.maxWidth=N}else x.style.width="100%";C(x)}F(T,"setupImage"),setTimeout(()=>{x.complete&&T()}),x.addEventListener("error",T),x.addEventListener("load",T)})))}c=m.getBoundingClientRect(),_.attr("width",c.width),_.attr("height",c.height)}return i?o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"):o.attr("transform","translate(0, "+-c.height/2+")"),e.centerLabel&&o.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:s,bbox:c,halfPadding:u,label:o}},"labelHelper"),jC=F(async(t,e,n)=>{var l,c,u,f,p,m;const r=n.useHtmlLabels||Xi((c=(l=rr())==null?void 0:l.flowchart)==null?void 0:c.htmlLabels),i=t.insert("g").attr("class","label").attr("style",n.labelStyle||""),s=await ng(i,ed(tg(e),rr()),{useHtmlLabels:r,width:n.width||((f=(u=rr())==null?void 0:u.flowchart)==null?void 0:f.wrappingWidth),style:n.labelStyle,addSvgBackground:!!n.icon||!!n.img});let o=s.getBBox();const a=n.padding/2;if(Xi((m=(p=rr())==null?void 0:p.flowchart)==null?void 0:m.htmlLabels)){const _=s.children[0],S=nr(s);o=_.getBoundingClientRect(),S.attr("width",o.width),S.attr("height",o.height)}return r?i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):i.attr("transform","translate(0, "+-o.height/2+")"),n.centerLabel&&i.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),i.insert("rect",":first-child"),{shapeSvg:t,bbox:o,halfPadding:a,label:i}},"insertLabel"),Qt=F((t,e)=>{const n=e.node().getBBox();t.width=n.width,t.height=n.height},"updateNodeBounds"),pn=F((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function $n(t){const e=t.map((n,r)=>`${r===0?"M":"L"}${n.x},${n.y}`);return e.push("Z"),e.join(" ")}F($n,"createPathFromPoints");function oh(t,e,n,r,i,s){const o=[],l=n-t,c=r-e,u=l/s,f=2*Math.PI/u,p=e+c/2;for(let m=0;m<=50;m++){const _=m/50,S=t+_*l,w=p+i*Math.sin(f*(S-t));o.push({x:S,y:w})}return o}F(oh,"generateFullSineWavePoints");function lk(t,e,n,r,i,s){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(r-1);for(let f=0;f<r;f++){const p=a+f*u,m=t+n*Math.cos(p),_=e+n*Math.sin(p);o.push({x:-m,y:-_})}return o}F(lk,"generateCirclePoints");var vye=F((t,e)=>{var n=t.x,r=t.y,i=e.x-n,s=e.y-r,o=t.width/2,a=t.height/2,l,c;return Math.abs(s)*o>Math.abs(i)*a?(s<0&&(a=-a),l=s===0?0:a*i/s,c=a):(i<0&&(o=-o),l=o,c=i===0?0:o*s/i),{x:n+l,y:r+c}},"intersectRect"),rg=vye;function V5(t,e){e&&t.attr("style",e)}F(V5,"applyStyle");async function H5(t){const e=nr(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),n=e.append("xhtml:div");let r=t.label;t.label&&Rm(t.label)&&(r=await y2(t.label.replace(Jm.lineBreakRegex,`
`),rr()));const i=t.isNode?"nodeLabel":"edgeLabel";return n.html('<span class="'+i+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+r+"</span>"),V5(n,t.labelStyle),n.style("display","inline-block"),n.style("padding-right","1px"),n.style("white-space","nowrap"),n.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}F(H5,"addHtmlLabel");var xye=F(async(t,e,n,r)=>{let i=t||"";if(typeof i=="object"&&(i=i[0]),Xi(rr().flowchart.htmlLabels)){i=i.replace(/\\n|\n/g,"<br />"),Je.info("vertexText"+i);const s={isNode:r,label:tg(i).replace(/fa[blrs]?:fa-[\w-]+/g,a=>`<i class='${a.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await H5(s)}else{const s=document.createElementNS("http://www.w3.org/2000/svg","text");s.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof i=="string"?o=i.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(i)?o=i:o=[];for(const a of o){const l=document.createElementNS("http://www.w3.org/2000/svg","tspan");l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),l.setAttribute("dy","1em"),l.setAttribute("x","0"),n?l.setAttribute("class","title-row"):l.setAttribute("class","row"),l.textContent=a.trim(),s.appendChild(l)}return s}},"createLabel"),Uf=xye,Kc=F((t,e,n,r,i)=>["M",t+i,e,"H",t+n-i,"A",i,i,0,0,1,t+n,e+i,"V",e+r-i,"A",i,i,0,0,1,t+n-i,e+r,"H",t+i,"A",i,i,0,0,1,t,e+r-i,"V",e+i,"A",i,i,0,0,1,t+i,e,"Z"].join(" "),"createRoundedRectPathD"),Sye=F(t=>{const{handDrawnSeed:e}=rr();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),ig=F(t=>{const e=wye([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),wye=F(t=>{const e=new Map;return t.forEach(n=>{const[r,i]=n.split(":");e.set(r.trim(),i==null?void 0:i.trim())}),e},"styles2Map"),en=F(t=>{const{stylesArray:e}=ig(t),n=[],r=[],i=[],s=[];return e.forEach(o=>{const a=o[0];a==="color"||a==="font-size"||a==="font-family"||a==="font-weight"||a==="font-style"||a==="text-decoration"||a==="text-align"||a==="text-transform"||a==="line-height"||a==="letter-spacing"||a==="word-spacing"||a==="text-shadow"||a==="text-overflow"||a==="white-space"||a==="word-wrap"||a==="word-break"||a==="overflow-wrap"||a==="hyphens"?n.push(o.join(":")+" !important"):(r.push(o.join(":")+" !important"),a.includes("stroke")&&i.push(o.join(":")+" !important"),a==="fill"&&s.push(o.join(":")+" !important"))}),{labelStyles:n.join(";"),nodeStyles:r.join(";"),stylesArray:e,borderStyles:i,backgroundStyles:s}},"styles2String"),Kt=F((t,e)=>{var l;const{themeVariables:n,handDrawnSeed:r}=rr(),{nodeBorder:i,mainBkg:s}=n,{stylesMap:o}=ig(t);return Object.assign({roughness:.7,fill:o.get("fill")||s,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||i,seed:r,strokeWidth:((l=o.get("stroke-width"))==null?void 0:l.replace("px",""))||1.3,fillLineDash:[0,0]},e)},"userNodeOverrides"),W5=F(async(t,e)=>{Je.info("Creating subgraph rect for ",e.id,e);const n=rr(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:o}=r,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:u}=en(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),p=Xi(n.flowchart.htmlLabels),m=f.insert("g").attr("class","cluster-label "),_=await ng(m,e.label,{style:e.labelStyle,useHtmlLabels:p,isNode:!0});let S=_.getBBox();if(Xi(n.flowchart.htmlLabels)){const N=_.children[0],z=nr(_);S=N.getBoundingClientRect(),z.attr("width",S.width),z.attr("height",S.height)}const w=e.width<=S.width+e.padding?S.width+e.padding:e.width;e.width<=S.width+e.padding?e.diff=(w-e.width)/2-e.padding:e.diff=-e.padding;const x=e.height,C=e.x-w/2,T=e.y-x/2;Je.trace("Data ",e,JSON.stringify(e));let A;if(e.look==="handDrawn"){const N=qt.svg(f),z=Kt(e,{roughness:.7,fill:s,stroke:o,fillWeight:3,seed:i}),D=N.path(Kc(C,T,w,x,0),z);A=f.insert(()=>(Je.debug("Rough node insert CXC",D),D),":first-child"),A.select("path:nth-child(2)").attr("style",c.join(";")),A.select("path").attr("style",u.join(";").replace("fill","stroke"))}else A=f.insert("rect",":first-child"),A.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",C).attr("y",T).attr("width",w).attr("height",x);const{subGraphTitleTopMargin:L}=k2(n);if(m.attr("transform",`translate(${e.x-S.width/2}, ${e.y-e.height/2+L})`),a){const N=m.select("span");N&&N.attr("style",a)}const R=A.node().getBBox();return e.offsetX=0,e.width=R.width,e.height=R.height,e.offsetY=S.height-e.padding/2,e.intersect=function(N){return rg(e,N)},{cluster:f,labelBBox:S}},"rect"),bye=F((t,e)=>{const n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,s=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-s).attr("y",e.y-e.height/2-s).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");const o=r.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(a){return rg(e,a)},{cluster:n,labelBBox:{width:0,height:0}}},"noteGroup"),Eye=F(async(t,e)=>{const n=rr(),{themeVariables:r,handDrawnSeed:i}=n,{altBackground:s,compositeBackground:o,compositeTitleBackground:a,nodeBorder:l}=r,c=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),u=c.insert("g",":first-child"),f=c.insert("g").attr("class","cluster-label");let p=c.append("rect");const m=f.node().appendChild(await Uf(e.label,e.labelStyle,void 0,!0));let _=m.getBBox();if(Xi(n.flowchart.htmlLabels)){const D=m.children[0],I=nr(m);_=D.getBoundingClientRect(),I.attr("width",_.width),I.attr("height",_.height)}const S=0*e.padding,w=S/2,x=(e.width<=_.width+e.padding?_.width+e.padding:e.width)+S;e.width<=_.width+e.padding?e.diff=(x-e.width)/2-e.padding:e.diff=-e.padding;const C=e.height+S,T=e.height+S-_.height-6,A=e.x-x/2,L=e.y-C/2;e.width=x;const R=e.y-e.height/2-w+_.height+2;let N;if(e.look==="handDrawn"){const D=e.cssClasses.includes("statediagram-cluster-alt"),I=qt.svg(c),B=e.rx||e.ry?I.path(Kc(A,L,x,C,10),{roughness:.7,fill:a,fillStyle:"solid",stroke:l,seed:i}):I.rectangle(A,L,x,C,{seed:i});N=c.insert(()=>B,":first-child");const q=I.rectangle(A,R,x,T,{fill:D?s:o,fillStyle:D?"hachure":"solid",stroke:l,seed:i});N=c.insert(()=>B,":first-child"),p=c.insert(()=>q)}else N=u.insert("rect",":first-child"),N.attr("class","outer").attr("x",A).attr("y",L).attr("width",x).attr("height",C).attr("data-look",e.look),p.attr("class","inner").attr("x",A).attr("y",R).attr("width",x).attr("height",T);f.attr("transform",`translate(${e.x-_.width/2}, ${L+1-(Xi(n.flowchart.htmlLabels)?0:3)})`);const z=N.node().getBBox();return e.height=z.height,e.offsetX=0,e.offsetY=_.height-e.padding/2,e.labelBBox=_,e.intersect=function(D){return rg(e,D)},{cluster:c,labelBBox:_}},"roundedWithTitle"),Cye=F(async(t,e)=>{Je.info("Creating subgraph rect for ",e.id,e);const n=rr(),{themeVariables:r,handDrawnSeed:i}=n,{clusterBkg:s,clusterBorder:o}=r,{labelStyles:a,nodeStyles:l,borderStyles:c,backgroundStyles:u}=en(e),f=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),p=Xi(n.flowchart.htmlLabels),m=f.insert("g").attr("class","cluster-label "),_=await ng(m,e.label,{style:e.labelStyle,useHtmlLabels:p,isNode:!0,width:e.width});let S=_.getBBox();if(Xi(n.flowchart.htmlLabels)){const N=_.children[0],z=nr(_);S=N.getBoundingClientRect(),z.attr("width",S.width),z.attr("height",S.height)}const w=e.width<=S.width+e.padding?S.width+e.padding:e.width;e.width<=S.width+e.padding?e.diff=(w-e.width)/2-e.padding:e.diff=-e.padding;const x=e.height,C=e.x-w/2,T=e.y-x/2;Je.trace("Data ",e,JSON.stringify(e));let A;if(e.look==="handDrawn"){const N=qt.svg(f),z=Kt(e,{roughness:.7,fill:s,stroke:o,fillWeight:4,seed:i}),D=N.path(Kc(C,T,w,x,e.rx),z);A=f.insert(()=>(Je.debug("Rough node insert CXC",D),D),":first-child"),A.select("path:nth-child(2)").attr("style",c.join(";")),A.select("path").attr("style",u.join(";").replace("fill","stroke"))}else A=f.insert("rect",":first-child"),A.attr("style",l).attr("rx",e.rx).attr("ry",e.ry).attr("x",C).attr("y",T).attr("width",w).attr("height",x);const{subGraphTitleTopMargin:L}=k2(n);if(m.attr("transform",`translate(${e.x-S.width/2}, ${e.y-e.height/2+L})`),a){const N=m.select("span");N&&N.attr("style",a)}const R=A.node().getBBox();return e.offsetX=0,e.width=R.width,e.height=R.height,e.offsetY=S.height-e.padding/2,e.intersect=function(N){return rg(e,N)},{cluster:f,labelBBox:S}},"kanbanSection"),Tye=F((t,e)=>{const n=rr(),{themeVariables:r,handDrawnSeed:i}=n,{nodeBorder:s}=r,o=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),a=o.insert("g",":first-child"),l=0*e.padding,c=e.width+l;e.diff=-e.padding;const u=e.height+l,f=e.x-c/2,p=e.y-u/2;e.width=c;let m;if(e.look==="handDrawn"){const w=qt.svg(o).rectangle(f,p,c,u,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:s,seed:i});m=o.insert(()=>w,":first-child")}else m=a.insert("rect",":first-child"),m.attr("class","divider").attr("x",f).attr("y",p).attr("width",c).attr("height",u).attr("data-look",e.look);const _=m.node().getBBox();return e.height=_.height,e.offsetX=0,e.offsetY=0,e.intersect=function(S){return rg(e,S)},{cluster:o,labelBBox:{}}},"divider"),Mye=W5,Aye={rect:W5,squareRect:Mye,roundedWithTitle:Eye,noteGroup:bye,divider:Tye,kanbanSection:Cye},G5=new Map,kye=F(async(t,e)=>{const n=e.shape||"rect",r=await Aye[n](t,e);return G5.set(e.id,r),r},"insertCluster"),kSe=F(()=>{G5=new Map},"clear");function $5(t,e){return t.intersect(e)}F($5,"intersectNode");var Rye=$5;function j5(t,e,n,r){var i=t.x,s=t.y,o=i-r.x,a=s-r.y,l=Math.sqrt(e*e*a*a+n*n*o*o),c=Math.abs(e*n*o/l);r.x<i&&(c=-c);var u=Math.abs(e*n*a/l);return r.y<s&&(u=-u),{x:i+c,y:s+u}}F(j5,"intersectEllipse");var q5=j5;function X5(t,e,n){return q5(t,e,e,n)}F(X5,"intersectCircle");var Pye=X5;function Y5(t,e,n,r){var i,s,o,a,l,c,u,f,p,m,_,S,w,x,C;if(i=e.y-t.y,o=t.x-e.x,l=e.x*t.y-t.x*e.y,p=i*n.x+o*n.y+l,m=i*r.x+o*r.y+l,!(p!==0&&m!==0&&PM(p,m))&&(s=r.y-n.y,a=n.x-r.x,c=r.x*n.y-n.x*r.y,u=s*t.x+a*t.y+c,f=s*e.x+a*e.y+c,!(u!==0&&f!==0&&PM(u,f))&&(_=i*a-s*o,_!==0)))return S=Math.abs(_/2),w=o*c-a*l,x=w<0?(w-S)/_:(w+S)/_,w=s*l-i*c,C=w<0?(w-S)/_:(w+S)/_,{x,y:C}}F(Y5,"intersectLine");function PM(t,e){return t*e>0}F(PM,"sameSign");var Lye=Y5;function K5(t,e,n){let r=t.x,i=t.y,s=[],o=Number.POSITIVE_INFINITY,a=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(u){o=Math.min(o,u.x),a=Math.min(a,u.y)}):(o=Math.min(o,e.x),a=Math.min(a,e.y));let l=r-t.width/2-o,c=i-t.height/2-a;for(let u=0;u<e.length;u++){let f=e[u],p=e[u<e.length-1?u+1:0],m=Lye(t,n,{x:l+f.x,y:c+f.y},{x:l+p.x,y:c+p.y});m&&s.push(m)}return s.length?(s.length>1&&s.sort(function(u,f){let p=u.x-n.x,m=u.y-n.y,_=Math.sqrt(p*p+m*m),S=f.x-n.x,w=f.y-n.y,x=Math.sqrt(S*S+w*w);return _<x?-1:_===x?0:1}),s[0]):t}F(K5,"intersectPolygon");var Iye=K5,$t={node:Rye,circle:Pye,ellipse:q5,polygon:Iye,rect:rg};function Z5(t,e){const{labelStyles:n}=en(e);e.labelStyle=n;const r=pn(e);let i=r;r||(i="anchor");const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=1,{cssStyles:a}=e,l=qt.svg(s),c=Kt(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(c.roughness=0);const u=l.circle(0,0,o*2,c),f=s.insert(()=>u,":first-child");return f.attr("class","anchor").attr("style",Ns(a)),Qt(e,f),e.intersect=function(p){return Je.info("Circle intersect",e,o,p),$t.circle(e,o,p)},s}F(Z5,"anchor");function LM(t,e,n,r,i,s,o){const l=(t+n)/2,c=(e+r)/2,u=Math.atan2(r-e,n-t),f=(n-t)/2,p=(r-e)/2,m=f/i,_=p/s,S=Math.sqrt(m**2+_**2);if(S>1)throw new Error("The given radii are too small to create an arc between the points.");const w=Math.sqrt(1-S**2),x=l+w*s*Math.sin(u)*(o?-1:1),C=c-w*i*Math.cos(u)*(o?-1:1),T=Math.atan2((e-C)/s,(t-x)/i);let L=Math.atan2((r-C)/s,(n-x)/i)-T;o&&L<0&&(L+=2*Math.PI),!o&&L>0&&(L-=2*Math.PI);const R=[];for(let N=0;N<20;N++){const z=N/19,D=T+z*L,I=x+i*Math.cos(D),B=C+s*Math.sin(D);R.push({x:I,y:B})}return R}F(LM,"generateArcPoints");async function J5(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=s.width+e.padding+20,a=s.height+e.padding,l=a/2,c=l/(2.5+a/50),{cssStyles:u}=e,f=[{x:o/2,y:-a/2},{x:-o/2,y:-a/2},...LM(-o/2,-a/2,-o/2,a/2,c,l,!1),{x:o/2,y:a/2},...LM(o/2,a/2,o/2,-a/2,c,l,!0)],p=qt.svg(i),m=Kt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const _=$n(f),S=p.path(_,m),w=i.insert(()=>S,":first-child");return w.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),w.attr("transform",`translate(${c/2}, 0)`),Qt(e,w),e.intersect=function(x){return $t.polygon(e,f,x)},i}F(J5,"bowTieRect");function Zc(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map(function(i){return i.x+","+i.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}F(Zc,"insertPolygonShape");async function Q5(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=s.height+e.padding,a=12,l=s.width+e.padding+a,c=0,u=l,f=-o,p=0,m=[{x:c+a,y:f},{x:u,y:f},{x:u,y:p},{x:c,y:p},{x:c,y:f+a},{x:c+a,y:f}];let _;const{cssStyles:S}=e;if(e.look==="handDrawn"){const w=qt.svg(i),x=Kt(e,{}),C=$n(m),T=w.path(C,x);_=i.insert(()=>T,":first-child").attr("transform",`translate(${-l/2}, ${o/2})`),S&&_.attr("style",S)}else _=Zc(i,l,o,m);return r&&_.attr("style",r),Qt(e,_),e.intersect=function(w){return $t.polygon(e,m,w)},i}F(Q5,"card");function eV(t,e){const{nodeStyles:n}=en(e);e.label="";const r=t.insert("g").attr("class",pn(e)).attr("id",e.domId??e.id),{cssStyles:i}=e,s=Math.max(28,e.width??0),o=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],a=qt.svg(r),l=Kt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=$n(o),u=a.path(c,l),f=r.insert(()=>u,":first-child");return i&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",i),n&&e.look!=="handDrawn"&&f.selectAll("path").attr("style",n),e.width=28,e.height=28,e.intersect=function(p){return $t.polygon(e,o,p)},r}F(eV,"choice");async function tV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o}=await dn(t,e,pn(e)),a=s.width/2+o;let l;const{cssStyles:c}=e;if(e.look==="handDrawn"){const u=qt.svg(i),f=Kt(e,{}),p=u.circle(0,0,a*2,f);l=i.insert(()=>p,":first-child"),l.attr("class","basic label-container").attr("style",Ns(c))}else l=i.insert("circle",":first-child").attr("class","basic label-container").attr("style",r).attr("r",a).attr("cx",0).attr("cy",0);return Qt(e,l),e.intersect=function(u){return Je.info("Circle intersect",e,a,u),$t.circle(e,a,u)},i}F(tV,"circle");function nV(t){const e=Math.cos(Math.PI/4),n=Math.sin(Math.PI/4),r=t*2,i={x:r/2*e,y:r/2*n},s={x:-(r/2)*e,y:r/2*n},o={x:-(r/2)*e,y:-(r/2)*n},a={x:r/2*e,y:-(r/2)*n};return`M ${s.x},${s.y} L ${a.x},${a.y}
                   M ${i.x},${i.y} L ${o.x},${o.y}`}F(nV,"createLine");function rV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n,e.label="";const i=t.insert("g").attr("class",pn(e)).attr("id",e.domId??e.id),s=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:o}=e,a=qt.svg(i),l=Kt(e,{});e.look!=="handDrawn"&&(l.roughness=0,l.fillStyle="solid");const c=a.circle(0,0,s*2,l),u=nV(s),f=a.path(u,l),p=i.insert(()=>c,":first-child");return p.insert(()=>f),o&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",o),r&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",r),Qt(e,p),e.intersect=function(m){return Je.info("crossedCircle intersect",e,{radius:s,point:m}),$t.circle(e,s,m)},i}F(rV,"crossedCircle");function kc(t,e,n,r=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(r-1);for(let f=0;f<r;f++){const p=a+f*u,m=t+n*Math.cos(p),_=e+n*Math.sin(p);o.push({x:-m,y:-_})}return o}F(kc,"generateCirclePoints");async function iV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...kc(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...kc(a/2+c*2,-c,c,20,-180,-270),...kc(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...kc(a/2,l/2,c,20,0,90)],p=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...kc(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...kc(a/2+a*.1,-c,c,20,-180,-270),...kc(a/2+a*.1,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...kc(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2,y:l/2+c}],m=qt.svg(i),_=Kt(e,{fill:"none"});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const w=$n(f).replace("Z",""),x=m.path(w,_),C=$n(p),T=m.path(C,{..._}),A=i.insert("g",":first-child");return A.insert(()=>T,":first-child").attr("stroke-opacity",0),A.insert(()=>x,":first-child"),A.attr("class","text"),u&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",r),A.attr("transform",`translate(${c}, 0)`),o.attr("transform",`translate(${-a/2+c-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Qt(e,A),e.intersect=function(L){return $t.polygon(e,p,L)},i}F(iV,"curlyBraceLeft");function Rc(t,e,n,r=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(r-1);for(let f=0;f<r;f++){const p=a+f*u,m=t+n*Math.cos(p),_=e+n*Math.sin(p);o.push({x:m,y:_})}return o}F(Rc,"generateCirclePoints");async function sV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...Rc(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...Rc(a/2+c*2,-c,c,20,-180,-270),...Rc(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...Rc(a/2,l/2,c,20,0,90)],p=[{x:-a/2,y:-l/2-c},{x:a/2,y:-l/2-c},...Rc(a/2,-l/2,c,20,-90,0),{x:a/2+c,y:-c},...Rc(a/2+c*2,-c,c,20,-180,-270),...Rc(a/2+c*2,c,c,20,-90,-180),{x:a/2+c,y:l/2},...Rc(a/2,l/2,c,20,0,90),{x:a/2,y:l/2+c},{x:-a/2,y:l/2+c}],m=qt.svg(i),_=Kt(e,{fill:"none"});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const w=$n(f).replace("Z",""),x=m.path(w,_),C=$n(p),T=m.path(C,{..._}),A=i.insert("g",":first-child");return A.insert(()=>T,":first-child").attr("stroke-opacity",0),A.insert(()=>x,":first-child"),A.attr("class","text"),u&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",r),A.attr("transform",`translate(${-c}, 0)`),o.attr("transform",`translate(${-a/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Qt(e,A),e.intersect=function(L){return $t.polygon(e,p,L)},i}F(sV,"curlyBraceRight");function Gi(t,e,n,r=100,i=0,s=180){const o=[],a=i*Math.PI/180,u=(s*Math.PI/180-a)/(r-1);for(let f=0;f<r;f++){const p=a+f*u,m=t+n*Math.cos(p),_=e+n*Math.sin(p);o.push({x:-m,y:-_})}return o}F(Gi,"generateCirclePoints");async function oV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=s.width+(e.padding??0),l=s.height+(e.padding??0),c=Math.max(5,l*.1),{cssStyles:u}=e,f=[...Gi(a/2,-l/2,c,30,-90,0),{x:-a/2-c,y:c},...Gi(a/2+c*2,-c,c,20,-180,-270),...Gi(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:-l/2},...Gi(a/2,l/2,c,20,0,90)],p=[...Gi(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...Gi(-a/2-c/2,-c,c,20,0,90),...Gi(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...Gi(-a/2+c+c/2,l/2,c,30,-180,-270)],m=[{x:a/2,y:-l/2-c},{x:-a/2,y:-l/2-c},...Gi(a/2,-l/2,c,20,-90,0),{x:-a/2-c,y:-c},...Gi(a/2+c*2,-c,c,20,-180,-270),...Gi(a/2+c*2,c,c,20,-90,-180),{x:-a/2-c,y:l/2},...Gi(a/2,l/2,c,20,0,90),{x:-a/2,y:l/2+c},{x:a/2-c-c/2,y:l/2+c},...Gi(-a/2+c+c/2,-l/2,c,20,-90,-180),{x:a/2-c/2,y:c},...Gi(-a/2-c/2,-c,c,20,0,90),...Gi(-a/2-c/2,c,c,20,-90,0),{x:a/2-c/2,y:-c},...Gi(-a/2+c+c/2,l/2,c,30,-180,-270)],_=qt.svg(i),S=Kt(e,{fill:"none"});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const x=$n(f).replace("Z",""),C=_.path(x,S),A=$n(p).replace("Z",""),L=_.path(A,S),R=$n(m),N=_.path(R,{...S}),z=i.insert("g",":first-child");return z.insert(()=>N,":first-child").attr("stroke-opacity",0),z.insert(()=>C,":first-child"),z.insert(()=>L,":first-child"),z.attr("class","text"),u&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",u),r&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",r),z.attr("transform",`translate(${c-c/4}, 0)`),o.attr("transform",`translate(${-a/2+(e.padding??0)/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)/2-(s.y-(s.top??0))})`),Qt(e,z),e.intersect=function(D){return $t.polygon(e,m,D)},i}F(oV,"curlyBraces");async function aV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=80,a=20,l=Math.max(o,(s.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),c=Math.max(a,s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=c/2,{cssStyles:f}=e,p=qt.svg(i),m=Kt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const _=l,S=c,w=_-u,x=S/4,C=[{x:w,y:0},{x,y:0},{x:0,y:S/2},{x,y:S},{x:w,y:S},...lk(-w,-S/2,u,50,270,90)],T=$n(C),A=p.path(T,m),L=i.insert(()=>A,":first-child");return L.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",r),L.attr("transform",`translate(${-l/2}, ${-c/2})`),Qt(e,L),e.intersect=function(R){return $t.polygon(e,C,R)},i}F(aV,"curvedTrapezoid");var Dye=F((t,e,n,r,i,s)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createCylinderPathD"),Oye=F((t,e,n,r,i,s)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`].join(" "),"createOuterCylinderPathD"),Nye=F((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function lV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+e.padding,e.width??0),l=a/2,c=l/(2.5+a/50),u=Math.max(s.height+c+e.padding,e.height??0);let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=qt.svg(i),_=Oye(0,0,a,u,l,c),S=Nye(0,c,a,u,l,c),w=m.path(_,Kt(e,{})),x=m.path(S,Kt(e,{fill:"none"}));f=i.insert(()=>x,":first-child"),f=i.insert(()=>w,":first-child"),f.attr("class","basic label-container"),p&&f.attr("style",p)}else{const m=Dye(0,0,a,u,l,c);f=i.insert("path",":first-child").attr("d",m).attr("class","basic label-container").attr("style",Ns(p)).attr("style",r)}return f.attr("label-offset-y",c),f.attr("transform",`translate(${-a/2}, ${-(u/2+c)})`),Qt(e,f),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+(e.padding??0)/1.5-(s.y-(s.top??0))})`),e.intersect=function(m){const _=$t.rect(e,m),S=_.x-(e.x??0);if(l!=0&&(Math.abs(S)<(e.width??0)/2||Math.abs(S)==(e.width??0)/2&&Math.abs(_.y-(e.y??0))>(e.height??0)/2-c)){let w=c*c*(1-S*S/(l*l));w>0&&(w=Math.sqrt(w)),w=c-w,m.y-(e.y??0)>0&&(w=-w),_.y+=w}return _},i}F(lV,"cylinder");async function cV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=s.width+e.padding,l=s.height+e.padding,c=l*.2,u=-a/2,f=-l/2-c/2,{cssStyles:p}=e,m=qt.svg(i),_=Kt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=[{x:u,y:f+c},{x:-u,y:f+c},{x:-u,y:-f},{x:u,y:-f},{x:u,y:f},{x:-u,y:f},{x:-u,y:f+c}],w=m.polygon(S.map(C=>[C.x,C.y]),_),x=i.insert(()=>w,":first-child");return x.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),o.attr("transform",`translate(${u+(e.padding??0)/2-(s.x-(s.left??0))}, ${f+c+(e.padding??0)/2-(s.y-(s.top??0))})`),Qt(e,x),e.intersect=function(C){return $t.rect(e,C)},i}F(cV,"dividedRectangle");async function uV(t,e){var p,m;const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,halfPadding:o}=await dn(t,e,pn(e)),l=s.width/2+o+5,c=s.width/2+o;let u;const{cssStyles:f}=e;if(e.look==="handDrawn"){const _=qt.svg(i),S=Kt(e,{roughness:.2,strokeWidth:2.5}),w=Kt(e,{roughness:.2,strokeWidth:1.5}),x=_.circle(0,0,l*2,S),C=_.circle(0,0,c*2,w);u=i.insert("g",":first-child"),u.attr("class",Ns(e.cssClasses)).attr("style",Ns(f)),(p=u.node())==null||p.appendChild(x),(m=u.node())==null||m.appendChild(C)}else{u=i.insert("g",":first-child");const _=u.insert("circle",":first-child"),S=u.insert("circle");u.attr("class","basic label-container").attr("style",r),_.attr("class","outer-circle").attr("style",r).attr("r",l).attr("cx",0).attr("cy",0),S.attr("class","inner-circle").attr("style",r).attr("r",c).attr("cx",0).attr("cy",0)}return Qt(e,u),e.intersect=function(_){return Je.info("DoubleCircle intersect",e,l,_),$t.circle(e,l,_)},i}F(uV,"doublecircle");function hV(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=en(e);e.label="",e.labelStyle=r;const s=t.insert("g").attr("class",pn(e)).attr("id",e.domId??e.id),o=7,{cssStyles:a}=e,l=qt.svg(s),{nodeBorder:c}=n,u=Kt(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(u.roughness=0);const f=l.circle(0,0,o*2,u),p=s.insert(()=>f,":first-child");return p.selectAll("path").attr("style",`fill: ${c} !important;`),a&&a.length>0&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",a),i&&e.look!=="handDrawn"&&p.selectAll("path").attr("style",i),Qt(e,p),e.intersect=function(m){return Je.info("filledCircle intersect",e,{radius:o,point:m}),$t.circle(e,o,m)},s}F(hV,"filledCircle");async function fV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=s.width+(e.padding??0),l=a+s.height,c=a+s.height,u=[{x:0,y:-l},{x:c,y:-l},{x:c/2,y:0}],{cssStyles:f}=e,p=qt.svg(i),m=Kt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const _=$n(u),S=p.path(_,m),w=i.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`);return f&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),e.width=a,e.height=l,Qt(e,w),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${-l/2+(e.padding??0)/2+(s.y-(s.top??0))})`),e.intersect=function(x){return Je.info("Triangle intersect",e,u,x),$t.polygon(e,u,x)},i}F(fV,"flippedTriangle");function dV(t,e,{dir:n,config:{state:r,themeVariables:i}}){const{nodeStyles:s}=en(e);e.label="";const o=t.insert("g").attr("class",pn(e)).attr("id",e.domId??e.id),{cssStyles:a}=e;let l=Math.max(70,(e==null?void 0:e.width)??0),c=Math.max(10,(e==null?void 0:e.height)??0);n==="LR"&&(l=Math.max(10,(e==null?void 0:e.width)??0),c=Math.max(70,(e==null?void 0:e.height)??0));const u=-1*l/2,f=-1*c/2,p=qt.svg(o),m=Kt(e,{stroke:i.lineColor,fill:i.lineColor});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const _=p.rectangle(u,f,l,c,m),S=o.insert(()=>_,":first-child");a&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",a),s&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",s),Qt(e,S);const w=(r==null?void 0:r.padding)??0;return e.width&&e.height&&(e.width+=w/2||0,e.height+=w/2||0),e.intersect=function(x){return $t.rect(e,x)},o}F(dV,"forkJoin");async function pV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const i=80,s=50,{shapeSvg:o,bbox:a}=await dn(t,e,pn(e)),l=Math.max(i,a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s,a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=c/2,{cssStyles:f}=e,p=qt.svg(o),m=Kt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const _=[{x:-l/2,y:-c/2},{x:l/2-u,y:-c/2},...lk(-l/2+u,0,u,50,90,270),{x:l/2-u,y:c/2},{x:-l/2,y:c/2}],S=$n(_),w=p.path(S,m),x=o.insert(()=>w,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),Qt(e,x),e.intersect=function(C){return Je.info("Pill intersect",e,{radius:u,point:C}),$t.polygon(e,_,C)},o}F(pV,"halfRoundedRectangle");var Bye=F((t,e,n,r,i)=>[`M${t+i},${e}`,`L${t+n-i},${e}`,`L${t+n},${e-r/2}`,`L${t+n-i},${e-r}`,`L${t+i},${e-r}`,`L${t},${e-r/2}`,"Z"].join(" "),"createHexagonPathD");async function mV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=4,a=s.height+e.padding,l=a/o,c=s.width+2*l+e.padding,u=[{x:l,y:0},{x:c-l,y:0},{x:c,y:-a/2},{x:c-l,y:-a},{x:l,y:-a},{x:0,y:-a/2}];let f;const{cssStyles:p}=e;if(e.look==="handDrawn"){const m=qt.svg(i),_=Kt(e,{}),S=Bye(0,0,c,a,l),w=m.path(S,_);f=i.insert(()=>w,":first-child").attr("transform",`translate(${-c/2}, ${a/2})`),p&&f.attr("style",p)}else f=Zc(i,c,a,u);return r&&f.attr("style",r),e.width=c,e.height=a,Qt(e,f),e.intersect=function(m){return $t.polygon(e,u,m)},i}F(mV,"hexagon");async function gV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.label="",e.labelStyle=n;const{shapeSvg:i}=await dn(t,e,pn(e)),s=Math.max(30,(e==null?void 0:e.width)??0),o=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:a}=e,l=qt.svg(i),c=Kt(e,{});e.look!=="handDrawn"&&(c.roughness=0,c.fillStyle="solid");const u=[{x:0,y:0},{x:s,y:0},{x:0,y:o},{x:s,y:o}],f=$n(u),p=l.path(f,c),m=i.insert(()=>p,":first-child");return m.attr("class","basic label-container"),a&&e.look!=="handDrawn"&&m.selectChildren("path").attr("style",a),r&&e.look!=="handDrawn"&&m.selectChildren("path").attr("style",r),m.attr("transform",`translate(${-s/2}, ${-o/2})`),Qt(e,m),e.intersect=function(_){return Je.info("Pill intersect",e,{points:u}),$t.polygon(e,u,_)},i}F(gV,"hourglass");async function yV(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=en(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=r==null?void 0:r.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,label:f}=await dn(t,e,"icon-shape default"),p=e.pos==="t",m=a,_=a,{nodeBorder:S}=n,{stylesMap:w}=ig(e),x=-_/2,C=-m/2,T=e.label?8:0,A=qt.svg(c),L=Kt(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const R=A.rectangle(x,C,_,m,L),N=Math.max(_,u.width),z=m+u.height+T,D=A.rectangle(-N/2,-z/2,N,z,{...L,fill:"transparent",stroke:"none"}),I=c.insert(()=>R,":first-child"),B=c.insert(()=>D);if(e.icon){const q=c.append("g");q.html(`<g>${await j1(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const K=q.node().getBBox(),j=K.width,J=K.height,$=K.x,ie=K.y;q.attr("transform",`translate(${-j/2-$},${p?u.height/2+T/2-J/2-ie:-u.height/2-T/2-J/2-ie})`),q.attr("style",`color: ${w.get("stroke")??S};`)}return f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${p?-z/2:z/2-u.height})`),I.attr("transform",`translate(0,${p?u.height/2+T/2:-u.height/2-T/2})`),Qt(e,B),e.intersect=function(q){if(Je.info("iconSquare intersect",e,q),!e.label)return $t.rect(e,q);const K=e.x??0,j=e.y??0,J=e.height??0;let $=[];return p?$=[{x:K-u.width/2,y:j-J/2},{x:K+u.width/2,y:j-J/2},{x:K+u.width/2,y:j-J/2+u.height+T},{x:K+_/2,y:j-J/2+u.height+T},{x:K+_/2,y:j+J/2},{x:K-_/2,y:j+J/2},{x:K-_/2,y:j-J/2+u.height+T},{x:K-u.width/2,y:j-J/2+u.height+T}]:$=[{x:K-_/2,y:j-J/2},{x:K+_/2,y:j-J/2},{x:K+_/2,y:j-J/2+m},{x:K+u.width/2,y:j-J/2+m},{x:K+u.width/2/2,y:j+J/2},{x:K-u.width/2,y:j+J/2},{x:K-u.width/2,y:j-J/2+m},{x:K-_/2,y:j-J/2+m}],$t.polygon(e,$,q)},c}F(yV,"icon");async function _V(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=en(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=r==null?void 0:r.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,label:f}=await dn(t,e,"icon-shape default"),p=20,m=e.label?8:0,_=e.pos==="t",{nodeBorder:S,mainBkg:w}=n,{stylesMap:x}=ig(e),C=qt.svg(c),T=Kt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const A=x.get("fill");T.stroke=A??w;const L=c.append("g");e.icon&&L.html(`<g>${await j1(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const R=L.node().getBBox(),N=R.width,z=R.height,D=R.x,I=R.y,B=Math.max(N,z)*Math.SQRT2+p*2,q=C.circle(0,0,B,T),K=Math.max(B,u.width),j=B+u.height+m,J=C.rectangle(-K/2,-j/2,K,j,{...T,fill:"transparent",stroke:"none"}),$=c.insert(()=>q,":first-child"),ie=c.insert(()=>J);return L.attr("transform",`translate(${-N/2-D},${_?u.height/2+m/2-z/2-I:-u.height/2-m/2-z/2-I})`),L.attr("style",`color: ${x.get("stroke")??S};`),f.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${_?-j/2:j/2-u.height})`),$.attr("transform",`translate(0,${_?u.height/2+m/2:-u.height/2-m/2})`),Qt(e,ie),e.intersect=function(U){return Je.info("iconSquare intersect",e,U),$t.rect(e,U)},c}F(_V,"iconCircle");async function vV(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=en(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=r==null?void 0:r.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,halfPadding:f,label:p}=await dn(t,e,"icon-shape default"),m=e.pos==="t",_=a+f*2,S=a+f*2,{nodeBorder:w,mainBkg:x}=n,{stylesMap:C}=ig(e),T=-S/2,A=-_/2,L=e.label?8:0,R=qt.svg(c),N=Kt(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const z=C.get("fill");N.stroke=z??x;const D=R.path(Kc(T,A,S,_,5),N),I=Math.max(S,u.width),B=_+u.height+L,q=R.rectangle(-I/2,-B/2,I,B,{...N,fill:"transparent",stroke:"none"}),K=c.insert(()=>D,":first-child").attr("class","icon-shape2"),j=c.insert(()=>q);if(e.icon){const J=c.append("g");J.html(`<g>${await j1(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const $=J.node().getBBox(),ie=$.width,U=$.height,ee=$.x,V=$.y;J.attr("transform",`translate(${-ie/2-ee},${m?u.height/2+L/2-U/2-V:-u.height/2-L/2-U/2-V})`),J.attr("style",`color: ${C.get("stroke")??w};`)}return p.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${m?-B/2:B/2-u.height})`),K.attr("transform",`translate(0,${m?u.height/2+L/2:-u.height/2-L/2})`),Qt(e,j),e.intersect=function(J){if(Je.info("iconSquare intersect",e,J),!e.label)return $t.rect(e,J);const $=e.x??0,ie=e.y??0,U=e.height??0;let ee=[];return m?ee=[{x:$-u.width/2,y:ie-U/2},{x:$+u.width/2,y:ie-U/2},{x:$+u.width/2,y:ie-U/2+u.height+L},{x:$+S/2,y:ie-U/2+u.height+L},{x:$+S/2,y:ie+U/2},{x:$-S/2,y:ie+U/2},{x:$-S/2,y:ie-U/2+u.height+L},{x:$-u.width/2,y:ie-U/2+u.height+L}]:ee=[{x:$-S/2,y:ie-U/2},{x:$+S/2,y:ie-U/2},{x:$+S/2,y:ie-U/2+_},{x:$+u.width/2,y:ie-U/2+_},{x:$+u.width/2/2,y:ie+U/2},{x:$-u.width/2,y:ie+U/2},{x:$-u.width/2,y:ie-U/2+_},{x:$-S/2,y:ie-U/2+_}],$t.polygon(e,ee,J)},c}F(vV,"iconRounded");async function xV(t,e,{config:{themeVariables:n,flowchart:r}}){const{labelStyles:i}=en(e);e.labelStyle=i;const s=e.assetHeight??48,o=e.assetWidth??48,a=Math.max(s,o),l=r==null?void 0:r.wrappingWidth;e.width=Math.max(a,l??0);const{shapeSvg:c,bbox:u,halfPadding:f,label:p}=await dn(t,e,"icon-shape default"),m=e.pos==="t",_=a+f*2,S=a+f*2,{nodeBorder:w,mainBkg:x}=n,{stylesMap:C}=ig(e),T=-S/2,A=-_/2,L=e.label?8:0,R=qt.svg(c),N=Kt(e,{});e.look!=="handDrawn"&&(N.roughness=0,N.fillStyle="solid");const z=C.get("fill");N.stroke=z??x;const D=R.path(Kc(T,A,S,_,.1),N),I=Math.max(S,u.width),B=_+u.height+L,q=R.rectangle(-I/2,-B/2,I,B,{...N,fill:"transparent",stroke:"none"}),K=c.insert(()=>D,":first-child"),j=c.insert(()=>q);if(e.icon){const J=c.append("g");J.html(`<g>${await j1(e.icon,{height:a,width:a,fallbackPrefix:""})}</g>`);const $=J.node().getBBox(),ie=$.width,U=$.height,ee=$.x,V=$.y;J.attr("transform",`translate(${-ie/2-ee},${m?u.height/2+L/2-U/2-V:-u.height/2-L/2-U/2-V})`),J.attr("style",`color: ${C.get("stroke")??w};`)}return p.attr("transform",`translate(${-u.width/2-(u.x-(u.left??0))},${m?-B/2:B/2-u.height})`),K.attr("transform",`translate(0,${m?u.height/2+L/2:-u.height/2-L/2})`),Qt(e,j),e.intersect=function(J){if(Je.info("iconSquare intersect",e,J),!e.label)return $t.rect(e,J);const $=e.x??0,ie=e.y??0,U=e.height??0;let ee=[];return m?ee=[{x:$-u.width/2,y:ie-U/2},{x:$+u.width/2,y:ie-U/2},{x:$+u.width/2,y:ie-U/2+u.height+L},{x:$+S/2,y:ie-U/2+u.height+L},{x:$+S/2,y:ie+U/2},{x:$-S/2,y:ie+U/2},{x:$-S/2,y:ie-U/2+u.height+L},{x:$-u.width/2,y:ie-U/2+u.height+L}]:ee=[{x:$-S/2,y:ie-U/2},{x:$+S/2,y:ie-U/2},{x:$+S/2,y:ie-U/2+_},{x:$+u.width/2,y:ie-U/2+_},{x:$+u.width/2/2,y:ie+U/2},{x:$-u.width/2,y:ie+U/2},{x:$-u.width/2,y:ie-U/2+_},{x:$-S/2,y:ie-U/2+_}],$t.polygon(e,ee,J)},c}F(xV,"iconSquare");async function SV(t,e,{config:{flowchart:n}}){const r=new Image;r.src=(e==null?void 0:e.img)??"",await r.decode();const i=Number(r.naturalWidth.toString().replace("px","")),s=Number(r.naturalHeight.toString().replace("px",""));e.imageAspectRatio=i/s;const{labelStyles:o}=en(e);e.labelStyle=o;const a=n==null?void 0:n.wrappingWidth;e.defaultWidth=n==null?void 0:n.wrappingWidth;const l=Math.max(e.label?a??0:0,(e==null?void 0:e.assetWidth)??i),c=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:l,u=e.constraint==="on"?c/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??s;e.width=Math.max(c,a??0);const{shapeSvg:f,bbox:p,label:m}=await dn(t,e,"image-shape default"),_=e.pos==="t",S=-c/2,w=-u/2,x=e.label?8:0,C=qt.svg(f),T=Kt(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const A=C.rectangle(S,w,c,u,T),L=Math.max(c,p.width),R=u+p.height+x,N=C.rectangle(-L/2,-R/2,L,R,{...T,fill:"none",stroke:"none"}),z=f.insert(()=>A,":first-child"),D=f.insert(()=>N);if(e.img){const I=f.append("image");I.attr("href",e.img),I.attr("width",c),I.attr("height",u),I.attr("preserveAspectRatio","none"),I.attr("transform",`translate(${-c/2},${_?R/2-u:-R/2})`)}return m.attr("transform",`translate(${-p.width/2-(p.x-(p.left??0))},${_?-u/2-p.height/2-x/2:u/2-p.height/2+x/2})`),z.attr("transform",`translate(0,${_?p.height/2+x/2:-p.height/2-x/2})`),Qt(e,D),e.intersect=function(I){if(Je.info("iconSquare intersect",e,I),!e.label)return $t.rect(e,I);const B=e.x??0,q=e.y??0,K=e.height??0;let j=[];return _?j=[{x:B-p.width/2,y:q-K/2},{x:B+p.width/2,y:q-K/2},{x:B+p.width/2,y:q-K/2+p.height+x},{x:B+c/2,y:q-K/2+p.height+x},{x:B+c/2,y:q+K/2},{x:B-c/2,y:q+K/2},{x:B-c/2,y:q-K/2+p.height+x},{x:B-p.width/2,y:q-K/2+p.height+x}]:j=[{x:B-c/2,y:q-K/2},{x:B+c/2,y:q-K/2},{x:B+c/2,y:q-K/2+u},{x:B+p.width/2,y:q-K/2+u},{x:B+p.width/2/2,y:q+K/2},{x:B-p.width/2,y:q+K/2},{x:B-p.width/2,y:q-K/2+u},{x:B-c/2,y:q-K/2+u}],$t.polygon(e,j,I)},f}F(SV,"imageSquare");async function wV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),a=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:-3*a/6,y:-a}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=qt.svg(i),p=Kt(e,{}),m=$n(l),_=f.path(m,p);c=i.insert(()=>_,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Zc(i,o,a,l);return r&&c.attr("style",r),e.width=o,e.height=a,Qt(e,c),e.intersect=function(f){return $t.polygon(e,l,f)},i}F(wV,"inv_trapezoid");async function lb(t,e,n){const{labelStyles:r,nodeStyles:i}=en(e);e.labelStyle=r;const{shapeSvg:s,bbox:o}=await dn(t,e,pn(e)),a=Math.max(o.width+n.labelPaddingX*2,(e==null?void 0:e.width)||0),l=Math.max(o.height+n.labelPaddingY*2,(e==null?void 0:e.height)||0),c=-a/2,u=-l/2;let f,{rx:p,ry:m}=e;const{cssStyles:_}=e;if(n!=null&&n.rx&&n.ry&&(p=n.rx,m=n.ry),e.look==="handDrawn"){const S=qt.svg(s),w=Kt(e,{}),x=p||m?S.path(Kc(c,u,a,l,p||0),w):S.rectangle(c,u,a,l,w);f=s.insert(()=>x,":first-child"),f.attr("class","basic label-container").attr("style",Ns(_))}else f=s.insert("rect",":first-child"),f.attr("class","basic label-container").attr("style",i).attr("rx",Ns(p)).attr("ry",Ns(m)).attr("x",c).attr("y",u).attr("width",a).attr("height",l);return Qt(e,f),e.intersect=function(S){return $t.rect(e,S)},s}F(lb,"drawRect");async function bV(t,e){const{shapeSvg:n,bbox:r,label:i}=await dn(t,e,"label"),s=n.insert("rect",":first-child");return s.attr("width",.1).attr("height",.1),n.attr("class","label edgeLabel"),i.attr("transform",`translate(${-(r.width/2)-(r.x-(r.left??0))}, ${-(r.height/2)-(r.y-(r.top??0))})`),Qt(e,s),e.intersect=function(l){return $t.rect(e,l)},n}F(bV,"labelRect");async function EV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),a=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:0,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:-(3*a)/6,y:-a}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=qt.svg(i),p=Kt(e,{}),m=$n(l),_=f.path(m,p);c=i.insert(()=>_,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Zc(i,o,a,l);return r&&c.attr("style",r),e.width=o,e.height=a,Qt(e,c),e.intersect=function(f){return $t.polygon(e,l,f)},i}F(EV,"lean_left");async function CV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),a=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),l=[{x:-3*a/6,y:0},{x:o,y:0},{x:o+3*a/6,y:-a},{x:0,y:-a}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=qt.svg(i),p=Kt(e,{}),m=$n(l),_=f.path(m,p);c=i.insert(()=>_,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Zc(i,o,a,l);return r&&c.attr("style",r),e.width=o,e.height=a,Qt(e,c),e.intersect=function(f){return $t.polygon(e,l,f)},i}F(CV,"lean_right");function TV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.label="",e.labelStyle=n;const i=t.insert("g").attr("class",pn(e)).attr("id",e.domId??e.id),{cssStyles:s}=e,o=Math.max(35,(e==null?void 0:e.width)??0),a=Math.max(35,(e==null?void 0:e.height)??0),l=7,c=[{x:o,y:0},{x:0,y:a+l/2},{x:o-2*l,y:a+l/2},{x:0,y:2*a},{x:o,y:a-l/2},{x:2*l,y:a-l/2}],u=qt.svg(i),f=Kt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=$n(c),m=u.path(p,f),_=i.insert(()=>m,":first-child");return s&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",s),r&&e.look!=="handDrawn"&&_.selectAll("path").attr("style",r),_.attr("transform",`translate(-${o/2},${-a})`),Qt(e,_),e.intersect=function(S){return Je.info("lightningBolt intersect",e,S),$t.polygon(e,c,S)},i}F(TV,"lightningBolt");var Fye=F((t,e,n,r,i,s,o)=>[`M${t},${e+s}`,`a${i},${s} 0,0,0 ${n},0`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+o}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createCylinderPathD"),zye=F((t,e,n,r,i,s,o)=>[`M${t},${e+s}`,`M${t+n},${e+s}`,`a${i},${s} 0,0,0 ${-n},0`,`l0,${r}`,`a${i},${s} 0,0,0 ${n},0`,`l0,${-r}`,`M${t},${e+s+o}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createOuterCylinderPathD"),Uye=F((t,e,n,r,i,s)=>[`M${t-n/2},${-r/2}`,`a${i},${s} 0,0,0 ${n},0`].join(" "),"createInnerCylinderPathD");async function MV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0),e.width??0),l=a/2,c=l/(2.5+a/50),u=Math.max(s.height+c+(e.padding??0),e.height??0),f=u*.1;let p;const{cssStyles:m}=e;if(e.look==="handDrawn"){const _=qt.svg(i),S=zye(0,0,a,u,l,c,f),w=Uye(0,c,a,u,l,c),x=Kt(e,{}),C=_.path(S,x),T=_.path(w,x);i.insert(()=>T,":first-child").attr("class","line"),p=i.insert(()=>C,":first-child"),p.attr("class","basic label-container"),m&&p.attr("style",m)}else{const _=Fye(0,0,a,u,l,c,f);p=i.insert("path",":first-child").attr("d",_).attr("class","basic label-container").attr("style",Ns(m)).attr("style",r)}return p.attr("label-offset-y",c),p.attr("transform",`translate(${-a/2}, ${-(u/2+c)})`),Qt(e,p),o.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),e.intersect=function(_){const S=$t.rect(e,_),w=S.x-(e.x??0);if(l!=0&&(Math.abs(w)<(e.width??0)/2||Math.abs(w)==(e.width??0)/2&&Math.abs(S.y-(e.y??0))>(e.height??0)/2-c)){let x=c*c*(1-w*w/(l*l));x>0&&(x=Math.sqrt(x)),x=c-x,_.y-(e.y??0)>0&&(x=-x),S.y+=x}return S},i}F(MV,"linedCylinder");async function AV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,u=l+c,{cssStyles:f}=e,p=qt.svg(i),m=Kt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const _=[{x:-a/2-a/2*.1,y:-u/2},{x:-a/2-a/2*.1,y:u/2},...oh(-a/2-a/2*.1,u/2,a/2+a/2*.1,u/2,c,.8),{x:a/2+a/2*.1,y:-u/2},{x:-a/2-a/2*.1,y:-u/2},{x:-a/2,y:-u/2},{x:-a/2,y:u/2*1.1},{x:-a/2,y:-u/2}],S=p.polygon(_.map(x=>[x.x,x.y]),m),w=i.insert(()=>S,":first-child");return w.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",r),w.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)+a/2*.1/2-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),Qt(e,w),e.intersect=function(x){return $t.polygon(e,_,x)},i}F(AV,"linedWaveEdgedRect");async function kV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=5,u=-a/2,f=-l/2,{cssStyles:p}=e,m=qt.svg(i),_=Kt(e,{}),S=[{x:u-c,y:f+c},{x:u-c,y:f+l+c},{x:u+a-c,y:f+l+c},{x:u+a-c,y:f+l},{x:u+a,y:f+l},{x:u+a,y:f+l-c},{x:u+a+c,y:f+l-c},{x:u+a+c,y:f-c},{x:u+c,y:f-c},{x:u+c,y:f},{x:u,y:f},{x:u,y:f+c}],w=[{x:u,y:f+c},{x:u+a-c,y:f+c},{x:u+a-c,y:f+l},{x:u+a,y:f+l},{x:u+a,y:f},{x:u,y:f}];e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const x=$n(S),C=m.path(x,_),T=$n(w),A=m.path(T,{..._,fill:"none"}),L=i.insert(()=>A,":first-child");return L.insert(()=>C,":first-child"),L.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(s.width/2)-c-(s.x-(s.left??0))}, ${-(s.height/2)+c-(s.y-(s.top??0))})`),Qt(e,L),e.intersect=function(R){return $t.polygon(e,S,R)},i}F(kV,"multiRect");async function RV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,u=l+c,f=-a/2,p=-u/2,m=5,{cssStyles:_}=e,S=oh(f-m,p+u+m,f+a-m,p+u+m,c,.8),w=S==null?void 0:S[S.length-1],x=[{x:f-m,y:p+m},{x:f-m,y:p+u+m},...S,{x:f+a-m,y:w.y-m},{x:f+a,y:w.y-m},{x:f+a,y:w.y-2*m},{x:f+a+m,y:w.y-2*m},{x:f+a+m,y:p-m},{x:f+m,y:p-m},{x:f+m,y:p},{x:f,y:p},{x:f,y:p+m}],C=[{x:f,y:p+m},{x:f+a-m,y:p+m},{x:f+a-m,y:w.y-m},{x:f+a,y:w.y-m},{x:f+a,y:p},{x:f,y:p}],T=qt.svg(i),A=Kt(e,{});e.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const L=$n(x),R=T.path(L,A),N=$n(C),z=T.path(N,A),D=i.insert(()=>R,":first-child");return D.insert(()=>z),D.attr("class","basic label-container"),_&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",_),r&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",r),D.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-(s.width/2)-m-(s.x-(s.left??0))}, ${-(s.height/2)+m-c/2-(s.y-(s.top??0))})`),Qt(e,D),e.intersect=function(I){return $t.polygon(e,x,I)},i}F(RV,"multiWaveEdgedRectangle");async function PV(t,e,{config:{themeVariables:n}}){var x;const{labelStyles:r,nodeStyles:i}=en(e);e.labelStyle=r,e.useHtmlLabels||((x=Ka().flowchart)==null?void 0:x.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:o,bbox:a}=await dn(t,e,pn(e)),l=Math.max(a.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(a.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-l/2,f=-c/2,{cssStyles:p}=e,m=qt.svg(o),_=Kt(e,{fill:n.noteBkgColor,stroke:n.noteBorderColor});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=m.rectangle(u,f,l,c,_),w=o.insert(()=>S,":first-child");return w.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",p),i&&e.look!=="handDrawn"&&w.selectAll("path").attr("style",i),Qt(e,w),e.intersect=function(C){return $t.rect(e,C)},o}F(PV,"note");var Vye=F((t,e,n)=>[`M${t+n/2},${e}`,`L${t+n},${e-n/2}`,`L${t+n/2},${e-n}`,`L${t},${e-n/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function LV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=s.width+e.padding,a=s.height+e.padding,l=o+a,c=[{x:l/2,y:0},{x:l,y:-l/2},{x:l/2,y:-l},{x:0,y:-l/2}];let u;const{cssStyles:f}=e;if(e.look==="handDrawn"){const p=qt.svg(i),m=Kt(e,{}),_=Vye(0,0,l),S=p.path(_,m);u=i.insert(()=>S,":first-child").attr("transform",`translate(${-l/2}, ${l/2})`),f&&u.attr("style",f)}else u=Zc(i,l,l,c);return r&&u.attr("style",r),Qt(e,u),e.intersect=function(p){return Je.debug(`APA12 Intersect called SPLIT
point:`,p,`
node:
`,e,`
res:`,$t.polygon(e,c,p)),$t.polygon(e,c,p)},i}F(LV,"question");async function IV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0),(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0),(e==null?void 0:e.height)??0),c=-a/2,u=-l/2,f=u/2,p=[{x:c+f,y:u},{x:c,y:0},{x:c+f,y:-u},{x:-c,y:-u},{x:-c,y:u}],{cssStyles:m}=e,_=qt.svg(i),S=Kt(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const w=$n(p),x=_.path(w,S),C=i.insert(()=>x,":first-child");return C.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),C.attr("transform",`translate(${-f/2},0)`),o.attr("transform",`translate(${-f/2-s.width/2-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Qt(e,C),e.intersect=function(T){return $t.polygon(e,p,T)},i}F(IV,"rect_left_inv_arrow");async function DV(t,e){var z,D;const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;let i;e.cssClasses?i="node "+e.cssClasses:i="node default";const s=t.insert("g").attr("class",i).attr("id",e.domId||e.id),o=s.insert("g"),a=s.insert("g").attr("class","label").attr("style",r),l=e.description,c=e.label,u=a.node().appendChild(await Uf(c,e.labelStyle,!0,!0));let f={width:0,height:0};if(Xi((D=(z=rr())==null?void 0:z.flowchart)==null?void 0:D.htmlLabels)){const I=u.children[0],B=nr(u);f=I.getBoundingClientRect(),B.attr("width",f.width),B.attr("height",f.height)}Je.info("Text 2",l);const p=l||[],m=u.getBBox(),_=a.node().appendChild(await Uf(p.join?p.join("<br/>"):p,e.labelStyle,!0,!0)),S=_.children[0],w=nr(_);f=S.getBoundingClientRect(),w.attr("width",f.width),w.attr("height",f.height);const x=(e.padding||0)/2;nr(_).attr("transform","translate( "+(f.width>m.width?0:(m.width-f.width)/2)+", "+(m.height+x+5)+")"),nr(u).attr("transform","translate( "+(f.width<m.width?0:-(m.width-f.width)/2)+", 0)"),f=a.node().getBBox(),a.attr("transform","translate("+-f.width/2+", "+(-f.height/2-x+3)+")");const C=f.width+(e.padding||0),T=f.height+(e.padding||0),A=-f.width/2-x,L=-f.height/2-x;let R,N;if(e.look==="handDrawn"){const I=qt.svg(s),B=Kt(e,{}),q=I.path(Kc(A,L,C,T,e.rx||0),B),K=I.line(-f.width/2-x,-f.height/2-x+m.height+x,f.width/2+x,-f.height/2-x+m.height+x,B);N=s.insert(()=>(Je.debug("Rough node insert CXC",q),K),":first-child"),R=s.insert(()=>(Je.debug("Rough node insert CXC",q),q),":first-child")}else R=o.insert("rect",":first-child"),N=o.insert("line"),R.attr("class","outer title-state").attr("style",r).attr("x",-f.width/2-x).attr("y",-f.height/2-x).attr("width",f.width+(e.padding||0)).attr("height",f.height+(e.padding||0)),N.attr("class","divider").attr("x1",-f.width/2-x).attr("x2",f.width/2+x).attr("y1",-f.height/2-x+m.height+x).attr("y2",-f.height/2-x+m.height+x);return Qt(e,R),e.intersect=function(I){return $t.rect(e,I)},s}F(DV,"rectWithTitle");async function OV(t,e){const n={rx:5,ry:5,labelPaddingX:((e==null?void 0:e.padding)||0)*1,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return lb(t,e,n)}F(OV,"roundedRect");async function NV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=(e==null?void 0:e.padding)??0,l=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=-s.width/2-a,f=-s.height/2-a,{cssStyles:p}=e,m=qt.svg(i),_=Kt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=[{x:u,y:f},{x:u+l+8,y:f},{x:u+l+8,y:f+c},{x:u-8,y:f+c},{x:u-8,y:f},{x:u,y:f},{x:u,y:f+c}],w=m.polygon(S.map(C=>[C.x,C.y]),_),x=i.insert(()=>w,":first-child");return x.attr("class","basic label-container").attr("style",Ns(p)),r&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),p&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",r),o.attr("transform",`translate(${-l/2+4+(e.padding??0)-(s.x-(s.left??0))},${-c/2+(e.padding??0)-(s.y-(s.top??0))})`),Qt(e,x),e.intersect=function(C){return $t.rect(e,C)},i}F(NV,"shadedProcess");async function BV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=-a/2,u=-l/2,{cssStyles:f}=e,p=qt.svg(i),m=Kt(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const _=[{x:c,y:u},{x:c,y:u+l},{x:c+a,y:u+l},{x:c+a,y:u-l/2}],S=$n(_),w=p.path(S,m),x=i.insert(()=>w,":first-child");return x.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",f),r&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),x.attr("transform",`translate(0, ${l/4})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))}, ${-l/4+(e.padding??0)-(s.y-(s.top??0))})`),Qt(e,x),e.intersect=function(C){return $t.polygon(e,_,C)},i}F(BV,"slopedRect");async function FV(t,e){const n={rx:0,ry:0,labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return lb(t,e,n)}F(FV,"squareRect");async function zV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=s.height+e.padding,a=s.width+o/4+e.padding;let l;const{cssStyles:c}=e;if(e.look==="handDrawn"){const u=qt.svg(i),f=Kt(e,{}),p=Kc(-a/2,-o/2,a,o,o/2),m=u.path(p,f);l=i.insert(()=>m,":first-child"),l.attr("class","basic label-container").attr("style",Ns(c))}else l=i.insert("rect",":first-child"),l.attr("class","basic label-container").attr("style",r).attr("rx",o/2).attr("ry",o/2).attr("x",-a/2).attr("y",-o/2).attr("width",a).attr("height",o);return Qt(e,l),e.intersect=function(u){return $t.rect(e,u)},i}F(zV,"stadium");async function UV(t,e){return lb(t,e,{rx:5,ry:5})}F(UV,"state");function VV(t,e,{config:{themeVariables:n}}){const{labelStyles:r,nodeStyles:i}=en(e);e.labelStyle=r;const{cssStyles:s}=e,{lineColor:o,stateBorder:a,nodeBorder:l}=n,c=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),u=qt.svg(c),f=Kt(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const p=u.circle(0,0,14,{...f,stroke:o,strokeWidth:2}),m=a??l,_=u.circle(0,0,5,{...f,fill:m,stroke:m,strokeWidth:2,fillStyle:"solid"}),S=c.insert(()=>p,":first-child");return S.insert(()=>_),s&&S.selectAll("path").attr("style",s),i&&S.selectAll("path").attr("style",i),Qt(e,S),e.intersect=function(w){return $t.circle(e,7,w)},c}F(VV,"stateEnd");function HV(t,e,{config:{themeVariables:n}}){const{lineColor:r}=n,i=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let s;if(e.look==="handDrawn"){const a=qt.svg(i).circle(0,0,14,Sye(r));s=i.insert(()=>a),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else s=i.insert("circle",":first-child"),s.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Qt(e,s),e.intersect=function(o){return $t.circle(e,7,o)},i}F(HV,"stateStart");async function WV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=((e==null?void 0:e.padding)||0)/2,a=s.width+e.padding,l=s.height+e.padding,c=-s.width/2-o,u=-s.height/2-o,f=[{x:0,y:0},{x:a,y:0},{x:a,y:-l},{x:0,y:-l},{x:0,y:0},{x:-8,y:0},{x:a+8,y:0},{x:a+8,y:-l},{x:-8,y:-l},{x:-8,y:0}];if(e.look==="handDrawn"){const p=qt.svg(i),m=Kt(e,{}),_=p.rectangle(c-8,u,a+16,l,m),S=p.line(c,u,c,u+l,m),w=p.line(c+a,u,c+a,u+l,m);i.insert(()=>S,":first-child"),i.insert(()=>w,":first-child");const x=i.insert(()=>_,":first-child"),{cssStyles:C}=e;x.attr("class","basic label-container").attr("style",Ns(C)),Qt(e,x)}else{const p=Zc(i,a,l,f);r&&p.attr("style",r),Qt(e,p)}return e.intersect=function(p){return $t.polygon(e,f,p)},i}F(WV,"subroutine");async function GV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),a=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),l=-o/2,c=-a/2,u=.2*a,f=.2*a,{cssStyles:p}=e,m=qt.svg(i),_=Kt(e,{}),S=[{x:l-u/2,y:c},{x:l+o+u/2,y:c},{x:l+o+u/2,y:c+a},{x:l-u/2,y:c+a}],w=[{x:l+o-u/2,y:c+a},{x:l+o+u/2,y:c+a},{x:l+o+u/2,y:c+a-f}];e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const x=$n(S),C=m.path(x,_),T=$n(w),A=m.path(T,{..._,fillStyle:"solid"}),L=i.insert(()=>A,":first-child");return L.insert(()=>C,":first-child"),L.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",r),Qt(e,L),e.intersect=function(R){return $t.polygon(e,S,R)},i}F(GV,"taggedRect");async function $V(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/4,u=.2*a,f=.2*l,p=l+c,{cssStyles:m}=e,_=qt.svg(i),S=Kt(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const w=[{x:-a/2-a/2*.1,y:p/2},...oh(-a/2-a/2*.1,p/2,a/2+a/2*.1,p/2,c,.8),{x:a/2+a/2*.1,y:-p/2},{x:-a/2-a/2*.1,y:-p/2}],x=-a/2+a/2*.1,C=-p/2-f*.4,T=[{x:x+a-u,y:(C+l)*1.4},{x:x+a,y:C+l-f},{x:x+a,y:(C+l)*.9},...oh(x+a,(C+l)*1.3,x+a-u,(C+l)*1.5,-l*.03,.5)],A=$n(w),L=_.path(A,S),R=$n(T),N=_.path(R,{...S,fillStyle:"solid"}),z=i.insert(()=>N,":first-child");return z.insert(()=>L,":first-child"),z.attr("class","basic label-container"),m&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",m),r&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",r),z.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c/2-(s.y-(s.top??0))})`),Qt(e,z),e.intersect=function(D){return $t.polygon(e,w,D)},i}F($V,"taggedWaveEdgedRectangle");async function jV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=Math.max(s.width+e.padding,(e==null?void 0:e.width)||0),a=Math.max(s.height+e.padding,(e==null?void 0:e.height)||0),l=-o/2,c=-a/2,u=i.insert("rect",":first-child");return u.attr("class","text").attr("style",r).attr("rx",0).attr("ry",0).attr("x",l).attr("y",c).attr("width",o).attr("height",a),Qt(e,u),e.intersect=function(f){return $t.rect(e,f)},i}F(jV,"text");var Hye=F((t,e,n,r,i,s)=>`M${t},${e}
    a${i},${s} 0,0,1 0,${-r}
    l${n},0
    a${i},${s} 0,0,1 0,${r}
    M${n},${-r}
    a${i},${s} 0,0,0 0,${r}
    l${-n},0`,"createCylinderPathD"),Wye=F((t,e,n,r,i,s)=>[`M${t},${e}`,`M${t+n},${e}`,`a${i},${s} 0,0,0 0,${-r}`,`l${-n},0`,`a${i},${s} 0,0,0 0,${r}`,`l${n},0`].join(" "),"createOuterCylinderPathD"),Gye=F((t,e,n,r,i,s)=>[`M${t+n/2},${-r/2}`,`a${i},${s} 0,0,0 0,${r}`].join(" "),"createInnerCylinderPathD");async function qV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o,halfPadding:a}=await dn(t,e,pn(e)),l=e.look==="neo"?a*2:a,c=s.height+l,u=c/2,f=u/(2.5+c/50),p=s.width+f+l,{cssStyles:m}=e;let _;if(e.look==="handDrawn"){const S=qt.svg(i),w=Wye(0,0,p,c,f,u),x=Gye(0,0,p,c,f,u),C=S.path(w,Kt(e,{})),T=S.path(x,Kt(e,{fill:"none"}));_=i.insert(()=>T,":first-child"),_=i.insert(()=>C,":first-child"),_.attr("class","basic label-container"),m&&_.attr("style",m)}else{const S=Hye(0,0,p,c,f,u);_=i.insert("path",":first-child").attr("d",S).attr("class","basic label-container").attr("style",Ns(m)).attr("style",r),_.attr("class","basic label-container"),m&&_.selectAll("path").attr("style",m),r&&_.selectAll("path").attr("style",r)}return _.attr("label-offset-x",f),_.attr("transform",`translate(${-p/2}, ${c/2} )`),o.attr("transform",`translate(${-(s.width/2)-f-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Qt(e,_),e.intersect=function(S){const w=$t.rect(e,S),x=w.y-(e.y??0);if(u!=0&&(Math.abs(x)<(e.height??0)/2||Math.abs(x)==(e.height??0)/2&&Math.abs(w.x-(e.x??0))>(e.width??0)/2-f)){let C=f*f*(1-x*x/(u*u));C!=0&&(C=Math.sqrt(Math.abs(C))),C=f-C,S.x-(e.x??0)>0&&(C=-C),w.x+=C}return w},i}F(qV,"tiltedCylinder");async function XV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=s.width+e.padding,a=s.height+e.padding,l=[{x:-3*a/6,y:0},{x:o+3*a/6,y:0},{x:o,y:-a},{x:0,y:-a}];let c;const{cssStyles:u}=e;if(e.look==="handDrawn"){const f=qt.svg(i),p=Kt(e,{}),m=$n(l),_=f.path(m,p);c=i.insert(()=>_,":first-child").attr("transform",`translate(${-o/2}, ${a/2})`),u&&c.attr("style",u)}else c=Zc(i,o,a,l);return r&&c.attr("style",r),e.width=o,e.height=a,Qt(e,c),e.intersect=function(f){return $t.polygon(e,l,f)},i}F(XV,"trapezoid");async function YV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=60,a=20,l=Math.max(o,s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(a,s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:u}=e,f=qt.svg(i),p=Kt(e,{});e.look!=="handDrawn"&&(p.roughness=0,p.fillStyle="solid");const m=[{x:-l/2*.8,y:-c/2},{x:l/2*.8,y:-c/2},{x:l/2,y:-c/2*.6},{x:l/2,y:c/2},{x:-l/2,y:c/2},{x:-l/2,y:-c/2*.6}],_=$n(m),S=f.path(_,p),w=i.insert(()=>S,":first-child");return w.attr("class","basic label-container"),u&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",u),r&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",r),Qt(e,w),e.intersect=function(x){return $t.polygon(e,m,x)},i}F(YV,"trapezoidalPentagon");async function KV(t,e){var C;const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Xi((C=rr().flowchart)==null?void 0:C.htmlLabels),l=s.width+(e.padding??0),c=l+s.height,u=l+s.height,f=[{x:0,y:0},{x:u,y:0},{x:u/2,y:-c}],{cssStyles:p}=e,m=qt.svg(i),_=Kt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=$n(f),w=m.path(S,_),x=i.insert(()=>w,":first-child").attr("transform",`translate(${-c/2}, ${c/2})`);return p&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",p),r&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",r),e.width=l,e.height=c,Qt(e,x),o.attr("transform",`translate(${-s.width/2-(s.x-(s.left??0))}, ${c/2-(s.height+(e.padding??0)/(a?2:1)-(s.y-(s.top??0)))})`),e.intersect=function(T){return Je.info("Triangle intersect",e,f,T),$t.polygon(e,f,T)},i}F(KV,"triangle");async function ZV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=l/8,u=l+c,{cssStyles:f}=e,m=70-a,_=m>0?m/2:0,S=qt.svg(i),w=Kt(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const x=[{x:-a/2-_,y:u/2},...oh(-a/2-_,u/2,a/2+_,u/2,c,.8),{x:a/2+_,y:-u/2},{x:-a/2-_,y:-u/2}],C=$n(x),T=S.path(C,w),A=i.insert(()=>T,":first-child");return A.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",f),r&&e.look!=="handDrawn"&&A.selectAll("path").attr("style",r),A.attr("transform",`translate(0,${-c/2})`),o.attr("transform",`translate(${-a/2+(e.padding??0)-(s.x-(s.left??0))},${-l/2+(e.padding??0)-c-(s.y-(s.top??0))})`),Qt(e,A),e.intersect=function(L){return $t.polygon(e,x,L)},i}F(ZV,"waveEdgedRectangle");async function JV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s}=await dn(t,e,pn(e)),o=100,a=50,l=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),c=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),u=l/c;let f=l,p=c;f>p*u?p=f/u:f=p*u,f=Math.max(f,o),p=Math.max(p,a);const m=Math.min(p*.2,p/4),_=p+m*2,{cssStyles:S}=e,w=qt.svg(i),x=Kt(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const C=[{x:-f/2,y:_/2},...oh(-f/2,_/2,f/2,_/2,m,1),{x:f/2,y:-_/2},...oh(f/2,-_/2,-f/2,-_/2,m,-1)],T=$n(C),A=w.path(T,x),L=i.insert(()=>A,":first-child");return L.attr("class","basic label-container"),S&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",S),r&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",r),Qt(e,L),e.intersect=function(R){return $t.polygon(e,C,R)},i}F(JV,"waveRectangle");async function QV(t,e){const{labelStyles:n,nodeStyles:r}=en(e);e.labelStyle=n;const{shapeSvg:i,bbox:s,label:o}=await dn(t,e,pn(e)),a=Math.max(s.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),l=Math.max(s.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),c=5,u=-a/2,f=-l/2,{cssStyles:p}=e,m=qt.svg(i),_=Kt(e,{}),S=[{x:u-c,y:f-c},{x:u-c,y:f+l},{x:u+a,y:f+l},{x:u+a,y:f-c}],w=`M${u-c},${f-c} L${u+a},${f-c} L${u+a},${f+l} L${u-c},${f+l} L${u-c},${f-c}
                M${u-c},${f} L${u+a},${f}
                M${u},${f-c} L${u},${f+l}`;e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const x=m.path(w,_),C=i.insert(()=>x,":first-child");return C.attr("transform",`translate(${c/2}, ${c/2})`),C.attr("class","basic label-container"),p&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",p),r&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",r),o.attr("transform",`translate(${-(s.width/2)+c/2-(s.x-(s.left??0))}, ${-(s.height/2)+c/2-(s.y-(s.top??0))})`),Qt(e,C),e.intersect=function(T){return $t.polygon(e,S,T)},i}F(QV,"windowPane");async function eH(t,e,n,r,i=n.class.padding??12){const s=r?0:3,o=t.insert("g").attr("class",pn(e)).attr("id",e.domId||e.id);let a=null,l=null,c=null,u=null,f=0,p=0,m=0;if(a=o.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const C=e.annotations[0];await $y(a,{text:`«${C}»`},0),f=a.node().getBBox().height}l=o.insert("g").attr("class","label-group text"),await $y(l,e,0,["font-weight: bolder"]);const _=l.node().getBBox();p=_.height,c=o.insert("g").attr("class","members-group text");let S=0;for(const C of e.members){const T=await $y(c,C,S,[C.parseClassifier()]);S+=T+s}m=c.node().getBBox().height,m<=0&&(m=i/2),u=o.insert("g").attr("class","methods-group text");let w=0;for(const C of e.methods){const T=await $y(u,C,w,[C.parseClassifier()]);w+=T+s}let x=o.node().getBBox();if(a!==null){const C=a.node().getBBox();a.attr("transform",`translate(${-C.width/2})`)}return l.attr("transform",`translate(${-_.width/2}, ${f})`),x=o.node().getBBox(),c.attr("transform",`translate(0, ${f+p+i*2})`),x=o.node().getBBox(),u.attr("transform",`translate(0, ${f+p+(m?m+i*4:i*2)})`),x=o.node().getBBox(),{shapeSvg:o,bbox:x}}F(eH,"textHelper");async function $y(t,e,n,r=[]){const i=t.insert("g").attr("class","label").attr("style",r.join("; ")),s=Ka();let o="useHtmlLabels"in e?e.useHtmlLabels:Xi(s.htmlLabels)??!0,a="";"text"in e?a=e.text:a=e.label,!o&&a.startsWith("\\")&&(a=a.substring(1)),Rm(a)&&(o=!0);const l=await ng(i,vz(tg(a)),{width:Om(a,s)+50,classes:"markdown-node-label",useHtmlLabels:o},s);let c,u=1;if(o){const f=l.children[0],p=nr(l);u=f.innerHTML.split("<br>").length,f.innerHTML.includes("</math>")&&(u+=f.innerHTML.split("<mrow>").length-1);const m=f.getElementsByTagName("img");if(m){const _=a.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...m].map(S=>new Promise(w=>{function x(){var C;if(S.style.display="flex",S.style.flexDirection="column",_){const T=((C=s.fontSize)==null?void 0:C.toString())??window.getComputedStyle(document.body).fontSize,L=parseInt(T,10)*5+"px";S.style.minWidth=L,S.style.maxWidth=L}else S.style.width="100%";w(S)}F(x,"setupImage"),setTimeout(()=>{S.complete&&x()}),S.addEventListener("error",x),S.addEventListener("load",x)})))}c=f.getBoundingClientRect(),p.attr("width",c.width),p.attr("height",c.height)}else{r.includes("font-weight: bolder")&&nr(l).selectAll("tspan").attr("font-weight",""),u=l.children.length;const f=l.children[0];(l.textContent===""||l.textContent.includes("&gt"))&&(f.textContent=a[0]+a.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),a[1]===" "&&(f.textContent=f.textContent[0]+" "+f.textContent.substring(1))),f.textContent==="undefined"&&(f.textContent=""),c=l.getBBox()}return i.attr("transform","translate(0,"+(-c.height/(2*u)+n)+")"),c.height}F($y,"addText");async function tH(t,e){var D,I;const n=rr(),r=n.class.padding??12,i=r,s=e.useHtmlLabels??Xi(n.htmlLabels)??!0,o=e;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:a,bbox:l}=await eH(t,e,n,s,i),{labelStyles:c,nodeStyles:u}=en(e);e.labelStyle=c,e.cssStyles=o.styles||"";const f=((D=o.styles)==null?void 0:D.join(";"))||u||"";e.cssStyles||(e.cssStyles=f.replaceAll("!important","").split(";"));const p=o.members.length===0&&o.methods.length===0&&!((I=n.class)!=null&&I.hideEmptyMembersBox),m=qt.svg(a),_=Kt(e,{});e.look!=="handDrawn"&&(_.roughness=0,_.fillStyle="solid");const S=l.width;let w=l.height;o.members.length===0&&o.methods.length===0?w+=i:o.members.length>0&&o.methods.length===0&&(w+=i*2);const x=-S/2,C=-w/2,T=m.rectangle(x-r,C-r-(p?r:o.members.length===0&&o.methods.length===0?-r/2:0),S+2*r,w+2*r+(p?r*2:o.members.length===0&&o.methods.length===0?-r:0),_),A=a.insert(()=>T,":first-child");A.attr("class","basic label-container");const L=A.node().getBBox();a.selectAll(".text").each((B,q,K)=>{var ee;const j=nr(K[q]),J=j.attr("transform");let $=0;if(J){const G=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(J);G&&($=parseFloat(G[2]))}let ie=$+C+r-(p?r:o.members.length===0&&o.methods.length===0?-r/2:0);s||(ie-=4);let U=x;(j.attr("class").includes("label-group")||j.attr("class").includes("annotation-group"))&&(U=-((ee=j.node())==null?void 0:ee.getBBox().width)/2||0,a.selectAll("text").each(function(V,G,oe){window.getComputedStyle(oe[G]).textAnchor==="middle"&&(U=0)})),j.attr("transform",`translate(${U}, ${ie})`)});const R=a.select(".annotation-group").node().getBBox().height-(p?r/2:0)||0,N=a.select(".label-group").node().getBBox().height-(p?r/2:0)||0,z=a.select(".members-group").node().getBBox().height-(p?r/2:0)||0;if(o.members.length>0||o.methods.length>0||p){const B=m.line(L.x,R+N+C+r,L.x+L.width,R+N+C+r,_);a.insert(()=>B).attr("class","divider").attr("style",f)}if(p||o.members.length>0||o.methods.length>0){const B=m.line(L.x,R+N+z+C+i*2+r,L.x+L.width,R+N+z+C+r+i*2,_);a.insert(()=>B).attr("class","divider").attr("style",f)}if(o.look!=="handDrawn"&&a.selectAll("path").attr("style",f),A.select(":nth-child(2)").attr("style",f),a.selectAll(".divider").select("path").attr("style",f),e.labelStyle?a.selectAll("span").attr("style",e.labelStyle):a.selectAll("span").attr("style",f),!s){const B=RegExp(/color\s*:\s*([^;]*)/),q=B.exec(f);if(q){const K=q[0].replace("color","fill");a.selectAll("tspan").attr("style",K)}else if(c){const K=B.exec(c);if(K){const j=K[0].replace("color","fill");a.selectAll("tspan").attr("style",j)}}}return Qt(e,A),e.intersect=function(B){return $t.rect(e,B)},a}F(tH,"classBox");var $ye=F(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function nH(t,e,{config:n}){var q,K;const{labelStyles:r,nodeStyles:i}=en(e);e.labelStyle=r||"";const s=10,o=e.width;e.width=(e.width??200)-10;const{shapeSvg:a,bbox:l,label:c}=await dn(t,e,pn(e)),u=e.padding||10;let f="",p;"ticket"in e&&e.ticket&&((q=n==null?void 0:n.kanban)!=null&&q.ticketBaseUrl)&&(f=(K=n==null?void 0:n.kanban)==null?void 0:K.ticketBaseUrl.replace("#TICKET#",e.ticket),p=a.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",f).attr("target","_blank"));const m={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let _,S;p?{label:_,bbox:S}=await jC(p,"ticket"in e&&e.ticket||"",m):{label:_,bbox:S}=await jC(a,"ticket"in e&&e.ticket||"",m);const{label:w,bbox:x}=await jC(a,"assigned"in e&&e.assigned||"",m);e.width=o;const C=10,T=(e==null?void 0:e.width)||0,A=Math.max(S.height,x.height)/2,L=Math.max(l.height+C*2,(e==null?void 0:e.height)||0)+A,R=-T/2,N=-L/2;c.attr("transform","translate("+(u-T/2)+", "+(-A-l.height/2)+")"),_.attr("transform","translate("+(u-T/2)+", "+(-A+l.height/2)+")"),w.attr("transform","translate("+(u+T/2-x.width-2*s)+", "+(-A+l.height/2)+")");let z;const{rx:D,ry:I}=e,{cssStyles:B}=e;if(e.look==="handDrawn"){const j=qt.svg(a),J=Kt(e,{}),$=D||I?j.path(Kc(R,N,T,L,D||0),J):j.rectangle(R,N,T,L,J);z=a.insert(()=>$,":first-child"),z.attr("class","basic label-container").attr("style",B||null)}else{z=a.insert("rect",":first-child"),z.attr("class","basic label-container __APA__").attr("style",i).attr("rx",D??5).attr("ry",I??5).attr("x",R).attr("y",N).attr("width",T).attr("height",L);const j="priority"in e&&e.priority;if(j){const J=a.append("line"),$=R+2,ie=N+Math.floor((D??0)/2),U=N+L-Math.floor((D??0)/2);J.attr("x1",$).attr("y1",ie).attr("x2",$).attr("y2",U).attr("stroke-width","4").attr("stroke",$ye(j))}}return Qt(e,z),e.height=L,e.intersect=function(j){return $t.rect(e,j)},a}F(nH,"kanbanItem");var jye=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:FV},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:OV},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:zV},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:WV},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:lV},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:tV},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:LV},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:mV},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:CV},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:EV},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:XV},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:wV},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:uV},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:jV},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:Q5},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:NV},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:HV},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:VV},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:dV},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:gV},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:iV},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:sV},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:oV},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:TV},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:ZV},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:pV},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:qV},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:MV},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:aV},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:cV},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:KV},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:QV},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:hV},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:YV},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:fV},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:BV},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:RV},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:kV},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:J5},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:rV},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:$V},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:GV},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:JV},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:IV},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:AV}],qye=F(()=>{const e=[...Object.entries({state:UV,choice:eV,note:PV,rectWithTitle:DV,labelRect:bV,iconSquare:xV,iconCircle:_V,icon:yV,iconRounded:vV,imageSquare:SV,anchor:Z5,kanbanItem:nH,classBox:tH}),...jye.flatMap(n=>[n.shortName,..."aliases"in n?n.aliases:[],..."internalAliases"in n?n.internalAliases:[]].map(i=>[i,n.handler]))];return Object.fromEntries(e)},"generateShapeMap"),rH=qye();function Xye(t){return t in rH}F(Xye,"isValidShape");var cb=new Map;async function iH(t,e,n){let r,i;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const s=e.shape?rH[e.shape]:void 0;if(!s)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let o;n.config.securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o??null),i=await s(r,e,n)}else i=await s(t,e,n),r=i;return e.tooltip&&i.attr("title",e.tooltip),cb.set(e.id,r),e.haveCallback&&r.attr("class",r.attr("class")+" clickable"),r}F(iH,"insertNode");var RSe=F((t,e)=>{cb.set(e.id,t)},"setNodeElem"),PSe=F(()=>{cb.clear()},"clear"),LSe=F(t=>{const e=cb.get(t.id);Je.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const n=8,r=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+r-t.width/2)+", "+(t.y-t.height/2-n)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),r},"positionNode"),Ko={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function jy(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=kr(t),e=kr(e);const[n,r]=[t.x,t.y],[i,s]=[e.x,e.y],o=i-n,a=s-r;return{angle:Math.atan(a/o),deltaX:o,deltaY:a}}F(jy,"calculateDeltaAndAngle");var kr=F(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),Yye=F(t=>({x:F(function(e,n,r){let i=0;const s=kr(r[0]).x<kr(r[r.length-1]).x?"left":"right";if(n===0&&Object.hasOwn(Ko,t.arrowTypeStart)){const{angle:m,deltaX:_}=jy(r[0],r[1]);i=Ko[t.arrowTypeStart]*Math.cos(m)*(_>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Ko,t.arrowTypeEnd)){const{angle:m,deltaX:_}=jy(r[r.length-1],r[r.length-2]);i=Ko[t.arrowTypeEnd]*Math.cos(m)*(_>=0?1:-1)}const o=Math.abs(kr(e).x-kr(r[r.length-1]).x),a=Math.abs(kr(e).y-kr(r[r.length-1]).y),l=Math.abs(kr(e).x-kr(r[0]).x),c=Math.abs(kr(e).y-kr(r[0]).y),u=Ko[t.arrowTypeStart],f=Ko[t.arrowTypeEnd],p=1;if(o<f&&o>0&&a<f){let m=f+p-o;m*=s==="right"?-1:1,i-=m}if(l<u&&l>0&&c<u){let m=u+p-l;m*=s==="right"?-1:1,i+=m}return kr(e).x+i},"x"),y:F(function(e,n,r){let i=0;const s=kr(r[0]).y<kr(r[r.length-1]).y?"down":"up";if(n===0&&Object.hasOwn(Ko,t.arrowTypeStart)){const{angle:m,deltaY:_}=jy(r[0],r[1]);i=Ko[t.arrowTypeStart]*Math.abs(Math.sin(m))*(_>=0?1:-1)}else if(n===r.length-1&&Object.hasOwn(Ko,t.arrowTypeEnd)){const{angle:m,deltaY:_}=jy(r[r.length-1],r[r.length-2]);i=Ko[t.arrowTypeEnd]*Math.abs(Math.sin(m))*(_>=0?1:-1)}const o=Math.abs(kr(e).y-kr(r[r.length-1]).y),a=Math.abs(kr(e).x-kr(r[r.length-1]).x),l=Math.abs(kr(e).y-kr(r[0]).y),c=Math.abs(kr(e).x-kr(r[0]).x),u=Ko[t.arrowTypeStart],f=Ko[t.arrowTypeEnd],p=1;if(o<f&&o>0&&a<f){let m=f+p-o;m*=s==="up"?-1:1,i-=m}if(l<u&&l>0&&c<u){let m=u+p-l;m*=s==="up"?-1:1,i+=m}return kr(e).y+i},"y")}),"getLineFunctionsWithOffset"),Kye=F((t,e,n,r,i)=>{e.arrowTypeStart&&KD(t,"start",e.arrowTypeStart,n,r,i),e.arrowTypeEnd&&KD(t,"end",e.arrowTypeEnd,n,r,i)},"addEdgeMarkers"),Zye={arrow_cross:"cross",arrow_point:"point",arrow_barb:"barb",arrow_circle:"circle",aggregation:"aggregation",extension:"extension",composition:"composition",dependency:"dependency",lollipop:"lollipop"},KD=F((t,e,n,r,i,s)=>{const o=Zye[n];if(!o){Je.warn(`Unknown arrow type: ${n}`);return}const a=e==="start"?"Start":"End";t.attr(`marker-${e}`,`url(${r}#${i}_${s}-${o}${a})`)},"addEdgeMarker"),qw=new Map,$i=new Map,ISe=F(()=>{qw.clear(),$i.clear()},"clear"),Oy=F(t=>t?t.reduce((n,r)=>n+";"+r,""):"","getLabelStyles"),Jye=F(async(t,e)=>{let n=Xi(rr().flowchart.htmlLabels);const r=await ng(t,e.label,{style:Oy(e.labelStyle),useHtmlLabels:n,addSvgBackground:!0,isNode:!1});Je.info("abc82",e,e.labelType);const i=t.insert("g").attr("class","edgeLabel"),s=i.insert("g").attr("class","label");s.node().appendChild(r);let o=r.getBBox();if(n){const l=r.children[0],c=nr(r);o=l.getBoundingClientRect(),c.attr("width",o.width),c.attr("height",o.height)}s.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),qw.set(e.id,i),e.width=o.width,e.height=o.height;let a;if(e.startLabelLeft){const l=await Uf(e.startLabelLeft,Oy(e.labelStyle)),c=t.insert("g").attr("class","edgeTerminals"),u=c.insert("g").attr("class","inner");a=u.node().appendChild(l);const f=l.getBBox();u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),$i.get(e.id)||$i.set(e.id,{}),$i.get(e.id).startLeft=c,qy(a,e.startLabelLeft)}if(e.startLabelRight){const l=await Uf(e.startLabelRight,Oy(e.labelStyle)),c=t.insert("g").attr("class","edgeTerminals"),u=c.insert("g").attr("class","inner");a=c.node().appendChild(l),u.node().appendChild(l);const f=l.getBBox();u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),$i.get(e.id)||$i.set(e.id,{}),$i.get(e.id).startRight=c,qy(a,e.startLabelRight)}if(e.endLabelLeft){const l=await Uf(e.endLabelLeft,Oy(e.labelStyle)),c=t.insert("g").attr("class","edgeTerminals"),u=c.insert("g").attr("class","inner");a=u.node().appendChild(l);const f=l.getBBox();u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),c.node().appendChild(l),$i.get(e.id)||$i.set(e.id,{}),$i.get(e.id).endLeft=c,qy(a,e.endLabelLeft)}if(e.endLabelRight){const l=await Uf(e.endLabelRight,Oy(e.labelStyle)),c=t.insert("g").attr("class","edgeTerminals"),u=c.insert("g").attr("class","inner");a=u.node().appendChild(l);const f=l.getBBox();u.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),c.node().appendChild(l),$i.get(e.id)||$i.set(e.id,{}),$i.get(e.id).endRight=c,qy(a,e.endLabelRight)}return r},"insertEdgeLabel");function qy(t,e){rr().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}F(qy,"setTerminalWidth");var Qye=F((t,e)=>{Je.debug("Moving label abc88 ",t.id,t.label,qw.get(t.id),e);let n=e.updatedPath?e.updatedPath:e.originalPath;const r=rr(),{subGraphTitleTotalMargin:i}=k2(r);if(t.label){const s=qw.get(t.id);let o=t.x,a=t.y;if(n){const l=Sl.calcLabelPosition(n);Je.debug("Moving label "+t.label+" from (",o,",",a,") to (",l.x,",",l.y,") abc88"),e.updatedPath&&(o=l.x,a=l.y)}s.attr("transform",`translate(${o}, ${a+i/2})`)}if(t.startLabelLeft){const s=$i.get(t.id).startLeft;let o=t.x,a=t.y;if(n){const l=Sl.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(t.startLabelRight){const s=$i.get(t.id).startRight;let o=t.x,a=t.y;if(n){const l=Sl.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(t.endLabelLeft){const s=$i.get(t.id).endLeft;let o=t.x,a=t.y;if(n){const l=Sl.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}if(t.endLabelRight){const s=$i.get(t.id).endRight;let o=t.x,a=t.y;if(n){const l=Sl.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);o=l.x,a=l.y}s.attr("transform",`translate(${o}, ${a})`)}},"positionEdgeLabel"),e0e=F((t,e)=>{const n=t.x,r=t.y,i=Math.abs(e.x-n),s=Math.abs(e.y-r),o=t.width/2,a=t.height/2;return i>=o||s>=a},"outsideNode"),t0e=F((t,e,n)=>{Je.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(n)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const r=t.x,i=t.y,s=Math.abs(r-n.x),o=t.width/2;let a=n.x<e.x?o-s:o+s;const l=t.height/2,c=Math.abs(e.y-n.y),u=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*o>Math.abs(r-e.x)*l){let f=n.y<e.y?e.y-l-i:i-l-e.y;a=u*f/c;const p={x:n.x<e.x?n.x+a:n.x-u+a,y:n.y<e.y?n.y+c-f:n.y-c+f};return a===0&&(p.x=e.x,p.y=e.y),u===0&&(p.x=e.x),c===0&&(p.y=e.y),Je.debug(`abc89 top/bottom calc, Q ${c}, q ${f}, R ${u}, r ${a}`,p),p}else{n.x<e.x?a=e.x-o-r:a=r-o-e.x;let f=c*a/u,p=n.x<e.x?n.x+u-a:n.x-u+a,m=n.y<e.y?n.y+f:n.y-f;return Je.debug(`sides calc abc89, Q ${c}, q ${f}, R ${u}, r ${a}`,{_x:p,_y:m}),a===0&&(p=e.x,m=e.y),u===0&&(p=e.x),c===0&&(m=e.y),{x:p,y:m}}},"intersection"),ZD=F((t,e)=>{Je.warn("abc88 cutPathAtIntersect",t,e);let n=[],r=t[0],i=!1;return t.forEach(s=>{if(Je.info("abc88 checking point",s,e),!e0e(e,s)&&!i){const o=t0e(e,r,s);Je.debug("abc88 inside",s,r,o),Je.debug("abc88 intersection",o,e);let a=!1;n.forEach(l=>{a=a||l.x===o.x&&l.y===o.y}),n.some(l=>l.x===o.x&&l.y===o.y)?Je.warn("abc88 no intersect",o,n):n.push(o),i=!0}else Je.warn("abc88 outside",s,r),r=s,i||n.push(s)}),Je.debug("returning points",n),n},"cutPathAtIntersect");function sH(t){const e=[],n=[];for(let r=1;r<t.length-1;r++){const i=t[r-1],s=t[r],o=t[r+1];(i.x===s.x&&s.y===o.y&&Math.abs(s.x-o.x)>5&&Math.abs(s.y-i.y)>5||i.y===s.y&&s.x===o.x&&Math.abs(s.x-i.x)>5&&Math.abs(s.y-o.y)>5)&&(e.push(s),n.push(r))}return{cornerPoints:e,cornerPointPositions:n}}F(sH,"extractCornerPoints");var JD=F(function(t,e,n){const r=e.x-t.x,i=e.y-t.y,s=Math.sqrt(r*r+i*i),o=n/s;return{x:e.x-o*r,y:e.y-o*i}},"findAdjacentPoint"),n0e=F(function(t){const{cornerPointPositions:e}=sH(t),n=[];for(let r=0;r<t.length;r++)if(e.includes(r)){const i=t[r-1],s=t[r+1],o=t[r],a=JD(i,o,5),l=JD(s,o,5),c=l.x-a.x,u=l.y-a.y;n.push(a);const f=Math.sqrt(2)*2;let p={x:o.x,y:o.y};if(Math.abs(s.x-i.x)>10&&Math.abs(s.y-i.y)>=10){Je.debug("Corner point fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));const m=5;o.x===a.x?p={x:c<0?a.x-m+f:a.x+m-f,y:u<0?a.y-f:a.y+f}:p={x:c<0?a.x-f:a.x+f,y:u<0?a.y-m+f:a.y+m-f}}else Je.debug("Corner point skipping fixing",Math.abs(s.x-i.x),Math.abs(s.y-i.y));n.push(p,l)}else n.push(t[r]);return n},"fixCorners"),r0e=F(function(t,e,n,r,i,s,o){const{handDrawnSeed:a}=rr();let l=e.points,c=!1;const u=i;var f=s;f.intersect&&u.intersect&&(l=l.slice(1,e.points.length-1),l.unshift(u.intersect(l[0])),Je.debug("Last point APA12",e.start,"-->",e.end,l[l.length-1],f,f.intersect(l[l.length-1])),l.push(f.intersect(l[l.length-1]))),e.toCluster&&(Je.info("to cluster abc88",n.get(e.toCluster)),l=ZD(e.points,n.get(e.toCluster).node),c=!0),e.fromCluster&&(Je.debug("from cluster abc88",n.get(e.fromCluster),JSON.stringify(l,null,2)),l=ZD(l.reverse(),n.get(e.fromCluster).node).reverse(),c=!0);let p=l.filter(N=>!Number.isNaN(N.y));p=n0e(p);let m=I4;e.curve&&(m=e.curve);const{x:_,y:S}=Yye(e),w=ude().x(_).y(S).curve(m);let x;switch(e.thickness){case"normal":x="edge-thickness-normal";break;case"thick":x="edge-thickness-thick";break;case"invisible":x="edge-thickness-invisible";break;default:x="edge-thickness-normal"}switch(e.pattern){case"solid":x+=" edge-pattern-solid";break;case"dotted":x+=" edge-pattern-dotted";break;case"dashed":x+=" edge-pattern-dashed";break;default:x+=" edge-pattern-solid"}let C,T=w(p);const A=Array.isArray(e.style)?e.style:[e.style];if(e.look==="handDrawn"){const N=qt.svg(t);Object.assign([],p);const z=N.path(T,{roughness:.3,seed:a});x+=" transition",C=nr(z).select("path").attr("id",e.id).attr("class"," "+x+(e.classes?" "+e.classes:"")).attr("style",A?A.reduce((I,B)=>I+";"+B,""):"");let D=C.attr("d");C.attr("d",D),t.node().appendChild(C.node())}else C=t.append("path").attr("d",T).attr("id",e.id).attr("class"," "+x+(e.classes?" "+e.classes:"")).attr("style",A?A.reduce((N,z)=>N+";"+z,""):"");let L="";(rr().flowchart.arrowMarkerAbsolute||rr().state.arrowMarkerAbsolute)&&(L=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,L=L.replace(/\(/g,"\\(").replace(/\)/g,"\\)")),Je.info("arrowTypeStart",e.arrowTypeStart),Je.info("arrowTypeEnd",e.arrowTypeEnd),Kye(C,e,L,o,r);let R={};return c&&(R.updatedPath=l),R.originalPath=e.points,R},"insertEdge"),i0e=F((t,e,n,r)=>{e.forEach(i=>{p0e[i](t,n,r)})},"insertMarkers"),s0e=F((t,e,n)=>{Je.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),o0e=F((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),a0e=F((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),l0e=F((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",n+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),c0e=F((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",n+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),u0e=F((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),h0e=F((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),f0e=F((t,e,n)=>{t.append("marker").attr("id",n+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",n+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),d0e=F((t,e,n)=>{t.append("defs").append("marker").attr("id",n+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),p0e={extension:s0e,composition:o0e,aggregation:a0e,dependency:l0e,lollipop:c0e,point:u0e,circle:h0e,cross:f0e,barb:d0e},m0e=i0e,g0e={common:Jm,getConfig:Ka,insertCluster:kye,insertEdge:r0e,insertEdgeLabel:Jye,insertMarkers:m0e,insertNode:iH,interpolateToCurve:j2,labelHelper:dn,log:Je,positionEdgeLabel:Qye},Q0={},oH=F(t=>{for(const e of t)Q0[e.name]=e},"registerLayoutLoaders"),y0e=F(()=>{oH([{name:"dagre",loader:F(async()=>await W(()=>import("./dagre-4EVJKHTY-Ce2o0A1_.js"),__vite__mapDeps([93,94,95,96,97,98])),"loader")}])},"registerDefaultLayoutLoaders");y0e();var DSe=F(async(t,e)=>{if(!(t.layoutAlgorithm in Q0))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const n=Q0[t.layoutAlgorithm];return(await n.loader()).render(t,e,g0e,{algorithm:n.algorithm})},"render"),OSe=F((t="",{fallback:e="dagre"}={})=>{if(t in Q0)return t;if(e in Q0)return Je.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),QD="11.4.1",_0e=F(t=>{var i;const{securityLevel:e}=rr();let n=nr("body");if(e==="sandbox"){const o=((i=nr(`#i${t}`).node())==null?void 0:i.contentDocument)??document;n=nr(o.body)}return n.select(`#${t}`)},"selectSvgElement"),aH="comm",lH="rule",cH="decl",v0e="@import",x0e="@namespace",S0e="@keyframes",w0e="@layer",uH=Math.abs,ck=String.fromCharCode;function hH(t){return t.trim()}function oS(t,e,n){return t.replace(e,n)}function b0e(t,e,n){return t.indexOf(e,n)}function um(t,e){return t.charCodeAt(e)|0}function Nm(t,e,n){return t.slice(e,n)}function yl(t){return t.length}function E0e(t){return t.length}function Fx(t,e){return e.push(t),t}var ub=1,Bm=1,fH=0,ia=0,ii=0,sg="";function uk(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ub,column:Bm,length:o,return:"",siblings:a}}function C0e(){return ii}function T0e(){return ii=ia>0?um(sg,--ia):0,Bm--,ii===10&&(Bm=1,ub--),ii}function Wa(){return ii=ia<fH?um(sg,ia++):0,Bm++,ii===10&&(Bm=1,ub++),ii}function Ku(){return um(sg,ia)}function aS(){return ia}function hb(t,e){return Nm(sg,t,e)}function e_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function M0e(t){return ub=Bm=1,fH=yl(sg=t),ia=0,[]}function A0e(t){return sg="",t}function qC(t){return hH(hb(ia-1,IM(t===91?t+2:t===40?t+1:t)))}function k0e(t){for(;(ii=Ku())&&ii<33;)Wa();return e_(t)>2||e_(ii)>3?"":" "}function R0e(t,e){for(;--e&&Wa()&&!(ii<48||ii>102||ii>57&&ii<65||ii>70&&ii<97););return hb(t,aS()+(e<6&&Ku()==32&&Wa()==32))}function IM(t){for(;Wa();)switch(ii){case t:return ia;case 34:case 39:t!==34&&t!==39&&IM(ii);break;case 40:t===41&&IM(t);break;case 92:Wa();break}return ia}function P0e(t,e){for(;Wa()&&t+ii!==57;)if(t+ii===84&&Ku()===47)break;return"/*"+hb(e,ia-1)+"*"+ck(t===47?t:Wa())}function L0e(t){for(;!e_(Ku());)Wa();return hb(t,ia)}function I0e(t){return A0e(lS("",null,null,null,[""],t=M0e(t),0,[0],t))}function lS(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,f=o,p=0,m=0,_=0,S=1,w=1,x=1,C=0,T="",A=i,L=s,R=r,N=T;w;)switch(_=C,C=Wa()){case 40:if(_!=108&&um(N,f-1)==58){b0e(N+=oS(qC(C),"&","&\f"),"&\f",uH(c?a[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:N+=qC(C);break;case 9:case 10:case 13:case 32:N+=k0e(_);break;case 92:N+=R0e(aS()-1,7);continue;case 47:switch(Ku()){case 42:case 47:Fx(D0e(P0e(Wa(),aS()),e,n,l),l),(e_(_||1)==5||e_(Ku()||1)==5)&&yl(N)&&Nm(N,-1,void 0)!==" "&&(N+=" ");break;default:N+="/"}break;case 123*S:a[c++]=yl(N)*x;case 125*S:case 59:case 0:switch(C){case 0:case 125:w=0;case 59+u:x==-1&&(N=oS(N,/\f/g,"")),m>0&&(yl(N)-f||S===0&&_===47)&&Fx(m>32?tO(N+";",r,n,f-1,l):tO(oS(N," ","")+";",r,n,f-2,l),l);break;case 59:N+=";";default:if(Fx(R=eO(N,e,n,c,u,i,a,T,A=[],L=[],f,s),s),C===123)if(u===0)lS(N,e,R,R,A,s,f,a,L);else{switch(p){case 99:if(um(N,3)===110)break;case 108:if(um(N,2)===97)break;default:u=0;case 100:case 109:case 115:}u?lS(t,R,R,r&&Fx(eO(t,R,R,0,0,i,a,T,i,A=[],f,L),L),i,L,f,a,r?A:L):lS(N,R,R,R,[""],L,0,a,L)}}c=u=m=0,S=x=1,T=N="",f=o;break;case 58:f=1+yl(N),m=_;default:if(S<1){if(C==123)--S;else if(C==125&&S++==0&&T0e()==125)continue}switch(N+=ck(C),C*S){case 38:x=u>0?1:(N+="\f",-1);break;case 44:a[c++]=(yl(N)-1)*x,x=1;break;case 64:Ku()===45&&(N+=qC(Wa())),p=Ku(),u=f=yl(T=N+=L0e(aS())),C++;break;case 45:_===45&&yl(N)==2&&(S=0)}}return s}function eO(t,e,n,r,i,s,o,a,l,c,u,f){for(var p=i-1,m=i===0?s:[""],_=E0e(m),S=0,w=0,x=0;S<r;++S)for(var C=0,T=Nm(t,p+1,p=uH(w=o[S])),A=t;C<_;++C)(A=hH(w>0?m[C]+" "+T:oS(T,/&\f/g,m[C])))&&(l[x++]=A);return uk(t,e,n,i===0?lH:a,l,c,u,f)}function D0e(t,e,n,r){return uk(t,e,n,aH,ck(C0e()),Nm(t,2,-2),0,r)}function tO(t,e,n,r,i){return uk(t,e,n,cH,Nm(t,0,r),Nm(t,r+1,-1),r,i)}function DM(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function O0e(t,e,n,r){switch(t.type){case w0e:if(t.children.length)break;case v0e:case x0e:case cH:return t.return=t.return||t.value;case aH:return"";case S0e:return t.return=t.value+"{"+DM(t.children,r)+"}";case lH:if(!yl(t.value=t.props.join(",")))return""}return yl(n=DM(t.children,r))?t.return=t.value+"{"+n+"}":""}var N0e=q4(Object.keys,Object),B0e=Object.prototype,F0e=B0e.hasOwnProperty;function z0e(t){if(!tb(t))return N0e(t);var e=[];for(var n in Object(t))F0e.call(t,n)&&n!="constructor"&&e.push(n);return e}var OM=pd(Nl,"DataView"),NM=pd(Nl,"Promise"),BM=pd(Nl,"Set"),FM=pd(Nl,"WeakMap"),nO="[object Map]",U0e="[object Object]",rO="[object Promise]",iO="[object Set]",sO="[object WeakMap]",oO="[object DataView]",V0e=dd(OM),H0e=dd(J0),W0e=dd(NM),G0e=dd(BM),$0e=dd(FM),Cf=Qm;(OM&&Cf(new OM(new ArrayBuffer(1)))!=oO||J0&&Cf(new J0)!=nO||NM&&Cf(NM.resolve())!=rO||BM&&Cf(new BM)!=iO||FM&&Cf(new FM)!=sO)&&(Cf=function(t){var e=Qm(t),n=e==U0e?t.constructor:void 0,r=n?dd(n):"";if(r)switch(r){case V0e:return oO;case H0e:return nO;case W0e:return rO;case G0e:return iO;case $0e:return sO}return e});var j0e="[object Map]",q0e="[object Set]",X0e=Object.prototype,Y0e=X0e.hasOwnProperty;function aO(t){if(t==null)return!0;if(nb(t)&&(Fw(t)||typeof t=="string"||typeof t.splice=="function"||G2(t)||$2(t)||Bw(t)))return!t.length;var e=Cf(t);if(e==j0e||e==q0e)return!t.size;if(tb(t))return!z0e(t).length;for(var n in t)if(Y0e.call(t,n))return!1;return!0}var dH="c4",K0e=F(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Z0e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./c4Diagram-6F5ED5ID-ZWAnA0Ny.js");return{diagram:e}},__vite__mapDeps([99,100]));return{id:dH,diagram:t}},"loader"),J0e={id:dH,detector:K0e,loader:Z0e},Q0e=J0e,pH="flowchart",e_e=F((t,e)=>{var n,r;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),t_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./flowDiagram-7ASYPVHJ-VdFx3Bfz.js");return{diagram:e}},__vite__mapDeps([101,102,103]));return{id:pH,diagram:t}},"loader"),n_e={id:pH,detector:e_e,loader:t_e},r_e=n_e,mH="flowchart-v2",i_e=F((t,e)=>{var n,r,i;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"?!1:(((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),s_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./flowDiagram-7ASYPVHJ-VdFx3Bfz.js");return{diagram:e}},__vite__mapDeps([101,102,103]));return{id:mH,diagram:t}},"loader"),o_e={id:mH,detector:i_e,loader:s_e},a_e=o_e,gH="er",l_e=F(t=>/^\s*erDiagram/.test(t),"detector"),c_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./erDiagram-6RL3IURR-BzndK-6j.js");return{diagram:e}},__vite__mapDeps([104,94,95,96,97]));return{id:gH,diagram:t}},"loader"),u_e={id:gH,detector:l_e,loader:c_e},h_e=u_e,yH="gitGraph",f_e=F(t=>/^\s*gitGraph/.test(t),"detector"),d_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./gitGraphDiagram-NRZ2UAAF-Cs8MrPho.js");return{diagram:e}},__vite__mapDeps([105,106,107,108,95,97,98]));return{id:yH,diagram:t}},"loader"),p_e={id:yH,detector:f_e,loader:d_e},m_e=p_e,_H="gantt",g_e=F(t=>/^\s*gantt/.test(t),"detector"),y_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./ganttDiagram-NTVNEXSI-DrjpmHcC.js");return{diagram:e}},__vite__mapDeps([109,110,111]));return{id:_H,diagram:t}},"loader"),__e={id:_H,detector:g_e,loader:y_e},v_e=__e,vH="info",x_e=F(t=>/^\s*info/.test(t),"detector"),S_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./infoDiagram-A4XQUW5V-DgjHs451.js");return{diagram:e}},__vite__mapDeps([112,108,95,97,98]));return{id:vH,diagram:t}},"loader"),w_e={id:vH,detector:x_e,loader:S_e},xH="pie",b_e=F(t=>/^\s*pie/.test(t),"detector"),E_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./pieDiagram-YF2LJOPJ-e8h6M-2i.js");return{diagram:e}},__vite__mapDeps([113,106,108,95,97,98,114,115,111]));return{id:xH,diagram:t}},"loader"),C_e={id:xH,detector:b_e,loader:E_e},SH="quadrantChart",T_e=F(t=>/^\s*quadrantChart/.test(t),"detector"),M_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./quadrantDiagram-OS5C2QUG-kd1oET7Q.js");return{diagram:e}},__vite__mapDeps([116,110,111]));return{id:SH,diagram:t}},"loader"),A_e={id:SH,detector:T_e,loader:M_e},k_e=A_e,wH="xychart",R_e=F(t=>/^\s*xychart-beta/.test(t),"detector"),P_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./xychartDiagram-6QU3TZC5-DUQHjclu.js");return{diagram:e}},__vite__mapDeps([117,111,115,110]));return{id:wH,diagram:t}},"loader"),L_e={id:wH,detector:R_e,loader:P_e},I_e=L_e,bH="requirement",D_e=F(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),O_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./requirementDiagram-MIRIMTAZ-ijiR_b1M.js");return{diagram:e}},__vite__mapDeps([118,94,95,96,97]));return{id:bH,diagram:t}},"loader"),N_e={id:bH,detector:D_e,loader:O_e},B_e=N_e,EH="sequence",F_e=F(t=>/^\s*sequenceDiagram/.test(t),"detector"),z_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./sequenceDiagram-G6AWOVSC-CsVOBw1t.js");return{diagram:e}},__vite__mapDeps([119,100,107]));return{id:EH,diagram:t}},"loader"),U_e={id:EH,detector:F_e,loader:z_e},V_e=U_e,CH="class",H_e=F((t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),W_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./classDiagram-LNE6IOMH-BZ0llhhm.js");return{diagram:e}},__vite__mapDeps([120,121,102]));return{id:CH,diagram:t}},"loader"),G_e={id:CH,detector:H_e,loader:W_e},$_e=G_e,TH="classDiagram",j_e=F((t,e)=>{var n;return/^\s*classDiagram/.test(t)&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),q_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./classDiagram-v2-MQ7JQ4JX-BZ0llhhm.js");return{diagram:e}},__vite__mapDeps([122,121,102]));return{id:TH,diagram:t}},"loader"),X_e={id:TH,detector:j_e,loader:q_e},Y_e=X_e,MH="state",K_e=F((t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),Z_e=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./stateDiagram-MAYHULR4-Cqp40-x0.js");return{diagram:e}},__vite__mapDeps([123,124,102,94,95,96,97]));return{id:MH,diagram:t}},"loader"),J_e={id:MH,detector:K_e,loader:Z_e},Q_e=J_e,AH="stateDiagram",eve=F((t,e)=>{var n;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper")},"detector"),tve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./stateDiagram-v2-4JROLMXI-BwOfQA_T.js");return{diagram:e}},__vite__mapDeps([125,124,102]));return{id:AH,diagram:t}},"loader"),nve={id:AH,detector:eve,loader:tve},rve=nve,kH="journey",ive=F(t=>/^\s*journey/.test(t),"detector"),sve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./journeyDiagram-G5WM74LC-BbIrCy_r.js");return{diagram:e}},__vite__mapDeps([126,100,114]));return{id:kH,diagram:t}},"loader"),ove={id:kH,detector:ive,loader:sve},ave=ove,lve=F((t,e,n)=>{Je.debug(`rendering svg for syntax error
`);const r=_0e(e),i=r.append("g");r.attr("viewBox","0 0 2412 512"),yz(r,100,512,!0),i.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),i.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),i.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),i.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),i.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),i.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),i.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),i.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${n}`)},"draw"),RH={draw:lve},cve=RH,uve={db:{},renderer:RH,parser:{parse:F(()=>{},"parse")}},hve=uve,PH="flowchart-elk",fve=F((t,e={})=>{var n;return/^\s*flowchart-elk/.test(t)||/^\s*flowchart|graph/.test(t)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),dve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./flowDiagram-7ASYPVHJ-VdFx3Bfz.js");return{diagram:e}},__vite__mapDeps([101,102,103]));return{id:PH,diagram:t}},"loader"),pve={id:PH,detector:fve,loader:dve},mve=pve,LH="timeline",gve=F(t=>/^\s*timeline/.test(t),"detector"),yve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./timeline-definition-U7ZMHBDA-DFRcUfQc.js");return{diagram:e}},__vite__mapDeps([127,114]));return{id:LH,diagram:t}},"loader"),_ve={id:LH,detector:gve,loader:yve},vve=_ve,IH="mindmap",xve=F(t=>/^\s*mindmap/.test(t),"detector"),Sve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./mindmap-definition-GWI6TPTV-DuicP280.js");return{diagram:e}},__vite__mapDeps([128,129]));return{id:IH,diagram:t}},"loader"),wve={id:IH,detector:xve,loader:Sve},bve=wve,DH="kanban",Eve=F(t=>/^\s*kanban/.test(t),"detector"),Cve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./kanban-definition-QRCXZQQD-Cj03k0Pq.js");return{diagram:e}},[]);return{id:DH,diagram:t}},"loader"),Tve={id:DH,detector:Eve,loader:Cve},Mve=Tve,OH="sankey",Ave=F(t=>/^\s*sankey-beta/.test(t),"detector"),kve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./sankeyDiagram-Y46BX6SQ-OCvUZC2Z.js");return{diagram:e}},__vite__mapDeps([130,115,111]));return{id:OH,diagram:t}},"loader"),Rve={id:OH,detector:Ave,loader:kve},Pve=Rve,NH="packet",Lve=F(t=>/^\s*packet-beta/.test(t),"detector"),Ive=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./diagram-QW4FP2JN-D7fqFx_F.js");return{diagram:e}},__vite__mapDeps([131,106,108,95,97,98]));return{id:NH,diagram:t}},"loader"),Dve={id:NH,detector:Lve,loader:Ive},BH="block",Ove=F(t=>/^\s*block-beta/.test(t),"detector"),Nve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./blockDiagram-ZHA2E4KO-DhurM3J3.js");return{diagram:e}},__vite__mapDeps([132,98,95,94,103]));return{id:BH,diagram:t}},"loader"),Bve={id:BH,detector:Ove,loader:Nve},Fve=Bve,FH="architecture",zve=F(t=>/^\s*architecture/.test(t),"detector"),Uve=F(async()=>{const{diagram:t}=await W(async()=>{const{diagram:e}=await import("./architectureDiagram-UYN6MBPD-4H6-RYpr.js");return{diagram:e}},__vite__mapDeps([133,106,107,108,95,97,98,129]));return{id:FH,diagram:t}},"loader"),Vve={id:FH,detector:zve,loader:Uve},Hve=Vve,lO=!1,fb=F(()=>{lO||(lO=!0,_w("error",hve,t=>t.toLowerCase().trim()==="error"),_w("---",{db:{clear:F(()=>{},"clear")},styles:{},renderer:{draw:F(()=>{},"draw")},parser:{parse:F(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:F(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),iz(Q0e,Mve,Y_e,$_e,h_e,v_e,w_e,C_e,B_e,V_e,mve,a_e,r_e,bve,vve,m_e,rve,Q_e,ave,k_e,Pve,Dve,I_e,Fve,Hve))},"addDiagrams"),Wve=F(async()=>{Je.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(Mm).map(async([n,{detector:r,loader:i}])=>{if(i)try{ZT(n)}catch{try{const{diagram:s,id:o}=await i();_w(o,s,r)}catch(s){throw Je.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete Mm[n],s}}}))).filter(n=>n.status==="rejected");if(e.length>0){Je.error(`Failed to load ${e.length} external diagrams`);for(const n of e)Je.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),Gve="graphics-document document";function zH(t,e){t.attr("role",Gve),e!==""&&t.attr("aria-roledescription",e)}F(zH,"setA11yDiagramInfo");function UH(t,e,n,r){if(t.insert!==void 0){if(n){const i=`chart-desc-${r}`;t.attr("aria-describedby",i),t.insert("desc",":first-child").attr("id",i).text(n)}if(e){const i=`chart-title-${r}`;t.attr("aria-labelledby",i),t.insert("title",":first-child").attr("id",i).text(e)}}}F(UH,"addSVGa11yTitleDescription");var qf,zM=(qf=class{constructor(e,n,r,i,s){this.type=e,this.text=n,this.db=r,this.parser=i,this.renderer=s}static async fromText(e,n={}){var c,u;const r=Ka(),i=g2(e,r);e=xge(e)+`
`;try{ZT(i)}catch{const f=yae(i);if(!f)throw new rz(`Diagram ${i} not found.`);const{id:p,diagram:m}=await f();_w(p,m)}const{db:s,parser:o,renderer:a,init:l}=ZT(i);return o.parser&&(o.parser.yy=s),(c=s.clear)==null||c.call(s),l==null||l(r),n.title&&((u=s.setDiagramTitle)==null||u.call(s,n.title)),await o.parse(e),new qf(i,e,s,o,a)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}},F(qf,"Diagram"),qf),cO=[],$ve=F(()=>{cO.forEach(t=>{t()}),cO=[]},"attachFunctions"),jve=F(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function VH(t){const e=t.match(nz);if(!e)return{text:t,metadata:{}};let n=gce(e[1],{schema:mce})??{};n=typeof n=="object"&&!Array.isArray(n)?n:{};const r={};return n.displayMode&&(r.displayMode=n.displayMode.toString()),n.title&&(r.title=n.title.toString()),n.config&&(r.config=n.config),{text:t.slice(e[0].length),metadata:r}}F(VH,"extractFrontMatter");var qve=F(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,n,r)=>"<"+n+r.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Xve=F(t=>{const{text:e,metadata:n}=VH(t),{displayMode:r,title:i,config:s={}}=n;return r&&(s.gantt||(s.gantt={}),s.gantt.displayMode=r),{title:i,config:s,text:e}},"processFrontmatter"),Yve=F(t=>{const e=Sl.detectInit(t)??{},n=Sl.detectDirective(t,"wrap");return Array.isArray(n)?e.wrap=n.some(({type:r})=>r==="wrap"):(n==null?void 0:n.type)==="wrap"&&(e.wrap=!0),{text:age(t),directive:e}},"processDirectives");function hk(t){const e=qve(t),n=Xve(e),r=Yve(n.text),i=Z2(n.config,r.directive);return t=jve(r.text),{code:t,title:n.title,config:i}}F(hk,"preprocessDiagram");function HH(t){const e=new TextEncoder().encode(t),n=Array.from(e,r=>String.fromCodePoint(r)).join("");return btoa(n)}F(HH,"toBase64");var Kve=5e4,Zve="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",Jve="sandbox",Qve="loose",exe="http://www.w3.org/2000/svg",txe="http://www.w3.org/1999/xlink",nxe="http://www.w3.org/1999/xhtml",rxe="100%",ixe="100%",sxe="border:0;margin:0;",oxe="margin:0",axe="allow-top-navigation-by-user-activation allow-popups",lxe='The "iframe" tag is not supported by your browser.',cxe=["foreignobject"],uxe=["dominant-baseline"];function fk(t){const e=hk(t);return gw(),Iae(e.config??{}),e}F(fk,"processAndSetConfigs");async function WH(t,e){fb();try{const{code:n,config:r}=fk(t);return{diagramType:(await $H(n)).type,config:r}}catch(n){if(e!=null&&e.suppressErrors)return!1;throw n}}F(WH,"parse");var uO=F((t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,"cssImportantStyles"),hxe=F((t,e=new Map)=>{var r;let n="";if(t.themeCSS!==void 0&&(n+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(n+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(n+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const a=t.htmlLabels??((r=t.flowchart)==null?void 0:r.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(l=>{aO(l.styles)||a.forEach(c=>{n+=uO(l.id,c,l.styles)}),aO(l.textStyles)||(n+=uO(l.id,"tspan",((l==null?void 0:l.textStyles)||[]).map(c=>c.replace("color","fill"))))})}return n},"createCssStyles"),fxe=F((t,e,n,r)=>{const i=hxe(t,n),s=Jae(e,i,t.themeVariables);return DM(I0e(`${r}{${s}}`),O0e)},"createUserStyles"),dxe=F((t="",e,n)=>{let r=t;return!n&&!e&&(r=r.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),r=tg(r),r=r.replace(/<br>/g,"<br/>"),r},"cleanUpSvgCode"),pxe=F((t="",e)=>{var i,s;const n=(s=(i=e==null?void 0:e.viewBox)==null?void 0:i.baseVal)!=null&&s.height?e.viewBox.baseVal.height+"px":ixe,r=HH(`<body style="${oxe}">${t}</body>`);return`<iframe style="width:${rxe};height:${n};${sxe}" src="data:text/html;charset=UTF-8;base64,${r}" sandbox="${axe}">
  ${lxe}
</iframe>`},"putIntoIFrame"),hO=F((t,e,n,r,i)=>{const s=t.append("div");s.attr("id",n),r&&s.attr("style",r);const o=s.append("svg").attr("id",e).attr("width","100%").attr("xmlns",exe);return i&&o.attr("xmlns:xlink",i),o.append("g"),t},"appendDivSvgG");function UM(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}F(UM,"sandboxedIframe");var mxe=F((t,e,n,r)=>{var i,s,o;(i=t.getElementById(e))==null||i.remove(),(s=t.getElementById(n))==null||s.remove(),(o=t.getElementById(r))==null||o.remove()},"removeExistingElements"),gxe=F(async function(t,e,n){var q,K,j,J,$,ie;fb();const r=fk(e);e=r.code;const i=Ka();Je.debug(i),e.length>((i==null?void 0:i.maxTextSize)??Kve)&&(e=Zve);const s="#"+t,o="i"+t,a="#"+o,l="d"+t,c="#"+l,u=F(()=>{const ee=nr(p?a:c).node();ee&&"remove"in ee&&ee.remove()},"removeTempElements");let f=nr("body");const p=i.securityLevel===Jve,m=i.securityLevel===Qve,_=i.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),p){const U=UM(nr(n),o);f=nr(U.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=nr(n);hO(f,t,l,`font-family: ${_}`,txe)}else{if(mxe(document,t,l,o),p){const U=UM(nr("body"),o);f=nr(U.nodes()[0].contentDocument.body),f.node().style.margin=0}else f=nr("body");hO(f,t,l)}let S,w;try{S=await zM.fromText(e,{title:r.title})}catch(U){if(i.suppressErrorRendering)throw u(),U;S=await zM.fromText("error"),w=U}const x=f.select(c).node(),C=S.type,T=x.firstChild,A=T.firstChild,L=(K=(q=S.renderer).getClasses)==null?void 0:K.call(q,e,S),R=fxe(i,C,L,s),N=document.createElement("style");N.innerHTML=R,T.insertBefore(N,A);try{await S.renderer.draw(e,t,QD,S)}catch(U){throw i.suppressErrorRendering?u():cve.draw(e,t,QD),U}const z=f.select(`${c} svg`),D=(J=(j=S.db).getAccTitle)==null?void 0:J.call(j),I=(ie=($=S.db).getAccDescription)==null?void 0:ie.call($);jH(C,z,D,I),f.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",nxe);let B=f.select(c).node().innerHTML;if(Je.debug("config.arrowMarkerAbsolute",i.arrowMarkerAbsolute),B=dxe(B,p,Xi(i.arrowMarkerAbsolute)),p){const U=f.select(c+" svg").node();B=pxe(B,U)}else m||(B=Tm.sanitize(B,{ADD_TAGS:cxe,ADD_ATTR:uxe,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if($ve(),w)throw w;return u(),{diagramType:C,svg:B,bindFunctions:S.db.bindFunctions}},"render");function GH(t={}){var r;const e=ji({},t);e!=null&&e.fontFamily&&!((r=e.themeVariables)!=null&&r.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Pae(e),e!=null&&e.theme&&e.theme in Uc?e.themeVariables=Uc[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Uc.default.getThemeVariables(e.themeVariables));const n=typeof e=="object"?Rae(e):uz();m2(n.logLevel),fb()}F(GH,"initialize");var $H=F((t,e={})=>{const{code:n}=hk(t);return zM.fromText(n,e)},"getDiagramFromText");function jH(t,e,n,r){zH(e,t),UH(e,n,r,e.attr("id"))}F(jH,"addA11yInfo");var sd=Object.freeze({render:gxe,parse:WH,getDiagramFromText:$H,initialize:GH,getConfig:Ka,setConfig:hz,getSiteConfig:uz,updateSiteConfig:Lae,reset:F(()=>{gw()},"reset"),globalReset:F(()=>{gw(Am)},"globalReset"),defaultConfig:Am});m2(Ka().logLevel);gw(Ka());var yxe=F((t,e,n)=>{Je.warn(t),K2(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),qH=F(async function(t={querySelector:".mermaid"}){try{await _xe(t)}catch(e){if(K2(e)&&Je.error(e.str),Lo.parseError&&Lo.parseError(e),!t.suppressErrors)throw Je.error("Use the suppressErrors option to suppress these errors"),e}},"run"),_xe=F(async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const r=sd.getConfig();Je.debug(`${t?"":"No "}Callback function found`);let i;if(n)i=n;else if(e)i=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");Je.debug(`Found ${i.length} diagrams`),(r==null?void 0:r.startOnLoad)!==void 0&&(Je.debug("Start On Load: "+(r==null?void 0:r.startOnLoad)),sd.updateSiteConfig({startOnLoad:r==null?void 0:r.startOnLoad}));const s=new Sl.InitIDGenerator(r.deterministicIds,r.deterministicIDSeed);let o;const a=[];for(const l of Array.from(i)){if(Je.info("Rendering diagram: "+l.id),l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${s.next()}`;o=l.innerHTML,o=E5(Sl.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const u=Sl.detectInit(o);u&&Je.debug("Detected early reinit: ",u);try{const{svg:f,bindFunctions:p}=await ZH(c,o,l);l.innerHTML=f,t&&await t(c),p&&p(l)}catch(f){yxe(f,a,Lo.parseError)}}if(a.length>0)throw a[0]},"runThrowsErrors"),XH=F(function(t){sd.initialize(t)},"initialize"),vxe=F(async function(t,e,n){Je.warn("mermaid.init is deprecated. Please use run instead."),t&&XH(t);const r={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?r.querySelector=e:e&&(e instanceof HTMLElement?r.nodes=[e]:r.nodes=e),await qH(r)},"init"),xxe=F(async(t,{lazyLoad:e=!0}={})=>{fb(),iz(...t),e===!1&&await Wve()},"registerExternalDiagrams"),YH=F(function(){if(Lo.startOnLoad){const{startOnLoad:t}=sd.getConfig();t&&Lo.run().catch(e=>Je.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",YH,!1);var Sxe=F(function(t){Lo.parseError=t},"setParseErrorHandler"),Xw=[],XC=!1,KH=F(async()=>{if(!XC){for(XC=!0;Xw.length>0;){const t=Xw.shift();if(t)try{await t()}catch(e){Je.error("Error executing queue",e)}}XC=!1}},"executeQueue"),wxe=F(async(t,e)=>new Promise((n,r)=>{const i=F(()=>new Promise((s,o)=>{sd.parse(t,e).then(a=>{s(a),n(a)},a=>{var l;Je.error("Error parsing",a),(l=Lo.parseError)==null||l.call(Lo,a),o(a),r(a)})}),"performCall");Xw.push(i),KH().catch(r)}),"parse"),ZH=F((t,e,n)=>new Promise((r,i)=>{const s=F(()=>new Promise((o,a)=>{sd.render(t,e,n).then(l=>{o(l),r(l)},l=>{var c;Je.error("Error parsing",l),(c=Lo.parseError)==null||c.call(Lo,l),a(l),i(l)})}),"performCall");Xw.push(s),KH().catch(i)}),"render"),Lo={startOnLoad:!0,mermaidAPI:sd,parse:wxe,render:ZH,init:vxe,run:qH,registerExternalDiagrams:xxe,registerLayoutLoaders:oH,initialize:XH,parseError:void 0,contentLoaded:YH,setParseErrorHandler:Sxe,detectType:g2,registerIconPacks:Fce},fO=Lo;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */const bxe=({code:t})=>(Re.useEffect(()=>{fO.initialize({startOnLoad:!0}),fO.contentLoaded()},[t]),ne.jsx("div",{className:"mermaid flex justify-center items-center",children:t})),Exe=({code:t="",languege:e})=>{const[n,r]=Re.useState("");return Re.useEffect(()=>{Noe({themes:["github-dark"],langs:[e]}).then(i=>{r(i.codeToHtml(t??"",{lang:e,theme:"github-dark"}))})},[t,e]),ne.jsx("div",{dangerouslySetInnerHTML:{__html:n},className:"rounded-lg bg-[#24292e] p-4 overflow-auto shadow-lg shadow-gray-700"})},Cxe=({code:t="",languege:e})=>{const n=async()=>{navigator.clipboard.writeText(t).then(()=>{alert("Copied!")})};return ne.jsxs("div",{className:vi("relative py-4",`language-${e}`),children:[ne.jsx("button",{className:"absolute right-2 top-4 text-sm text-white py-1 px-2",onClick:n,children:"Copy"}),WA(e).with("mermaid",()=>ne.jsx(bxe,{code:t})).otherwise(()=>ne.jsx(Exe,{code:t,languege:e}))]})},Txe=t=>{const{content:e}=t;return ne.jsx(tF,{skipHtml:!0,components:{h1:({children:n})=>ne.jsx("h1",{className:"font-bold pb-1",children:n}),h2:({children:n})=>ne.jsx("h2",{children:n}),h3:({children:n})=>ne.jsx(bx,{token:"heading-3",children:n}),h4:({children:n})=>ne.jsx(bx,{token:"heading-4",children:n}),h5:({children:n})=>ne.jsx(bx,{token:"heading-5",children:n}),h6:({children:n})=>ne.jsx(bx,{token:"heading-6",children:n}),pre:n=>{const r=n.children,{className:i,children:s}=r.props;return ne.jsx(Cxe,{languege:(i==null?void 0:i.split("-").slice(1).join(""))??"javascript",code:s})}},children:e})},Mxe=sa("/_layout/til/$category/$slug")({component:Axe,loader:async({params:t})=>{const{category:e,slug:n}=t,r=Object.assign({"/modules/til/README.md":()=>W(()=>import("./README-DykMFFJv.js"),[]),"/modules/til/algorithm/depth-first-search-algorithm.md":()=>W(()=>import("./depth-first-search-algorithm-BMWYRExo.js"),[]),"/modules/til/algorithm/implementation-algorithm.md":()=>W(()=>import("./implementation-algorithm-DfLbb9cB.js"),[]),"/modules/til/algorithm/prefix-sum-algorithm.md":()=>W(()=>import("./prefix-sum-algorithm-Dfng_BzL.js"),[]),"/modules/til/algorithm/tortoise-and-hare-algorithm.md":()=>W(()=>import("./tortoise-and-hare-algorithm-CjOG0uw0.js"),[]),"/modules/til/algorithm/two-pointer-algorithm.md":()=>W(()=>import("./two-pointer-algorithm-CLHJq17w.js"),[]),"/modules/til/browser/2024-05-new-feature-of-chrome.md":()=>W(()=>import("./2024-05-new-feature-of-chrome-CzPv7188.js"),[]),"/modules/til/browser/checking-the-console-log-in-mobile-chrome.md":()=>W(()=>import("./checking-the-console-log-in-mobile-chrome-CFcLwKOv.js"),[]),"/modules/til/browser/how-to-work-browser.md":()=>W(()=>import("./how-to-work-browser-EKLheUzn.js"),[]),"/modules/til/browser/page-visibility-api.md":()=>W(()=>import("./page-visibility-api-DAvZROcT.js"),[]),"/modules/til/browser/reflow-and-repaint.md":()=>W(()=>import("./reflow-and-repaint-BPI55m7W.js"),[]),"/modules/til/browser/service-worker/index.md":()=>W(()=>import("./index-C366xp1n.js"),[]),"/modules/til/browser/view-in-html-Layer-3d.md":()=>W(()=>import("./view-in-html-Layer-3d-ByFXdY4R.js"),[]),"/modules/til/cli/bat.md":()=>W(()=>import("./bat-hEEFrtDn.js"),[]),"/modules/til/cli/concurrently_js.md":()=>W(()=>import("./concurrently_js-CU0kIhDJ.js"),[]),"/modules/til/cli/latest-unix-tools.md":()=>W(()=>import("./latest-unix-tools-D8nulVIg.js"),[]),"/modules/til/conference/deview-2024.md":()=>W(()=>import("./deview-2024-DXCc7f76.js"),[]),"/modules/til/cs/aot_and_jit_compiler.md":()=>W(()=>import("./aot_and_jit_compiler-ucLMeywv.js"),[]),"/modules/til/cs/ast.md":()=>W(()=>import("./ast-DTJHZKKt.js"),[]),"/modules/til/cs/how-to-change-kernel-parameters.md":()=>W(()=>import("./how-to-change-kernel-parameters-Jq_tlAhm.js"),[]),"/modules/til/cs/how-to-check-system-uptime-and-system-load.md":()=>W(()=>import("./how-to-check-system-uptime-and-system-load-CIB2e9TI.js"),[]),"/modules/til/cs/machine-learning.md":()=>W(()=>import("./machine-learning-CUPCXFdZ.js"),[]),"/modules/til/cs/optical-character-recognition.md":()=>W(()=>import("./optical-character-recognition-yi9PWSoU.js"),[]),"/modules/til/css/about-css-pseudo-class-the-empty.md":()=>W(()=>import("./about-css-pseudo-class-the-empty-CEn_xm9h.js"),[]),"/modules/til/css/accent-color.md":()=>W(()=>import("./accent-color-DhIGlJvs.js"),[]),"/modules/til/css/animation.md":()=>W(()=>import("./animation-DZuZvVKT.js"),[]),"/modules/til/css/at-rules-page.md":()=>W(()=>import("./at-rules-page-B6IELN11.js"),[]),"/modules/til/css/backdrop-filter.md":()=>W(()=>import("./backdrop-filter-cFhIn7EL.js"),[]),"/modules/til/css/background-position.md":()=>W(()=>import("./background-position-CWHNWblp.js"),[]),"/modules/til/css/box-shadow.md":()=>W(()=>import("./box-shadow-B8WmM7d5.js"),[]),"/modules/til/css/break-afeter-and-before-and-inside.md":()=>W(()=>import("./break-afeter-and-before-and-inside-DAjw_PBL.js"),[]),"/modules/til/css/clamp.md":()=>W(()=>import("./clamp-LtQb0jby.js"),[]),"/modules/til/css/color-scheme.md":()=>W(()=>import("./color-scheme-fTPwzFnb.js"),[]),"/modules/til/css/conic-gradient.md":()=>W(()=>import("./conic-gradient-DenS-iGK.js"),[]),"/modules/til/css/css-functions.md":()=>W(()=>import("./css-functions-BNqgh3gN.js"),[]),"/modules/til/css/flexbox.md":()=>W(()=>import("./flexbox-oHDFa6jf.js"),[]),"/modules/til/css/focus-within-and-focus-visible.md":()=>W(()=>import("./focus-within-and-focus-visible-KtvGpzbe.js"),[]),"/modules/til/css/foit-and-fout.md":()=>W(()=>import("./foit-and-fout-jXCGgtdg.js"),[]),"/modules/til/css/font-size.md":()=>W(()=>import("./font-size-1pKPVcLL.js"),[]),"/modules/til/css/grid.md":()=>W(()=>import("./grid-CcN3MfZW.js"),[]),"/modules/til/css/how-to-maintain-the-image-ratio.md":()=>W(()=>import("./how-to-maintain-the-image-ratio-YeWA-_5J.js"),[]),"/modules/til/css/hsl.md":()=>W(()=>import("./hsl-JvWEp4B-.js"),[]),"/modules/til/css/ios-safe-area.md":()=>W(()=>import("./ios-safe-area-DbJfvWj3.js"),[]),"/modules/til/css/object-fit.md":()=>W(()=>import("./object-fit-BsdoT9Mn.js"),[]),"/modules/til/css/placeholder-shown.md":()=>W(()=>import("./placeholder-shown-C6M3Qu-Z.js"),[]),"/modules/til/css/pseudo-class-lang.md":()=>W(()=>import("./pseudo-class-lang-BJvLLkMe.js"),[]),"/modules/til/css/replaced-elements.md":()=>W(()=>import("./replaced-elements-Dn0CS78B.js"),[]),"/modules/til/css/tailwind-css.md":()=>W(()=>import("./tailwind-css-DkCQ76ER.js"),[]),"/modules/til/css/typography.md":()=>W(()=>import("./typography-CPz2YMsh.js"),[]),"/modules/til/css/writing-mode.md":()=>W(()=>import("./writing-mode-DD6SOOsr.js"),[]),"/modules/til/database/basic-of-partitioning.md":()=>W(()=>import("./basic-of-partitioning-DdB8hvGW.js"),[]),"/modules/til/docker/docker-compose.md":()=>W(()=>import("./docker-compose-DDBTfHBE.js"),[]),"/modules/til/editor/auto-nvm-use-in-zsh.md":()=>W(()=>import("./auto-nvm-use-in-zsh-BJnY3BiT.js"),[]),"/modules/til/editor/autocomplete-commit-message-in-vscode-with-copilot.md":()=>W(()=>import("./autocomplete-commit-message-in-vscode-with-copilot-Dgaa3HGW.js"),[]),"/modules/til/editor/git-shortcuts-command-in-zsh.md":()=>W(()=>import("./git-shortcuts-command-in-zsh-XlxOx_nr.js"),[]),"/modules/til/editor/how-to-go-to-line-in-vscode.md":()=>W(()=>import("./how-to-go-to-line-in-vscode-SWRDgmR8.js"),[]),"/modules/til/editor/learn-vim.md":()=>W(()=>import("./learn-vim-DvywFhmG.js"),[]),"/modules/til/editor/neovim.md":()=>W(()=>import("./neovim-iK2x5q5Y.js"),[]),"/modules/til/editor/vscode-language-extensions.md":()=>W(()=>import("./vscode-language-extensions-n_MlieKU.js"),[]),"/modules/til/education/taxonomy-of-bloom.md":()=>W(()=>import("./taxonomy-of-bloom-Cc6iLZZu.js"),[]),"/modules/til/experience/garden9-2023/index.md":()=>W(()=>import("./index-PZaN5a4g.js"),[]),"/modules/til/firebase/remote-config.md":()=>W(()=>import("./remote-config-CVMCM9-9.js"),[]),"/modules/til/flutter/add-flavor.md":()=>W(()=>import("./add-flavor-ewgSH4uh.js"),[]),"/modules/til/flutter/assert.md":()=>W(()=>import("./assert-D5plrnlA.js"),[]),"/modules/til/flutter/basic-handling-errors.md":()=>W(()=>import("./basic-handling-errors-CgLSFrsF.js"),[]),"/modules/til/flutter/cocoapod.md":()=>W(()=>import("./cocoapod-Bfnt-glG.js"),[]),"/modules/til/flutter/final-and-const.md":()=>W(()=>import("./final-and-const-4mprWXcV.js"),[]),"/modules/til/flutter/flutter-method-channel.md":()=>W(()=>import("./flutter-method-channel-GqQnFnsC.js"),[]),"/modules/til/flutter/flutterflow.md":()=>W(()=>import("./flutterflow-BnIYDrZM.js"),[]),"/modules/til/flutter/future-and-stream.md":()=>W(()=>import("./future-and-stream-BLoAc-_E.js"),[]),"/modules/til/flutter/how-to-go-store.md":()=>W(()=>import("./how-to-go-store-ClMtTFCN.js"),[]),"/modules/til/flutter/learning-dart.md":()=>W(()=>import("./learning-dart-BRmdjETX.js"),[]),"/modules/til/flutter/lifecycle.md":()=>W(()=>import("./lifecycle-Da2_ZXkK.js"),[]),"/modules/til/flutter/replace-entry-point-with-cli.md":()=>W(()=>import("./replace-entry-point-with-cli-BBAFXIwz.js"),[]),"/modules/til/flutter/sealed-class.md":()=>W(()=>import("./sealed-class-BiAUBoUa.js"),[]),"/modules/til/flutter/tip-for-web-developer.md":()=>W(()=>import("./tip-for-web-developer-BYnXMS9f.js"),[]),"/modules/til/flutter/typedef.md":()=>W(()=>import("./typedef-BBlsyBJN.js"),[]),"/modules/til/frontend/microinteraction.md":()=>W(()=>import("./microinteraction-BDbrvCMv.js"),[]),"/modules/til/frontend_framework/action-of-nextjs.md":()=>W(()=>import("./action-of-nextjs-CgGFnwH2.js"),[]),"/modules/til/frontend_framework/difference-between-csrand-ssr.md":()=>W(()=>import("./difference-between-csrand-ssr-o-XN1V3p.js"),[]),"/modules/til/frontend_framework/docusaurus.md":()=>W(()=>import("./docusaurus-DrEmumoV.js"),[]),"/modules/til/frontend_framework/how-to-use-browserslist-on-nextjs.md":()=>W(()=>import("./how-to-use-browserslist-on-nextjs-DK9GEQqT.js"),[]),"/modules/til/frontend_framework/nextjs-v14-summary.md":()=>W(()=>import("./nextjs-v14-summary-BmxkWjGw.js"),[]),"/modules/til/frontend_framework/nextjs.md":()=>W(()=>import("./nextjs-Df_HTJXk.js"),[]),"/modules/til/functional_programing/algebraic-data-type.md":()=>W(()=>import("./algebraic-data-type-CvmVBYn0.js"),[]),"/modules/til/functional_programing/map.md":()=>W(()=>import("./map-Bg7qrhP-.js"),[]),"/modules/til/functional_programing/patial-application.md":()=>W(()=>import("./patial-application-BELxe_LC.js"),[]),"/modules/til/functional_programing/point-free-style.md":()=>W(()=>import("./point-free-style-CaSOzkcJ.js"),[]),"/modules/til/git/checkout-previous-branch.md":()=>W(()=>import("./checkout-previous-branch-6pat7Mtm.js"),[]),"/modules/til/git/creating-branch-from-commit.md":()=>W(()=>import("./creating-branch-from-commit-DPS6K0Yc.js"),[]),"/modules/til/git/force-with-lease-option.md":()=>W(()=>import("./force-with-lease-option-Ddbws4ia.js"),[]),"/modules/til/git/git-bisect-command.md":()=>W(()=>import("./git-bisect-command-Bq2KcNjj.js"),[]),"/modules/til/git/gitmoji.md":()=>W(()=>import("./gitmoji-DDJivTWV.js"),[]),"/modules/til/git/how-to-initialize-all-changes.md":()=>W(()=>import("./how-to-initialize-all-changes-B9ktTpyj.js"),[]),"/modules/til/git/how-to-use-two-accounts.md":()=>W(()=>import("./how-to-use-two-accounts-B5-Z6V45.js"),[]),"/modules/til/git/import-only-one-file-from-a-stash.md":()=>W(()=>import("./import-only-one-file-from-a-stash-Hbzc1hdI.js"),[]),"/modules/til/git/key-commit-message-abbreviations.md":()=>W(()=>import("./key-commit-message-abbreviations-u_DHoGnF.js"),[]),"/modules/til/git/lightweight-tag-and-annotated-tag.md":()=>W(()=>import("./lightweight-tag-and-annotated-tag-CV_IAhM_.js"),[]),"/modules/til/git/resurrection-of-commit.md":()=>W(()=>import("./resurrection-of-commit-DywV_eRv.js"),[]),"/modules/til/git/submodule.md":()=>W(()=>import("./submodule-BWMF1bcg.js"),[]),"/modules/til/git/switch.md":()=>W(()=>import("./switch-DVCFT4D_.js"),[]),"/modules/til/github/how-to-search-for-repo-using-public-api.md":()=>W(()=>import("./how-to-search-for-repo-using-public-api-CFUuU5Lw.js"),[]),"/modules/til/graphql/thinking-in-graphs.md":()=>W(()=>import("./thinking-in-graphs-DGlj9zbz.js"),[]),"/modules/til/html/basic.md":()=>W(()=>import("./basic-BhJpfyiX.js"),[]),"/modules/til/html/good-image-files-on-the-web-SVG.md":()=>W(()=>import("./good-image-files-on-the-web-SVG-CDWxe7UA.js"),[]),"/modules/til/html/lazy-loading.md":()=>W(()=>import("./lazy-loading-DYEIx6iP.js"),[]),"/modules/til/html/meta-tag-charset.md":()=>W(()=>import("./meta-tag-charset-CK4CNa7-.js"),[]),"/modules/til/html/new-html-element-search.md":()=>W(()=>import("./new-html-element-search-h5Ku3eCH.js"),[]),"/modules/til/html/picture.md":()=>W(()=>import("./picture-CIJMBeut.js"),[]),"/modules/til/html/popover-attribute.md":()=>W(()=>import("./popover-attribute-CMD7nXuW.js"),[]),"/modules/til/html/pre-tag.md":()=>W(()=>import("./pre-tag-ogx8fxbw.js"),[]),"/modules/til/http/basic.md":()=>W(()=>import("./basic-Bao_cAuf.js"),[]),"/modules/til/javascript/ECMAScript-2023.md":()=>W(()=>import("./ECMAScript-2023-DCMru32R.js"),[]),"/modules/til/javascript/canvas-api.md":()=>W(()=>import("./canvas-api-BtW_t935.js"),[]),"/modules/til/javascript/closure.md":()=>W(()=>import("./closure-BAFhK_6c.js"),[]),"/modules/til/javascript/custom-event.md":()=>W(()=>import("./custom-event-D60Gb2Xy.js"),[]),"/modules/til/javascript/document-animate.md":()=>W(()=>import("./document-animate-DlMzM46N.js"),[]),"/modules/til/javascript/iterable.md":()=>W(()=>import("./iterable-fJflarmV.js"),[]),"/modules/til/javascript/performance-comparison-of-array.find-and-array.indexOf.md":()=>W(()=>import("./performance-comparison-of-array.find-and-array.indexOf-I9UyBl1L.js"),[]),"/modules/til/javascript/promise-all-settled-and-promise-all.md":()=>W(()=>import("./promise-all-settled-and-promise-all-B4UDvtIu.js"),[]),"/modules/til/javascript/proxy-grammar.md":()=>W(()=>import("./proxy-grammar-D2N5y8z2.js"),[]),"/modules/til/javascript/shallow-merge-and-deep-merge.md":()=>W(()=>import("./shallow-merge-and-deep-merge-NW2lF-zy.js"),[]),"/modules/til/javascript/the-easiest-way-to-create-uuid-in-js.md":()=>W(()=>import("./the-easiest-way-to-create-uuid-in-js-CrWtVghs.js"),[]),"/modules/til/library/framer-motion.md":()=>W(()=>import("./framer-motion-BzZcsU2R.js"),[]),"/modules/til/library/how-to-change-default-url-in-next-auth.md":()=>W(()=>import("./how-to-change-default-url-in-next-auth-B6FJ9nRJ.js"),[]),"/modules/til/mobile/android-icon-name.md":()=>W(()=>import("./android-icon-name-BsKCkAM-.js"),[]),"/modules/til/network/DNS-domain-name-system.md":()=>W(()=>import("./DNS-domain-name-system-D3954eXk.js"),[]),"/modules/til/network/abortController.md":()=>W(()=>import("./abortController-BF9rRQdL.js"),[]),"/modules/til/network/cookie.md":()=>W(()=>import("./cookie-ALeyaCVg.js"),[]),"/modules/til/opensource/code_of_conduct.md":()=>W(()=>import("./code_of_conduct-DEOtdBC8.js"),[]),"/modules/til/opensource/open-source-initiative.md":()=>W(()=>import("./open-source-initiative-BNS0DeAi.js"),[]),"/modules/til/package/automatically-sink-the-node-version-using-nvmrc.md":()=>W(()=>import("./automatically-sink-the-node-version-using-nvmrc-CUg9tCLK.js"),[]),"/modules/til/package/basic-yarn-berry.md":()=>W(()=>import("./basic-yarn-berry-D_Fgi77q.js"),[]),"/modules/til/php/basic.md":()=>W(()=>import("./basic-C5lponYZ.js"),[]),"/modules/til/react/how-to-check-children-in-react-component.md":()=>W(()=>import("./how-to-check-children-in-react-component-BwPybKoc.js"),[]),"/modules/til/react/how-to-use-beforeunload.md":()=>W(()=>import("./how-to-use-beforeunload-Cpm5gWDi.js"),[]),"/modules/til/react/overuse-of-useMemo-and-useCallback.md":()=>W(()=>import("./overuse-of-useMemo-and-useCallback-qZPBBMF4.js"),[]),"/modules/til/react/react-server-component.md":()=>W(()=>import("./react-server-component-DWuIHC1x.js"),[]),"/modules/til/react/relay.md":()=>W(()=>import("./relay-Bh-qvPiw.js"),[]),"/modules/til/react/the-difference-between-useEffect-and-useLayoutEffect.md":()=>W(()=>import("./the-difference-between-useEffect-and-useLayoutEffect-BbQs1lz4.js"),[]),"/modules/til/react/what-is-new-in-react-19.md":()=>W(()=>import("./what-is-new-in-react-19-Bryev5x8.js"),[]),"/modules/til/react_native/index.md":()=>W(()=>import("./index-DgvZms6i.js"),[]),"/modules/til/react_native/metro.md":()=>W(()=>import("./metro-CJLYxYms.js"),[]),"/modules/til/scala/basic.md":()=>W(()=>import("./basic-BK9U03zX.js"),[]),"/modules/til/software_engineering/refactoring-with-the-separation-of-oncerns-rinciple.md":()=>W(()=>import("./refactoring-with-the-separation-of-oncerns-rinciple-BI-xeHnb.js"),[]),"/modules/til/software_engineering/software-development-principles.md":()=>W(()=>import("./software-development-principles-WKeEgeo9.js"),[]),"/modules/til/svelte/how-does-svelte-work.md":()=>W(()=>import("./how-does-svelte-work-CFpEcBZQ.js"),[]),"/modules/til/tauri/about-tauri.md":()=>W(()=>import("./about-tauri-CARARGSl.js"),[]),"/modules/til/testing/false-positive-and-false-negative.md":()=>W(()=>import("./false-positive-and-false-negative-z3UwmpmY.js"),[]),"/modules/til/testing/monkey-testing-and-gorilla-testing.md":()=>W(()=>import("./monkey-testing-and-gorilla-testing-B-3dYF3Y.js"),[]),"/modules/til/testing/test-coverage.md":()=>W(()=>import("./test-coverage-1eBiPdeR.js"),[]),"/modules/til/typescript/create-utility-type-reverse.md":()=>W(()=>import("./create-utility-type-reverse-C6xyfU-D.js"),[]),"/modules/til/typescript/declaration-merging.md":()=>W(()=>import("./declaration-merging-C84y8-yA.js"),[]),"/modules/til/typescript/error-handling-with-typescript.md":()=>W(()=>import("./error-handling-with-typescript-CRjcvWax.js"),[]),"/modules/til/typescript/import-type-only.md":()=>W(()=>import("./import-type-only-bD98n1Qs.js"),[]),"/modules/til/typescript/keyword-satisfies-to-support-safe-upcast.md":()=>W(()=>import("./keyword-satisfies-to-support-safe-upcast-ti5vw9gY.js"),[]),"/modules/til/typescript/numerical-string-type.md":()=>W(()=>import("./numerical-string-type-B5Kp6adm.js"),[]),"/modules/til/typescript/tagged-union-type.md":()=>W(()=>import("./tagged-union-type-BqBflXsS.js"),[]),"/modules/til/typescript/ts-ignore-and-ts-expect-error.md":()=>W(()=>import("./ts-ignore-and-ts-expect-error-D5rg1Nuo.js"),[]),"/modules/til/typescript/ts-pattern.md":()=>W(()=>import("./ts-pattern-x6DpSA39.js"),[]),"/modules/til/typescript/typescript-infer-keyword.md":()=>W(()=>import("./typescript-infer-keyword-BC5yWD3B.js"),[]),"/modules/til/web/a11y.md":()=>W(()=>import("./a11y-uWn6DpJA.js"),[]),"/modules/til/web/designMode.md":()=>W(()=>import("./designMode-CwxtnayC.js"),[]),"/modules/til/web/how-does-the-internet-work.md":()=>W(()=>import("./how-does-the-internet-work-i1xDD9SH.js"),[]),"/modules/til/web/web-component.md":()=>W(()=>import("./web-component-Dr3tgX2m.js"),[]),"/modules/til/webassembly/index.md":()=>W(()=>import("./index-DcjfZEpW.js"),[])}),i=`/modules/til/${e}/${n}`;if(!r[i])throw new Error(`File not found: ${i}`);const s=await r[i]().then(o=>o.default);return console.log("content:",s),{content:s}},head:({params:t,loaderData:e})=>{const{category:n,slug:r}=t;return{title:`${n}/${r}`,meta:[{name:"description",content:e.content},{property:"og:title",content:"aasdsd"},{property:"og:description",content:e.content}]}}});function Axe(){const{content:t}=vO("/_layout/til/$category/$slug").useLoaderData();return ne.jsx("main",{className:"mx-auto flex justify-center",children:ne.jsx("section",{className:"rounded-2xl px-4 w-full break-all sm:max-w-screen-md pb-10",children:ne.jsx(Txe,{content:t})})})}const kxe=sa("/")(),og=UW.update({id:"/_layout",getParentRoute:()=>Qw}),A_=HW.update({id:"/_books",getParentRoute:()=>Qw}),Rxe=kxe.update({id:"/",path:"/",getParentRoute:()=>Qw}).lazy(()=>W(()=>import("./index.lazy-D7GkLzZE.js"),[]).then(t=>t.Route)),Pxe=DZ.update({id:"/projects",path:"/projects",getParentRoute:()=>og}),Lxe=rJ.update({id:"/interview",path:"/interview",getParentRoute:()=>og}),Ixe=lJ.update({id:"/careers",path:"/careers",getParentRoute:()=>og}),Dxe=Ane.update({id:"/til/",path:"/til/",getParentRoute:()=>og}),Oxe=Pne.update({id:"/projects/marketbom-pro",path:"/projects/marketbom-pro",getParentRoute:()=>A_}),Nxe=Dne.update({id:"/projects/hybrid-app-integration-framework-with-flutter",path:"/projects/hybrid-app-integration-framework-with-flutter",getParentRoute:()=>A_}),Bxe=Une.update({id:"/projects/foodspring",path:"/projects/foodspring",getParentRoute:()=>A_}),Fxe=Wne.update({id:"/projects/co-working-solution-cnaps",path:"/projects/co-working-solution-cnaps",getParentRoute:()=>A_}),zxe=Mxe.update({id:"/til/$category/$slug",path:"/til/$category/$slug",getParentRoute:()=>og}),Uxe={BooksProjectsCoWorkingSolutionCnapsRoute:Fxe,BooksProjectsFoodspringRoute:Bxe,BooksProjectsHybridAppIntegrationFrameworkWithFlutterRoute:Nxe,BooksProjectsMarketbomProRoute:Oxe},Vxe=A_._addFileChildren(Uxe),Hxe={LayoutCareersRoute:Ixe,LayoutInterviewRoute:Lxe,LayoutProjectsRoute:Pxe,LayoutTilIndexRoute:Dxe,LayoutTilCategorySlugRoute:zxe},Wxe=og._addFileChildren(Hxe),Gxe={IndexLazyRoute:Rxe,BooksRoute:Vxe,LayoutRoute:Wxe},$xe=Qw._addFileChildren(Gxe)._addFileTypes(),jxe=({size:t=40,color:e="text-gray-500"})=>ne.jsx("div",{className:"relative flex items-center justify-center",style:{width:t,height:t},children:Array.from({length:12}).map((n,r)=>ne.jsx("div",{className:`absolute w-[8%] h-[30%] bg-current rounded-full ${e} animate-fade`,style:{transform:`rotate(${r*30}deg) translateY(-50%)`,transformOrigin:"50% 100%",animationDelay:`${r*.1}s`}},r))}),qxe=()=>ne.jsx("main",{className:"absolute left-0 top-0 bg-background",children:ne.jsx("div",{className:"w-[100dvw] h-[100dvh] flex justify-center items-center",children:ne.jsx(jxe,{})})}),Xxe=()=>{const t=()=>{window.location.href="/"},e=()=>{window.location.href="https://github.com/gitsunmin/i/issues/new"};return ne.jsxs("main",{className:"flex flex-col items-center justify-center h-[100dvh] w-full gap-4",children:[ne.jsx("h1",{className:"text-2xl",children:"🙏 죄송합니다 🙏"}),ne.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[ne.jsxs("p",{className:"text-center",children:[ne.jsx("span",{className:"text-red-500",children:"에러가 발생하였습니다."}),ne.jsx("br",{})]}),ne.jsxs("div",{className:"flex gap-x-4",children:[ne.jsx(_0,{variant:"primary",onClick:t,children:"홈으로"}),ne.jsx(_0,{variant:"outline",onClick:e,children:"제보하기"})]})]})]})},Yxe=()=>{const t=()=>{window.location.href="/"};return ne.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-gray-100 dark:bg-neutral-900 text-gray-900 dark:text-white",children:[ne.jsxs("div",{className:"relative text-8xl font-bold flex gap-4",children:[ne.jsx("span",{className:"animate-bounce",children:"4"}),ne.jsx("span",{className:"animate-pulse",children:"0"}),ne.jsx("span",{className:"animate-bounce",children:"4"})]}),ne.jsx("h1",{className:"mt-6 text-2xl font-semibold text-center",children:"페이지를 찾을 수 없어요."}),ne.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-center mt-2",children:["요청하신 페이지가 존재하지 않아요. ",ne.jsx("br",{})," 주소를 확인해주세요."]}),ne.jsx(_0,{variant:"primary",className:"mt-6",onClick:t,children:"홈으로 가기"}),ne.jsx("div",{className:"absolute bottom-10 w-40 h-40 bg-blue-500/10 rounded-full blur-3xl"})]})},Kxe=N8({routeTree:$xe,basepath:"/"}),dO=document.getElementById("root");dO.innerHTML||D6.createRoot(dO).render(ne.jsx(Re.StrictMode,{children:ne.jsx(V8,{router:Kxe,defaultErrorComponent:Xxe,defaultNotFoundComponent:Yxe,defaultPendingComponent:qxe})}));export{SSe as $,ASe as A,h0 as B,Pl as C,ale as D,Z2 as E,Ka as F,lz as G,fge as H,_0e as I,mce as J,QD as K,ode as L,yD as M,gD as N,CSe as O,xSe as P,bSe as Q,wSe as R,_Se as S,Np as T,hn as U,B2 as V,ESe as W,vSe as X,MSe as Y,TSe as Z,F as _,tle as a,g4 as a$,bae as a0,ude as a1,Rm as a2,pSe as a3,rb as a4,rge as a5,y2 as a6,dSe as a7,I4 as a8,hge as a9,RSe as aA,r0e as aB,Qye as aC,Jye as aD,nye as aE,ade as aF,NW as aG,Qxe as aH,ne as aI,vi as aJ,YM as aK,Fm as aL,j1 as aM,Fce as aN,Bce as aO,fd as aP,ege as aQ,t5 as aR,J1 as aS,nb as aT,Fw as aU,r5 as aV,e5 as aW,Rme as aX,co as aY,Ihe as aZ,L2 as a_,Yae as aa,__ as ab,Jt as ac,on as ad,mae as ae,_z as af,kye as ag,iH as ah,LSe as ai,Yye as aj,Xi as ak,ng as al,k2 as am,D5 as an,tg as ao,c5 as ap,Qme as aq,$pe as ar,jme as as,H2 as at,aO as au,m0e as av,PSe as aw,ISe as ax,kSe as ay,Qt as az,ele as b,w_ as b0,v4 as b1,ySe as b2,Uoe as b3,I2 as b4,Xu as b5,uD as b6,Uhe as b7,Y0 as b8,Jme as b9,K4 as bA,BM as bB,tge as bC,tb as bD,W as bE,$me as ba,Lpe as bb,W2 as bc,Tme as bd,nge as be,E_ as bf,Qm as bg,Ow as bh,Bme as bi,z0e as bj,b_ as bk,Bw as bl,Pme as bm,X4 as bn,Ope as bo,Npe as bp,Cf as bq,LD as br,Bpe as bs,G2 as bt,Dpe as bu,Upe as bv,eg as bw,fh as bx,MD as by,$2 as bz,rr as c,nr as d,yz as e,ji as f,rle as g,Om as h,ed as i,Hce as j,Jm as k,Je as l,h5 as m,v_ as n,sle as o,ile as p,mSe as q,OSe as r,nle as s,DSe as t,Sl as u,gSe as v,mge as w,Qae as x,gce as y,Xye as z};
