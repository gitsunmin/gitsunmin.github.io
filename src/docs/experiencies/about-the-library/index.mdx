
# About The Library
(작성중인 컨텐츠 입니다.)

## 소개

먼저, 찾아주셔서 감사합니다.    
아래 글에서는 제가 경험하였던 라이브러리 개발에 대한 내용을 다루고 있습니다.   
개인적으로 라이브러리를 개발했던 경험 뿐만 아니라 회사에서 사내 전용 라이브러리 개발에 대한 간단한 팁도 공유해 보겠습니다.
 최대한 특정 프로그래밍 언어, 프레임워크에 의존하지 않고, **라이브러리**라는 주제에 집중하여 작성하였습니다. 공개되는 링크나 코드는 개인적인 경험을 바탕으로 작성된 것이며, 특정 회사의 정책이나 규정과는 무관합니다.   
다시 한 번, 해당 글을 읽어주셔서 감사합니다.

## 라이브러리란?

라이브러리(library)라는 단어는 본래 **도서관**이라는 뜻을 가지고 있습니다. 왜 이런 이름으로 부르게 되었을까요?   

![punched card](/src/docs/experiencies/about-the-library/punched-card.webp)

초기 컴퓨터 프로그래밍 환경에서는 위 이미지와 같은 펀치 카드를 이용해 프로그램을 작성해야 했습니다. 
이러한 환경에서는 자주 사용하는 코드 조각을 매번 새로 작성하는 것이 매우 비효율적이었습니다.   

그래서 개발자들은 자주 사용하는 코드 조각들을 모아두고, 필요할 때마다 꺼내 쓸 수 있도록 정리하기 시작했습니다.
이렇게 모아둔 코드 조각들은 마치 책을 보관하고 꺼내 읽는 도서관과 비슷한 구조를 가지고 있었습니다. 
이 도서관에서 책을 꺼내 읽듯이, 개발자들은 필요한 코드 조각을 꺼내어 사용할 수 있었습니다.
그렇게 재사용하기 위해 정리된 코드의 집합체가 바로 **라이브러리** 라고 불리게 된 것입니다.

라이브러리는 위와 같은 배경을 생각하면 어떻게 만들어야할지 감이 오실 겁니다.

- 다른 코드와 쉽게 통합되며, 재사용 가능 해야한다.
- 특정 기능을 수행하는 코드 조각들의 집합체여야 한다.
- 문서화가 잘 되어 있어야 한다.
- 다른 라이브러리로 교체하더라도 통합이 용이해야 한다.

[@gitsunmin/k-number](https://www.npmjs.com/package/@gitsunmin/k-number?activeTab=readme) 라이브러리는 숫자를 한글 수사로 변환하는 기능을 제공하는 라이브러리로서 간단하지만,
 명확한 기능을 가지고 있고, 다른 비슷한 라이브러리로 교체하더라도 쉽게 통합할 수 있도록 설계되었습니다.

## Troubleshooting

업무로서 혹은 개인적으로 라이브러리 개발을 하며 겪었던 문제들을 정리해 보았습니다.

### 회사의 모든 코드는 비공개입니다.

#### 문제
 사내에서 개발되며, 사내에서 사용되는 라이브러리를 개발한 경험이 있습니다. 회사의 정책 상 모든 코드는 비공개로 관리되어야 했습니다.
이러한 상황에서 라이브러리를 사용자에게 어떻게 배포해야 할지 고민이 많았습니다.

#### 원인 분석
 이미 과금이 필요한 라이브러리들을 사용해왔기 때문에, 비공개라는 것 자체에는 거부감이 없었습니다.
  다만, [npm](https://www.npmjs.com/)과 같은 패키지 매니저에서 제공하는 비공개 패키지 배포 기능을 사용하기에는 회사의 정책 상 어려움이 있었습니다.
촛점을 맞추어야할 곳은 라이브러리를 배포할 수 있는 비공개 공간이 필요하다는 점이었습니다.

#### 해결 방법
1. Sonatype Nexus Repository 사용하기   

 위와같은 문제를 해결하기 위해서 일반적으로 사용되는 방법은 [Sonatype Nexus Repository](https://help.sonatype.com/en/sonatype-nexus-repository.html)와 같은 패키지 레지스트리를 사용하는 것이었습니다.
Sonatype Nexus Repository은 다행히도 사내에서 직접 호스팅을 하여 사용할 수 있었기 때문에, 회사의 정책에 맞게 비공개 패키지를 배포할 수 있었습니다. 또한 특정 언어에 종속되지 않고, 다양한 언어의 패키지를 지원하기 때문에, PHP, JavaScript, Flutter 등 다양한 언어의 라이브러리를 관리할 수 있었습니다.

2. git submodule 사용하기

git에서 제공하는 [submodule](https://git-scm.com/book/ko/v2/Git-%EB%8F%84%EA%B5%AC-%EC%84%9C%EB%B8%8C%EB%AA%A8%EB%93%88)이란 기능을 사용하여, 라이브러리를 내부 git 저장소로 관리하고, 이를 다른 프로젝트에서 submodule로서 clone하여 사용할 수 있었습니다.
이 방법은 git의 태그 기능을 이용하여 특정 버전을 관리할 수 있었고, git의 버전 관리 기능을 그대로 사용할 수 있었습니다. 다만, git submodule은 다른 패키지 매니저와는 달리 의존성 관리가 어렵기 때문에, 특수한 경우에 사용하는 것이 좋습니다.

#### 참고사항
- Sonatype Nexus Repository를 직접 호스팅 하지는 않았지만, 호스팅된 Sonatype Nexus Repository를 사용하여 라이브러리를 배포하고 관리하는 것은 매우 유용했습니다.
- git submodule은 강한 의존성이 있고, 수정이 잦지 않은 코어 라이브러리에서 사용하는 것에 적합했던 경험을 가지고 있습니다.

### PHP 에서도 사용해야하는데...

#### 문제
#### 원인 분석
#### 해결 방법
#### 참고사항

### 테스트는 어떻게 해야하지?


#### 문제
#### 원인 분석
#### 해결 방법
#### 참고사항


## 버전 관리
라이브러리의 버전 관리는 매우 중요합니다.
CHANGELOG.md 파일을 작성하여, 라이브러리의 변경 사항을 기록하는 것이 좋습니다.

## 참고 자료